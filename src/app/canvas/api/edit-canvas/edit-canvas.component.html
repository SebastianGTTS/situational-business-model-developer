<div class="nav-scroller bg-white shadow-sm">
  <nav class="nav nav-underline" *ngIf="processApiService.runningProcess">
    <a class="nav-link"
       [routerLink]="['/', 'runningprocess', 'runningprocessview', processApiService.runningProcess._id]">
      {{processApiService.runningProcess.process.name}} &ndash; {{processApiService.runningProcess.name}}
    </a>
    <a
      class="nav-link"
      [routerLink]="['/', 'runningprocess', 'runningprocessview', processApiService.runningProcess._id, 'method', processApiService.runningMethod.executionId]">
      {{processApiService.runningMethod.methodName}}
    </a>
    <a
      class="nav-link active"
      [routerLink]="[]"
      [queryParams]="processApiService.queryParams">
      Edit Canvas
    </a>
  </nav>
</div>

<main *ngIf="instance" role="main" class="container">
  <app-instance
    [conformance]="conformance"
    [conformanceIsChecked]="conformanceIsChecked"
    [featureModel]="companyModel"
    [instance]="instance"
    [adaptable]="false"
    [updatable]="false"
    (updateFeatureModel)="updateCompanyModel()"></app-instance>

  <div class="my-3 p-3 bg-white rounded shadow-sm">
    <h6 class="border-bottom border-gray pb-2 mb-0">Conformance Check</h6>
    <div class="container">
      <div class="row" style="margin-top:20px;">
        <button
          type="button"
          *ngIf="!conformanceIsChecked"
          (click)="checkConformance()"
          class="btn btn-dark btn-sm btn-block">
          Activate Conformance Checking of Business Model
        </button>
        <button
          type="button"
          *ngIf="conformanceIsChecked"
          (click)="uncheckConformance()"
          class="btn btn-dark btn-sm btn-block">
          Deactivate Conformance Checking of Business Model
        </button>
      </div>
      <div *ngIf="conformanceIsChecked" style="margin-top:20px;">
        <div class="row">
          <div class="col">
            <h6>Errors</h6>
            <ul>
              <li *ngFor="let error of conformance.errors">{{error}}</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="my-3 p-3 bg-white rounded shadow-sm">
    <h6 class="border-bottom border-gray pb-2">Finish editing</h6>
    <button class="btn btn-sm btn-primary btn-block" (click)="finish()">Finish editing</button>
  </div>
</main>
