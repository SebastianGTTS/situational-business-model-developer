<div class="nav-scroller bg-white shadow-sm">
  <nav class="nav nav-underline" *ngIf="processApiService.runningProcess">
    <a class="nav-link"
       [routerLink]="['/', 'runningprocess', 'runningprocessview', processApiService.runningProcess._id]">
      {{processApiService.runningProcess.process.name}} &ndash; {{processApiService.runningProcess.name}}
    </a>
    <a
      class="nav-link"
      [routerLink]="['/', 'runningprocess', 'runningprocessview', processApiService.runningProcess._id, 'method', processApiService.runningMethod.executionId]">
      {{processApiService.runningMethod.methodName}}
    </a>
    <a
      class="nav-link active"
      [routerLink]="[]"
      [queryParams]="processApiService.queryParams">
      Compare Canvas
    </a>
  </nav>
</div>

<main *ngIf="instance" role="main" class="container">
  <app-instance
    [compareInstance]="compareInstance"
    [percentages]="percentages"
    [featureModel]="companyModel"
    [instance]="instance"
    [adaptable]="false"
    [updatable]="false"
    (updateFeatureModel)="updateCompanyModel()"></app-instance>

  <div class="my-3 p-3 bg-white rounded shadow-sm">
    <h6 class="border-bottom border-gray pb-2 mb-0">Compare</h6>
    <div class="text-muted pt-3">
      <app-instance-compare-form
        [companyModel]="companyModel"
        [currentlyComparing]="compareInstance != null"
        [competitors]="competitors"
        (compare)="compare($event.instance, $event.featureModelId)"
        (clearCompare)="clearCompare()"></app-instance-compare-form>
    </div>
  </div>

  <div class="my-3 p-3 bg-white rounded shadow-sm">
    <h6 class="border-bottom border-gray pb-2">Finish comparison</h6>
    <button class="btn btn-sm btn-primary btn-block" (click)="finish()">Finish comparison</button>
  </div>
</main>
