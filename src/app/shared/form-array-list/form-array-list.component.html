<div *ngFor="let control of formArray.controls; let index = index; let first = first; let last = last"
     class="form-group row">
  <label for="elementName" class="col-sm-4 col-form-label">{{ elementName }}</label>
  <div class="col-sm-8 input-group">
    <input #input type="text" [formControl]="asFormControl(control)" class="form-control"
           [class.is-invalid]="control.invalid" [ngbTypeahead]="search(input)" id="elementName"
           (click)="open.next([input, $any($event.target).value])"
           (focus)="open.next([input, $any($event.target).value])"
           aria-describedby="elementNameFeedback">
    <div class="input-group-append">
      <ng-container *ngIf="ordered">
        <button [disabled]="first" (click)="up(index)" class="btn btn-outline-secondary" type="button">
          Up
        </button>
        <button [disabled]="last" (click)="down(index)" class="btn btn-outline-secondary" type="button">
          Down
        </button>
      </ng-container>
      <button (click)="remove(index)" class="btn btn-outline-secondary" type="button">Remove</button>
    </div>
    <div id="elementNameFeedback" class="invalid-feedback">
      <span *ngIf="control.hasError('required')">This field is required.</span>
      <span *ngIf="!control.hasError('required') && control.hasError('lowercase')">
        The name of the element should consist of letters only and be written in lower case.
      </span>
    </div>
  </div>
</div>
<div class="d-flex">
  <button (click)="add()" type="button" class="btn btn-secondary ml-auto">Add {{ elementName }}</button>
</div>
