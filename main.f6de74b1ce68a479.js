var ELe=Object.defineProperty,TLe=Object.defineProperties,PLe=Object.getOwnPropertyDescriptors,uV=Object.getOwnPropertySymbols,DLe=Object.prototype.hasOwnProperty,FLe=Object.prototype.propertyIsEnumerable,dV=(at,Ke,E)=>Ke in at?ELe(at,Ke,{enumerable:!0,configurable:!0,writable:!0,value:E}):at[Ke]=E,Zc=(at,Ke)=>{for(var E in Ke||(Ke={}))DLe.call(Ke,E)&&dV(at,E,Ke[E]);if(uV)for(var E of uV(Ke))FLe.call(Ke,E)&&dV(at,E,Ke[E]);return at},Y_=(at,Ke)=>TLe(at,PLe(Ke));(self.webpackChunkbmdl_modeler=self.webpackChunkbmdl_modeler||[]).push([[179],{394:(at,Ke,E)=>{"use strict";function O(t){return"function"==typeof t}let be=!1;const A={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const n=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+n.stack)}else be&&console.log("RxJS: Back to a better error behavior. Thank you. <3");be=t},get useDeprecatedSynchronousErrorHandling(){return be}};function ce(t){setTimeout(()=>{throw t},0)}const Te={closed:!0,next(t){},error(t){if(A.useDeprecatedSynchronousErrorHandling)throw t;ce(t)},complete(){}},oe=Array.isArray||(t=>t&&"number"==typeof t.length);function I(t){return null!==t&&"object"==typeof t}const M=(()=>{function t(n){return Error.call(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n,this}return t.prototype=Object.create(Error.prototype),t})();class C{constructor(n){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._ctorUnsubscribe=!0,this._unsubscribe=n)}unsubscribe(){let n;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:o,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof C)e.remove(this);else if(null!==e)for(let s=0;s<e.length;++s)e[s].remove(this);if(O(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(s){n=s instanceof M?_(s.errors):[s]}}if(oe(r)){let s=-1,a=r.length;for(;++s<a;){const l=r[s];if(I(l))try{l.unsubscribe()}catch(d){n=n||[],d instanceof M?n=n.concat(_(d.errors)):n.push(d)}}}if(n)throw new M(n)}add(n){let e=n;if(!n)return C.EMPTY;switch(typeof n){case"function":e=new C(n);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof C)){const r=e;e=new C,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof C){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[e]:o.push(e),e}remove(n){const e=this._subscriptions;if(e){const i=e.indexOf(n);-1!==i&&e.splice(i,1)}}}var t;function _(t){return t.reduce((n,e)=>n.concat(e instanceof M?e.errors:e),[])}C.EMPTY=((t=new C).closed=!0,t);const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class y extends C{constructor(n,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Te;break;case 1:if(!n){this.destination=Te;break}if("object"==typeof n){n instanceof y?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,n.add(this)):(this.syncErrorThrowable=!0,this.destination=new S(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new S(this,n,e,i)}}[m](){return this}static create(n,e,i){const o=new y(n,e,i);return o.syncErrorThrowable=!1,o}next(n){this.isStopped||this._next(n)}error(n){this.isStopped||(this.isStopped=!0,this._error(n))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(n){this.destination.next(n)}_error(n){this.destination.error(n),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:n}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this}}class S extends y{constructor(n,e,i,o){super(),this._parentSubscriber=n;let r,s=this;O(e)?r=e:e&&(r=e.next,i=e.error,o=e.complete,e!==Te&&(s=Object.create(e),O(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=r,this._error=i,this._complete=o}next(n){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;A.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}}error(n){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=A;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,n),this.unsubscribe()):(this.__tryOrUnsub(this._error,n),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=n,e.syncErrorThrown=!0):ce(n),this.unsubscribe();else{if(this.unsubscribe(),i)throw n;ce(n)}}}complete(){if(!this.isStopped){const{_parentSubscriber:n}=this;if(this._complete){const e=()=>this._complete.call(this._context);A.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?(this.__tryOrSetError(n,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(n,e){try{n.call(this._context,e)}catch(i){if(this.unsubscribe(),A.useDeprecatedSynchronousErrorHandling)throw i;ce(i)}}__tryOrSetError(n,e,i){if(!A.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(o){return A.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=o,n.syncErrorThrown=!0,!0):(ce(o),!0)}return!1}_unsubscribe(){const{_parentSubscriber:n}=this;this._context=null,this._parentSubscriber=null,n.unsubscribe()}}const F="function"==typeof Symbol&&Symbol.observable||"@@observable";function R(t){return t}function j(t){return 0===t.length?R:1===t.length?t[0]:function(e){return t.reduce((i,o)=>o(i),e)}}let X=(()=>{class t{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,o){const{operator:r}=this,s=function D(t,n,e){if(t){if(t instanceof y)return t;if(t[m])return t[m]()}return t||n||e?new y(t,n,e):new y(Te)}(e,i,o);if(s.add(r?r.call(s,this.source):this.source||A.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),A.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){A.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function b(t){for(;t;){const{closed:n,destination:e,isStopped:i}=t;if(n||i)return!1;t=e&&e instanceof y?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=ne(i))((o,r)=>{let s;s=this.subscribe(a=>{try{e(a)}catch(l){r(l),s&&s.unsubscribe()}},r,o)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[F](){return this}pipe(...e){return 0===e.length?this:j(e)(this)}toPromise(e){return new(e=ne(e))((i,o)=>{let r;this.subscribe(s=>r=s,s=>o(s),()=>i(r))})}}return t.create=n=>new t(n),t})();function ne(t){if(t||(t=A.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const Ae=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class Ge extends C{constructor(n,e){super(),this.subject=n,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const n=this.subject,e=n.observers;if(this.subject=null,!e||0===e.length||n.isStopped||n.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Ie extends y{constructor(n){super(n),this.destination=n}}let Oe=(()=>{class t extends X{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[m](){return new Ie(this)}lift(e){const i=new lt(this,this);return i.operator=e,i}next(e){if(this.closed)throw new Ae;if(!this.isStopped){const{observers:i}=this,o=i.length,r=i.slice();for(let s=0;s<o;s++)r[s].next(e)}}error(e){if(this.closed)throw new Ae;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,o=i.length,r=i.slice();for(let s=0;s<o;s++)r[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new Ae;this.isStopped=!0;const{observers:e}=this,i=e.length,o=e.slice();for(let r=0;r<i;r++)o[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new Ae;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new Ae;return this.hasError?(e.error(this.thrownError),C.EMPTY):this.isStopped?(e.complete(),C.EMPTY):(this.observers.push(e),new Ge(this,e))}asObservable(){const e=new X;return e.source=this,e}}return t.create=(n,e)=>new lt(n,e),t})();class lt extends Oe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){const{destination:e}=this;e&&e.next&&e.next(n)}error(n){const{destination:e}=this;e&&e.error&&this.destination.error(n)}complete(){const{destination:n}=this;n&&n.complete&&this.destination.complete()}_subscribe(n){const{source:e}=this;return e?this.source.subscribe(n):C.EMPTY}}function Je(t){return t&&"function"==typeof t.schedule}function Ze(t,n){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Mt(t,n))}}class Mt{constructor(n,e){this.project=n,this.thisArg=e}call(n,e){return e.subscribe(new It(n,this.project,this.thisArg))}}class It extends y{constructor(n,e,i){super(n),this.project=e,this.count=0,this.thisArg=i||this}_next(n){let e;try{e=this.project.call(this.thisArg,n,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const xt=t=>n=>{for(let e=0,i=t.length;e<i&&!n.closed;e++)n.next(t[e]);n.complete()},ue=function Ee(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),ge=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Fe(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const ee=t=>{if(t&&"function"==typeof t[F])return(t=>n=>{const e=t[F]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(n)})(t);if(ge(t))return xt(t);if(Fe(t))return(t=>n=>(t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,ce),n))(t);if(t&&"function"==typeof t[ue])return(t=>n=>{const e=t[ue]();for(;;){let i;try{i=e.next()}catch(o){return n.error(o),n}if(i.done){n.complete();break}if(n.next(i.value),n.closed)break}return"function"==typeof e.return&&n.add(()=>{e.return&&e.return()}),n})(t);{const e=`You provided ${I(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function fe(t,n){return new X(e=>{const i=new C;let o=0;return i.add(n.schedule(function(){o!==t.length?(e.next(t[o++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Le(t,n){return n?function pe(t,n){if(null!=t){if(function Pe(t){return t&&"function"==typeof t[F]}(t))return function Se(t,n){return new X(e=>{const i=new C;return i.add(n.schedule(()=>{const o=t[F]();i.add(o.subscribe({next(r){i.add(n.schedule(()=>e.next(r)))},error(r){i.add(n.schedule(()=>e.error(r)))},complete(){i.add(n.schedule(()=>e.complete()))}}))})),i})}(t,n);if(Fe(t))return function xe(t,n){return new X(e=>{const i=new C;return i.add(n.schedule(()=>t.then(o=>{i.add(n.schedule(()=>{e.next(o),i.add(n.schedule(()=>e.complete()))}))},o=>{i.add(n.schedule(()=>e.error(o)))}))),i})}(t,n);if(ge(t))return fe(t,n);if(function le(t){return t&&"function"==typeof t[ue]}(t)||"string"==typeof t)return function he(t,n){if(!t)throw new Error("Iterable cannot be null");return new X(e=>{const i=new C;let o;return i.add(()=>{o&&"function"==typeof o.return&&o.return()}),i.add(n.schedule(()=>{o=t[ue](),i.add(n.schedule(function(){if(e.closed)return;let r,s;try{const a=o.next();r=a.value,s=a.done}catch(a){return void e.error(a)}s?e.complete():(e.next(r),this.schedule())}))})),i})}(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,n):t instanceof X?t:new X(ee(t))}class Ye extends y{constructor(n){super(),this.parent=n}_next(n){this.parent.notifyNext(n)}_error(n){this.parent.notifyError(n),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class tt extends y{notifyNext(n){this.destination.next(n)}notifyError(n){this.destination.error(n)}notifyComplete(){this.destination.complete()}}function Ot(t,n){if(n.closed)return;if(t instanceof X)return t.subscribe(n);let e;try{e=ee(t)(n)}catch(i){n.error(i)}return e}function ht(t,n,e=Number.POSITIVE_INFINITY){return"function"==typeof n?i=>i.pipe(ht((o,r)=>Le(t(o,r)).pipe(Ze((s,a)=>n(o,s,r,a))),e)):("number"==typeof n&&(e=n),i=>i.lift(new ct(t,e)))}class ct{constructor(n,e=Number.POSITIVE_INFINITY){this.project=n,this.concurrent=e}call(n,e){return e.subscribe(new Dt(n,this.project,this.concurrent))}}class Dt extends tt{constructor(n,e,i=Number.POSITIVE_INFINITY){super(n),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)}_tryNext(n){let e;const i=this.index++;try{e=this.project(n,i)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(e)}_innerSub(n){const e=new Ye(this),i=this.destination;i.add(e);const o=Ot(n,e);o!==e&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(n){this.destination.next(n)}notifyComplete(){const n=this.buffer;this.active--,n.length>0?this._next(n.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function En(t=Number.POSITIVE_INFINITY){return ht(R,t)}function Ai(t,n){return n?fe(t,n):new X(xt(t))}function Pn(...t){let n=Number.POSITIVE_INFINITY,e=null,i=t[t.length-1];return Je(i)?(e=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===e&&1===t.length&&t[0]instanceof X?t[0]:En(n)(Ai(t,e))}function wi(){return function(n){return n.lift(new Yn(n))}}class Yn{constructor(n){this.connectable=n}call(n,e){const{connectable:i}=this;i._refCount++;const o=new xo(n,i),r=e.subscribe(o);return o.closed||(o.connection=i.connect()),r}}class xo extends y{constructor(n,e){super(n),this.connectable=e}_unsubscribe(){const{connectable:n}=this;if(!n)return void(this.connection=null);this.connectable=null;const e=n._refCount;if(e<=0)return void(this.connection=null);if(n._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,o=n._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()}}class Ho extends X{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let n=this._connection;return n||(this._isComplete=!1,n=this._connection=new C,n.add(this.source.subscribe(new Xr(this.getSubject(),this))),n.closed&&(this._connection=null,n=C.EMPTY)),n}refCount(){return wi()(this)}}const Cr=(()=>{const t=Ho.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Xr extends Ie{constructor(n,e){super(n),this.connectable=e}_error(n){this._unsubscribe(),super._error(n)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const n=this.connectable;if(n){this.connectable=null;const e=n._connection;n._refCount=0,n._subject=null,n._connection=null,e&&e.unsubscribe()}}}class oa{constructor(n,e){this.subjectFactory=n,this.selector=e}call(n,e){const{selector:i}=this,o=this.subjectFactory(),r=i(o).subscribe(n);return r.add(e.subscribe(o)),r}}function eu(){return new Oe}function ra(){return t=>wi()(function dr(t,n){return function(i){let o;if(o="function"==typeof t?t:function(){return t},"function"==typeof n)return i.lift(new oa(o,n));const r=Object.create(i,Cr);return r.source=i,r.subjectFactory=o,r}}(eu)(t))}function xi(t){for(let n in t)if(t[n]===xi)return n;throw Error("Could not find renamed property on target object.")}function Qr(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function gi(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(gi).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Jr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const _l=xi({__forward_ref__:xi});function Nn(t){return t.__forward_ref__=Nn,t.toString=function(){return gi(this())},t}function Rn(t){return vl(t)?t():t}function vl(t){return"function"==typeof t&&t.hasOwnProperty(_l)&&t.__forward_ref__===Nn}class si extends Error{constructor(n,e){super(function tu(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function In(t){return"string"==typeof t?t:null==t?"":String(t)}function no(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():In(t)}function mt(t,n){const e=n?` in ${n}`:"";throw new si(-201,`No provider for ${no(t)} found${e}`)}function Un(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}function it(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mn(t){return{providers:t.providers||[],imports:t.imports||[]}}function co(t){return Sr(t,Mo)||Sr(t,Us)}function Sr(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ps(t){return t&&(t.hasOwnProperty(Er)||t.hasOwnProperty(uc))?t[Er]:null}const Mo=xi({\u0275prov:xi}),Er=xi({\u0275inj:xi}),Us=xi({ngInjectableDef:xi}),uc=xi({ngInjectorDef:xi});var vn=(()=>((vn=vn||{})[vn.Default=0]="Default",vn[vn.Host=1]="Host",vn[vn.Self=2]="Self",vn[vn.SkipSelf=4]="SkipSelf",vn[vn.Optional=8]="Optional",vn))();let dc;function pr(t){const n=dc;return dc=t,n}function bl(t,n,e){const i=co(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&vn.Optional?null:void 0!==n?n:void mt(gi(t),"Injector")}function us(t){return{toString:t}.toString()}var Qo=(()=>((Qo=Qo||{})[Qo.OnPush=0]="OnPush",Qo[Qo.Default=1]="Default",Qo))(),de=(()=>(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(de||(de={})),de))();const Me="undefined"!=typeof globalThis&&globalThis,ze="undefined"!=typeof window&&window,dt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nt=Me||"undefined"!=typeof global&&global||ze||dt,Oi={},Bn=[],Nr=xi({\u0275cmp:xi}),Bf=xi({\u0275dir:xi}),Lf=xi({\u0275pipe:xi}),cw=xi({\u0275mod:xi}),yl=xi({\u0275fac:xi}),yp=xi({__NG_ELEMENT_ID__:xi});let l4=0;function He(t){return us(()=>{const e={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Qo.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Bn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||de.Emulated,id:"c",styles:t.styles||Bn,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,r=t.features,s=t.pipes;return i.id+=l4++,i.inputs=p4(t.inputs,e),i.outputs=p4(t.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(uw):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(u4):null,i})}function uw(t){return Zr(t)||function iu(t){return t[Bf]||null}(t)}function u4(t){return function Zu(t){return t[Lf]||null}(t)}const d4={};function On(t){return us(()=>{const n={type:t.type,bootstrap:t.bootstrap||Bn,declarations:t.declarations||Bn,imports:t.imports||Bn,exports:t.exports||Bn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(d4[t.id]=t.type),n})}function p4(t,n){if(null==t)return Oi;const e={};for(const i in t)if(t.hasOwnProperty(i)){let o=t[i],r=o;Array.isArray(o)&&(r=o[1],o=o[0]),e[o]=i,n&&(n[o]=r)}return e}const Qt=He;function Tr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Zr(t){return t[Nr]||null}function sa(t,n){const e=t[cw]||null;if(!e&&!0===n)throw new Error(`Type ${gi(t)} does not have '\u0275mod' property.`);return e}function wl(t){return Array.isArray(t)&&"object"==typeof t[1]}function ja(t){return Array.isArray(t)&&!0===t[1]}function mw(t){return 0!=(8&t.flags)}function Z_(t){return 2==(2&t.flags)}function e1(t){return 1==(1&t.flags)}function Ga(t){return null!==t.template}function gV(t){return 0!=(512&t[2])}function id(t,n){return t.hasOwnProperty(yl)?t[yl]:null}class bV{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Xt(){return f4}function f4(t){return t.type.prototype.ngOnChanges&&(t.setInput=wV),yV}function yV(){const t=g4(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===Oi)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function wV(t,n,e,i){const o=g4(t)||function xV(t,n){return t[h4]=n}(t,{previous:Oi,current:null}),r=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[e],l=s[a];r[a]=new bV(l&&l.currentValue,n,s===Oi),t[i]=n}Xt.ngInherit=!0;const h4="__ngSimpleChanges__";function g4(t){return t[h4]||null}let vw;function bw(){return void 0!==vw?vw:"undefined"!=typeof document?document:void 0}function Do(t){return!!t.listen}const _4={createRenderer:(t,n)=>bw()};function Jo(t){for(;Array.isArray(t);)t=t[0];return t}function t1(t,n){return Jo(n[t])}function ca(t,n){return Jo(n[t.index])}function yw(t,n){return t.data[n]}function Sp(t,n){return t[n]}function qs(t,n){const e=n[t];return wl(e)?e:e[0]}function b4(t){return 4==(4&t[2])}function ww(t){return 128==(128&t[2])}function ou(t,n){return null==n?null:t[n]}function y4(t){t[18]=0}function xw(t,n){t[5]+=n;let e=t,i=t[3];for(;null!==i&&(1===n&&1===e[5]||-1===n&&0===e[5]);)i[5]+=n,e=i,i=i[3]}const Gn={lFrame:D4(null),bindingsEnabled:!0};function x4(){return Gn.bindingsEnabled}function Rt(){return Gn.lFrame.lView}function Ci(){return Gn.lFrame.tView}function W(t){return Gn.lFrame.contextLView=t,t[8]}function mr(){let t=C4();for(;null!==t&&64===t.type;)t=t.parent;return t}function C4(){return Gn.lFrame.currentTNode}function Hf(){const t=Gn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function xl(t,n){const e=Gn.lFrame;e.currentTNode=t,e.isParent=n}function Cw(){return Gn.lFrame.isParent}function Mw(){Gn.lFrame.isParent=!1}function ds(){const t=Gn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function mc(){return Gn.lFrame.bindingIndex}function Ep(){return Gn.lFrame.bindingIndex++}function fc(t){const n=Gn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function S4(t){Gn.lFrame.inI18n=t}function jV(t,n){const e=Gn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Sw(n)}function Sw(t){Gn.lFrame.currentDirectiveIndex=t}function E4(){return Gn.lFrame.currentQueryIndex}function Tw(t){Gn.lFrame.currentQueryIndex=t}function VV(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function T4(t,n,e){if(e&vn.SkipSelf){let o=n,r=t;for(;!(o=o.parent,null!==o||e&vn.Host||(o=VV(r),null===o||(r=r[15],10&o.type))););if(null===o)return!1;n=o,t=r}const i=Gn.lFrame=P4();return i.currentTNode=n,i.lView=t,!0}function i1(t){const n=P4(),e=t[1];Gn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function P4(){const t=Gn.lFrame,n=null===t?null:t.child;return null===n?D4(t):n}function D4(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function F4(){const t=Gn.lFrame;return Gn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const A4=F4;function o1(){const t=F4();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ps(){return Gn.lFrame.selectedIndex}function ru(t){Gn.lFrame.selectedIndex=t}function Fo(){const t=Gn.lFrame;return yw(t.tView,t.selectedIndex)}function r1(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const r=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:h}=r;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-e,l),d&&((t.viewHooks||(t.viewHooks=[])).push(e,d),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,d)),null!=h&&(t.destroyHooks||(t.destroyHooks=[])).push(e,h)}}function s1(t,n,e){N4(t,n,3,e)}function a1(t,n,e,i){(3&t[2])===e&&N4(t,n,e,i)}function Pw(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function N4(t,n,e,i){const r=null!=i?i:-1,s=n.length-1;let a=0;for(let l=void 0!==i?65535&t[18]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(t[18]+=65536),(a<r||-1==r)&&(YV(t,e,n,l),t[18]=(4294901760&t[18])+l+2),l++}function YV(t,n,e,i){const o=e[i]<0,r=e[i+1],a=t[o?-e[i]:e[i]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class Uf{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function l1(t,n,e){const i=Do(t);let o=0;for(;o<e.length;){const r=e[o];if("number"==typeof r){if(0!==r)break;o++;const s=e[o++],a=e[o++],l=e[o++];i?t.setAttribute(n,a,l,s):n.setAttributeNS(s,a,l)}else{const s=r,a=e[++o];Fw(s)?i&&t.setProperty(n,s,a):i?t.setAttribute(n,s,a):n.setAttribute(s,a),o++}}return o}function R4(t){return 3===t||4===t||6===t}function Fw(t){return 64===t.charCodeAt(0)}function c1(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const o=n[i];"number"==typeof o?e=o:0===e||O4(t,e,o,null,-1===e||2===e?n[++i]:null)}}return t}function O4(t,n,e,i,o){let r=0,s=t.length;if(-1===n)s=-1;else for(;r<t.length;){const a=t[r++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=r-1;break}}}for(;r<t.length;){const a=t[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==o&&(t[r+1]=o));if(i===t[r+1])return void(t[r+2]=o)}r++,null!==i&&r++,null!==o&&r++}-1!==s&&(t.splice(s,0,n),r=s+1),t.splice(r++,0,e),null!==i&&t.splice(r++,0,i),null!==o&&t.splice(r++,0,o)}function B4(t){return-1!==t}function Tp(t){return 32767&t}function Pp(t,n){let e=function ZV(t){return t>>16}(t),i=n;for(;e>0;)i=i[15],e--;return i}let Aw=!0;function u1(t){const n=Aw;return Aw=t,n}let eH=0;function qf(t,n){const e=kw(t,n);if(-1!==e)return e;const i=n[1];i.firstCreatePass&&(t.injectorIndex=n.length,Iw(i.data,t),Iw(n,null),Iw(i.blueprint,null));const o=d1(t,n),r=t.injectorIndex;if(B4(o)){const s=Tp(o),a=Pp(o,n),l=a[1].data;for(let d=0;d<8;d++)n[r+d]=a[s+d]|l[s+d]}return n[r+8]=o,r}function Iw(t,n){t.push(0,0,0,0,0,0,0,0,n)}function kw(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function d1(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,o=n;for(;null!==o;){const r=o[1],s=r.type;if(i=2===s?r.declTNode:1===s?o[6]:null,null===i)return-1;if(e++,o=o[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function p1(t,n,e){!function tH(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(yp)&&(i=e[yp]),null==i&&(i=e[yp]=eH++);const o=255&i;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function G4(t,n,e){if(e&vn.Optional)return t;mt(n,"NodeInjector")}function V4(t,n,e,i){if(e&vn.Optional&&void 0===i&&(i=null),0==(e&(vn.Self|vn.Host))){const o=t[9],r=pr(void 0);try{return o?o.get(n,i,e&vn.Optional):bl(n,i,e&vn.Optional)}finally{pr(r)}}return G4(i,n,e)}function H4(t,n,e,i=vn.Default,o){if(null!==t){const r=function rH(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(yp)?t[yp]:void 0;return"number"==typeof n?n>=0?255&n:iH:n}(e);if("function"==typeof r){if(!T4(n,t,i))return i&vn.Host?G4(o,e,i):V4(n,e,i,o);try{const s=r(i);if(null!=s||i&vn.Optional)return s;mt(e)}finally{A4()}}else if("number"==typeof r){let s=null,a=kw(t,n),l=-1,d=i&vn.Host?n[16][6]:null;for((-1===a||i&vn.SkipSelf)&&(l=-1===a?d1(t,n):n[a+8],-1!==l&&q4(i,!1)?(s=n[1],a=Tp(l),n=Pp(l,n)):a=-1);-1!==a;){const h=n[1];if(z4(r,a,h.data)){const w=oH(a,n,e,s,i,d);if(w!==U4)return w}l=n[a+8],-1!==l&&q4(i,n[1].data[a+8]===d)&&z4(r,a,n)?(s=h,a=Tp(l),n=Pp(l,n)):a=-1}}}return V4(n,e,i,o)}const U4={};function iH(){return new Dp(mr(),Rt())}function oH(t,n,e,i,o,r){const s=n[1],a=s.data[t+8],h=m1(a,s,e,null==i?Z_(a)&&Aw:i!=s&&0!=(3&a.type),o&vn.Host&&r===a);return null!==h?$f(n,s,h,a):U4}function m1(t,n,e,i,o){const r=t.providerIndexes,s=n.data,a=1048575&r,l=t.directiveStart,h=r>>20,P=o?a+h:t.directiveEnd;for(let N=i?a:a+h;N<P;N++){const L=s[N];if(N<l&&e===L||N>=l&&L.type===e)return N}if(o){const N=s[l];if(N&&Ga(N)&&N.type===e)return l}return null}function $f(t,n,e,i){let o=t[e];const r=n.data;if(function XV(t){return t instanceof Uf}(o)){const s=o;s.resolving&&function We(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new si(-200,`Circular dependency in DI detected for ${t}${e}`)}(no(r[e]));const a=u1(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?pr(s.injectImpl):null;T4(t,i,vn.Default);try{o=t[e]=s.factory(void 0,r,t,i),n.firstCreatePass&&e>=i.directiveStart&&function WV(t,n,e){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:r}=n.type.prototype;if(i){const s=f4(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,o),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,r))}(e,r[e],n)}finally{null!==l&&pr(l),u1(a),s.resolving=!1,A4()}}return o}function z4(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function q4(t,n){return!(t&vn.Self||t&vn.Host&&n)}class Dp{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return H4(this._tNode,this._lView,n,i,e)}}function Ei(t){return us(()=>{const n=t.prototype.constructor,e=n[yl]||Nw(n),i=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==i;){const r=o[yl]||Nw(o);if(r&&r!==e)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function Nw(t){return vl(t)?()=>{const n=Nw(Rn(t));return n&&n()}:id(t)}function od(t){return function nH(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let o=0;for(;o<i;){const r=e[o];if(R4(r))break;if(0===r)o+=2;else if("number"==typeof r)for(o++;o<i&&"string"==typeof e[o];)o++;else{if(r===n)return e[o+1];o+=2}}}return null}(mr(),t)}const Ap="__parameters__";function kp(t,n,e){return us(()=>{const i=function Rw(t){return function(...e){if(t){const i=t(...e);for(const o in i)this[o]=i[o]}}}(n);function o(...r){if(this instanceof o)return i.apply(this,r),this;const s=new o(...r);return a.annotation=s,a;function a(l,d,h){const w=l.hasOwnProperty(Ap)?l[Ap]:Object.defineProperty(l,Ap,{value:[]})[Ap];for(;w.length<=h;)w.push(null);return(w[h]=w[h]||[]).push(s),l}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class kn{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=it({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const aH=new kn("AnalyzeForEntryComponents");function ua(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let i=t[e];Array.isArray(i)?(n===t&&(n=t.slice(0,e)),ua(i,n)):n!==t&&n.push(i)}return n}function Cl(t,n){t.forEach(e=>Array.isArray(e)?Cl(e,n):n(e))}function W4(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function f1(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Xf(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function $s(t,n,e){let i=Np(t,n);return i>=0?t[1|i]=e:(i=~i,function uH(t,n,e,i){let o=t.length;if(o==n)t.push(e,i);else if(1===o)t.push(i,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function Bw(t,n){const e=Np(t,n);if(e>=0)return t[1|e]}function Np(t,n){return function K4(t,n,e){let i=0,o=t.length>>e;for(;o!==i;){const r=i+(o-i>>1),s=t[r<<e];if(n===s)return r<<e;s>n?o=r:i=r+1}return~(o<<e)}(t,n,1)}const Kf={},jw="__NG_DI_FLAG__",g1="ngTempTokenPath",_H=/\n/gm,J4="__source",bH=xi({provide:String,useValue:xi});let Qf;function Z4(t){const n=Qf;return Qf=t,n}function yH(t,n=vn.Default){if(void 0===Qf)throw new si(203,"");return null===Qf?bl(t,void 0,n):Qf.get(t,n&vn.Optional?null:void 0,n)}function Ve(t,n=vn.Default){return(function nu(){return dc}()||yH)(Rn(t),n)}const wH=Ve;function Gw(t){const n=[];for(let e=0;e<t.length;e++){const i=Rn(t[e]);if(Array.isArray(i)){if(0===i.length)throw new si(900,"");let o,r=vn.Default;for(let s=0;s<i.length;s++){const a=i[s],l=xH(a);"number"==typeof l?-1===l?o=a.token:r|=l:o=a}n.push(Ve(o,r))}else n.push(Ve(i))}return n}function Jf(t,n){return t[jw]=n,t.prototype[jw]=n,t}function xH(t){return t[jw]}const _1=Jf(kp("Inject",t=>({token:t})),-1),au=Jf(kp("Optional"),8),Zf=Jf(kp("SkipSelf"),4);let b1;function Op(t){var n;return(null===(n=function Hw(){if(void 0===b1&&(b1=null,Nt.trustedTypes))try{b1=Nt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return b1}())||void 0===n?void 0:n.createHTML(t))||t}class rd{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class RH extends rd{getTypeName(){return"HTML"}}class OH extends rd{getTypeName(){return"Style"}}class BH extends rd{getTypeName(){return"Script"}}class LH extends rd{getTypeName(){return"URL"}}class jH extends rd{getTypeName(){return"ResourceURL"}}function Ws(t){return t instanceof rd?t.changingThisBreaksApplicationSecurity:t}function Ml(t,n){const e=l5(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}function l5(t){return t instanceof rd&&t.getTypeName()||null}function c5(t){const n=new $H(t);return function WH(){try{return!!(new window.DOMParser).parseFromString(Op(""),"text/html")}catch(t){return!1}}()?new qH(n):n}class qH{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Op(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class $H{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Op(n),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Op(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(n){const e=n.attributes;for(let o=e.length-1;0<o;o--){const s=e.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&n.removeAttribute(s)}let i=n.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const YH=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,XH=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function th(t){return(t=String(t)).match(YH)||t.match(XH)?t:"unsafe:"+t}function u5(t){return(t=String(t)).split(",").map(n=>th(n.trim())).join(", ")}function Sl(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function nh(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const d5=Sl("area,br,col,hr,img,wbr"),p5=Sl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m5=Sl("rp,rt"),zw=nh(d5,nh(p5,Sl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nh(m5,Sl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nh(m5,p5)),qw=Sl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$w=Sl("srcset"),f5=nh(qw,$w,Sl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),KH=Sl("script,style,template");class QH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!zw.hasOwnProperty(e))return this.sanitizedSomething=!0,!KH.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let o=0;o<i.length;o++){const r=i.item(o),s=r.name,a=s.toLowerCase();if(!f5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;qw[a]&&(l=th(l)),$w[a]&&(l=u5(l)),this.buf.push(" ",s,'="',h5(l),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();zw.hasOwnProperty(e)&&!d5.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(h5(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const JH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZH=/([^\#-~ |!])/g;function h5(t){return t.replace(/&/g,"&amp;").replace(JH,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(ZH,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let w1;function Ww(t){return"content"in t&&function eU(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var qi=(()=>((qi=qi||{})[qi.NONE=0]="NONE",qi[qi.HTML=1]="HTML",qi[qi.STYLE=2]="STYLE",qi[qi.SCRIPT=3]="SCRIPT",qi[qi.URL=4]="URL",qi[qi.RESOURCE_URL=5]="RESOURCE_URL",qi))();function Yw(t){const n=function ih(){const t=Rt();return t&&t[12]}();return n?n.sanitize(qi.URL,t)||"":Ml(t,"URL")?Ws(t):th(In(t))}const b5="__ngContext__";function ts(t,n){t[b5]=n}function Kw(t){const n=function oh(t){return t[b5]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Jw(t){return t.ngOriginalError}function _U(t,...n){t.error(...n)}class rh{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),i=function gU(t){return t&&t.ngErrorLogger||_U}(n);i(this._console,"ERROR",n),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Jw(n);for(;e&&Jw(e);)e=Jw(e);return e||null}}const yU=/^>|^->|<!--|-->|--!>|<!-$/g,wU=/(<|>)/;const TU=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nt))();function M5(t){return t.ownerDocument.defaultView}function El(t){return t instanceof Function?t():t}var Ys=(()=>((Ys=Ys||{})[Ys.Important=1]="Important",Ys[Ys.DashCase=2]="DashCase",Ys))();let Zw;function e2(t,n){return Zw(t,n)}function sh(t){const n=t[3];return ja(n)?n[3]:n}function t2(t){return D5(t[13])}function n2(t){return D5(t[4])}function D5(t){for(;null!==t&&!ja(t);)t=t[4];return t}function Lp(t,n,e,i,o){if(null!=i){let r,s=!1;ja(i)?r=i:wl(i)&&(s=!0,i=i[0]);const a=Jo(i);0===t&&null!==e?null==o?R5(n,e,a):sd(n,e,a,o||null,!0):1===t&&null!==e?sd(n,e,a,o||null,!0):2===t?H5(n,a,s):3===t&&n.destroyNode(a),null!=r&&function UU(t,n,e,i,o){const r=e[7];r!==Jo(e)&&Lp(n,t,i,r,o);for(let a=10;a<e.length;a++){const l=e[a];ah(l[1],l,t,n,i,r)}}(n,t,r,e,o)}}function o2(t,n){return Do(t)?t.createText(n):t.createTextNode(n)}function F5(t,n,e){Do(t)?t.setValue(n,e):n.textContent=e}function AU(t,n){return t.createComment(function C5(t){return t.replace(yU,n=>n.replace(wU,"\u200b$1\u200b"))}(n))}function r2(t,n,e){if(Do(t))return t.createElement(n,e);{const i=null!==e?function EV(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?t.createElement(n):t.createElementNS(i,n)}}function A5(t,n){const e=t[9],i=e.indexOf(n),o=n[3];1024&n[2]&&(n[2]&=-1025,xw(o,-1)),e.splice(i,1)}function s2(t,n){if(t.length<=10)return;const e=10+n,i=t[e];if(i){const o=i[17];null!==o&&o!==t&&A5(o,i),n>0&&(t[e-1][4]=i[4]);const r=f1(t,10+n);!function IU(t,n){ah(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(i[1],i);const s=r[19];null!==s&&s.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function I5(t,n){if(!(256&n[2])){const e=n[11];Do(e)&&e.destroyNode&&ah(t,n,e,3,null,null),function RU(t){let n=t[13];if(!n)return a2(t[1],t);for(;n;){let e=null;if(wl(n))e=n[13];else{const i=n[10];i&&(e=i)}if(!e){for(;n&&!n[4]&&n!==t;)wl(n)&&a2(n[1],n),n=n[3];null===n&&(n=t),wl(n)&&a2(n[1],n),e=n&&n[4]}n=e}}(n)}}function a2(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function jU(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const o=n[e[i]];if(!(o instanceof Uf)){const r=e[i+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){const a=o[r[s]],l=r[s+1];try{l.call(a)}finally{}}else try{r.call(o)}finally{}}}}(t,n),function LU(t,n){const e=t.cleanup,i=n[7];let o=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const s=e[r+1],a="function"==typeof s?s(n):Jo(n[s]),l=i[o=e[r+2]],d=e[r+3];"boolean"==typeof d?a.removeEventListener(e[r],l,d):d>=0?i[o=d]():i[o=-d].unsubscribe(),r+=2}else{const s=i[o=e[r+1]];e[r].call(s)}if(null!==i){for(let r=o+1;r<i.length;r++)i[r]();n[7]=null}}(t,n),1===n[1].type&&Do(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&ja(n[3])){e!==n[3]&&A5(e,n);const i=n[19];null!==i&&i.detachView(t)}}}function k5(t,n,e){return N5(t,n.parent,e)}function N5(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[0];if(2&i.flags){const o=t.data[i.directiveStart].encapsulation;if(o===de.None||o===de.Emulated)return null}return ca(i,e)}function sd(t,n,e,i,o){Do(t)?t.insertBefore(n,e,i,o):n.insertBefore(e,i,o)}function R5(t,n,e){Do(t)?t.appendChild(n,e):n.appendChild(e)}function O5(t,n,e,i,o){null!==i?sd(t,n,e,i,o):R5(t,n,e)}function x1(t,n){return Do(t)?t.parentNode(n):n.parentNode}function B5(t,n,e){return j5(t,n,e)}function L5(t,n,e){return 40&t.type?ca(t,e):null}let l2,j5=L5;function G5(t,n){j5=t,l2=n}function C1(t,n,e,i){const o=k5(t,i,n),r=n[11],a=B5(i.parent||n[6],i,n);if(null!=o)if(Array.isArray(e))for(let l=0;l<e.length;l++)O5(r,o,e[l],a,!1);else O5(r,o,e,a,!1);void 0!==l2&&l2(r,i,n,e,o)}function M1(t,n){if(null!==n){const e=n.type;if(3&e)return ca(n,t);if(4&e)return c2(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return M1(t,i);{const o=t[n.index];return ja(o)?c2(-1,o):Jo(o)}}if(32&e)return e2(n,t)()||Jo(t[n.index]);{const i=V5(t,n);return null!==i?Array.isArray(i)?i[0]:M1(sh(t[16]),i):M1(t,n.next)}}return null}function V5(t,n){return null!==n?t[16][6].projection[n.projection]:null}function c2(t,n){const e=10+t+1;if(e<n.length){const i=n[e],o=i[1].firstChild;if(null!==o)return M1(i,o)}return n[7]}function H5(t,n,e){const i=x1(t,n);i&&function GU(t,n,e,i){Do(t)?t.removeChild(n,e,i):n.removeChild(e)}(t,i,n,e)}function u2(t,n,e,i,o,r,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===n&&(a&&ts(Jo(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)u2(t,n,e.child,i,o,r,!1),Lp(n,t,o,a,r);else if(32&l){const d=e2(e,i);let h;for(;h=d();)Lp(n,t,o,h,r);Lp(n,t,o,a,r)}else 16&l?U5(t,n,i,e,o,r):Lp(n,t,o,a,r);e=s?e.projectionNext:e.next}}function ah(t,n,e,i,o,r){u2(e,i,t.firstChild,n,o,r,!1)}function U5(t,n,e,i,o,r){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)Lp(n,t,o,l[d],r);else u2(t,n,l,s[3],o,r,!0)}function z5(t,n,e){Do(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function d2(t,n,e){Do(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function q5(t,n,e){let i=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const r=n.length;if(o+r===i||t.charCodeAt(o+r)<=32)return o}e=o+1}}const $5="ng-template";function qU(t,n,e){let i=0;for(;i<t.length;){let o=t[i++];if(e&&"class"===o){if(o=t[i],-1!==q5(o.toLowerCase(),n,0))return!0}else if(1===o){for(;i<t.length&&"string"==typeof(o=t[i++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function W5(t){return 4===t.type&&t.value!==$5}function $U(t,n,e){return n===(4!==t.type||e?t.value:$5)}function WU(t,n,e){let i=4;const o=t.attrs||[],r=function KU(t){for(let n=0;n<t.length;n++)if(R4(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!$U(t,l,e)||""===l&&1===n.length){if(Va(i))return!1;s=!0}}else{const d=8&i?l:n[++a];if(8&i&&null!==t.attrs){if(!qU(t.attrs,d,e)){if(Va(i))return!1;s=!0}continue}const w=YU(8&i?"class":l,o,W5(t),e);if(-1===w){if(Va(i))return!1;s=!0;continue}if(""!==d){let P;P=w>r?"":o[w+1].toLowerCase();const N=8&i?P:null;if(N&&-1!==q5(N,d,0)||2&i&&d!==P){if(Va(i))return!1;s=!0}}}}else{if(!s&&!Va(i)&&!Va(l))return!1;if(s&&Va(l))continue;s=!1,i=l|1&i}}return Va(i)||s}function Va(t){return 0==(1&t)}function YU(t,n,e,i){if(null===n)return-1;let o=0;if(i||!e){let r=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)r=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=r?1:2}return-1}return function QU(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function Y5(t,n,e=!1){for(let i=0;i<n.length;i++)if(WU(t,n[i],e))return!0;return!1}function JU(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let o=0;o<t.length;o++)if(t[o]!==i[o])continue e;return!0}}return!1}function X5(t,n){return t?":not("+n.trim()+")":n}function ZU(t){let n=t[0],e=1,i=2,o="",r=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&i){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?o+="."+s:4&i&&(o+=" "+s);else""!==o&&!Va(s)&&(n+=X5(r,o),o=""),i=s,r=r||!Va(i);e++}return""!==o&&(n+=X5(r,o)),n}const Vn={};function p(t){K5(Ci(),Rt(),ps()+t,!1)}function K5(t,n,e,i){if(!i)if(3==(3&n[2])){const r=t.preOrderCheckHooks;null!==r&&s1(n,r,e)}else{const r=t.preOrderHooks;null!==r&&a1(n,r,0,e)}ru(e)}function S1(t,n){return t<<17|n<<2}function Ha(t){return t>>17&32767}function p2(t){return 2|t}function hc(t){return(131068&t)>>2}function m2(t,n){return-131069&t|n<<2}function f2(t){return 1|t}function aT(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i],r=e[i+1];if(-1!==r){const s=t.data[r];Tw(o),s.contentQueries(2,n[r],r)}}}function lh(t,n,e,i,o,r,s,a,l,d){const h=n.blueprint.slice();return h[0]=o,h[2]=140|i,y4(h),h[3]=h[15]=t,h[8]=e,h[10]=s||t&&t[10],h[11]=a||t&&t[11],h[12]=l||t&&t[12]||null,h[9]=d||t&&t[9]||null,h[6]=r,h[16]=2==n.type?t[16]:h,h}function jp(t,n,e,i,o){let r=t.data[n];if(null===r)r=C2(t,n,e,i,o),function LV(){return Gn.lFrame.inI18n}()&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=o;const s=Hf();r.injectorIndex=null===s?-1:s.injectorIndex}return xl(r,!0),r}function C2(t,n,e,i,o){const r=C4(),s=Cw(),l=t.data[n]=function _z(t,n,e,i,o,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?r:r&&r.parent,e,n,i,o);return null===t.firstChild&&(t.firstChild=l),null!==r&&(s?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}function Gp(t,n,e,i){if(0===e)return-1;const o=n.length;for(let r=0;r<e;r++)n.push(i),t.blueprint.push(i),t.data.push(null);return o}function ch(t,n,e){i1(n);try{const i=t.viewQuery;null!==i&&I2(1,i,e);const o=t.template;null!==o&&lT(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&aT(t,n),t.staticViewQueries&&I2(2,t.viewQuery,e);const r=t.components;null!==r&&function fz(t,n){for(let e=0;e<n.length;e++)Rz(t,n[e])}(n,r)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[2]&=-5,o1()}}function Vp(t,n,e,i){const o=n[2];if(256!=(256&o)){i1(n);try{y4(n),function M4(t){return Gn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&lT(t,n,e,2,i);const s=3==(3&o);if(s){const d=t.preOrderCheckHooks;null!==d&&s1(n,d,null)}else{const d=t.preOrderHooks;null!==d&&a1(n,d,0,null),Pw(n,0)}if(function kz(t){for(let n=t2(t);null!==n;n=n2(n)){if(!n[2])continue;const e=n[9];for(let i=0;i<e.length;i++){const o=e[i],r=o[3];0==(1024&o[2])&&xw(r,1),o[2]|=1024}}}(n),function Iz(t){for(let n=t2(t);null!==n;n=n2(n))for(let e=10;e<n.length;e++){const i=n[e],o=i[1];ww(i)&&Vp(o,i,o.template,i[8])}}(n),null!==t.contentQueries&&aT(t,n),s){const d=t.contentCheckHooks;null!==d&&s1(n,d)}else{const d=t.contentHooks;null!==d&&a1(n,d,1),Pw(n,1)}!function pz(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)ru(~o);else{const r=o,s=e[++i],a=e[++i];jV(s,r),a(2,n[r])}}}finally{ru(-1)}}(t,n);const a=t.components;null!==a&&function mz(t,n){for(let e=0;e<n.length;e++)Nz(t,n[e])}(n,a);const l=t.viewQuery;if(null!==l&&I2(2,l,i),s){const d=t.viewCheckHooks;null!==d&&s1(n,d)}else{const d=t.viewHooks;null!==d&&a1(n,d,2),Pw(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-73,1024&n[2]&&(n[2]&=-1025,xw(n[3],-1))}finally{o1()}}}function hz(t,n,e,i){const o=n[10],s=b4(n);try{!s&&o.begin&&o.begin(),s&&ch(t,n,i),Vp(t,n,e,i)}finally{!s&&o.end&&o.end()}}function lT(t,n,e,i,o){const r=ps(),s=2&i;try{ru(-1),s&&n.length>20&&K5(t,n,20,!1),e(i,o)}finally{ru(r)}}function cT(t,n,e){if(mw(n)){const o=n.directiveEnd;for(let r=n.directiveStart;r<o;r++){const s=t.data[r];s.contentQueries&&s.contentQueries(1,e[r],r)}}}function M2(t,n,e){!x4()||(function Mz(t,n,e,i){const o=e.directiveStart,r=e.directiveEnd;t.firstCreatePass||qf(e,n),ts(i,n);const s=e.initialInputs;for(let a=o;a<r;a++){const l=t.data[a],d=Ga(l);d&&Dz(n,e,l);const h=$f(n,t,a,e);ts(h,n),null!==s&&Fz(0,a-o,h,l,0,s),d&&(qs(e.index,n)[8]=h)}}(t,n,e,ca(e,n)),128==(128&e.flags)&&function Sz(t,n,e){const i=e.directiveStart,o=e.directiveEnd,s=e.index,a=function GV(){return Gn.lFrame.currentDirectiveIndex}();try{ru(s);for(let l=i;l<o;l++){const d=t.data[l],h=n[l];Sw(l),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&_T(d,h)}}finally{ru(-1),Sw(a)}}(t,n,e))}function S2(t,n,e=ca){const i=n.localNames;if(null!==i){let o=n.index+1;for(let r=0;r<i.length;r+=2){const s=i[r+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function uT(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=P1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function P1(t,n,e,i,o,r,s,a,l,d){const h=20+i,w=h+o,P=function gz(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:Vn);return e}(h,w),N="function"==typeof d?d():d;return P[1]={type:t,blueprint:P,template:e,queries:null,viewQuery:a,declTNode:n,data:P.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:N,incompleteFirstPass:!1}}function mT(t,n,e,i){const o=CT(n);null===e?o.push(i):(o.push(e),t.firstCreatePass&&MT(t).push(i,o.length-1))}function fT(t,n,e){for(let i in t)if(t.hasOwnProperty(i)){const o=t[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(n,o):e[i]=[n,o]}return e}function Xs(t,n,e,i,o,r,s,a){const l=ca(n,e);let h,d=n.inputs;!a&&null!=d&&(h=d[i])?(TT(t,e,h,i,o),Z_(n)&&function yz(t,n){const e=qs(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(i=function bz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),o=null!=s?s(o,n.value||"",i):o,Do(r)?r.setProperty(l,i,o):Fw(i)||(l.setProperty?l.setProperty(i,o):l[i]=o))}function E2(t,n,e,i){let o=!1;if(x4()){const r=function Ez(t,n,e){const i=t.directiveRegistry;let o=null;if(i)for(let r=0;r<i.length;r++){const s=i[r];Y5(e,s.selectors,!1)&&(o||(o=[]),p1(qf(e,n),t,s.type),Ga(s)?(vT(t,e),o.unshift(s)):o.push(s))}return o}(t,n,e),s=null===i?null:{"":-1};if(null!==r){o=!0,bT(e,t.data.length,r.length);for(let h=0;h<r.length;h++){const w=r[h];w.providersResolver&&w.providersResolver(w)}let a=!1,l=!1,d=Gp(t,n,r.length,null);for(let h=0;h<r.length;h++){const w=r[h];e.mergedAttrs=c1(e.mergedAttrs,w.hostAttrs),yT(t,e,n,d,w),Pz(d,w,s),null!==w.contentQueries&&(e.flags|=8),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(e.flags|=128);const P=w.type.prototype;!a&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!l&&(P.ngOnChanges||P.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),l=!0),d++}!function vz(t,n){const i=n.directiveEnd,o=t.data,r=n.attrs,s=[];let a=null,l=null;for(let d=n.directiveStart;d<i;d++){const h=o[d],w=h.inputs,P=null===r||W5(n)?null:Az(w,r);s.push(P),a=fT(w,d,a),l=fT(h.outputs,d,l)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=l}(t,e)}s&&function Tz(t,n,e){if(n){const i=t.localNames=[];for(let o=0;o<n.length;o+=2){const r=e[n[o+1]];if(null==r)throw new si(-301,!1);i.push(n[o],r)}}}(e,i,s)}return e.mergedAttrs=c1(e.mergedAttrs,e.attrs),o}function gT(t,n,e,i,o,r){const s=r.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~n.index;(function Cz(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,o,s)}}function _T(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function vT(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Pz(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Ga(n)&&(e[""]=t)}}function bT(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function yT(t,n,e,i,o){t.data[i]=o;const r=o.factory||(o.factory=id(o.type)),s=new Uf(r,Ga(o),null);t.blueprint[i]=s,e[i]=s,gT(t,n,0,i,Gp(t,e,o.hostVars,Vn),o)}function Dz(t,n,e){const i=ca(n,t),o=uT(e),r=t[10],s=D1(t,lh(t,o,null,e.onPush?64:16,i,n,r,r.createRenderer(i,e),null,null));t[n.index]=s}function T2(t,n,e,i,o,r,s){if(null==r)Do(t)?t.removeAttribute(n,o,e):n.removeAttribute(o);else{const a=null==s?In(r):s(r,i||"",o);Do(t)?t.setAttribute(n,o,a,e):e?n.setAttributeNS(e,o,a):n.setAttribute(o,a)}}function Fz(t,n,e,i,o,r){const s=r[n];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const d=s[l++],h=s[l++],w=s[l++];null!==a?i.setInput(e,w,d,h):e[h]=w}}}function Az(t,n){let e=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,t[o],n[i+1])),i+=2}else i+=2;else i+=4}return e}function wT(t,n,e,i){return new Array(t,!0,!1,n,null,0,i,e,null,null)}function Nz(t,n){const e=qs(n,t);if(ww(e)){const i=e[1];80&e[2]?Vp(i,e,i.template,e[8]):e[5]>0&&P2(e)}}function P2(t){for(let i=t2(t);null!==i;i=n2(i))for(let o=10;o<i.length;o++){const r=i[o];if(1024&r[2]){const s=r[1];Vp(s,r,s.template,r[8])}else r[5]>0&&P2(r)}const e=t[1].components;if(null!==e)for(let i=0;i<e.length;i++){const o=qs(e[i],t);ww(o)&&o[5]>0&&P2(o)}}function Rz(t,n){const e=qs(n,t),i=e[1];(function Oz(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(i,e),ch(i,e,e[8])}function D1(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function D2(t){for(;t;){t[2]|=64;const n=sh(t);if(gV(t)&&!n)return t;t=n}return null}function xT(t){!function F2(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],i=Kw(e),o=i[1];hz(o,i,o.template,e)}}(t[8])}function I2(t,n,e){Tw(0),n(t,e)}const Lz=(()=>Promise.resolve(null))();function CT(t){return t[7]||(t[7]=[])}function MT(t){return t.cleanup||(t.cleanup=[])}function ET(t,n){const e=t[9],i=e?e.get(rh,null):null;i&&i.handleError(n)}function TT(t,n,e,i,o){for(let r=0;r<e.length;){const s=e[r++],a=e[r++],l=n[s],d=t.data[s];null!==d.setInput?d.setInput(l,o,i,a):l[a]=o}}function gc(t,n,e){const i=t1(n,t);F5(t[11],i,e)}function F1(t,n,e){let i=e?t.styles:null,o=e?t.classes:null,r=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?r=a:1==r?o=Jr(o,a):2==r&&(i=Jr(i,a+": "+n[++s]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=o:t.classesWithoutHost=o}const k2=new kn("INJECTOR",-1);class PT{get(n,e=Kf){if(e===Kf){const i=new Error(`NullInjectorError: No provider for ${gi(n)}!`);throw i.name="NullInjectorError",i}return e}}const N2=new kn("Set Injector scope."),uh={},Vz={};let R2;function DT(){return void 0===R2&&(R2=new PT),R2}function FT(t,n=null,e=null,i){const o=AT(t,n,e,i);return o._resolveInjectorDefTypes(),o}function AT(t,n=null,e=null,i){return new Hz(t,e,n||DT(),i)}class Hz{constructor(n,e,i,o=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Cl(e,a=>this.processProvider(a,n,e)),Cl([n],a=>this.processInjectorType(a,[],r)),this.records.set(k2,Hp(void 0,this));const s=this.records.get(N2);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof n?null:gi(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=Kf,i=vn.Default){this.assertNotDestroyed();const o=Z4(this),r=pr(void 0);try{if(!(i&vn.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function Kz(t){return"function"==typeof t||"object"==typeof t&&t instanceof kn}(n)&&co(n);a=l&&this.injectableDefInScope(l)?Hp(O2(n),uh):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(i&vn.Self?DT():this.parent).get(n,e=i&vn.Optional&&e===Kf?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[g1]=s[g1]||[]).unshift(gi(n)),o)throw s;return function CH(t,n,e,i){const o=t[g1];throw n[J4]&&o.unshift(n[J4]),t.message=function MH(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let o=gi(n);if(Array.isArray(n))o=n.map(gi).join(" -> ");else if("object"==typeof n){let r=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];r.push(s+":"+("string"==typeof a?JSON.stringify(a):gi(a)))}o=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${o}]: ${t.replace(_H,"\n  ")}`}("\n"+t.message,o,e,i),t.ngTokenPath=o,t[g1]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{pr(r),Z4(o)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((i,o)=>n.push(gi(o))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new si(205,!1)}processInjectorType(n,e,i){if(!(n=Rn(n)))return!1;let o=Ps(n);const r=null==o&&n.ngModule||void 0,s=void 0===r?n:r,a=-1!==i.indexOf(s);if(void 0!==r&&(o=Ps(r)),null==o)return!1;if(null!=o.imports&&!a){let h;i.push(s);try{Cl(o.imports,w=>{this.processInjectorType(w,e,i)&&(void 0===h&&(h=[]),h.push(w))})}finally{}if(void 0!==h)for(let w=0;w<h.length;w++){const{ngModule:P,providers:N}=h[w];Cl(N,L=>this.processProvider(L,P,N||Bn))}}this.injectorDefTypes.add(s);const l=id(s)||(()=>new s);this.records.set(s,Hp(l,uh));const d=o.providers;if(null!=d&&!a){const h=n;Cl(d,w=>this.processProvider(w,h,d))}return void 0!==r&&void 0!==n.providers}processProvider(n,e,i){let o=Up(n=Rn(n))?n:Rn(n&&n.provide);const r=function zz(t,n,e){return kT(t)?Hp(void 0,t.useValue):Hp(IT(t),uh)}(n);if(Up(n)||!0!==n.multi)this.records.get(o);else{let s=this.records.get(o);s||(s=Hp(void 0,uh,!0),s.factory=()=>Gw(s.multi),this.records.set(o,s)),o=n,s.multi.push(n)}this.records.set(o,r)}hydrate(n,e){return e.value===uh&&(e.value=Vz,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Xz(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=Rn(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function O2(t){const n=co(t),e=null!==n?n.factory:id(t);if(null!==e)return e;if(t instanceof kn)throw new si(204,!1);if(t instanceof Function)return function Uz(t){const n=t.length;if(n>0)throw Xf(n,"?"),new si(204,!1);const e=function lc(t){const n=t&&(t[Mo]||t[Us]);if(n){const e=function cc(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new si(204,!1)}function IT(t,n,e){let i;if(Up(t)){const o=Rn(t);return id(o)||O2(o)}if(kT(t))i=()=>Rn(t.useValue);else if(function $z(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Gw(t.deps||[]));else if(function qz(t){return!(!t||!t.useExisting)}(t))i=()=>Ve(Rn(t.useExisting));else{const o=Rn(t&&(t.useClass||t.provide));if(!function Yz(t){return!!t.deps}(t))return id(o)||O2(o);i=()=>new o(...Gw(t.deps))}return i}function Hp(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function kT(t){return null!==t&&"object"==typeof t&&bH in t}function Up(t){return"function"==typeof t}let po=(()=>{class t{static create(e,i){var o;if(Array.isArray(e))return FT({name:""},i,e,"");{const r=null!==(o=e.name)&&void 0!==o?o:"";return FT({name:r},e.parent,e.providers,r)}}}return t.THROW_IF_NOT_FOUND=Kf,t.NULL=new PT,t.\u0275prov=it({token:t,providedIn:"any",factory:()=>Ve(k2)}),t.__NG_ELEMENT_ID__=-1,t})();function oq(t,n){r1(Kw(t)[1],mr())}function mi(t){let n=function qT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let o;if(Ga(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new si(903,"");o=n.\u0275dir}if(o){if(e){i.push(o);const s=t;s.inputs=j2(t.inputs),s.declaredInputs=j2(t.declaredInputs),s.outputs=j2(t.outputs);const a=o.hostBindings;a&&lq(t,a);const l=o.viewQuery,d=o.contentQueries;if(l&&sq(t,l),d&&aq(t,d),Qr(t.inputs,o.inputs),Qr(t.declaredInputs,o.declaredInputs),Qr(t.outputs,o.outputs),Ga(o)&&o.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(o.data.animation)}}const r=o.features;if(r)for(let s=0;s<r.length;s++){const a=r[s];a&&a.ngInherit&&a(t),a===mi&&(e=!1)}}n=Object.getPrototypeOf(n)}!function rq(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const o=t[i];o.hostVars=n+=o.hostVars,o.hostAttrs=c1(o.hostAttrs,e=c1(e,o.hostAttrs))}}(i)}function j2(t){return t===Oi?{}:t===Bn?[]:t}function sq(t,n){const e=t.viewQuery;t.viewQuery=e?(i,o)=>{n(i,o),e(i,o)}:n}function aq(t,n){const e=t.contentQueries;t.contentQueries=e?(i,o,r)=>{n(i,o,r),e(i,o,r)}:n}function lq(t,n){const e=t.hostBindings;t.hostBindings=e?(i,o)=>{n(i,o),e(i,o)}:n}let A1=null;function zp(){if(!A1){const t=Nt.Symbol;if(t&&t.iterator)A1=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const i=n[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(A1=i)}}}return A1}function dh(t){return!!G2(t)&&(Array.isArray(t)||!(t instanceof Map)&&zp()in t)}function G2(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Pl(t,n,e){return t[n]=e}function ns(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function ad(t,n,e,i){const o=ns(t,n,e);return ns(t,n+1,i)||o}function I1(t,n,e,i,o){const r=ad(t,n,e,i);return ns(t,n+2,o)||r}function Mi(t,n,e,i){const o=Rt();return ns(o,Ep(),n)&&(Ci(),function Tl(t,n,e,i,o,r){const s=ca(t,n);T2(n[11],s,r,t.value,e,i,o)}(Fo(),o,t,n,e,i)),Mi}function $p(t,n,e,i){return ns(t,Ep(),e)?n+In(e)+i:Vn}function Wp(t,n,e,i,o,r){const a=ad(t,mc(),e,o);return fc(2),a?n+In(e)+i+In(o)+r:Vn}function Xp(t,n,e,i,o,r,s,a,l,d){const w=function da(t,n,e,i,o,r){const s=ad(t,n,e,i);return ad(t,n+2,o,r)||s}(t,mc(),e,o,s,l);return fc(4),w?n+In(e)+i+In(o)+r+In(s)+a+In(l)+d:Vn}function k(t,n,e,i,o,r,s,a){const l=Rt(),d=Ci(),h=t+20,w=d.firstCreatePass?function hq(t,n,e,i,o,r,s,a,l){const d=n.consts,h=jp(n,t,4,s||null,ou(d,a));E2(n,e,h,ou(d,l)),r1(n,h);const w=h.tViews=P1(2,h,i,o,r,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d);return null!==n.queries&&(n.queries.template(n,h),w.queries=n.queries.embeddedTView(h)),h}(h,d,l,n,e,i,o,r,s):d.data[h];xl(w,!1);const P=l[11].createComment("");C1(d,l,P,w),ts(P,l),D1(l,l[h]=wT(P,l,P,w)),e1(w)&&M2(d,l,w),null!=s&&S2(l,w,a)}function hn(t){return Sp(function BV(){return Gn.lFrame.contextLView}(),20+t)}function H(t,n=vn.Default){const e=Rt();return null===e?Ve(t,n):H4(mr(),e,Rn(t),n)}function q2(){throw new Error("invalid")}function v(t,n,e){const i=Rt();return ns(i,Ep(),n)&&Xs(Ci(),Fo(),i,t,n,i[11],e,!1),v}function $2(t,n,e,i,o){const s=o?"class":"style";TT(t,e,n.inputs[s],s,i)}function c(t,n,e,i){const o=Rt(),r=Ci(),s=20+t,a=o[11],l=o[s]=r2(a,n,function $V(){return Gn.lFrame.currentNamespace}()),d=r.firstCreatePass?function Oq(t,n,e,i,o,r,s){const a=n.consts,d=jp(n,t,2,o,ou(a,r));return E2(n,e,d,ou(a,s)),null!==d.attrs&&F1(d,d.attrs,!1),null!==d.mergedAttrs&&F1(d,d.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,d),d}(s,r,o,0,n,e,i):r.data[s];xl(d,!0);const h=d.mergedAttrs;null!==h&&l1(a,l,h);const w=d.classes;null!==w&&d2(a,l,w);const P=d.styles;return null!==P&&z5(a,l,P),64!=(64&d.flags)&&C1(r,o,l,d),0===function IV(){return Gn.lFrame.elementDepthCount}()&&ts(l,o),function kV(){Gn.lFrame.elementDepthCount++}(),e1(d)&&(M2(r,o,d),cT(r,d,o)),null!==i&&S2(o,d),c}function u(){let t=mr();Cw()?Mw():(t=t.parent,xl(t,!1));const n=t;!function NV(){Gn.lFrame.elementDepthCount--}();const e=Ci();return e.firstCreatePass&&(r1(e,t),mw(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function QV(t){return 0!=(16&t.flags)}(n)&&$2(e,n,Rt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function JV(t){return 0!=(32&t.flags)}(n)&&$2(e,n,Rt(),n.stylesWithoutHost,!1),u}function re(t,n,e,i){return c(t,n,e,i),u(),re}function St(t,n,e){const i=Rt(),o=Ci(),r=t+20,s=o.firstCreatePass?function Bq(t,n,e,i,o){const r=n.consts,s=ou(r,i),a=jp(n,t,8,"ng-container",s);return null!==s&&F1(a,s,!0),E2(n,e,a,ou(r,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(r,o,i,n,e):o.data[r];xl(s,!0);const a=i[r]=i[11].createComment("");return C1(o,i,a,s),ts(a,i),e1(s)&&(M2(o,i,s),cT(o,s,i)),null!=e&&S2(i,s),St}function Et(){let t=mr();const n=Ci();return Cw()?Mw():(t=t.parent,xl(t,!1)),n.firstCreatePass&&(r1(n,t),mw(t)&&n.queries.elementEnd(t)),Et}function za(t,n,e){return St(t,n,e),Et(),za}function ye(){return Rt()}function mh(t){return!!t&&"function"==typeof t.then}function d8(t){return!!t&&"function"==typeof t.subscribe}const W2=d8;function z(t,n,e,i){const o=Rt(),r=Ci(),s=mr();return function m8(t,n,e,i,o,r,s,a){const l=e1(i),h=t.firstCreatePass&&MT(t),w=n[8],P=CT(n);let N=!0;if(3&i.type||a){const q=ca(i,n),Z=a?a(q):q,Q=P.length,K=a?J=>a(Jo(J[i.index])):i.index;if(Do(e)){let J=null;if(!a&&l&&(J=function Lq(t,n,e,i){const o=t.cleanup;if(null!=o)for(let r=0;r<o.length-1;r+=2){const s=o[r];if(s===e&&o[r+1]===i){const a=n[7],l=o[r+2];return a.length>l?a[l]:null}"string"==typeof s&&(r+=2)}return null}(t,n,o,i.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=r,J.__ngLastListenerFn__=r,N=!1;else{r=Y2(i,n,w,r,!1);const ae=e.listen(Z,o,r);P.push(r,ae),h&&h.push(o,K,Q,Q+1)}}else r=Y2(i,n,w,r,!0),Z.addEventListener(o,r,s),P.push(r),h&&h.push(o,K,Q,s)}else r=Y2(i,n,w,r,!1);const L=i.outputs;let U;if(N&&null!==L&&(U=L[o])){const q=U.length;if(q)for(let Z=0;Z<q;Z+=2){const we=n[U[Z]][U[Z+1]].subscribe(r),_e=P.length;P.push(r,we),h&&h.push(o,i.index,_e,-(_e+1))}}}(r,o,o[11],s,t,n,!!e,i),z}function f8(t,n,e,i){try{return!1!==e(i)}catch(o){return ET(t,o),!1}}function Y2(t,n,e,i,o){return function r(s){if(s===Function)return i;const a=2&t.flags?qs(t.index,n):n;0==(32&n[2])&&D2(a);let l=f8(n,0,i,s),d=r.__ngNextListenerFn__;for(;d;)l=f8(n,0,d,s)&&l,d=d.__ngNextListenerFn__;return o&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function T(t=1){return function HV(t){return(Gn.lFrame.contextLView=function UV(t,n){for(;t>0;)n=n[15],t--;return n}(t,Gn.lFrame.contextLView))[8]}(t)}function jq(t,n){let e=null;const i=function XU(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const r=n[o];if("*"!==r){if(null===i?Y5(t,r,!0):JU(i,r))return o}else e=o}return e}function Dl(t){const n=Rt()[16][6];if(!n.projection){const i=n.projection=Xf(t?t.length:1,null),o=i.slice();let r=n.child;for(;null!==r;){const s=t?jq(r,t):0;null!==s&&(o[s]?o[s].projectionNext=r:i[s]=r,o[s]=r),r=r.next}}}function Fs(t,n=0,e){const i=Rt(),o=Ci(),r=jp(o,20+t,16,null,e||null);null===r.projection&&(r.projection=n),Mw(),64!=(64&r.flags)&&function HU(t,n,e){U5(n[11],0,n,e,k5(t,e,n),B5(e.parent||n[6],e,n))}(o,i,r)}function pa(t,n,e){return Pi(t,"",n,"",e),pa}function Pi(t,n,e,i,o){const r=Rt(),s=$p(r,n,e,i);return s!==Vn&&Xs(Ci(),Fo(),r,t,s,r[11],o,!1),Pi}function fh(t,n,e,i,o,r,s){const a=Rt(),l=Wp(a,n,e,i,o,r);return l!==Vn&&Xs(Ci(),Fo(),a,t,l,a[11],s,!1),fh}function x8(t,n,e,i,o){const r=t[e+1],s=null===n;let a=i?Ha(r):hc(r),l=!1;for(;0!==a&&(!1===l||s);){const h=t[a+1];Hq(t[a],n)&&(l=!0,t[a+1]=i?f2(h):p2(h)),a=i?Ha(h):hc(h)}l&&(t[e+1]=i?p2(r):f2(r))}function Hq(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Np(t,n)>=0}const hr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function C8(t){return t.substring(hr.key,hr.keyEnd)}function M8(t,n){const e=hr.textEnd;return e===n?-1:(n=hr.keyEnd=function $q(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,hr.key=n,e),tm(t,n,e))}function tm(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function hh(t,n,e){return qa(t,n,e,!1),hh}function Ht(t,n){return qa(t,n,null,!0),Ht}function Al(t){!function $a(t,n,e,i){const o=Ci(),r=fc(2);o.firstUpdatePass&&F8(o,null,r,i);const s=Rt();if(e!==Vn&&ns(s,r,e)){const a=o.data[ps()];if(N8(a,i)&&!D8(o,r)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Jr(l,e||"")),$2(o,a,s,e,i)}else!function t$(t,n,e,i,o,r,s,a){o===Vn&&(o=Bn);let l=0,d=0,h=0<o.length?o[0]:null,w=0<r.length?r[0]:null;for(;null!==h||null!==w;){const P=l<o.length?o[l+1]:void 0,N=d<r.length?r[d+1]:void 0;let U,L=null;h===w?(l+=2,d+=2,P!==N&&(L=w,U=N)):null===w||null!==h&&h<w?(l+=2,L=h):(d+=2,L=w,U=N),null!==L&&I8(t,n,e,i,L,U,s,a),h=l<o.length?o[l]:null,w=d<r.length?r[d]:null}}(o,a,s,s[11],s[r+1],s[r+1]=function e$(t,n,e){if(null==e||""===e)return Bn;const i=[],o=Ws(e);if(Array.isArray(o))for(let r=0;r<o.length;r++)t(i,o[r],!0);else if("object"==typeof o)for(const r in o)o.hasOwnProperty(r)&&t(i,r,o[r]);else"string"==typeof o&&n(i,o);return i}(t,n,e),i,r)}}($s,Il,t,!0)}function Il(t,n){for(let e=function zq(t){return function E8(t){hr.key=0,hr.keyEnd=0,hr.value=0,hr.valueEnd=0,hr.textEnd=t.length}(t),M8(t,tm(t,0,hr.textEnd))}(n);e>=0;e=M8(n,e))$s(t,C8(n),!0)}function qa(t,n,e,i){const o=Rt(),r=Ci(),s=fc(2);r.firstUpdatePass&&F8(r,t,s,i),n!==Vn&&ns(o,s,n)&&I8(r,r.data[ps()],o,o[11],t,o[s+1]=function n$(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=gi(Ws(t)))),t}(n,e),i,s)}function D8(t,n){return n>=t.expandoStartIndex}function F8(t,n,e,i){const o=t.data;if(null===o[e+1]){const r=o[ps()],s=D8(t,e);N8(r,i)&&null===n&&!s&&(n=!1),n=function Kq(t,n,e,i){const o=function Ew(t){const n=Gn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let r=i?n.residualClasses:n.residualStyles;if(null===o)0===(i?n.classBindings:n.styleBindings)&&(e=gh(e=X2(null,t,n,e,i),n.attrs,i),r=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=X2(o,t,n,e,i),null===r){let l=function Qq(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==hc(i))return t[Ha(i)]}(t,n,i);void 0!==l&&Array.isArray(l)&&(l=X2(null,t,n,l[1],i),l=gh(l,n.attrs,i),function Jq(t,n,e,i){t[Ha(e?n.classBindings:n.styleBindings)]=i}(t,n,i,l))}else r=function Zq(t,n,e){let i;const o=n.directiveEnd;for(let r=1+n.directiveStylingLast;r<o;r++)i=gh(i,t[r].hostAttrs,e);return gh(i,n.attrs,e)}(t,n,i)}return void 0!==r&&(i?n.residualClasses=r:n.residualStyles=r),e}(o,r,n,i),function Gq(t,n,e,i,o,r){let s=r?n.classBindings:n.styleBindings,a=Ha(s),l=hc(s);t[i]=e;let h,d=!1;if(Array.isArray(e)){const w=e;h=w[1],(null===h||Np(w,h)>0)&&(d=!0)}else h=e;if(o)if(0!==l){const P=Ha(t[a+1]);t[i+1]=S1(P,a),0!==P&&(t[P+1]=m2(t[P+1],i)),t[a+1]=function nz(t,n){return 131071&t|n<<17}(t[a+1],i)}else t[i+1]=S1(a,0),0!==a&&(t[a+1]=m2(t[a+1],i)),a=i;else t[i+1]=S1(l,0),0===a?a=i:t[l+1]=m2(t[l+1],i),l=i;d&&(t[i+1]=p2(t[i+1])),x8(t,h,i,!0),x8(t,h,i,!1),function Vq(t,n,e,i,o){const r=o?t.residualClasses:t.residualStyles;null!=r&&"string"==typeof n&&Np(r,n)>=0&&(e[i+1]=f2(e[i+1]))}(n,h,t,i,r),s=S1(a,l),r?n.classBindings=s:n.styleBindings=s}(o,r,n,e,s,i)}}function X2(t,n,e,i,o){let r=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(r=n[a],i=gh(i,r.hostAttrs,o),r!==t);)a++;return null!==t&&(e.directiveStylingLast=a),i}function gh(t,n,e){const i=e?1:2;let o=-1;if(null!==n)for(let r=0;r<n.length;r++){const s=n[r];"number"==typeof s?o=s:o===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$s(t,s,!!e||n[++r]))}return void 0===t?null:t}function I8(t,n,e,i,o,r,s,a){if(!(3&n.type))return;const l=t.data,d=l[a+1];N1(function Z5(t){return 1==(1&t)}(d)?k8(l,n,e,o,hc(d),s):void 0)||(N1(r)||function J5(t){return 2==(2&t)}(d)&&(r=k8(l,null,e,o,a,s)),function zU(t,n,e,i,o){const r=Do(t);if(n)o?r?t.addClass(e,i):e.classList.add(i):r?t.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:Ys.DashCase;if(null==o)r?t.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof o&&o.endsWith("!important");a&&(o=o.slice(0,-10),s|=Ys.Important),r?t.setStyle(e,i,o,s):e.style.setProperty(i,o,a?"important":"")}}}(i,s,t1(ps(),e),o,r))}function k8(t,n,e,i,o,r){const s=null===n;let a;for(;o>0;){const l=t[o],d=Array.isArray(l),h=d?l[1]:l,w=null===h;let P=e[o+1];P===Vn&&(P=w?Bn:void 0);let N=w?Bw(P,i):h===i?P:void 0;if(d&&!N1(N)&&(N=Bw(l,i)),N1(N)&&(a=N,s))return a;const L=t[o+1];o=s?Ha(L):hc(L)}if(null!==n){let l=r?n.residualClasses:n.residualStyles;null!=l&&(a=Bw(l,i))}return a}function N1(t){return void 0!==t}function N8(t,n){return 0!=(t.flags&(n?16:32))}function g(t,n=""){const e=Rt(),i=Ci(),o=t+20,r=i.firstCreatePass?jp(i,o,1,n,null):i.data[o],s=e[o]=o2(e[11],n);C1(i,e,s,r),xl(r,!1)}function _t(t){return Be("",t,""),_t}function Be(t,n,e){const i=Rt(),o=$p(i,t,n,e);return o!==Vn&&gc(i,ps(),o),Be}function Xi(t,n,e,i,o){const r=Rt(),s=Wp(r,t,n,e,i,o);return s!==Vn&&gc(r,ps(),s),Xi}function R1(t,n,e,i,o,r,s){const a=Rt(),l=function Yp(t,n,e,i,o,r,s,a){const d=I1(t,mc(),e,o,s);return fc(3),d?n+In(e)+i+In(o)+r+In(s)+a:Vn}(a,t,n,e,i,o,r,s);return l!==Vn&&gc(a,ps(),l),R1}function K2(t,n,e,i,o,r,s,a,l){const d=Rt(),h=Xp(d,t,n,e,i,o,r,s,a,l);return h!==Vn&&gc(d,ps(),h),K2}function ma(t,n,e){const i=Rt();return ns(i,Ep(),n)&&Xs(Ci(),Fo(),i,t,n,i[11],e,!0),ma}const ld=void 0;var x$=["en",[["a","p"],["AM","PM"],ld],[["AM","PM"],ld,ld],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ld,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ld,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ld,"{1} 'at' {0}",ld],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function w$(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let nm={};function fs(t){const n=function C$(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=Q8(n);if(e)return e;const i=n.split("-")[0];if(e=Q8(i),e)return e;if("en"===i)return x$;throw new Error(`Missing locale data for the locale "${t}".`)}function Q8(t){return t in nm||(nm[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),nm[t]}var cn=(()=>((cn=cn||{})[cn.LocaleId=0]="LocaleId",cn[cn.DayPeriodsFormat=1]="DayPeriodsFormat",cn[cn.DayPeriodsStandalone=2]="DayPeriodsStandalone",cn[cn.DaysFormat=3]="DaysFormat",cn[cn.DaysStandalone=4]="DaysStandalone",cn[cn.MonthsFormat=5]="MonthsFormat",cn[cn.MonthsStandalone=6]="MonthsStandalone",cn[cn.Eras=7]="Eras",cn[cn.FirstDayOfWeek=8]="FirstDayOfWeek",cn[cn.WeekendRange=9]="WeekendRange",cn[cn.DateFormat=10]="DateFormat",cn[cn.TimeFormat=11]="TimeFormat",cn[cn.DateTimeFormat=12]="DateTimeFormat",cn[cn.NumberSymbols=13]="NumberSymbols",cn[cn.NumberFormats=14]="NumberFormats",cn[cn.CurrencyCode=15]="CurrencyCode",cn[cn.CurrencySymbol=16]="CurrencySymbol",cn[cn.CurrencyName=17]="CurrencyName",cn[cn.Currencies=18]="Currencies",cn[cn.Directionality=19]="Directionality",cn[cn.PluralCase=20]="PluralCase",cn[cn.ExtraData=21]="ExtraData",cn))();const M$=["zero","one","two","few","many"],O1="en-US",B1={marker:"element"},L1={marker:"ICU"};var Ao=(()=>((Ao=Ao||{})[Ao.SHIFT=2]="SHIFT",Ao[Ao.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ao[Ao.COMMENT=2]="COMMENT",Ao))();let J8=O1;function Z8(t,n,e){const i=n.insertBeforeIndex,o=Array.isArray(i)?i[0]:i;return null===o?L5(t,0,e):Jo(e[o])}function eP(t,n,e,i,o){const r=n.insertBeforeIndex;if(Array.isArray(r)){let s=i,a=null;if(3&n.type||(a=s,s=o),null!==s&&0==(2&n.flags))for(let l=1;l<r.length;l++)sd(t,s,e[r[l]],a,!1)}}function tP(t,n){if(t.push(n),t.length>1)for(let e=t.length-2;e>=0;e--){const i=t[e];nP(i)||D$(i,n)&&null===F$(i)&&A$(i,n.index)}}function nP(t){return!(64&t.type)}function D$(t,n){return nP(n)||t.index>n.index}function F$(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function A$(t,n){const e=t.insertBeforeIndex;Array.isArray(e)?e[0]=n:(G5(Z8,eP),t.insertBeforeIndex=n)}function _h(t,n){const e=t.data[n];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function N$(t,n,e){const i=C2(t,e,64,null,null);return tP(n,i),i}function j1(t,n){const e=n[t.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function iP(t){return t>>>17}function oP(t){return(131070&t)>>>1}let vh=0,bh=0;function sP(t,n,e,i){const o=e[11];let s,r=null;for(let a=0;a<n.length;a++){const l=n[a];if("string"==typeof l){const d=n[++a];null===e[d]&&(e[d]=o2(o,l))}else if("number"==typeof l)switch(1&l){case 0:const d=iP(l);let h,w;if(null===r&&(r=d,s=x1(o,i)),d===r?(h=i,w=s):(h=null,w=Jo(e[d])),null!==w){const U=oP(l);sd(o,w,e[U],h,!1);const Z=_h(t,U);if(null!==Z&&"object"==typeof Z){const Q=j1(Z,e);null!==Q&&sP(t,Z.create[Q],e,e[Z.anchorIdx])}}break;case 1:const N=n[++a],L=n[++a];T2(o,t1(l>>>1,e),null,null,N,L,null)}else switch(l){case L1:const d=n[++a],h=n[++a];null===e[h]&&ts(e[h]=AU(o,d),e);break;case B1:const w=n[++a],P=n[++a];null===e[P]&&ts(e[P]=r2(o,w,null),e)}}}function aP(t,n,e,i,o){for(let r=0;r<e.length;r++){const s=e[r],a=e[++r];if(s&o){let l="";for(let d=r+1;d<=r+a;d++){const h=e[d];if("string"==typeof h)l+=h;else if("number"==typeof h)if(h<0)l+=In(n[i-h]);else{const w=h>>>2;switch(3&h){case 1:const P=e[++d],N=e[++d],L=t.data[w];"string"==typeof L?T2(n[11],n[w],null,L,P,l,N):Xs(t,L,n,P,l,n[11],N,!1);break;case 0:const U=n[w];null!==U&&F5(n[11],U,l);break;case 2:j$(t,_h(t,w),n,l);break;case 3:lP(t,_h(t,w),i,n)}}}}else{const l=e[r+1];if(l>0&&3==(3&l)){const h=_h(t,l>>>2);n[h.currentCaseLViewIndex]<0&&lP(t,h,i,n)}}r+=a}}function lP(t,n,e,i){let o=i[n.currentCaseLViewIndex];if(null!==o){let r=vh;o<0&&(o=i[n.currentCaseLViewIndex]=~o,r=-1),aP(t,i,n.update[o],e,r)}}function j$(t,n,e,i){const o=function G$(t,n){let e=t.cases.indexOf(n);if(-1===e)switch(t.type){case 1:{const i=function S$(t,n){const e=function K8(t){return fs(t)[cn.PluralCase]}(n)(parseInt(t,10)),i=M$[e];return void 0!==i?i:"other"}(n,function P$(){return J8}());e=t.cases.indexOf(i),-1===e&&"other"!==i&&(e=t.cases.indexOf("other"));break}case 0:e=t.cases.indexOf("other")}return-1===e?null:e}(n,i);if(j1(n,e)!==o&&(cP(t,n,e),e[n.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const s=e[n.anchorIdx];s&&sP(t,n.create[o],e,s)}}function cP(t,n,e){let i=j1(n,e);if(null!==i){const o=n.remove[i];for(let r=0;r<o.length;r++){const s=o[r];if(s>0){const a=t1(s,e);null!==a&&H5(e[11],a)}else cP(t,_h(t,~s),e)}}}function V$(){const t=[];let e,i,n=-1;function r(a,l){n=0;const d=j1(a,l);i=null!==d?a.remove[d]:Bn}function s(){if(n<i.length){const a=i[n++];return a>0?e[a]:(t.push(n,i),r(e[1].data[~a],e),s())}return 0===t.length?null:(i=t.pop(),n=t.pop(),s())}return function o(a,l){for(e=l;t.length;)t.pop();return r(a.value,l),s}}const G1=/\ufffd(\d+):?\d*\ufffd/gi,U$=/\ufffd(\d+)\ufffd/,dP=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,z$=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,q$=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,$$=/\uE500/g;function pP(t,n,e,i,o,r,s){const a=Gp(t,i,1,null);let l=a<<Ao.SHIFT,d=Hf();n===d&&(d=null),null===d&&(l|=Ao.APPEND_EAGERLY),s&&(l|=Ao.COMMENT,function FU(t){void 0===Zw&&(Zw=t())}(V$)),o.push(l,null===r?"":r);const h=C2(t,a,s?32:1,null===r?"":r,null);tP(e,h);const w=h.index;return xl(h,!1),null!==d&&n!==d&&function k$(t,n){let e=t.insertBeforeIndex;null===e?(G5(Z8,eP),e=t.insertBeforeIndex=[null,n]):(function Hn(t,n,e){t!=n&&Un(e,t,n,"==")}(Array.isArray(e),!0,"Expecting array here"),e.push(n))}(d,w),h}function X$(t,n,e,i,o,r,s){const a=s.match(G1),l=pP(t,n,e,r,i,a?null:s,!1);a&&im(o,s,l.index,null,0,null)}function im(t,n,e,i,o,r){const s=t.length,a=s+1;t.push(null,null);const l=s+2,d=n.split(G1);let h=0;for(let w=0;w<d.length;w++){const P=d[w];if(1&w){const N=o+parseInt(P,10);t.push(-1-N),h|=mP(N)}else""!==P&&t.push(P)}return t.push(e<<2|(i?1:0)),i&&t.push(i,r),t[s]=h,t[a]=t.length-l,h}function mP(t){return 1<<Math.min(t,31)}function fP(t){let n,r,e="",i=0,o=!1;for(;null!==(n=z$.exec(t));)o?n[0]===`\ufffd/*${r}\ufffd`&&(i=n.index,o=!1):(e+=t.substring(i,n.index+n[0].length),r=n[1],o=!0);return e+=t.substr(i),e}function hP(t,n,e,i,o,r){let s=0;const a={type:o.type,currentCaseLViewIndex:Gp(t,n,1,null),anchorIdx:r,cases:[],create:[],remove:[],update:[]};(function iW(t,n,e){t.push(mP(n.mainBinding),2,-1-n.mainBinding,e<<2|2)})(e,o,r),function I$(t,n,e){const i=t.data[n];null===i?t.data[n]=e:i.value=e}(t,r,a);const l=o.values;for(let d=0;d<l.length;d++){const h=l[d],w=[];for(let P=0;P<h.length;P++){const N=h[P];if("string"!=typeof N){const L=w.push(N)-1;h[P]=`\x3c!--\ufffd${L}\ufffd--\x3e`}}s=tW(t,a,n,e,i,o.cases[d],h.join(""),w)|s}s&&function oW(t,n,e){t.push(n,1,e<<2|3)}(e,s,r)}function eW(t){const n=[],e=[];let i=1,o=0;const r=Q2(t=t.replace(dP,function(s,a,l){return i="select"===l?0:1,o=parseInt(a.substr(1),10),""}));for(let s=0;s<r.length;){let a=r[s++].trim();1===i&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&n.push(a);const l=Q2(r[s++]);n.length>e.length&&e.push(l)}return{type:i,mainBinding:o,cases:n,values:e}}function Q2(t){if(!t)return[];let n=0;const e=[],i=[],o=/[{}]/g;let r;for(o.lastIndex=0;r=o.exec(t);){const a=r.index;if("}"==r[0]){if(e.pop(),0==e.length){const l=t.substring(n,a);dP.test(l)?i.push(eW(l)):i.push(l),n=a+1}}else{if(0==e.length){const l=t.substring(n,a);i.push(l),n=a+1}e.push("{")}}const s=t.substring(n);return i.push(s),i}function tW(t,n,e,i,o,r,s,a){const l=[],d=[],h=[];n.cases.push(r),n.create.push(l),n.remove.push(d),n.update.push(h);const P=c5(bw()).getInertBodyElement(s),N=Ww(P)||P;return N?gP(t,n,e,i,l,d,h,N,o,a,0):0}function gP(t,n,e,i,o,r,s,a,l,d,h){let w=0,P=a.firstChild;for(;P;){const N=Gp(t,e,1,null);switch(P.nodeType){case Node.ELEMENT_NODE:const L=P,U=L.tagName.toLowerCase();if(zw.hasOwnProperty(U)){J2(o,B1,U,l,N),t.data[N]=U;const K=L.attributes;for(let J=0;J<K.length;J++){const ae=K.item(J),we=ae.name.toLowerCase();ae.value.match(G1)?f5.hasOwnProperty(we)&&im(s,ae.value,N,ae.name,0,qw[we]?th:$w[we]?u5:null):rW(o,N,ae)}w=gP(t,n,e,i,o,r,s,P,N,d,h+1)|w,_P(r,N,h)}break;case Node.TEXT_NODE:const q=P.textContent||"",Z=q.match(G1);J2(o,null,Z?"":q,l,N),_P(r,N,h),Z&&(w=im(s,q,N,null,0,null)|w);break;case Node.COMMENT_NODE:const Q=U$.exec(P.textContent||"");if(Q){const J=d[parseInt(Q[1],10)];J2(o,L1,"",l,N),hP(t,e,i,l,J,N),nW(r,N,h)}}P=P.nextSibling}return w}function _P(t,n,e){0===e&&t.push(n)}function nW(t,n,e){0===e&&(t.push(~n),t.push(n))}function J2(t,n,e,i,o){null!==n&&t.push(n),t.push(e,o,function R$(t,n,e){return t|n<<17|e<<1}(0,i,o))}function rW(t,n,e){t.push(n<<1|1,e.name,e.value)}function bP(t,n,e=-1){const i=Ci(),o=Rt(),r=20+t,s=ou(i.consts,n),a=Hf();i.firstCreatePass&&function Y$(t,n,e,i,o,r){const s=Hf(),a=[],l=[],d=[[]];o=function Z$(t,n){if(function J$(t){return-1===t}(n))return fP(t);{const e=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,i=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return fP(t.substring(e,i))}}(o,r);const h=function W$(t){return t.replace($$," ")}(o).split(q$);for(let w=0;w<h.length;w++){let P=h[w];if(0==(1&w)){const N=Q2(P);for(let L=0;L<N.length;L++){let U=N[L];if(0==(1&L)){const q=U;""!==q&&X$(t,s,d[0],a,l,e,q)}else{const q=U;if("object"!=typeof q)throw new Error(`Unable to parse ICU expression in "${o}" message.`);hP(t,e,l,n,q,pP(t,s,d[0],e,a,"",!0).index)}}}else{const N=47===P.charCodeAt(0),U=(P.charCodeAt(N?1:0),20+Number.parseInt(P.substring(N?2:1)));if(N)d.shift(),xl(Hf(),!1);else{const q=N$(t,d[0],U);d.unshift([]),xl(q,!0)}}}t.data[i]={create:a,update:l}}(i,null===a?0:a.index,o,r,s,e);const l=i.data[r],h=N5(i,a===o[6]?null:a,o);(function L$(t,n,e,i){const o=t[11];for(let r=0;r<n.length;r++){const s=n[r++],a=n[r],l=(s&Ao.COMMENT)===Ao.COMMENT,d=(s&Ao.APPEND_EAGERLY)===Ao.APPEND_EAGERLY,h=s>>>Ao.SHIFT;let w=t[h];null===w&&(w=t[h]=l?o.createComment(a):o2(o,a)),d&&null!==e&&sd(o,e,w,i,!1)}})(o,l.create,h,a&&8&a.type?o[a.index]:null),S4(!0)}function uu(t,n,e){bP(t,n,e),function yP(){S4(!1)}()}function Z2(t){return function O$(t){t&&(vh|=1<<Math.min(bh,31)),bh++}(ns(Rt(),Ep(),t)),Z2}function e6(t,n,e,i,o){if(t=Rn(t),Array.isArray(t))for(let r=0;r<t.length;r++)e6(t[r],n,e,i,o);else{const r=Ci(),s=Rt();let a=Up(t)?t:Rn(t.provide),l=IT(t);const d=mr(),h=1048575&d.providerIndexes,w=d.directiveStart,P=d.providerIndexes>>20;if(Up(t)||!t.multi){const N=new Uf(l,o,H),L=n6(a,n,o?h:h+P,w);-1===L?(p1(qf(d,s),r,a),t6(r,t,n.length),n.push(a),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),e.push(N),s.push(N)):(e[L]=N,s[L]=N)}else{const N=n6(a,n,h+P,w),L=n6(a,n,h,h+P),U=N>=0&&e[N],q=L>=0&&e[L];if(o&&!q||!o&&!U){p1(qf(d,s),r,a);const Z=function bW(t,n,e,i,o){const r=new Uf(t,e,H);return r.multi=[],r.index=n,r.componentProviders=0,xP(r,o,i&&!e),r}(o?vW:_W,e.length,o,i,l);!o&&q&&(e[L].providerFactory=Z),t6(r,t,n.length,0),n.push(a),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),e.push(Z),s.push(Z)}else t6(r,t,N>-1?N:L,xP(e[o?L:N],l,!o&&i));!o&&i&&q&&e[L].componentProviders++}}}function t6(t,n,e,i){const o=Up(n),r=function Wz(t){return!!t.useClass}(n);if(o||r){const l=(r?Rn(n.useClass):n).prototype.ngOnDestroy;if(l){const d=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const h=d.indexOf(e);-1===h?d.push(e,[i,l]):d[h+1].push(i,l)}else d.push(e,l)}}}function xP(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function n6(t,n,e,i){for(let o=e;o<i;o++)if(n[o]===t)return o;return-1}function _W(t,n,e,i){return i6(this.multi,[])}function vW(t,n,e,i){const o=this.multi;let r;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=$f(e,e[1],this.providerFactory.index,i);r=a.slice(0,s),i6(o,r);for(let l=s;l<a.length;l++)r.push(a[l])}else r=[],i6(o,r);return r}function i6(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Tt(t,n=[]){return e=>{e.providersResolver=(i,o)=>function gW(t,n,e){const i=Ci();if(i.firstCreatePass){const o=Ga(t);e6(e,i.data,i.blueprint,o,!0),e6(n,i.data,i.blueprint,o,!1)}}(i,o?o(t):t,n)}}class CP{}class xW{resolveComponentFactory(n){throw function wW(t){const n=Error(`No component factory found for ${gi(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let om=(()=>{class t{}return t.NULL=new xW,t})();function CW(){return rm(mr(),Rt())}function rm(t,n){return new Di(ca(t,n))}let Di=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=CW,t})();function MW(t){return t instanceof Di?t.nativeElement:t}class o6{}let Dr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function EW(){const t=Rt(),e=qs(mr().index,t);return function SW(t){return t[11]}(wl(e)?e:t)}(),t})(),TW=(()=>{class t{}return t.\u0275prov=it({token:t,providedIn:"root",factory:()=>null}),t})();class wh{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const PW=new wh("13.3.11"),r6={};function V1(t,n,e,i,o=!1){for(;null!==e;){const r=n[e.index];if(null!==r&&i.push(Jo(r)),ja(r))for(let a=10;a<r.length;a++){const l=r[a],d=l[1].firstChild;null!==d&&V1(l[1],l,d,i)}const s=e.type;if(8&s)V1(t,n,e.child,i);else if(32&s){const a=e2(e,n);let l;for(;l=a();)i.push(l)}else if(16&s){const a=V5(n,e);if(Array.isArray(a))i.push(...a);else{const l=sh(n[16]);V1(l[1],l,a,i,!0)}}e=o?e.projectionNext:e.next}return i}class xh{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return V1(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(ja(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(s2(n,i),f1(e,i))}this._attachedToViewContainer=!1}I5(this._lView[1],this._lView)}onDestroy(n){mT(this._lView[1],this._lView,null,n)}markForCheck(){D2(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function A2(t,n,e){const i=n[10];i.begin&&i.begin();try{Vp(t,n,t.template,e)}catch(o){throw ET(n,o),o}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new si(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NU(t,n){ah(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new si(902,"");this._appRef=n}}class DW extends xh{constructor(n){super(n),this._view=n}detectChanges(){xT(this._view)}checkNoChanges(){}get context(){return null}}class SP extends om{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Zr(n);return new s6(e,this.ngModule)}}function EP(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class s6 extends CP{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function ez(t){return t.map(ZU).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return EP(this.componentDef.inputs)}get outputs(){return EP(this.componentDef.outputs)}create(n,e,i,o){const r=(o=o||this.ngModule)?function AW(t,n){return{get:(e,i,o)=>{const r=t.get(e,r6,o);return r!==r6||i===r6?r:n.get(e,i,o)}}}(n,o.injector):n,s=r.get(o6,_4),a=r.get(TW,null),l=s.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",h=i?function pT(t,n,e){if(Do(t))return t.selectRootElement(n,e===de.ShadowDom);let i="string"==typeof n?t.querySelector(n):n;return i.textContent="",i}(l,i,this.componentDef.encapsulation):r2(s.createRenderer(null,this.componentDef),d,function FW(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(d)),w=this.componentDef.onPush?576:528,P=function zT(t,n){return{components:[],scheduler:t||TU,clean:Lz,playerHandler:n||null,flags:0}}(),N=P1(0,null,null,1,0,null,null,null,null,null),L=lh(null,N,P,w,null,null,s,l,a,r);let U,q;i1(L);try{const Z=function HT(t,n,e,i,o,r){const s=e[1];e[20]=t;const l=jp(s,20,2,"#host",null),d=l.mergedAttrs=n.hostAttrs;null!==d&&(F1(l,d,!0),null!==t&&(l1(o,t,d),null!==l.classes&&d2(o,t,l.classes),null!==l.styles&&z5(o,t,l.styles)));const h=i.createRenderer(t,n),w=lh(e,uT(n),null,n.onPush?64:16,e[20],l,i,h,r||null,null);return s.firstCreatePass&&(p1(qf(l,e),s,n.type),vT(s,l),bT(l,e.length,1)),D1(e,w),e[20]=w}(h,this.componentDef,L,s,l);if(h)if(i)l1(l,h,["ng-version",PW.full]);else{const{attrs:Q,classes:K}=function tz(t){const n=[],e=[];let i=1,o=2;for(;i<t.length;){let r=t[i];if("string"==typeof r)2===o?""!==r&&n.push(r,t[++i]):8===o&&e.push(r);else{if(!Va(o))break;o=r}i++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);Q&&l1(l,h,Q),K&&K.length>0&&d2(l,h,K.join(" "))}if(q=yw(N,20),void 0!==e){const Q=q.projection=[];for(let K=0;K<this.ngContentSelectors.length;K++){const J=e[K];Q.push(null!=J?Array.from(J):null)}}U=function UT(t,n,e,i,o){const r=e[1],s=function xz(t,n,e){const i=mr();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),yT(t,i,n,Gp(t,n,1,null),e));const o=$f(n,t,i.directiveStart,i);ts(o,n);const r=ca(i,n);return r&&ts(r,n),o}(r,e,n);if(i.components.push(s),t[8]=s,o&&o.forEach(l=>l(s,n)),n.contentQueries){const l=mr();n.contentQueries(1,s,l.directiveStart)}const a=mr();return!r.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ru(a.index),gT(e[1],a,0,a.directiveStart,a.directiveEnd,n),_T(n,s)),s}(Z,this.componentDef,L,P,[oq]),ch(N,L,null)}finally{o1()}return new kW(this.componentType,U,rm(q,L),L,q)}}class kW extends class yW{}{constructor(n,e,i,o,r){super(),this.location=i,this._rootLView=o,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new DW(o),this.componentType=n}get injector(){return new Dp(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class _c{}class TP{}const sm=new Map;class FP extends _c{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new SP(this);const i=sa(n);this._bootstrapComponents=El(i.bootstrap),this._r3Injector=AT(n,e,[{provide:_c,useValue:this},{provide:om,useValue:this.componentFactoryResolver}],gi(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=po.THROW_IF_NOT_FOUND,i=vn.Default){return n===po||n===_c||n===k2?this:this._r3Injector.get(n,e,i)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class a6 extends TP{constructor(n){super(),this.moduleType=n,null!==sa(n)&&function RW(t){const n=new Set;!function e(i){const o=sa(i,!0),r=o.id;null!==r&&(function PP(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${gi(n)} vs ${gi(n.name)}`)}(r,sm.get(r),i),sm.set(r,i));const s=El(o.imports);for(const a of s)n.has(a)||(n.add(a),e(a))}(t)}(n)}create(n){return new FP(this.moduleType,n)}}function Bt(t,n,e){const i=ds()+t,o=Rt();return o[i]===Vn?Pl(o,i,e?n.call(e):n()):function ph(t,n){return t[n]}(o,i)}function Fn(t,n,e,i){return AP(Rt(),ds(),t,n,e,i)}function fa(t,n,e,i,o){return IP(Rt(),ds(),t,n,e,i,o)}function H1(t,n,e,i,o,r){return kP(Rt(),ds(),t,n,e,i,o,r)}function Ch(t,n){const e=t[n];return e===Vn?void 0:e}function AP(t,n,e,i,o,r){const s=n+e;return ns(t,s,o)?Pl(t,s+1,r?i.call(r,o):i(o)):Ch(t,s+1)}function IP(t,n,e,i,o,r,s){const a=n+e;return ad(t,a,o,r)?Pl(t,a+2,s?i.call(s,o,r):i(o,r)):Ch(t,a+2)}function kP(t,n,e,i,o,r,s,a){const l=n+e;return I1(t,l,o,r,s)?Pl(t,l+3,a?i.call(a,o,r,s):i(o,r,s)):Ch(t,l+3)}function ci(t,n){const e=Ci();let i;const o=t+20;e.firstCreatePass?(i=function HW(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[o]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,i.onDestroy)):i=e.data[o];const r=i.factory||(i.factory=id(i.type)),s=pr(H);try{const a=u1(!1),l=r();return u1(a),function gq(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,Rt(),o,l),l}finally{pr(s)}}function Io(t,n,e){const i=t+20,o=Rt(),r=Sp(o,i);return Mh(o,i)?AP(o,ds(),n,r.transform,e,r):r.transform(e)}function As(t,n,e,i){const o=t+20,r=Rt(),s=Sp(r,o);return Mh(r,o)?IP(r,ds(),n,s.transform,e,i,s):s.transform(e,i)}function U1(t,n,e,i,o){const r=t+20,s=Rt(),a=Sp(s,r);return Mh(s,r)?kP(s,ds(),n,a.transform,e,i,o,a):a.transform(e,i,o)}function Mh(t,n){return t[1].data[n].pure}function l6(t){return n=>{setTimeout(t,void 0,n)}}const je=class qW extends Oe{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){var o,r,s;let a=n,l=e||(()=>null),d=i;if(n&&"object"==typeof n){const w=n;a=null===(o=w.next)||void 0===o?void 0:o.bind(w),l=null===(r=w.error)||void 0===r?void 0:r.bind(w),d=null===(s=w.complete)||void 0===s?void 0:s.bind(w)}this.__isAsync&&(l=l6(l),a&&(a=l6(a)),d&&(d=l6(d)));const h=super.subscribe({next:a,error:l,complete:d});return n instanceof C&&n.add(h),h}};function $W(){return this._results[zp()]()}class c6{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=zp(),i=c6.prototype;i[e]||(i[e]=$W)}get changes(){return this._changes||(this._changes=new je)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const o=ua(n);(this._changesDetected=!function lH(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let o=t[i],r=n[i];if(e&&(o=e(o),r=e(r)),r!==o)return!1}return!0}(i._results,o,e))&&(i._results=o,i.length=o.length,i.last=o[this.length-1],i.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let mo=(()=>{class t{}return t.__NG_ELEMENT_ID__=XW,t})();const WW=mo,YW=class extends WW{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(n){const e=this._declarationTContainer.tViews,i=lh(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),ch(e,i,n),new xh(i)}};function XW(){return z1(mr(),Rt())}function z1(t,n){return 4&t.type?new YW(n,t,rm(t,n)):null}let Is=(()=>{class t{}return t.__NG_ELEMENT_ID__=KW,t})();function KW(){return LP(mr(),Rt())}const QW=Is,OP=class extends QW{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return rm(this._hostTNode,this._hostLView)}get injector(){return new Dp(this._hostTNode,this._hostLView)}get parentInjector(){const n=d1(this._hostTNode,this._hostLView);if(B4(n)){const e=Pp(n,this._hostLView),i=Tp(n);return new Dp(e[1].data[i+8],e)}return new Dp(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=BP(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,i){const o=n.createEmbeddedView(e||{});return this.insert(o,i),o}createComponent(n,e,i,o,r){const s=n&&!function Yf(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const w=e||{};a=w.index,i=w.injector,o=w.projectableNodes,r=w.ngModuleRef}const l=s?n:new s6(Zr(n)),d=i||this.parentInjector;if(!r&&null==l.ngModule){const P=(s?d:this.parentInjector).get(_c,null);P&&(r=P)}const h=l.create(d,o,void 0,r);return this.insert(h.hostView,a),h}insert(n,e){const i=n._lView,o=i[1];if(function AV(t){return ja(t[3])}(i)){const h=this.indexOf(n);if(-1!==h)this.detach(h);else{const w=i[3],P=new OP(w,w[6],w[3]);P.detach(P.indexOf(n))}}const r=this._adjustIndex(e),s=this._lContainer;!function OU(t,n,e,i){const o=10+i,r=e.length;i>0&&(e[o-1][4]=n),i<r-10?(n[4]=e[o],W4(e,10+i,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function BU(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=128}(o,i,s,r);const a=c2(r,s),l=i[11],d=x1(l,s[7]);return null!==d&&function kU(t,n,e,i,o,r){i[0]=o,i[6]=n,ah(t,i,e,1,o,r)}(o,s[6],l,i,d,a),n.attachToViewContainerRef(),W4(u6(s),r,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=BP(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=s2(this._lContainer,e);i&&(f1(u6(this._lContainer),e),I5(i[1],i))}detach(n){const e=this._adjustIndex(n,-1),i=s2(this._lContainer,e);return i&&null!=f1(u6(this._lContainer),e)?new xh(i):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function BP(t){return t[8]}function u6(t){return t[8]||(t[8]=[])}function LP(t,n){let e;const i=n[t.index];if(ja(i))e=i;else{let o;if(8&t.type)o=Jo(i);else{const r=n[11];o=r.createComment("");const s=ca(t,n);sd(r,x1(r,s),o,function VU(t,n){return Do(t)?t.nextSibling(n):n.nextSibling}(r,s),!1)}n[t.index]=e=wT(i,n,o,t),D1(n,e)}return new OP(e,t,n)}class d6{constructor(n){this.queryList=n,this.matches=null}clone(){return new d6(this.queryList)}setDirty(){this.queryList.setDirty()}}class p6{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let r=0;r<i;r++){const s=e.getByIndex(r);o.push(this.queries[s.indexInDeclarationView].clone())}return new p6(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==UP(n,e).matches&&this.queries[e].setDirty()}}class jP{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class m6{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const o=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(n,o);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new m6(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class f6{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new f6(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){const r=i[o];this.matchTNodeWithReadOption(n,e,eY(e,r)),this.matchTNodeWithReadOption(n,e,m1(e,n,r,!1,!1))}else i===mo?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,m1(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const o=this.metadata.read;if(null!==o)if(o===Di||o===Is||o===mo&&4&e.type)this.addMatch(e.index,-2);else{const r=m1(e,n,o,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function eY(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function nY(t,n,e,i){return-1===e?function tY(t,n){return 11&t.type?rm(t,n):4&t.type?z1(t,n):null}(n,t):-2===e?function iY(t,n,e){return e===Di?rm(n,t):e===mo?z1(n,t):e===Is?LP(n,t):void 0}(t,n,i):$f(t,t[1],e,n)}function GP(t,n,e,i){const o=n[19].queries[i];if(null===o.matches){const r=t.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const d=s[l];a.push(d<0?null:nY(n,r[d],s[l+1],e.metadata.read))}o.matches=a}return o.matches}function h6(t,n,e,i){const o=t.queries.getByIndex(e),r=o.matches;if(null!==r){const s=GP(t,n,o,e);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(s[a/2]);else{const d=r[a+1],h=n[-l];for(let w=10;w<h.length;w++){const P=h[w];P[17]===P[3]&&h6(P[1],P,d,i)}if(null!==h[9]){const w=h[9];for(let P=0;P<w.length;P++){const N=w[P];h6(N[1],N,d,i)}}}}}return i}function bt(t){const n=Rt(),e=Ci(),i=E4();Tw(i+1);const o=UP(e,i);if(t.dirty&&b4(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const r=o.crossesNgTemplate?h6(e,n,i,[]):GP(e,n,o,i);t.reset(r,MW),t.notifyOnChanges()}return!0}return!1}function Ft(t,n,e){const i=Ci();i.firstCreatePass&&(HP(i,new jP(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),VP(i,Rt(),n)}function ko(t,n,e,i){const o=Ci();if(o.firstCreatePass){const r=mr();HP(o,new jP(n,e,i),r.index),function rY(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}VP(o,Rt(),e)}function yt(){return function oY(t,n){return t[19].queries[n].queryList}(Rt(),E4())}function VP(t,n,e){const i=new c6(4==(4&e));mT(t,n,i,i.destroy),null===n[19]&&(n[19]=new p6),n[19].queries.push(new d6(i))}function HP(t,n,e){null===t.queries&&(t.queries=new m6),t.queries.track(new f6(n,e))}function UP(t,n){return t.queries.getByIndex(n)}function $t(t,n){return z1(t,n)}function W1(...t){}const kl=new kn("Application Initializer");let w6=(()=>{class t{constructor(e){this.appInits=e,this.resolve=W1,this.reject=W1,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const r=this.appInits[o]();if(mh(r))e.push(r);else if(W2(r)){const s=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(o=>{this.reject(o)}),0===e.length&&i(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Ve(kl,8))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Eh=new kn("AppId",{providedIn:"root",factory:function sD(){return`${x6()}${x6()}${x6()}`}});function x6(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aD=new kn("Platform Initializer"),cd=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lD=new kn("appBootstrapListener");let xY=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const du=new kn("LocaleId",{providedIn:"root",factory:()=>wH(du,vn.Optional|vn.SkipSelf)||function CY(){return"undefined"!=typeof $localize&&$localize.locale||O1}()});class SY{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let cD=(()=>{class t{compileModuleSync(e){return new a6(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),r=El(sa(e).declarations).reduce((s,a)=>{const l=Zr(a);return l&&s.push(new s6(l)),s},[]);return new SY(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const TY=(()=>Promise.resolve(0))();function C6(t){"undefined"==typeof Zone?TY.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&e,o.shouldCoalesceRunChangeDetection=i,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function PY(){let t=Nt.requestAnimationFrame,n=Nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function AY(t){const n=()=>{!function FY(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,S6(t),t.isCheckStableRunning=!0,M6(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),S6(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,o,r,s,a)=>{try{return uD(t),e.invokeTask(o,r,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||t.shouldCoalesceRunChangeDetection)&&n(),dD(t)}},onInvoke:(e,i,o,r,s,a,l)=>{try{return uD(t),e.invoke(o,r,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),dD(t)}},onHasTask:(e,i,o,r)=>{e.hasTask(o,r),i===o&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,S6(t),M6(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,o,r)=>(e.handleError(o,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(o)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,o){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+o,n,DY,W1,W1);try{return r.runTask(s,e,i)}finally{r.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const DY={};function M6(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function S6(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function uD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dD(t){t._nesting--,M6(t)}class IY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,o){return n.apply(e,i)}}let E6=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fi.assertNotInAngularZone(),C6(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())C6(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,o){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:o})}whenStable(e,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,o){return[]}}return t.\u0275fac=function(e){return new(e||t)(Ve(Fi))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),kY=(()=>{class t{constructor(){this._applications=new Map,T6.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return T6.findTestabilityInTree(this,e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class NY{addToWindow(n){}findTestabilityInTree(n,e,i){return null}}let T6=new NY,ud=null;const pD=new kn("AllowMultipleToken"),mD=new kn("PlatformOnDestroy");class fD{constructor(n,e){this.name=n,this.token=e}}function hD(t,n,e=[]){const i=`Platform: ${n}`,o=new kn(i);return(r=[])=>{let s=P6();if(!s||s.injector.get(pD,!1)){const a=[...e,...r,{provide:o,useValue:!0}];t?t(a):function LY(t){if(ud&&!ud.get(pD,!1))throw new si(400,"");ud=t;const n=t.get(gD),e=t.get(aD,null);e&&e.forEach(i=>i())}(function GY(t=[],n){return po.create({name:n,providers:[{provide:N2,useValue:"platform"},{provide:mD,useValue:()=>ud=null},...t]})}(a,i))}return function jY(t){const n=P6();if(!n)throw new si(401,"");return n}()}}function P6(){var t;return null!==(t=null==ud?void 0:ud.get(gD))&&void 0!==t?t:null}let gD=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function VY(t,n){let e;return e="noop"===t?new IY:("zone.js"===t?void 0:t)||new Fi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Fi,useValue:a}];return a.run(()=>{const d=po.create({providers:l,parent:this.injector,name:e.moduleType.name}),h=e.create(d),w=h.injector.get(rh,null);if(!w)throw new si(402,"");return a.runOutsideAngular(()=>{const P=a.onError.subscribe({next:N=>{w.handleError(N)}});h.onDestroy(()=>{D6(this._modules,h),P.unsubscribe()})}),function HY(t,n,e){try{const i=e();return mh(i)?i.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(w,a,()=>{const P=h.injector.get(w6);return P.runInitializers(),P.donePromise.then(()=>(function T$(t){(function Co(t,n){null==t&&Un(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(J8=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(du,O1)||O1),this._moduleDoBootstrap(h),h))})})}bootstrapModule(e,i=[]){const o=_D({},i);return function OY(t,n,e){const i=new a6(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,o))}_moduleDoBootstrap(e){const i=e.injector.get(lm);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new si(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new si(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(mD,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Ve(po))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function _D(t,n){return Array.isArray(n)?n.reduce(_D,t):Object.assign(Object.assign({},t),n)}let lm=(()=>{class t{constructor(e,i,o,r){this._zone=e,this._injector=i,this._exceptionHandler=o,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new X(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new X(l=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{Fi.assertNotInAngularZone(),C6(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{Fi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{d.unsubscribe(),h.unsubscribe()}});this.isStable=Pn(s,a.pipe(ra()))}bootstrap(e,i){if(!this._initStatus.done)throw new si(405,"");let o;o=e instanceof CP?e:this._injector.get(om).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const r=function BY(t){return t.isBoundToModule}(o)?void 0:this._injector.get(_c),a=o.create(po.NULL,[],i||o.selector,r),l=a.location.nativeElement,d=a.injector.get(E6,null),h=d&&a.injector.get(kY);return d&&h&&h.registerApplication(l,d),a.onDestroy(()=>{this.detachView(a.hostView),D6(this.components,a),h&&h.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new si(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;D6(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(lD,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Ve(Fi),Ve(po),Ve(rh),Ve(w6))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function D6(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let is=(()=>{class t{}return t.__NG_ELEMENT_ID__=qY,t})();function qY(t){return function $Y(t,n,e){if(Z_(t)&&!e){const i=qs(t.index,n);return new xh(i,i)}return 47&t.type?new xh(n[16],n):null}(mr(),Rt(),16==(16&t))}class MD{constructor(){}supports(n){return dh(n)}create(n){return new JY(n)}}const QY=(t,n)=>n;class JY{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||QY}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,o=0,r=null;for(;e||i;){const s=!i||e&&e.currentIndex<ED(i,o,r)?e:i,a=ED(s,o,r),l=s.currentIndex;if(s===i)o--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{r||(r=[]);const d=a-o,h=l-o;if(d!=h){for(let P=0;P<d;P++){const N=P<r.length?r[P]:r[P]=0,L=N+P;h<=L&&L<d&&(r[P]=N+1)}r[s.previousIndex]=h-d}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!dh(n))throw new si(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,r,s,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)r=n[a],s=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,r,s,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,s,a),i=!0),e=e._next}else o=0,function fq(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[zp()]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),i=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,o){let r;return null===n?r=this._itTail:(r=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,r,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,r,o)):n=this._addAfter(new ZY(e,i),r,o),n}_verifyReinsertion(n,e,i,o){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?n=this._reinsertAfter(r,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,r=n._nextRemoved;return null===o?this._removalsHead=r:o._nextRemoved=r,null===r?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new SD),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class ZY{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eX{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class SD{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new eX,this.map.set(e,i)),i.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ED(t,n,e){const i=t.previousIndex;if(null===i)return i;let o=0;return e&&i<e.length&&(o=e[i]),i+n+o}class TD{constructor(){}supports(n){return n instanceof Map||G2(n)}create(){return new tX}}class tX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||G2(n)))throw new si(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(o,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const o=this._records.get(n);this._maybeAddToChanges(o,e);const r=o._prev,s=o._next;return r&&(r._next=s),s&&(s._prev=r),o._next=null,o._prev=null,o}const i=new nX(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class nX{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PD(){return new K1([new MD])}let K1=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(null!=i){const o=i.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||PD()),deps:[[t,new Zf,new au]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(null!=i)return i;throw new si(901,"")}}return t.\u0275prov=it({token:t,providedIn:"root",factory:PD}),t})();function DD(){return new Th([new TD])}let Th=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(i){const o=i.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||DD()),deps:[[t,new Zf,new au]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new si(901,"")}}return t.\u0275prov=it({token:t,providedIn:"root",factory:DD}),t})();const rX=hD(null,"core",[]);let sX=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Ve(lm))},t.\u0275mod=On({type:t}),t.\u0275inj=mn({}),t})(),Q1=null;function Nl(){return Q1}const io=new kn("DocumentToken");let pd=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:function(){return function uX(){return Ve(FD)}()},providedIn:"platform"}),t})();const dX=new kn("Location Initialized");let FD=(()=>{class t extends pd{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nl().getBaseHref(this._doc)}onPopState(e){const i=Nl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Nl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,o){AD()?this._history.pushState(e,i,o):this.location.hash=o}replaceState(e,i,o){AD()?this._history.replaceState(e,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Ve(io))},t.\u0275prov=it({token:t,factory:function(){return function pX(){return new FD(Ve(io))}()},providedIn:"platform"}),t})();function AD(){return!!window.history.pushState}function N6(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function ID(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function vc(t){return t&&"?"!==t[0]?"?"+t:t}let cm=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:function(){return function mX(t){const n=Ve(io).location;return new kD(Ve(pd),n&&n.origin||"")}()},providedIn:"root"}),t})();const R6=new kn("appBaseHref");let kD=(()=>{class t extends cm{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return N6(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+vc(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,r){const s=this.prepareExternalUrl(o+vc(r));this._platformLocation.pushState(e,i,s)}replaceState(e,i,o,r){const s=this.prepareExternalUrl(o+vc(r));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(Ve(pd),Ve(R6,8))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),fX=(()=>{class t extends cm{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=N6(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,r){let s=this.prepareExternalUrl(o+vc(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,o,r){let s=this.prepareExternalUrl(o+vc(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(Ve(pd),Ve(R6,8))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),O6=(()=>{class t{constructor(e,i){this._subject=new je,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ID(ND(o)),this._platformStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+vc(i))}normalize(e){return t.stripTrailingSlash(function gX(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,ND(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._platformStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+vc(i)),o)}replaceState(e,i="",o=null){this._platformStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+vc(i)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformStrategy).historyGo)||void 0===o||o.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return t.normalizeQueryParams=vc,t.joinWithSlash=N6,t.stripTrailingSlash=ID,t.\u0275fac=function(e){return new(e||t)(Ve(cm),Ve(pd))},t.\u0275prov=it({token:t,factory:function(){return function hX(){return new O6(Ve(cm),Ve(pd))}()},providedIn:"root"}),t})();function ND(t){return t.replace(/\/index.html$/,"")}var ks=(()=>((ks=ks||{})[ks.Decimal=0]="Decimal",ks[ks.Percent=1]="Percent",ks[ks.Currency=2]="Currency",ks[ks.Scientific=3]="Scientific",ks))(),$o=(()=>(($o=$o||{})[$o.Format=0]="Format",$o[$o.Standalone=1]="Standalone",$o))(),fi=(()=>((fi=fi||{})[fi.Narrow=0]="Narrow",fi[fi.Abbreviated=1]="Abbreviated",fi[fi.Wide=2]="Wide",fi[fi.Short=3]="Short",fi))(),So=(()=>((So=So||{})[So.Short=0]="Short",So[So.Medium=1]="Medium",So[So.Long=2]="Long",So[So.Full=3]="Full",So))(),Tn=(()=>((Tn=Tn||{})[Tn.Decimal=0]="Decimal",Tn[Tn.Group=1]="Group",Tn[Tn.List=2]="List",Tn[Tn.PercentSign=3]="PercentSign",Tn[Tn.PlusSign=4]="PlusSign",Tn[Tn.MinusSign=5]="MinusSign",Tn[Tn.Exponential=6]="Exponential",Tn[Tn.SuperscriptingExponent=7]="SuperscriptingExponent",Tn[Tn.PerMille=8]="PerMille",Tn[Tn.Infinity=9]="Infinity",Tn[Tn.NaN=10]="NaN",Tn[Tn.TimeSeparator=11]="TimeSeparator",Tn[Tn.CurrencyDecimal=12]="CurrencyDecimal",Tn[Tn.CurrencyGroup=13]="CurrencyGroup",Tn))();function J1(t,n){return ga(fs(t)[cn.DateFormat],n)}function Z1(t,n){return ga(fs(t)[cn.TimeFormat],n)}function ev(t,n){return ga(fs(t)[cn.DateTimeFormat],n)}function ha(t,n){const e=fs(t),i=e[cn.NumberSymbols][n];if(void 0===i){if(n===Tn.CurrencyDecimal)return e[cn.NumberSymbols][Tn.Decimal];if(n===Tn.CurrencyGroup)return e[cn.NumberSymbols][Tn.Group]}return i}function OD(t){if(!t[cn.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[cn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ga(t,n){for(let e=n;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function L6(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const DX=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ph={},FX=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gr=(()=>((gr=gr||{})[gr.Short=0]="Short",gr[gr.ShortGMT=1]="ShortGMT",gr[gr.Long=2]="Long",gr[gr.Extended=3]="Extended",gr))(),An=(()=>((An=An||{})[An.FullYear=0]="FullYear",An[An.Month=1]="Month",An[An.Date=2]="Date",An[An.Hours=3]="Hours",An[An.Minutes=4]="Minutes",An[An.Seconds=5]="Seconds",An[An.FractionalSeconds=6]="FractionalSeconds",An[An.Day=7]="Day",An))(),Qn=(()=>((Qn=Qn||{})[Qn.DayPeriods=0]="DayPeriods",Qn[Qn.Days=1]="Days",Qn[Qn.Months=2]="Months",Qn[Qn.Eras=3]="Eras",Qn))();function AX(t,n,e,i){let o=function GX(t){if(jD(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[o,r=1,s=1]=t.split("-").map(a=>+a);return tv(o,r-1,s)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(DX))return function VX(t){const n=new Date(0);let e=0,i=0;const o=t[8]?n.setUTCFullYear:n.setFullYear,r=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),o.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,l=Number(t[6]||0),d=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return r.call(n,s,a,l,d),n}(i)}const n=new Date(t);if(!jD(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=bc(e,n)||n;let a,s=[];for(;n;){if(a=FX.exec(n),!a){s.push(n);break}{s=s.concat(a.slice(1));const h=s.pop();if(!h)break;n=h}}let l=o.getTimezoneOffset();i&&(l=LD(i,l),o=function jX(t,n,e){const i=e?-1:1,o=t.getTimezoneOffset();return function LX(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(LD(n,o)-o))}(o,i,!0));let d="";return s.forEach(h=>{const w=function BX(t){if(G6[t])return G6[t];let n;switch(t){case"G":case"GG":case"GGG":n=eo(Qn.Eras,fi.Abbreviated);break;case"GGGG":n=eo(Qn.Eras,fi.Wide);break;case"GGGGG":n=eo(Qn.Eras,fi.Narrow);break;case"y":n=er(An.FullYear,1,0,!1,!0);break;case"yy":n=er(An.FullYear,2,0,!0,!0);break;case"yyy":n=er(An.FullYear,3,0,!1,!0);break;case"yyyy":n=er(An.FullYear,4,0,!1,!0);break;case"Y":n=rv(1);break;case"YY":n=rv(2,!0);break;case"YYY":n=rv(3);break;case"YYYY":n=rv(4);break;case"M":case"L":n=er(An.Month,1,1);break;case"MM":case"LL":n=er(An.Month,2,1);break;case"MMM":n=eo(Qn.Months,fi.Abbreviated);break;case"MMMM":n=eo(Qn.Months,fi.Wide);break;case"MMMMM":n=eo(Qn.Months,fi.Narrow);break;case"LLL":n=eo(Qn.Months,fi.Abbreviated,$o.Standalone);break;case"LLLL":n=eo(Qn.Months,fi.Wide,$o.Standalone);break;case"LLLLL":n=eo(Qn.Months,fi.Narrow,$o.Standalone);break;case"w":n=j6(1);break;case"ww":n=j6(2);break;case"W":n=j6(1,!0);break;case"d":n=er(An.Date,1);break;case"dd":n=er(An.Date,2);break;case"c":case"cc":n=er(An.Day,1);break;case"ccc":n=eo(Qn.Days,fi.Abbreviated,$o.Standalone);break;case"cccc":n=eo(Qn.Days,fi.Wide,$o.Standalone);break;case"ccccc":n=eo(Qn.Days,fi.Narrow,$o.Standalone);break;case"cccccc":n=eo(Qn.Days,fi.Short,$o.Standalone);break;case"E":case"EE":case"EEE":n=eo(Qn.Days,fi.Abbreviated);break;case"EEEE":n=eo(Qn.Days,fi.Wide);break;case"EEEEE":n=eo(Qn.Days,fi.Narrow);break;case"EEEEEE":n=eo(Qn.Days,fi.Short);break;case"a":case"aa":case"aaa":n=eo(Qn.DayPeriods,fi.Abbreviated);break;case"aaaa":n=eo(Qn.DayPeriods,fi.Wide);break;case"aaaaa":n=eo(Qn.DayPeriods,fi.Narrow);break;case"b":case"bb":case"bbb":n=eo(Qn.DayPeriods,fi.Abbreviated,$o.Standalone,!0);break;case"bbbb":n=eo(Qn.DayPeriods,fi.Wide,$o.Standalone,!0);break;case"bbbbb":n=eo(Qn.DayPeriods,fi.Narrow,$o.Standalone,!0);break;case"B":case"BB":case"BBB":n=eo(Qn.DayPeriods,fi.Abbreviated,$o.Format,!0);break;case"BBBB":n=eo(Qn.DayPeriods,fi.Wide,$o.Format,!0);break;case"BBBBB":n=eo(Qn.DayPeriods,fi.Narrow,$o.Format,!0);break;case"h":n=er(An.Hours,1,-12);break;case"hh":n=er(An.Hours,2,-12);break;case"H":n=er(An.Hours,1);break;case"HH":n=er(An.Hours,2);break;case"m":n=er(An.Minutes,1);break;case"mm":n=er(An.Minutes,2);break;case"s":n=er(An.Seconds,1);break;case"ss":n=er(An.Seconds,2);break;case"S":n=er(An.FractionalSeconds,1);break;case"SS":n=er(An.FractionalSeconds,2);break;case"SSS":n=er(An.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=iv(gr.Short);break;case"ZZZZZ":n=iv(gr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=iv(gr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=iv(gr.Long);break;default:return null}return G6[t]=n,n}(h);d+=w?w(o,e,l):"''"===h?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function tv(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function bc(t,n){const e=function _X(t){return fs(t)[cn.LocaleId]}(t);if(Ph[e]=Ph[e]||{},Ph[e][n])return Ph[e][n];let i="";switch(n){case"shortDate":i=J1(t,So.Short);break;case"mediumDate":i=J1(t,So.Medium);break;case"longDate":i=J1(t,So.Long);break;case"fullDate":i=J1(t,So.Full);break;case"shortTime":i=Z1(t,So.Short);break;case"mediumTime":i=Z1(t,So.Medium);break;case"longTime":i=Z1(t,So.Long);break;case"fullTime":i=Z1(t,So.Full);break;case"short":const o=bc(t,"shortTime"),r=bc(t,"shortDate");i=nv(ev(t,So.Short),[o,r]);break;case"medium":const s=bc(t,"mediumTime"),a=bc(t,"mediumDate");i=nv(ev(t,So.Medium),[s,a]);break;case"long":const l=bc(t,"longTime"),d=bc(t,"longDate");i=nv(ev(t,So.Long),[l,d]);break;case"full":const h=bc(t,"fullTime"),w=bc(t,"fullDate");i=nv(ev(t,So.Full),[h,w])}return i&&(Ph[e][n]=i),i}function nv(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Wa(t,n,e="-",i,o){let r="";(t<0||o&&t<=0)&&(o?t=1-t:(t=-t,r=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.substr(s.length-n)),r+s}function er(t,n,e=0,i=!1,o=!1){return function(r,s){let a=function kX(t,n){switch(t){case An.FullYear:return n.getFullYear();case An.Month:return n.getMonth();case An.Date:return n.getDate();case An.Hours:return n.getHours();case An.Minutes:return n.getMinutes();case An.Seconds:return n.getSeconds();case An.FractionalSeconds:return n.getMilliseconds();case An.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,r);if((e>0||a>-e)&&(a+=e),t===An.Hours)0===a&&-12===e&&(a=12);else if(t===An.FractionalSeconds)return function IX(t,n){return Wa(t,3).substr(0,n)}(a,n);const l=ha(s,Tn.MinusSign);return Wa(a,n,l,i,o)}}function eo(t,n,e=$o.Format,i=!1){return function(o,r){return function NX(t,n,e,i,o,r){switch(e){case Qn.Months:return function yX(t,n,e){const i=fs(t),r=ga([i[cn.MonthsFormat],i[cn.MonthsStandalone]],n);return ga(r,e)}(n,o,i)[t.getMonth()];case Qn.Days:return function bX(t,n,e){const i=fs(t),r=ga([i[cn.DaysFormat],i[cn.DaysStandalone]],n);return ga(r,e)}(n,o,i)[t.getDay()];case Qn.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(r){const d=function MX(t){const n=fs(t);return OD(n),(n[cn.ExtraData][2]||[]).map(i=>"string"==typeof i?L6(i):[L6(i[0]),L6(i[1])])}(n),h=function SX(t,n,e){const i=fs(t);OD(i);const r=ga([i[cn.ExtraData][0],i[cn.ExtraData][1]],n)||[];return ga(r,e)||[]}(n,o,i),w=d.findIndex(P=>{if(Array.isArray(P)){const[N,L]=P,U=s>=N.hours&&a>=N.minutes,q=s<L.hours||s===L.hours&&a<L.minutes;if(N.hours<L.hours){if(U&&q)return!0}else if(U||q)return!0}else if(P.hours===s&&P.minutes===a)return!0;return!1});if(-1!==w)return h[w]}return function vX(t,n,e){const i=fs(t),r=ga([i[cn.DayPeriodsFormat],i[cn.DayPeriodsStandalone]],n);return ga(r,e)}(n,o,i)[s<12?0:1];case Qn.Eras:return function wX(t,n){return ga(fs(t)[cn.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,r,t,n,e,i)}}function iv(t){return function(n,e,i){const o=-1*i,r=ha(e,Tn.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case gr.Short:return(o>=0?"+":"")+Wa(s,2,r)+Wa(Math.abs(o%60),2,r);case gr.ShortGMT:return"GMT"+(o>=0?"+":"")+Wa(s,1,r);case gr.Long:return"GMT"+(o>=0?"+":"")+Wa(s,2,r)+":"+Wa(Math.abs(o%60),2,r);case gr.Extended:return 0===i?"Z":(o>=0?"+":"")+Wa(s,2,r)+":"+Wa(Math.abs(o%60),2,r);default:throw new Error(`Unknown zone width "${t}"`)}}}function BD(t){return tv(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function j6(t,n=!1){return function(e,i){let o;if(n){const r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();o=1+Math.floor((s+r)/7)}else{const r=BD(e),s=function OX(t){const n=tv(t,0,1).getDay();return tv(t,0,1+(n<=4?4:11)-n)}(r.getFullYear()),a=r.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Wa(o,t,ha(i,Tn.MinusSign))}}function rv(t,n=!1){return function(e,i){return Wa(BD(e).getFullYear(),t,ha(i,Tn.MinusSign),n)}}const G6={};function LD(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function jD(t){return t instanceof Date&&!isNaN(t.valueOf())}const HX=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function z6(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function UD(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[o,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===n)return decodeURIComponent(r)}return null}class tK{constructor(n,e,i,o){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lt=(()=>{class t{constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,r,s)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new tK(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,s),zD(a,o)}});for(let o=0,r=i.length;o<r;o++){const a=i.get(o).context;a.index=o,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{zD(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(H(Is),H(mo),H(K1))},t.\u0275dir=Qt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function zD(t,n){t.context.$implicit=n.item}let nt=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new nK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){qD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){qD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(H(Is),H(mo))},t.\u0275dir=Qt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class nK{constructor(){this.$implicit=null,this.ngIf=null}}function qD(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${gi(n)}'.`)}let WD=(()=>{class t{constructor(e,i,o){this._ngEl=e,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[o,r]=e.split(".");null!=(i=null!=i&&r?`${i}${r}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,o,i):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(H(Di),H(Th),H(Dr))},t.\u0275dir=Qt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),_a=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(H(Is))},t.\u0275dir=Qt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Xt]}),t})();function Ya(t,n){return new si(2100,"")}class sK{createSubscription(n,e){return n.subscribe({next:e,error:i=>{throw i}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class aK{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}onDestroy(n){}}const lK=new aK,cK=new sK;let YD=(()=>{class t{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(mh(e))return lK;if(d8(e))return cK;throw Ya()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(H(is,16))},t.\u0275pipe=Tr({name:"async",type:t,pure:!1}),t})();const fK=new kn("DATE_PIPE_DEFAULT_TIMEZONE");let Fh=(()=>{class t{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",o,r){var s;if(null==e||""===e||e!=e)return null;try{return AX(e,i,r||this.locale,null!==(s=null!=o?o:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(a){throw Ya()}}}return t.\u0275fac=function(e){return new(e||t)(H(du,16),H(fK,24))},t.\u0275pipe=Tr({name:"date",type:t,pure:!0}),t})(),Y6=(()=>{class t{constructor(e){this._locale=e}transform(e,i,o){if(!function X6(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale;try{return function YX(t,n,e){return function H6(t,n,e,i,o,r,s=!1){let a="",l=!1;if(isFinite(t)){let d=function KX(t){let i,o,r,s,a,n=Math.abs(t)+"",e=0;for((o=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(o<0&&(o=r),o+=+n.slice(r+1),n=n.substring(0,r)):o<0&&(o=n.length),r=0;"0"===n.charAt(r);r++);if(r===(a=n.length))i=[0],o=1;else{for(a--;"0"===n.charAt(a);)a--;for(o-=r,i=[],s=0;r<=a;r++,s++)i[s]=Number(n.charAt(r))}return o>22&&(i=i.splice(0,21),e=o-1,o=1),{digits:i,exponent:e,integerLen:o}}(t);s&&(d=function XX(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(d));let h=n.minInt,w=n.minFrac,P=n.maxFrac;if(r){const Q=r.match(HX);if(null===Q)throw new Error(`${r} is not a valid digit info`);const K=Q[1],J=Q[3],ae=Q[5];null!=K&&(h=z6(K)),null!=J&&(w=z6(J)),null!=ae?P=z6(ae):null!=J&&w>P&&(P=w)}!function QX(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,o=i.length-t.integerLen;const r=Math.min(Math.max(n,o),e);let s=r+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let w=s;w<i.length;w++)i[w]=0}else{o=Math.max(0,o),t.integerLen=1,i.length=Math.max(1,s=r+1),i[0]=0;for(let w=1;w<s;w++)i[w]=0}if(a>=5)if(s-1<0){for(let w=0;w>s;w--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;o<Math.max(0,r);o++)i.push(0);let l=0!==r;const d=n+t.integerLen,h=i.reduceRight(function(w,P,N,L){return L[N]=(P+=w)<10?P:P-10,l&&(0===L[N]&&N>=d?L.pop():l=!1),P>=10?1:0},0);h&&(i.unshift(h),t.integerLen++)}(d,w,P);let N=d.digits,L=d.integerLen;const U=d.exponent;let q=[];for(l=N.every(Q=>!Q);L<h;L++)N.unshift(0);for(;L<0;L++)N.unshift(0);L>0?q=N.splice(L,N.length):(q=N,N=[0]);const Z=[];for(N.length>=n.lgSize&&Z.unshift(N.splice(-n.lgSize,N.length).join(""));N.length>n.gSize;)Z.unshift(N.splice(-n.gSize,N.length).join(""));N.length&&Z.unshift(N.join("")),a=Z.join(ha(e,i)),q.length&&(a+=ha(e,o)+q.join("")),U&&(a+=ha(e,Tn.Exponential)+"+"+U)}else a=ha(e,Tn.Infinity);return a=t<0&&!l?n.negPre+a+n.negSuf:n.posPre+a+n.posSuf,a}(t,function U6(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),o=i[0],r=i[1],s=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let h=0;h<l.length;h++){const w=l.charAt(h);"0"===w?e.minFrac=e.maxFrac=h+1:"#"===w?e.maxFrac=h+1:e.posSuf+=w}const d=a.split(",");if(e.gSize=d[1]?d[1].length:0,e.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,r){const h=o.length-e.posPre.length-e.posSuf.length,w=r.indexOf("#");e.negPre=r.substr(0,w).replace(/'/g,""),e.negSuf=r.substr(w+h).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}(function B6(t,n){return fs(t)[cn.NumberFormats][n]}(n,ks.Decimal),ha(n,Tn.MinusSign)),n,Tn.Group,Tn.Decimal,e)}(function K6(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),o,i)}catch(r){throw Ya()}}}return t.\u0275fac=function(e){return new(e||t)(H(du,16))},t.\u0275pipe=Tr({name:"number",type:t,pure:!0}),t})();let KD=(()=>{class t{transform(e,i,o){if(null==e)return null;if(!this.supports(e))throw Ya();return e.slice(i,o)}supports(e){return"string"==typeof e||Array.isArray(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Tr({name:"slice",type:t,pure:!1}),t})(),Rr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({}),t})();const QD="browser";function JD(t){return"server"===t}let TK=(()=>{class t{}return t.\u0275prov=it({token:t,providedIn:"root",factory:()=>new PK(Ve(io),window)}),t})();class PK{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function DK(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const r=o.shadowRoot;if(r){const s=r.getElementById(n)||r.querySelector(`[name="${n}"]`);if(s)return s}o=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],o-r[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=ZD(this.window.history)||ZD(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function ZD(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class e7{}class Q6 extends class FK extends class cX{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function lX(t){Q1||(Q1=t)}(new Q6)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function AK(){return Ah=Ah||document.querySelector("base"),Ah?Ah.getAttribute("href"):null}();return null==e?null:function IK(t){av=av||document.createElement("a"),av.setAttribute("href",t);const n=av.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Ah=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return UD(document.cookie,n)}}let av,Ah=null;const t7=new kn("TRANSITION_ID"),NK=[{provide:kl,useFactory:function kK(t,n,e){return()=>{e.get(w6).donePromise.then(()=>{const i=Nl(),o=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let r=0;r<o.length;r++)i.remove(o[r])})}},deps:[t7,io,po],multi:!0}];class J6{static init(){!function RY(t){T6=t}(new J6)}addToWindow(n){Nt.getAngularTestability=(i,o=!0)=>{const r=n.findTestabilityInTree(i,o);if(null==r)throw new Error("Could not find testability for element.");return r},Nt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Nt.getAllAngularRootElements=()=>n.getAllRootElements(),Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push(i=>{const o=Nt.getAllAngularTestabilities();let r=o.length,s=!1;const a=function(l){s=s||l,r--,0==r&&i(s)};o.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const o=n.getTestability(e);return null!=o?o:i?Nl().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let RK=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const lv=new kn("EventManagerPlugins");let cv=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let r=0;r<o.length;r++){const s=o[r];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(Ve(lv),Ve(Fi))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();class n7{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const o=Nl().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let i7=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),Ih=(()=>{class t extends i7{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(r=>{const s=this._doc.createElement("style");s.textContent=r,o.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(o7),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(o7))}}return t.\u0275fac=function(e){return new(e||t)(Ve(io))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function o7(t){Nl().remove(t)}const Z6={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ex=/%COMP%/g;function uv(t,n,e){for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?uv(t,o,e):(o=o.replace(ex,t),e.push(o))}return e}function a7(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let tx=(()=>{class t{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new nx(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case de.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new VK(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case 1:case de.ShadowDom:return new HK(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=uv(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Ve(cv),Ve(Ih),Ve(Eh))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();class nx{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Z6[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,o){if(o){e=o+":"+e;const r=Z6[o];r?n.setAttributeNS(r,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const o=Z6[i];o?n.removeAttributeNS(o,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,o){o&(Ys.DashCase|Ys.Important)?n.style.setProperty(e,i,o&Ys.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Ys.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,a7(i)):this.eventManager.addEventListener(n,e,a7(i))}}class VK extends nx{constructor(n,e,i,o){super(n),this.component=i;const r=uv(o+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function LK(t){return"_ngcontent-%COMP%".replace(ex,t)}(o+"-"+i.id),this.hostAttr=function jK(t){return"_nghost-%COMP%".replace(ex,t)}(o+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class HK extends nx{constructor(n,e,i,o){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=uv(o.id,o.styles,[]);for(let s=0;s<r.length;s++){const a=document.createElement("style");a.textContent=r[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let UK=(()=>{class t extends n7{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return t.\u0275fac=function(e){return new(e||t)(Ve(io))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const c7=["alt","control","meta","shift"],qK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u7={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$K={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let WK=(()=>{class t extends n7{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,o){const r=t.parseEventName(i),s=t.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nl().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const r=t._normalizeKey(i.pop());let s="";if(c7.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=o,a.fullKey=s,a}static getEventFullKey(e){let i="",o=function YK(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&u7.hasOwnProperty(n)&&(n=u7[n]))}return qK[n]||n}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),c7.forEach(r=>{r!=o&&$K[r](e)&&(i+=r+".")}),i+=o,i}static eventCallback(e,i,o){return r=>{t.getEventFullKey(r)===e&&o.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Ve(io))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const JK=hD(rX,"browser",[{provide:cd,useValue:QD},{provide:aD,useValue:function XK(){Q6.makeCurrent(),J6.init()},multi:!0},{provide:io,useFactory:function QK(){return function TV(t){vw=t}(document),document},deps:[]}]),ZK=[{provide:N2,useValue:"root"},{provide:rh,useFactory:function KK(){return new rh},deps:[]},{provide:lv,useClass:UK,multi:!0,deps:[io,Fi,cd]},{provide:lv,useClass:WK,multi:!0,deps:[io]},{provide:tx,useClass:tx,deps:[cv,Ih,Eh]},{provide:o6,useExisting:tx},{provide:i7,useExisting:Ih},{provide:Ih,useClass:Ih,deps:[io]},{provide:E6,useClass:E6,deps:[Fi]},{provide:cv,useClass:cv,deps:[lv,Fi]},{provide:e7,useClass:RK,deps:[]}];let d7=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Eh,useValue:e.appId},{provide:t7,useExisting:Eh},NK]}}}return t.\u0275fac=function(e){return new(e||t)(Ve(t,12))},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:ZK,imports:[Rr,sX]}),t})();"undefined"!=typeof window&&window;let dv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:function(e){let i=null;return i=e?new(e||t):Ve(f7),i},providedIn:"root"}),t})(),f7=(()=>{class t extends dv{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case qi.NONE:return i;case qi.HTML:return Ml(i,"HTML")?Ws(i):function g5(t,n){let e=null;try{w1=w1||c5(t);let i=n?String(n):"";e=w1.getInertBodyElement(i);let o=5,r=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=r,r=e.innerHTML,e=w1.getInertBodyElement(i)}while(i!==r);return Op((new QH).sanitizeChildren(Ww(e)||e))}finally{if(e){const i=Ww(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(this._doc,String(i)).toString();case qi.STYLE:return Ml(i,"Style")?Ws(i):i;case qi.SCRIPT:if(Ml(i,"Script"))return Ws(i);throw new Error("unsafe value used in a script context");case qi.URL:return l5(i),Ml(i,"URL")?Ws(i):th(String(i));case qi.RESOURCE_URL:if(Ml(i,"ResourceURL"))return Ws(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function GH(t){return new RH(t)}(e)}bypassSecurityTrustStyle(e){return function VH(t){return new OH(t)}(e)}bypassSecurityTrustScript(e){return function HH(t){return new BH(t)}(e)}bypassSecurityTrustUrl(e){return function UH(t){return new LH(t)}(e)}bypassSecurityTrustResourceUrl(e){return function zH(t){return new jH(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Ve(io))},t.\u0275prov=it({token:t,factory:function(e){let i=null;return i=e?new e:function cQ(t){return new f7(t.get(io))}(Ve(po)),i},providedIn:"root"}),t})();function h7(t,n,e,i,o,r,s){try{var a=t[r](s),l=a.value}catch(d){return void e(d)}a.done?n(l):Promise.resolve(l).then(i,o)}function Y(t){return function(){var n=this,e=arguments;return new Promise(function(i,o){var r=t.apply(n,e);function s(l){h7(r,i,o,s,a,"next",l)}function a(l){h7(r,i,o,s,a,"throw",l)}s(void 0)})}}var g7="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),uQ=new Uint8Array(16);function dQ(){if(!g7)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g7(uQ)}for(var _7=[],pv=0;pv<256;++pv)_7[pv]=(pv+256).toString(16).substr(1);const md=function fQ(t,n,e){var i=n&&e||0;"string"==typeof t&&(n="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||dQ)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var r=0;r<16;++r)n[i+r]=o[r];return n||function pQ(t,n){var e=n||0;return[_7[t[e++]],_7[t[e++]],_7[t[e++]],_7[t[e++]],"-",_7[t[e++]],_7[t[e++]],"-",_7[t[e++]],_7[t[e++]],"-",_7[t[e++]],_7[t[e++]],"-",_7[t[e++]],_7[t[e++]],_7[t[e++]],_7[t[e++]],_7[t[e++]],_7[t[e++]]].join("")}(o)};class gs{constructor(n,e,i){var o;if(null!=n)this._id=n._id,this._rev=n._rev,this.type=n.type;else{if(null==e)throw new Error("Either entry or init must be provided.");this._id=null!==(o=e._id)&&void 0!==o?o:gs.getId(),this._rev=e._rev,this.type=i}}toDb(){return{type:this.type,_id:this._id,_rev:this._rev}}resetDatabaseState(){this._id=gs.getId(),this._rev=void 0}equals(n){return null!=n&&this._id===n._id&&this._rev===n._rev}static getId(){return String(Date.now())+md()}}class kh extends gs{constructor(n,e,i){super(n,e,i);const o=null!=n?n:e;if(null==o)throw new Error("Either entry or init must be provided.");this.list=o.list,this.name=o.name,this.description=o.description}toDb(){return Object.assign(Object.assign({},super.toDb()),{list:this.list,name:this.name,description:this.description})}}let Nh=(()=>{class t extends kh{constructor(e,i){var o,r;super(e,i,t.typeName),this.values=[],this.ordered=!1;const s=null!=e?e:i;if(null==s)throw new Error("Either entry or init must be provided.");this.values=null!==(o=s.values)&&void 0!==o?o:this.values,this.ordered=null!==(r=s.ordered)&&void 0!==r?r:this.ordered}toDb(){return Object.assign(Object.assign({},super.toDb()),{values:this.values,ordered:this.ordered})}update(e){Object.assign(this,e)}}return t.typeName="SituationalFactorDefinition",t})();class Fr{constructor(n,e){if(null!=n)this.factor=new Nh(n.factor,void 0),this.value=n.value;else{if(null==e)throw new Error("Either entry or init must be provided.");this.factor=new Nh(void 0,e.factor),this.value=e.value}}toDb(){return{factor:this.factor.toDb(),value:this.value}}equals(n){return null!=n&&n.value===this.value&&this.factor.equals(n.factor)}}let _s=(()=>{class t extends gs{constructor(e,i){super(e,i,t.typeName);const o=null!=e?e:i;if(null==o)throw new Error("Either entry or init must be provided.");this.name=o.name,this.description=o.description}update(e){var i,o;this.name=null!==(i=e.name)&&void 0!==i?i:this.name,this.description=null!==(o=e.description)&&void 0!==o?o:this.description}toDb(){return Object.assign(Object.assign({},super.toDb()),{name:this.name,description:this.description})}}return t.typeName="Domain",t})();class fo{constructor(n,e,i){if(null!=n)this.list=n.list,this.element=null!=n.element?new i(n.element,void 0):void 0;else{if(null==e)throw new Error("Either entry or init must be provided.");this.list=e.list,this.element=null!=e.element?new i(void 0,e.element):void 0}}update(n,e){Object.assign(this,n),this.element=this.element?e(this.element):void 0}toDb(){return{list:this.list,element:this.element?this.element.toDb():void 0}}equals(n){return null!=n&&this.list===n.list&&(null==this.element&&null==n.element||null!=this.element&&null!=n.element&&this.element.equals(n.element))}}class Ks{constructor(n,e){const i=null!=n?n:e;if(null==i)throw new Error("Either entry or init must be provided.");this.name=i.name,this.company=i.company,this.email=i.email,this.website=i.website}update(n){Object.assign(this,n)}toDb(){return{name:this.name,company:this.company,email:this.email,website:this.website}}equals(n){return null!=n&&this.name===n.name&&this.company===n.company&&this.email===n.email&&this.website===n.website}}let _r=(()=>{class t extends kh{constructor(e,i){var o;super(e,i,t.typeName),this.internalArtifact=!1,this.metaModel=void 0;const r=null!=e?e:i;if(null==r)throw new Error("Either entry or init must be provided.");this.internalArtifact=null!==(o=r.internalArtifact)&&void 0!==o?o:this.internalArtifact,this.metaModel=r.metaModel,this.metaModelData=r.metaModelData}update(e){Object.assign(this,e)}toDb(){return Object.assign(Object.assign({},super.toDb()),{internalArtifact:this.internalArtifact,metaModel:this.metaModel?{name:this.metaModel.name,type:this.metaModel.type}:void 0,metaModelData:this.metaModelData})}}return t.typeName="Artifact",t})(),Rl=(()=>{class t extends kh{constructor(e,i){super(e,i,t.typeName)}static validTypes(e,i,o){const r=l=>l.element?e.map(h=>h.element).filter(h=>null!=h).map(h=>h._id).includes(l.element._id):e.map(h=>h.list).filter(h=>h).includes(l.list),s=i.some(r),a=o.some(r);return s&&!a}update(e){Object.assign(this,e)}toDb(){return Object.assign({},super.toDb())}}return t.typeName="Type",t})(),Ol=(()=>{class t extends kh{constructor(e,i){super(e,i,t.typeName)}update(e){Object.assign(this,e)}toDb(){return Object.assign({},super.toDb())}}return t.typeName="Stakeholder",t})(),Xa=(()=>{class t extends kh{constructor(e,i){super(e,i,t.typeName)}update(e){Object.assign(this,e)}toDb(){return Object.assign({},super.toDb())}}return t.typeName="Tool",t})();class ox{constructor(n,e,i){var o,r;this.multiple=!1,this.optional=!1;const s=null!=n?n:e;if(null==s)throw new Error("Either entry or init must be provided.");this.list=s.list,this.multiple=null!==(o=s.multiple)&&void 0!==o?o:this.multiple,this.optional=null!==(r=s.optional)&&void 0!==r?r:this.optional,null!=n?this.element=null!=n.element?new i(n.element,void 0):void 0:null!=e&&(this.element=null!=e.element?new i(void 0,e.element):void 0)}update(n,e){Object.assign(this,n),this.element=this.element?e(this.element):void 0}toDb(){return{list:this.list,element:this.element?this.element.toDb():void 0,multiple:this.multiple,optional:this.optional}}equals(n){return null!=n&&this.list===n.list&&this.multiple===n.multiple&&this.optional===n.optional&&(null==this.element&&null==n.element||null!=this.element&&null!=n.element&&this.element.equals(n.element))}}class hQ extends C{constructor(n,e){super()}schedule(n,e=0){return this}}class rx extends hQ{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,i=!1;try{this.work(n)}catch(r){i=!0,o=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),o}_unsubscribe(){const n=this.id,e=this.scheduler,i=e.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&i.splice(o,1),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null}}let v7=(()=>{class t{constructor(e,i=t.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,o){return new this.SchedulerAction(this,e).schedule(o,i)}}return t.now=()=>Date.now(),t})();class Bl extends v7{constructor(n,e=v7.now){super(n,()=>Bl.delegate&&Bl.delegate!==this?Bl.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(n,e=0,i){return Bl.delegate&&Bl.delegate!==this?Bl.delegate.schedule(n,e,i):super.schedule(n,e,i)}flush(n){const{actions:e}=this;if(this.active)return void e.push(n);let i;this.active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this.active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const sx=new Bl(rx);function $i(t,n=sx){return e=>e.lift(new gQ(t,n))}class gQ{constructor(n,e){this.dueTime=n,this.scheduler=e}call(n,e){return e.subscribe(new _Q(n,this.dueTime,this.scheduler))}}class _Q extends y{constructor(n,e,i){super(n),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(vQ,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function vQ(t){t.debouncedNext()}function Rh(t,n){return e=>e.lift(new bQ(t,n))}class bQ{constructor(n,e){this.compare=n,this.keySelector=e}call(n,e){return e.subscribe(new yQ(n,this.compare,this.keySelector))}}class yQ extends y{constructor(n,e,i){super(n),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(n,e){return n===e}_next(n){let e;try{const{keySelector:o}=this;e=o?o(n):n}catch(o){return this.destination.error(o)}let i=!1;if(this.hasKey)try{const{compare:o}=this;i=o(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;i||(this.key=e,this.destination.next(n))}}function Ka(t){return t.pipe($i(150),Rh())}function b7(t,n){return fv(t,n,(e,i)=>va(e,i))}function va(t,n){return fv(t,n,(e,i)=>e.equals(i))}function mv(t,n){return fv(t,n,(e,i)=>e===i)}function fv(t,n,e){return null==t&&null==n||null!=t&&null!=n&&t.length===n.length&&n.every((i,o)=>{const r=t[o];return null==r&&null==i||null!=r&&null!=i&&e(r,i)})}class um{}class ax{constructor(n,e,i){var o,r;if(this.items=[],null!=n)this.items=n.items.map(s=>this.createMultipleSelection(s,void 0,i));else{if(null==e)throw new Error("Either entry or init must be provided.");this.items=null!==(r=null===(o=e.items)||void 0===o?void 0:o.map(s=>this.createMultipleSelection(void 0,s,i)))&&void 0!==r?r:this.items}}toDb(){return{items:this.items.map(n=>n.toDb())}}createMultipleSelection(n,e,i){return new ox(n,e,i)}equals(n){return null!=n&&n.items.length===this.items.length&&va(this.items,n.items)}}class Qa{constructor(n,e,i){var o,r,s,a;if(this.allowNone=!1,this.groups=[],null!=n)this.allowNone=n.allowNone,this.groups=n.groups.map(l=>this.createGroup(l,void 0,i)),null!=n.defaultGroup&&(this.defaultGroup=this.groups[n.defaultGroup]);else{if(null==e)throw new Error("Either entry or init must be provided.");if(this.allowNone=null!==(o=e.allowNone)&&void 0!==o?o:this.allowNone,this.groups=null!==(s=null===(r=e.groups)||void 0===r?void 0:r.map(l=>this.createGroup(void 0,l,i)))&&void 0!==s?s:this.groups,null!=e.defaultGroup){const l=null===(a=e.groups)||void 0===a?void 0:a.indexOf(e.defaultGroup);null!=l&&-1!=l&&(this.defaultGroup=this.groups[l])}}}get defaultGroupIndex(){if(null!=this.defaultGroup)return this.groups.indexOf(this.defaultGroup)}equals(n){return!(null==n||n.groups.length!==this.groups.length||null==this.defaultGroup&&null!=n.defaultGroup||null!=this.defaultGroup&&!this.defaultGroup.equals(n.defaultGroup))&&this.allowNone===n.allowNone&&va(this.groups,n.groups)}toDb(){return{allowNone:this.allowNone,groups:this.groups.map(n=>n.toDb()),defaultGroup:null!=this.defaultGroup?this.groups.indexOf(this.defaultGroup):void 0}}createGroup(n,e,i){return new ax(n,e,i)}}class dm{constructor(n,e){const i=null!=n?n:e;if(null==i)throw new Error("Either entry or init must be provided.");this.output=i.output,this.step=i.step,this.group=i.group,this.artifact=i.artifact}isStepMapping(){return!this.output&&null!=this.step}isOutputMapping(){return this.output&&null!=this.group}toDb(){const n={artifact:this.artifact,output:this.output};return this.output?n.group=this.group:n.step=this.step,n}equals(n){return null!=n&&this.output===n.output&&(this.output?this.group===n.group&&this.artifact===n.artifact:this.step===n.step&&this.artifact===n.artifact)}}class y7 extends ox{constructor(n,e){var i,o,r,s;if(super(n,e,_r),this.mapping=[],null!=n)this.mapping=null!==(o=null===(i=n.mapping)||void 0===i?void 0:i.map(a=>new dm(a,void 0)))&&void 0!==o?o:this.mapping;else{if(null==e)throw new Error("Either entry or init must be provided.");this.mapping=null!==(s=null===(r=e.mapping)||void 0===r?void 0:r.map(a=>new dm(void 0,a)))&&void 0!==s?s:this.mapping}}update(n,e){this.mapping=[],super.update(n,e),this.element=this.element?e(this.element):void 0,this.mapping=this.mapping.map(i=>new dm(void 0,i))}toDb(){return Object.assign(Object.assign({},super.toDb()),{mapping:this.mapping.map(n=>n.toDb())})}equals(n){return"mapping"in n&&super.equals(n)&&va(this.mapping,n.mapping)}}class w7 extends ax{constructor(n,e){super(n,e,_r)}toDb(){return{items:this.items.map(n=>n.toDb())}}createMultipleSelection(n,e){return new y7(n,e)}}class hv extends Qa{constructor(n,e){super(n,e,_r)}toDb(){return Object.assign(Object.assign({},super.toDb()),{groups:this.groups.map(n=>n.toDb())})}createGroup(n,e){return new w7(n,e)}}class lx{constructor(n,e){const i=null!=n?n:e;if(null==i)throw new Error("Either entry or init must be provided.");this.name=i.name,this.description=i.description}equals(n){return null!=n&&this.name===n.name&&this.description===n.description}toDb(){return{name:this.name,description:this.description}}}class cx{constructor(n,e){var i,o,r,s;this.outputMappings=[];const a=null!=n?n:e;if(null==a)throw new Error("Either entry or init must be provided.");this.module=a.module,this.method=a.method,this.predefinedInput=a.predefinedInput,null!=n?this.outputMappings=null!==(o=null===(i=n.outputMappings)||void 0===i?void 0:i.map(l=>l.map(d=>new dm(d,void 0))))&&void 0!==o?o:this.outputMappings:null!=e&&(this.outputMappings=null!==(s=null===(r=e.outputMappings)||void 0===r?void 0:r.map(l=>l.map(d=>new dm(void 0,d))))&&void 0!==s?s:this.outputMappings)}toDb(){return{module:this.module,method:this.method,predefinedInput:this.predefinedInput,outputMappings:this.outputMappings.map(n=>n.map(e=>e.toDb()))}}equals(n){return null!=n&&this.module===n.module&&this.method===n.method&&b7(this.outputMappings,n.outputMappings)}}function ux(t,n){if(null!=t)return ho(t)?new cx(t,void 0):new lx(t,void 0);if(null!=n)return ho(n)?new cx(void 0,n):new lx(void 0,n);throw new Error("Either entry or init must be provided.")}function ho(t){return null!=t.method}let fd=(()=>{class t extends gs{constructor(e,i){var o,r,s,a,l,d,h,w,P,N,L,U,q,Z,Q,K,J,ae;super(e,i,t.typeName),this.description="",this.examples=[],this.types=[],this.situationalFactors=[],this.executionSteps=[];const we=null!=e?e:i;if(null==we)throw new Error("Either entry or init must be provided.");if(this.name=we.name,this.description=null!==(o=we.description)&&void 0!==o?o:this.description,this.examples=null!==(r=we.examples)&&void 0!==r?r:this.examples,null!=e)this.author=new Ks(e.author,void 0),this.types=null!==(a=null===(s=e.types)||void 0===s?void 0:s.map(_e=>new fo(_e,void 0,Rl)))&&void 0!==a?a:this.types,this.situationalFactors=null!==(d=null===(l=e.situationalFactors)||void 0===l?void 0:l.map(_e=>new fo(_e,void 0,Fr)))&&void 0!==d?d:this.situationalFactors,this.inputArtifacts=new hv(e.inputArtifacts,void 0),this.outputArtifacts=new Qa(e.outputArtifacts,void 0,_r),this.stakeholders=new Qa(e.stakeholders,void 0,Ol),this.tools=new Qa(e.tools,void 0,Xa),this.executionSteps=null!==(w=null===(h=e.executionSteps)||void 0===h?void 0:h.map(_e=>ux(_e,void 0)))&&void 0!==w?w:this.executionSteps;else{if(null==i)throw new Error("Either entry or init must be provided.");this.author=new Ks(void 0,i.author),this.types=null!==(N=null===(P=i.types)||void 0===P?void 0:P.map(_e=>new fo(void 0,_e,Rl)))&&void 0!==N?N:this.types,this.situationalFactors=null!==(U=null===(L=i.situationalFactors)||void 0===L?void 0:L.map(_e=>new fo(void 0,_e,Fr)))&&void 0!==U?U:this.situationalFactors,this.inputArtifacts=new hv(void 0,null!==(q=i.inputArtifacts)&&void 0!==q?q:{}),this.outputArtifacts=new Qa(void 0,null!==(Z=i.outputArtifacts)&&void 0!==Z?Z:{},_r),this.stakeholders=new Qa(void 0,null!==(Q=i.stakeholders)&&void 0!==Q?Q:{},Ol),this.tools=new Qa(void 0,null!==(K=i.tools)&&void 0!==K?K:{},Xa),this.executionSteps=null!==(ae=null===(J=i.executionSteps)||void 0===J?void 0:J.map(_e=>ux(void 0,_e)))&&void 0!==ae?ae:this.executionSteps}}update(e){Object.assign(this,e),this.author=new Ks(void 0,this.author),this.types=this.types.map(i=>new fo(void 0,i,Rl)),this.situationalFactors=this.situationalFactors.map(i=>new fo(void 0,i,Fr)),this.inputArtifacts=new hv(void 0,this.inputArtifacts),this.outputArtifacts=new Qa(void 0,this.outputArtifacts,_r),this.stakeholders=new Qa(void 0,this.stakeholders,Ol),this.tools=new Qa(void 0,this.tools,Xa),this.executionSteps=this.executionSteps.map(i=>ux(void 0,i))}checkStepInputArtifacts(e,i){const o=[];o.length=i,o.fill([]);for(let r=0;r<this.executionSteps.length;r++){const s=this.executionSteps[r];if(ho(s))for(let a=0;a<s.outputMappings.length;a++){const l=s.outputMappings[a];for(const d of l)!d.output&&d.step===e&&d.artifact<o.length&&o[d.artifact].push({isStep:!0,index:r,artifact:a})}}for(let r=0;r<this.inputArtifacts.groups.length;r++){const s=this.inputArtifacts.groups[r];for(let a=0;a<s.items.length;a++){const l=s.items[a];for(const d of l.mapping)!d.output&&d.step===e&&d.artifact<o.length&&o[d.artifact].push({isStep:!1,index:r,artifact:a})}}return o}getAllToolNames(){const e=new Set;return this.tools.groups.forEach(i=>i.items.forEach(o=>{null!=o.element&&e.add(o.element.name)})),e}toDb(){return Object.assign(Object.assign({},super.toDb()),{name:this.name,description:this.description,examples:this.examples,author:this.author.toDb(),types:this.types.map(e=>e.toDb()),situationalFactors:this.situationalFactors.map(e=>e.toDb()),inputArtifacts:this.inputArtifacts.toDb(),outputArtifacts:this.outputArtifacts.toDb(),stakeholders:this.stakeholders.toDb(),tools:this.tools.toDb(),executionSteps:this.executionSteps.map(e=>e.toDb())})}}return t.typeName="DevelopmentMethod",t})();class gv{constructor(n,e,i,o){var r,s,a,l;if(this.selection=o,null!=n)o.multiple?this.elements=null!==(s=null===(r=n.elements)||void 0===r?void 0:r.map(d=>new i(d,void 0)))&&void 0!==s?s:[]:null==o.element&&(this.element=n.element?new i(n.element,void 0):void 0);else{if(null==e)throw new Error("Either entry or init must be provided.");o.multiple?this.elements=null!==(l=null===(a=e.elements)||void 0===a?void 0:a.map(d=>new i(void 0,d)))&&void 0!==l?l:[]:null==o.element&&(this.element=e.element?new i(void 0,e.element):void 0)}}getSelectedElements(){var n,e;if(this.selection.multiple)return null!==(n=this.elements)&&void 0!==n?n:[];{const i=null!==(e=this.selection.element)&&void 0!==e?e:this.element;return null==i?[]:[i]}}getSelectedElementsOptional(){return this.getSelectedElements().map(n=>({element:n,optional:this.selection.optional}))}isComplete(){var n,e;return null!=this.selection.element||this.selection.multiple&&(null!==(e=null===(n=this.elements)||void 0===n?void 0:n.length)&&void 0!==e?e:0)>0||this.selection.optional||null!=this.element}equals(n){return null!=n&&(null!=this.elements?null!=n.elements&&va(this.elements,n.elements):null!=this.element?null!=n.element&&this.element.equals(n.element):!(null!=n.element||null!=n.elements))}toDb(){var n,e;return{element:null===(n=this.element)||void 0===n?void 0:n.toDb(),elements:null===(e=this.elements)||void 0===e?void 0:e.map(i=>i.toDb())}}}class Ja{constructor(n,e,i,o){if(this.databaseConstructor=i,this.groups=o,null!=n){if(null!=n.group){if(this.group=this.groups.groups[n.group],null==n.elementDecisions||n.elementDecisions.length!==this.group.items.length)throw new Error("Group Decision Entry is broken");this.elementDecisions=n.elementDecisions.map((r,s)=>new gv(r,void 0,i,this.group.items[s]))}}else{if(null==e)throw new Error("Either entry or init must be provided.");if(!this.groups.allowNone||null!==e.groupIndex&&null!==e.group)if(null!=e.groupIndex)this.group=this.groups.groups[e.groupIndex];else if(null!=e.group){const r=this.groups.groups.indexOf(e.group);if(-1==r)throw new Error("Group Init specifies invalid group");this.group=this.groups.groups[r]}else null!=this.groups.defaultGroup&&(this.group=this.groups.defaultGroup);else this.group=null;null!=this.group&&(this.elementDecisions=null!=e.elementDecisions&&e.elementDecisions.length===this.group.items.length?e.elementDecisions.map((r,s)=>new gv(void 0,r,i,this.group.items[s])):this.group.items.map((r,s)=>new gv(void 0,{},i,this.group.items[s])))}}set groupIndex(n){this.groups.allowNone&&null===n?(this.group=null,this.elementDecisions=void 0):null==n?(this.group=void 0,this.elementDecisions=void 0):(this.group=this.groups.groups[n],this.elementDecisions=this.group.items.map((e,i)=>new gv(void 0,{},this.databaseConstructor,this.group.items[i])))}get groupIndex(){return null!=this.group?this.groups.groups.indexOf(this.group):this.groups.allowNone&&null===this.group?null:void 0}getSelectedElements(){return null==this.group||null==this.elementDecisions?[]:this.elementDecisions.reduce((n,e)=>n.concat(e.getSelectedElements()),[])}getSelectedElementsOptional(){return null==this.group||null==this.elementDecisions?[]:this.elementDecisions.reduce((n,e)=>n.concat(e.getSelectedElementsOptional()),[])}isComplete(){return 0===this.groups.groups.length||(null==this.group||null==this.elementDecisions?this.groups.allowNone:this.elementDecisions.every(n=>n.isComplete()))}equals(n){return null!=n&&(null!=this.group&&null!=this.elementDecisions?this.group.equals(n.group)&&this.elementDecisions.every((e,i)=>{var o;return e.equals(null===(o=n.elementDecisions)||void 0===o?void 0:o[i])}):null==n.group&&null==n.elementDecisions)}toDb(){var n;return{group:null!=this.group?this.groups.groups.indexOf(this.group):void 0,elementDecisions:null===(n=this.elementDecisions)||void 0===n?void 0:n.map(e=>e.toDb())}}}class dx extends Ja{constructor(n,e,i){super(n,e,_r,i),this.groups=i}}class yc{constructor(n,e){var i,o,r,s;if(null!=n)this.method=new fd(n.method,void 0),this.inputArtifacts=new dx(n.inputArtifacts,void 0,this.method.inputArtifacts),this.outputArtifacts=new Ja(n.outputArtifacts,void 0,_r,this.method.outputArtifacts),this.stakeholders=new Ja(n.stakeholders,void 0,Ol,this.method.stakeholders),this.tools=new Ja(n.tools,void 0,Xa,this.method.tools),this.stepDecisions=n.stepDecisions;else{if(null==e)throw new Error("Either entry or init must be provided.");this.method=new fd(void 0,e.method),this.inputArtifacts=new dx(void 0,null!==(i=e.inputArtifacts)&&void 0!==i?i:{},this.method.inputArtifacts),this.outputArtifacts=new Ja(void 0,null!==(o=e.outputArtifacts)&&void 0!==o?o:{},_r,this.method.outputArtifacts),this.stakeholders=new Ja(void 0,null!==(r=e.stakeholders)&&void 0!==r?r:{},Ol,this.method.stakeholders),this.tools=new Ja(void 0,null!==(s=e.tools)&&void 0!==s?s:{},Xa,this.method.tools),this.stepDecisions=null!=e.stepDecisions&&e.stepDecisions.length===this.method.executionSteps.length?e.stepDecisions:this.method.executionSteps.map(()=>{})}}update(n){null!=n.inputArtifacts&&(this.inputArtifacts=new dx(void 0,n.inputArtifacts,this.method.inputArtifacts)),null!=n.outputArtifacts&&(this.outputArtifacts=new Ja(void 0,n.outputArtifacts,_r,this.method.outputArtifacts)),null!=n.stakeholders&&(this.stakeholders=new Ja(void 0,n.stakeholders,Ol,this.method.stakeholders)),null!=n.tools&&(this.tools=new Ja(void 0,n.tools,Xa,this.method.tools)),null!=n.stepDecisions&&(this.stepDecisions=n.stepDecisions)}isComplete(){return this.inputArtifacts.isComplete()&&this.outputArtifacts.isComplete()&&this.stakeholders.isComplete()&&this.tools.isComplete()}toDb(){return{method:this.method.toDb(),inputArtifacts:this.inputArtifacts.toDb(),outputArtifacts:this.outputArtifacts.toDb(),stakeholders:this.stakeholders.toDb(),tools:this.tools.toDb(),stepDecisions:this.stepDecisions}}}let pm=(()=>{class t extends gs{constructor(e,i){var o,r,s,a,l,d,h,w,P;let N;if(super(e,i,t.typeName),this.initial=!0,this.domains=[],this.situationalFactors=[],this.decisions={},null!=e)N=e,this.domains=null!==(r=null===(o=e.domains)||void 0===o?void 0:o.map(L=>new _s(L,void 0)))&&void 0!==r?r:this.domains,this.situationalFactors=null!==(a=null===(s=e.situationalFactors)||void 0===s?void 0:s.map(L=>new fo(L,void 0,Fr)))&&void 0!==a?a:this.situationalFactors,e.decisions&&Object.entries(e.decisions).forEach(([L,U])=>this.decisions[L]=new yc(U,void 0));else{if(null==i)throw new Error("Either entry or init must be provided.");N=i,this.domains=null!==(d=null===(l=i.domains)||void 0===l?void 0:l.map(L=>new _s(void 0,L)))&&void 0!==d?d:this.domains,this.situationalFactors=null!==(w=null===(h=i.situationalFactors)||void 0===h?void 0:h.map(L=>new fo(void 0,L,Fr)))&&void 0!==w?w:this.situationalFactors,i.decisions&&Object.entries(i.decisions).forEach(([L,U])=>this.decisions[L]=new yc(void 0,U))}this.initial=null!==(P=N.initial)&&void 0!==P?P:this.initial,this.name=N.name,this.processDiagram=N.processDiagram}addDecision(e,i){this.decisions[e]=new yc(void 0,{method:i})}removeDecision(e){delete this.decisions[e]}finishInitialization(){this.initial=!1}updateDecisions(e){this.decisions={},Object.entries(e).forEach(([i,o])=>this.decisions[i]=new yc(void 0,o))}isComplete(){return Object.values(this.decisions).every(e=>e.isComplete())}toDb(){const e={};return Object.entries(this.decisions).forEach(([i,o])=>{e[i]=o.toDb()}),Object.assign(Object.assign({},super.toDb()),{initial:this.initial,name:this.name,processDiagram:this.processDiagram,domains:this.domains.map(i=>i.toDb()),situationalFactors:this.situationalFactors.map(i=>i.toDb()),decisions:e})}}return t.typeName="BmProcess",t})();class x7{constructor(n,e){var i;this.relationships={};const o=null!=n?n:e;this.relationships=null!==(i=null==o?void 0:o.relationships)&&void 0!==i?i:this.relationships}addRelationship(n,e){n in this.relationships||(this.relationships[n]=[]);const i=this.relationships[n];i.includes(e)||i.push(e)}removeRelationship(n,e){const i=this.relationships[n];null!=i&&(this.relationships[n]=i.filter(o=>o!==e),0===this.relationships[n].length&&delete this.relationships[n])}removeRelationships(n){Object.keys(this.relationships).forEach(i=>{this.relationships[i]=this.relationships[i].filter(o=>!n.includes(o)),0===this.relationships[i].length&&delete this.relationships[i]})}hasNoRelationships(){return 0===Object.values(this.relationships).map(i=>i.length).reduce((i,o)=>i+o,0)}getAllReferencedFeatureIds(){return Object.values(this.relationships).reduce((e,i)=>e.concat(i),[])}getRelationships(n){const e=this.relationships[n];return null==e?[]:e}hasRelationship(n,e){return this.getRelationships(n).includes(e)}getRelationshipTypes(){return Object.keys(this.relationships)}toDb(){return{relationships:this.relationships}}}var wc=(()=>(function(t){t.OPTIONAL="optional",t.MANDATORY="mandatory"}(wc||(wc={})),wc))(),Ll=(()=>(function(t){t.OR="or",t.XOR="xor"}(Ll||(Ll={})),Ll))();class jl{constructor(n,e,i,o){var r,s,a,l,d,h,w;let P;if(this.description="",this.type=wc.OPTIONAL,this.subfeatures={},this.expertModelTrace={},this.guidingQuestions=[],this.examples=[],this.id=i,this.parent=o,this.level=null!=this.parent?this.parent.level+1:1,null!=n)P=n,this.relationships=new x7(n.relationships,void 0),null!=n.subfeatures&&Object.entries(n.subfeatures).forEach(([N,L])=>this.subfeatures[N]=new jl(L,void 0,N,this));else{if(null==e)throw new Error("Either entry or init must be provided.");P=e,this.relationships=new x7(void 0,null!==(r=e.relationships)&&void 0!==r?r:{}),null!=e.subfeatures&&Object.entries(e.subfeatures).forEach(([N,L])=>this.subfeatures[N]=new jl(void 0,L,N,this))}this.name=P.name,this.description=null!==(s=P.description)&&void 0!==s?s:this.description,this.type=null!==(a=P.type)&&void 0!==a?a:this.type,this.expertModelTrace=null!==(l=P.expertModelTrace)&&void 0!==l?l:this.expertModelTrace,this.subfeatureConnections=null!==(d=P.subfeatureConnections)&&void 0!==d?d:this.subfeatureConnections,this.guidingQuestions=null!==(h=P.guidingQuestions)&&void 0!==h?h:this.guidingQuestions,this.examples=null!==(w=P.examples)&&void 0!==w?w:this.examples}get fixId(){return null==this._fixId&&(this._fixId=this.getFixId()),this._fixId}getFixId(){return"_"+this.id.replace(/[&/]/,"")}update(n){Object.assign(this,n)}addSubfeature(n){const e=n.id;return this.subfeatures[e]=new jl(void 0,n,e,this),this.subfeatures[e]}removeSubfeature(n){if(!(n in this.subfeatures))throw new Error("Feature "+this.name+" has no subfeature with id "+n);delete this.subfeatures[n]}getAllSubfeatures(){const n=[];return this.iterateFeatures(i=>(n.push(i),!1)),n}getLevelname(){return"-".repeat(this.level)+" "+this.name}addRelationship(n,e){this.relationships.addRelationship(n,e)}removeRelationship(n,e){this.relationships.removeRelationship(n,e)}removeRelationships(n){this.relationships.removeRelationships(n)}addTrace(n,e){if(this.expertModelTrace[n])throw new Error("Trace for this feature is already defined");this.expertModelTrace[n]=e}removeTrace(n){delete this.expertModelTrace[n]}toDb(){const n={};return Object.entries(this.subfeatures).forEach(([e,i])=>n[e]=i.toDb()),{name:this.name,description:this.description,type:this.type,subfeatures:n,subfeatureConnections:this.subfeatureConnections,relationships:this.relationships.toDb(),expertModelTrace:this.expertModelTrace,guidingQuestions:this.guidingQuestions,examples:this.examples}}toJSON(){return{name:this.name,description:this.description,type:this.type,subfeatures:this.subfeatures,subfeatureConnections:this.subfeatureConnections,relationships:this.relationships,guidingQuestions:this.guidingQuestions,examples:this.examples}}iterateFeatures(n){const e=[];for(e.push(...Object.values(this.subfeatures).reverse());e.length>0;){const i=e.pop();if(n(i))return;e.push(...Object.values(i.subfeatures).reverse())}}}var ba=(()=>(function(t){t.PATTERN="pattern",t.EXAMPLE="example"}(ba||(ba={})),ba))();class mm{constructor(n,e){var i,o;this.description="",this.usedFeatures=[];const r=null!=n?n:e;if(null==r)throw new Error("Either entry or init must be provided.");this.id=r.id,this.name=r.name,this.type=r.type,this.description=null!==(i=r.description)&&void 0!==i?i:this.description,this.usedFeatures=null!==(o=r.usedFeatures)&&void 0!==o?o:this.usedFeatures}update(n){Object.assign(this,n)}addFeature(n){if(this.usedFeatures.includes(n))throw new Error("Feature with id "+n+" is already used in instance "+this.name);this.usedFeatures.push(n)}removeFeature(n){if(!this.usedFeatures.includes(n))throw new Error("Feature with id "+n+" is not used in instance "+this.name);this.usedFeatures=this.usedFeatures.filter(e=>e!==n)}removeFeatures(n){this.usedFeatures=this.usedFeatures.filter(e=>!n.includes(e))}toDb(){return{id:this.id,name:this.name,type:this.type,description:this.description,usedFeatures:this.usedFeatures}}toJSON(){return{name:this.name,type:this.type,description:this.description,usedFeatures:this.usedFeatures}}}function Oh(t,n){const e=function wQ(t){return t.toLowerCase().replace(/ /g,"-")}(t),i=n.filter(r=>r.startsWith(e));if(0===i.length)return e;const o=Math.max(...i.map(r=>r.substring(e.length+1)).filter(r=>/^[0-9]+$/.test(r)).map(r=>parseInt(r,10)),0);return e+"-"+(o+1)}class _v{constructor(n,e){var i,o;this.guidingQuestions=[],this.examples=[];const r=null!=n?n:e;if(null==r)throw new Error("Either entry or init must be provided.");this.isSpacer=r.isSpacer,this.id=r.id,this.name=r.name,this.rowspan=r.rowspan,this.colspan=r.colspan,this.guidingQuestions=null!==(i=r.guidingQuestions)&&void 0!==i?i:this.guidingQuestions,this.examples=null!==(o=r.examples)&&void 0!==o?o:this.examples}toDb(){return{isSpacer:this.isSpacer,id:this.id,name:this.name,rowspan:this.rowspan,colspan:this.colspan,guidingQuestions:this.guidingQuestions,examples:this.examples}}equals(n){return null!=n&&this.isSpacer===n.isSpacer&&this.name===n.name&&this.rowspan===n.rowspan&&this.colspan===n.colspan&&mv(this.guidingQuestions,n.guidingQuestions)&&mv(this.examples,n.examples)}}let fm=(()=>{class t extends gs{constructor(e,i){var o,r,s,a,l;super(e,i,t.typeName),this.rows=[],this.relationshipTypes=[];const d=null!=e?e:i;if(null==d)throw new Error("Either entry or init must be provided.");this.name=d.name,this.description=d.description,this.relationshipTypes=null!==(o=d.relationshipTypes)&&void 0!==o?o:this.relationshipTypes,null!=e?this.rows=null!==(s=null===(r=e.rows)||void 0===r?void 0:r.map(h=>h.map(w=>new _v(w,void 0))))&&void 0!==s?s:this.rows:null!=i&&(this.rows=null!==(l=null===(a=i.rows)||void 0===a?void 0:a.map(h=>h.map(w=>new _v(void 0,w))))&&void 0!==l?l:this.rows)}update(e){Object.assign(this,e)}updateRows(e){const i=new Set;e.forEach(o=>o.filter(r=>!r.isSpacer).forEach(r=>{if(null==r.name)throw new Error("Cell without name that is not a spacer");r.id?i.has(r.id)&&(r.id=Oh(r.name,Array.from(i))):r.id=Oh(r.name,Array.from(i)),i.add(r.id)})),this.rows=e}get rootFeatures(){const e=[];return this.rows.forEach(i=>i.filter(o=>!o.isSpacer).forEach(o=>{if(null==o.name)throw new Error("Cell without name that is not a spacer");if(null==o.id)throw new Error("Cell has no id");e.push(new jl(void 0,{name:o.name,guidingQuestions:o.guidingQuestions,examples:o.examples},o.id,void 0))})),e}toDb(){return Object.assign(Object.assign({},super.toDb()),{name:this.name,description:this.description,rows:this.rows.map(e=>e.map(i=>i.toDb())),relationshipTypes:this.relationshipTypes})}toJSON(){return{name:this.name,description:this.description,rows:this.rows.map(e=>e.map(i=>i.toDb())),relationshipTypes:this.relationshipTypes}}}return t.typeName="CanvasDefinition",t})();class C7 extends gs{constructor(n,e,i){var o,r,s,a,l,d,h,w,P;let N;if(super(n,e,i),this.description="",this.copyright="",this.features={},this.instances=[],this.nextInstanceId=0,null!=n)N=n,this.author=new Ks(n.author,void 0),null!=n.features&&Object.entries(n.features).forEach(([L,U])=>this.features[L]=new jl(U,void 0,L,void 0)),this.instances=null!==(r=null===(o=n.instances)||void 0===o?void 0:o.map(L=>new mm(L,void 0)))&&void 0!==r?r:this.instances,this.$definition=new fm(n.$definition,void 0);else{if(null==e)throw new Error("Either entry or init must be provided.");N=e,this.author=new Ks(void 0,null!==(s=e.author)&&void 0!==s?s:{}),null!=e.features&&Object.entries(e.features).forEach(([L,U])=>this.features[L]=new jl(void 0,U,L,void 0)),this.instances=null!==(l=null===(a=e.instances)||void 0===a?void 0:a.map(L=>new mm(void 0,L)))&&void 0!==l?l:this.instances,this.$definition=new fm(void 0,e.$definition)}this.nextInstanceId=(null!==(d=N.nextInstanceId)&&void 0!==d?d:0)>=this.instances.length?null!==(h=N.nextInstanceId)&&void 0!==h?h:0:this.instances.length,this.name=N.name,this.description=null!==(w=N.description)&&void 0!==w?w:this.description,this.copyright=null!==(P=N.copyright)&&void 0!==P?P:this.copyright}set definition(n){this.$definition=n,this.features={},this.instances=[],this.$definition.rootFeatures.forEach(e=>this.features[e.id]=new jl(void 0,e,e.id,void 0))}get definition(){return this.$definition}update(n){void 0!==n.name&&(this.name=n.name),void 0!==n.description&&(this.description=n.description),void 0!==n.copyright&&(this.copyright=n.copyright)}updateAuthor(n){this.author.update(n)}addFeature(n,e){const i=this.getFeature(e);return null==n.id&&(n.id=this.getFeatureId(n.name)),i.addSubfeature(n)}getFeatureId(n){return Oh(n,this.getFeatureList().map(e=>e.id))}removeFeature(n){const e=this.getFeature(n),i=e.parent;if(null==i)throw new Error("Can not remove root features");i.removeSubfeature(n);const o=e.getAllSubfeatures();o.push(e);const r=o.map(s=>s.id);this.cleanReferences(r,o)}cleanReferences(n,e){this.iterateFeatures(o=>(o.removeRelationships(n),!1)),this.instances.forEach(o=>o.removeFeatures(n))}updateFeature(n,e,i){const o=this.getFeature(n);o.update(i);const r=o.parent;if(null==r&&null!=e)throw new Error("Can not move root features");if(null!=r&&null==e)throw new Error("Can not move to root features");if(null!=r&&r.id!==e){const s=this.getFeature(e);r.removeSubfeature(n),s.addSubfeature(o)}}getFeatureList(){const n=[];return this.iterateFeatures(i=>(n.push({id:i.id,levelname:i.getLevelname()}),!1)),n}getFeatureMap(){const n={};return this.iterateFeatures(i=>(n[i.id]=i,!1)),n}getFeature(n){let e;if(this.iterateFeatures(o=>o.id===n&&(e=o,!0)),null==e)throw new Error("Feature with id "+n+" does not exist on feature model "+this.name);return e}addRelationship(n,e,i){if(!this.definition.relationshipTypes.includes(n))throw new Error("Relationship type "+n+" is not defined for this feature model.");const o=this.getFeature(e);this.getFeature(i),o.addRelationship(n,i)}removeRelationship(n,e,i){if(!this.definition.relationshipTypes.includes(n))throw new Error("Relationship type "+n+" is not defined for this feature model.");this.getFeature(e).removeRelationship(n,i)}addInstance(n){const e=new mm(void 0,Object.assign(Object.assign({},n),{id:this.nextInstanceId++}));return this.definition.rootFeatures.every(i=>e.usedFeatures.includes(i.id))||this.definition.rootFeatures.forEach(i=>e.addFeature(i.id)),this.instances.push(e),e}getInstance(n){return this.instances.find(e=>e.id===n)}removeInstance(n){this.instances=this.instances.filter(e=>e.id!==n)}updateInstance(n,e){const i=this.instances.find(o=>o.id===n);if(null==i)throw new Error("Instance does not exist");i.update(e)}adaptInstance(n,e){const i=this.instances.find(r=>r.id===n);if(null==i)throw new Error("Instance does not exist");this.addInstance(i).update({id:this.nextInstanceId-1,name:e})}addFeatureToInstance(n,e){this.getFeature(e);const i=this.instances.find(o=>o.id===n);if(null==i)throw new Error("Instance does not exist");i.addFeature(e)}removeFeatureFromInstance(n,e){const i=this.getInstance(n);if(null==i)throw new Error("Instance does not exist");const o=this.getFeature(e),r=o.getAllSubfeatures().map(s=>s.id);i.removeFeature(o.id),i.removeFeatures(r)}toDb(){const n={};return Object.entries(this.features).forEach(([e,i])=>n[e]=i.toDb()),Object.assign(Object.assign({},super.toDb()),{name:this.name,description:this.description,copyright:this.copyright,author:this.author.toDb(),features:n,instances:this.instances.map(e=>e.toDb()),nextInstanceId:this.nextInstanceId,$definition:this.$definition.toDb()})}toJSON(){return{$definition:this.$definition,name:this.name,description:this.description,copyright:this.copyright,author:this.author,features:this.features,instances:this.instances}}iterateFeatures(n,e=(()=>!0)){const i=[];for(i.push(...Object.values(this.features).reverse().filter(e));i.length>0;){const o=i.pop();if(n(o))return;i.push(...Object.values(o.subfeatures).reverse().filter(e))}}}class px{constructor(n,e){var i;this.expertFeatureIdMap={};const o=null!=n?n:e;this.expertFeatureIdMap=null!==(i=null==o?void 0:o.expertFeatureIdMap)&&void 0!==i?i:this.expertFeatureIdMap}addTrace(n,e){this.expertFeatureIdMap[n]=e}deleteTrace(n){delete this.expertFeatureIdMap[n]}toDb(){return{expertFeatureIdMap:this.expertFeatureIdMap}}}let No=(()=>{class t extends C7{constructor(e,i){var o,r;super(e,i,t.typeName),this.expertModelTraces={},this.createdByMethod=!1,null!=e?null!=e.expertModelTraces&&Object.entries(e.expertModelTraces).forEach(([s,a])=>this.expertModelTraces[s]=new px(a,void 0)):null!=i&&null!=i.expertModelTraces&&Object.entries(i.expertModelTraces).forEach(([s,a])=>this.expertModelTraces[s]=new px(void 0,a)),this.createdByMethod=null!==(r=null===(o=null!=e?e:i)||void 0===o?void 0:o.createdByMethod)&&void 0!==r?r:this.createdByMethod}cleanReferences(e,i){super.cleanReferences(e,i);for(const o of i)for(const[r,s]of Object.entries(o.expertModelTrace))this.expertModelTraces[r].deleteTrace(s)}addExpertModel(e){this.expertModelTraces[e]=new px(void 0,{});for(const i of Object.values(this.features))this.expertModelTraces[e].addTrace(i.id,i.id),i.addTrace(e,i.id)}removeExpertModel(e){delete this.expertModelTraces[e],this.iterateFeatures(i=>(i.removeTrace(e),!1))}addExpertModelTrace(e,i,o){const r=e.getFeature(i);this.getFeature(o).addTrace(e._id,i),this.expertModelTraces[e._id].addTrace(i,o);const a=e.definition.relationshipTypes;a.forEach(d=>this.addTraceRelationship(e._id,r,o,d)),e.iterateFeatures(d=>(a.forEach(h=>{if(d.relationships.hasRelationship(h,i)){const w=this.expertModelTraces[e._id].expertFeatureIdMap[d.id];null!=w&&this.addRelationship(h,w,o)}}),!1))}addTraceRelationship(e,i,o,r){const s=i.relationships.getRelationships(r);for(const a of s){const l=this.expertModelTraces[e].expertFeatureIdMap[a];l&&this.addRelationship(r,o,l)}}removeTrace(e,i){const o=this.getFeature(e);if(e in this.features)throw new Error("Can not delete trace of main features");const r=o.getAllSubfeatures();r.push(o);for(const s of r)this.expertModelTraces[i].deleteTrace(s.expertModelTrace[i]),s.removeTrace(i)}get expertModelIds(){return Object.keys(this.expertModelTraces)}toDb(){const e={};return Object.entries(this.expertModelTraces).forEach(([i,o])=>e[i]=o.toDb()),Object.assign(Object.assign({},super.toDb()),{expertModelTraces:e,createdByMethod:this.createdByMethod})}}return t.typeName="CompanyModel",t})(),hd=(()=>{class t extends C7{constructor(e,i){var o,r,s,a,l,d;if(super(e,i,t.typeName),this.domains=[],this.version="",null!=e)this.domains=null!==(r=null===(o=e.domains)||void 0===o?void 0:o.map(h=>new _s(h,void 0)))&&void 0!==r?r:this.domains,this.version=null!==(s=e.version)&&void 0!==s?s:this.version;else{if(null==i)throw new Error("Either entry or init must be provided.");this.domains=null!==(l=null===(a=i.domains)||void 0===a?void 0:a.map(h=>new _s(void 0,h)))&&void 0!==l?l:this.domains,this.version=null!==(d=i.version)&&void 0!==d?d:this.version}}update(e){super.update(e),void 0!==e.version&&(this.version=e.version)}updateDomains(e){this.domains=e.map(i=>new _s(void 0,i))}getExamples(){return this.instances.filter(e=>e.type===ba.EXAMPLE)}getPatterns(){return this.instances.filter(e=>e.type===ba.PATTERN)}toDb(){return Object.assign(Object.assign({},super.toDb()),{domains:this.domains.map(e=>e.toDb()),version:this.version})}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{version:this.version})}}return t.typeName="ExpertModel",t})();var go=(()=>(function(t){t[t.CUSTOM=0]="CUSTOM",t[t.STRING=1]="STRING",t[t.REFERENCE=2]="REFERENCE"}(go||(go={})),go))();class Gl{constructor(n,e){var i;this.type=go.STRING;const o=null!=n?n:e;if(null==o)throw new Error("Either entry or init must be provided.");this.type=null!==(i=o.type)&&void 0!==i?i:this.type,this.data=o.data}toDb(){return{type:this.type,data:this.data}}}class vv{constructor(n,e){var i,o,r;this.editing=!1;const s=null!=n?n:e;if(null==s)throw new Error("Either entry or init must be provided.");if(this.id=null!==(i=s.id)&&void 0!==i?i:md(),this.time=null!==(o=s.time)&&void 0!==o?o:Date.now(),this.createdBy=s.createdBy,this.importName=s.importName,this.executedBy=s.executedBy,this.editing=null!==(r=s.editing)&&void 0!==r?r:this.editing,null!=n)this.data=new Gl(n.data,void 0);else{if(null==e)throw new Error("Either entry or init must be provided.");this.data=new Gl(void 0,e.data)}}toDb(){return{id:this.id,time:this.time,createdBy:this.createdBy,importName:this.importName,executedBy:this.executedBy,data:this.data.toDb(),editing:this.editing}}}let mu=(()=>{class t extends gs{constructor(e,i){var o,r,s,a;if(super(e,i,t.typeName),this.versions=[],null!=e)this.identifier=e.identifier,this.artifact=new _r(e.artifact,void 0),this.versions=null!==(r=null===(o=e.versions)||void 0===o?void 0:o.map(l=>new vv(l,void 0)))&&void 0!==r?r:this.versions;else{if(null==i)throw new Error("Either entry or init must be provided.");this.identifier=i.identifier,this.artifact=new _r(void 0,i.artifact),this.versions=null!==(a=null===(s=i.versions)||void 0===s?void 0:s.map(l=>new vv(void 0,l)))&&void 0!==a?a:this.versions}}addVersion(e){this.versions.push(new vv(void 0,e))}getVersion(e){return this.versions.find(i=>i.id===e)}getVersionNumber(e){const i=this.versions.indexOf(e);if(-1===i)throw new Error("Artifact and version do not match");return i}getLatestVersion(){if(0!==this.versions.length)return this.versions[this.versions.length-1]}toDb(){return Object.assign(Object.assign({},super.toDb()),{identifier:this.identifier,artifact:this.artifact.toDb(),versions:this.versions.map(e=>e.toDb())})}}return t.typeName="RunningArtifact",t})();class fu{constructor(n,e){if(null!=n)this.metaModelType=n.metaModelType,this.data=new Gl(n.data,void 0);else{if(null==e)throw new Error("Either entry or init must be provided.");this.metaModelType=e.metaModelType,this.data=new Gl(void 0,e.data)}}toDb(){return{metaModelType:this.metaModelType,data:this.data.toDb()}}}class mx{constructor(n,e){var i,o,r,s,a,l,d,h;if(null!=n)this.inputArtifacts=null!==(o=null===(i=n.inputArtifacts)||void 0===i?void 0:i.map(w=>new fu(w,void 0)))&&void 0!==o?o:this.inputArtifacts,this.outputArtifacts=null!==(s=null===(r=n.outputArtifacts)||void 0===r?void 0:r.map(w=>new fu(w,void 0)))&&void 0!==s?s:this.outputArtifacts;else{if(null==e)throw new Error("Either entry or init must be provided.");this.inputArtifacts=null!==(l=null===(a=e.inputArtifacts)||void 0===a?void 0:a.map(w=>new fu(void 0,w)))&&void 0!==l?l:this.inputArtifacts,this.outputArtifacts=null!==(h=null===(d=e.outputArtifacts)||void 0===d?void 0:d.map(w=>new fu(void 0,w)))&&void 0!==h?h:this.outputArtifacts}}finish(n){this.outputArtifacts=n}toDb(){return{inputArtifacts:this.inputArtifacts?this.inputArtifacts.map(n=>n.toDb()):void 0,outputArtifacts:this.outputArtifacts?this.outputArtifacts.map(n=>n.toDb()):void 0}}}class fx extends fu{constructor(n,e){if(super(n,e),null!=n)this.identifier=n.identifier,this.versionInfo=n.versionInfo,this.artifact=new _r(n.artifact,void 0);else{if(null==e)throw new Error("Either entry or init must be provided.");this.identifier=e.identifier,this.versionInfo=e.versionInfo,this.artifact=new _r(void 0,e.artifact)}}toDb(){return Object.assign(Object.assign({},super.toDb()),{identifier:this.identifier,artifact:this.artifact.toDb(),versionInfo:this.versionInfo})}}class Bh{constructor(n,e){var i,o;const r=null!=n?n:e;if(null==r)throw new Error("Either entry or init must be provided.");this.id=null!==(i=r.id)&&void 0!==i?i:md(),this.time=null!==(o=r.time)&&void 0!==o?o:Date.now(),this.userName=r.userName,this.title=r.title,this.comment=r.comment}update(n){Object.assign(this,n)}toDb(){return{id:this.id,time:this.time,userName:this.userName,title:this.title,comment:this.comment}}}class bv{constructor(n,e){let i;if(null!=n)i=n,this.data=new Gl(n.data,void 0);else{if(null==e)throw new Error("Either entry or init must be provided.");i=e,this.data=new Gl(void 0,e.data)}this.isDefinition=i.isDefinition,this.artifact=i.artifact,this.artifactName=i.artifactName}toDb(){return{isDefinition:this.isDefinition,artifact:this.artifact,artifactName:this.artifactName,data:this.data.toDb()}}}class hm{constructor(n,e){var i,o,r,s,a,l,d,h,w,P,N,L,U,q,Z,Q,K,J;let ae;if(this.comments=[],this.currentStepNumber=0,this.steps=[],null!=n)ae=n,this.comments=null!==(o=null===(i=n.comments)||void 0===i?void 0:i.map(we=>new Bh(we,void 0)))&&void 0!==o?o:this.comments,this.decision=new yc(n.decision,void 0),this.steps=null!==(s=null===(r=n.steps)||void 0===r?void 0:r.map(we=>new mx(we,void 0)))&&void 0!==s?s:this.steps,this.inputArtifacts=null!==(l=null===(a=n.inputArtifacts)||void 0===a?void 0:a.map(we=>we?new fx(we,void 0):void 0))&&void 0!==l?l:this.inputArtifacts,this.outputArtifacts=null!==(h=null===(d=n.outputArtifacts)||void 0===d?void 0:d.map(we=>we?new bv(we,void 0):void 0))&&void 0!==h?h:this.outputArtifacts;else{if(null==e)throw new Error("Either entry or init must be provided.");ae=e,this.comments=null!==(P=null===(w=e.comments)||void 0===w?void 0:w.map(we=>new Bh(void 0,we)))&&void 0!==P?P:this.comments,this.decision=new yc(void 0,e.decision),this.steps=null!==(L=null===(N=e.steps)||void 0===N?void 0:N.map(we=>new mx(void 0,we)))&&void 0!==L?L:this.steps,this.inputArtifacts=null!==(q=null===(U=e.inputArtifacts)||void 0===U?void 0:U.map(we=>we?new fx(void 0,we):void 0))&&void 0!==q?q:this.inputArtifacts,this.outputArtifacts=null!==(Q=null===(Z=e.outputArtifacts)||void 0===Z?void 0:Z.map(we=>we?new bv(void 0,we):void 0))&&void 0!==Q?Q:this.outputArtifacts}this.nodeId=ae.nodeId,this.executionId=null!==(K=ae.executionId)&&void 0!==K?K:md(),this.currentStepNumber=null!==(J=ae.currentStepNumber)&&void 0!==J?J:this.currentStepNumber}finishStepExecution(n){this.steps[this.currentStepNumber].finish(n),this.currentStepNumber+=1}hasStepsLeft(){return this.currentStepNumber<this.steps.length}hasSteps(){return this.steps.length>0}isPrepared(){return null!=this.steps[this.currentStepNumber].inputArtifacts}setInternalStepArtifacts(n){this.steps[this.currentStepNumber].inputArtifacts=n}getInternalStepArtifacts(){return this.steps[this.currentStepNumber].inputArtifacts}getProcessOutputArtifacts(){return this.decision.outputArtifacts.getSelectedElements()}getAllStepArtifacts(){const n=[];return this.steps.forEach(e=>{null!=e.inputArtifacts&&n.push(...e.inputArtifacts),null!=e.outputArtifacts&&n.push(...e.outputArtifacts)}),n}getStepArtifacts(n,e){return this.iterateMappings(e,i=>!i.output&&i.step===n)}getOutputArtifacts(){const n=this.decision.outputArtifacts.group;if(null==n)return[];const e=this.decision.outputArtifacts.groupIndex;return this.iterateMappings(n.items.length,i=>i.output&&i.group===e)}iterateMappings(n,e){const i=[];return i.length=n,this.iterateInputMappings(i,e),this.iterateExecutionStepMappings(i,e),i}iterateInputMappings(n,e){const i=this.decision.inputArtifacts.group;if(null==this.inputArtifacts)throw new Error("Input artifacts not set on running method");if(null!=i)for(let o=0;o<i.items.length;o++){const r=i.items[o];for(const s of r.mapping)e(s)&&null!=this.inputArtifacts[o]&&(n[s.artifact]=this.inputArtifacts[o])}}iterateExecutionStepMappings(n,e){var i;const o=this.decision.method;for(let r=0;r<o.executionSteps.length;r++){const s=o.executionSteps[r];if(ho(s))for(let a=0;a<s.outputMappings.length;a++){const l=s.outputMappings[a];for(const d of l)e(d)&&(n[d.artifact]=null===(i=this.steps[r].outputArtifacts)||void 0===i?void 0:i[a])}}}updateOutputArtifacts(n){this.outputArtifacts=n}hasOutputArtifactsCorrectlyDefined(){const n=this.decision.outputArtifacts.getSelectedElements();return 0===n.length||null!=this.outputArtifacts&&this.outputArtifacts.length===n.length}addComment(n){this.comments.push(n)}getComment(n){return this.comments.find(e=>e.id===n)}removeComment(n){this.comments=this.comments.filter(e=>e.id!==n)}get methodName(){return this.decision.method.name}get currentStep(){return this.decision.method.executionSteps[this.currentStepNumber]}toDb(){return{nodeId:this.nodeId,executionId:this.executionId,comments:this.comments.map(n=>n.toDb()),decision:this.decision.toDb(),currentStepNumber:this.currentStepNumber,inputArtifacts:this.inputArtifacts?this.inputArtifacts.map(n=>null==n?void 0:n.toDb()):void 0,outputArtifacts:this.outputArtifacts?this.outputArtifacts.map(n=>null==n?void 0:n.toDb()):void 0,steps:this.steps.map(n=>n.toDb())}}}class hx{constructor(n,e){var i;let o;if(null!=n)o=n,this.decision=new yc(n.decision,void 0);else{if(null==e)throw new Error("Either entry or init must be provided.");o=e,this.decision=new yc(void 0,e.decision)}this.id=null!==(i=o.id)&&void 0!==i?i:md(),this.executions=o.executions}toDb(){return{id:this.id,executions:this.executions,decision:this.decision.toDb()}}}class Lh{constructor(n,e){var i,o,r,s;let a;if(this.removedMethods=[],null!=n)a=n,this.suggestedDomains=n.suggestedDomains.map(l=>new _s(l,void 0)),this.suggestedSituationalFactors=n.suggestedSituationalFactors.map(l=>new fo(l,void 0,Fr)),this.oldDomains=n.oldDomains.map(l=>new _s(l,void 0)),this.oldSituationalFactors=n.oldSituationalFactors.map(l=>new fo(l,void 0,Fr)),this.removedMethods=null!==(o=null===(i=n.removedMethods)||void 0===i?void 0:i.map(l=>new hx(l,void 0)))&&void 0!==o?o:this.removedMethods;else{if(null==e)throw new Error("Either entry or init must be provided.");a=e,this.suggestedDomains=e.suggestedDomains.map(l=>new _s(void 0,l)),this.suggestedSituationalFactors=e.suggestedSituationalFactors.map(l=>new fo(void 0,l,Fr)),this.oldDomains=e.oldDomains.map(l=>new _s(void 0,l)),this.oldSituationalFactors=e.oldSituationalFactors.map(l=>new fo(void 0,l,Fr)),this.removedMethods=null!==(s=null===(r=e.removedMethods)||void 0===r?void 0:r.map(l=>new hx(void 0,l)))&&void 0!==s?s:this.removedMethods}this.comment=a.comment,this.step=a.step}addRemovedMethod(n){this.removedMethods.push(n)}removeRemovedMethod(n){this.removedMethods=this.removedMethods.filter(e=>e.id!==n)}getRemovedMethods(n){return this.removedMethods.filter(e=>e.decision.method._id===n)}getRemovedMethod(n){const e=this.removedMethods.find(i=>i.id===n);if(null==e)throw new Error("Removed method does not exist");return e}removeExecutedMethod(n){for(const e of this.removedMethods)e.executions=e.executions.filter(i=>i!==n)}toDb(){return{comment:this.comment,suggestedDomains:this.suggestedDomains.map(n=>n.toDb()),suggestedSituationalFactors:this.suggestedSituationalFactors.map(n=>n.toDb()),oldDomains:this.oldDomains.map(n=>n.toDb()),oldSituationalFactors:this.oldSituationalFactors.map(n=>n.toDb()),removedMethods:this.removedMethods.map(n=>n.toDb()),step:this.step}}}let jh=(()=>{class t extends gs{constructor(e,i){var o,r,s,a,l,d,h,w,P,N,L,U,q,Z,Q,K,J,ae,we,_e,qe,Xe,st,vt,Ct,Pt,qt,pn,Ut;if(super(e,i,t.typeName),this._domains=[],this._situationalFactors=[],this.contextChange=!1,this.previousContextChanges=[],this.todoMethods=[],this.runningMethods=[],this.executedMethods=[],this.artifacts=[],null!=e)this.name=e.name,this.process=e.process?new pm(e.process,void 0):void 0,this._domains=null!==(r=null===(o=e.domains)||void 0===o?void 0:o.map($=>new _s($,void 0)))&&void 0!==r?r:this._domains,this._situationalFactors=null!==(a=null===(s=e.situationalFactors)||void 0===s?void 0:s.map($=>new fo($,void 0,Fr)))&&void 0!==a?a:this._situationalFactors,this.contextChange=null!==(l=e.contextChange)&&void 0!==l?l:this.contextChange,this.contextChangeInfo=e.contextChangeInfo?new Lh(e.contextChangeInfo,void 0):void 0,this.previousContextChanges=null!==(h=null===(d=e.previousContextChanges)||void 0===d?void 0:d.map($=>new Lh($,void 0)))&&void 0!==h?h:this.previousContextChanges,this.todoMethods=null!==(P=null===(w=e.todoMethods)||void 0===w?void 0:w.map($=>new hm($,void 0)))&&void 0!==P?P:this.todoMethods,this.runningMethods=null!==(L=null===(N=e.runningMethods)||void 0===N?void 0:N.map($=>new hm($,void 0)))&&void 0!==L?L:this.runningMethods,this.executedMethods=null!==(U=e.executedMethods.map($=>{var G,ie;return{nodeId:$.nodeId,executionId:$.executionId,methodName:$.methodName,comments:null!==(ie=null===(G=$.comments)||void 0===G?void 0:G.map(ve=>new Bh(ve,void 0)))&&void 0!==ie?ie:[]}}))&&void 0!==U?U:this.executedMethods,this.artifacts=null!==(Z=null===(q=e.artifacts)||void 0===q?void 0:q.map($=>new mu($,void 0)))&&void 0!==Z?Z:this.artifacts;else{if(null==i)throw new Error("Either entry or init must be provided.");this.name=i.name,this.process=i.process?new pm(void 0,i.process):void 0,this._domains=null!==(K=null===(Q=i.domains)||void 0===Q?void 0:Q.map($=>new _s(void 0,$)))&&void 0!==K?K:this._domains,this._situationalFactors=null!==(ae=null===(J=i.situationalFactors)||void 0===J?void 0:J.map($=>new fo(void 0,$,Fr)))&&void 0!==ae?ae:this._situationalFactors,this.contextChange=null!==(we=i.contextChange)&&void 0!==we?we:this.contextChange,this.contextChangeInfo=i.contextChangeInfo?new Lh(void 0,i.contextChangeInfo):void 0,this.previousContextChanges=null!==(qe=null===(_e=i.previousContextChanges)||void 0===_e?void 0:_e.map($=>new Lh(void 0,$)))&&void 0!==qe?qe:this.previousContextChanges,this.todoMethods=null!==(st=null===(Xe=i.todoMethods)||void 0===Xe?void 0:Xe.map($=>new hm(void 0,$)))&&void 0!==st?st:this.todoMethods,this.runningMethods=null!==(Ct=null===(vt=i.runningMethods)||void 0===vt?void 0:vt.map($=>new hm(void 0,$)))&&void 0!==Ct?Ct:this.runningMethods,this.executedMethods=null!==(qt=null===(Pt=i.executedMethods)||void 0===Pt?void 0:Pt.map($=>{var G,ie;return{nodeId:$.nodeId,executionId:$.executionId,methodName:$.methodName,comments:null!==(ie=null===(G=$.comments)||void 0===G?void 0:G.map(ve=>new Bh(void 0,ve)))&&void 0!==ie?ie:[]}}))&&void 0!==qt?qt:this.executedMethods,this.artifacts=null!==(Ut=null===(pn=i.artifacts)||void 0===pn?void 0:pn.map($=>new mu(void 0,$)))&&void 0!==Ut?Ut:this.artifacts}}addTodoMethod(e){return null==e.executionId&&(e.executionId=md()),this.todoMethods.push(e),e}getTodoMethod(e){return this.todoMethods.find(i=>i.executionId===e)}removeTodoMethod(e){this.todoMethods=this.todoMethods.filter(i=>i.executionId!==e)}addRunningMethod(e){this.runningMethods.push(e)}addRunningMethodOfProcess(e){if(null==this.process)throw new Error("Can not add method of process to lightweight execution");const i=new hm(void 0,{nodeId:e,decision:this.process.decisions[e],steps:this.process.decisions[e].method.executionSteps.map(()=>new mx(void 0,{}))});return this.addRunningMethod(i),i}getRunningMethod(e){return this.runningMethods.find(i=>i.executionId===e)}getRunningMethodByNode(e){return this.runningMethods.find(i=>i.nodeId===e)}removeRunningMethod(e){this.runningMethods=this.runningMethods.filter(i=>i.executionId!==e)}addExecutedMethod(e){this.executedMethods.push(e)}getExecutedMethod(e){return this.executedMethods.find(i=>i.executionId===e)}removeExecutedMethod(e){if(!this.isContextChange())throw new Error("Running Process must be in context change mode.");this.executedMethods=this.executedMethods.filter(i=>i.executionId!==e),this.contextChangeInfo.removeExecutedMethod(e),this.getArtifactsOfExecutedMethod(e).forEach(i=>i.versions.forEach(o=>{o.createdBy="added",o.executedBy=void 0}))}getExecutionsByNodeId(e){return this.executedMethods.filter(i=>i.nodeId===e)}isExecutable(e){return null!=this.process&&e in this.process.decisions}getMethod(e){let i=this.todoMethods.find(o=>o.executionId===e);return null==i&&(i=this.runningMethods.find(o=>o.executionId===e),null==i&&(i=this.executedMethods.find(o=>o.executionId===e))),i}getArtifactsOfExecutedMethod(e){const i=[];for(const o of this.artifacts){const r=o.versions.filter(s=>null!=s.executedBy&&s.executedBy===e);r.length>0&&i.push({artifact:o,versions:r})}return i}getArtifactVersion(e){for(const i of this.artifacts){const o=i.getVersion(e);if(null!=o)return o}}getArtifactsCreatedByNode(e){const i=[];for(const o of this.artifacts){const r=o.versions.filter(s=>s.createdBy===e);r.length>0&&i.push({artifact:o,versions:r})}return i}addOutputArtifacts(e,i,o){const r=this.getRunningMethod(e);if(null==r)throw new Error("Running Method with executionId "+e+" does not exist");o.forEach((s,a)=>{var l;if(null==s)return;const d={createdBy:r.nodeId?r.nodeId:"manual",executedBy:r.executionId,data:s.data};if(s.isDefinition){const h=new mu(void 0,{identifier:null!==(l=s.artifactName)&&void 0!==l?l:"",artifact:i[a]});h.addVersion(d),this.artifacts.push(h)}else this.artifacts[s.artifact].addVersion(d)})}addOutputArtifact(e,i,o=!1){var r;const s={createdBy:"added",data:i.data,editing:o};if(i.isDefinition){const a=new mu(void 0,{identifier:null!==(r=i.artifactName)&&void 0!==r?r:"",artifact:e});a.addVersion(s),this.artifacts.push(a)}else this.artifacts[i.artifact].addVersion(s)}importArtifact(e){this.artifacts.push(e)}renameArtifact(e,i){if(-1===this.artifacts.indexOf(e))throw new Error("Artifact is not from this running process");e.identifier=i}removeArtifact(e){this.artifacts=this.artifacts.filter(i=>i._id!==e)}hasProcess(){return null!=this.process}isContextChange(){return this.contextChange}get situationalFactors(){return this.hasProcess()?this.process.situationalFactors:this._situationalFactors}get domains(){return this.hasProcess()?this.process.domains:this._domains}toDb(){var e,i;return Object.assign(Object.assign({},super.toDb()),{name:this.name,process:null===(e=this.process)||void 0===e?void 0:e.toDb(),domains:this._domains.map(o=>o.toDb()),situationalFactors:this._situationalFactors.map(o=>o.toDb()),contextChange:this.contextChange,contextChangeInfo:null===(i=this.contextChangeInfo)||void 0===i?void 0:i.toDb(),previousContextChanges:this.previousContextChanges.map(o=>o.toDb()),todoMethods:this.todoMethods.map(o=>o.toDb()),runningMethods:this.runningMethods.map(o=>o.toDb()),executedMethods:this.executedMethods.map(o=>({nodeId:o.nodeId,executionId:o.executionId,methodName:o.methodName,comments:o.comments.map(r=>r.toDb())})),artifacts:this.artifacts.map(o=>o.toDb())})}}return t.typeName="RunningProcess",t})();class xc{}let Eo=(()=>{class t{constructor(e){if(e)throw new Error("DevelopmentProcessRegistryModule is already loaded. Import it in the AppModule only.")}}return t.\u0275fac=function(e){return new(e||t)(Ve(t,12))},t.\u0275mod=On({type:t}),t.\u0275inj=mn({}),t})();var yv,CQ=E(9294),os=E.n(CQ),MQ=new Uint8Array(16);function SQ(){if(!yv&&!(yv="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yv(MQ)}const EQ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,PQ=function TQ(t){return"string"==typeof t&&EQ.test(t)};for(var Or=[],gx=0;gx<256;++gx)Or.push((gx+256).toString(16).substr(1));const M7=function AQ(t,n,e){var i=(t=t||{}).random||(t.rng||SQ)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(var o=0;o<16;++o)n[e+o]=i[o];return n}return function DQ(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Or[t[n+0]]+Or[t[n+1]]+Or[t[n+2]]+Or[t[n+3]]+"-"+Or[t[n+4]]+Or[t[n+5]]+"-"+Or[t[n+6]]+Or[t[n+7]]+"-"+Or[t[n+8]]+Or[t[n+9]]+"-"+Or[t[n+10]]+Or[t[n+11]]+Or[t[n+12]]+Or[t[n+13]]+Or[t[n+14]]+Or[t[n+15]]).toLowerCase();if(!PQ(e))throw TypeError("Stringified UUID is invalid");return e}(i)};var gm,Ns,IQ=E(1452),wv=E.n(IQ),S7=E(2899),kQ=E(1611),Cc=E.n(kQ),NQ=E(3894),on=E.n(NQ),RQ=E(9069),Br=E.n(RQ);function xv(t){return"$"+t}function E7(t){return t.substring(1)}function Mc(){this._store={}}function Gh(t){if(this._store=new Mc,t&&Array.isArray(t))for(var n=0,e=t.length;n<e;n++)this.add(t[n])}Mc.prototype.get=function(t){var n=xv(t);return this._store[n]},Mc.prototype.set=function(t,n){var e=xv(t);return this._store[e]=n,!0},Mc.prototype.has=function(t){return xv(t)in this._store},Mc.prototype.keys=function(){return Object.keys(this._store).map(t=>E7(t))},Mc.prototype.delete=function(t){var n=xv(t),e=n in this._store;return delete this._store[n],e},Mc.prototype.forEach=function(t){for(var n=Object.keys(this._store),e=0,i=n.length;e<i;e++){var o=n[e];t(this._store[o],o=E7(o))}},Object.defineProperty(Mc.prototype,"size",{get:function(){return Object.keys(this._store).length}}),Gh.prototype.add=function(t){return this._store.set(t,!0)},Gh.prototype.has=function(t){return this._store.has(t)},Gh.prototype.forEach=function(t){this._store.forEach(function(n,e){t(e)})},Object.defineProperty(Gh.prototype,"size",{get:function(){return this._store.size}}),function OQ(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(gm=Set,Ns=Map):(gm=Gh,Ns=Mc);var _x,bx,T7=Function.prototype.toString,GQ=T7.call(Object);function vr(t){var n,e,i;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(n=[],e=0,i=t.length;e<i;e++)n[e]=vr(t[e]);return n}if(t instanceof Date&&isFinite(t))return t.toISOString();if(function BQ(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}(t))return function jQ(t){if(t instanceof ArrayBuffer)return function LQ(t){if("function"==typeof t.slice)return t.slice(0);var n=new ArrayBuffer(t.byteLength),e=new Uint8Array(n),i=new Uint8Array(t);return e.set(i),n}(t);var n=t.size,e=t.type;return"function"==typeof t.slice?t.slice(0,n,e):t.webkitSlice(0,n,e)}(t);if(!function VQ(t){var n=Object.getPrototypeOf(t);if(null===n)return!0;var e=n.constructor;return"function"==typeof e&&e instanceof e&&T7.call(e)==GQ}(t))return t;for(e in n={},t)if(Object.prototype.hasOwnProperty.call(t,e)){var o=vr(t[e]);void 0!==o&&(n[e]=o)}return n}function P7(t){var n=!1;return Cc()(function(e){if(n)throw new Error("once called more than once");n=!0,t.apply(this,e)})}function D7(t){return Cc()(function(n){n=vr(n);var e=this,i="function"==typeof n[n.length-1]&&n.pop(),o=new Promise(function(r,s){var a;try{var l=P7(function(d,h){d?s(d):r(h)});n.push(l),(a=t.apply(e,n))&&"function"==typeof a.then&&r(a)}catch(d){s(d)}});return i&&o.then(function(r){i(null,r)},i),o})}function tr(t,n){return D7(Cc()(function(e){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function HQ(t,n,e){if(t.constructor.listeners("debug").length){for(var i=["api",t.name,n],o=0;o<e.length-1;o++)i.push(e[o]);t.constructor.emit("debug",i);var r=e[e.length-1];e[e.length-1]=function(s,a){var l=["api",t.name,n];l=l.concat(s?["error",s]:["success",a]),t.constructor.emit("debug",l),r(s,a)}}}(i,t,e),this.taskqueue.isReady?n.apply(this,e):new Promise(function(o,r){i.taskqueue.addTask(function(s){s?r(s):o(i[t].apply(i,e))})})}))}function Vh(t,n){for(var e={},i=0,o=n.length;i<o;i++){var r=n[i];r in t&&(e[r]=t[r])}return e}function F7(t){return t}function zQ(t){return[{ok:t}]}function A7(t,n,e){var i=n.docs,o=new Ns;i.forEach(function(U){o.has(U.id)?o.get(U.id).push(U):o.set(U.id,[U])});var r=o.size,s=0,a=new Array(r);var w=[];o.forEach(function(U,q){w.push(q)});var P=0;!function N(){if(!(P>=w.length)){var U=Math.min(P+6,w.length),q=w.slice(P,U);(function L(U,q){U.forEach(function(Z,Q){var K=q+Q,J=o.get(Z),ae=Vh(J[0],["atts_since","attachments"]);ae.open_revs=J.map(function(_e){return _e.rev}),ae.open_revs=ae.open_revs.filter(F7);var we=F7;0===ae.open_revs.length&&(delete ae.open_revs,we=zQ),["revs","attachments","binary","ajax","latest"].forEach(function(_e){_e in n&&(ae[_e]=n[_e])}),t.get(Z,ae,function(_e,qe){var Xe;Xe=_e?[{error:_e}]:we(qe),function h(U,q,Z){a[U]={id:q,docs:Z},function d(){++s===r&&function l(){var U=[];a.forEach(function(q){q.docs.forEach(function(Z){U.push({id:q.id,docs:[Z]})})}),e(null,{results:U})}()}()}(K,Z,Xe),N()})})})(q,P),P+=q.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),_x=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){_x=!1}function Cv(){return _x}function _m(){Br().call(this),this._listeners={},function qQ(t){Cv()&&addEventListener("storage",function(n){t.emit(n.key)})}(this)}function ya(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var n=Array.prototype.slice.call(arguments,1);console[t].apply(console,n)}}function WQ(t){var n=0;return t||(n=2e3),function $Q(t,n){var e=6e5;return t=parseInt(t,10)||0,(n=parseInt(n,10))!=n||n<=t?n=(t||1)<<1:n+=1,n>e&&(t=e>>1,n=e),~~((n-t)*Math.random()+t)}(t,n)}function vx(t,n){ya("info","The above "+t+" is totally normal. "+n)}on()(_m,Br()),_m.prototype.addListener=function(t,n,e,i){if(!this._listeners[n]){var o=this,r=!1;this._listeners[n]=s,this.on(t,s)}function s(){if(o._listeners[n])if(r)r="waiting";else{r=!0;var a=Vh(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);e.changes(a).on("change",function(d){d.seq>i.since&&!i.cancelled&&(i.since=d.seq,i.onChange(d))}).on("complete",function(){"waiting"===r&&os()(s),r=!1}).on("error",function l(){r=!1})}}},_m.prototype.removeListener=function(t,n){n in this._listeners&&(Br().prototype.removeListener.call(this,t,this._listeners[n]),delete this._listeners[n])},_m.prototype.notifyLocalWindows=function(t){Cv()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},_m.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)},bx="function"==typeof Object.assign?Object.assign:function(t){for(var n=Object(t),e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n};var gd=bx;function Ki(t,n,e){Error.call(this,e),this.status=t,this.name=n,this.message=e,this.error=!0}on()(Ki,Error),Ki.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new Ki(401,"unauthorized","Name or password is incorrect.");var YQ=new Ki(400,"bad_request","Missing JSON list of 'docs'"),Za=new Ki(404,"not_found","missing"),vm=new Ki(409,"conflict","Document update conflict"),I7=new Ki(400,"bad_request","_id field must contain a string"),XQ=new Ki(412,"missing_id","_id is required for puts"),KQ=new Ki(400,"bad_request","Only reserved document ids may start with underscore."),k7=(new Ki(412,"precondition_failed","Database not open"),new Ki(500,"unknown_error","Database encountered an unknown error")),N7=new Ki(500,"badarg","Some query argument is invalid"),QQ=(new Ki(400,"invalid_request","Request was invalid"),new Ki(400,"query_parse_error","Some query parameter is invalid")),R7=new Ki(500,"doc_validation","Bad special document member"),Mv=new Ki(400,"bad_request","Something wrong with the request"),yx=new Ki(400,"bad_request","Document must be a JSON object"),wx=(new Ki(404,"not_found","Database not found"),new Ki(500,"indexed_db_went_bad","unknown")),O7=(new Ki(500,"web_sql_went_bad","unknown"),new Ki(500,"levelDB_went_went_bad","unknown"),new Ki(403,"forbidden","Forbidden by design doc validate_doc_update function"),new Ki(400,"bad_request","Invalid rev format")),JQ=(new Ki(412,"file_exists","The database could not be created, the file already exists."),new Ki(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Zn(t,n){function e(i){for(var o=Object.getOwnPropertyNames(t),r=0,s=o.length;r<s;r++)"function"!=typeof t[o[r]]&&(this[o[r]]=t[o[r]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==i&&(this.reason=i)}return e.prototype=Ki.prototype,new e(n)}function bm(t){if("object"!=typeof t){var n=t;(t=k7).data=n}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),"stack"in t||(t.stack=(new Error).stack),t}function xx(t){var n={},e=t.filter&&"function"==typeof t.filter;return n.query=t.query_params,function(o){o.doc||(o.doc={});var r=e&&function ZQ(t,n,e){try{return!t(n,e)}catch(o){var i="Filter function threw: "+o.toString();return Zn(Mv,i)}}(t.filter,o.doc,n);if("object"==typeof r)return r;if(r)return!1;if(t.include_docs){if(!t.attachments)for(var s in o.doc._attachments)Object.prototype.hasOwnProperty.call(o.doc._attachments,s)&&(o.doc._attachments[s].stub=!0)}else delete o.doc;return!0}}function Sv(t){for(var n=[],e=0,i=t.length;e<i;e++)n=n.concat(t[e]);return n}function B7(t){var n;if(t?"string"!=typeof t?n=Zn(I7):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(n=Zn(KQ)):n=Zn(XQ),n)throw n}function Vl(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(ya("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function Cx(t){if(!t)return null;var n=t.split("/");return 2===n.length?n:1===n.length?[t,t]:null}function L7(t){var n=Cx(t);return n?n.join("/"):null}new Ki(413,"invalid_url","Provided URL is invalid");var j7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],G7="queryKey",tJ=/(?:^|&)([^&=]*)=?([^&]*)/g,nJ=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function V7(t){for(var n=nJ.exec(t),e={},i=14;i--;){var o=j7[i],r=n[i]||"",s=-1!==["user","password"].indexOf(o);e[o]=s?decodeURIComponent(r):r}return e[G7]={},e[j7[12]].replace(tJ,function(a,l,d){l&&(e[G7][l]=d)}),e}function Mx(t,n){var e=[],i=[];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e.push(o),i.push(n[o]));return e.push(t),Function.apply(null,e).apply(null,i)}function Ev(t,n,e){return t.get(n).catch(function(i){if(404!==i.status)throw i;return{}}).then(function(i){var o=i._rev,r=e(i);return r?(r._id=n,r._rev=o,function iJ(t,n,e){return t.put(n).then(function(i){return{updated:!0,rev:i.rev}},function(i){if(409!==i.status)throw i;return Ev(t,n._id,e)})}(t,r,e)):{updated:!1,rev:o}})}var Sx=function(t){return atob(t)},Hh=function(t){return btoa(t)};function Ex(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(r){if("TypeError"!==r.name)throw r;for(var i=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<t.length;o+=1)i.append(t[o]);return i.getBlob(n.type)}}function oJ(t){for(var n=t.length,e=new ArrayBuffer(n),i=new Uint8Array(e),o=0;o<n;o++)i[o]=t.charCodeAt(o);return e}function Tx(t,n){return Ex([oJ(t)],{type:n})}function Px(t,n){return Tx(Sx(t),n)}function H7(t,n){var e=new FileReader,i="function"==typeof e.readAsBinaryString;e.onloadend=function(o){var r=o.target.result||"";if(i)return n(r);n(function rJ(t){for(var n="",e=new Uint8Array(t),i=e.byteLength,o=0;o<i;o++)n+=String.fromCharCode(e[o]);return n}(r))},i?e.readAsBinaryString(t):e.readAsArrayBuffer(t)}function U7(t,n){H7(t,function(e){n(e)})}function Dx(t,n){U7(t,function(e){n(Hh(e))})}var aJ=self.setImmediate||self.setTimeout;function dJ(t,n,e,i,o){(e>0||i<n.size)&&(n=function uJ(t,n,e){return t.webkitSlice?t.webkitSlice(n,e):t.slice(n,e)}(n,e,i)),function sJ(t,n){var e=new FileReader;e.onloadend=function(i){var o=i.target.result||new ArrayBuffer(0);n(o)},e.readAsArrayBuffer(t)}(n,function(r){t.append(r),o()})}function pJ(t,n,e,i,o){(e>0||i<n.length)&&(n=n.substring(e,i)),t.appendBinary(n),o()}function Fx(t,n){var e="string"==typeof t,i=e?t.length:t.size,o=Math.min(32768,i),r=Math.ceil(i/o),s=0,a=e?new(wv()):new(wv().ArrayBuffer),l=e?pJ:dJ;function d(){aJ(w)}function h(){var N=function cJ(t){return Hh(t)}(a.end(!0));n(N),a.destroy()}function w(){var P=s*o;s++,l(a,t,P,P+o,s<r?d:h)}w()}function z7(t){return wv().hash(t)}function q7(t,n){if(!n)return M7().replace(/-/g,"").toLowerCase();var e=gd({},t);return delete e._rev_tree,z7(JSON.stringify(e))}var Tv=M7;function _d(t){for(var n,e,i,r,o=t.rev_tree.slice();r=o.pop();){var s=r.ids,a=s[2],l=r.pos;if(a.length)for(var d=0,h=a.length;d<h;d++)o.push({pos:l+1,ids:a[d]});else{var w=!!s[1].deleted,P=s[0];(!n||(i!==w?i:e!==l?e<l:n<P))&&(n=P,e=l,i=w)}}return e+"-"+n}function vd(t,n){for(var i,e=t.slice();i=e.pop();)for(var o=i.pos,r=i.ids,s=r[2],a=n(0===s.length,o,r[0],i.ctx,r[1]),l=0,d=s.length;l<d;l++)e.push({pos:o+1,ids:s[l],ctx:a})}function mJ(t,n){return t.pos-n.pos}function Ax(t){var n=[];vd(t,function(o,r,s,a,l){o&&n.push({rev:r+"-"+s,pos:r,opts:l})}),n.sort(mJ).reverse();for(var e=0,i=n.length;e<i;e++)delete n[e].pos;return n}function Ix(t){for(var n=_d(t),e=Ax(t.rev_tree),i=[],o=0,r=e.length;o<r;o++){var s=e[o];s.rev!==n&&!s.opts.deleted&&i.push(s.rev)}return i}function $7(t){for(var i,n=[],e=t.slice();i=e.pop();){var o=i.pos,r=i.ids,s=r[0],a=r[1],l=r[2],d=0===l.length,h=i.history?i.history.slice():[];h.push({id:s,opts:a}),d&&n.push({pos:o+1-h.length,ids:h});for(var w=0,P=l.length;w<P;w++)e.push({pos:o+1,ids:l[w],history:h})}return n.reverse()}function hJ(t,n){return t.pos-n.pos}function _J(t,n,e){var i=function gJ(t,n,e){for(var r,i=0,o=t.length;i<o;)e(t[r=i+o>>>1],n)<0?i=r+1:o=r;return i}(t,n,e);t.splice(i,0,n)}function W7(t,n){for(var e,i,o=n,r=t.length;o<r;o++){var s=t[o],a=[s.id,s.opts,[]];i?(i[2].push(a),i=a):e=i=a}return e}function vJ(t,n){return t[0]<n[0]?-1:1}function Y7(t,n){for(var e=[{tree1:t,tree2:n}],i=!1;e.length>0;){var o=e.pop(),r=o.tree1,s=o.tree2;(r[1].status||s[1].status)&&(r[1].status="available"===r[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(r[2][0]){for(var l=!1,d=0;d<r[2].length;d++)r[2][d][0]===s[2][a][0]&&(e.push({tree1:r[2][d],tree2:s[2][a]}),l=!0);l||(i="new_branch",_J(r[2],s[2][a],vJ))}else i="new_leaf",r[2][0]=s[2][a]}return{conflicts:i,tree:t}}function X7(t,n,e){var s,i=[],o=!1,r=!1;if(!t.length)return{tree:[n],conflicts:"new_leaf"};for(var a=0,l=t.length;a<l;a++){var d=t[a];if(d.pos===n.pos&&d.ids[0]===n.ids[0])s=Y7(d.ids,n.ids),i.push({pos:d.pos,ids:s.tree}),o=o||s.conflicts,r=!0;else if(!0!==e){var h=d.pos<n.pos?d:n,w=d.pos<n.pos?n:d,N=[],L=[];for(L.push({ids:h.ids,diff:w.pos-h.pos,parent:null,parentIdx:null});L.length>0;){var U=L.pop();if(0!==U.diff)for(var q=U.ids[2],Z=0,Q=q.length;Z<Q;Z++)L.push({ids:q[Z],diff:U.diff-1,parent:U.ids,parentIdx:Z});else U.ids[0]===w.ids[0]&&N.push(U)}var K=N[0];K?(s=Y7(K.ids,w.ids),K.parent[2][K.parentIdx]=s.tree,i.push({pos:h.pos,ids:h.ids}),o=o||s.conflicts,r=!0):i.push(d)}else i.push(d)}return r||i.push(n),i.sort(hJ),{tree:i,conflicts:o||"internal_node"}}function K7(t,n,e){var i=X7(t,n),o=function bJ(t,n){for(var i,o,e=$7(t),r=0,s=e.length;r<s;r++){var d,a=e[r],l=a.ids;if(l.length>n){i||(i={});var h=l.length-n;d={pos:a.pos+h,ids:W7(l,h)};for(var w=0;w<h;w++)i[a.pos+w+"-"+l[w].id]=!0}else d={pos:a.pos,ids:W7(l,0)};o=o?X7(o,d,!0).tree:[d]}return i&&vd(o,function(N,L,U){delete i[L+"-"+U]}),{tree:o,revs:i?Object.keys(i):[]}}(i.tree,e);return{tree:o.tree,stemmedRevs:o.revs,conflicts:i.conflicts}}function wJ(t){return t.ids}function Sc(t,n){n||(n=_d(t));for(var o,e=n.substring(n.indexOf("-")+1),i=t.rev_tree.map(wJ);o=i.pop();){if(o[0]===e)return!!o[1].deleted;i=i.concat(o[2])}}function bd(t){return/^_local/.test(t)}function Uh(t,n,e){Br().call(this);var i=this;this.db=t;var o=(n=n?vr(n):{}).complete=P7(function(a,l){a?function eJ(t,n){return"listenerCount"in t?t.listenerCount(n):Br().listenerCount(t,n)}(i,"error")>0&&i.emit("error",a):i.emit("complete",l),i.removeAllListeners(),t.removeListener("destroyed",r)});function r(){i.cancel()}e&&(i.on("complete",function(a){e(null,a)}),i.on("error",e)),t.once("destroyed",r),n.onChange=function(a,l,d){i.isCancelled||function CJ(t,n,e,i){try{t.emit("change",n,e,i)}catch(o){ya("error",'Error in .on("change", function):',o)}}(i,a,l,d)};var s=new Promise(function(a,l){n.complete=function(d,h){d?l(d):a(h)}});i.once("cancel",function(){t.removeListener("destroyed",r),n.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(a){o(null,a)},o),t.taskqueue.isReady?i.validateChanges(n):t.taskqueue.addTask(function(a){a?n.complete(a):i.isCancelled?i.emit("cancel"):i.validateChanges(n)})}function MJ(t,n,e){var i=[{rev:t._rev}];"all_docs"===e.style&&(i=Ax(n.rev_tree).map(function(r){return{rev:r.rev}}));var o={id:n.id,changes:i,doc:t};return Sc(n,t._rev)&&(o.deleted=!0),e.conflicts&&(o.doc._conflicts=Ix(n),o.doc._conflicts.length||delete o.doc._conflicts),o}function Q7(t,n){return t<n?-1:t>n?1:0}function kx(t,n){return function(e,i){e||i[0]&&i[0].error?((e=e||i[0]).docId=n,t(e)):t(null,i.length?i[0]:i)}}function EJ(t,n){var e=Q7(t._id,n._id);return 0!==e?e:Q7(t._revisions?t._revisions.start:0,n._revisions?n._revisions.start:0)}function J7(t){var n=t._compactionQueue[0],e=n.opts,i=n.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(o){o&&o.last_seq&&(e.last_seq=o.last_seq),t._compact(e,function(r,s){r?i(r):i(null,s),os()(function(){t._compactionQueue.shift(),t._compactionQueue.length&&J7(t)})})})}function oo(){for(var t in Br().call(this),oo.prototype)"function"==typeof this[t]&&(this[t]=this[t].bind(this))}function zh(){this.isReady=!1,this.failed=!1,this.queue=[]}function zn(t,n){if(!(this instanceof zn))return new zn(t,n);var e=this;if(n=n||{},t&&"object"==typeof t&&(t=(n=t).name,delete n.name),void 0===n.deterministic_revs&&(n.deterministic_revs=!0),this.__opts=n=vr(n),e.auto_compaction=n.auto_compaction,e.prefix=zn.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var o=function FJ(t,n){var e=t.match(/([a-z-]*):\/\/(.*)/);if(e)return{name:/https?/.test(e[1])?e[1]+"://"+e[2]:e[2],adapter:e[1]};var i=zn.adapters,o=zn.preferredAdapters,r=zn.prefix,s=n.adapter;if(!s)for(var a=0;a<o.length&&"idb"===(s=o[a])&&"websql"in i&&Cv()&&localStorage["_pouch__websqldb_"+r+t];++a)ya("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var l=i[s];return{name:l&&"use_prefix"in l&&!l.use_prefix?t:r+t,adapter:s}}((n.prefix||"")+t,n);if(n.name=o.name,n.adapter=n.adapter||o.adapter,e.name=t,e._adapter=n.adapter,zn.emit("debug",["adapter","Picked adapter: ",n.adapter]),!zn.adapters[n.adapter]||!zn.adapters[n.adapter].valid())throw new Error("Invalid Adapter: "+n.adapter);if(n.view_adapter&&(!zn.adapters[n.view_adapter]||!zn.adapters[n.view_adapter].valid()))throw new Error("Invalid View Adapter: "+n.view_adapter);oo.call(e),e.taskqueue=new zh,e.adapter=n.adapter,zn.adapters[n.adapter].call(e,n,function(r){if(r)return e.taskqueue.fail(r);(function AJ(t){function n(i){t.removeListener("closed",e),i||t.constructor.emit("destroyed",t.name)}function e(){t.removeListener("destroyed",n),t.constructor.emit("unref",t)}t.once("destroyed",n),t.once("closed",e),t.constructor.emit("ref",t)})(e),e.emit("created",e),zn.emit("created",e.name),e.taskqueue.ready(e)})}on()(Uh,Br()),Uh.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Uh.prototype.validateChanges=function(t){var n=t.complete,e=this;zn._changesFilterPlugin?zn._changesFilterPlugin.validate(t,function(i){if(i)return n(i);e.doChanges(t)}):e.doChanges(t)},Uh.prototype.doChanges=function(t){var n=this,e=t.complete;if("live"in(t=vr(t))&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=MJ,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"!==t.since){if(zn._changesFilterPlugin){if(zn._changesFilterPlugin.normalize(t),zn._changesFilterPlugin.shouldFilter(this,t))return zn._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(r){r in t&&ya("warn",'The "'+r+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=e;var i=this.db._changes(t);if(i&&"function"==typeof i.cancel){var o=n.cancel;n.cancel=Cc()(function(r){i.cancel(),o.apply(this,r)})}}else this.db.info().then(function(r){n.isCancelled?e(null,{status:"cancelled"}):(t.since=r.update_seq,n.doChanges(t))},e)},on()(oo,Br()),oo.prototype.post=tr("post",function(t,n,e){if("function"==typeof n&&(e=n,n={}),"object"!=typeof t||Array.isArray(t))return e(Zn(yx));this.bulkDocs({docs:[t]},n,kx(e,t._id))}),oo.prototype.put=tr("put",function(t,n,e){if("function"==typeof n&&(e=n,n={}),"object"!=typeof t||Array.isArray(t))return e(Zn(yx));if(B7(t._id),bd(t._id)&&"function"==typeof this._putLocal)return t._deleted?this._removeLocal(t,e):this._putLocal(t,e);var i=this;function r(s){"function"==typeof i._put&&!1!==n.new_edits?i._put(t,n,s):i.bulkDocs({docs:[t]},n,kx(s,t._id))}n.force&&t._rev?(function o(){var s=t._rev.split("-"),a=s[1],d=parseInt(s[0],10)+1,h=q7();t._revisions={start:d,ids:[h,a]},t._rev=d+"-"+h,n.new_edits=!1}(),r(function(s){e(s,s?null:{ok:!0,id:t._id,rev:t._rev})})):r(e)}),oo.prototype.putAttachment=tr("putAttachment",function(t,n,e,i,o){var r=this;function s(a){var l="_rev"in a?parseInt(a._rev,10):0;return a._attachments=a._attachments||{},a._attachments[n]={content_type:o,data:i,revpos:++l},r.put(a)}return"function"==typeof o&&(o=i,i=e,e=null),void 0===o&&(o=i,i=e,e=null),o||ya("warn","Attachment",n,"on document",t,"is missing content_type"),r.get(t).then(function(a){if(a._rev!==e)throw Zn(vm);return s(a)},function(a){if(a.reason===Za.message)return s({_id:t});throw a})}),oo.prototype.removeAttachment=tr("removeAttachment",function(t,n,e,i){var o=this;o.get(t,function(r,s){if(r)i(r);else{if(s._rev===e)return s._attachments?(delete s._attachments[n],0===Object.keys(s._attachments).length&&delete s._attachments,void o.put(s,i)):i();i(Zn(vm))}})}),oo.prototype.remove=tr("remove",function(t,n,e,i){var o;"string"==typeof n?(o={_id:t,_rev:n},"function"==typeof e&&(i=e,e={})):(o=t,"function"==typeof n?(i=n,e={}):(i=e,e=n)),(e=e||{}).was_delete=!0;var r={_id:o._id,_rev:o._rev||e.rev,_deleted:!0};if(bd(r._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,i);this.bulkDocs({docs:[r]},e,kx(i,r._id))}),oo.prototype.revsDiff=tr("revsDiff",function(t,n,e){"function"==typeof n&&(e=n,n={});var i=Object.keys(t);if(!i.length)return e(null,{});var o=0,r=new Ns;function s(l,d){r.has(l)||r.set(l,{missing:[]}),r.get(l).missing.push(d)}i.map(function(l){this._getRevisionTree(l,function(d,h){if(d&&404===d.status&&"missing"===d.message)r.set(l,{missing:t[l]});else{if(d)return e(d);!function a(l,d){var h=t[l].slice(0);vd(d,function(w,P,N,L,U){var q=P+"-"+N,Z=h.indexOf(q);-1!==Z&&(h.splice(Z,1),"available"!==U.status&&s(l,q))}),h.forEach(function(w){s(l,w)})}(l,h)}if(++o===i.length){var w={};return r.forEach(function(P,N){w[N]=P}),e(null,w)}})},this)}),oo.prototype.bulkGet=tr("bulkGet",function(t,n){A7(this,t,n)}),oo.prototype.compactDocument=tr("compactDocument",function(t,n,e){var i=this;this._getRevisionTree(t,function(o,r){if(o)return e(o);var s=function TJ(t){var n={},e=[];return vd(t,function(i,o,r,s){var a=o+"-"+r;return i&&(n[a]=0),void 0!==s&&e.push({from:s,to:a}),a}),e.reverse(),e.forEach(function(i){n[i.from]=void 0===n[i.from]?1+n[i.to]:Math.min(n[i.from],1+n[i.to])}),n}(r),a=[],l=[];Object.keys(s).forEach(function(d){s[d]>n&&a.push(d)}),vd(r,function(d,h,w,P,N){var L=h+"-"+w;"available"===N.status&&-1!==a.indexOf(L)&&l.push(L)}),i._doCompaction(t,l,e)})}),oo.prototype.compact=tr("compact",function(t,n){"function"==typeof t&&(n=t,t={});var e=this;t=t||{},e._compactionQueue=e._compactionQueue||[],e._compactionQueue.push({opts:t,callback:n}),1===e._compactionQueue.length&&J7(e)}),oo.prototype._compact=function(t,n){var e=this,o=[];e.changes({return_docs:!1,last_seq:t.last_seq||0}).on("change",function r(a){o.push(e.compactDocument(a.id,0))}).on("complete",function s(a){var l=a.last_seq;Promise.all(o).then(function(){return Ev(e,"_local/compaction",function(h){return(!h.last_seq||h.last_seq<l)&&(h.last_seq=l,h)})}).then(function(){n(null,{ok:!0})}).catch(n)}).on("error",n)},oo.prototype.get=tr("get",function(t,n,e){if("function"==typeof n&&(e=n,n={}),"string"!=typeof t)return e(Zn(I7));if(bd(t)&&"function"==typeof this._getLocal)return this._getLocal(t,e);var i=[],o=this;function r(){var l=[],d=i.length;if(!d)return e(null,l);i.forEach(function(h){o.get(t,{rev:h,revs:n.revs,latest:n.latest,attachments:n.attachments,binary:n.binary},function(w,P){if(w)l.push({missing:h});else{for(var N,L=0,U=l.length;L<U;L++)if(l[L].ok&&l[L].ok._rev===P._rev){N=!0;break}N||l.push({ok:P})}--d||e(null,l)})})}if(!n.open_revs)return this._get(t,n,function(l,d){if(l)return l.docId=t,e(l);var h=d.doc,w=d.metadata,P=d.ctx;if(n.conflicts){var N=Ix(w);N.length&&(h._conflicts=N)}if(Sc(w,h._rev)&&(h._deleted=!0),n.revs||n.revs_info){for(var L=h._rev.split("-"),U=parseInt(L[0],10),q=L[1],Z=$7(w.rev_tree),Q=null,K=0;K<Z.length;K++){var J=Z[K],ae=J.ids.map(function(Pt){return Pt.id}).indexOf(q);(ae===U-1||!Q&&-1!==ae)&&(Q=J)}if(!Q)return(l=new Error("invalid rev tree")).docId=t,e(l);var _e=Q.ids.map(function(Pt){return Pt.id}).indexOf(h._rev.split("-")[1])+1;if(Q.ids.splice(_e,Q.ids.length-_e),Q.ids.reverse(),n.revs&&(h._revisions={start:Q.pos+Q.ids.length-1,ids:Q.ids.map(function(Pt){return Pt.id})}),n.revs_info){var Xe=Q.pos+Q.ids.length;h._revs_info=Q.ids.map(function(Pt){return{rev:--Xe+"-"+Pt.id,status:Pt.opts.status}})}}if(n.attachments&&h._attachments){var st=h._attachments,vt=Object.keys(st).length;if(0===vt)return e(null,h);Object.keys(st).forEach(function(Pt){this._getAttachment(h._id,Pt,st[Pt],{rev:h._rev,binary:n.binary,ctx:P},function(qt,pn){var Ut=h._attachments[Pt];Ut.data=pn,delete Ut.stub,delete Ut.length,--vt||e(null,h)})},o)}else{if(h._attachments)for(var Ct in h._attachments)Object.prototype.hasOwnProperty.call(h._attachments,Ct)&&(h._attachments[Ct].stub=!0);e(null,h)}});if("all"===n.open_revs)this._getRevisionTree(t,function(l,d){if(l)return e(l);i=Ax(d).map(function(h){return h.rev}),r()});else{if(!Array.isArray(n.open_revs))return e(Zn(k7,"function_clause"));i=n.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if("string"!=typeof a||!/^\d+-/.test(a))return e(Zn(O7))}r()}}),oo.prototype.getAttachment=tr("getAttachment",function(t,n,e,i){var o=this;e instanceof Function&&(i=e,e={}),this._get(t,e,function(r,s){return r?i(r):s.doc._attachments&&s.doc._attachments[n]?(e.ctx=s.ctx,e.binary=!0,void o._getAttachment(t,n,s.doc._attachments[n],e,i)):i(Zn(Za))})}),oo.prototype.allDocs=tr("allDocs",function(t,n){if("function"==typeof t&&(n=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return n(new TypeError("options.keys must be an array"));var e=["startkey","endkey","key"].filter(function(i){return i in t})[0];if(e)return void n(Zn(QQ,"Query parameter `"+e+"` is not compatible with multi-get"));if(!Vl(this)&&(function PJ(t){var n="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=n,t.skip=0,delete t.limit,t.descending&&(n.reverse(),t.descending=!1)}(t),0===t.keys.length))return this._allDocs({limit:0},n)}return this._allDocs(t,n)}),oo.prototype.changes=function(t,n){return"function"==typeof t&&(n=t,t={}),(t=t||{}).return_docs="return_docs"in t?t.return_docs:!t.live,new Uh(this,t,n)},oo.prototype.close=tr("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),oo.prototype.info=tr("info",function(t){var n=this;this._info(function(e,i){if(e)return t(e);i.db_name=i.db_name||n.name,i.auto_compaction=!(!n.auto_compaction||Vl(n)),i.adapter=n.adapter,t(null,i)})}),oo.prototype.id=tr("id",function(t){return this._id(t)}),oo.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},oo.prototype.bulkDocs=tr("bulkDocs",function(t,n,e){if("function"==typeof n&&(e=n,n={}),n=n||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return e(Zn(YQ));for(var i=0;i<t.docs.length;++i)if("object"!=typeof t.docs[i]||Array.isArray(t.docs[i]))return e(Zn(yx));var o;if(t.docs.forEach(function(a){a._attachments&&Object.keys(a._attachments).forEach(function(l){o=o||function DJ(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}(l),a._attachments[l].content_type||ya("warn","Attachment",l,"on document",a._id,"is missing content_type")})}),o)return e(Zn(Mv,o));"new_edits"in n||(n.new_edits=!("new_edits"in t)||t.new_edits);var r=this;!n.new_edits&&!Vl(r)&&t.docs.sort(EJ),function SJ(t){for(var n=0;n<t.length;n++){var e=t[n];if(e._deleted)delete e._attachments;else if(e._attachments)for(var i=Object.keys(e._attachments),o=0;o<i.length;o++){var r=i[o];e._attachments[r]=Vh(e._attachments[r],["data","digest","content_type","length","revpos","stub"])}}}(t.docs);var s=t.docs.map(function(a){return a._id});return this._bulkDocs(t,n,function(a,l){if(a)return e(a);if(n.new_edits||(l=l.filter(function(w){return w.error})),!Vl(r))for(var d=0,h=l.length;d<h;d++)l[d].id=l[d].id||s[d];e(null,l)})}),oo.prototype.registerDependentDatabase=tr("registerDependentDatabase",function(t,n){var e=vr(this.__opts);this.__opts.view_adapter&&(e.adapter=this.__opts.view_adapter);var i=new this.constructor(t,e);Ev(this,"_local/_pouch_dependentDbs",function o(r){return r.dependentDbs=r.dependentDbs||{},!r.dependentDbs[t]&&(r.dependentDbs[t]=!0,r)}).then(function(){n(null,{db:i})}).catch(n)}),oo.prototype.destroy=tr("destroy",function(t,n){"function"==typeof t&&(n=t,t={});var e=this,i=!("use_prefix"in e)||e.use_prefix;function o(){e._destroy(t,function(r,s){if(r)return n(r);e._destroyed=!0,e.emit("destroyed"),n(null,s||{ok:!0})})}if(Vl(e))return o();e.get("_local/_pouch_dependentDbs",function(r,s){if(r)return 404!==r.status?n(r):o();var l=e.constructor,d=Object.keys(s.dependentDbs).map(function(h){var w=i?h.replace(new RegExp("^"+l.prefix),""):h;return new l(w,e.__opts).destroy()});Promise.all(d).then(o,n)})}),zh.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},zh.prototype.fail=function(t){this.failed=t,this.execute()},zh.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},zh.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},on()(zn,oo);var IJ="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},Z7=fetch,ym=Headers;zn.adapters={},zn.preferredAdapters=[],zn.prefix="_pouch_";var eF=new(Br());function Nx(t,n){for(var e=t,i=0,o=n.length;i<o&&(e=e[n[i]]);i++);return e}function Rx(t){for(var n=[],e="",i=0,o=t.length;i<o;i++){var r=t[i];i>0&&"\\"===t[i-1]&&("$"===r||"."===r)?e=e.substring(0,e.length-1)+r:"."===r?(n.push(e),e=""):e+=r}return n.push(e),n}(function kJ(t){Object.keys(Br().prototype).forEach(function(e){"function"==typeof Br().prototype[e]&&(t[e]=eF[e].bind(eF))});var n=t._destructionListeners=new Ns;t.on("ref",function(i){n.has(i.name)||n.set(i.name,[]),n.get(i.name).push(i)}),t.on("unref",function(i){if(n.has(i.name)){var o=n.get(i.name),r=o.indexOf(i);r<0||(o.splice(r,1),o.length>1?n.set(i.name,o):n.delete(i.name))}}),t.on("destroyed",function(i){if(n.has(i)){var o=n.get(i);n.delete(i),o.forEach(function(r){r.emit("destroyed",!0)})}})})(zn),zn.adapter=function(t,n,e){n.valid()&&(zn.adapters[t]=n,e&&zn.preferredAdapters.push(t))},zn.plugin=function(t){if("function"==typeof t)t(zn);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(n){zn.prototype[n]=t[n]})}return this.__defaults&&(zn.__defaults=gd({},this.__defaults)),zn},zn.defaults=function(t){function n(e,i){if(!(this instanceof n))return new n(e,i);i=i||{},e&&"object"==typeof e&&(e=(i=e).name,delete i.name),i=gd({},n.__defaults,i),zn.call(this,e,i)}return on()(n,zn),n.preferredAdapters=zn.preferredAdapters.slice(),Object.keys(zn).forEach(function(e){e in n||(n[e]=zn[e])}),n.__defaults=gd({},this.__defaults,t),n},zn.fetch=function(t,n){return Z7(t,n)};var OJ=["$or","$nor","$not"];function tF(t){return OJ.indexOf(t)>-1}function nF(t){return Object.keys(t)[0]}function qh(t){var n={},e={$or:!0,$nor:!0};return t.forEach(function(i){Object.keys(i).forEach(function(o){var r=i[o];if("object"!=typeof r&&(r={$eq:r}),tF(o))if(r instanceof Array){if(e[o])return e[o]=!1,void(n[o]=r);var s=[];n[o].forEach(function(l){Object.keys(r).forEach(function(d){var h=r[d],w=Math.max(Object.keys(l).length,Object.keys(h).length),P=qh([l,h]);Object.keys(P).length<=w||s.push(P)})}),n[o]=s}else n[o]=qh([r]);else{var a=n[o]=n[o]||{};Object.keys(r).forEach(function(l){var d=r[l];return"$gt"===l||"$gte"===l?function LJ(t,n,e){void 0===e.$eq&&(void 0!==e.$gte?"$gte"===t?n>e.$gte&&(e.$gte=n):n>=e.$gte&&(delete e.$gte,e.$gt=n):void 0!==e.$gt?"$gte"===t?n>e.$gt&&(delete e.$gt,e.$gte=n):n>e.$gt&&(e.$gt=n):e[t]=n)}(l,d,a):"$lt"===l||"$lte"===l?function jJ(t,n,e){void 0===e.$eq&&(void 0!==e.$lte?"$lte"===t?n<e.$lte&&(e.$lte=n):n<=e.$lte&&(delete e.$lte,e.$lt=n):void 0!==e.$lt?"$lte"===t?n<e.$lt&&(delete e.$lt,e.$lte=n):n<e.$lt&&(e.$lt=n):e[t]=n)}(l,d,a):"$ne"===l?function GJ(t,n){"$ne"in n?n.$ne.push(t):n.$ne=[t]}(d,a):"$eq"===l?function VJ(t,n){delete n.$gt,delete n.$gte,delete n.$lt,delete n.$lte,delete n.$ne,n.$eq=t}(d,a):"$regex"===l?function HJ(t,n){"$regex"in n?n.$regex.push(t):n.$regex=[t]}(d,a):void(a[l]=d)})}})}),n}function iF(t){for(var n in t){if(Array.isArray(t))for(var e in t)t[e].$and&&(t[e]=qh(t[e].$and));var i=t[n];"object"==typeof i&&iF(i)}return t}function oF(t,n){for(var e in t){"$and"===e&&(n=!0);var i=t[e];"object"==typeof i&&(n=oF(i,n))}return n}function UJ(t){var n=vr(t),e=!1;oF(n,!1)&&("$and"in(n=iF(n))&&(n=qh(n.$and)),e=!0),["$or","$nor"].forEach(function(a){a in n&&n[a].forEach(function(l){for(var d=Object.keys(l),h=0;h<d.length;h++){var w=d[h],P=l[w];("object"!=typeof P||null===P)&&(l[w]={$eq:P})}})}),"$not"in n&&(n.$not=qh([n.$not]));for(var i=Object.keys(n),o=0;o<i.length;o++){var r=i[o],s=n[r];"object"!=typeof s||null===s?s={$eq:s}:e||("$ne"in s&&(s.$ne=[s.$ne]),"$regex"in s&&(s.$regex=[s.$regex])),n[r]=s}return n}function Wo(t,n){if(t===n)return 0;t=yd(t),n=yd(n);var e=Lx(t),i=Lx(n);if(e-i!=0)return e-i;switch(typeof t){case"number":return t-n;case"boolean":return t<n?-1:1;case"string":return function QJ(t,n){return t===n?0:t>n?1:-1}(t,n)}return Array.isArray(t)?function KJ(t,n){for(var e=Math.min(t.length,n.length),i=0;i<e;i++){var o=Wo(t[i],n[i]);if(0!==o)return o}return t.length===n.length?0:t.length>n.length?1:-1}(t,n):function JJ(t,n){for(var e=Object.keys(t),i=Object.keys(n),o=Math.min(e.length,i.length),r=0;r<o;r++){var s=Wo(e[r],i[r]);if(0!==s||0!==(s=Wo(t[e[r]],n[i[r]])))return s}return e.length===i.length?0:e.length>i.length?1:-1}(t,n)}function yd(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var n=t;if(Array.isArray(t)){var e=t.length;t=new Array(e);for(var i=0;i<e;i++)t[i]=yd(n[i])}else{if(t instanceof Date)return t.toJSON();if(null!==t)for(var o in t={},n)if(Object.prototype.hasOwnProperty.call(n,o)){var r=n[o];void 0!==r&&(t[o]=yd(r))}}}return t}function el(t){return Lx(t=yd(t))+""+function $J(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return function ZJ(t){if(0===t)return"1";var n=t.toExponential().split(/e\+?/),e=parseInt(n[1],10),i=t<0,o=i?"0":"2",s=function qJ(t,n,e){var i=function zJ(t,n,e){for(var i="",o=e-t.length;i.length<o;)i+=n;return i}(t,n,e);return i+t}(((i?-e:e)- -324).toString(),"0",3);o+=""+s;var a=Math.abs(parseFloat(n[0]));i&&(a=10-a);var l=a.toFixed(20);return o+""+l.replace(/\.?0+$/,"")}(t);case"string":return t.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var n=Array.isArray(t),e=n?t:Object.keys(t),i=-1,o=e.length,r="";if(n)for(;++i<o;)r+=el(e[i]);else for(;++i<o;){var s=e[i];r+=el(s)+el(t[s])}return r}return""}(t)+"\0"}function WJ(t,n){var i,e=n;if("1"===t[n])i=0,n++;else{var r="0"===t[n];n++;var s="",a=t.substring(n,n+3),l=parseInt(a,10)+-324;for(r&&(l=-l),n+=3;;){var d=t[n];if("\0"===d)break;s+=d,n++}i=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),r&&(i-=10),0!==l&&(i=parseFloat(i+"e"+l))}return{num:i,length:n-e}}function YJ(t,n){var e=t.pop();if(n.length){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var o=i.element,r=i.index;Array.isArray(o)?o.push(e):r===t.length-2?o[t.pop()]=e:t.push(e)}}function Lx(t){var e=["boolean","number","string","object"].indexOf(typeof t);return~e?null===t?1:Array.isArray(t)?5:e<3?e+2:e+3:Array.isArray(t)?5:void 0}function wm(t,n,e){return e.every(function(i){var o=n[i],r=Rx(i),s=Nx(t,r);return tF(i)?function nZ(t,n,e){return"$or"===t?n.some(function(i){return wm(e,i,Object.keys(i))}):"$not"===t?!wm(e,n,Object.keys(n)):!n.find(function(i){return wm(e,i,Object.keys(i))})}(i,o,t):Pv(o,t,r,s)})}function Pv(t,n,e,i){return!t||("object"==typeof t?Object.keys(t).every(function(o){var r=t[o];if(0===o.indexOf("$"))return sF(o,n,r,e,i);var s=Rx(o);if(void 0===i&&"object"!=typeof r&&s.length>0)return!1;var a=Nx(i,s);return"object"==typeof r?Pv(r,n,e,a):sF("$eq",n,r,s,a)}):t===i)}function sF(t,n,e,i,o){if(!lF[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return lF[t](n,e,i,o)}function $h(t){return null!=t}function wd(t){return void 0!==t}function aF(t,n){return n.some(function(e){return t instanceof Array?t.some(function(i){return 0===Wo(e,i)}):0===Wo(e,t)})}var lF={$elemMatch:function(t,n,e,i){return!(!Array.isArray(i)||0===i.length)&&i.some("object"==typeof i[0]?function(o){return wm(o,n,Object.keys(n))}:function(o){return Pv(n,t,e,o)})},$allMatch:function(t,n,e,i){return!(!Array.isArray(i)||0===i.length)&&i.every("object"==typeof i[0]?function(o){return wm(o,n,Object.keys(n))}:function(o){return Pv(n,t,e,o)})},$eq:function(t,n,e,i){return wd(i)&&0===Wo(i,n)},$gte:function(t,n,e,i){return wd(i)&&Wo(i,n)>=0},$gt:function(t,n,e,i){return wd(i)&&Wo(i,n)>0},$lte:function(t,n,e,i){return wd(i)&&Wo(i,n)<=0},$lt:function(t,n,e,i){return wd(i)&&Wo(i,n)<0},$exists:function(t,n,e,i){return n?wd(i):!wd(i)},$mod:function(t,n,e,i){return $h(i)&&function iZ(t,n){return"number"==typeof t&&parseInt(t,10)===t&&t%n[0]===n[1]}(i,n)},$ne:function(t,n,e,i){return n.every(function(o){return 0!==Wo(i,o)})},$in:function(t,n,e,i){return $h(i)&&aF(i,n)},$nin:function(t,n,e,i){return $h(i)&&!aF(i,n)},$size:function(t,n,e,i){return $h(i)&&Array.isArray(i)&&function rZ(t,n){return t.length===n}(i,n)},$all:function(t,n,e,i){return Array.isArray(i)&&function oZ(t,n){return n.every(function(e){return t.some(function(i){return 0===Wo(e,i)})})}(i,n)},$regex:function(t,n,e,i){return $h(i)&&"string"==typeof i&&n.every(function(o){return function sZ(t,n){return new RegExp(n).test(t)}(i,o)})},$type:function(t,n,e,i){return function aZ(t,n){switch(n){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}}(i,n)}};function dZ(t,n){if(t.selector&&t.filter&&"_selector"!==t.filter)return n(new Error('selector invalid for filter "'+("string"==typeof t.filter?t.filter:"function")+'"'));n()}function pZ(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=L7(t.view):t.filter=L7(t.filter))}function mZ(t,n){return n.filter&&"string"==typeof n.filter&&!n.doc_ids&&!Vl(t.db)}function fZ(t,n){var e=n.complete;if("_view"===n.filter){if(!n.view||"string"!=typeof n.view){var i=Zn(Mv,"`view` filter parameter not found or invalid.");return e(i)}var o=Cx(n.view);t.db.get("_design/"+o[0],function(s,a){if(t.isCancelled)return e(null,{status:"cancelled"});if(s)return e(bm(s));var l=a&&a.views&&a.views[o[1]]&&a.views[o[1]].map;if(!l)return e(Zn(Za,a.views?"missing json key: "+o[1]:"missing json key: views"));n.filter=function uZ(t){return Mx(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}(l),t.doChanges(n)})}else if(n.selector)n.filter=function(s){return function lZ(t,n){if("object"!=typeof n)throw new Error("Selector error: expected a JSON object");var i=function tZ(t,n,e){if(t=t.filter(function(s){return wm(s.doc,n.selector,e)}),n.sort){var i=function eZ(t){function n(e){return t.map(function(i){var r=Rx(nF(i));return Nx(e,r)})}return function(e,i){var s=Wo(n(e.doc),n(i.doc));return 0!==s?s:function RJ(t,n){return t<n?-1:t>n?1:0}(e.doc._id,i.doc._id)}}(n.sort);t=t.sort(i),"string"!=typeof n.sort[0]&&"desc"===function BJ(t){return t[nF(t)]}(n.sort[0])&&(t=t.reverse())}if("limit"in n||"skip"in n){var o=n.skip||0;t=t.slice(o,("limit"in n?n.limit:t.length)+o)}return t}([{doc:t}],{selector:n=UJ(n)},Object.keys(n));return i&&1===i.length}(s,n.selector)},t.doChanges(n);else{var r=Cx(n.filter);t.db.get("_design/"+r[0],function(s,a){if(t.isCancelled)return e(null,{status:"cancelled"});if(s)return e(bm(s));var l=a&&a.filters&&a.filters[r[1]];if(!l)return e(Zn(Za,a&&a.filters?"missing json key: "+r[1]:"missing json key: filters"));n.filter=function cZ(t){return Mx('"use strict";\nreturn '+t+";",{})}(l),t.doChanges(n)})}}function cF(t){return t.reduce(function(n,e){return n[e]=!0,n},{})}zn.plugin(function hZ(t){t._changesFilterPlugin={validate:dZ,normalize:pZ,shouldFilter:mZ,filter:fZ}}),zn.version="7.3.0";var gZ=cF(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),_Z=cF(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function uF(t){if(!/^\d+-/.test(t))return Zn(O7);var n=t.indexOf("-"),e=t.substring(0,n),i=t.substring(n+1);return{prefix:parseInt(e,10),id:i}}function dF(t,n,e){e||(e={deterministic_revs:!0});var i,o,r,s={status:"available"};if(t._deleted&&(s.deleted=!0),n)if(t._id||(t._id=Tv()),o=q7(t,e.deterministic_revs),t._rev){if((r=uF(t._rev)).error)return r;t._rev_tree=[{pos:r.prefix,ids:[r.id,{status:"missing"},[[o,s,[]]]]}],i=r.prefix+1}else t._rev_tree=[{pos:1,ids:[o,s,[]]}],i=1;else if(t._revisions&&(t._rev_tree=function vZ(t,n){for(var e=t.start-t.ids.length+1,i=t.ids,o=[i[0],n,[]],r=1,s=i.length;r<s;r++)o=[i[r],{status:"missing"},[o]];return[{pos:e,ids:o}]}(t._revisions,s),i=t._revisions.start,o=t._revisions.ids[0]),!t._rev_tree){if((r=uF(t._rev)).error)return r;t._rev_tree=[{pos:i=r.prefix,ids:[o=r.id,s,[]]}]}B7(t._id),t._rev=i+"-"+o;var a={metadata:{},data:{}};for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var d="_"===l[0];if(d&&!gZ[l]){var h=Zn(R7,l);throw h.message=R7.message+": "+l,h}d&&!_Z[l]?a.metadata[l.slice(1)]=t[l]:a.data[l]=t[l]}return a}function xZ(t,n,e){if(t.stub)return e();"string"==typeof t.data?function yZ(t,n,e){var i=function bZ(t){try{return Sx(t)}catch(e){return{error:Zn(N7,"Attachment is not a valid base64 string")}}}(t.data);if(i.error)return e(i.error);t.length=i.length,t.data="blob"===n?Tx(i,t.content_type):"base64"===n?Hh(i):i,Fx(i,function(o){t.digest="md5-"+o,e()})}(t,n,e):function wZ(t,n,e){Fx(t.data,function(i){t.digest="md5-"+i,t.length=t.data.size||t.data.length||0,"binary"===n?U7(t.data,function(o){t.data=o,e()}):"base64"===n?Dx(t.data,function(o){t.data=o,e()}):e()})}(t,n,e)}function EZ(t,n,e,i,o,r,s,a,l){t=t||1e3;var h=a.new_edits,w=new Ns,P=0,N=n.length;function L(){++P===N&&l&&l()}n.forEach(function(U,q){if(U._id&&bd(U._id))e[U._deleted?"_removeLocal":"_putLocal"](U,{ctx:o},function(K,J){r[q]=K||J,L()});else{var Q=U.metadata.id;w.has(Q)?(N--,w.get(Q).push([U,q])):w.set(Q,[[U,q]])}}),w.forEach(function(U,q){var Z=0;function Q(){++Z<U.length?K():L()}function K(){var J=U[Z],ae=J[0],we=J[1];if(i.has(q))!function MZ(t,n,e,i,o,r,s,a){if(function yJ(t,n){for(var s,e=t.slice(),i=n.split("-"),o=parseInt(i[0],10),r=i[1];s=e.pop();){if(s.pos===o&&s.ids[0]===r)return!0;for(var a=s.ids[2],l=0,d=a.length;l<d;l++)e.push({pos:s.pos+1,ids:a[l]})}return!1}(n.rev_tree,e.metadata.rev)&&!a)return i[o]=e,r();var l=n.winningRev||_d(n),d="deleted"in n?n.deleted:Sc(n,l),h="deleted"in e.metadata?e.metadata.deleted:Sc(e.metadata),w=/^1-/.test(e.metadata.rev);if(d&&!h&&a&&w){var P=e.data;P._rev=l,P._id=e.metadata.id,e=dF(P,a)}var N=K7(n.rev_tree,e.metadata.rev_tree[0],t);if(a&&(d&&h&&"new_leaf"!==N.conflicts||!d&&"new_leaf"!==N.conflicts||d&&!h&&"new_branch"===N.conflicts)){var U=Zn(vm);return i[o]=U,r()}var q=e.metadata.rev;e.metadata.rev_tree=N.tree,e.stemmedRevs=N.stemmedRevs||[],n.rev_map&&(e.metadata.rev_map=n.rev_map);var Z=_d(e.metadata),Q=Sc(e.metadata,Z),K=d===Q?0:d<Q?-1:1;s(e,Z,Q,q===Z?Q:Sc(e.metadata,q),!0,K,o,r)}(t,i.get(q),ae,r,we,Q,s,h);else{var _e=K7([],ae.metadata.rev_tree[0],t);ae.metadata.rev_tree=_e.tree,ae.stemmedRevs=_e.stemmedRevs||[],function d(U,q,Z){var Q=_d(U.metadata),K=Sc(U.metadata,Q);if("was_delete"in a&&K)return r[q]=Zn(Za,"deleted"),Z();var J=h&&function SZ(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}(U);if(J){var ae=Zn(vm);return r[q]=ae,Z()}s(U,Q,K,K,!1,K?0:1,q,Z)}(ae,we,Q)}}K()})}var nr="document-store",Lr="by-sequence",wa="attach-store",xd="attach-seq-store",vs="meta-store",Hl="local-store",jx="detect-blob-support";function DZ(t){try{return JSON.stringify(t)}catch(n){return S7.stringify(t)}}function Ul(t){return function(n){var e="unknown_error";n.target&&n.target.error&&(e=n.target.error.name||n.target.error.message),t(Zn(wx,e))}}function Gx(t,n,e){return{data:DZ(t),winningRev:n,deletedOrLocal:e?"1":"0",seq:t.seq,id:t.id}}function Cd(t){if(!t)return null;var n=function PZ(t){try{return JSON.parse(t)}catch(n){return S7.parse(t)}}(t.data);return n.winningRev=t.winningRev,n.deleted="1"===t.deletedOrLocal,n.seq=t.seq,n}function Dv(t){if(!t)return t;var n=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,n-1),t._rev=t._doc_id_rev.substring(n+1),delete t._doc_id_rev,t}function pF(t,n,e,i){e?i(t?"string"!=typeof t?t:Px(t,n):Ex([""],{type:n})):t?"string"!=typeof t?H7(t,function(o){i(Hh(o))}):i(t):i("")}function mF(t,n,e,i){var o=Object.keys(t._attachments||{});if(!o.length)return i&&i();var r=0;function s(){++r===o.length&&i&&i()}o.forEach(function(l){n.attachments&&n.include_docs?function a(l,d){var h=l._attachments[d],w=h.digest;e.objectStore(wa).get(w).onsuccess=function(N){h.body=N.target.result.body,s()}}(t,l):(t._attachments[l].stub=!0,s())})}function Vx(t,n){return Promise.all(t.map(function(e){if(e.doc&&e.doc._attachments){var i=Object.keys(e.doc._attachments);return Promise.all(i.map(function(o){var r=e.doc._attachments[o];if("body"in r){var s=r.body,a=r.content_type;return new Promise(function(l){pF(s,a,n,function(d){e.doc._attachments[o]=gd(Vh(r,["digest","content_type"]),{data:d}),l()})})}}))}}))}function fF(t,n,e){var i=[],o=e.objectStore(Lr),r=e.objectStore(wa),s=e.objectStore(xd),a=t.length;function l(){--a||function d(){!i.length||i.forEach(function(h){s.index("digestSeq").count(IDBKeyRange.bound(h+"::",h+"::\uffff",!1,!1)).onsuccess=function(P){P.target.result||r.delete(h)}})}()}t.forEach(function(h){o.index("_doc_id_rev").getKey(n+"::"+h).onsuccess=function(N){var L=N.target.result;if("number"!=typeof L)return l();o.delete(L),s.index("seq").openCursor(IDBKeyRange.only(L)).onsuccess=function(q){var Z=q.target.result;if(Z){var Q=Z.value.digestSeq.split("::")[0];i.push(Q),s.delete(Z.primaryKey),Z.continue()}else l()}}})}function tl(t,n,e){try{return{txn:t.transaction(n,e)}}catch(i){return{error:i}}}var Wh=new _m;function FZ(t,n,e,i,o,r){for(var a,l,d,h,w,P,N,L,s=n.docs,U=0,q=s.length;U<q;U++){var Z=s[U];Z._id&&bd(Z._id)||(Z=s[U]=dF(Z,e.new_edits,t)).error&&!N&&(N=Z)}if(N)return r(N);var Q=!1,K=0,J=new Array(s.length),ae=new Ns,we=!1;function Xe(){Q=!0,vt()}function vt(){!L||!Q||(L.docCount+=K,P.put(L))}function Pt(){we||(Wh.notify(i._meta.name),r(null,J))}function Ut(Ue,ot,De,$e,rt,wt,Gt,ut){Ue.metadata.winningRev=ot,Ue.metadata.deleted=De;var en=Ue.data;if(en._id=Ue.metadata.id,en._rev=Ue.metadata.rev,$e&&(en._deleted=!0),en._attachments&&Object.keys(en._attachments).length)return function G(Ue,ot,De,$e,rt,wt){var ut=0,en=Object.keys(Ue.data._attachments);function dn(){ut===en.length&&$(Ue,ot,De,$e,rt,wt)}function di(){ut++,dn()}en.forEach(function(sn){var jt=Ue.data._attachments[sn];if(jt.stub)ut++,dn();else{var tn=jt.data;delete jt.data,jt.revpos=parseInt(ot,10),function ve(Ue,ot,De){h.count(Ue).onsuccess=function(rt){if(rt.target.result)return De();h.put({digest:Ue,body:ot}).onsuccess=De}}(jt.digest,tn,di)}})}(Ue,ot,De,rt,Gt,ut);K+=wt,vt(),$(Ue,ot,De,rt,Gt,ut)}function $(Ue,ot,De,$e,rt,wt){var Gt=Ue.data,ut=Ue.metadata;function en(jt){var tn=Ue.stemmedRevs||[];$e&&i.auto_compaction&&(tn=tn.concat(function fJ(t){var n=[];return vd(t.rev_tree,function(e,i,o,r,s){"available"===s.status&&!e&&(n.push(i+"-"+o),s.status="missing")}),n}(Ue.metadata))),tn&&tn.length&&fF(tn,Ue.metadata.id,a),ut.seq=jt.target.result;var fn=Gx(ut,ot,De);l.put(fn).onsuccess=di}function di(){J[rt]={ok:!0,id:ut.id,rev:ut.rev},ae.set(Ue.metadata.id,Ue.metadata),function ie(Ue,ot,De){var $e=0,rt=Object.keys(Ue.data._attachments||{});if(!rt.length)return De();function wt(){++$e===rt.length&&De()}function Gt(en){var di=w.put({seq:ot,digestSeq:Ue.data._attachments[en].digest+"::"+ot});di.onsuccess=wt,di.onerror=function(sn){sn.preventDefault(),sn.stopPropagation(),wt()}}for(var ut=0;ut<rt.length;ut++)Gt(rt[ut])}(Ue,ut.seq,wt)}Gt._doc_id_rev=ut.id+"::"+ut.rev,delete Gt._id,delete Gt._rev;var sn=d.put(Gt);sn.onsuccess=en,sn.onerror=function dn(jt){jt.preventDefault(),jt.stopPropagation(),d.index("_doc_id_rev").getKey(Gt._doc_id_rev).onsuccess=function(ei){d.put(Gt,ei.target.result).onsuccess=en}}}!function CZ(t,n,e){if(!t.length)return e();var o,i=0;function r(){i++,t.length===i&&(o?e(o):e())}t.forEach(function(s){var a=s.data&&s.data._attachments?Object.keys(s.data._attachments):[],l=0;if(!a.length)return r();function d(w){o=w,++l===a.length&&r()}for(var h in s.data._attachments)Object.prototype.hasOwnProperty.call(s.data._attachments,h)&&xZ(s.data._attachments[h],n,d)})}(s,i._meta.blobSupport?"blob":"base64",function(Ue){if(Ue)return r(Ue);!function qe(){var ot=tl(o,[nr,Lr,wa,Hl,xd,vs],"readwrite");if(ot.error)return r(ot.error);(a=ot.txn).onabort=Ul(r),a.ontimeout=Ul(r),a.oncomplete=Pt,l=a.objectStore(nr),d=a.objectStore(Lr),h=a.objectStore(wa),w=a.objectStore(xd),(P=a.objectStore(vs)).get(vs).onsuccess=function(De){L=De.target.result,vt()},function pn(Ue){var ot=[];if(s.forEach(function(wt){wt.data&&wt.data._attachments&&Object.keys(wt.data._attachments).forEach(function(Gt){var ut=wt.data._attachments[Gt];ut.stub&&ot.push(ut.digest)})}),!ot.length)return Ue();var $e,De=0;ot.forEach(function(wt){!function qt(Ue,ot){h.get(Ue).onsuccess=function($e){if($e.target.result)ot();else{var rt=Zn(JQ,"unknown stub attachment with digest "+Ue);rt.status=412,ot(rt)}}}(wt,function(Gt){Gt&&!$e&&($e=Gt),function rt(){++De===ot.length&&Ue($e)}()})})}(function(De){if(De)return we=!0,r(De);!function Ct(){if(s.length)for(var Ue=0,$e=0,rt=s.length;$e<rt;$e++){var wt=s[$e];wt._id&&bd(wt._id)?ot():l.get(wt.metadata.id).onsuccess=De}function ot(){++Ue===s.length&&function st(){EZ(t.revs_limit,s,i,ae,a,J,Ut,e,Xe)}()}function De(ut){var en=Cd(ut.target.result);en&&ae.set(en.id,en),ot()}}()})}()})}function hF(t,n,e,i,o){var s,a,l;function d(N){a=N.target.result,s&&o(s,a,l)}function h(N){s=N.target.result,a&&o(s,a,l)}function P(N){var L=N.target.result;if(!L)return o();o([L.key],[L.value],L)}-1===i&&(i=1e3),"function"==typeof t.getAll&&"function"==typeof t.getAllKeys&&i>1&&!e?(l={continue:function w(){if(!s.length)return o();var L,N=s[s.length-1];if(n&&n.upper)try{L=IDBKeyRange.bound(N,n.upper,!0,n.upperOpen)}catch(U){if("DataError"===U.name&&0===U.code)return o()}else L=IDBKeyRange.lowerBound(N,!0);s=null,a=null,t.getAll(n=L,i).onsuccess=d,t.getAllKeys(n,i).onsuccess=h}},t.getAll(n,i).onsuccess=d,t.getAllKeys(n,i).onsuccess=h):e?t.openCursor(n,"prev").onsuccess=P:t.openCursor(n).onsuccess=P}var Hx=!1,Ux=[];function gF(){Hx||!Ux.length||(Hx=!0,Ux.shift()())}var zx,xm=new Ns,qx=new Ns;function _F(t,n){var e=this;!function LZ(t,n,e){Ux.push(function(){t(function(r,s){(function BZ(t,n,e,i){try{t(n,e)}catch(o){i.emit("error",o)}})(n,r,s,e),Hx=!1,os()(function(){gF()})})}),gF()}(function(i){!function GZ(t,n,e){var i=n.name,o=null,r=null;function s(q){return function(Z,Q){Z&&Z instanceof Error&&!Z.reason&&r&&(Z.reason=r),q(Z,Q)}}function l(q,Z){var Q=q.objectStore(nr);Q.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),Q.openCursor().onsuccess=function(K){var J=K.target.result;if(J){var ae=J.value,we=Sc(ae);ae.deletedOrLocal=we?"1":"0",Q.put(ae),J.continue()}else Z()}}function h(q,Z){var Q=q.objectStore(Hl),K=q.objectStore(nr),J=q.objectStore(Lr);K.openCursor().onsuccess=function(we){var _e=we.target.result;if(_e){var qe=_e.value,Xe=qe.id,st=bd(Xe),vt=_d(qe);if(st){var Ct=Xe+"::"+vt,Pt=Xe+"::",qt=Xe+"::~",pn=J.index("_doc_id_rev"),Ut=IDBKeyRange.bound(Pt,qt,!1,!1),$=pn.openCursor(Ut);$.onsuccess=function(G){if($=G.target.result){var ie=$.value;ie._doc_id_rev===Ct&&Q.put(ie),J.delete($.primaryKey),$.continue()}else K.delete(_e.primaryKey),_e.continue()}}else _e.continue()}else Z&&Z()}}function P(q,Z){var Q=q.objectStore(Lr),K=q.objectStore(wa),J=q.objectStore(xd);K.count().onsuccess=function(we){if(!we.target.result)return Z();Q.openCursor().onsuccess=function(qe){var Xe=qe.target.result;if(!Xe)return Z();for(var st=Xe.value,vt=Xe.primaryKey,Ct=Object.keys(st._attachments||{}),Pt={},qt=0;qt<Ct.length;qt++)Pt[st._attachments[Ct[qt]].digest]=!0;var Ut=Object.keys(Pt);for(qt=0;qt<Ut.length;qt++)J.put({seq:vt,digestSeq:Ut[qt]+"::"+vt});Xe.continue()}}}function N(q){var Q=q.objectStore(Lr),K=q.objectStore(nr);K.openCursor().onsuccess=function(ae){var we=ae.target.result;if(we){var _e=function Z(ae){return ae.data?Cd(ae):(ae.deleted="1"===ae.deletedOrLocal,ae)}(we.value);if(_e.winningRev=_e.winningRev||_d(_e),_e.seq)return Xe();!function qe(){var st=_e.id+"::",vt=_e.id+"::\uffff",Ct=Q.index("_doc_id_rev").openCursor(IDBKeyRange.bound(st,vt)),Pt=0;Ct.onsuccess=function(qt){var pn=qt.target.result;if(!pn)return _e.seq=Pt,Xe();var Ut=pn.primaryKey;Ut>Pt&&(Pt=Ut),pn.continue()}}()}function Xe(){var st=Gx(_e,_e.winningRev,_e.deleted);K.put(st).onsuccess=function(){we.continue()}}}}t._meta=null,t._remote=!1,t.type=function(){return"idb"},t._id=D7(function(q){q(null,t._meta.instanceId)}),t._bulkDocs=function(Z,Q,K){FZ(n,Z,Q,t,o,s(K))},t._get=function(Z,Q,K){var J,ae,we,_e=Q.ctx;if(!_e){var qe=tl(o,[nr,Lr,wa],"readonly");if(qe.error)return K(qe.error);_e=qe.txn}function Xe(){K(we,{doc:J,metadata:ae,ctx:_e})}_e.objectStore(nr).get(Z).onsuccess=function(st){if(!(ae=Cd(st.target.result)))return we=Zn(Za,"missing"),Xe();var vt;if(Q.rev)vt=Q.latest?function xJ(t,n){for(var i,e=n.rev_tree.slice();i=e.pop();){var o=i.pos,r=i.ids,s=r[0],a=r[1],l=r[2],d=0===l.length,h=i.history?i.history.slice():[];if(h.push({id:s,pos:o,opts:a}),d)for(var w=0,P=h.length;w<P;w++){var N=h[w];if(N.pos+"-"+N.id===t)return o+"-"+s}for(var U=0,q=l.length;U<q;U++)e.push({pos:o+1,ids:l[U],history:h})}throw new Error("Unable to resolve latest revision for id "+n.id+", rev "+t)}(Q.rev,ae):Q.rev;else if(vt=ae.winningRev,Sc(ae))return we=Zn(Za,"deleted"),Xe();var Pt=_e.objectStore(Lr),qt=ae.id+"::"+vt;Pt.index("_doc_id_rev").get(qt).onsuccess=function(pn){if((J=pn.target.result)&&(J=Dv(J)),!J)return we=Zn(Za,"missing"),Xe();Xe()}}},t._getAttachment=function(q,Z,Q,K,J){var ae;if(K.ctx)ae=K.ctx;else{var we=tl(o,[nr,Lr,wa],"readonly");if(we.error)return J(we.error);ae=we.txn}var _e=Q.digest,qe=Q.content_type;ae.objectStore(wa).get(_e).onsuccess=function(Xe){pF(Xe.target.result.body,qe,K.binary,function(vt){J(null,vt)})}},t._info=function(Z){var Q,K,J=tl(o,[vs,Lr],"readonly");if(J.error)return Z(J.error);var ae=J.txn;ae.objectStore(vs).get(vs).onsuccess=function(we){K=we.target.result.docCount},ae.objectStore(Lr).openCursor(null,"prev").onsuccess=function(we){var _e=we.target.result;Q=_e?_e.key:0},ae.oncomplete=function(){Z(null,{doc_count:K,update_seq:Q,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(Z,Q){!function NZ(t,n,e){var h,w,s="keys"in t&&t.keys,a=t.skip||0,l="number"==typeof t.limit?t.limit:-1;if(!s&&(h=function kZ(t,n,e,i,o){try{if(t&&n)return o?IDBKeyRange.bound(n,t,!e,!1):IDBKeyRange.bound(t,n,!1,!e);if(t)return o?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(n)return o?IDBKeyRange.lowerBound(n,!e):IDBKeyRange.upperBound(n,!e);if(i)return IDBKeyRange.only(i)}catch(r){return{error:r}}return null}("startkey"in t&&t.startkey,"endkey"in t&&t.endkey,!1!==t.inclusive_end,"key"in t&&t.key,t.descending),(w=h&&h.error)&&("DataError"!==w.name||0!==w.code)))return e(Zn(wx,w.name));var P=[nr,Lr,vs];t.attachments&&P.push(wa);var N=tl(n,P,"readonly");if(N.error)return e(N.error);var L=N.txn;L.oncomplete=function Pt(){t.attachments?Vx(K,t.binary).then(Ct):Ct()},L.onabort=Ul(e);var J,ae,U=L.objectStore(nr),q=L.objectStore(Lr),Z=L.objectStore(vs),Q=q.index("_doc_id_rev"),K=[];function qe(qt,pn){var Ut={id:pn.id,key:pn.id,value:{rev:qt}};pn.deleted?s&&(K.push(Ut),Ut.value.deleted=!0,Ut.doc=null):a--<=0&&(K.push(Ut),t.include_docs&&function _e(qt,pn,Ut){Q.get(qt.id+"::"+Ut).onsuccess=function(ie){if(pn.doc=Dv(ie.target.result)||{},t.conflicts){var ve=Ix(qt);ve.length&&(pn.doc._conflicts=ve)}mF(pn.doc,t,L)}}(pn,Ut,qt))}function Xe(qt){for(var pn=0,Ut=qt.length;pn<Ut&&K.length!==l;pn++){var $=qt[pn];if($.error&&s)K.push($);else{var G=Cd($);qe(G.winningRev,G)}}}function st(qt,pn,Ut){!Ut||(Xe(pn),K.length<l&&Ut.continue())}function Ct(){var qt={total_rows:J,offset:t.skip,rows:K};t.update_seq&&void 0!==ae&&(qt.update_seq=ae),e(null,qt)}if(Z.get(vs).onsuccess=function(qt){J=qt.target.result.docCount},t.update_seq&&function we(qt,pn){qt.openCursor(null,"prev").onsuccess=function Ut($){var G=$.target.result,ie=void 0;return G&&G.key&&(ie=G.key),pn({target:{result:[ie]}})}}(q,function(qt){qt.target.result&&qt.target.result.length>0&&(ae=qt.target.result[0])}),!w&&0!==l){if(s)return function IZ(t,n,e){var i=new Array(t.length),o=0;t.forEach(function(r,s){n.get(r).onsuccess=function(a){i[s]=a.target.result?a.target.result:{key:r,error:"not_found"},++o===t.length&&e(t,i,{})}})}(t.keys,U,st);if(-1===l)return function AZ(t,n,e){if("function"!=typeof t.getAll){var i=[];t.openCursor(n).onsuccess=function o(r){var s=r.target.result;s?(i.push(s.value),s.continue()):e({target:{result:i}})}}else t.getAll(n).onsuccess=e}(U,h,function vt(qt){var pn=qt.target.result;t.descending&&(pn=pn.reverse()),Xe(pn)});hF(U,h,t.descending,l+a,st)}}(Z,o,s(Q))},t._changes=function(Z){return function jZ(t,n,e,i){if((t=vr(t)).continuous){var o=e+":"+Tv();return Wh.addListener(e,o,n,t),Wh.notify(e),{cancel:function(){Wh.removeListener(e,o)}}}var r=t.doc_ids&&new gm(t.doc_ids);t.since=t.since||0;var s=t.since,a="limit"in t?t.limit:-1;0===a&&(a=1);var P,N,L,U,l=[],d=0,h=xx(t),w=new Ns;function Z(qe,Xe,st,vt){return st.seq!==Xe?vt():st.winningRev===qe._rev?vt(st,qe):void(U.get(qe._id+"::"+st.winningRev).onsuccess=function(qt){vt(st,Dv(qt.target.result))})}function K(){t.complete(null,{results:l,last_seq:s})}var ae=[nr,Lr];t.attachments&&ae.push(wa);var we=tl(i,ae,"readonly");if(we.error)return t.complete(we.error);(P=we.txn).onabort=Ul(t.complete),P.oncomplete=function J(){!t.continuous&&t.attachments?Vx(l).then(K):K()},N=P.objectStore(Lr),L=P.objectStore(nr),U=N.index("_doc_id_rev"),hF(N,t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null,t.descending,a,function q(qe,Xe,st){if(st&&qe.length){var vt=new Array(qe.length),Ct=new Array(qe.length),pn=0;Xe.forEach(function(Ut,$){!function Q(qe,Xe,st){if(r&&!r.has(qe._id))return st();var vt=w.get(qe._id);if(vt)return Z(qe,Xe,vt,st);L.get(qe._id).onsuccess=function(Ct){vt=Cd(Ct.target.result),w.set(qe._id,vt),Z(qe,Xe,vt,st)}}(Dv(Ut),qe[$],function(ve,Ue){Ct[$]=ve,vt[$]=Ue,++pn===qe.length&&function qt(){for(var Ut=[],$=0,G=vt.length;$<G&&d!==a;$++){var ie=vt[$];ie&&Ut.push(Pt(Ct[$],ie))}Promise.all(Ut).then(function(Ue){for(var ot=0,De=Ue.length;ot<De;ot++)Ue[ot]&&t.onChange(Ue[ot])}).catch(t.complete),d!==a&&st.continue()}()})})}function Pt(Ut,$){var G=t.processChange($,Ut,t);s=G.seq=Ut.seq;var ie=h(G);return"object"==typeof ie?Promise.reject(ie):ie?(d++,t.return_docs&&l.push(G),t.attachments&&t.include_docs?new Promise(function(ve){mF($,t,P,function(){Vx([G],t.binary).then(function(){ve(G)})})}):Promise.resolve(G)):Promise.resolve()}})}(Z,t,i,o)},t._close=function(q){o.close(),xm.delete(i),q()},t._getRevisionTree=function(q,Z){var Q=tl(o,[nr],"readonly");if(Q.error)return Z(Q.error);Q.txn.objectStore(nr).get(q).onsuccess=function(ae){var we=Cd(ae.target.result);we?Z(null,we.rev_tree):Z(Zn(Za))}},t._doCompaction=function(q,Z,Q){var J=tl(o,[nr,Lr,wa,xd],"readwrite");if(J.error)return Q(J.error);var ae=J.txn;ae.objectStore(nr).get(q).onsuccess=function(_e){var qe=Cd(_e.target.result);vd(qe.rev_tree,function(vt,Ct,Pt,qt,pn){-1!==Z.indexOf(Ct+"-"+Pt)&&(pn.status="missing")}),fF(Z,q,ae);var Xe=qe.winningRev,st=qe.deleted;ae.objectStore(nr).put(Gx(qe,Xe,st))},ae.onabort=Ul(Q),ae.oncomplete=function(){Q()}},t._getLocal=function(q,Z){var Q=tl(o,[Hl],"readonly");if(Q.error)return Z(Q.error);var J=Q.txn.objectStore(Hl).get(q);J.onerror=Ul(Z),J.onsuccess=function(ae){var we=ae.target.result;we?(delete we._doc_id_rev,Z(null,we)):Z(Zn(Za))}},t._putLocal=function(q,Z,Q){"function"==typeof Z&&(Q=Z,Z={}),delete q._revisions;var K=q._rev,J=q._id;q._rev=K?"0-"+(parseInt(K.split("-")[1],10)+1):"0-1";var we,ae=Z.ctx;if(!ae){var _e=tl(o,[Hl],"readwrite");if(_e.error)return Q(_e.error);(ae=_e.txn).onerror=Ul(Q),ae.oncomplete=function(){we&&Q(null,we)}}var Xe,qe=ae.objectStore(Hl);K?(Xe=qe.get(J)).onsuccess=function(st){var vt=st.target.result;vt&&vt._rev===K?qe.put(q).onsuccess=function(){we={ok:!0,id:q._id,rev:q._rev},Z.ctx&&Q(null,we)}:Q(Zn(vm))}:((Xe=qe.add(q)).onerror=function(st){Q(Zn(vm)),st.preventDefault(),st.stopPropagation()},Xe.onsuccess=function(){we={ok:!0,id:q._id,rev:q._rev},Z.ctx&&Q(null,we)})},t._removeLocal=function(q,Z,Q){"function"==typeof Z&&(Q=Z,Z={});var K=Z.ctx;if(!K){var J=tl(o,[Hl],"readwrite");if(J.error)return Q(J.error);(K=J.txn).oncomplete=function(){ae&&Q(null,ae)}}var ae,we=q._id,_e=K.objectStore(Hl),qe=_e.get(we);qe.onerror=Ul(Q),qe.onsuccess=function(Xe){var st=Xe.target.result;st&&st._rev===q._rev?(_e.delete(we),ae={ok:!0,id:we,rev:"0-0"},Z.ctx&&Q(null,ae)):Q(Zn(Za))}},t._destroy=function(q,Z){Wh.removeAllListeners(i);var Q=qx.get(i);Q&&Q.result&&(Q.result.close(),xm.delete(i));var K=indexedDB.deleteDatabase(i);K.onsuccess=function(){qx.delete(i),Cv()&&i in localStorage&&delete localStorage[i],Z(null,{ok:!0})},K.onerror=Ul(Z)};var L=xm.get(i);if(L)return o=L.idb,t._meta=L.global,os()(function(){e(null,t)});var U=indexedDB.open(i,5);qx.set(i,U),U.onupgradeneeded=function(q){var Z=q.target.result;if(q.oldVersion<1)return function a(q){var Z=q.createObjectStore(nr,{keyPath:"id"});q.createObjectStore(Lr,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),q.createObjectStore(wa,{keyPath:"digest"}),q.createObjectStore(vs,{keyPath:"id",autoIncrement:!1}),q.createObjectStore(jx),Z.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),q.createObjectStore(Hl,{keyPath:"_id"});var Q=q.createObjectStore(xd,{autoIncrement:!0});Q.createIndex("seq","seq"),Q.createIndex("digestSeq","digestSeq",{unique:!0})}(Z);var Q=q.currentTarget.transaction;q.oldVersion<3&&function d(q){q.createObjectStore(Hl,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(Z),q.oldVersion<4&&function w(q){var Z=q.createObjectStore(xd,{autoIncrement:!0});Z.createIndex("seq","seq"),Z.createIndex("digestSeq","digestSeq",{unique:!0})}(Z);var K=[l,h,P,N],J=q.oldVersion;!function ae(){var we=K[J-1];J++,we&&we(Q,ae)}()},U.onsuccess=function(q){(o=q.target.result).onversionchange=function(){o.close(),xm.delete(i)},o.onabort=function(Xe){ya("error","Database has a global failure",Xe.target.error),r=Xe.target.error,o.close(),xm.delete(i)};var K,J,ae,we,Z=o.transaction([vs,jx,nr],"readwrite"),Q=!1;function _e(){void 0===ae||!Q||(t._meta={name:i,instanceId:we,blobSupport:ae},xm.set(i,{idb:o,global:t._meta}),e(null,t))}function qe(){if(void 0!==J&&void 0!==K){var Xe=i+"_id";Xe in K?we=K[Xe]:K[Xe]=we=Tv(),K.docCount=J,Z.objectStore(vs).put(K)}}Z.objectStore(vs).get(vs).onsuccess=function(Xe){K=Xe.target.result||{id:vs},qe()},function OZ(t,n){t.objectStore(nr).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(i){n(i.target.result)}}(Z,function(Xe){J=Xe,qe()}),zx||(zx=function RZ(t){return new Promise(function(n){var e=Ex([""]),i=t.objectStore(jx).put(e,"key");i.onsuccess=function(){var o=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);n(r||!o||parseInt(o[1],10)>=43)},i.onerror=t.onabort=function(o){o.preventDefault(),o.stopPropagation(),n(!1)}}).catch(function(){return!1})}(Z)),zx.then(function(Xe){ae=Xe,_e()}),Z.oncomplete=function(){Q=!0,_e()},Z.onabort=Ul(e)},U.onerror=function(q){var Z=q.target.error&&q.target.error.message;Z?-1!==Z.indexOf("stored database is a higher version")&&(Z=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):Z="Failed to open indexedDB, are you in private browsing mode?",ya("error",Z),e(Zn(wx,Z))}}(e,t,i)},n,e.constructor)}_F.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}};var $x={};function Wx(t){var n=t.doc||t.ok,e=n&&n._attachments;!e||Object.keys(e).forEach(function(i){var o=e[i];o.data=Px(o.data,o.content_type)})}function Md(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function vF(t){return t._attachments&&Object.keys(t._attachments)?Promise.all(Object.keys(t._attachments).map(function(n){var e=t._attachments[n];if(e.data&&"string"!=typeof e.data)return new Promise(function(i){Dx(e.data,i)}).then(function(i){e.data=i})})):Promise.resolve()}function br(t,n){return Av(t,t.db+"/"+n)}function Av(t,n){return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+(t.path?"/":"")+n}function Iv(t){return"?"+Object.keys(t).map(function(n){return n+"="+encodeURIComponent(t[n])}).join("&")}function Yx(t,n){var e=this,i=function WZ(t,n){if(function $Z(t){if(!t.prefix)return!1;var n=V7(t.prefix).protocol;return"http"===n||"https"===n}(n)){var e=n.name.substr(n.prefix.length);t=n.prefix.replace(/\/?$/,"/")+encodeURIComponent(e)}var o=V7(t);(o.user||o.password)&&(o.auth={username:o.user,password:o.password});var r=o.path.replace(/(^\/|\/$)/g,"").split("/");return o.db=r.pop(),-1===o.db.indexOf("%")&&(o.db=encodeURIComponent(o.db)),o.path=r.join("/"),o}(t.name,t),o=br(i,"");t=vr(t);var l,r=function(w,P){if((P=P||{}).headers=P.headers||new ym,P.credentials="include",t.auth||i.auth){var N=t.auth||i.auth,U=Hh(unescape(encodeURIComponent(N.username+":"+N.password)));P.headers.set("Authorization","Basic "+U)}var q=t.headers||{};return Object.keys(q).forEach(function(Q){P.headers.append(Q,q[Q])}),function YZ(t){var n="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",e=-1!==n.indexOf("msie"),i=-1!==n.indexOf("trident"),o=-1!==n.indexOf("edge");return(e||i||o)&&(!("method"in t)||"GET"===t.method)}(P)&&(w+=(-1===w.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||Z7)(w,P)};function s(w,P){return tr(w,Cc()(function(N){d().then(function(){return P.apply(this,N)}).catch(function(L){N.pop()(L)})})).bind(e)}function a(w,P,N){var L={};return(P=P||{}).headers=P.headers||new ym,P.headers.get("Content-Type")||P.headers.set("Content-Type","application/json"),P.headers.get("Accept")||P.headers.set("Accept","application/json"),r(w,P).then(function(U){return L.ok=U.ok,L.status=U.status,U.json()}).then(function(U){if(L.data=U,!L.ok){L.data.status=L.status;var q=bm(L.data);if(N)return N(q);throw q}if(Array.isArray(L.data)&&(L.data=L.data.map(function(Z){return Z.error||Z.missing?bm(Z):Z})),!N)return L;N(null,L.data)})}function d(){return t.skip_setup?Promise.resolve():l||((l=a(o).catch(function(w){return w&&w.status&&404===w.status?(vx(404,"PouchDB is just detecting if the remote exists."),a(o,{method:"PUT"})):Promise.reject(w)}).catch(function(w){return!(!w||!w.status||412!==w.status)||Promise.reject(w)})).catch(function(){l=null}),l)}function h(w){return w.split("/").map(encodeURIComponent).join("/")}os()(function(){n(null,e)}),e._remote=!0,e.type=function(){return"http"},e.id=s("id",function(w){r(Av(i,"")).then(function(P){return P.json()}).catch(function(){return{}}).then(function(P){var N=P&&P.uuid?P.uuid+i.db:br(i,"");w(null,N)})}),e.compact=s("compact",function(w,P){"function"==typeof w&&(P=w,w={}),w=vr(w),a(br(i,"_compact"),{method:"POST"}).then(function(){!function N(){e.info(function(L,U){U&&!U.compact_running?P(null,{ok:!0}):setTimeout(N,w.interval||200)})}()})}),e.bulkGet=tr("bulkGet",function(w,P){var N=this;function L(Q){var K={};w.revs&&(K.revs=!0),w.attachments&&(K.attachments=!0),w.latest&&(K.latest=!0),a(br(i,"_bulk_get"+Iv(K)),{method:"POST",body:JSON.stringify({docs:w.docs})}).then(function(J){w.attachments&&w.binary&&J.data.results.forEach(function(ae){ae.docs.forEach(Wx)}),Q(null,J.data)}).catch(Q)}function U(){var K=Math.ceil(w.docs.length/50),J=0,ae=new Array(K);function we(Xe){return function(st,vt){ae[Xe]=vt.results,++J===K&&P(null,{results:Sv(ae)})}}for(var _e=0;_e<K;_e++){var qe=Vh(w,["revs","attachments","binary","latest"]);qe.docs=w.docs.slice(50*_e,Math.min(w.docs.length,50*(_e+1))),A7(N,qe,we(_e))}}var q=Av(i,""),Z=$x[q];"boolean"!=typeof Z?L(function(Q,K){Q?($x[q]=!1,vx(Q.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),U()):($x[q]=!0,P(null,K))}):Z?L(P):U()}),e._info=function(w){d().then(function(){return r(br(i,""))}).then(function(P){return P.json()}).then(function(P){P.host=br(i,""),w(null,P)}).catch(w)},e.fetch=function(w,P){return d().then(function(){var N="/"===w.substring(0,1)?Av(i,w.substring(1)):br(i,w);return r(N,P)})},e.get=s("get",function(w,P,N){"function"==typeof P&&(N=P,P={});var L={};function U(Q){var K=Q._attachments,J=K&&Object.keys(K);if(K&&J.length)return function HZ(t,n){return new Promise(function(e,i){var l,o=0,r=0,s=0,a=t.length;function h(){++s===a?l?i(l):e():N()}function w(){o--,h()}function P(L){o--,l=l||L,h()}function N(){for(;o<n&&r<a;)o++,t[r++]().then(w,P)}N()})}(J.map(function(_e){return function(){return function ae(_e){var qe=K[_e],Xe=Md(Q._id)+"/"+h(_e)+"?rev="+Q._rev;return r(br(i,Xe)).then(function(st){return"buffer"in st?st.buffer():st.blob()}).then(function(st){if(P.binary){var vt=Object.getOwnPropertyDescriptor(st.__proto__,"type");return(!vt||vt.set)&&(st.type=qe.content_type),st}return new Promise(function(Ct){Dx(st,Ct)})}).then(function(st){delete qe.stub,delete qe.length,qe.data=st})}(_e)}}),5)}(P=vr(P)).revs&&(L.revs=!0),P.revs_info&&(L.revs_info=!0),P.latest&&(L.latest=!0),P.open_revs&&("all"!==P.open_revs&&(P.open_revs=JSON.stringify(P.open_revs)),L.open_revs=P.open_revs),P.rev&&(L.rev=P.rev),P.conflicts&&(L.conflicts=P.conflicts),P.update_seq&&(L.update_seq=P.update_seq),w=Md(w),a(br(i,w+Iv(L))).then(function(Q){return Promise.resolve().then(function(){if(P.attachments)return function q(Q){return Array.isArray(Q)?Promise.all(Q.map(function(K){if(K.ok)return U(K.ok)})):U(Q)}(Q.data)}).then(function(){N(null,Q.data)})}).catch(function(Q){Q.docId=w,N(Q)})}),e.remove=s("remove",function(w,P,N,L){var U;"string"==typeof P?(U={_id:w,_rev:P},"function"==typeof N&&(L=N,N={})):(U=w,"function"==typeof P?(L=P,N={}):(L=N,N=P));var q=U._rev||N.rev;a(br(i,Md(U._id))+"?rev="+q,{method:"DELETE"},L).catch(L)}),e.getAttachment=s("getAttachment",function(w,P,N,L){"function"==typeof N&&(L=N,N={});var Z,U=N.rev?"?rev="+N.rev:"",q=br(i,Md(w))+"/"+h(P)+U;r(q,{method:"GET"}).then(function(Q){if(Z=Q.headers.get("content-type"),Q.ok)return"undefined"==typeof process||process.browser||"function"!=typeof Q.buffer?Q.blob():Q.buffer();throw Q}).then(function(Q){"undefined"!=typeof process&&!process.browser&&(Q.type=Z),L(null,Q)}).catch(function(Q){L(Q)})}),e.removeAttachment=s("removeAttachment",function(w,P,N,L){a(br(i,Md(w)+"/"+h(P))+"?rev="+N,{method:"DELETE"},L).catch(L)}),e.putAttachment=s("putAttachment",function(w,P,N,L,U,q){"function"==typeof U&&(q=U,U=L,L=N,N=null);var Z=Md(w)+"/"+h(P),Q=br(i,Z);if(N&&(Q+="?rev="+N),"string"==typeof L){var K;try{K=Sx(L)}catch(J){return q(Zn(N7,"Attachment is not a valid base64 string"))}L=K?Tx(K,U):""}a(Q,{headers:new ym({"Content-Type":U}),method:"PUT",body:L},q).catch(q)}),e._bulkDocs=function(w,P,N){w.new_edits=P.new_edits,d().then(function(){return Promise.all(w.docs.map(vF))}).then(function(){return a(br(i,"_bulk_docs"),{method:"POST",body:JSON.stringify(w)},N)}).catch(N)},e._put=function(w,P,N){d().then(function(){return vF(w)}).then(function(){return a(br(i,Md(w._id)),{method:"PUT",body:JSON.stringify(w)})}).then(function(L){N(null,L.data)}).catch(function(L){L.docId=w&&w._id,N(L)})},e.allDocs=s("allDocs",function(w,P){"function"==typeof w&&(P=w,w={});var L,N={},U="GET";(w=vr(w)).conflicts&&(N.conflicts=!0),w.update_seq&&(N.update_seq=!0),w.descending&&(N.descending=!0),w.include_docs&&(N.include_docs=!0),w.attachments&&(N.attachments=!0),w.key&&(N.key=JSON.stringify(w.key)),w.start_key&&(w.startkey=w.start_key),w.startkey&&(N.startkey=JSON.stringify(w.startkey)),w.end_key&&(w.endkey=w.end_key),w.endkey&&(N.endkey=JSON.stringify(w.endkey)),void 0!==w.inclusive_end&&(N.inclusive_end=!!w.inclusive_end),void 0!==w.limit&&(N.limit=w.limit),void 0!==w.skip&&(N.skip=w.skip);var q=Iv(N);void 0!==w.keys&&(U="POST",L={keys:w.keys}),a(br(i,"_all_docs"+q),{method:U,body:JSON.stringify(L)}).then(function(Z){w.include_docs&&w.attachments&&w.binary&&Z.data.rows.forEach(Wx),P(null,Z.data)}).catch(P)}),e._changes=function(w){var P="batch_size"in w?w.batch_size:25;(w=vr(w)).continuous&&!("heartbeat"in w)&&(w.heartbeat=1e4);var N="timeout"in w?w.timeout:3e4;"timeout"in w&&w.timeout&&N-w.timeout<5e3&&(N=w.timeout+5e3),"heartbeat"in w&&w.heartbeat&&N-w.heartbeat<5e3&&(N=w.heartbeat+5e3);var L={};"timeout"in w&&w.timeout&&(L.timeout=w.timeout);var U=void 0!==w.limit&&w.limit,q=U;if(w.style&&(L.style=w.style),(w.include_docs||w.filter&&"function"==typeof w.filter)&&(L.include_docs=!0),w.attachments&&(L.attachments=!0),w.continuous&&(L.feed="longpoll"),w.seq_interval&&(L.seq_interval=w.seq_interval),w.conflicts&&(L.conflicts=!0),w.descending&&(L.descending=!0),w.update_seq&&(L.update_seq=!0),"heartbeat"in w&&w.heartbeat&&(L.heartbeat=w.heartbeat),w.filter&&"string"==typeof w.filter&&(L.filter=w.filter),w.view&&"string"==typeof w.view&&(L.filter="_view",L.view=w.view),w.query_params&&"object"==typeof w.query_params)for(var Z in w.query_params)Object.prototype.hasOwnProperty.call(w.query_params,Z)&&(L[Z]=w.query_params[Z]);var K,Q="GET";w.doc_ids?(L.filter="_doc_ids",Q="POST",K={doc_ids:w.doc_ids}):w.selector&&(L.filter="_selector",Q="POST",K={selector:w.selector});var ae,J=new IJ,we=function(Xe,st){if(!w.aborted){L.since=Xe,"object"==typeof L.since&&(L.since=JSON.stringify(L.since)),w.descending?U&&(L.limit=q):L.limit=!U||q>P?P:q;var vt=br(i,"_changes"+Iv(L)),Ct={signal:J.signal,method:Q,body:JSON.stringify(K)};ae=Xe,!w.aborted&&d().then(function(){return a(vt,Ct,st)}).catch(st)}},_e={results:[]},qe=function(Xe,st){if(!w.aborted){var vt=0;if(st&&st.results){vt=st.results.length,_e.last_seq=st.last_seq;var Ct=null,Pt=null;"number"==typeof st.pending&&(Ct=st.pending),("string"==typeof _e.last_seq||"number"==typeof _e.last_seq)&&(Pt=_e.last_seq),st.results=st.results.filter(function(Ut){q--;var $=xx(w)(Ut);return $&&(w.include_docs&&w.attachments&&w.binary&&Wx(Ut),w.return_docs&&_e.results.push(Ut),w.onChange(Ut,Ct,Pt)),$})}else if(Xe)return w.aborted=!0,void w.complete(Xe);st&&st.last_seq&&(ae=st.last_seq),(!w.continuous||U&&q<=0)&&(U&&q<=0||st&&vt<P||w.descending)?w.complete(null,_e):os()(function(){we(ae,qe)})}};return we(w.since||0,qe),{cancel:function(){w.aborted=!0,J.abort()}}},e.revsDiff=s("revsDiff",function(w,P,N){"function"==typeof P&&(N=P,P={}),a(br(i,"_revs_diff"),{method:"POST",body:JSON.stringify(w)},N).catch(N)}),e._close=function(w){w()},e._destroy=function(w,P){a(br(i,""),{method:"DELETE"}).then(function(N){P(null,N)}).catch(function(N){404===N.status?P(null,{ok:!0}):P(N)})}}function Sd(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Sd)}catch(n){}}function kv(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,kv)}catch(n){}}function Nv(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Nv)}catch(n){}}function bF(t,n){return n&&t.then(function(e){os()(function(){n(null,e)})},function(e){os()(function(){n(e)})}),t}function Xx(t,n){return function(){var e=arguments,i=this;return t.add(function(){return n.apply(i,e)})}}function yF(t){var n=new gm(t),e=new Array(n.size),i=-1;return n.forEach(function(o){e[++i]=o}),e}function Kx(t){var n=new Array(t.size),e=-1;return t.forEach(function(i,o){n[++e]=o}),n}function wF(t){return new Nv("builtin "+t+" function requires map values to be numbers or number arrays")}function Qx(t){for(var n=0,e=0,i=t.length;e<i;e++){var o=t[e];if("number"!=typeof o){if(!Array.isArray(o))throw wF("_sum");n="number"==typeof n?[n]:n;for(var r=0,s=o.length;r<s;r++){var a=o[r];if("number"!=typeof a)throw wF("_sum");void 0===n[r]?n.push(a):n[r]+=a}}else"number"==typeof n?n+=o:n[0]+=o}return n}Yx.valid=function(){return!0},on()(Sd,Error),on()(kv,Error),on()(Nv,Error);var JZ=ya.bind(null,"log"),ZZ=Array.isArray,eee=JSON.parse;function xF(t,n){return Mx("return ("+t.replace(/;\s*$/,"")+");",{emit:n,sum:Qx,log:JZ,isArray:ZZ,toJSON:eee})}function Yh(){this.promise=new Promise(function(t){t()})}function CF(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function MF(t,n,e,i,o,r){var a,s=function tee(t,n){return CF(t)+CF(n)+"undefined"}(e,i);if(!o&&(a=t._cachedViews=t._cachedViews||{})[s])return a[s];var l=t.info().then(function(d){var h=d.db_name+"-mrview-"+(o?"temp":z7(s));return Ev(t,"_local/"+r,function w(P){P.views=P.views||{};var N=n;-1===N.indexOf("/")&&(N=n+"/"+n);var L=P.views[N]=P.views[N]||{};if(!L[h])return L[h]=!0,P}).then(function(){return t.registerDependentDatabase(h).then(function(P){var N=P.db;N.auto_compaction=!0;var L={name:h,db:N,sourceDB:t,adapter:t.adapter,mapFun:e,reduceFun:i};return L.db.get("_local/lastSeq").catch(function(U){if(404!==U.status)throw U}).then(function(U){return L.seq=U?U.seq:0,a&&L.db.once("destroyed",function(){delete a[s]}),L})})})});return a&&(a[s]=l),l}Yh.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},Yh.prototype.finish=function(){return this.promise};var SF={},EF=new Yh;function Jx(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function TF(t,n){try{t.emit("error",n)}catch(e){ya("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),ya("error",n)}}var Zx__sum=function(t,n){return Qx(n)},Zx__count=function(t,n){return n.length},Zx__stats=function(t,n){return{sum:Qx(n),min:Math.min.apply(null,n),max:Math.max.apply(null,n),count:n.length,sumsqr:function e(i){for(var o=0,r=0,s=i.length;r<s;r++){var a=i[r];o+=a*a}return o}(n)}},PF=function oee(t,n,e,i){function o($,G,ie){try{G(ie)}catch(ve){TF($,ve)}}function r($,G,ie,ve,Ue){try{return{output:G(ie,ve,Ue)}}catch(ot){return TF($,ot),{error:ot}}}function s($,G){var ie=Wo($.key,G.key);return 0!==ie?ie:Wo($.value,G.value)}function a($,G,ie){return ie=ie||0,"number"==typeof G?$.slice(ie,G+ie):ie>0?$.slice(ie):$}function l($){var G=$.value;return G&&"object"==typeof G&&G._id||$.id}function h($){return function(G){return $.include_docs&&$.attachments&&$.binary&&function d($){$.rows.forEach(function(G){var ie=G.doc&&G.doc._attachments;!ie||Object.keys(ie).forEach(function(ve){var Ue=ie[ve];ie[ve].data=Px(Ue.data,Ue.content_type)})})}(G),G}}function w($,G,ie,ve){var Ue=G[$];void 0!==Ue&&(ve&&(Ue=encodeURIComponent(JSON.stringify(Ue))),ie.push($+"="+Ue))}function P($){if(void 0!==$){var G=Number($);return isNaN(G)||G!==parseInt($,10)?$:G}}function U($,G){var ie=$.descending?"endkey":"startkey",ve=$.descending?"startkey":"endkey";if(void 0!==$[ie]&&void 0!==$[ve]&&Wo($[ie],$[ve])>0)throw new Sd("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(G.reduce&&!1!==$.reduce){if($.include_docs)throw new Sd("{include_docs:true} is invalid for reduce");if($.keys&&$.keys.length>1&&!$.group&&!$.group_level)throw new Sd("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(Ue){var ot=function L($){if($){if("number"!=typeof $)return new Sd('Invalid value for integer: "'+$+'"');if($<0)return new Sd('Invalid value for positive integer: "'+$+'"')}}($[Ue]);if(ot)throw ot})}function K($){return function(G){if(404===G.status)return $;throw G}}function we($){var G="string"==typeof $?$:$.name,ie=SF[G];return ie||(ie=SF[G]=new Yh),ie}function _e($,G){return Xx(we($),function(){return function qe($,G){var ie,ve;var ot=n($.mapFun,function Ue(sn,jt){var tn={id:ve._id,key:yd(sn)};null!=jt&&(tn.value=yd(jt)),ie.push(tn)}),De=$.seq||0;function $e(sn,jt){return function(){return function ae($,G,ie){var ve="_local/lastSeq";return $.db.get(ve).catch(K({_id:ve,seq:0})).then(function(Ue){var ot=Kx(G);return Promise.all(ot.map(function(De){return function J($,G,ie){var ve="_local/doc_"+$,Ue={_id:ve,keys:[]},ot=ie.get($),De=ot[0],$e=ot[1];return function rt(){return function iee(t){return 1===t.length&&/^1-/.test(t[0].rev)}($e)?Promise.resolve(Ue):G.db.get(ve).catch(K(Ue))}().then(function(ut){return function wt(ut){return ut.keys.length?G.db.allDocs({keys:ut.keys,include_docs:!0}):Promise.resolve({rows:[]})}(ut).then(function(en){return function Gt(ut,en){for(var dn=[],di=new gm,sn=0,jt=en.rows.length;sn<jt;sn++){var fn=en.rows[sn].doc;if(fn&&(dn.push(fn),di.add(fn._id),fn._deleted=!De.has(fn._id),!fn._deleted)){var ei=De.get(fn._id);"value"in ei&&(fn.value=ei.value)}}var Dn=Kx(De);return Dn.forEach(function(ri){if(!di.has(ri)){var Vo={_id:ri},bi=De.get(ri);"value"in bi&&(Vo.value=bi.value),dn.push(Vo)}}),ut.keys=yF(Dn.concat(ut.keys)),dn.push(ut),dn}(ut,en)})})}(De,$,G)})).then(function(De){var $e=Sv(De);return Ue.seq=ie,$e.push(Ue),$.db.bulkDocs({docs:$e})})})}($,sn,jt)}}let rt=0;$.sourceDB.emit("indexing",{view:$.name,indexed_docs:rt});var Gt=new Yh;function ut(){return $.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:De,limit:G.changes_batch_size}).then(en)}function en(sn){var jt=sn.results;if(jt.length){var tn=function dn(sn){for(var jt=new Ns,tn=0,fn=sn.length;tn<fn;tn++){var ei=sn[tn];if("_"!==ei.doc._id[0]){ie=[],(ve=ei.doc)._deleted||o($.sourceDB,ot,ve),ie.sort(s);var Dn=di(ie);jt.set(ei.doc._id,[Dn,ei.changes])}De=ei.seq}return jt}(jt);return Gt.add($e(tn,De)),rt+=jt.length,$.sourceDB.emit("indexing",{view:$.name,last_seq:sn.last_seq,results_count:jt.length,indexed_docs:rt}),jt.length<G.changes_batch_size?void 0:ut()}}function di(sn){for(var tn,jt=new Ns,fn=0,ei=sn.length;fn<ei;fn++){var Dn=sn[fn],ri=[Dn.key,Dn.id];fn>0&&0===Wo(Dn.key,tn)&&ri.push(fn),jt.set(el(ri),Dn),tn=Dn.key}return jt}return ut().then(function(){return Gt.finish()}).then(function(){$.seq=De})}($,G)})()}function st($,G){return Xx(we($),function(){return function vt($,G){var ie,ve=$.reduceFun&&!1!==G.reduce,Ue=G.skip||0;function ot(sn){return sn.include_docs=!0,$.db.allDocs(sn).then(function(jt){return ie=jt.total_rows,jt.rows.map(function(tn){if("value"in tn.doc&&"object"==typeof tn.doc.value&&null!==tn.doc.value){var fn=Object.keys(tn.doc.value).sort(),ei=["id","key","value"];if(!(fn<ei||fn>ei))return tn.doc.value}var Dn=function XJ(t){for(var n=[],e=[],i=0;;){var o=t[i++];if("\0"!==o)switch(o){case"1":n.push(null);break;case"2":n.push("1"===t[i]),i++;break;case"3":var r=WJ(t,i);n.push(r.num),i+=r.length;break;case"4":for(var s="";;){var a=t[i];if("\0"===a)break;s+=a,i++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),n.push(s);break;case"5":var l={element:[],index:n.length};n.push(l.element),e.push(l);break;case"6":var d={element:{},index:n.length};n.push(d.element),e.push(d);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===n.length)return n.pop();YJ(n,e)}}}(tn.doc._id);return{key:Dn[0],id:Dn[1],value:"value"in tn.doc?tn.doc.value:null}})})}function De(sn){var jt;if(jt=ve?function Xe($,G,ie){0===ie.group_level&&delete ie.group_level;var ve=ie.group||ie.group_level,Ue=e($.reduceFun),ot=[],De=isNaN(ie.group_level)?Number.POSITIVE_INFINITY:ie.group_level;G.forEach(function(ut){var en=ot[ot.length-1],dn=ve?ut.key:null;if(ve&&Array.isArray(dn)&&(dn=dn.slice(0,De)),en&&0===Wo(en.groupKey,dn))return en.keys.push([ut.key,ut.id]),void en.values.push(ut.value);ot.push({keys:[[ut.key,ut.id]],values:[ut.value],groupKey:dn})}),G=[];for(var $e=0,rt=ot.length;$e<rt;$e++){var wt=ot[$e],Gt=r($.sourceDB,Ue,wt.keys,wt.values,!1);if(Gt.error&&Gt.error instanceof Nv)throw Gt.error;G.push({value:Gt.error?null:Gt.output,key:wt.groupKey})}return{rows:a(G,ie.limit,ie.skip)}}($,sn,G):void 0===G.keys?{total_rows:ie,offset:Ue,rows:sn}:{total_rows:ie,offset:Ue,rows:a(sn,G.limit,G.skip)},G.update_seq&&(jt.update_seq=$.seq),G.include_docs){var tn=yF(sn.map(l));return $.sourceDB.allDocs({keys:tn,include_docs:!0,conflicts:G.conflicts,attachments:G.attachments,binary:G.binary}).then(function(fn){var ei=new Ns;return fn.rows.forEach(function(Dn){ei.set(Dn.id,Dn.doc)}),sn.forEach(function(Dn){var ri=l(Dn),Vo=ei.get(ri);Vo&&(Dn.doc=Vo)}),jt})}return jt}if(void 0!==G.keys&&!G.keys.length&&(G.limit=0,delete G.keys),void 0!==G.keys){var rt=G.keys.map(function(sn){var jt={startkey:el([sn]),endkey:el([sn,{}])};return G.update_seq&&(jt.update_seq=!0),ot(jt)});return Promise.all(rt).then(Sv).then(De)}var Gt,ut,wt={descending:G.descending};if(G.update_seq&&(wt.update_seq=!0),"start_key"in G&&(Gt=G.start_key),"startkey"in G&&(Gt=G.startkey),"end_key"in G&&(ut=G.end_key),"endkey"in G&&(ut=G.endkey),void 0!==Gt&&(wt.startkey=el(G.descending?[Gt,{}]:[Gt])),void 0!==ut){var en=!1!==G.inclusive_end;G.descending&&(en=!en),wt.endkey=el(en?[ut,{}]:[ut])}if(void 0!==G.key){var dn=el([G.key]),di=el([G.key,{}]);wt.descending?(wt.endkey=dn,wt.startkey=di):(wt.startkey=dn,wt.endkey=di)}return ve||("number"==typeof G.limit&&(wt.limit=G.limit),wt.skip=Ue),ot(wt).then(De)}($,G)})()}var Ut=function KZ(t){return Cc()(function(n){var e=n.pop(),i=t.apply(this,n);return"function"==typeof e&&bF(i,e),i})}(function(){var $=this;return"function"==typeof $._viewCleanup?function Q($){return new Promise(function(G,ie){$._viewCleanup(function(ve,Ue){if(ve)return ie(ve);G(Ue)})})}($):Vl($)?function Ct($){return $.fetch("_view_cleanup",{headers:new ym({"Content-Type":"application/json"}),method:"POST"}).then(function(G){return G.json()})}($):function Pt($){return $.get("_local/"+t).then(function(G){var ie=new Ns;Object.keys(G.views).forEach(function(Ue){var ot=Jx(Ue),De="_design/"+ot[0],$e=ot[1],rt=ie.get(De);rt||(rt=new gm,ie.set(De,rt)),rt.add($e)});var ve={keys:Kx(ie),include_docs:!0};return $.allDocs(ve).then(function(Ue){var ot={};Ue.rows.forEach(function(rt){var wt=rt.key.substring(8);ie.get(rt.key).forEach(function(Gt){var ut=wt+"/"+Gt;G.views[ut]||(ut=Gt);var en=Object.keys(G.views[ut]),dn=rt.doc&&rt.doc.views&&rt.doc.views[Gt];en.forEach(function(di){ot[di]=ot[di]||dn})})});var $e=Object.keys(ot).filter(function(rt){return!ot[rt]}).map(function(rt){return Xx(we(rt),function(){return new $.constructor(rt,$.__opts).destroy()})()});return Promise.all($e).then(function(){return{ok:!0}})})},K({ok:!0}))}($)});return{query:function pn($,G,ie){var ve=this;"function"==typeof G&&(ie=G,G={}),G=G?function N($){return $.group_level=P($.group_level),$.limit=P($.limit),$.skip=P($.skip),$}(G):{},"function"==typeof $&&($={map:$});var Ue=Promise.resolve().then(function(){return function qt($,G,ie){if("function"==typeof $._query)return function Z($,G,ie){return new Promise(function(ve,Ue){$._query(G,ie,function(ot,De){if(ot)return Ue(ot);ve(De)})})}($,G,ie);if(Vl($))return function q($,G,ie){var Ue,De,$e,ve=[],ot="GET";if(w("reduce",ie,ve),w("include_docs",ie,ve),w("attachments",ie,ve),w("limit",ie,ve),w("descending",ie,ve),w("group",ie,ve),w("group_level",ie,ve),w("skip",ie,ve),w("stale",ie,ve),w("conflicts",ie,ve),w("startkey",ie,ve,!0),w("start_key",ie,ve,!0),w("endkey",ie,ve,!0),w("end_key",ie,ve,!0),w("inclusive_end",ie,ve),w("key",ie,ve,!0),w("update_seq",ie,ve),ve=""===(ve=ve.join("&"))?"":"?"+ve,void 0!==ie.keys){var wt="keys="+encodeURIComponent(JSON.stringify(ie.keys));wt.length+ve.length+1<=2e3?ve+=("?"===ve[0]?"&":"?")+wt:(ot="POST","string"==typeof G?Ue={keys:ie.keys}:G.keys=ie.keys)}if("string"==typeof G){var Gt=Jx(G);return $.fetch("_design/"+Gt[0]+"/_view/"+Gt[1]+ve,{headers:new ym({"Content-Type":"application/json"}),method:ot,body:JSON.stringify(Ue)}).then(function(ut){return De=ut.ok,$e=ut.status,ut.json()}).then(function(ut){if(!De)throw ut.status=$e,bm(ut);return ut.rows.forEach(function(en){if(en.value&&en.value.error&&"builtin_reduce_error"===en.value.error)throw new Error(en.reason)}),ut}).then(h(ie))}return Ue=Ue||{},Object.keys(G).forEach(function(ut){Ue[ut]=Array.isArray(G[ut])?G[ut]:G[ut].toString()}),$.fetch("_temp_view"+ve,{headers:new ym({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(Ue)}).then(function(ut){return De=ut.ok,$e=ut.status,ut.json()}).then(function(ut){if(!De)throw ut.status=$e,bm(ut);return ut}).then(h(ie))}($,G,ie);var ve={changes_batch_size:$.__opts.view_update_changes_batch_size||50};if("string"!=typeof G)return U(ie,G),EF.add(function(){return MF($,"temp_view/temp_view",G.map,G.reduce,!0,t).then(function(wt){return function QZ(t,n){return t.then(function(e){return n().then(function(){return e})},function(e){return n().then(function(){throw e})})}(_e(wt,ve).then(function(){return st(wt,ie)}),function(){return wt.db.destroy()})})}),EF.finish();var Ue=G,ot=Jx(Ue),$e=ot[1];return $.get("_design/"+ot[0]).then(function(rt){var wt=rt.views&&rt.views[$e];if(!wt)throw new kv("ddoc "+rt._id+" has no view named "+$e);return i(rt,$e),U(ie,wt),MF($,Ue,wt.map,wt.reduce,!1,t).then(function(ut){return"ok"===ie.stale||"update_after"===ie.stale?("update_after"===ie.stale&&os()(function(){_e(ut,ve)}),st(ut,ie)):_e(ut,ve).then(function(){return st(ut,ie)})})})}(ve,$,G)});return bF(Ue,ie),Ue},viewCleanup:Ut}}("mrviews",function see(t,n){if("function"==typeof t&&2===t.length){var e=t;return function(i){return e(i,n)}}return xF(t.toString(),n)},function aee(t){var n=t.toString(),e=function ree(t){if(/^_sum/.test(t))return Zx__sum;if(/^_count/.test(t))return Zx__count;if(/^_stats/.test(t))return Zx__stats;if(/^_/.test(t))throw new Error(t+" is not a supported reduce function.")}(n);return e||xF(n)},function lee(t,n){var e=t.views&&t.views[n];if("string"!=typeof e.map)throw new kv("ddoc "+t._id+" has no string view named "+n+", instead found object of type: "+typeof e.map)}),pee={query:function uee(t,n,e){return PF.query.call(this,t,n,e)},viewCleanup:function dee(t){return PF.viewCleanup.call(this,t)}};function DF(t){return/^1-/.test(t)}function FF(t,n){var e=Object.keys(n._attachments);return Promise.all(e.map(function(i){return t.getAttachment(n._id,i,{rev:n._rev})}))}function gee(t,n,e,i){e=vr(e);var o=[],r=!0;return Promise.resolve().then(function h(){var P=Object.keys(e).filter(function(N){var L=e[N].missing;return 1===L.length&&DF(L[0])});if(P.length>0)return function d(P){return t.allDocs({keys:P,include_docs:!0,conflicts:!0}).then(function(N){if(i.cancelled)throw new Error("cancelled");N.rows.forEach(function(L){L.deleted||!L.doc||!DF(L.value.rev)||function a(P){return P._attachments&&Object.keys(P._attachments).length>0}(L.doc)||function l(P){return P._conflicts&&P._conflicts.length>0}(L.doc)||(L.doc._conflicts&&delete L.doc._conflicts,o.push(L.doc),delete e[L.id])})})}(P)}).then(function s(){var P=function hee(t){var n=[];return Object.keys(t).forEach(function(e){t[e].missing.forEach(function(o){n.push({id:e,rev:o})})}),{docs:n,revs:!0,latest:!0}}(e);if(P.docs.length)return t.bulkGet(P).then(function(N){if(i.cancelled)throw new Error("cancelled");return Promise.all(N.results.map(function(L){return Promise.all(L.docs.map(function(U){var q=U.ok;return U.error&&(r=!1),q&&q._attachments?function fee(t,n,e){var i=Vl(n)&&!Vl(t),o=Object.keys(e._attachments);return i?t.get(e._id).then(function(r){return Promise.all(o.map(function(s){return function mee(t,n,e){return!t._attachments||!t._attachments[e]||t._attachments[e].digest!==n._attachments[e].digest}(r,e,s)?n.getAttachment(e._id,s):t.getAttachment(r._id,s)}))}).catch(function(r){if(404!==r.status)throw r;return FF(n,e)}):FF(n,e)}(n,t,q).then(function(Z){var Q=Object.keys(q._attachments);return Z.forEach(function(K,J){var ae=q._attachments[Q[J]];delete ae.stub,delete ae.length,ae.data=K}),q}):q}))})).then(function(L){o=o.concat(Sv(L).filter(Boolean))})})}).then(function w(){return{ok:r,docs:o}})}var IF="pouchdb";function eC(t,n,e,i,o){return t.get(n).catch(function(r){if(404===r.status)return("http"===t.adapter||"https"===t.adapter)&&vx(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:n,history:[],replicator:IF,version:1};throw r}).then(function(r){if(!o.cancelled&&r.last_seq!==e)return r.history=(r.history||[]).filter(function(s){return s.session_id!==i}),r.history.unshift({last_seq:e,session_id:i}),r.history=r.history.slice(0,5),r.version=1,r.replicator=IF,r.session_id=i,r.last_seq=e,t.put(r).catch(function(s){if(409===s.status)return eC(t,n,e,i,o);throw s})})}function Xh(t,n,e,i,o){this.src=t,this.target=n,this.id=e,this.returnValue=i,this.opts=o||{}}Xh.prototype.writeCheckpoint=function(t,n){var e=this;return this.updateTarget(t,n).then(function(){return e.updateSource(t,n)})},Xh.prototype.updateTarget=function(t,n){return this.opts.writeTargetCheckpoint?eC(this.target,this.id,t,n,this.returnValue):Promise.resolve(!0)},Xh.prototype.updateSource=function(t,n){if(this.opts.writeSourceCheckpoint){var e=this;return eC(this.src,this.id,t,n,this.returnValue).catch(function(i){if(RF(i))return e.opts.writeSourceCheckpoint=!1,!0;throw i})}return Promise.resolve(!0)};var kF={undefined:function(t,n){return 0===Wo(t.last_seq,n.last_seq)?n.last_seq:0},1:function(t,n){return function vee(t,n){return t.session_id===n.session_id?{last_seq:t.last_seq,history:t.history}:NF(t.history,n.history)}(n,t).last_seq}};function NF(t,n){var e=t[0],i=t.slice(1),o=n[0],r=n.slice(1);return e&&0!==n.length?tC(e.session_id,n)?{last_seq:e.last_seq,history:t}:tC(o.session_id,i)?{last_seq:o.last_seq,history:r}:NF(i,r):{last_seq:0,history:[]}}function tC(t,n){var e=n[0],i=n.slice(1);return!(!t||0===n.length)&&(t===e.session_id||tC(t,i))}function RF(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}function BF(t,n,e,i,o){var s,J,r=[],a={seq:0,changes:[],docs:[]},l=!1,d=!1,h=!1,w=0,P=e.continuous||e.live||!1,N=e.batch_size||100,L=e.batches_limit||10,U=e.style||"all_docs",q=!1,Z=e.doc_ids,Q=e.selector,ae=[],we=Tv();o=o||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var _e={};function qe(){return J?Promise.resolve():function wee(t,n,e){var i=e.doc_ids?e.doc_ids.sort(Wo):"",o=e.filter?e.filter.toString():"",r="",s="",a="";return e.selector&&(a=JSON.stringify(e.selector)),e.filter&&e.query_params&&(r=JSON.stringify(function yee(t){return Object.keys(t).sort(Wo).reduce(function(n,e){return n[e]=t[e],n},{})}(e.query_params))),e.filter&&"_view"===e.filter&&(s=e.view.toString()),Promise.all([t.id(),n.id()]).then(function(l){var d=l[0]+l[1]+o+s+r+i+a;return new Promise(function(h){Fx(d,h)})}).then(function(l){return"_local/"+l.replace(/\//g,".").replace(/\+/g,"_")})}(t,n,e).then(function(De){J=new Xh(t,n,De,i,!1===e.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===e.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===e.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})})}function Xe(){if(ae=[],0!==s.docs.length){var De=s.docs;return n.bulkDocs({docs:De,new_edits:!1},{timeout:e.timeout}).then(function(rt){if(i.cancelled)throw Ut(),new Error("cancelled");var wt=Object.create(null);rt.forEach(function(ut){ut.error&&(wt[ut.id]=ut)});var Gt=Object.keys(wt).length;o.doc_write_failures+=Gt,o.docs_written+=De.length-Gt,De.forEach(function(ut){var en=wt[ut._id];if(en){o.errors.push(en);var dn=(en.name||"").toLowerCase();if("unauthorized"!==dn&&"forbidden"!==dn)throw en;i.emit("denied",vr(en))}else ae.push(ut)})},function(rt){throw o.doc_write_failures+=De.length,rt})}}function st(){if(s.error)throw new Error("There was a problem getting docs.");o.last_seq=w=s.seq;var De=vr(o);return ae.length&&(De.docs=ae,"number"==typeof s.pending&&(De.pending=s.pending,delete s.pending),i.emit("change",De)),l=!0,J.writeCheckpoint(s.seq,we).then(function(){if(i.emit("checkpoint",{checkpoint:s.seq}),l=!1,i.cancelled)throw Ut(),new Error("cancelled");s=void 0,ve()}).catch(function($e){throw ot($e),$e})}function Ct(){return gee(t,n,s.diffs,i).then(function(De){s.error=!De.ok,De.docs.forEach(function($e){delete s.diffs[$e._id],o.docs_read++,s.docs.push($e)})})}function Pt(){if(!i.cancelled&&!s){if(0===r.length)return void qt(!0);s=r.shift(),i.emit("checkpoint",{start_next_batch:s.seq}),function vt(){var De={};return s.changes.forEach(function($e){i.emit("checkpoint",{revs_diff:$e}),"_user/"!==$e.id&&(De[$e.id]=$e.changes.map(function(rt){return rt.rev}))}),n.revsDiff(De).then(function($e){if(i.cancelled)throw Ut(),new Error("cancelled");s.diffs=$e})}().then(Ct).then(Xe).then(st).then(Pt).catch(function(De){pn("batch processing terminated with error",De)})}}function qt(De){0!==a.changes.length?(De||d||a.changes.length>=N)&&(r.push(a),a={seq:0,changes:[],docs:[]},("pending"===i.state||"stopped"===i.state)&&(i.state="active",i.emit("active")),Pt()):0===r.length&&!s&&((P&&_e.live||d)&&(i.state="pending",i.emit("paused")),d&&Ut())}function pn(De,$e){h||($e.message||($e.message=De),o.ok=!1,o.status="aborting",r=[],a={seq:0,changes:[],docs:[]},Ut($e))}function Ut(De){if(!(h||i.cancelled&&(o.status="cancelled",l)))if(o.status=o.status||"complete",o.end_time=(new Date).toISOString(),o.last_seq=w,h=!0,De){(De=Zn(De)).result=o;var $e=(De.name||"").toLowerCase();"unauthorized"===$e||"forbidden"===$e?(i.emit("error",De),i.removeAllListeners()):function bee(t,n,e,i){if(!1===t.retry)return n.emit("error",e),void n.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=WQ),n.emit("requestError",e),"active"===n.state||"pending"===n.state){n.emit("paused",e),n.state="stopped";var o=function(){t.current_back_off=0};n.once("paused",function(){n.removeListener("active",o)}),n.once("active",o)}t.current_back_off=t.current_back_off||0,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(i,t.current_back_off)}(e,i,De,function(){BF(t,n,e,i)})}else i.emit("complete",o),i.removeAllListeners()}function $(De,$e,rt){if(i.cancelled)return Ut();"number"==typeof $e&&(a.pending=$e),!xx(e)(De)||(a.seq=De.seq||rt,a.changes.push(De),i.emit("checkpoint",{pending_batch:a.seq}),os()(function(){qt(0===r.length&&_e.live)}))}function G(De){if(q=!1,i.cancelled)return Ut();if(De.results.length>0)_e.since=De.results[De.results.length-1].seq,ve(),qt(!0);else{var $e=function(){P?(_e.live=!0,ve()):d=!0,qt(!0)};s||0!==De.results.length?$e():(l=!0,J.writeCheckpoint(De.last_seq,we).then(function(){l=!1,o.last_seq=w=De.last_seq,$e()}).catch(ot))}}function ie(De){if(q=!1,i.cancelled)return Ut();pn("changes rejected",De)}function ve(){if(!q&&!d&&r.length<L){q=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",De);var rt=t.changes(_e).on("change",$);rt.then($e,$e),rt.then(G).catch(ie),e.retry&&(i._changes=rt,i._abortChanges=De)}function De(){rt.cancel()}function $e(){i.removeListener("cancel",De)}}function Ue(){qe().then(function(){if(!i.cancelled)return J.getCheckpoint().then(function(De){_e={since:w=De,limit:N,batch_size:N,style:U,doc_ids:Z,selector:Q,return_docs:!0},e.filter&&("string"!=typeof e.filter?_e.include_docs=!0:_e.filter=e.filter),"heartbeat"in e&&(_e.heartbeat=e.heartbeat),"timeout"in e&&(_e.timeout=e.timeout),e.query_params&&(_e.query_params=e.query_params),e.view&&(_e.view=e.view),ve()});Ut()}).catch(function(De){pn("getCheckpoint rejected with ",De)})}function ot(De){l=!1,pn("writeCheckpoint completed with error",De)}i.ready(t,n),i.cancelled?Ut():(i._addedListeners||(i.once("cancel",Ut),"function"==typeof e.complete&&(i.once("error",e.complete),i.once("complete",function(De){e.complete(null,De)})),i._addedListeners=!0),void 0===e.since?Ue():qe().then(function(){return l=!0,J.writeCheckpoint(e.since,we)}).then(function(){l=!1,i.cancelled?Ut():(w=e.since,Ue())}).catch(ot))}function Rv(){Br().call(this),this.cancelled=!1,this.state="pending";var t=this,n=new Promise(function(e,i){t.once("complete",e),t.once("error",i)});t.then=function(e,i){return n.then(e,i)},t.catch=function(e){return n.catch(e)},t.catch(function(){})}function Ov(t,n){return"string"==typeof t?new(0,n.PouchConstructor)(t,n):t}function nC(t,n,e,i){if("function"==typeof e&&(i=e,e={}),void 0===e&&(e={}),e.doc_ids&&!Array.isArray(e.doc_ids))throw Zn(Mv,"`doc_ids` filter parameter is not a list.");e.complete=i,(e=vr(e)).continuous=e.continuous||e.live,e.retry="retry"in e&&e.retry,e.PouchConstructor=e.PouchConstructor||this;var o=new Rv(e);return BF(Ov(t,e),Ov(n,e),e,o),o}function xee(t,n,e,i){return"function"==typeof e&&(i=e,e={}),void 0===e&&(e={}),(e=vr(e)).PouchConstructor=e.PouchConstructor||this,new iC(t=Ov(t,e),n=Ov(n,e),e,i)}function iC(t,n,e,i){var o=this;this.canceled=!1;var r=e.push?gd({},e,e.push):e,s=e.pull?gd({},e,e.pull):e;function a(K){o.emit("change",{direction:"pull",change:K})}function l(K){o.emit("change",{direction:"push",change:K})}function d(K){o.emit("denied",{direction:"push",doc:K})}function h(K){o.emit("denied",{direction:"pull",doc:K})}function w(){o.pushPaused=!0,o.pullPaused&&o.emit("paused")}function P(){o.pullPaused=!0,o.pushPaused&&o.emit("paused")}function N(){o.pushPaused=!1,o.pullPaused&&o.emit("active",{direction:"push"})}function L(){o.pullPaused=!1,o.pushPaused&&o.emit("active",{direction:"pull"})}this.push=nC(t,n,r),this.pull=nC(n,t,s),this.pushPaused=!0,this.pullPaused=!0;var U={};function q(K){return function(J,ae){("change"===J&&(ae===a||ae===l)||"denied"===J&&(ae===h||ae===d)||"paused"===J&&(ae===P||ae===w)||"active"===J&&(ae===L||ae===N))&&(J in U||(U[J]={}),U[J][K]=!0,2===Object.keys(U[J]).length&&o.removeAllListeners(J))}}function Z(K,J,ae){-1==K.listeners(J).indexOf(ae)&&K.on(J,ae)}e.live&&(this.push.on("complete",o.pull.cancel.bind(o.pull)),this.pull.on("complete",o.push.cancel.bind(o.push))),this.on("newListener",function(K){"change"===K?(Z(o.pull,"change",a),Z(o.push,"change",l)):"denied"===K?(Z(o.pull,"denied",h),Z(o.push,"denied",d)):"active"===K?(Z(o.pull,"active",L),Z(o.push,"active",N)):"paused"===K&&(Z(o.pull,"paused",P),Z(o.push,"paused",w))}),this.on("removeListener",function(K){"change"===K?(o.pull.removeListener("change",a),o.push.removeListener("change",l)):"denied"===K?(o.pull.removeListener("denied",h),o.push.removeListener("denied",d)):"active"===K?(o.pull.removeListener("active",L),o.push.removeListener("active",N)):"paused"===K&&(o.pull.removeListener("paused",P),o.push.removeListener("paused",w))}),this.pull.on("removeListener",q("pull")),this.push.on("removeListener",q("push"));var Q=Promise.all([this.push,this.pull]).then(function(K){var J={push:K[0],pull:K[1]};return o.emit("complete",J),i&&i(null,J),o.removeAllListeners(),J},function(K){if(o.cancel(),i?i(K):o.emit("error",K),o.removeAllListeners(),i)throw K});this.then=function(K,J){return Q.then(K,J)},this.catch=function(K){return Q.catch(K)}}Xh.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(n){return n.last_seq||0}).catch(function(n){if(404!==n.status)throw n;return 0}):t.target.get(t.id).then(function(n){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?n.last_seq||0:t.src.get(t.id).then(function(e){return n.version!==e.version?0:(i=n.version?n.version.toString():"undefined")in kF?kF[i](n,e):0;var i},function(e){if(404===e.status&&n.last_seq)return t.src.put({_id:t.id,last_seq:0}).then(function(){return 0},function(i){return RF(i)?(t.opts.writeSourceCheckpoint=!1,n.last_seq):0});throw e})}).catch(function(n){if(404!==n.status)throw n;return 0})},on()(Rv,Br()),Rv.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Rv.prototype.ready=function(t,n){var e=this;function i(){e.cancel()}function o(){t.removeListener("destroyed",i),n.removeListener("destroyed",i)}e._readyCalled||(e._readyCalled=!0,t.once("destroyed",i),n.once("destroyed",i),e.once("complete",o),e.once("error",o))},on()(iC,Br()),iC.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},zn.plugin(function VZ(t){t.adapter("idb",_F,!0)}).plugin(function XZ(t){t.adapter("http",Yx,!1),t.adapter("https",Yx,!1)}).plugin(pee).plugin(function Cee(t){t.replicate=nC,t.sync=xee,Object.defineProperty(t.prototype,"replicate",{get:function(){var n=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(e,i,o){return n.constructor.replicate(e,n,i,o)},to:function(e,i,o){return n.constructor.replicate(n,e,i,o)}}),this.replicateMethods}}),t.prototype.sync=function(n,e,i){return this.constructor.sync(this,n,e,i)}});const Bv=zn;function Qi(t,n,e){Error.call(this,e),this.status=t,this.name=n,this.message=e,this.error=!0}on()(Qi,Error),Qi.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new Qi(401,"unauthorized","Name or password is incorrect."),new Qi(400,"bad_request","Missing JSON list of 'docs'"),new Qi(404,"not_found","missing"),new Qi(409,"conflict","Document update conflict"),new Qi(400,"bad_request","_id field must contain a string"),new Qi(412,"missing_id","_id is required for puts"),new Qi(400,"bad_request","Only reserved document ids may start with underscore."),new Qi(412,"precondition_failed","Database not open");var Mee=new Qi(500,"unknown_error","Database encountered an unknown error");function oC(t){if("object"!=typeof t){var n=t;(t=Mee).data=n}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),"stack"in t||(t.stack=(new Error).stack),t}new Qi(500,"badarg","Some query argument is invalid"),new Qi(400,"invalid_request","Request was invalid"),new Qi(400,"query_parse_error","Some query parameter is invalid"),new Qi(500,"doc_validation","Bad special document member"),new Qi(400,"bad_request","Something wrong with the request"),new Qi(400,"bad_request","Document must be a JSON object"),new Qi(404,"not_found","Database not found"),new Qi(500,"indexed_db_went_bad","unknown"),new Qi(500,"web_sql_went_bad","unknown"),new Qi(500,"levelDB_went_went_bad","unknown"),new Qi(403,"forbidden","Forbidden by design doc validate_doc_update function"),new Qi(400,"bad_request","Invalid rev format"),new Qi(412,"file_exists","The database could not be created, the file already exists."),new Qi(412,"missing_stub","A pre-existing attachment stub wasn't found"),new Qi(413,"invalid_url","Provided URL is invalid"),"undefined"!=typeof AbortController&&AbortController,fetch;var Qh,Cm,Lv=Headers;function jv(t){return"$"+t}function LF(t){return t.substring(1)}function Ec(){this._store={}}function Kh(t){if(this._store=new Ec,t&&Array.isArray(t))for(var n=0,e=t.length;n<e;n++)this.add(t[n])}function Dee(t){for(var n=t.length,e=new ArrayBuffer(n),i=new Uint8Array(e),o=0;o<n;o++)i[o]=t.charCodeAt(o);return e}function Aee(t,n){return function Fee(t,n){return function Pee(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(r){if("TypeError"!==r.name)throw r;for(var i=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<t.length;o+=1)i.append(t[o]);return i.getBlob(n.type)}}([Dee(t)],{type:n})}(function(t){return atob(t)}(t),n)}function ir(t,n){if(t===n)return 0;t=Ed(t),n=Ed(n);var e=aC(t),i=aC(n);if(e-i!=0)return e-i;switch(typeof t){case"number":return t-n;case"boolean":return t<n?-1:1;case"string":return function Hee(t,n){return t===n?0:t>n?1:-1}(t,n)}return Array.isArray(t)?function Vee(t,n){for(var e=Math.min(t.length,n.length),i=0;i<e;i++){var o=ir(t[i],n[i]);if(0!==o)return o}return t.length===n.length?0:t.length>n.length?1:-1}(t,n):function Uee(t,n){for(var e=Object.keys(t),i=Object.keys(n),o=Math.min(e.length,i.length),r=0;r<o;r++){var s=ir(e[r],i[r]);if(0!==s||0!==(s=ir(t[e[r]],n[i[r]])))return s}return e.length===i.length?0:e.length>i.length?1:-1}(t,n)}function Ed(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var n=t;if(Array.isArray(t)){var e=t.length;t=new Array(e);for(var i=0;i<e;i++)t[i]=Ed(n[i])}else{if(t instanceof Date)return t.toJSON();if(null!==t)for(var o in t={},n)if(Object.prototype.hasOwnProperty.call(n,o)){var r=n[o];void 0!==r&&(t[o]=Ed(r))}}}return t}function nl(t){return aC(t=Ed(t))+""+function Bee(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return function zee(t){if(0===t)return"1";var n=t.toExponential().split(/e\+?/),e=parseInt(n[1],10),i=t<0,o=i?"0":"2",s=function Oee(t,n,e){var i=function Ree(t,n,e){for(var i="",o=e-t.length;i.length<o;)i+=n;return i}(t,n,e);return i+t}(((i?-e:e)- -324).toString(),"0",3);o+=""+s;var a=Math.abs(parseFloat(n[0]));i&&(a=10-a);var l=a.toFixed(20);return o+""+l.replace(/\.?0+$/,"")}(t);case"string":return t.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var n=Array.isArray(t),e=n?t:Object.keys(t),i=-1,o=e.length,r="";if(n)for(;++i<o;)r+=nl(e[i]);else for(;++i<o;){var s=e[i];r+=nl(s)+nl(t[s])}return r}return""}(t)+"\0"}function Lee(t,n){var i,e=n;if("1"===t[n])i=0,n++;else{var r="0"===t[n];n++;var s="",a=t.substring(n,n+3),l=parseInt(a,10)+-324;for(r&&(l=-l),n+=3;;){var d=t[n];if("\0"===d)break;s+=d,n++}i=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),r&&(i-=10),0!==l&&(i=parseFloat(i+"e"+l))}return{num:i,length:n-e}}function jee(t,n){var e=t.pop();if(n.length){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var o=i.element,r=i.index;Array.isArray(o)?o.push(e):r===t.length-2?o[t.pop()]=e:t.push(e)}}function aC(t){var e=["boolean","number","string","object"].indexOf(typeof t);return~e?null===t?1:Array.isArray(t)?5:e<3?e+2:e+3:Array.isArray(t)?5:void 0}Ec.prototype.get=function(t){var n=jv(t);return this._store[n]},Ec.prototype.set=function(t,n){var e=jv(t);return this._store[e]=n,!0},Ec.prototype.has=function(t){return jv(t)in this._store},Ec.prototype.keys=function(){return Object.keys(this._store).map(t=>LF(t))},Ec.prototype.delete=function(t){var n=jv(t),e=n in this._store;return delete this._store[n],e},Ec.prototype.forEach=function(t){for(var n=Object.keys(this._store),e=0,i=n.length;e<i;e++){var o=n[e];t(this._store[o],o=LF(o))}},Object.defineProperty(Ec.prototype,"size",{get:function(){return Object.keys(this._store).length}}),Kh.prototype.add=function(t){return this._store.set(t,!0)},Kh.prototype.has=function(t){return this._store.has(t)},Kh.prototype.forEach=function(t){this._store.forEach(function(n,e){t(e)})},Object.defineProperty(Kh.prototype,"size",{get:function(){return this._store.size}}),function See(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(Qh=Set,Cm=Map):(Qh=Kh,Cm=Ec),new Uint8Array(16);for(var jr=[],lC=0;lC<256;++lC)jr.push((lC+256).toString(16).substr(1));function GF(t){return wv().hash(t)}self.setImmediate||self;var cC,uC,VF=Function.prototype.toString,cte=VF.call(Object);function gu(t){var n,e,i;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(n=[],e=0,i=t.length;e<i;e++)n[e]=gu(t[e]);return n}if(t instanceof Date&&isFinite(t))return t.toISOString();if(function ste(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}(t))return function lte(t){if(t instanceof ArrayBuffer)return function ate(t){if("function"==typeof t.slice)return t.slice(0);var n=new ArrayBuffer(t.byteLength),e=new Uint8Array(n),i=new Uint8Array(t);return e.set(i),n}(t);var n=t.size,e=t.type;return"function"==typeof t.slice?t.slice(0,n,e):t.webkitSlice(0,n,e)}(t);if(!function ute(t){var n=Object.getPrototypeOf(t);if(null===n)return!0;var e=n.constructor;return"function"==typeof e&&e instanceof e&&VF.call(e)==cte}(t))return t;for(e in n={},t)if(Object.prototype.hasOwnProperty.call(t,e)){var o=gu(t[e]);void 0!==o&&(n[e]=o)}return n}function Mm(t){return Cc()(function(n){n=gu(n);var e=this,i="function"==typeof n[n.length-1]&&n.pop(),o=new Promise(function(r,s){var a;try{var l=function dte(t){var n=!1;return Cc()(function(e){if(n)throw new Error("once called more than once");n=!0,t.apply(this,e)})}(function(d,h){d?s(d):r(h)});n.push(l),(a=t.apply(e,n))&&"function"==typeof a.then&&r(a)}catch(d){s(d)}});return i&&o.then(function(r){i(null,r)},i),o})}try{localStorage.setItem("_pouch_check_localstorage",1),cC=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){cC=!1}function zF(){return cC}function Jh(){Br().call(this),this._listeners={},function hte(t){zF()&&addEventListener("storage",function(n){t.emit(n.key)})}(this)}function Vv(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var n=Array.prototype.slice.call(arguments,1);console[t].apply(console,n)}}on()(Jh,Br()),Jh.prototype.addListener=function(t,n,e,i){if(!this._listeners[n]){var o=this,r=!1;this._listeners[n]=s,this.on(t,s)}function s(){if(o._listeners[n])if(r)r="waiting";else{r=!0;var a=function HF(t,n){for(var e={},i=0,o=n.length;i<o;i++){var r=n[i];r in t&&(e[r]=t[r])}return e}(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);e.changes(a).on("change",function(d){d.seq>i.since&&!i.cancelled&&(i.since=d.seq,i.onChange(d))}).on("complete",function(){"waiting"===r&&os()(s),r=!1}).on("error",function l(){r=!1})}}},Jh.prototype.removeListener=function(t,n){n in this._listeners&&(Br().prototype.removeListener.call(this,t,this._listeners[n]),delete this._listeners[n])},Jh.prototype.notifyLocalWindows=function(t){zF()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},Jh.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)},uC="function"==typeof Object.assign?Object.assign:function(t){for(var n=Object(t),e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n};var dC=uC;function qF(t){for(var n=[],e=0,i=t.length;e<i;e++)n=n.concat(t[e]);return n}function Td(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(Vv("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function Hv(t,n,e){return t.get(n).catch(function(i){if(404!==i.status)throw i;return{}}).then(function(i){var o=i._rev,r=e(i);return r?(r._id=n,r._rev=o,function Cte(t,n,e){return t.put(n).then(function(i){return{updated:!0,rev:i.rev}},function(i){if(409!==i.status)throw i;return Hv(t,n._id,e)})}(t,r,e)):{updated:!1,rev:o}})}function Pd(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Pd)}catch(n){}}function pC(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,pC)}catch(n){}}function mC(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,mC)}catch(n){}}function XF(t,n){return n&&t.then(function(e){os()(function(){n(null,e)})},function(e){os()(function(){n(e)})}),t}function fC(t,n){return function(){var e=arguments,i=this;return t.add(function(){return n.apply(i,e)})}}function KF(t){var n=new Qh(t),e=new Array(n.size),i=-1;return n.forEach(function(o){e[++i]=o}),e}function hC(t){var n=new Array(t.size),e=-1;return t.forEach(function(i,o){n[++e]=o}),n}function Zh(){this.promise=new Promise(function(t){t()})}function QF(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function JF(t,n,e,i,o,r){var a,s=function Ete(t,n){return QF(t)+QF(n)+"undefined"}(e,i);if(!o&&(a=t._cachedViews=t._cachedViews||{})[s])return a[s];var l=t.info().then(function(d){var h=d.db_name+"-mrview-"+(o?"temp":GF(s));return Hv(t,"_local/"+r,function w(P){P.views=P.views||{};var N=n;-1===N.indexOf("/")&&(N=n+"/"+n);var L=P.views[N]=P.views[N]||{};if(!L[h])return L[h]=!0,P}).then(function(){return t.registerDependentDatabase(h).then(function(P){var N=P.db;N.auto_compaction=!0;var L={name:h,db:N,sourceDB:t,adapter:t.adapter,mapFun:e,reduceFun:i};return L.db.get("_local/lastSeq").catch(function(U){if(404!==U.status)throw U}).then(function(U){return L.seq=U?U.seq:0,a&&L.db.once("destroyed",function(){delete a[s]}),L})})})});return a&&(a[s]=l),l}on()(Pd,Error),on()(pC,Error),on()(mC,Error),Zh.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},Zh.prototype.finish=function(){return this.promise};var ZF={},eA=new Zh;function gC(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function tA(t,n){try{t.emit("error",n)}catch(e){Vv("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Vv("error",n)}}function Uv(t,n){for(var e=t,i=0,o=n.length;i<o&&(e=e[n[i]]);i++);return e}function Ate(t,n,e){for(var i=0,o=n.length;i<o-1;i++){var r=n[i];t=t[r]=t[r]||{}}t[n[o-1]]=e}function _C(t,n){return t<n?-1:t>n?1:0}function Sm(t){for(var n=[],e="",i=0,o=t.length;i<o;i++){var r=t[i];i>0&&"\\"===t[i-1]&&("$"===r||"."===r)?e=e.substring(0,e.length-1)+r:"."===r?(n.push(e),e=""):e+=r}return n.push(e),n}var Ite=["$or","$nor","$not"];function nA(t){return Ite.indexOf(t)>-1}function Qs(t){return Object.keys(t)[0]}function vC(t){return t[Qs(t)]}function eg(t){var n={},e={$or:!0,$nor:!0};return t.forEach(function(i){Object.keys(i).forEach(function(o){var r=i[o];if("object"!=typeof r&&(r={$eq:r}),nA(o))if(r instanceof Array){if(e[o])return e[o]=!1,void(n[o]=r);var s=[];n[o].forEach(function(l){Object.keys(r).forEach(function(d){var h=r[d],w=Math.max(Object.keys(l).length,Object.keys(h).length),P=eg([l,h]);Object.keys(P).length<=w||s.push(P)})}),n[o]=s}else n[o]=eg([r]);else{var a=n[o]=n[o]||{};Object.keys(r).forEach(function(l){var d=r[l];return"$gt"===l||"$gte"===l?function kte(t,n,e){void 0===e.$eq&&(void 0!==e.$gte?"$gte"===t?n>e.$gte&&(e.$gte=n):n>=e.$gte&&(delete e.$gte,e.$gt=n):void 0!==e.$gt?"$gte"===t?n>e.$gt&&(delete e.$gt,e.$gte=n):n>e.$gt&&(e.$gt=n):e[t]=n)}(l,d,a):"$lt"===l||"$lte"===l?function Nte(t,n,e){void 0===e.$eq&&(void 0!==e.$lte?"$lte"===t?n<e.$lte&&(e.$lte=n):n<=e.$lte&&(delete e.$lte,e.$lt=n):void 0!==e.$lt?"$lte"===t?n<e.$lt&&(delete e.$lt,e.$lte=n):n<e.$lt&&(e.$lt=n):e[t]=n)}(l,d,a):"$ne"===l?function Rte(t,n){"$ne"in n?n.$ne.push(t):n.$ne=[t]}(d,a):"$eq"===l?function Ote(t,n){delete n.$gt,delete n.$gte,delete n.$lt,delete n.$lte,delete n.$ne,n.$eq=t}(d,a):"$regex"===l?function Bte(t,n){"$regex"in n?n.$regex.push(t):n.$regex=[t]}(d,a):void(a[l]=d)})}})}),n}function iA(t){for(var n in t){if(Array.isArray(t))for(var e in t)t[e].$and&&(t[e]=eg(t[e].$and));var i=t[n];"object"==typeof i&&iA(i)}return t}function oA(t,n){for(var e in t){"$and"===e&&(n=!0);var i=t[e];"object"==typeof i&&(n=oA(i,n))}return n}function rA(t){var n=gu(t),e=!1;oA(n,!1)&&("$and"in(n=iA(n))&&(n=eg(n.$and)),e=!0),["$or","$nor"].forEach(function(a){a in n&&n[a].forEach(function(l){for(var d=Object.keys(l),h=0;h<d.length;h++){var w=d[h],P=l[w];("object"!=typeof P||null===P)&&(l[w]={$eq:P})}})}),"$not"in n&&(n.$not=eg([n.$not]));for(var i=Object.keys(n),o=0;o<i.length;o++){var r=i[o],s=n[r];"object"!=typeof s||null===s?s={$eq:s}:e||("$ne"in s&&(s.$ne=[s.$ne]),"$regex"in s&&(s.$regex=[s.$regex])),n[r]=s}return n}function sA(t,n,e){if(t=t.filter(function(s){return Em(s.doc,n.selector,e)}),n.sort){var i=function Lte(t){function n(e){return t.map(function(i){var r=Sm(Qs(i));return Uv(e,r)})}return function(e,i){var s=ir(n(e.doc),n(i.doc));return 0!==s?s:_C(e.doc._id,i.doc._id)}}(n.sort);t=t.sort(i),"string"!=typeof n.sort[0]&&"desc"===vC(n.sort[0])&&(t=t.reverse())}if("limit"in n||"skip"in n){var o=n.skip||0;t=t.slice(o,("limit"in n?n.limit:t.length)+o)}return t}function Em(t,n,e){return e.every(function(i){var o=n[i],r=Sm(i),s=Uv(t,r);return nA(i)?function jte(t,n,e){return"$or"===t?n.some(function(i){return Em(e,i,Object.keys(i))}):"$not"===t?!Em(e,n,Object.keys(n)):!n.find(function(i){return Em(e,i,Object.keys(i))})}(i,o,t):zv(o,t,r,s)})}function zv(t,n,e,i){return!t||("object"==typeof t?Object.keys(t).every(function(o){var r=t[o];if(0===o.indexOf("$"))return aA(o,n,r,e,i);var s=Sm(o);if(void 0===i&&"object"!=typeof r&&s.length>0)return!1;var a=Uv(i,s);return"object"==typeof r?zv(r,n,e,a):aA("$eq",n,r,s,a)}):t===i)}function aA(t,n,e,i,o){if(!cA[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return cA[t](n,e,i,o)}function tg(t){return null!=t}function Dd(t){return void 0!==t}function lA(t,n){return n.some(function(e){return t instanceof Array?t.some(function(i){return 0===ir(e,i)}):0===ir(e,t)})}var cA={$elemMatch:function(t,n,e,i){return!(!Array.isArray(i)||0===i.length)&&i.some("object"==typeof i[0]?function(o){return Em(o,n,Object.keys(n))}:function(o){return zv(n,t,e,o)})},$allMatch:function(t,n,e,i){return!(!Array.isArray(i)||0===i.length)&&i.every("object"==typeof i[0]?function(o){return Em(o,n,Object.keys(n))}:function(o){return zv(n,t,e,o)})},$eq:function(t,n,e,i){return Dd(i)&&0===ir(i,n)},$gte:function(t,n,e,i){return Dd(i)&&ir(i,n)>=0},$gt:function(t,n,e,i){return Dd(i)&&ir(i,n)>0},$lte:function(t,n,e,i){return Dd(i)&&ir(i,n)<=0},$lt:function(t,n,e,i){return Dd(i)&&ir(i,n)<0},$exists:function(t,n,e,i){return n?Dd(i):!Dd(i)},$mod:function(t,n,e,i){return tg(i)&&function Gte(t,n){return"number"==typeof t&&parseInt(t,10)===t&&t%n[0]===n[1]}(i,n)},$ne:function(t,n,e,i){return n.every(function(o){return 0!==ir(i,o)})},$in:function(t,n,e,i){return tg(i)&&lA(i,n)},$nin:function(t,n,e,i){return tg(i)&&!lA(i,n)},$size:function(t,n,e,i){return tg(i)&&Array.isArray(i)&&function Hte(t,n){return t.length===n}(i,n)},$all:function(t,n,e,i){return Array.isArray(i)&&function Vte(t,n){return n.every(function(e){return t.some(function(i){return 0===ir(e,i)})})}(i,n)},$regex:function(t,n,e,i){return tg(i)&&"string"==typeof i&&n.every(function(o){return function Ute(t,n){return new RegExp(n).test(t)}(i,o)})},$type:function(t,n,e,i){return function zte(t,n){switch(n){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}}(i,n)}};function qv(t,n){if("object"!=typeof n)throw new Error("Selector error: expected a JSON object");var i=sA([{doc:t}],{selector:n=rA(n)},Object.keys(n));return i&&1===i.length}function uA(t){return(t=gu(t)).index||(t.index={}),["type","name","ddoc"].forEach(function(n){t.index[n]&&(t[n]=t.index[n],delete t.index[n])}),t.fields&&(t.index.fields=t.fields,delete t.fields),t.type||(t.type="json"),t}function qte(t,n,e){var i="",o=n,r=!0;if(-1!==["$in","$nin","$or","$and","$mod","$nor","$all"].indexOf(t)&&(Array.isArray(n)||(i="Query operator "+t+" must be an array.")),-1!==["$not","$elemMatch","$allMatch"].indexOf(t)&&(!Array.isArray(n)&&"object"==typeof n&&null!==n||(i="Query operator "+t+" must be an object.")),"$mod"===t&&Array.isArray(n))if(2!==n.length)i="Query operator $mod must be in the format [divisor, remainder], where divisor and remainder are both integers.";else{var s=n[0],a=n[1];0===s&&(i="Query operator $mod's divisor cannot be 0, cannot divide by zero.",r=!1),("number"!=typeof s||parseInt(s,10)!==s)&&(i="Query operator $mod's divisor is not an integer.",o=s),parseInt(a,10)!==a&&(i="Query operator $mod's remainder is not an integer.",o=a)}if("$exists"===t&&"boolean"!=typeof n&&(i="Query operator $exists must be a boolean."),"$type"===t){var l=["null","boolean","number","string","array","object"],d='"'+l.slice(0,l.length-1).join('", "')+'", or "'+l[l.length-1]+'"';("string"!=typeof n||-1==l.indexOf(n))&&(i="Query operator $type must be a string. Supported values: "+d+".")}if("$size"===t&&parseInt(n,10)!==n&&(i="Query operator $size must be a integer."),"$regex"===t&&"string"!=typeof n&&(console.log("here",e),e?i="Query operator $regex must be a string.":n instanceof RegExp||(i="Query operator $regex must be a string or an instance of a javascript regular expression.")),i)throw r&&(i+=" Received"+(null===o?" ":Array.isArray(o)?" array":" "+typeof o)+": "+("object"==typeof o&&null!==o?JSON.stringify(o,null,"\t"):o)),new Error(i)}var $te=["$all","$allMatch","$and","$elemMatch","$exists","$in","$mod","$nin","$nor","$not","$or","$regex","$size","$type"],Wte=["$in","$nin","$mod","$all"],Yte=["$eq","$gt","$gte","$lt","$lte"];function $v(t,n){if(Array.isArray(t))for(var e of t)"object"==typeof e&&null!==s&&$v(e,n);else for(var i=Object.keys(t),o=0;o<i.length;o++){var r=i[o],s=t[r];-1!==$te.indexOf(r)&&qte(r,s,n),-1===Yte.indexOf(r)&&-1===Wte.indexOf(r)&&"object"==typeof s&&null!==s&&$v(s,n)}}function ng(t,n,e,i){var o,r;e.headers=new Lv({"Content-type":"application/json"}),t.fetch(n,e).then(function(s){return o=s.status,r=s.ok,s.json()}).then(function(s){if(r)i(null,s);else{s.status=o;var a=oC(s);i(a)}}).catch(i)}function Xte(t,n,e){n=uA(n),ng(t,"_index",{method:"POST",body:JSON.stringify(n)},e)}function Kte(t,n,e){$v(n.selector,!0),ng(t,"_find",{method:"POST",body:JSON.stringify(n)},e)}function Qte(t,n,e){ng(t,"_explain",{method:"POST",body:JSON.stringify(n)},e)}function Jte(t,n){ng(t,"_index",{method:"GET"},n)}function Zte(t,n,e){var i=n.ddoc,r=n.name;return i?r?void ng(t,"_index/"+[i,n.type||"json",r].map(encodeURIComponent).join("/"),{method:"DELETE"},e):e(new Error("you must provide an index's name")):e(new Error("you must provide an index's ddoc"))}function dA(t){return function(){for(var n=arguments.length,e=new Array(n),i=-1;++i<n;)e[i]=arguments[i];return t.call(this,e)}}function ig(t){return dA(function(n){var e=n.pop(),i=t.apply(this,n);return function ene(t,n){t.then(function(e){os()(function(){n(null,e)})},function(e){os()(function(){n(e)})})}(i,e),i})}var bC=dA(function(t){for(var n=[],e=0,i=t.length;e<i;e++){var o=t[e];Array.isArray(o)?n=n.concat(bC.apply(null,o)):n.push(o)}return n});function yC(t){for(var n={},e=0,i=t.length;e<i;e++)n=dC(n,t[e]);return n}function pA(t,n){for(var e=0,i=Math.min(t.length,n.length);e<i;e++)if(t[e]!==n[e])return!1;return!0}function mA(t,n){if(t.length!==n.length)return!1;for(var e=0,i=t.length;e<i;e++)if(t[e]!==n[e])return!1;return!0}var gne=function Dte(t,n,e,i){function o($,G,ie){try{G(ie)}catch(ve){tA($,ve)}}function r($,G,ie,ve,Ue){try{return{output:G(ie,ve,Ue)}}catch(ot){return tA($,ot),{error:ot}}}function s($,G){var ie=ir($.key,G.key);return 0!==ie?ie:ir($.value,G.value)}function a($,G,ie){return ie=ie||0,"number"==typeof G?$.slice(ie,G+ie):ie>0?$.slice(ie):$}function l($){var G=$.value;return G&&"object"==typeof G&&G._id||$.id}function h($){return function(G){return $.include_docs&&$.attachments&&$.binary&&function d($){$.rows.forEach(function(G){var ie=G.doc&&G.doc._attachments;!ie||Object.keys(ie).forEach(function(ve){var Ue=ie[ve];ie[ve].data=Aee(Ue.data,Ue.content_type)})})}(G),G}}function w($,G,ie,ve){var Ue=G[$];void 0!==Ue&&(ve&&(Ue=encodeURIComponent(JSON.stringify(Ue))),ie.push($+"="+Ue))}function P($){if(void 0!==$){var G=Number($);return isNaN(G)||G!==parseInt($,10)?$:G}}function U($,G){var ie=$.descending?"endkey":"startkey",ve=$.descending?"startkey":"endkey";if(void 0!==$[ie]&&void 0!==$[ve]&&ir($[ie],$[ve])>0)throw new Pd("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(G.reduce&&!1!==$.reduce){if($.include_docs)throw new Pd("{include_docs:true} is invalid for reduce");if($.keys&&$.keys.length>1&&!$.group&&!$.group_level)throw new Pd("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(Ue){var ot=function L($){if($){if("number"!=typeof $)return new Pd('Invalid value for integer: "'+$+'"');if($<0)return new Pd('Invalid value for positive integer: "'+$+'"')}}($[Ue]);if(ot)throw ot})}function K($){return function(G){if(404===G.status)return $;throw G}}function we($){var G="string"==typeof $?$:$.name,ie=ZF[G];return ie||(ie=ZF[G]=new Zh),ie}function _e($,G){return fC(we($),function(){return function qe($,G){var ie,ve;var ot=n($.mapFun,function Ue(sn,jt){var tn={id:ve._id,key:Ed(sn)};null!=jt&&(tn.value=Ed(jt)),ie.push(tn)}),De=$.seq||0;function $e(sn,jt){return function(){return function ae($,G,ie){var ve="_local/lastSeq";return $.db.get(ve).catch(K({_id:ve,seq:0})).then(function(Ue){var ot=hC(G);return Promise.all(ot.map(function(De){return function J($,G,ie){var ve="_local/doc_"+$,Ue={_id:ve,keys:[]},ot=ie.get($),De=ot[0],$e=ot[1];return function rt(){return function Pte(t){return 1===t.length&&/^1-/.test(t[0].rev)}($e)?Promise.resolve(Ue):G.db.get(ve).catch(K(Ue))}().then(function(ut){return function wt(ut){return ut.keys.length?G.db.allDocs({keys:ut.keys,include_docs:!0}):Promise.resolve({rows:[]})}(ut).then(function(en){return function Gt(ut,en){for(var dn=[],di=new Qh,sn=0,jt=en.rows.length;sn<jt;sn++){var fn=en.rows[sn].doc;if(fn&&(dn.push(fn),di.add(fn._id),fn._deleted=!De.has(fn._id),!fn._deleted)){var ei=De.get(fn._id);"value"in ei&&(fn.value=ei.value)}}var Dn=hC(De);return Dn.forEach(function(ri){if(!di.has(ri)){var Vo={_id:ri},bi=De.get(ri);"value"in bi&&(Vo.value=bi.value),dn.push(Vo)}}),ut.keys=KF(Dn.concat(ut.keys)),dn.push(ut),dn}(ut,en)})})}(De,$,G)})).then(function(De){var $e=qF(De);return Ue.seq=ie,$e.push(Ue),$.db.bulkDocs({docs:$e})})})}($,sn,jt)}}let rt=0;$.sourceDB.emit("indexing",{view:$.name,indexed_docs:rt});var Gt=new Zh;function ut(){return $.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:De,limit:G.changes_batch_size}).then(en)}function en(sn){var jt=sn.results;if(jt.length){var tn=function dn(sn){for(var jt=new Cm,tn=0,fn=sn.length;tn<fn;tn++){var ei=sn[tn];if("_"!==ei.doc._id[0]){ie=[],(ve=ei.doc)._deleted||o($.sourceDB,ot,ve),ie.sort(s);var Dn=di(ie);jt.set(ei.doc._id,[Dn,ei.changes])}De=ei.seq}return jt}(jt);return Gt.add($e(tn,De)),rt+=jt.length,$.sourceDB.emit("indexing",{view:$.name,last_seq:sn.last_seq,results_count:jt.length,indexed_docs:rt}),jt.length<G.changes_batch_size?void 0:ut()}}function di(sn){for(var tn,jt=new Cm,fn=0,ei=sn.length;fn<ei;fn++){var Dn=sn[fn],ri=[Dn.key,Dn.id];fn>0&&0===ir(Dn.key,tn)&&ri.push(fn),jt.set(nl(ri),Dn),tn=Dn.key}return jt}return ut().then(function(){return Gt.finish()}).then(function(){$.seq=De})}($,G)})()}function st($,G){return fC(we($),function(){return function vt($,G){var ie,ve=$.reduceFun&&!1!==G.reduce,Ue=G.skip||0;function ot(sn){return sn.include_docs=!0,$.db.allDocs(sn).then(function(jt){return ie=jt.total_rows,jt.rows.map(function(tn){if("value"in tn.doc&&"object"==typeof tn.doc.value&&null!==tn.doc.value){var fn=Object.keys(tn.doc.value).sort(),ei=["id","key","value"];if(!(fn<ei||fn>ei))return tn.doc.value}var Dn=function Gee(t){for(var n=[],e=[],i=0;;){var o=t[i++];if("\0"!==o)switch(o){case"1":n.push(null);break;case"2":n.push("1"===t[i]),i++;break;case"3":var r=Lee(t,i);n.push(r.num),i+=r.length;break;case"4":for(var s="";;){var a=t[i];if("\0"===a)break;s+=a,i++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),n.push(s);break;case"5":var l={element:[],index:n.length};n.push(l.element),e.push(l);break;case"6":var d={element:{},index:n.length};n.push(d.element),e.push(d);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===n.length)return n.pop();jee(n,e)}}}(tn.doc._id);return{key:Dn[0],id:Dn[1],value:"value"in tn.doc?tn.doc.value:null}})})}function De(sn){var jt;if(jt=ve?function Xe($,G,ie){0===ie.group_level&&delete ie.group_level;var ve=ie.group||ie.group_level,Ue=e($.reduceFun),ot=[],De=isNaN(ie.group_level)?Number.POSITIVE_INFINITY:ie.group_level;G.forEach(function(ut){var en=ot[ot.length-1],dn=ve?ut.key:null;if(ve&&Array.isArray(dn)&&(dn=dn.slice(0,De)),en&&0===ir(en.groupKey,dn))return en.keys.push([ut.key,ut.id]),void en.values.push(ut.value);ot.push({keys:[[ut.key,ut.id]],values:[ut.value],groupKey:dn})}),G=[];for(var $e=0,rt=ot.length;$e<rt;$e++){var wt=ot[$e],Gt=r($.sourceDB,Ue,wt.keys,wt.values,!1);if(Gt.error&&Gt.error instanceof mC)throw Gt.error;G.push({value:Gt.error?null:Gt.output,key:wt.groupKey})}return{rows:a(G,ie.limit,ie.skip)}}($,sn,G):void 0===G.keys?{total_rows:ie,offset:Ue,rows:sn}:{total_rows:ie,offset:Ue,rows:a(sn,G.limit,G.skip)},G.update_seq&&(jt.update_seq=$.seq),G.include_docs){var tn=KF(sn.map(l));return $.sourceDB.allDocs({keys:tn,include_docs:!0,conflicts:G.conflicts,attachments:G.attachments,binary:G.binary}).then(function(fn){var ei=new Cm;return fn.rows.forEach(function(Dn){ei.set(Dn.id,Dn.doc)}),sn.forEach(function(Dn){var ri=l(Dn),Vo=ei.get(ri);Vo&&(Dn.doc=Vo)}),jt})}return jt}if(void 0!==G.keys&&!G.keys.length&&(G.limit=0,delete G.keys),void 0!==G.keys){var rt=G.keys.map(function(sn){var jt={startkey:nl([sn]),endkey:nl([sn,{}])};return G.update_seq&&(jt.update_seq=!0),ot(jt)});return Promise.all(rt).then(qF).then(De)}var Gt,ut,wt={descending:G.descending};if(G.update_seq&&(wt.update_seq=!0),"start_key"in G&&(Gt=G.start_key),"startkey"in G&&(Gt=G.startkey),"end_key"in G&&(ut=G.end_key),"endkey"in G&&(ut=G.endkey),void 0!==Gt&&(wt.startkey=nl(G.descending?[Gt,{}]:[Gt])),void 0!==ut){var en=!1!==G.inclusive_end;G.descending&&(en=!en),wt.endkey=nl(en?[ut,{}]:[ut])}if(void 0!==G.key){var dn=nl([G.key]),di=nl([G.key,{}]);wt.descending?(wt.endkey=dn,wt.startkey=di):(wt.startkey=dn,wt.endkey=di)}return ve||("number"==typeof G.limit&&(wt.limit=G.limit),wt.skip=Ue),ot(wt).then(De)}($,G)})()}var Ut=function Mte(t){return Cc()(function(n){var e=n.pop(),i=t.apply(this,n);return"function"==typeof e&&XF(i,e),i})}(function(){var $=this;return"function"==typeof $._viewCleanup?function Q($){return new Promise(function(G,ie){$._viewCleanup(function(ve,Ue){if(ve)return ie(ve);G(Ue)})})}($):Td($)?function Ct($){return $.fetch("_view_cleanup",{headers:new Lv({"Content-Type":"application/json"}),method:"POST"}).then(function(G){return G.json()})}($):function Pt($){return $.get("_local/"+t).then(function(G){var ie=new Cm;Object.keys(G.views).forEach(function(Ue){var ot=gC(Ue),De="_design/"+ot[0],$e=ot[1],rt=ie.get(De);rt||(rt=new Qh,ie.set(De,rt)),rt.add($e)});var ve={keys:hC(ie),include_docs:!0};return $.allDocs(ve).then(function(Ue){var ot={};Ue.rows.forEach(function(rt){var wt=rt.key.substring(8);ie.get(rt.key).forEach(function(Gt){var ut=wt+"/"+Gt;G.views[ut]||(ut=Gt);var en=Object.keys(G.views[ut]),dn=rt.doc&&rt.doc.views&&rt.doc.views[Gt];en.forEach(function(di){ot[di]=ot[di]||dn})})});var $e=Object.keys(ot).filter(function(rt){return!ot[rt]}).map(function(rt){return fC(we(rt),function(){return new $.constructor(rt,$.__opts).destroy()})()});return Promise.all($e).then(function(){return{ok:!0}})})},K({ok:!0}))}($)});return{query:function pn($,G,ie){var ve=this;"function"==typeof G&&(ie=G,G={}),G=G?function N($){return $.group_level=P($.group_level),$.limit=P($.limit),$.skip=P($.skip),$}(G):{},"function"==typeof $&&($={map:$});var Ue=Promise.resolve().then(function(){return function qt($,G,ie){if("function"==typeof $._query)return function Z($,G,ie){return new Promise(function(ve,Ue){$._query(G,ie,function(ot,De){if(ot)return Ue(ot);ve(De)})})}($,G,ie);if(Td($))return function q($,G,ie){var Ue,De,$e,ve=[],ot="GET";if(w("reduce",ie,ve),w("include_docs",ie,ve),w("attachments",ie,ve),w("limit",ie,ve),w("descending",ie,ve),w("group",ie,ve),w("group_level",ie,ve),w("skip",ie,ve),w("stale",ie,ve),w("conflicts",ie,ve),w("startkey",ie,ve,!0),w("start_key",ie,ve,!0),w("endkey",ie,ve,!0),w("end_key",ie,ve,!0),w("inclusive_end",ie,ve),w("key",ie,ve,!0),w("update_seq",ie,ve),ve=""===(ve=ve.join("&"))?"":"?"+ve,void 0!==ie.keys){var wt="keys="+encodeURIComponent(JSON.stringify(ie.keys));wt.length+ve.length+1<=2e3?ve+=("?"===ve[0]?"&":"?")+wt:(ot="POST","string"==typeof G?Ue={keys:ie.keys}:G.keys=ie.keys)}if("string"==typeof G){var Gt=gC(G);return $.fetch("_design/"+Gt[0]+"/_view/"+Gt[1]+ve,{headers:new Lv({"Content-Type":"application/json"}),method:ot,body:JSON.stringify(Ue)}).then(function(ut){return De=ut.ok,$e=ut.status,ut.json()}).then(function(ut){if(!De)throw ut.status=$e,oC(ut);return ut.rows.forEach(function(en){if(en.value&&en.value.error&&"builtin_reduce_error"===en.value.error)throw new Error(en.reason)}),ut}).then(h(ie))}return Ue=Ue||{},Object.keys(G).forEach(function(ut){Ue[ut]=Array.isArray(G[ut])?G[ut]:G[ut].toString()}),$.fetch("_temp_view"+ve,{headers:new Lv({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(Ue)}).then(function(ut){return De=ut.ok,$e=ut.status,ut.json()}).then(function(ut){if(!De)throw ut.status=$e,oC(ut);return ut}).then(h(ie))}($,G,ie);var ve={changes_batch_size:$.__opts.view_update_changes_batch_size||50};if("string"!=typeof G)return U(ie,G),eA.add(function(){return JF($,"temp_view/temp_view",G.map,G.reduce,!0,t).then(function(wt){return function Ste(t,n){return t.then(function(e){return n().then(function(){return e})},function(e){return n().then(function(){throw e})})}(_e(wt,ve).then(function(){return st(wt,ie)}),function(){return wt.db.destroy()})})}),eA.finish();var Ue=G,ot=gC(Ue),$e=ot[1];return $.get("_design/"+ot[0]).then(function(rt){var wt=rt.views&&rt.views[$e];if(!wt)throw new pC("ddoc "+rt._id+" has no view named "+$e);return i(rt,$e),U(ie,wt),JF($,Ue,wt.map,wt.reduce,!1,t).then(function(ut){return"ok"===ie.stale||"update_after"===ie.stale?("update_after"===ie.stale&&os()(function(){_e(ut,ve)}),st(ut,ie)):_e(ut,ve).then(function(){return st(ut,ie)})})})}(ve,$,G)});return XF(Ue,ie),Ue},viewCleanup:Ut}}("indexes",function mne(t,n){return function pne(t,n,e){var i=function dne(t){for(var n=0,e=t.length;n<e;n++)if(-1!==t[n].indexOf("."))return!1;return!0}(t),o=1===t.length;return i?o?function cne(t,n,e){return function(i){e&&!qv(i,e)||n(i[t])}}(t[0],n,e):function une(t,n,e){return function(i){if(!e||qv(i,e)){for(var o=[],r=0,s=t.length;r<s;r++)o.push(i[t[r]]);n(o)}}}(t,n,e):o?function lne(t,n,e){var i=Sm(t);return function(o){if(!e||qv(o,e)){for(var r=o,s=0,a=i.length;s<a;s++)if(void 0===(r=r[i[s]]))return;n(r)}}}(t[0],n,e):function ane(t,n,e){return function(i){if(!e||qv(i,e)){for(var o=[],r=0,s=t.length;r<s;r++){for(var a=Sm(t[r]),l=i,d=0,h=a.length;d<h;d++)if(void 0===(l=l[a[d]]))return;o.push(l)}n(o)}}}(t,n,e)}(Object.keys(t.fields),n,t.partial_filter_selector)},function fne(){throw new Error("reduce not supported")},function hne(t,n){var e=t.views[n];if(!e.map||!e.map.fields)throw new Error("ddoc "+t._id+" with view "+n+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function wC(t){return t._customFindAbstractMapper||gne}function fA(t){return t.fields=t.fields.map(function(n){if("string"==typeof n){var e={};return e[n]="asc",e}return n}),t}function bne(t,n){for(var e=[],i=0;i<n.def.fields.length;i++){var o=Qs(n.def.fields[i]);e.push(t[o])}return e}function hA(t){return t.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(n){var e={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return e.indexes=bC(e.indexes,n.rows.filter(function(i){return"query"===i.doc.language}).map(function(i){return(void 0!==i.doc.views?Object.keys(i.doc.views):[]).map(function(r){return{ddoc:i.id,name:r,type:"json",def:fA(i.doc.views[r].options.def)}})})),e.indexes.sort(function(i,o){return _C(i.name,o.name)}),e.total_rows=e.indexes.length,e})}var xC={"\uffff":{}};const Tne={queryOpts:{limit:0,startkey:xC,endkey:null},inMemoryFields:[]};function Pne(t,n){for(var e=t.def.fields.map(Qs),i=0,o=e.length;i<o;i++)if(n===e[i])return!0;return!1}function Dne(t,n){return"$eq"!==Qs(t[n])}function gA(t,n){var e=n.def.fields.map(Qs);return t.slice().sort(function(i,o){var r=e.indexOf(i),s=e.indexOf(o);return-1===r&&(r=Number.MAX_VALUE),-1===s&&(s=Number.MAX_VALUE),_C(r,s)})}function Ine(t,n,e,i){var o=bC(t,function Fne(t,n,e){for(var i=!1,o=0,r=(e=gA(e,t)).length;o<r;o++){var s=e[o];if(i||!Pne(t,s))return e.slice(o);o<r-1&&Dne(n,s)&&(i=!0)}return[]}(n,e,i),function Ane(t){var n=[];return Object.keys(t).forEach(function(e){Object.keys(t[e]).forEach(function(o){"$ne"===o&&n.push(e)})}),n}(e));return gA(function sne(t){for(var n={},e=0;e<t.length;e++)n["$"+t[e]]=!0;return Object.keys(n).map(function(i){return i.substring(1)})}(o),n)}var Nne=["$eq","$gt","$gte","$lt","$lte"];function _A(t){return-1===Nne.indexOf(t)}function One(t,n,e,i){var o=t.def.fields.map(Qs);return!!function kne(t,n,e){if(n){var i=function nne(t,n){return!(t.length>n.length)&&pA(t,n)}(n,t),o=pA(e,t);return i&&o}return function ine(t,n){t=t.slice();for(var e=0,i=n.length;e<i;e++){var o=n[e];if(!t.length)break;var r=t.indexOf(o);if(-1===r)return!1;t.splice(r,1)}return!0}(e,t)}(o,n,e)&&function Rne(t,n){var i=n[t[0]];return void 0===i||!(1===Object.keys(i).length&&"$ne"===Qs(i))}(o,i)}function Vne(t,n){switch(t){case"$eq":return{startkey:n,endkey:n};case"$lte":return{endkey:n};case"$gte":return{startkey:n};case"$lt":return{endkey:n,inclusive_end:!1};case"$gt":return{startkey:n,inclusive_start:!1}}}function $ne(t,n){var e=t.selector,i=t.sort;if(function Une(t){return Object.keys(t).map(function(e){return t[e]}).some(function(e){return"object"==typeof e&&0===Object.keys(e).length})}(e))return dC({},Tne,{index:n[0]});var o=function Sne(t,n){var o,e=Object.keys(t),i=n?n.map(Qs):[];return o=e.length>=i.length?e:i,0===i.length?{fields:o}:{fields:o=o.sort(function(r,s){var a=i.indexOf(r);-1===a&&(a=Number.MAX_VALUE);var l=i.indexOf(s);return-1===l&&(l=Number.MAX_VALUE),a<l?-1:a>l?1:0}),sortOrder:n.map(Qs)}}(e,i),r=o.fields,a=function Lne(t,n,e,i,o){var r=function Bne(t,n,e,i){return i.filter(function(o){return One(o,e,n,t)})}(t,n,e,i);if(0===r.length){if(o)throw{error:"no_usable_index",message:"There is no index available for this selector."};var s=i[0];return s.defaultUsed=!0,s}if(1===r.length&&!o)return r[0];var a=function one(t){for(var n={},e=0,i=t.length;e<i;e++)n[t[e]]=!0;return n}(n);if(o){var d="_design/"+o[0],h=2===o.length&&o[1],w=r.find(function(P){return!!(h&&P.ddoc===d&&h===P.name||P.ddoc===d)});if(!w)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return w}return function rne(t,n){for(var e=null,i=-1,o=0,r=t.length;o<r;o++){var s=t[o],a=n(s);a>i&&(i=a,e=s)}return e}(r,function l(P){for(var N=P.def.fields.map(Qs),L=0,U=0,q=N.length;U<q;U++)a[N[U]]&&L++;return L})}(e,r,o.sortOrder,n,t.use_index),l=function qne(t,n){return n.defaultUsed?function zne(t){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(t)]}}(t):1===n.def.fields.length?function Gne(t,n){var s,e=Qs(n.def.fields[0]),i=t[e]||{},o=[];return Object.keys(i).forEach(function(a){_A(a)&&o.push(e);var d=function jne(t,n){switch(t){case"$eq":return{key:n};case"$lte":return{endkey:n};case"$gte":return{startkey:n};case"$lt":return{endkey:n,inclusive_end:!1};case"$gt":return{startkey:n,inclusive_start:!1}}return{startkey:null}}(a,i[a]);s=s?yC([s,d]):d}),{queryOpts:s,inMemoryFields:o}}(t,n):function Hne(t,n){var s,a,e=n.def.fields.map(Qs),i=[],o=[],r=[];function l(Xe){!1!==s&&o.push(null),!1!==a&&r.push(xC),i=e.slice(Xe)}for(var d=0,h=e.length;d<h;d++){var P=t[e[d]];if(!P||!Object.keys(P).length){l(d);break}if(Object.keys(P).some(_A)){l(d);break}if(d>0){var N="$gt"in P||"$gte"in P||"$lt"in P||"$lte"in P,L=Object.keys(t[e[d-1]]),U=mA(L,["$eq"]),q=mA(L,Object.keys(P));if(N&&!U&&!q){l(d);break}}for(var Q=Object.keys(P),K=null,J=0;J<Q.length;J++){var ae=Q[J],_e=Vne(ae,P[ae]);K=K?yC([K,_e]):_e}o.push("startkey"in K?K.startkey:null),r.push("endkey"in K?K.endkey:xC),"inclusive_start"in K&&(s=K.inclusive_start),"inclusive_end"in K&&(a=K.inclusive_end)}var qe={startkey:o,endkey:r};return void 0!==s&&(qe.inclusive_start=s),void 0!==a&&(qe.inclusive_end=a),{queryOpts:qe,inMemoryFields:i}}(t,n)}(e,a);return{queryOpts:l.queryOpts,index:a,inMemoryFields:Ine(l.inMemoryFields,a,e,r)}}function vA(t,n,e){return n.selector&&($v(n.selector,!1),n.selector=rA(n.selector)),n.sort&&(n.sort=function _ne(t){if(!Array.isArray(t))throw new Error("invalid sort json - should be an array");return t.map(function(n){if("string"==typeof n){var e={};return e[n]="asc",e}return n})}(n.sort)),n.use_index&&(n.use_index=function vne(t){var n=[];return"string"==typeof t?n.push(t):n=t,n.map(function(e){return e.replace("_design/","")})}(n.use_index)),function Mne(t){if("object"!=typeof t.selector)throw new Error("you must provide a selector when you find()")}(n),hA(t).then(function(i){t.constructor.emit("debug",["find","planning query",n]);var o=$ne(n,i.indexes);t.constructor.emit("debug",["find","query plan",o]);var r=o.index;!function Cne(t,n){if(n.defaultUsed&&t.sort){var e=t.sort.filter(function(i){return"_id"!==Object.keys(i)[0]}).map(function(i){return Object.keys(i)[0]});if(e.length>0)throw new Error('Cannot sort on field(s) "'+e.join(",")+'" when using the default index')}}(n,r);var s=dC({include_docs:!0,reduce:!1,indexes_count:i.total_rows},o.queryOpts);return"startkey"in s&&"endkey"in s&&ir(s.startkey,s.endkey)>0?{docs:[]}:(n.sort&&"string"!=typeof n.sort[0]&&"desc"===vC(n.sort[0])&&(s.descending=!0,s=function wne(t){var n=gu(t);return delete n.startkey,delete n.endkey,delete n.inclusive_start,delete n.inclusive_end,"endkey"in t&&(n.startkey=t.endkey),"startkey"in t&&(n.endkey=t.startkey),"inclusive_start"in t&&(n.inclusive_end=t.inclusive_start),"inclusive_end"in t&&(n.inclusive_start=t.inclusive_end),n}(s)),o.inMemoryFields.length||("limit"in n&&(s.limit=n.limit),"skip"in n&&(s.skip=n.skip)),e?Promise.resolve(o,s):Promise.resolve().then(function(){if("_all_docs"===r.name)return function Yne(t,n){var e=gu(n);return e.descending?("endkey"in e&&"string"!=typeof e.endkey&&(e.endkey=""),"startkey"in e&&"string"!=typeof e.startkey&&(e.limit=0)):("startkey"in e&&"string"!=typeof e.startkey&&(e.startkey=""),"endkey"in e&&"string"!=typeof e.endkey&&(e.limit=0)),"key"in e&&"string"!=typeof e.key&&(e.limit=0),e.limit>0&&e.indexes_count&&(e.original_limit=e.limit,e.limit+=e.indexes_count),t.allDocs(e).then(function(i){return i.rows=i.rows.filter(function(o){return!/^_design\//.test(o.id)}),e.original_limit&&(e.limit=e.original_limit),i.rows=i.rows.slice(0,e.limit),i})}(t,s);var l=function Wne(t){return t.ddoc.substring(8)+"/"+t.name}(r);return wC(t).query.call(t,l,s)}).then(function(l){!1===s.inclusive_start&&(l.rows=function yne(t,n,e){for(var i=e.def.fields,o=0,r=t.length;o<r;o++){var a=bne(t[o].doc,e);if(1===i.length)a=a[0];else for(;a.length>n.length;)a.pop();if(Math.abs(ir(a,n))>0)break}return o>0?t.slice(o):t}(l.rows,s.startkey,r)),o.inMemoryFields.length&&(l.rows=sA(l.rows,n,o.inMemoryFields));var d={docs:l.rows.map(function(h){var w=h.doc;return n.fields?function tne(t,n){for(var e={},i=0,o=n.length;i<o;i++){var r=Sm(n[i]),s=Uv(t,r);void 0!==s&&Ate(e,r,s)}return e}(w,n.fields):w})};return r.defaultUsed&&(d.warning="No matching index found, create an index to optimize query time."),d}))})}var Qne=ig(function Ene(t,n){var i,e=gu((n=uA(n)).index);function o(){return i||(i=GF(JSON.stringify(n)))}n.index=fA(n.index),function xne(t){var n=t.fields.filter(function(e){return"asc"===vC(e)});if(0!==n.length&&n.length!==t.fields.length)throw new Error("unsupported mixed sorting")}(n.index);var r=n.name||"idx-"+o(),s=n.ddoc||"idx-"+o(),a="_design/"+s,l=!1,d=!1;return t.constructor.emit("debug",["find","creating index",a]),Hv(t,a,function h(w){return w._rev&&"query"!==w.language&&(l=!0),w.language="query",w.views=w.views||{},!(d=!!w.views[r])&&(w.views[r]={map:{fields:yC(n.index.fields)},reduce:"_count",options:{def:e}},w)}).then(function(){if(l)throw new Error('invalid language for ddoc with id "'+a+'" (should be "query")')}).then(function(){var w=s+"/"+r;return wC(t).query.call(t,w,{limit:0,reduce:!1}).then(function(){return{id:a,name:r,result:d?"exists":"created"}})})}),Jne=ig(vA),Zne=ig(function Xne(t,n){return vA(t,n,!0).then(function(e){return{dbname:t.name,index:e.index,selector:n.selector,range:{start_key:e.queryOpts.startkey,end_key:e.queryOpts.endkey},opts:{use_index:n.use_index||[],bookmark:"nil",limit:n.limit,skip:n.skip,sort:n.sort||{},fields:n.fields,conflicts:!1,r:[49]},limit:n.limit,skip:n.skip||0,fields:n.fields}})}),eie=ig(hA),tie=ig(function Kne(t,n){if(!n.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!n.name)throw new Error("you must supply an index.name when deleting");var e=n.ddoc,i=n.name;return Hv(t,e,function o(r){return 1===Object.keys(r.views).length&&r.views[i]?{_id:e,_deleted:!0}:(delete r.views[i],r)}).then(function(){return wC(t).viewCleanup.apply(t)}).then(function(){return{ok:!0}})}),Tm={};Tm.createIndex=Mm(function(t,n){if("object"!=typeof t)return n(new Error("you must provide an index to create"));(Td(this)?Xte:Qne)(this,t,n)}),Tm.find=Mm(function(t,n){if(void 0===n&&(n=t,t=void 0),"object"!=typeof t)return n(new Error("you must provide search parameters to find()"));(Td(this)?Kte:Jne)(this,t,n)}),Tm.explain=Mm(function(t,n){if(void 0===n&&(n=t,t=void 0),"object"!=typeof t)return n(new Error("you must provide search parameters to explain()"));(Td(this)?Qte:Zne)(this,t,n)}),Tm.getIndexes=Mm(function(t){(Td(this)?Jte:eie)(this,t)}),Tm.deleteIndex=Mm(function(t,n){if("object"!=typeof t)return n(new Error("you must provide an index to delete"));(Td(this)?Zte:tie)(this,t,n)});const nie=Tm,iie=[...JSON.parse('{"r":[{"type":"Type","list":"discovery","name":"customerDiscovery","description":null,"_id":"1615646706099"},{"type":"Type","list":"discovery","name":"customerIdentification","description":null,"_id":"1615646712401"},{"type":"Type","list":"discovery","name":"customerAnalysis","description":null,"_id":"1615646717278"},{"type":"Type","list":"discovery","name":"problemDiscovery","description":null,"_id":"1615646721496"},{"type":"Type","list":"discovery","name":"problemIdentification","description":null,"_id":"1615646726406"},{"type":"Type","list":"discovery","name":"problemAnalysis","description":null,"_id":"1615646731492"},{"type":"Type","list":"analysis","name":"marketAnalysis","description":null,"_id":"1615646742307"},{"type":"Type","list":"analysis","name":"competitorAnalysis","description":null,"_id":"1615646746173"},{"type":"Type","list":"analysis","name":"nicheAnalysis","description":null,"_id":"1615646750064"},{"type":"Type","list":"design","name":"ideaIdentification","description":null,"_id":"1615646756371"},{"type":"Type","list":"design","name":"featureDesign","description":null,"_id":"1615646771090"},{"type":"Type","list":"design","name":"businessDesign","description":null,"_id":"1615646777512"},{"type":"Type","list":"design","name":"vpDesign","description":null,"_id":"1615646781917"},{"type":"Type","list":"design","name":"bmDesign","description":null,"_id":"1615646785987"},{"type":"Type","list":"design","name":"monetizationDesign","description":null,"_id":"1615646791921"},{"type":"Type","list":"design","name":"marketingDesign","description":null,"_id":"1615646798975"},{"type":"Type","list":"design","name":"uspDesign","description":null,"_id":"1615646805954"},{"type":"Type","list":"design","name":"enhancementDesign","description":null,"_id":"1615646810172"},{"type":"Type","list":"develop","name":"marketingDevelopment","description":null,"_id":"1615646821909"},{"type":"Type","list":"develop","name":"contentDevelopment","description":null,"_id":"1615646827229"},{"type":"Type","list":"develop","name":"createContent","description":null,"_id":"1615646831373"},{"type":"Type","list":"develop","name":"spreadContent","description":null,"_id":"1615646835744"},{"type":"Type","list":"develop","name":"prototypDevelopment","description":null,"_id":"1615646840146"},{"type":"Type","list":"develop","name":"platformSelection","description":null,"_id":"1615646844016"},{"type":"Type","list":"develop","name":"financialCheck","description":null,"_id":"1615646848359"},{"type":"Type","list":"develop","name":"productDevelopment","description":null,"_id":"1615646852543"},{"type":"Type","list":"develop","name":"platformPublishing","description":null,"_id":"1615646856351"},{"type":"Type","list":"validate","name":"intermediateValidation","description":null,"_id":"1615646873313"},{"type":"Stakeholder","list":"Company","name":"Business Developer","description":"","_id":"1615647102463"},{"type":"Stakeholder","list":"Company","name":"Software Developer","description":null,"_id":"1615647107745"},{"type":"Stakeholder","list":"Company","name":"Marketing Manager","description":null,"_id":"1615647113678"},{"type":"Stakeholder","list":"Company","name":"Designer","description":null,"_id":"1615647119104"},{"type":"Stakeholder","list":"Partners","name":"Development Agency","description":null,"_id":"1615647131910"},{"type":"Stakeholder","list":"Partners","name":"Design Agency","description":null,"_id":"1615647137182"},{"type":"Stakeholder","list":"Partners","name":"Investor","description":null,"_id":"1615647141631"},{"type":"Stakeholder","list":"Partners","name":"Blogger & Reporter","description":null,"_id":"1615647146382"},{"type":"Stakeholder","list":"Users","name":"Customer","description":null,"_id":"1615647158264"},{"type":"Stakeholder","list":"Users","name":"Expert","description":null,"_id":"1615647164350"},{"type":"Stakeholder","list":"Users","name":"Early Adopter","description":null,"_id":"1615647170528"},{"type":"Stakeholder","list":"Users","name":"Family & Friends","description":null,"_id":"1615647175410"},{"type":"SituationalFactorDefinition","list":"Company","name":"domainExpertise","description":"","values":["high","medium","low"],"ordered":true,"_id":"1615647442050"},{"type":"SituationalFactorDefinition","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true,"_id":"1615647502890"},{"type":"SituationalFactorDefinition","list":"Company","name":"financialResources","description":null,"values":["high","medium","low"],"ordered":true,"_id":"1615647506232"},{"type":"SituationalFactorDefinition","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true,"_id":"1615647510041"},{"type":"SituationalFactorDefinition","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true,"_id":"1615647513417"},{"type":"SituationalFactorDefinition","list":"Company","name":"designSkills","description":null,"values":["high","medium","low"],"ordered":true,"_id":"1615647516549"},{"type":"SituationalFactorDefinition","list":"Company","name":"marketingSkills","description":null,"values":["high","medium","low"],"ordered":true,"_id":"1615647520097"},{"type":"SituationalFactorDefinition","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true,"_id":"1615647529307"},{"type":"SituationalFactorDefinition","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true,"_id":"1615647533588"},{"type":"SituationalFactorDefinition","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false,"_id":"1615647539973"},{"type":"SituationalFactorDefinition","list":"Customer","name":"customerGroup","description":null,"values":["private","business"],"ordered":false,"_id":"1615647545153"},{"type":"SituationalFactorDefinition","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false,"_id":"1615647551257"},{"type":"SituationalFactorDefinition","list":"Market","name":"marketType","description":null,"values":["b2b","b2c"],"ordered":false,"_id":"1615647555044"},{"type":"SituationalFactorDefinition","list":"Market","name":"marketCompetity","description":null,"values":["low","medium","high"],"ordered":true,"_id":"1615647559511"},{"type":"SituationalFactorDefinition","list":"Product","name":"productSpace","description":null,"values":["low","medium","high"],"ordered":true,"_id":"1615647565547"},{"type":"SituationalFactorDefinition","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true,"_id":"1615647572602"},{"type":"SituationalFactorDefinition","list":"Product","name":"productFeasibility","description":null,"values":["high","medium","low"],"ordered":true,"_id":"1615647577029"},{"type":"SituationalFactorDefinition","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false,"_id":"1615647582996"},{"type":"SituationalFactorDefinition","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false,"_id":"1615647588013"},{"type":"SituationalFactorDefinition","list":"Phase","name":"customerValidity","description":null,"values":["low","medium","high"],"ordered":false,"_id":"1615647593804"},{"type":"SituationalFactorDefinition","list":"Phase","name":"productFeatureValidity","description":null,"values":["low","medium","high"],"ordered":false,"_id":"1615647612778"},{"type":"SituationalFactorDefinition","list":"Phase","name":"businessModelValidity","description":null,"values":["low","medium","high"],"ordered":false,"_id":"1615647624657"},{"type":"Artifact","list":"Structured Information","name":"User Persona Map","description":"","internalArtifact":false,"metaModel":null,"_id":"1615648456976"},{"type":"Artifact","list":"Structured Information","name":"Customer Journey Map","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648460846"},{"type":"Artifact","list":"Structured Information","name":"SWOT Map","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648465839"},{"type":"Artifact","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"},"metaModelData":{"definitionId":"1625144329606"},"_id":"1615648470122"},{"type":"Artifact","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"},"metaModelData":{"definitionId":"1625144754642"},"_id":"1615648473666"},{"type":"Artifact","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648477829"},{"type":"Artifact","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648484285"},{"type":"Artifact","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648488922"},{"type":"Artifact","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648493552"},{"type":"Artifact","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648497837"},{"type":"Artifact","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648503459"},{"type":"Artifact","list":"Medium","name":"Website","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648509560"},{"type":"Artifact","list":"Medium","name":"Landing Page","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648513576"},{"type":"Artifact","list":"Medium","name":"Blog","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648517309"},{"type":"Artifact","list":"Medium","name":"Social Media Profile","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648521807"},{"type":"Artifact","list":"Prototype","name":"Proof-of-Concept","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648535262"},{"type":"Artifact","list":"Prototype","name":"Sketch","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648539192"},{"type":"Artifact","list":"Prototype","name":"Mockup","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648543172"},{"type":"Artifact","list":"Prototype","name":"Wireframe","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648546517"},{"type":"Artifact","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648550737"},{"type":"Artifact","list":"Product","name":"iOS App","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648557299"},{"type":"Artifact","list":"Product","name":"Android App","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648562990"},{"type":"Artifact","list":"Product","name":"Web App","description":null,"internalArtifact":false,"metaModel":null,"_id":"1615648569558"},{"type":"Tool","list":"Social Media Tools","name":"Reddit","description":"","_id":"1615648690583"},{"type":"Tool","list":"Social Media Tools","name":"Quora","description":null,"_id":"1615648694840"},{"type":"Tool","list":"Social Media Tools","name":"Facebook","description":null,"_id":"1615648697966"},{"type":"Tool","list":"Social Media Tools","name":"Instagram","description":null,"_id":"1615648701423"},{"type":"Tool","list":"Social Media Tools","name":"Twitter","description":null,"_id":"1615648704299"},{"type":"Tool","list":"Social Media Tools","name":"LinkedIn","description":null,"_id":"1615648707875"},{"type":"Tool","list":"Online Communities","name":"Specialized Forums","description":null,"_id":"1615648713435"},{"type":"Tool","list":"Online Communities","name":"Facebook Groups","description":null,"_id":"1615648718826"},{"type":"Tool","list":"Content Tools","name":"AngelList","description":null,"_id":"1615648727809"},{"type":"Tool","list":"Content Tools","name":"Product Hunt","description":null,"_id":"1615648733480"},{"type":"Tool","list":"Content Tools","name":"App Review Websites","description":null,"_id":"1615648738995"},{"type":"Tool","list":"Keyword Analysis Tools","name":"Google Keyword Planning Tool","description":null,"_id":"1615648745759"},{"type":"Tool","list":"Keyword Analysis Tools","name":"Moz Planner","description":null,"_id":"1615648752471"},{"type":"Tool","list":"Keyword Analysis Tools","name":"UberSuggest","description":null,"_id":"1615648757639"},{"type":"Tool","list":"Trend Discovery Tools","name":"Google Trends","description":null,"_id":"1615648765268"},{"type":"Tool","list":"Trend Discovery Tools","name":"YCombinator","description":null,"_id":"1615648777690"},{"type":"Tool","list":"Trend Discovery Tools","name":"AngelList","description":null,"_id":"1615648781696"},{"type":"Tool","list":"Trend Discovery Tools","name":"ProductHunt","description":null,"_id":"1615648786175"},{"type":"Tool","list":"Trend Discovery Tools","name":"KickStarter","description":null,"_id":"1615648790952"},{"type":"Tool","list":"Trend Discovery Tools","name":"TechCrunch","description":null,"_id":"1615648796841"},{"type":"Tool","list":"Trend Discovery Tools","name":"Forbes","description":null,"_id":"1615648801576"},{"type":"Tool","list":"Trend Discovery Tools","name":"TrendsWatching","description":null,"_id":"1615648808078"},{"type":"Tool","list":"Search Engines","name":"Google","description":null,"_id":"1615648826014"},{"type":"Tool","list":"Search Engines","name":"Bing","description":null,"_id":"1615648832686"},{"type":"Tool","list":"Stores","name":"Apples AppStore","description":"","_id":"1615648853985"},{"type":"Tool","list":"Stores","name":"Google PlayStore","description":null,"_id":"1615648859594"},{"type":"Tool","list":"Prototyping Tools","name":"Balsamiq","description":null,"_id":"1615648876069"},{"type":"Tool","list":"Prototyping Tools","name":"PowerPoint","description":null,"_id":"1615648881003"},{"type":"Tool","list":"Prototyping Tools","name":"Photoshop","description":null,"_id":"1615648887961"},{"type":"Tool","list":"Landing Page Tools","name":"Undelay","description":null,"_id":"1615648897186"},{"type":"Tool","list":"Landing Page Tools","name":"Themeforest","description":null,"_id":"1615648904675"},{"type":"Tool","list":"Survey Tools","name":"Survey Monkey","description":null,"_id":"1615648913863"},{"type":"Tool","list":"Survey Tools","name":"Google Survey","description":null,"_id":"1615648919337"},{"type":"Tool","list":"Survey Tools","name":"PickUp","description":null,"_id":"1615648925420"},{"type":"Tool","list":"Feature Set Tools","name":"Microsoft Word","description":null,"_id":"1615648935347"},{"type":"Tool","list":"Feature Set Tools","name":"Microsoft Excel","description":null,"_id":"1615648941989"},{"type":"Tool","list":"Store Statistic Tools","name":"AppAnnie","description":null,"_id":"1615648955698"},{"type":"Tool","list":"Store Statistic Tools","name":"SensorTower","description":null,"_id":"1615648961934"},{"type":"Tool","list":"Store Statistic Tools","name":"AppTweak","description":null,"_id":"1615648968069"},{"type":"Tool","list":"Social Media Ads","name":"Twitter Polls","description":null,"_id":"1615648975227"},{"type":"Tool","list":"Social Media Ads","name":"Facebook Ads","description":null,"_id":"1615648981259"},{"type":"Tool","list":"Social Media Ads","name":"Instagram Ads","description":null,"_id":"1615648986864"},{"type":"Tool","list":"Search Engine Ads","name":"Google Adwords","description":null,"_id":"1615648998999"},{"type":"Tool","list":"Search Engine Ads","name":"Bing Ads","description":null,"_id":"1615649008436"},{"type":"DevelopmentMethod","name":"Target Audience Identification","description":"The goal of this building block is to identify the target audience of your apps. This identification, in turn, will support the development of an app that directly fits the specific needs of the customer group.","examples":["https://appinventiv.com/blog/how-to-validate-your-app-idea/","https://apiko.com/blog/how-to-validate-the-idea-and-features-of-your-application-before-development/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646712401","list":"discovery","name":"customerIdentification","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615649204477"},{"type":"DevelopmentMethod","name":"Persona Creation","description":"The goal of this building block is to create a concrete user persona out of the abstract gathered customer information. This, in turn, allows you to make first assumptions about the app\u2019s specific users and identify the ideal customer.","examples":["https://www.softermii.com/blog/how-to-validate-your-app-idea-and-build-a-successful-solution","https://blog.railwaymen.org/how-to-validate-your-app-idea-in-5-simple-steps"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646717278","list":"discovery","name":"customerAnalysis","description":null}}],"situationalFactors":[{"list":"Customer","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647539973","_rev":"1-5462faf90915eceaf5d00090298f70c8","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false},"value":"divers"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648456976","_rev":"1-fd771ab0d4e51e9b54eb13df2dcf0ae6","list":"Structured Information","name":"User Persona Map","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615649680651"},{"type":"DevelopmentMethod","name":"Customer Journey Map Creation","description":"The goal of this building block is to discover the customer\'s behavior and analyze at which points he will interact with the app. This will help you to make assumptions about the user flow of the application.","examples":["https://www.softermii.com/blog/how-to-validate-your-app-idea-and-build-a-successful-solution","https://blog.railwaymen.org/how-to-validate-your-app-idea-in-5-simple-steps"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646717278","list":"discovery","name":"customerAnalysis","description":null}}],"situationalFactors":[{"list":"Customer","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647539973","_rev":"1-5462faf90915eceaf5d00090298f70c8","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false},"value":"divers"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"niche"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648460846","_rev":"1-b6913f1077c57c7115462d8484b9299a","list":"Structured Information","name":"Customer Journey Map","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615650120537"},{"type":"DevelopmentMethod","name":"Trend Discovery","description":"The goal of this building block is to gather information about current trends in the industry. This could be a mix of new products, founded companies, or general ongoing trends.","examples":["https://appinventiv.com/blog/how-to-validate-your-app-idea/","https://priyankapatilbeast.medium.com/effective-strategies-to-validate-your-mobile-app-idea-b03be0228c06"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647588013","_rev":"1-e71109eb7939c04f5782f80896d3f3a2","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Trend Discovery Tools","element":null,"multiple":true,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615654467613"},{"type":"DevelopmentMethod","name":"Store Trend Discovery","description":"The goal of this building block is to gather information about current trends in the stores. These could be recommended apps by the store provider or lists of top-downloaded or top-grossing apps. The discovery can be made by hand or with external tools.","examples":["https://designli.co/blog/is-my-app-idea-any-good-x-steps-to-validate-your-app-idea/","https://www.apptamin.com/blog/how-to-validate-your-app-ideas/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647588013","_rev":"1-e71109eb7939c04f5782f80896d3f3a2","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Store Statistic Tools","element":null,"multiple":true,"optional":false}]}]},"executionSteps":[],"_id":"1615654719686"},{"type":"DevelopmentMethod","name":"Keyword Discovery","description":"The goal of this building block is to discover possible problems and their solutions for different keywords in the area you want to develop an app for. The discovery can be made directly with the search engines or specific keyword tools.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Search Engines","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Keyword Analysis Tools","element":null,"multiple":true,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615654935485"},{"type":"DevelopmentMethod","name":"Store Keyword Discovery","description":"The goal of this building block is to discover apps and the problems they try to solve instead of the stores based on your own keywords. For this, you can discover the apps and their reviews directly or use a store analysis tool.","examples":["https://www.softermii.com/blog/how-to-validate-your-app-idea-and-build-a-successful-solution","https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Store Statistic Tools","element":null,"multiple":true,"optional":false}]}]},"executionSteps":[],"_id":"1615655043618"},{"type":"DevelopmentMethod","name":"Market Problem Observation","description":"The goal of this building block is to observe an existing market to gather insights about current existing problems. This can be made by discovering existing processes or speaking directly to involved persons.","examples":["https://visionxpartners.com/app-idea/","https://www.softermii.com/blog/how-to-validate-your-app-idea-and-build-a-successful-solution"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647555044","_rev":"1-858c3e9557ae7bddd08181f24a1644d6","list":"Market","name":"marketType","description":null,"values":["b2b","b2c"],"ordered":false},"value":"b2b"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"9-f76358161c1b8c3241567edcf2a6c9e6","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615655139134"},{"type":"DevelopmentMethod","name":"Own Problem Observation","description":"The goal of this building block is to observe problems in the own environment to identify the workarounds which are currently done to solve them. For this, you can discover for own life situation for a certain amount of time and note down repeating problems.","examples":["https://www.apptamin.com/blog/how-to-validate-your-app-ideas/","https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647555044","_rev":"1-858c3e9557ae7bddd08181f24a1644d6","list":"Market","name":"marketType","description":null,"values":["b2b","b2c"],"ordered":false},"value":"b2b"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615655252778"},{"type":"DevelopmentMethod","name":"Event Attention","description":"The goal of this building block is to discover problems from external persons or discuss potential ideas with other persons with the same interest. For this, you can attend different events like hackathons, startup meetings, or business conferences.","examples":["https://www.apptamin.com/blog/how-to-validate-your-app-ideas/","https://appinventiv.com/blog/how-to-validate-your-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}}],"situationalFactors":[{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"mass"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615655407468"},{"type":"DevelopmentMethod","name":"Social Media Discovery","description":"The goal of this building block is to discover the problems of potential customers in social media posting. Social media websites have a mass amount of users who claim about possible problems in a daily manner.","examples":["https://enterprisemonkey.com.au/blog/5-ways-to-validate-your-app-idea-launch-quickly/","https://www.mindinventory.com/blog/how-to-validate-your-mobile-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Social Media Tools","element":null,"multiple":true,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615655606709"},{"type":"DevelopmentMethod","name":"Online Community Discovery","description":"The goal of this building block is to discover the problems of potential customers in a specific niche. For this, online communities within this niche can be visited, and problems can be collected.","examples":["https://enterprisemonkey.com.au/blog/5-ways-to-validate-your-app-idea-launch-quickly/","https://www.mindinventory.com/blog/how-to-validate-your-mobile-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"niche"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Online Communities","element":null,"multiple":true,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615655732866"},{"type":"DevelopmentMethod","name":"Interview Conduction","description":"The goal of this building block is to conduct interviews with single persons. Single Interviews can be used to get a deeper understanding of the problem and validate possible steps during the business model development process.","examples":["https://www.forbes.com/sites/abdoriani/2019/10/12/the-simplest-way-to-validate-a-startup-app-idea/?sh=757fb45817ed","https://appinventiv.com/blog/how-to-validate-your-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":null,"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615655818663"},{"type":"DevelopmentMethod","name":"Group Interview Conduction","description":"The goal of this building block is to conduct group interviews with different persons. Group interviews can be used to discover and analyze problems of different persons at a single time and validate possible steps during the development at a single time.","examples":["https://www.forbes.com/sites/abdoriani/2019/10/12/the-simplest-way-to-validate-a-startup-app-idea/?sh=757fb45817ed","https://appinventiv.com/blog/how-to-validate-your-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":null,"multiple":true,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615656047954"},{"type":"DevelopmentMethod","name":"Customer Interview Conduction","description":"The goal of this building block is to conduct interviews with potential customers of the app. The interviews can be used to discover and analyze the current problems or validate different steps of the development process.","examples":["https://www.forbes.com/sites/abdoriani/2019/10/12/the-simplest-way-to-validate-a-startup-app-idea/?sh=757fb45817ed"," https://appinventiv.com/blog/how-to-validate-your-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647442050","_rev":"1-4c6f0b2d51f20b07adb6e8575d2988f0","list":"Company","name":"domainExpertise","description":"","values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":true,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615656172704"},{"type":"DevelopmentMethod","name":"Survey Conduction","description":"The goal of this building block is to conduct surveys with different persons. Surveys can be used to research a high number of persons with standardized questions about the problem, possible ideas, or different developed prototypes.","examples":["https://kodytechnolab.com/app-idea-validation","https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":null,"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Survey Tools","element":null,"multiple":false,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615656471945"},{"type":"DevelopmentMethod","name":"Social Media Survey Conduction","description":"The goal of this building block is to conduct surveys with different customers on social media websites. Social media surveys allow discovering a high number of results for mass-market apps.","examples":["https://kodytechnolab.com/app-idea-validation","https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"mass"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Survey Tools","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Social Media Tools","element":null,"multiple":true,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615656699118"},{"type":"DevelopmentMethod","name":"Online Communities Survey Conduction","description":"The goal of this building block is to conduct surveys with different customers in online communities. Forums allow discovering a medium number of specific results for niche market apps.","examples":["https://kodytechnolab.com/app-idea-validation","https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"niche"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Survey Tools","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Online Communities","element":null,"multiple":true,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615656895693"},{"type":"DevelopmentMethod","name":"Market Potential Analysis","description":"The goal of this building block is to analyze the potential size of the target market. The goal is to identify a market\u2019s high growth potential together with growth drivers and possible barriers.","examples":["https://mindsea.com/validate-your-mobile-app-idea/","https://buildfire.com/turn-your-app-idea-into-reality/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646742307","list":"analysis","name":"marketAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"niche"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615657073736"},{"type":"DevelopmentMethod","name":"Keyword Analysis","description":"The goal of this building block is to analyze the traffic and results for specific keywords that target your customer and problem. With the help of keyword analysis, it is possible to look if many such people are searching for the problem and can be therefore targeted with search engine optimization.","examples":["https://appinventiv.com/blog/how-to-validate-your-app-idea/","https://priyankapatilbeast.medium.com/effective-strategies-to-validate-your-mobile-app-idea-b03be0228c06"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646742307","list":"analysis","name":"marketAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"niche"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Search Engines","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Keyword Analysis Tools","element":null,"multiple":false,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615657191822"},{"type":"DevelopmentMethod","name":"Store Keyword Analysis","description":"The goal of this building block is to analyze the traffic and results for specific keywords within the stores. With the help of keyword analysis, it is possible to look if many such people are searching for the problem and which solutions are currently offered.","examples":["https://appinventiv.com/blog/how-to-validate-your-app-idea/","https://blog.railwaymen.org/how-to-validate-your-app-idea-in-5-simple-steps"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646742307","list":"analysis","name":"marketAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"niche"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Store Statistic Tools","element":null,"multiple":false,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615657314156"},{"type":"DevelopmentMethod","name":"Competitor Analysis","description":"The goal of this building block is to analyze the competitors based on the gained insights of customers and problems. The competitor analysis can be used to identify target customers and used features to create a competitive advantage.","examples":["https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/","https://www.apptamin.com/blog/how-to-validate-your-app-ideas/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646746173","list":"analysis","name":"competitorAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647559511","_rev":"1-d7f14db973b8bdb0cbb01cc36b7f2de6","list":"Market","name":"marketCompetity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615657415137"},{"type":"DevelopmentMethod","name":"Store Competitor Analysis","description":"The goal of this building block is to analyze the store competitors based on the gained insights of customers and problems. The competitor analysis can be used to identify target customers and used features to create a competitive advantage.","examples":["https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/","https://www.apptamin.com/blog/how-to-validate-your-app-ideas/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646746173","list":"analysis","name":"competitorAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647559511","_rev":"1-d7f14db973b8bdb0cbb01cc36b7f2de6","list":"Market","name":"marketCompetity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":true,"optional":false}]}]},"executionSteps":[],"_id":"1615657579148"},{"type":"DevelopmentMethod","name":"Store Competitor Feature Set Analysis","description":"The goal of this building block is to analyze the store competitors based on the gained insights of customers and problems. The competitor analysis can be used to identify the commonly used features.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646746173","list":"analysis","name":"competitorAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647559511","_rev":"1-d7f14db973b8bdb0cbb01cc36b7f2de6","list":"Market","name":"marketCompetity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636839737635","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1636472697006"},"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"1615657686801"},{"type":"DevelopmentMethod","name":"Store Competitor Business Model Analysis","description":"The goal of this building block is to analyze the store competitors based on the gained insights of customers and problems. The competitor analysis can be used to identify the commonly used parts of the business model.","examples":["https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/"," https://www.apptamin.com/blog/how-to-validate-your-app-ideas/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646746173","list":"analysis","name":"competitorAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647559511","_rev":"1-d7f14db973b8bdb0cbb01cc36b7f2de6","list":"Market","name":"marketCompetity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636840157846","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144329606"},"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"1615657898883"},{"type":"DevelopmentMethod","name":"Problem Sharping","description":"The goal of this building block is to sharp the problem after the analysis of the market and the competitors. This, in turn, should help to concentrate on a single concrete problem instead of trying to solve multiple problems at the same time.","examples":["https://mindsea.com/validate-your-mobile-app-idea/","https://visionxpartners.com/app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646750064","list":"analysis","name":"nicheAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615657977437"},{"type":"DevelopmentMethod","name":"Target Group Sharping","description":"The goal of this building block is to sharp the target group after the analysis of the market and the competitors. This, in turn, should help to concentrate on a specific group instead of trying to solve the problem for multiple diverse groups.","examples":["https://visionxpartners.com/app-idea/","https://apiko.com/blog/how-to-validate-the-idea-and-features-of-your-application-before-development/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646750064","list":"analysis","name":"nicheAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Customer","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647539973","_rev":"1-5462faf90915eceaf5d00090298f70c8","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false},"value":"divers"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615658043748"},{"type":"DevelopmentMethod","name":"Feature Set Development","description":"The goal of this building block is to create a set of features that the app should have. This set can be created out of the insights during the discovery and analysis phase.","examples":["https://visionxpartners.com/app-idea/","https://fueled.com/blog/successful-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646771090","list":"design","name":"featureDesign","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-4d86f73b4110acd291fb5cb9be964f45","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Feature Set Tools","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636841235031","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1636472697006"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"1615658097457"},{"type":"DevelopmentMethod","name":"Value Proposition Development","description":"The goal of this building block is to develop a value proposition for the customer. For this, a value proposition canvas is filled out with the insights of the discovery and analysis phase.","examples":["https://apiko.com/blog/how-to-validate-the-idea-and-features-of-your-application-before-development/","https://visionxpartners.com/app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646781917","list":"design","name":"vpDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-2f890df0c70ebbb153e67441f6ebc251","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-d8521e453f55ec76a8ceec62094e407f","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636841634237","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144754642"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"1615658185096"},{"type":"DevelopmentMethod","name":"Business Model Development","description":"The goal of this building block is to develop a business model for the app. For this, a business model canvas is filled out with the insights of the discovery and analysis phase.","examples":["https://themindstudios.com/blog/how-to-validate-your-app-idea/","https://kodytechnolab.com/app-idea-validation"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646777512","_rev":"1-d3e848c2a2d799b0899a567ec40e6f82","list":"design","name":"businessDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"9-7c689d28e5e91726cc6ff2eadae46428","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-e95a5042d57452e023ca6844a7e3f095","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636841863674","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144329606"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"1615658309582"},{"type":"ProcessPattern","name":"Business Model Initialization Pattern","description":"This pattern allows the creation of a fixed process to create and validate a business model for a mobile application. Therefore, the process is particularly suitable for developers who have little experience with the creation of business models.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_1038tb5</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_1038tb5\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Gateway_1fdjmm5\\" /><bpmn:callActivity id=\\"Activity_1v3a0dr\\" name=\\"&#60;&#60;discovery&#62;&#62;\\"><bpmn:incoming>Flow_0gd19zx</bpmn:incoming><bpmn:outgoing>Flow_0y72bxm</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1qs3oc9\\" name=\\"&#60;&#60;analysis&#62;&#62;\\"><bpmn:incoming>Flow_01m9y59</bpmn:incoming><bpmn:outgoing>Flow_1sab3si</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list></bmdl:neededType></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_1sn658h\\"><bpmn:incoming>Flow_0y72bxm</bpmn:incoming><bpmn:incoming>Flow_0x50kxa</bpmn:incoming><bpmn:outgoing>Flow_01m9y59</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0y72bxm\\" sourceRef=\\"Activity_1v3a0dr\\" targetRef=\\"Gateway_1sn658h\\" /><bpmn:sequenceFlow id=\\"Flow_01m9y59\\" sourceRef=\\"Gateway_1sn658h\\" targetRef=\\"Activity_1qs3oc9\\" /><bpmn:exclusiveGateway id=\\"Gateway_1xo4mt4\\"><bpmn:incoming>Flow_1sab3si</bpmn:incoming><bpmn:incoming>Flow_1gkr7d2</bpmn:incoming><bpmn:outgoing>Flow_1wsv2e8</bpmn:outgoing><bpmn:outgoing>Flow_1935tcl</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1sab3si\\" sourceRef=\\"Activity_1qs3oc9\\" targetRef=\\"Gateway_1xo4mt4\\" /><bpmn:sequenceFlow id=\\"Flow_1wsv2e8\\" sourceRef=\\"Gateway_1xo4mt4\\" targetRef=\\"Activity_0fldsb1\\" /><bpmn:callActivity id=\\"Activity_0fldsb1\\" name=\\"&#60;&#60;design&#62;&#62;\\"><bpmn:incoming>Flow_1wsv2e8</bpmn:incoming><bpmn:outgoing>Flow_0oci9mm</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list></bmdl:neededType></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_1oaecke\\"><bpmn:incoming>Flow_0oci9mm</bpmn:incoming><bpmn:incoming>Flow_0delj8n</bpmn:incoming><bpmn:outgoing>Flow_08oz6nc</bpmn:outgoing><bpmn:outgoing>Flow_0x50kxa</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0oci9mm\\" sourceRef=\\"Activity_0fldsb1\\" targetRef=\\"Gateway_1oaecke\\" /><bpmn:sequenceFlow id=\\"Flow_08oz6nc\\" sourceRef=\\"Gateway_1oaecke\\" targetRef=\\"Activity_0xntgt9\\" /><bpmn:callActivity id=\\"Activity_0xntgt9\\" name=\\"&#60;&#60;develop&#62;&#62;\\"><bpmn:incoming>Flow_08oz6nc</bpmn:incoming><bpmn:outgoing>Flow_01x9eus</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_168ska7\\"><bpmn:incoming>Flow_01x9eus</bpmn:incoming><bpmn:outgoing>Flow_172n46f</bpmn:outgoing><bpmn:outgoing>Flow_1gkr7d2</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_01x9eus\\" sourceRef=\\"Activity_0xntgt9\\" targetRef=\\"Gateway_168ska7\\" /><bpmn:sequenceFlow id=\\"Flow_172n46f\\" sourceRef=\\"Gateway_168ska7\\" targetRef=\\"Activity_0rwv72u\\" /><bpmn:callActivity id=\\"Activity_0rwv72u\\" name=\\"&#60;&#60;validate&#62;&#62;\\"><bpmn:incoming>Flow_172n46f</bpmn:incoming><bpmn:outgoing>Flow_10xurca</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list></bmdl:neededType></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_01iu1l9\\"><bpmn:incoming>Flow_10xurca</bpmn:incoming><bpmn:outgoing>Flow_07db5lv</bpmn:outgoing><bpmn:outgoing>Flow_0delj8n</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_10xurca\\" sourceRef=\\"Activity_0rwv72u\\" targetRef=\\"Gateway_01iu1l9\\" /><bpmn:endEvent id=\\"Event_02xe3v6\\"><bpmn:incoming>Flow_07db5lv</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_07db5lv\\" sourceRef=\\"Gateway_01iu1l9\\" targetRef=\\"Event_02xe3v6\\" /><bpmn:exclusiveGateway id=\\"Gateway_1fdjmm5\\"><bpmn:incoming>Flow_1038tb5</bpmn:incoming><bpmn:incoming>Flow_1935tcl</bpmn:incoming><bpmn:outgoing>Flow_0gd19zx</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0gd19zx\\" sourceRef=\\"Gateway_1fdjmm5\\" targetRef=\\"Activity_1v3a0dr\\" /><bpmn:sequenceFlow id=\\"Flow_1935tcl\\" sourceRef=\\"Gateway_1xo4mt4\\" targetRef=\\"Gateway_1fdjmm5\\" /><bpmn:sequenceFlow id=\\"Flow_0x50kxa\\" sourceRef=\\"Gateway_1oaecke\\" targetRef=\\"Gateway_1sn658h\\" /><bpmn:sequenceFlow id=\\"Flow_0delj8n\\" sourceRef=\\"Gateway_01iu1l9\\" targetRef=\\"Gateway_1oaecke\\" /><bpmn:sequenceFlow id=\\"Flow_1gkr7d2\\" sourceRef=\\"Gateway_168ska7\\" targetRef=\\"Gateway_1xo4mt4\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1gkr7d2_di\\" bpmnElement=\\"Flow_1gkr7d2\\"><di:waypoint x=\\"1220\\" y=\\"145\\" /><di:waypoint x=\\"1220\\" y=\\"300\\" /><di:waypoint x=\\"700\\" y=\\"300\\" /><di:waypoint x=\\"700\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0delj8n_di\\" bpmnElement=\\"Flow_0delj8n\\"><di:waypoint x=\\"1480\\" y=\\"95\\" /><di:waypoint x=\\"1480\\" y=\\"10\\" /><di:waypoint x=\\"960\\" y=\\"10\\" /><di:waypoint x=\\"960\\" y=\\"95\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0x50kxa_di\\" bpmnElement=\\"Flow_0x50kxa\\"><di:waypoint x=\\"960\\" y=\\"145\\" /><di:waypoint x=\\"960\\" y=\\"240\\" /><di:waypoint x=\\"440\\" y=\\"240\\" /><di:waypoint x=\\"440\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1935tcl_di\\" bpmnElement=\\"Flow_1935tcl\\"><di:waypoint x=\\"700\\" y=\\"95\\" /><di:waypoint x=\\"700\\" y=\\"10\\" /><di:waypoint x=\\"180\\" y=\\"10\\" /><di:waypoint x=\\"180\\" y=\\"95\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0gd19zx_di\\" bpmnElement=\\"Flow_0gd19zx\\"><di:waypoint x=\\"205\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_07db5lv_di\\" bpmnElement=\\"Flow_07db5lv\\"><di:waypoint x=\\"1505\\" y=\\"120\\" /><di:waypoint x=\\"1562\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_10xurca_di\\" bpmnElement=\\"Flow_10xurca\\"><di:waypoint x=\\"1400\\" y=\\"120\\" /><di:waypoint x=\\"1455\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_172n46f_di\\" bpmnElement=\\"Flow_172n46f\\"><di:waypoint x=\\"1245\\" y=\\"120\\" /><di:waypoint x=\\"1300\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01x9eus_di\\" bpmnElement=\\"Flow_01x9eus\\"><di:waypoint x=\\"1140\\" y=\\"120\\" /><di:waypoint x=\\"1195\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_08oz6nc_di\\" bpmnElement=\\"Flow_08oz6nc\\"><di:waypoint x=\\"985\\" y=\\"120\\" /><di:waypoint x=\\"1040\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0oci9mm_di\\" bpmnElement=\\"Flow_0oci9mm\\"><di:waypoint x=\\"880\\" y=\\"120\\" /><di:waypoint x=\\"935\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1wsv2e8_di\\" bpmnElement=\\"Flow_1wsv2e8\\"><di:waypoint x=\\"725\\" y=\\"120\\" /><di:waypoint x=\\"780\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1sab3si_di\\" bpmnElement=\\"Flow_1sab3si\\"><di:waypoint x=\\"620\\" y=\\"120\\" /><di:waypoint x=\\"675\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01m9y59_di\\" bpmnElement=\\"Flow_01m9y59\\"><di:waypoint x=\\"465\\" y=\\"120\\" /><di:waypoint x=\\"520\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0y72bxm_di\\" bpmnElement=\\"Flow_0y72bxm\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"415\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1038tb5_di\\" bpmnElement=\\"Flow_1038tb5\\"><di:waypoint x=\\"98\\" y=\\"120\\" /><di:waypoint x=\\"155\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"62\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1m0op33_di\\" bpmnElement=\\"Activity_1v3a0dr\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_10hykv2_di\\" bpmnElement=\\"Activity_1qs3oc9\\"><dc:Bounds x=\\"520\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1sn658h_di\\" bpmnElement=\\"Gateway_1sn658h\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"415\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1xo4mt4_di\\" bpmnElement=\\"Gateway_1xo4mt4\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"675\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1r2wh7o_di\\" bpmnElement=\\"Activity_0fldsb1\\"><dc:Bounds x=\\"780\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1oaecke_di\\" bpmnElement=\\"Gateway_1oaecke\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"935\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1my8pdy_di\\" bpmnElement=\\"Activity_0xntgt9\\"><dc:Bounds x=\\"1040\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_168ska7_di\\" bpmnElement=\\"Gateway_168ska7\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1195\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1f26yxt_di\\" bpmnElement=\\"Activity_0rwv72u\\"><dc:Bounds x=\\"1300\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_01iu1l9_di\\" bpmnElement=\\"Gateway_01iu1l9\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1455\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_02xe3v6_di\\" bpmnElement=\\"Event_02xe3v6\\"><dc:Bounds x=\\"1562\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1fdjmm5_di\\" bpmnElement=\\"Gateway_1fdjmm5\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"155\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"initialisation"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"_id":"1615659481079"},{"type":"ProcessPattern","name":"Business Model Discovery Initialization Pattern","description":"This pattern allows the flexible creation of a process for business model development starting at the discovery phase. Due to this flexibility, it should be used only by experts in business model development.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0zj52gk</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_0zj52gk\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_0pv0v3k\\" /><bpmn:callActivity id=\\"Activity_0pv0v3k\\" name=\\"&#60;&#60;discovery&#62;&#62;\\"><bpmn:incoming>Flow_0zj52gk</bpmn:incoming><bpmn:outgoing>Flow_155sdko</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list></bmdl:neededType></bpmn:callActivity><bpmn:endEvent id=\\"Event_1fwptii\\"><bpmn:incoming>Flow_155sdko</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_155sdko\\" sourceRef=\\"Activity_0pv0v3k\\" targetRef=\\"Event_1fwptii\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_155sdko_di\\" bpmnElement=\\"Flow_155sdko\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"412\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0zj52gk_di\\" bpmnElement=\\"Flow_0zj52gk\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1hen4ps_di\\" bpmnElement=\\"Activity_0pv0v3k\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1fwptii_di\\" bpmnElement=\\"Event_1fwptii\\"><dc:Bounds x=\\"412\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"initialisation"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"_id":"1615659902483"},{"type":"ProcessPattern","name":"Business Model Analysis Initialization Pattern","description":"This pattern allows the flexible creation of a process for business model development starting at the analysis phase. Due to this flexibility, it should be used only by experts in business model development.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_1u195xu</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_1u195xu\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_06bxtpx\\" /><bpmn:endEvent id=\\"Event_0b7xcbb\\"><bpmn:incoming>Flow_1y56myt</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_1y56myt\\" sourceRef=\\"Activity_06bxtpx\\" targetRef=\\"Event_0b7xcbb\\" /><bpmn:callActivity id=\\"Activity_06bxtpx\\" name=\\"&#60;&#60;analysis&#62;&#62;\\"><bpmn:incoming>Flow_1u195xu</bpmn:incoming><bpmn:outgoing>Flow_1y56myt</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1y56myt_di\\" bpmnElement=\\"Flow_1y56myt\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"412\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1u195xu_di\\" bpmnElement=\\"Flow_1u195xu\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0b7xcbb_di\\" bpmnElement=\\"Event_0b7xcbb\\"><dc:Bounds x=\\"412\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1qay21l_di\\" bpmnElement=\\"Activity_06bxtpx\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"initialisation"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"_id":"1615660181792"},{"type":"ProcessPattern","name":"Design Thinkning Pattern","description":"This pattern for design thinking allows the flexible creation of a non-linear process including the phases of empathizing, defining, ideating, prototyping, and validating.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0kc64qr</bpmn:outgoing></bpmn:startEvent><bpmn:exclusiveGateway id=\\"Gateway_16lqedj\\"><bpmn:incoming>Flow_0kc64qr</bpmn:incoming><bpmn:incoming>Flow_0a779fv</bpmn:incoming><bpmn:outgoing>Flow_0jn6s6o</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0kc64qr\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Gateway_16lqedj\\" /><bpmn:task id=\\"Activity_1pdxc9i\\" name=\\"&#60;&#60;emphathize&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_0jn6s6o</bpmn:incoming><bpmn:outgoing>Flow_0ueadha</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>1641997353410205e0a1c-6533-4e8e-b0de-30b573406815</bmdl:_id><bmdl:name>emphathize</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_0jn6s6o\\" sourceRef=\\"Gateway_16lqedj\\" targetRef=\\"Activity_1pdxc9i\\" /><bpmn:exclusiveGateway id=\\"Gateway_0eznzw1\\"><bpmn:incoming>Flow_0ueadha</bpmn:incoming><bpmn:incoming>Flow_0zs2d1p</bpmn:incoming><bpmn:outgoing>Flow_04lqagg</bpmn:outgoing><bpmn:outgoing>Flow_1lotq6y</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0ueadha\\" sourceRef=\\"Activity_1pdxc9i\\" targetRef=\\"Gateway_0eznzw1\\" /><bpmn:task id=\\"Activity_16rmp0k\\" name=\\"&#60;&#60;define&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_04lqagg</bpmn:incoming><bpmn:outgoing>Flow_13ctnk9</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>16419973600377265c0b8-f585-4ea7-870c-dde64949997f</bmdl:_id><bmdl:name>define</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_04lqagg\\" sourceRef=\\"Gateway_0eznzw1\\" targetRef=\\"Activity_16rmp0k\\" /><bpmn:exclusiveGateway id=\\"Gateway_0qgz06r\\"><bpmn:incoming>Flow_13ctnk9</bpmn:incoming><bpmn:outgoing>Flow_00tht31</bpmn:outgoing><bpmn:outgoing>Flow_0a779fv</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_13ctnk9\\" sourceRef=\\"Activity_16rmp0k\\" targetRef=\\"Gateway_0qgz06r\\" /><bpmn:task id=\\"Activity_0pjo8bq\\" name=\\"&#60;&#60;ideate&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_00tht31</bpmn:incoming><bpmn:outgoing>Flow_0dweiva</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>16419973667422b51d38b-6c2e-4a9c-a405-5322810c6c29</bmdl:_id><bmdl:name>ideate</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_00tht31\\" sourceRef=\\"Gateway_0qgz06r\\" targetRef=\\"Activity_0pjo8bq\\" /><bpmn:exclusiveGateway id=\\"Gateway_13xpxw9\\"><bpmn:incoming>Flow_0dweiva</bpmn:incoming><bpmn:incoming>Flow_1lotq6y</bpmn:incoming><bpmn:incoming>Flow_08creao</bpmn:incoming><bpmn:outgoing>Flow_0f8wh4s</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0dweiva\\" sourceRef=\\"Activity_0pjo8bq\\" targetRef=\\"Gateway_13xpxw9\\" /><bpmn:task id=\\"Activity_0wgwkmu\\" name=\\"&#60;&#60;prototype&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_0f8wh4s</bpmn:incoming><bpmn:outgoing>Flow_1l3oqhm</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>1641997381370a50861b8-e779-4db9-a1fe-158ee9a6886e</bmdl:_id><bmdl:name>prototype</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_0f8wh4s\\" sourceRef=\\"Gateway_13xpxw9\\" targetRef=\\"Activity_0wgwkmu\\" /><bpmn:task id=\\"Activity_1066b4b\\" name=\\"&#60;&#60;test&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_014anea</bpmn:incoming><bpmn:outgoing>Flow_0qhkk38</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>164199738929966d20496-0be7-4a65-a5a8-db5d6388ba96</bmdl:_id><bmdl:name>test</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:exclusiveGateway id=\\"Gateway_14t6ya0\\"><bpmn:incoming>Flow_0qhkk38</bpmn:incoming><bpmn:outgoing>Flow_01stviu</bpmn:outgoing><bpmn:outgoing>Flow_0zs2d1p</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0qhkk38\\" sourceRef=\\"Activity_1066b4b\\" targetRef=\\"Gateway_14t6ya0\\" /><bpmn:endEvent id=\\"Event_12nelp1\\"><bpmn:incoming>Flow_01stviu</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_01stviu\\" sourceRef=\\"Gateway_14t6ya0\\" targetRef=\\"Event_12nelp1\\" /><bpmn:sequenceFlow id=\\"Flow_1lotq6y\\" sourceRef=\\"Gateway_0eznzw1\\" targetRef=\\"Gateway_13xpxw9\\" /><bpmn:sequenceFlow id=\\"Flow_0a779fv\\" sourceRef=\\"Gateway_0qgz06r\\" targetRef=\\"Gateway_16lqedj\\" /><bpmn:exclusiveGateway id=\\"Gateway_1a2d9lo\\"><bpmn:incoming>Flow_1l3oqhm</bpmn:incoming><bpmn:outgoing>Flow_014anea</bpmn:outgoing><bpmn:outgoing>Flow_08creao</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1l3oqhm\\" sourceRef=\\"Activity_0wgwkmu\\" targetRef=\\"Gateway_1a2d9lo\\" /><bpmn:sequenceFlow id=\\"Flow_014anea\\" sourceRef=\\"Gateway_1a2d9lo\\" targetRef=\\"Activity_1066b4b\\" /><bpmn:sequenceFlow id=\\"Flow_08creao\\" sourceRef=\\"Gateway_1a2d9lo\\" targetRef=\\"Gateway_13xpxw9\\" /><bpmn:sequenceFlow id=\\"Flow_0zs2d1p\\" sourceRef=\\"Gateway_14t6ya0\\" targetRef=\\"Gateway_0eznzw1\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0zs2d1p_di\\" bpmnElement=\\"Flow_0zs2d1p\\"><di:waypoint x=\\"1690\\" y=\\"145\\" /><di:waypoint x=\\"1690\\" y=\\"250\\" /><di:waypoint x=\\"570\\" y=\\"250\\" /><di:waypoint x=\\"570\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_08creao_di\\" bpmnElement=\\"Flow_08creao\\"><di:waypoint x=\\"1410\\" y=\\"145\\" /><di:waypoint x=\\"1410\\" y=\\"180\\" /><di:waypoint x=\\"1130\\" y=\\"180\\" /><di:waypoint x=\\"1130\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_014anea_di\\" bpmnElement=\\"Flow_014anea\\"><di:waypoint x=\\"1435\\" y=\\"120\\" /><di:waypoint x=\\"1500\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1l3oqhm_di\\" bpmnElement=\\"Flow_1l3oqhm\\"><di:waypoint x=\\"1320\\" y=\\"120\\" /><di:waypoint x=\\"1385\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0a779fv_di\\" bpmnElement=\\"Flow_0a779fv\\"><di:waypoint x=\\"850\\" y=\\"145\\" /><di:waypoint x=\\"850\\" y=\\"210\\" /><di:waypoint x=\\"290\\" y=\\"210\\" /><di:waypoint x=\\"290\\" y=\\"150\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1lotq6y_di\\" bpmnElement=\\"Flow_1lotq6y\\"><di:waypoint x=\\"570\\" y=\\"95\\" /><di:waypoint x=\\"570\\" y=\\"63\\" /><di:waypoint x=\\"1130\\" y=\\"63\\" /><di:waypoint x=\\"1130\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01stviu_di\\" bpmnElement=\\"Flow_01stviu\\"><di:waypoint x=\\"1715\\" y=\\"120\\" /><di:waypoint x=\\"1782\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0qhkk38_di\\" bpmnElement=\\"Flow_0qhkk38\\"><di:waypoint x=\\"1600\\" y=\\"120\\" /><di:waypoint x=\\"1665\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0f8wh4s_di\\" bpmnElement=\\"Flow_0f8wh4s\\"><di:waypoint x=\\"1155\\" y=\\"120\\" /><di:waypoint x=\\"1220\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0dweiva_di\\" bpmnElement=\\"Flow_0dweiva\\"><di:waypoint x=\\"1040\\" y=\\"120\\" /><di:waypoint x=\\"1105\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_00tht31_di\\" bpmnElement=\\"Flow_00tht31\\"><di:waypoint x=\\"875\\" y=\\"120\\" /><di:waypoint x=\\"940\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13ctnk9_di\\" bpmnElement=\\"Flow_13ctnk9\\"><di:waypoint x=\\"760\\" y=\\"120\\" /><di:waypoint x=\\"825\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_04lqagg_di\\" bpmnElement=\\"Flow_04lqagg\\"><di:waypoint x=\\"595\\" y=\\"120\\" /><di:waypoint x=\\"660\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0ueadha_di\\" bpmnElement=\\"Flow_0ueadha\\"><di:waypoint x=\\"480\\" y=\\"120\\" /><di:waypoint x=\\"545\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0jn6s6o_di\\" bpmnElement=\\"Flow_0jn6s6o\\"><di:waypoint x=\\"315\\" y=\\"120\\" /><di:waypoint x=\\"380\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0kc64qr_di\\" bpmnElement=\\"Flow_0kc64qr\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"265\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_16lqedj_di\\" bpmnElement=\\"Gateway_16lqedj\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"265\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1pdxc9i_di\\" bpmnElement=\\"Activity_1pdxc9i\\"><dc:Bounds x=\\"380\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0eznzw1_di\\" bpmnElement=\\"Gateway_0eznzw1\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"545\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_16rmp0k_di\\" bpmnElement=\\"Activity_16rmp0k\\"><dc:Bounds x=\\"660\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0qgz06r_di\\" bpmnElement=\\"Gateway_0qgz06r\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"825\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0pjo8bq_di\\" bpmnElement=\\"Activity_0pjo8bq\\"><dc:Bounds x=\\"940\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_13xpxw9_di\\" bpmnElement=\\"Gateway_13xpxw9\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1105\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0wgwkmu_di\\" bpmnElement=\\"Activity_0wgwkmu\\"><dc:Bounds x=\\"1220\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1066b4b_di\\" bpmnElement=\\"Activity_1066b4b\\"><dc:Bounds x=\\"1500\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_14t6ya0_di\\" bpmnElement=\\"Gateway_14t6ya0\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1665\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_12nelp1_di\\" bpmnElement=\\"Event_12nelp1\\"><dc:Bounds x=\\"1782\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1a2d9lo_di\\" bpmnElement=\\"Gateway_1a2d9lo\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1385\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"initialisation"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"_id":"1615660240828"},{"type":"ProcessPattern","name":"Business Model Development Initialization Pattern","description":"This pattern allows the flexible creation of a process for business model development starting at the development phase. Due to this flexibility, it should be used only by experts in business model development.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_1sfp24i</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_1sfp24i\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_1jftb7t\\" /><bpmn:endEvent id=\\"Event_0ds9128\\"><bpmn:incoming>Flow_0gf0nq0</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0gf0nq0\\" sourceRef=\\"Activity_1jftb7t\\" targetRef=\\"Event_0ds9128\\" /><bpmn:callActivity id=\\"Activity_1jftb7t\\" name=\\"&#60;&#60;develop&#62;&#62;\\"><bpmn:incoming>Flow_1sfp24i</bpmn:incoming><bpmn:outgoing>Flow_0gf0nq0</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0gf0nq0_di\\" bpmnElement=\\"Flow_0gf0nq0\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"412\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1sfp24i_di\\" bpmnElement=\\"Flow_1sfp24i\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0ds9128_di\\" bpmnElement=\\"Event_0ds9128\\"><dc:Bounds x=\\"412\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0i0c45y_di\\" bpmnElement=\\"Activity_1jftb7t\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"initialisation"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"_id":"1615660304623"},{"type":"ProcessPattern","name":"Business Model Validation Initialization Pattern","description":"This pattern allows the flexible creation of a process for business model development starting at the validation phase. Due to this flexibility, it should be used only by experts in business model development.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_02showv</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_02showv\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_18uo8tv\\" /><bpmn:callActivity id=\\"Activity_18uo8tv\\" name=\\"&#60;&#60;validate&#62;&#62;\\"><bpmn:incoming>Flow_02showv</bpmn:incoming><bpmn:outgoing>Flow_1mcnlyo</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list></bmdl:neededType></bpmn:callActivity><bpmn:endEvent id=\\"Event_0fpts04\\"><bpmn:incoming>Flow_1mcnlyo</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_1mcnlyo\\" sourceRef=\\"Activity_18uo8tv\\" targetRef=\\"Event_0fpts04\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1mcnlyo_di\\" bpmnElement=\\"Flow_1mcnlyo\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"412\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02showv_di\\" bpmnElement=\\"Flow_02showv\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_06d1wvr_di\\" bpmnElement=\\"Activity_18uo8tv\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0fpts04_di\\" bpmnElement=\\"Event_0fpts04\\"><dc:Bounds x=\\"412\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"initialisation"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"_id":"1615660367007"},{"type":"ProcessPattern","name":"Customer First Discovery Pattern","description":"The pattern allows identifying the customers before targeting the problem.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_10yn572</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_10yn572\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_1e1br2u\\" /><bpmn:exclusiveGateway id=\\"Gateway_1a1s22u\\"><bpmn:incoming>Flow_1n5mg7b</bpmn:incoming><bpmn:incoming>Flow_0n2o9ve</bpmn:incoming><bpmn:outgoing>Flow_1pqo0s7</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1n5mg7b\\" sourceRef=\\"Activity_1e1br2u\\" targetRef=\\"Gateway_1a1s22u\\" /><bpmn:sequenceFlow id=\\"Flow_1pqo0s7\\" sourceRef=\\"Gateway_1a1s22u\\" targetRef=\\"Activity_05y4fdq\\" /><bpmn:exclusiveGateway id=\\"Gateway_0lohovi\\"><bpmn:incoming>Flow_096nwy8</bpmn:incoming><bpmn:outgoing>Flow_1h1q2gc</bpmn:outgoing><bpmn:outgoing>Flow_0n2o9ve</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_096nwy8\\" sourceRef=\\"Activity_05y4fdq\\" targetRef=\\"Gateway_0lohovi\\" /><bpmn:endEvent id=\\"Event_0q9g0ys\\"><bpmn:incoming>Flow_1h1q2gc</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_1h1q2gc\\" sourceRef=\\"Gateway_0lohovi\\" targetRef=\\"Event_0q9g0ys\\" /><bpmn:callActivity id=\\"Activity_1e1br2u\\" name=\\"&#60;&#60;customer Discovery&#62;&#62;\\"><bpmn:incoming>Flow_10yn572</bpmn:incoming><bpmn:outgoing>Flow_1n5mg7b</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646706099</bmdl:_id><bmdl:name>customerDiscovery</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_05y4fdq\\" name=\\"&#60;&#60;problem Discovery&#62;&#62;\\"><bpmn:incoming>Flow_1pqo0s7</bpmn:incoming><bpmn:outgoing>Flow_096nwy8</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646721496</bmdl:_id><bmdl:name>problemDiscovery</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_0n2o9ve\\" sourceRef=\\"Gateway_0lohovi\\" targetRef=\\"Gateway_1a1s22u\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0n2o9ve_di\\" bpmnElement=\\"Flow_0n2o9ve\\"><di:waypoint x=\\"700\\" y=\\"95\\" /><di:waypoint x=\\"700\\" y=\\"40\\" /><di:waypoint x=\\"440\\" y=\\"40\\" /><di:waypoint x=\\"440\\" y=\\"95\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1h1q2gc_di\\" bpmnElement=\\"Flow_1h1q2gc\\"><di:waypoint x=\\"725\\" y=\\"120\\" /><di:waypoint x=\\"782\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_096nwy8_di\\" bpmnElement=\\"Flow_096nwy8\\"><di:waypoint x=\\"620\\" y=\\"120\\" /><di:waypoint x=\\"675\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1pqo0s7_di\\" bpmnElement=\\"Flow_1pqo0s7\\"><di:waypoint x=\\"465\\" y=\\"120\\" /><di:waypoint x=\\"520\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1n5mg7b_di\\" bpmnElement=\\"Flow_1n5mg7b\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"415\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_10yn572_di\\" bpmnElement=\\"Flow_10yn572\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1a1s22u_di\\" bpmnElement=\\"Gateway_1a1s22u\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"415\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0lohovi_di\\" bpmnElement=\\"Gateway_0lohovi\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"675\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0q9g0ys_di\\" bpmnElement=\\"Event_0q9g0ys\\"><dc:Bounds x=\\"782\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_18oe1m5_di\\" bpmnElement=\\"Activity_1e1br2u\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1ymc09u_di\\" bpmnElement=\\"Activity_05y4fdq\\"><dc:Bounds x=\\"520\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"discovery"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647588013","_rev":"1-e71109eb7939c04f5782f80896d3f3a2","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}}],"_id":"1615660450456"},{"type":"DevelopmentMethod","name":"Monetization Strategy Identification","description":"The goal of this building block is to identify a monetization strategy for the app. This strategy, in turn, should ensure the sustainable development of the app over time.","examples":["https://www.softermii.com/blog/how-to-validate-your-app-idea-and-build-a-successful-solution","https://kodytechnolab.com/app-idea-validation"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646791921","list":"design","name":"monetizationDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"9-6c68ec991e81b0c9472b7c8067960efe","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615888226975"},{"type":"DevelopmentMethod","name":"Marketing Strategy Identification","description":"The goal of this building block is to identify a marketing strategy for the app. This strategy, in turn, should ensure to reach potential customers with a corresponding sales funnel.","examples":["https://visionxpartners.com/app-idea/","https://www.softermii.com/blog/how-to-validate-your-app-idea-and-build-a-successful-solution"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646798975","list":"design","name":"marketingDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615888402671"},{"type":"DevelopmentMethod","name":"Unique Selling Point Identification","description":"The goal of this building block is to identify a unique selling point for the app. This unique selling point, in turn, will ensure a competitive advantage against similar apps in the market.","examples":["https://visionxpartners.com/app-idea/","https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646805954","list":"design","name":"uspDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615888475342"},{"type":"DevelopmentMethod","name":"Feature Set Priorisation","description":"The goal of this building block is to prioritize the feature set according to the most important features. This should ensure to consider only the most important features at the beginning of your app development.","examples":["https://blog.railwaymen.org/how-to-validate-your-app-idea-in-5-simple-steps","https://fueled.com/blog/successful-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646810172","list":"design","name":"enhancementDesign","description":null}}],"situationalFactors":[{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Feature Set Tools","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636881497974","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615888569611"},{"type":"DevelopmentMethod","name":"Hypothesis Priorisation","description":"The goal of this building block is to prioritize the hypotheses inside your developed business model to find out the most important ones. The most important hypotheses should be tested at the beginning to ensure the development of a successful app.","examples":["https://mindsea.com/validate-your-mobile-app-idea/","https://fueled.com/blog/successful-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646810172","list":"design","name":"enhancementDesign","description":null}}],"situationalFactors":[{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636881687621","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615888745361"},{"type":"DevelopmentMethod","name":"SWOT Analysis","description":"The goal of this building block is to conduct to SWOT Analysis to identify the strength, weaknesses, opportunities, and threats of your application. This analysis can be used to improve the feature set and business model of the application.","examples":["https://themindstudios.com/blog/how-to-validate-your-app-idea/","https://www.bandofcoders.com/5-ways-test-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646810172","list":"design","name":"enhancementDesign","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648465839","_rev":"1-52537ba3c5c33ddd3a77a9af69e4a11c","list":"Structured Information","name":"SWOT Map","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615888873907"},{"type":"DevelopmentMethod","name":"Metric Identification","description":"The goal of this building block is to identify important metrics to measure the success of the app. These metrics can be derived from the feature set and the business model of the application.","examples":["https://themindstudios.com/blog/how-to-validate-your-app-idea/","https://kodytechnolab.com/app-idea-validation"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646810172","list":"design","name":"enhancementDesign","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615889118789"},{"type":"DevelopmentMethod","name":"Competitive Advantage Analysis","description":"The goal of this building block is to analyze the competitive advantage of the own application. This analysis, in turn, should ensure to focus on these advantages during the beginning of the development.","examples":["https://fueled.com/blog/successful-app-idea/","https://www.mindinventory.com/blog/how-to-validate-your-mobile-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646810172","list":"design","name":"enhancementDesign","description":null}}],"situationalFactors":[{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647559511","_rev":"9-df244f5c48859405f958bcef204692ff","list":"Market","name":"marketCompetity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"9-6c68ec991e81b0c9472b7c8067960efe","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615889237294"},{"type":"DevelopmentMethod","name":"Inbound Marketing Conduction","description":"The goal of this building block is to conduct inbound marketing during the development phase. Inbound marketing means to active creation of valuable content that potential customers can discover during the search for solutions to their problems.","examples":["https://www.softermii.com/blog/how-to-validate-your-app-idea-and-build-a-successful-solution","https://www.appypie.com/how-to-validate-your-app-idea"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646821909","list":"develop","name":"marketingDevelopment","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647520097","_rev":"1-0f5b281062411808f394d3dc310b17a7","list":"Company","name":"marketingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648460846","_rev":"9-8c384338d72406873e349eba815a8677","list":"Structured Information","name":"Customer Journey Map","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","_rev":"1-259bbdf5097ac615d89cac8487b46dde","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"9-f76358161c1b8c3241567edcf2a6c9e6","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615889338605"},{"type":"Artifact","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null,"_id":"1615889474456"},{"type":"DevelopmentMethod","name":"Outbound Marketing Conduction","description":"The goal of this building block is to conduct outbound marketing during the development phase. Outbound marketing means to direct push the potential customers to the current state of the solution.","examples":["https://appinventiv.com/blog/how-to-validate-your-app-idea/","https://www.appypie.com/how-to-validate-your-app-idea"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646821909","list":"develop","name":"marketingDevelopment","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647520097","_rev":"1-0f5b281062411808f394d3dc310b17a7","list":"Company","name":"marketingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648460846","_rev":"9-8c384338d72406873e349eba815a8677","list":"Structured Information","name":"Customer Journey Map","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","_rev":"1-259bbdf5097ac615d89cac8487b46dde","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"9-f76358161c1b8c3241567edcf2a6c9e6","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615889515968"},{"type":"DevelopmentMethod","name":"Website Creation","description":"The goal of this building block is to create a website to show the current state of the app. On the website, it is also possible to share valuable content related to the problem and the solution.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646831373","list":"develop","name":"createContent","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647520097","_rev":"1-0f5b281062411808f394d3dc310b17a7","list":"Company","name":"marketingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647516549","_rev":"1-39d707d41d7700998e8b8d17a6932e3e","list":"Company","name":"designSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"optional":false},{"list":"Medium","element":{"type":"Artifact","_id":"1615648509560","_rev":"1-9c243b7eedbdbad8b22f6386b5767d6e","list":"Medium","name":"Website","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"9-f76358161c1b8c3241567edcf2a6c9e6","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"9-eabc5776aff8597a7fb02b559e145ed8","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","_rev":"9-f86e8fa05d29f0b34c84bae9d4dc6484","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615889578029"},{"type":"DevelopmentMethod","name":"Landing Page Creation","description":"The goal of this building block is to create a landing page to show the unique selling point of the app. The landing page can be used to analyze conversion rates of different UPSs and collect mail addresses for further interaction.","examples":["https://yfsmagazine.com/2019/03/07/6-simple-ways-to-validate-your-mobile-app-idea/","https://www.incomediary.com/how-to-validate-your-million-app-idea-in-3-simple-steps/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646831373","list":"develop","name":"createContent","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647520097","_rev":"1-0f5b281062411808f394d3dc310b17a7","list":"Company","name":"marketingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647516549","_rev":"1-39d707d41d7700998e8b8d17a6932e3e","list":"Company","name":"designSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"optional":false},{"list":"Medium","element":{"type":"Artifact","_id":"1615648513576","_rev":"1-75c2ffdf8172f815cbbdbbc7b2f8ada9","list":"Medium","name":"Landing Page","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"9-f76358161c1b8c3241567edcf2a6c9e6","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","_rev":"9-f86e8fa05d29f0b34c84bae9d4dc6484","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"9-eabc5776aff8597a7fb02b559e145ed8","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Landing Page Tools","element":null,"multiple":false,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615889734236"},{"type":"DevelopmentMethod","name":"Information Creation","description":"The goal of this building block is to create valuable information for the target customers on social media channels. This, in turn, helps to build a brand before starting with the product selling.","examples":["https://www.forbes.com/sites/abdoriani/2019/10/12/the-simplest-way-to-validate-a-startup-app-idea/?sh=ac1223d17ed3","https://yfsmagazine.com/2019/03/07/6-simple-ways-to-validate-your-mobile-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646831373","list":"develop","name":"createContent","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647520097","_rev":"1-0f5b281062411808f394d3dc310b17a7","list":"Company","name":"marketingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","_rev":"1-259bbdf5097ac615d89cac8487b46dde","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"9-f76358161c1b8c3241567edcf2a6c9e6","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Social Media Tools","element":null,"multiple":true,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615891861034"},{"type":"DevelopmentMethod","name":"Organic Traffic Generation","description":"The goal of this building block is to generate organic traffic for the created content. This can be done by optimizing the content for search engines posting links to the content of social media platforms and forums.","examples":["https://www.businessnewsdaily.com/6540-how-to-test-your-business-idea.html%20","https://visionxpartners.com/app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646835744","list":"develop","name":"spreadContent","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647520097","_rev":"1-0f5b281062411808f394d3dc310b17a7","list":"Company","name":"marketingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","_rev":"1-259bbdf5097ac615d89cac8487b46dde","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"9-f76358161c1b8c3241567edcf2a6c9e6","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Social Media Tools","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Online Communities","element":null,"multiple":true,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615891939320"},{"type":"DevelopmentMethod","name":"Inorganic Traffic Generation","description":"The goal of this building block is to generate organic traffic for the created content. This can be done by optimizing the content for search engines posting links to the content of social media platforms and forums.","examples":["https://yfsmagazine.com/2019/03/07/6-simple-ways-to-validate-your-mobile-app-idea/","https://www.incomediary.com/how-to-validate-your-million-app-idea-in-3-simple-steps/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646835744","list":"develop","name":"spreadContent","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647520097","_rev":"1-0f5b281062411808f394d3dc310b17a7","list":"Company","name":"marketingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647506232","_rev":"1-e7398b72a379a4c00f11f5da5d8eb027","list":"Company","name":"financialResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","_rev":"1-259bbdf5097ac615d89cac8487b46dde","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"9-f76358161c1b8c3241567edcf2a6c9e6","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Social Media Ads","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Search Engine Ads","element":null,"multiple":true,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615892026333"},{"type":"DevelopmentMethod","name":"Prototype Development","description":"The goal of this building block is to develop a prototype of the app. This prototype can be created in various forms like sketches, mockups, wireframes, or clickable prototypes.","examples":["https://appinventiv.com/blog/how-to-validate-your-app-idea/","https://visionxpartners.com/app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop","element":null}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"9-eabc5776aff8597a7fb02b559e145ed8","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Prototyping Tools","element":null,"multiple":false,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615892295788"},{"type":"DevelopmentMethod","name":"Proof-of-Concept Development","description":"The goal of this building block is to develop a proof-of-concept of the app. This should ensure the technical feasibility of developing the features of the app.","examples":["https://appinventiv.com/blog/how-to-validate-your-app-idea/","https://www.appypie.com/how-to-validate-your-app-idea"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647577029","_rev":"1-d0a7e468293dd95a1825b5929a0455ed","list":"Product","name":"productFeasibility","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","element":{"type":"Artifact","_id":"1615648535262","_rev":"1-53595af1e1f4084e1e9300c5c0ab26d1","list":"Prototype","name":"Proof-of-Concept","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615892536100"},{"type":"DevelopmentMethod","name":"Mockup Development","description":"The goal of this building block is to create a mockup of the app. A mockup is a graphical representation to give the potential customer an impression of who the app will look like.","examples":["https://www.forbes.com/sites/abdoriani/2019/10/12/the-simplest-way-to-validate-a-startup-app-idea/?sh=5e1d44be17ed","https://visionxpartners.com/app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","element":{"type":"Artifact","_id":"1615648543172","_rev":"1-a1580f9742c5086e369f305312a63d15","list":"Prototype","name":"Mockup","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"9-eabc5776aff8597a7fb02b559e145ed8","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615892685596"},{"type":"DevelopmentMethod","name":"Wireframe Development","description":"The goal of this building block is to create a wireframe of the app. A wireframe is a visualization of the app that allows the potential customer to understand the navigation inside the app.","examples":["http://apptology.com/blog/3-steps-to-develop-mobile-app-idea/","https://fueled.com/blog/successful-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","element":{"type":"Artifact","_id":"1615648546517","_rev":"1-15bf6df91b7d4b1148afcbfed3eb514b","list":"Prototype","name":"Wireframe","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"9-eabc5776aff8597a7fb02b559e145ed8","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615892775392"},{"type":"DevelopmentMethod","name":"MVP Development","description":"The goal of this building block is to create a minimum viable product of the app. An MVP is a small product that can be directly used by the potential customer to solve his problem.","examples":["https://appinventiv.com/blog/how-to-validate-your-app-idea/","https://www.businessnewsdaily.com/6540-how-to-test-your-business-idea.html"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"9-eabc5776aff8597a7fb02b559e145ed8","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615892880601"},{"type":"DevelopmentMethod","name":"Platform Selection","description":"The goal of this building block is to select a platform where the app should be running. An app can be developed for a specific mobile platform or as a web app.","examples":["https://buildfire.com/turn-your-app-idea-into-reality/","https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646844016","list":"develop","name":"platformSelection","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":false,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615893012382"},{"type":"DevelopmentMethod","name":"Cost Estimation","description":"The goal of this building block is to estimate the costs that the development of the app will costs.","examples":["https://dzone.com/articles/10-key-steps-to-turn-your-mobile-app-idea-into-rea","https://buildfire.com/turn-your-app-idea-into-reality/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646848359","list":"develop","name":"financialCheck","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Partners","element":{"type":"Stakeholder","_id":"1615647131910","_rev":"9-14f1ad35538470457409c8f828ea72b6","list":"Partners","name":"Development Agency","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615893225262"},{"type":"DevelopmentMethod","name":"Financing Search","description":"The goal of this building block is to clarify the finances of the app development.","examples":["https://www.softermii.com/blog/how-to-validate-your-app-idea-and-build-a-successful-solution","https://www.spaceotechnologies.com/new-mobile-app-ideas-to-make-money/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646848359","list":"develop","name":"financialCheck","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Partners","element":{"type":"Stakeholder","_id":"1615647141631","_rev":"9-4c4267d0ca8a8fb95f10a32de5fb0d46","list":"Partners","name":"Investor","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615893315021"},{"type":"DevelopmentMethod","name":"Internal Development","description":"The goal of this building block is to develop the first version of the app. Internal developers will do this development.","examples":["https://www.nodesagency.com/guide-how-you-develop-app-idea/","https://dzone.com/articles/10-key-steps-to-turn-your-mobile-app-idea-into-rea"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646852543","list":"develop","name":"productDevelopment","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647506232","_rev":"1-e7398b72a379a4c00f11f5da5d8eb027","list":"Company","name":"financialResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Product","element":null,"multiple":true,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"9-eabc5776aff8597a7fb02b559e145ed8","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615893378246"},{"type":"DevelopmentMethod","name":"External Development","description":"The goal of this building block is to develop the first version of the app. External developers will do this development.","examples":["https://www.nodesagency.com/guide-how-you-develop-app-idea/","https://dzone.com/articles/10-key-steps-to-turn-your-mobile-app-idea-into-rea"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646852543","list":"develop","name":"productDevelopment","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647506232","_rev":"1-e7398b72a379a4c00f11f5da5d8eb027","list":"Company","name":"financialResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"9-a64565d1d19c7068d6e161917e1dd813","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"9-363419da40d59c28b08ed771fefd8f9b","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Product","element":null,"multiple":true,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Partners","element":{"type":"Stakeholder","_id":"1615647131910","_rev":"9-14f1ad35538470457409c8f828ea72b6","list":"Partners","name":"Development Agency","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1615893512988"},{"type":"DevelopmentMethod","name":"Platform Publishing","description":"The goal of this building block is to publish the product on the selected platforms.","examples":["https://dzone.com/articles/10-key-steps-to-turn-your-mobile-app-idea-into-rea","https://buildfire.com/turn-your-app-idea-into-reality/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646856351","list":"develop","name":"platformPublishing","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Product","element":null,"multiple":true,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Product","element":null,"multiple":true,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"9-f76358161c1b8c3241567edcf2a6c9e6","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":true,"optional":false}]},{"items":[]}]},"executionSteps":[],"_id":"1615893680202"},{"type":"ProcessPattern","name":"Problem First Discovery Pattern","description":"The pattern allows identifying the problem before targeting the customer.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0twjksb</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_0twjksb\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_0lec3q1\\" /><bpmn:exclusiveGateway id=\\"Gateway_07jvh00\\"><bpmn:incoming>Flow_0jsois1</bpmn:incoming><bpmn:incoming>Flow_1lonipl</bpmn:incoming><bpmn:outgoing>Flow_1rfklty</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0jsois1\\" sourceRef=\\"Activity_0lec3q1\\" targetRef=\\"Gateway_07jvh00\\" /><bpmn:sequenceFlow id=\\"Flow_1rfklty\\" sourceRef=\\"Gateway_07jvh00\\" targetRef=\\"Activity_1glb6s4\\" /><bpmn:exclusiveGateway id=\\"Gateway_09clfye\\"><bpmn:incoming>Flow_04mhucw</bpmn:incoming><bpmn:outgoing>Flow_1n5125o</bpmn:outgoing><bpmn:outgoing>Flow_1lonipl</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_04mhucw\\" sourceRef=\\"Activity_1glb6s4\\" targetRef=\\"Gateway_09clfye\\" /><bpmn:endEvent id=\\"Event_17frfgx\\"><bpmn:incoming>Flow_1n5125o</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_1n5125o\\" sourceRef=\\"Gateway_09clfye\\" targetRef=\\"Event_17frfgx\\" /><bpmn:sequenceFlow id=\\"Flow_1lonipl\\" sourceRef=\\"Gateway_09clfye\\" targetRef=\\"Gateway_07jvh00\\" /><bpmn:callActivity id=\\"Activity_0lec3q1\\" name=\\"&#60;&#60;problem Discovery&#62;&#62;\\"><bpmn:incoming>Flow_0twjksb</bpmn:incoming><bpmn:outgoing>Flow_0jsois1</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646721496</bmdl:_id><bmdl:name>problemDiscovery</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1glb6s4\\" name=\\"&#60;&#60;customer Discovery&#62;&#62;\\"><bpmn:incoming>Flow_1rfklty</bpmn:incoming><bpmn:outgoing>Flow_04mhucw</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646706099</bmdl:_id><bmdl:name>customerDiscovery</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1lonipl_di\\" bpmnElement=\\"Flow_1lonipl\\"><di:waypoint x=\\"700\\" y=\\"95\\" /><di:waypoint x=\\"700\\" y=\\"30\\" /><di:waypoint x=\\"440\\" y=\\"30\\" /><di:waypoint x=\\"440\\" y=\\"95\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1n5125o_di\\" bpmnElement=\\"Flow_1n5125o\\"><di:waypoint x=\\"725\\" y=\\"120\\" /><di:waypoint x=\\"782\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_04mhucw_di\\" bpmnElement=\\"Flow_04mhucw\\"><di:waypoint x=\\"620\\" y=\\"120\\" /><di:waypoint x=\\"675\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1rfklty_di\\" bpmnElement=\\"Flow_1rfklty\\"><di:waypoint x=\\"465\\" y=\\"120\\" /><di:waypoint x=\\"520\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0jsois1_di\\" bpmnElement=\\"Flow_0jsois1\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"415\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0twjksb_di\\" bpmnElement=\\"Flow_0twjksb\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_07jvh00_di\\" bpmnElement=\\"Gateway_07jvh00\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"415\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_09clfye_di\\" bpmnElement=\\"Gateway_09clfye\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"675\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_17frfgx_di\\" bpmnElement=\\"Event_17frfgx\\"><dc:Bounds x=\\"782\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_14qil8m_di\\" bpmnElement=\\"Activity_0lec3q1\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1xv7254_di\\" bpmnElement=\\"Activity_1glb6s4\\"><dc:Bounds x=\\"520\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"discovery"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647593804","_rev":"1-7136b18eb09b47a26901e585ce04d126","list":"Phase","name":"customerValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}}],"_id":"1615894075899"},{"type":"ProcessPattern","name":"Customer Light Discovery Pattern","description":"The pattern allows the light discovery of the customers if the segment is already quite clear.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0mno57r</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_0mno57r\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_08x5kem\\" /><bpmn:endEvent id=\\"Event_1dwc5cr\\"><bpmn:incoming>Flow_03zya08</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_03zya08\\" sourceRef=\\"Activity_08x5kem\\" targetRef=\\"Event_1dwc5cr\\" /><bpmn:callActivity id=\\"Activity_08x5kem\\" name=\\"&#60;&#60;customer Identification&#62;&#62;\\"><bpmn:incoming>Flow_0mno57r</bpmn:incoming><bpmn:outgoing>Flow_03zya08</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646712401</bmdl:_id><bmdl:name>customerIdentification</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_03zya08_di\\" bpmnElement=\\"Flow_03zya08\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"412\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0mno57r_di\\" bpmnElement=\\"Flow_0mno57r\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1dwc5cr_di\\" bpmnElement=\\"Event_1dwc5cr\\"><dc:Bounds x=\\"412\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0opijtv_di\\" bpmnElement=\\"Activity_08x5kem\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"discovery","element":{"type":"Type","_id":"1615646706099","_rev":"1-aab69dea7376030a1badb0c7161a1653","list":"discovery","name":"customerDiscovery","description":null}}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647593804","_rev":"1-7136b18eb09b47a26901e585ce04d126","list":"Phase","name":"customerValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Customer","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647539973","_rev":"1-5462faf90915eceaf5d00090298f70c8","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false},"value":"uniform"}}],"_id":"1615894206746"},{"type":"ProcessPattern","name":"Customer Deep Discovery Pattern","description":"","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_10tcvzd</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_10tcvzd\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_1micivi\\" /><bpmn:endEvent id=\\"Event_048ouxd\\"><bpmn:incoming>Flow_1dyo0t3</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0le225j\\" sourceRef=\\"Activity_1micivi\\" targetRef=\\"Activity_1hhar91\\" /><bpmn:callActivity id=\\"Activity_1micivi\\" name=\\"&#60;&#60;customer Identification&#62;&#62;\\"><bpmn:incoming>Flow_10tcvzd</bpmn:incoming><bpmn:outgoing>Flow_0le225j</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646712401</bmdl:_id><bmdl:name>customerIdentification</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_1dyo0t3\\" sourceRef=\\"Activity_1hhar91\\" targetRef=\\"Event_048ouxd\\" /><bpmn:callActivity id=\\"Activity_1hhar91\\" name=\\"&#60;&#60;customerAnalysis&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_0le225j</bpmn:incoming><bpmn:outgoing>Flow_1dyo0t3</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646717278</bmdl:_id><bmdl:name>customerAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1dyo0t3_di\\" bpmnElement=\\"Flow_1dyo0t3\\"><di:waypoint x=\\"510\\" y=\\"120\\" /><di:waypoint x=\\"552\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0le225j_di\\" bpmnElement=\\"Flow_0le225j\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"410\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_10tcvzd_di\\" bpmnElement=\\"Flow_10tcvzd\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_048ouxd_di\\" bpmnElement=\\"Event_048ouxd\\"><dc:Bounds x=\\"552\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1erkkod_di\\" bpmnElement=\\"Activity_1micivi\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0hvuh9x_di\\" bpmnElement=\\"Activity_1hhar91\\"><dc:Bounds x=\\"410\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"discovery","element":{"type":"Type","_id":"1615646706099","_rev":"1-aab69dea7376030a1badb0c7161a1653","list":"discovery","name":"customerDiscovery","description":null}}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647593804","_rev":"1-7136b18eb09b47a26901e585ce04d126","list":"Phase","name":"customerValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Customer","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647539973","_rev":"1-5462faf90915eceaf5d00090298f70c8","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false},"value":"divers"}}],"_id":"1615894388956"},{"type":"ProcessPattern","name":"Problem Light Discovery Pattern","description":"The pattern allows the light discovery of the problem based on existing resources.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_06xfn93</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_06xfn93\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_002jdat\\" /><bpmn:endEvent id=\\"Event_00lzf0i\\"><bpmn:incoming>Flow_1a5mnkb</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_1a5mnkb\\" sourceRef=\\"Activity_002jdat\\" targetRef=\\"Event_00lzf0i\\" /><bpmn:callActivity id=\\"Activity_002jdat\\" name=\\"&#60;&#60;problem Identification&#62;&#62;\\"><bpmn:incoming>Flow_06xfn93</bpmn:incoming><bpmn:outgoing>Flow_1a5mnkb</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646726406</bmdl:_id><bmdl:name>problemIdentification</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1a5mnkb_di\\" bpmnElement=\\"Flow_1a5mnkb\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"412\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_06xfn93_di\\" bpmnElement=\\"Flow_06xfn93\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_00lzf0i_di\\" bpmnElement=\\"Event_00lzf0i\\"><dc:Bounds x=\\"412\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1whctzh_di\\" bpmnElement=\\"Activity_002jdat\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"discovery","element":{"type":"Type","_id":"1615646721496","_rev":"1-2c07d9dd6dc3ca8f1d04c3631bfc55ec","list":"discovery","name":"problemDiscovery","description":null}}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647588013","_rev":"1-e71109eb7939c04f5782f80896d3f3a2","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}}],"_id":"1615894494106"},{"type":"ProcessPattern","name":"Problem Deep Discovery Pattern","description":"The pattern allows a deep discovery of the problem by generating new insights from the customer.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0uioi1l</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_0uioi1l\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_1eur6ox\\" /><bpmn:sequenceFlow id=\\"Flow_11k9xb2\\" sourceRef=\\"Activity_1eur6ox\\" targetRef=\\"Activity_1r51kvr\\" /><bpmn:endEvent id=\\"Event_0aebfpi\\"><bpmn:incoming>Flow_0wb9u6c</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0wb9u6c\\" sourceRef=\\"Activity_1r51kvr\\" targetRef=\\"Event_0aebfpi\\" /><bpmn:callActivity id=\\"Activity_1r51kvr\\" name=\\"&#60;&#60;problem Analysis&#62;&#62;\\"><bpmn:incoming>Flow_11k9xb2</bpmn:incoming><bpmn:outgoing>Flow_0wb9u6c</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646731492</bmdl:_id><bmdl:name>problemAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1eur6ox\\" name=\\"&#60;&#60;problem Identification&#62;&#62;\\"><bpmn:incoming>Flow_0uioi1l</bpmn:incoming><bpmn:outgoing>Flow_11k9xb2</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646726406</bmdl:_id><bmdl:name>problemIdentification</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0wb9u6c_di\\" bpmnElement=\\"Flow_0wb9u6c\\"><di:waypoint x=\\"520\\" y=\\"120\\" /><di:waypoint x=\\"582\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_11k9xb2_di\\" bpmnElement=\\"Flow_11k9xb2\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"420\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0uioi1l_di\\" bpmnElement=\\"Flow_0uioi1l\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0aebfpi_di\\" bpmnElement=\\"Event_0aebfpi\\"><dc:Bounds x=\\"582\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1pgamr3_di\\" bpmnElement=\\"Activity_1r51kvr\\"><dc:Bounds x=\\"420\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1c8g2p4_di\\" bpmnElement=\\"Activity_1eur6ox\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"discovery","element":{"type":"Type","_id":"1615646721496","_rev":"1-2c07d9dd6dc3ca8f1d04c3631bfc55ec","list":"discovery","name":"problemDiscovery","description":null}}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647588013","_rev":"1-e71109eb7939c04f5782f80896d3f3a2","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"_id":"1615894574811"},{"type":"ProcessPattern","name":"Analysis Pattern","description":"The pattern allows the structuring of the analysis phase in the steps of the market analysis and the competitor analysis.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_1oevy09</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_1oevy09\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_0h8izyq\\" /><bpmn:sequenceFlow id=\\"Flow_1s6glx7\\" sourceRef=\\"Activity_0h8izyq\\" targetRef=\\"Activity_19wu1q3\\" /><bpmn:endEvent id=\\"Event_0iv60p2\\"><bpmn:incoming>Flow_182sgp0</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_182sgp0\\" sourceRef=\\"Activity_19wu1q3\\" targetRef=\\"Event_0iv60p2\\" /><bpmn:callActivity id=\\"Activity_0h8izyq\\" name=\\"&#60;&#60;market Analysis&#62;&#62;\\"><bpmn:incoming>Flow_1oevy09</bpmn:incoming><bpmn:outgoing>Flow_1s6glx7</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list><bmdl:methodElement><bmdl:_id>1615646742307</bmdl:_id><bmdl:name>marketAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_19wu1q3\\" name=\\"&#60;&#60;competitor Analysis&#62;&#62;\\"><bpmn:incoming>Flow_1s6glx7</bpmn:incoming><bpmn:outgoing>Flow_182sgp0</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list><bmdl:methodElement><bmdl:_id>1615646746173</bmdl:_id><bmdl:name>competitorAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_182sgp0_di\\" bpmnElement=\\"Flow_182sgp0\\"><di:waypoint x=\\"520\\" y=\\"120\\" /><di:waypoint x=\\"582\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1s6glx7_di\\" bpmnElement=\\"Flow_1s6glx7\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"420\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1oevy09_di\\" bpmnElement=\\"Flow_1oevy09\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0iv60p2_di\\" bpmnElement=\\"Event_0iv60p2\\"><dc:Bounds x=\\"582\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_19324kb_di\\" bpmnElement=\\"Activity_0h8izyq\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1x1lqpt_di\\" bpmnElement=\\"Activity_19wu1q3\\"><dc:Bounds x=\\"420\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"analysis"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"niche"}}],"_id":"1615894670769"},{"type":"ProcessPattern","name":"Analysis Sharping Pattern","description":"The pattern allows the structuring of the analysis phase in the steps of the market analysis and the competitor analysis. Moreover, it allows a sharping of the problem and the target group after both analyses.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0fh5mkb</bpmn:outgoing></bpmn:startEvent><bpmn:exclusiveGateway id=\\"Gateway_1qyrmon\\"><bpmn:incoming>Flow_0fh5mkb</bpmn:incoming><bpmn:incoming>Flow_0yl33xn</bpmn:incoming><bpmn:outgoing>Flow_1ork9ro</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0fh5mkb\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Gateway_1qyrmon\\" /><bpmn:sequenceFlow id=\\"Flow_1ork9ro\\" sourceRef=\\"Gateway_1qyrmon\\" targetRef=\\"Activity_1lo6dig\\" /><bpmn:exclusiveGateway id=\\"Gateway_00w1sae\\"><bpmn:incoming>Flow_0z5482m</bpmn:incoming><bpmn:incoming>Flow_1dhigwq</bpmn:incoming><bpmn:outgoing>Flow_13fcdnn</bpmn:outgoing><bpmn:outgoing>Flow_0yl33xn</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0z5482m\\" sourceRef=\\"Activity_1lo6dig\\" targetRef=\\"Gateway_00w1sae\\" /><bpmn:sequenceFlow id=\\"Flow_13fcdnn\\" sourceRef=\\"Gateway_00w1sae\\" targetRef=\\"Activity_0zcaqx9\\" /><bpmn:exclusiveGateway id=\\"Gateway_17pamuo\\"><bpmn:incoming>Flow_1wpv93m</bpmn:incoming><bpmn:incoming>Flow_0j30a94</bpmn:incoming><bpmn:outgoing>Flow_1ljxg2p</bpmn:outgoing><bpmn:outgoing>Flow_1dhigwq</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1wpv93m\\" sourceRef=\\"Activity_0zcaqx9\\" targetRef=\\"Gateway_17pamuo\\" /><bpmn:sequenceFlow id=\\"Flow_1ljxg2p\\" sourceRef=\\"Gateway_17pamuo\\" targetRef=\\"Activity_07y26sn\\" /><bpmn:exclusiveGateway id=\\"Gateway_0jowr4k\\"><bpmn:incoming>Flow_1hieu28</bpmn:incoming><bpmn:outgoing>Flow_01xs3rg</bpmn:outgoing><bpmn:outgoing>Flow_0j30a94</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1hieu28\\" sourceRef=\\"Activity_07y26sn\\" targetRef=\\"Gateway_0jowr4k\\" /><bpmn:endEvent id=\\"Event_13lnj3n\\"><bpmn:incoming>Flow_01xs3rg</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_01xs3rg\\" sourceRef=\\"Gateway_0jowr4k\\" targetRef=\\"Event_13lnj3n\\" /><bpmn:sequenceFlow id=\\"Flow_0yl33xn\\" sourceRef=\\"Gateway_00w1sae\\" targetRef=\\"Gateway_1qyrmon\\" /><bpmn:sequenceFlow id=\\"Flow_1dhigwq\\" sourceRef=\\"Gateway_17pamuo\\" targetRef=\\"Gateway_00w1sae\\" /><bpmn:sequenceFlow id=\\"Flow_0j30a94\\" sourceRef=\\"Gateway_0jowr4k\\" targetRef=\\"Gateway_17pamuo\\" /><bpmn:callActivity id=\\"Activity_1lo6dig\\" name=\\"&#60;&#60;market Analysis&#62;&#62;\\"><bpmn:incoming>Flow_1ork9ro</bpmn:incoming><bpmn:outgoing>Flow_0z5482m</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list><bmdl:methodElement><bmdl:_id>1615646742307</bmdl:_id><bmdl:name>marketAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_0zcaqx9\\" name=\\"&#60;&#60;competitor Analysis&#62;&#62;\\"><bpmn:incoming>Flow_13fcdnn</bpmn:incoming><bpmn:outgoing>Flow_1wpv93m</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list><bmdl:methodElement><bmdl:_id>1615646746173</bmdl:_id><bmdl:name>competitorAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_07y26sn\\" name=\\"&#60;&#60;niche Analysis&#62;&#62;\\"><bpmn:incoming>Flow_1ljxg2p</bpmn:incoming><bpmn:outgoing>Flow_1hieu28</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list><bmdl:methodElement><bmdl:_id>1615646750064</bmdl:_id><bmdl:name>nicheAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0j30a94_di\\" bpmnElement=\\"Flow_0j30a94\\"><di:waypoint x=\\"1130\\" y=\\"95\\" /><di:waypoint x=\\"1130\\" y=\\"40\\" /><di:waypoint x=\\"850\\" y=\\"40\\" /><di:waypoint x=\\"850\\" y=\\"95\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1dhigwq_di\\" bpmnElement=\\"Flow_1dhigwq\\"><di:waypoint x=\\"850\\" y=\\"145\\" /><di:waypoint x=\\"850\\" y=\\"210\\" /><di:waypoint x=\\"570\\" y=\\"210\\" /><di:waypoint x=\\"570\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0yl33xn_di\\" bpmnElement=\\"Flow_0yl33xn\\"><di:waypoint x=\\"570\\" y=\\"95\\" /><di:waypoint x=\\"570\\" y=\\"40\\" /><di:waypoint x=\\"290\\" y=\\"40\\" /><di:waypoint x=\\"290\\" y=\\"95\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01xs3rg_di\\" bpmnElement=\\"Flow_01xs3rg\\"><di:waypoint x=\\"1155\\" y=\\"120\\" /><di:waypoint x=\\"1222\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1hieu28_di\\" bpmnElement=\\"Flow_1hieu28\\"><di:waypoint x=\\"1040\\" y=\\"120\\" /><di:waypoint x=\\"1105\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ljxg2p_di\\" bpmnElement=\\"Flow_1ljxg2p\\"><di:waypoint x=\\"875\\" y=\\"120\\" /><di:waypoint x=\\"940\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1wpv93m_di\\" bpmnElement=\\"Flow_1wpv93m\\"><di:waypoint x=\\"760\\" y=\\"120\\" /><di:waypoint x=\\"825\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13fcdnn_di\\" bpmnElement=\\"Flow_13fcdnn\\"><di:waypoint x=\\"595\\" y=\\"120\\" /><di:waypoint x=\\"660\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0z5482m_di\\" bpmnElement=\\"Flow_0z5482m\\"><di:waypoint x=\\"480\\" y=\\"120\\" /><di:waypoint x=\\"545\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ork9ro_di\\" bpmnElement=\\"Flow_1ork9ro\\"><di:waypoint x=\\"315\\" y=\\"120\\" /><di:waypoint x=\\"380\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0fh5mkb_di\\" bpmnElement=\\"Flow_0fh5mkb\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"265\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1qyrmon_di\\" bpmnElement=\\"Gateway_1qyrmon\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"265\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_00w1sae_di\\" bpmnElement=\\"Gateway_00w1sae\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"545\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_17pamuo_di\\" bpmnElement=\\"Gateway_17pamuo\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"825\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0jowr4k_di\\" bpmnElement=\\"Gateway_0jowr4k\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1105\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_13lnj3n_di\\" bpmnElement=\\"Event_13lnj3n\\"><dc:Bounds x=\\"1222\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_15wrily_di\\" bpmnElement=\\"Activity_1lo6dig\\"><dc:Bounds x=\\"380\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0io3yax_di\\" bpmnElement=\\"Activity_0zcaqx9\\"><dc:Bounds x=\\"660\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0yawnx0_di\\" bpmnElement=\\"Activity_07y26sn\\"><dc:Bounds x=\\"940\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"analysis"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"mass"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647588013","_rev":"1-e71109eb7939c04f5782f80896d3f3a2","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}}],"_id":"1615900986023"},{"type":"ProcessPattern","name":"Design Pattern","description":"The pattern allows the simple design of a feature set and a corresponding business model for a mobile application. It should be used for the development of business models for simple apps with fewer uncertainties in the problem and the target group.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_1jxinid</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_1jxinid\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Gateway_1sltsmq\\" /><bpmn:parallelGateway id=\\"Gateway_1sltsmq\\"><bpmn:incoming>Flow_1jxinid</bpmn:incoming><bpmn:outgoing>Flow_1bdeuty</bpmn:outgoing><bpmn:outgoing>Flow_14l5o3z</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id=\\"Flow_1bdeuty\\" sourceRef=\\"Gateway_1sltsmq\\" targetRef=\\"Activity_05kgeud\\" /><bpmn:sequenceFlow id=\\"Flow_14l5o3z\\" sourceRef=\\"Gateway_1sltsmq\\" targetRef=\\"Activity_0mavzzb\\" /><bpmn:sequenceFlow id=\\"Flow_1h223gp\\" sourceRef=\\"Activity_05kgeud\\" targetRef=\\"Gateway_16hxjyy\\" /><bpmn:parallelGateway id=\\"Gateway_16hxjyy\\"><bpmn:incoming>Flow_1h223gp</bpmn:incoming><bpmn:incoming>Flow_01g80vy</bpmn:incoming><bpmn:outgoing>Flow_0rwn9f2</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id=\\"Flow_01g80vy\\" sourceRef=\\"Activity_0mavzzb\\" targetRef=\\"Gateway_16hxjyy\\" /><bpmn:endEvent id=\\"Event_03x79d0\\"><bpmn:incoming>Flow_0rwn9f2</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0rwn9f2\\" sourceRef=\\"Gateway_16hxjyy\\" targetRef=\\"Event_03x79d0\\" /><bpmn:callActivity id=\\"Activity_05kgeud\\" name=\\"&#60;&#60;feature Design&#62;&#62;\\"><bpmn:incoming>Flow_1bdeuty</bpmn:incoming><bpmn:outgoing>Flow_1h223gp</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646771090</bmdl:_id><bmdl:name>featureDesign</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_0mavzzb\\" name=\\"&#60;&#60;business Design&#62;&#62;\\"><bpmn:incoming>Flow_14l5o3z</bpmn:incoming><bpmn:outgoing>Flow_01g80vy</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646777512</bmdl:_id><bmdl:name>businessDesign</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0rwn9f2_di\\" bpmnElement=\\"Flow_0rwn9f2\\"><di:waypoint x=\\"595\\" y=\\"120\\" /><di:waypoint x=\\"662\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01g80vy_di\\" bpmnElement=\\"Flow_01g80vy\\"><di:waypoint x=\\"480\\" y=\\"230\\" /><di:waypoint x=\\"570\\" y=\\"230\\" /><di:waypoint x=\\"570\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1h223gp_di\\" bpmnElement=\\"Flow_1h223gp\\"><di:waypoint x=\\"480\\" y=\\"120\\" /><di:waypoint x=\\"545\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_14l5o3z_di\\" bpmnElement=\\"Flow_14l5o3z\\"><di:waypoint x=\\"290\\" y=\\"145\\" /><di:waypoint x=\\"290\\" y=\\"230\\" /><di:waypoint x=\\"380\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1bdeuty_di\\" bpmnElement=\\"Flow_1bdeuty\\"><di:waypoint x=\\"315\\" y=\\"120\\" /><di:waypoint x=\\"380\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1jxinid_di\\" bpmnElement=\\"Flow_1jxinid\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"265\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1rm6pfp_di\\" bpmnElement=\\"Gateway_1sltsmq\\"><dc:Bounds x=\\"265\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0qv9e2n_di\\" bpmnElement=\\"Gateway_16hxjyy\\"><dc:Bounds x=\\"545\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_03x79d0_di\\" bpmnElement=\\"Event_03x79d0\\"><dc:Bounds x=\\"662\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0w7657c_di\\" bpmnElement=\\"Activity_05kgeud\\"><dc:Bounds x=\\"380\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1eakmhg_di\\" bpmnElement=\\"Activity_0mavzzb\\"><dc:Bounds x=\\"380\\" y=\\"190\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"design"}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"_id":"1615901159055"},{"type":"ProcessPattern","name":"Design Enhancement Pattern","description":"The pattern allows the design of a feature set and a corresponding business model for a mobile application. It should be used for complex apps with uncertainties in the target group.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_00xbqbc</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_00xbqbc\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Gateway_0xj6bmj\\" /><bpmn:parallelGateway id=\\"Gateway_0xj6bmj\\"><bpmn:incoming>Flow_00xbqbc</bpmn:incoming><bpmn:outgoing>Flow_11ze7hb</bpmn:outgoing><bpmn:outgoing>Flow_0p2h057</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id=\\"Flow_11ze7hb\\" sourceRef=\\"Gateway_0xj6bmj\\" targetRef=\\"Activity_1rbjk2h\\" /><bpmn:sequenceFlow id=\\"Flow_0yhdvbc\\" sourceRef=\\"Activity_1rbjk2h\\" targetRef=\\"Gateway_17u81e7\\" /><bpmn:parallelGateway id=\\"Gateway_17u81e7\\"><bpmn:incoming>Flow_0yhdvbc</bpmn:incoming><bpmn:incoming>Flow_0mx4i1w</bpmn:incoming><bpmn:outgoing>Flow_1xfoshz</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id=\\"Flow_0p2h057\\" sourceRef=\\"Gateway_0xj6bmj\\" targetRef=\\"Activity_1qe9qmj\\" /><bpmn:sequenceFlow id=\\"Flow_0mx4i1w\\" sourceRef=\\"Activity_1qe9qmj\\" targetRef=\\"Gateway_17u81e7\\" /><bpmn:sequenceFlow id=\\"Flow_1xfoshz\\" sourceRef=\\"Gateway_17u81e7\\" targetRef=\\"Activity_0tlzxc3\\" /><bpmn:endEvent id=\\"Event_13tjz72\\"><bpmn:incoming>Flow_00rzgi8</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_00rzgi8\\" sourceRef=\\"Activity_0tlzxc3\\" targetRef=\\"Event_13tjz72\\" /><bpmn:callActivity id=\\"Activity_1rbjk2h\\" name=\\"&#60;&#60;feature Design&#62;&#62;\\"><bpmn:incoming>Flow_11ze7hb</bpmn:incoming><bpmn:outgoing>Flow_0yhdvbc</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646771090</bmdl:_id><bmdl:name>featureDesign</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1qe9qmj\\" name=\\"&#60;&#60;business Design&#62;&#62;\\"><bpmn:incoming>Flow_0p2h057</bpmn:incoming><bpmn:outgoing>Flow_0mx4i1w</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646777512</bmdl:_id><bmdl:name>businessDesign</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_0tlzxc3\\" name=\\"&#60;&#60;enhancement Design&#62;&#62;\\"><bpmn:incoming>Flow_1xfoshz</bpmn:incoming><bpmn:outgoing>Flow_00rzgi8</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646810172</bmdl:_id><bmdl:name>enhancementDesign</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_00rzgi8_di\\" bpmnElement=\\"Flow_00rzgi8\\"><di:waypoint x=\\"760\\" y=\\"120\\" /><di:waypoint x=\\"832\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1xfoshz_di\\" bpmnElement=\\"Flow_1xfoshz\\"><di:waypoint x=\\"595\\" y=\\"120\\" /><di:waypoint x=\\"660\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0mx4i1w_di\\" bpmnElement=\\"Flow_0mx4i1w\\"><di:waypoint x=\\"480\\" y=\\"230\\" /><di:waypoint x=\\"570\\" y=\\"230\\" /><di:waypoint x=\\"570\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0p2h057_di\\" bpmnElement=\\"Flow_0p2h057\\"><di:waypoint x=\\"290\\" y=\\"145\\" /><di:waypoint x=\\"290\\" y=\\"230\\" /><di:waypoint x=\\"380\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0yhdvbc_di\\" bpmnElement=\\"Flow_0yhdvbc\\"><di:waypoint x=\\"480\\" y=\\"120\\" /><di:waypoint x=\\"545\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_11ze7hb_di\\" bpmnElement=\\"Flow_11ze7hb\\"><di:waypoint x=\\"315\\" y=\\"120\\" /><di:waypoint x=\\"380\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_00xbqbc_di\\" bpmnElement=\\"Flow_00xbqbc\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"265\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1du7de4_di\\" bpmnElement=\\"Gateway_0xj6bmj\\"><dc:Bounds x=\\"265\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_03yioyo_di\\" bpmnElement=\\"Gateway_17u81e7\\"><dc:Bounds x=\\"545\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_13tjz72_di\\" bpmnElement=\\"Event_13tjz72\\"><dc:Bounds x=\\"832\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_10yhspt_di\\" bpmnElement=\\"Activity_1rbjk2h\\"><dc:Bounds x=\\"380\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1dyvct3_di\\" bpmnElement=\\"Activity_1qe9qmj\\"><dc:Bounds x=\\"380\\" y=\\"190\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0szlb27_di\\" bpmnElement=\\"Activity_0tlzxc3\\"><dc:Bounds x=\\"660\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"design"}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}}],"_id":"1615901323027"},{"type":"ProcessPattern","name":"Canvas Development Pattern","description":"The pattern allows the creation of a business model and a value proposition. It should be used by business developers who are familiar with canvas models.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_06yh3b6</bpmn:outgoing></bpmn:startEvent><bpmn:task id=\\"Activity_0cgh3cv\\" name=\\"&#60;&#60;vpDesign&#62;&#62;\\"><bpmn:incoming>Flow_06yh3b6</bpmn:incoming><bpmn:outgoing>Flow_1fajuas</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646781917</bmdl:_id><bmdl:name>vpDesign</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_06yh3b6\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_0cgh3cv\\" /><bpmn:task id=\\"Activity_1te8amf\\" name=\\"&#60;&#60;bmDesign&#62;&#62;\\"><bpmn:incoming>Flow_1fajuas</bpmn:incoming><bpmn:outgoing>Flow_0v5l1ph</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646785987</bmdl:_id><bmdl:name>bmDesign</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_1fajuas\\" sourceRef=\\"Activity_0cgh3cv\\" targetRef=\\"Activity_1te8amf\\" /><bpmn:endEvent id=\\"Event_1xfgbpe\\"><bpmn:incoming>Flow_0v5l1ph</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0v5l1ph\\" sourceRef=\\"Activity_1te8amf\\" targetRef=\\"Event_1xfgbpe\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0v5l1ph_di\\" bpmnElement=\\"Flow_0v5l1ph\\"><di:waypoint x=\\"520\\" y=\\"120\\" /><di:waypoint x=\\"582\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1fajuas_di\\" bpmnElement=\\"Flow_1fajuas\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"420\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_06yh3b6_di\\" bpmnElement=\\"Flow_06yh3b6\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0cgh3cv_di\\" bpmnElement=\\"Activity_0cgh3cv\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1te8amf_di\\" bpmnElement=\\"Activity_1te8amf\\"><dc:Bounds x=\\"420\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1xfgbpe_di\\" bpmnElement=\\"Event_1xfgbpe\\"><dc:Bounds x=\\"582\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"design","element":{"type":"Type","_id":"1615646777512","_rev":"1-046d702c0f482c1fb2f42877ab3841a2","list":"design","name":"businessDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"_id":"1615901486472"},{"type":"ProcessPattern","name":"Strategy Identification Pattern","description":"The pattern allows the creation of a business model and a value proposition. It should be used by business developers who are not familiar with canvas models.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_1sub7fv</bpmn:outgoing></bpmn:startEvent><bpmn:task id=\\"Activity_1k8vk98\\" name=\\"&#60;&#60;usp Design&#62;&#62;\\"><bpmn:incoming>Flow_1sub7fv</bpmn:incoming><bpmn:outgoing>Flow_12kvv4s</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646805954</bmdl:_id><bmdl:name>uspDesign</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_1sub7fv\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_1k8vk98\\" /><bpmn:task id=\\"Activity_1bjdcvd\\" name=\\"&#60;&#60;monetization Design&#62;&#62;\\"><bpmn:incoming>Flow_12kvv4s</bpmn:incoming><bpmn:outgoing>Flow_09pq54h</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646791921</bmdl:_id><bmdl:name>monetizationDesign</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_12kvv4s\\" sourceRef=\\"Activity_1k8vk98\\" targetRef=\\"Activity_1bjdcvd\\" /><bpmn:task id=\\"Activity_1nwr50m\\" name=\\"&#60;&#60;marketing Design&#62;&#62;\\"><bpmn:incoming>Flow_09pq54h</bpmn:incoming><bpmn:outgoing>Flow_0uvm3js</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646798975</bmdl:_id><bmdl:name>marketingDesign</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_09pq54h\\" sourceRef=\\"Activity_1bjdcvd\\" targetRef=\\"Activity_1nwr50m\\" /><bpmn:endEvent id=\\"Event_0vne6at\\"><bpmn:incoming>Flow_0uvm3js</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0uvm3js\\" sourceRef=\\"Activity_1nwr50m\\" targetRef=\\"Event_0vne6at\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0uvm3js_di\\" bpmnElement=\\"Flow_0uvm3js\\"><di:waypoint x=\\"680\\" y=\\"120\\" /><di:waypoint x=\\"742\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_09pq54h_di\\" bpmnElement=\\"Flow_09pq54h\\"><di:waypoint x=\\"520\\" y=\\"120\\" /><di:waypoint x=\\"580\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_12kvv4s_di\\" bpmnElement=\\"Flow_12kvv4s\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"420\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1sub7fv_di\\" bpmnElement=\\"Flow_1sub7fv\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1k8vk98_di\\" bpmnElement=\\"Activity_1k8vk98\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1bjdcvd_di\\" bpmnElement=\\"Activity_1bjdcvd\\"><dc:Bounds x=\\"420\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1nwr50m_di\\" bpmnElement=\\"Activity_1nwr50m\\"><dc:Bounds x=\\"580\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0vne6at_di\\" bpmnElement=\\"Event_0vne6at\\"><dc:Bounds x=\\"742\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"design","element":{"type":"Type","_id":"1615646777512","_rev":"1-046d702c0f482c1fb2f42877ab3841a2","list":"design","name":"businessDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"_id":"1615901579648"},{"type":"ProcessPattern","name":"Full Development Pattern","description":"The pattern allows the structured development of an app that covers all important aspects.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_1p87shh</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_1p87shh\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_06er2w4\\" /><bpmn:sequenceFlow id=\\"Flow_1u1o312\\" sourceRef=\\"Activity_06er2w4\\" targetRef=\\"Activity_1hfh26o\\" /><bpmn:task id=\\"Activity_04qsmvu\\" name=\\"&#60;&#60;product Development&#62;&#62;\\"><bpmn:incoming>Flow_16u33xd</bpmn:incoming><bpmn:outgoing>Flow_0tyy3zq</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646852543</bmdl:_id><bmdl:name>productDevelopment</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_16u33xd\\" sourceRef=\\"Activity_1hfh26o\\" targetRef=\\"Activity_04qsmvu\\" /><bpmn:endEvent id=\\"Event_0xf1uc8\\"><bpmn:incoming>Flow_0tyy3zq</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0tyy3zq\\" sourceRef=\\"Activity_04qsmvu\\" targetRef=\\"Event_0xf1uc8\\" /><bpmn:callActivity id=\\"Activity_06er2w4\\" name=\\"&#60;&#60;content Development&#62;&#62;\\"><bpmn:incoming>Flow_1p87shh</bpmn:incoming><bpmn:outgoing>Flow_1u1o312</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646827229</bmdl:_id><bmdl:name>contentDevelopment</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1hfh26o\\" name=\\"&#60;&#60;prototype Development&#62;&#62;\\"><bpmn:incoming>Flow_1u1o312</bpmn:incoming><bpmn:outgoing>Flow_16u33xd</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646840146</bmdl:_id><bmdl:name>prototypDevelopment</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0tyy3zq_di\\" bpmnElement=\\"Flow_0tyy3zq\\"><di:waypoint x=\\"680\\" y=\\"120\\" /><di:waypoint x=\\"742\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_16u33xd_di\\" bpmnElement=\\"Flow_16u33xd\\"><di:waypoint x=\\"520\\" y=\\"120\\" /><di:waypoint x=\\"580\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1u1o312_di\\" bpmnElement=\\"Flow_1u1o312\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"420\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1p87shh_di\\" bpmnElement=\\"Flow_1p87shh\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_04qsmvu_di\\" bpmnElement=\\"Activity_04qsmvu\\"><dc:Bounds x=\\"580\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0xf1uc8_di\\" bpmnElement=\\"Event_0xf1uc8\\"><dc:Bounds x=\\"742\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1tk41uj_di\\" bpmnElement=\\"Activity_06er2w4\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0w37w2x_di\\" bpmnElement=\\"Activity_1hfh26o\\"><dc:Bounds x=\\"420\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"develop"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647612778","_rev":"1-2250158af594bc2904e863e6e47b1526","list":"Phase","name":"productFeatureValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}}],"_id":"1615901672962"},{"type":"ProcessPattern","name":"Content Development Pattern","description":"The pattern allows the development and spread of content to test the potential acceptance in the market.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0k82zwt</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_0k82zwt\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_18rzqrf\\" /><bpmn:sequenceFlow id=\\"Flow_1gelb5p\\" sourceRef=\\"Activity_18rzqrf\\" targetRef=\\"Activity_1ufnqet\\" /><bpmn:endEvent id=\\"Event_17hrb8g\\"><bpmn:incoming>Flow_0p4t5gw</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0p4t5gw\\" sourceRef=\\"Activity_1ufnqet\\" targetRef=\\"Event_17hrb8g\\" /><bpmn:callActivity id=\\"Activity_18rzqrf\\" name=\\"&#60;&#60;create Content&#62;&#62;\\"><bpmn:incoming>Flow_0k82zwt</bpmn:incoming><bpmn:outgoing>Flow_1gelb5p</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646831373</bmdl:_id><bmdl:name>createContent</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1ufnqet\\" name=\\"&#60;&#60;spread Content&#62;&#62;\\"><bpmn:incoming>Flow_1gelb5p</bpmn:incoming><bpmn:outgoing>Flow_0p4t5gw</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646835744</bmdl:_id><bmdl:name>spreadContent</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0p4t5gw_di\\" bpmnElement=\\"Flow_0p4t5gw\\"><di:waypoint x=\\"520\\" y=\\"120\\" /><di:waypoint x=\\"582\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1gelb5p_di\\" bpmnElement=\\"Flow_1gelb5p\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"420\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0k82zwt_di\\" bpmnElement=\\"Flow_0k82zwt\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_17hrb8g_di\\" bpmnElement=\\"Event_17hrb8g\\"><dc:Bounds x=\\"582\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1nlbvry_di\\" bpmnElement=\\"Activity_18rzqrf\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_163bv1b_di\\" bpmnElement=\\"Activity_1ufnqet\\"><dc:Bounds x=\\"420\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"develop","element":{"type":"Type","_id":"1615646827229","_rev":"1-90e415ec9c311bca8d5d462d5d934feb","list":"develop","name":"contentDevelopment","description":null}}],"situationalFactors":[{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647612778","_rev":"1-2250158af594bc2904e863e6e47b1526","list":"Phase","name":"productFeatureValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}}],"_id":"1615901960846"},{"type":"ProcessPattern","name":"Marketing Development Pattern","description":"The pattern allows the parallel marketing of the app during the development phase. This ensures an existing brand in the market after the app has been developed.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0z98w3v</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_0z98w3v\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Gateway_1e12g7q\\" /><bpmn:sequenceFlow id=\\"Flow_1ugmk1o\\" sourceRef=\\"Gateway_1e12g7q\\" targetRef=\\"Activity_13r6wta\\" /><bpmn:sequenceFlow id=\\"Flow_00orxaj\\" sourceRef=\\"Gateway_1e12g7q\\" targetRef=\\"Activity_0r16vnq\\" /><bpmn:callActivity id=\\"Activity_13r6wta\\" name=\\"&#60;&#60;marketing Development&#62;&#62;\\"><bpmn:incoming>Flow_1ugmk1o</bpmn:incoming><bpmn:outgoing>Flow_061hkot</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646821909</bmdl:_id><bmdl:name>marketingDevelopment</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:callActivity id=\\"Activity_0r16vnq\\" name=\\"&#60;&#60;development&#62;&#62;\\"><bpmn:incoming>Flow_00orxaj</bpmn:incoming><bpmn:outgoing>Flow_0f8rqa6</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType></bpmn:callActivity><bpmn:parallelGateway id=\\"Gateway_1e12g7q\\"><bpmn:incoming>Flow_0z98w3v</bpmn:incoming><bpmn:outgoing>Flow_1ugmk1o</bpmn:outgoing><bpmn:outgoing>Flow_00orxaj</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id=\\"Flow_061hkot\\" sourceRef=\\"Activity_13r6wta\\" targetRef=\\"Gateway_0x4dvfp\\" /><bpmn:parallelGateway id=\\"Gateway_0x4dvfp\\"><bpmn:incoming>Flow_061hkot</bpmn:incoming><bpmn:incoming>Flow_0f8rqa6</bpmn:incoming><bpmn:outgoing>Flow_14ekf9r</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id=\\"Flow_0f8rqa6\\" sourceRef=\\"Activity_0r16vnq\\" targetRef=\\"Gateway_0x4dvfp\\" /><bpmn:endEvent id=\\"Event_0hg6lmp\\"><bpmn:incoming>Flow_14ekf9r</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_14ekf9r\\" sourceRef=\\"Gateway_0x4dvfp\\" targetRef=\\"Event_0hg6lmp\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_14ekf9r_di\\" bpmnElement=\\"Flow_14ekf9r\\"><di:waypoint x=\\"595\\" y=\\"120\\" /><di:waypoint x=\\"662\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0f8rqa6_di\\" bpmnElement=\\"Flow_0f8rqa6\\"><di:waypoint x=\\"480\\" y=\\"230\\" /><di:waypoint x=\\"570\\" y=\\"230\\" /><di:waypoint x=\\"570\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_061hkot_di\\" bpmnElement=\\"Flow_061hkot\\"><di:waypoint x=\\"480\\" y=\\"120\\" /><di:waypoint x=\\"545\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_00orxaj_di\\" bpmnElement=\\"Flow_00orxaj\\"><di:waypoint x=\\"290\\" y=\\"145\\" /><di:waypoint x=\\"290\\" y=\\"230\\" /><di:waypoint x=\\"380\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ugmk1o_di\\" bpmnElement=\\"Flow_1ugmk1o\\"><di:waypoint x=\\"315\\" y=\\"120\\" /><di:waypoint x=\\"380\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0z98w3v_di\\" bpmnElement=\\"Flow_0z98w3v\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"265\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1lg98hu_di\\" bpmnElement=\\"Activity_13r6wta\\"><dc:Bounds x=\\"380\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1mfpg03_di\\" bpmnElement=\\"Activity_0r16vnq\\"><dc:Bounds x=\\"380\\" y=\\"190\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0tlcyuq_di\\" bpmnElement=\\"Gateway_1e12g7q\\"><dc:Bounds x=\\"265\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_17uernz_di\\" bpmnElement=\\"Gateway_0x4dvfp\\"><dc:Bounds x=\\"545\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0hg6lmp_di\\" bpmnElement=\\"Event_0hg6lmp\\"><dc:Bounds x=\\"662\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"develop","element":{"type":"Type","_id":"1615646821909","_rev":"1-eb970209aa0991b60fe99e57a64454f6","list":"develop","name":"marketingDevelopment","description":null}}],"situationalFactors":[{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647612778","_rev":"1-2250158af594bc2904e863e6e47b1526","list":"Phase","name":"productFeatureValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}}],"_id":"1615902056644"},{"type":"ProcessPattern","name":"Product Development Pattern","description":"The pattern allows the development of the final product for the store. It ensures the platform\u2019s selection, financing, development, and publishing in the store.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0q8iplk</bpmn:outgoing></bpmn:startEvent><bpmn:task id=\\"Activity_1edrijb\\" name=\\"&#60;&#60;platform Selection&#62;&#62;\\"><bpmn:incoming>Flow_0q8iplk</bpmn:incoming><bpmn:outgoing>Flow_1io5uoi</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646844016</bmdl:_id><bmdl:name>platformSelection</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_0q8iplk\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_1edrijb\\" /><bpmn:task id=\\"Activity_1g0pfta\\" name=\\"&#60;&#60;financial Check&#62;&#62;\\"><bpmn:incoming>Flow_1io5uoi</bpmn:incoming><bpmn:outgoing>Flow_115rmuc</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646848359</bmdl:_id><bmdl:name>financialCheck</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_1io5uoi\\" sourceRef=\\"Activity_1edrijb\\" targetRef=\\"Activity_1g0pfta\\" /><bpmn:task id=\\"Activity_0wvgpad\\" name=\\"&#60;&#60;platform Development&#62;&#62;\\"><bpmn:incoming>Flow_115rmuc</bpmn:incoming><bpmn:outgoing>Flow_0wi5ycw</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_115rmuc\\" sourceRef=\\"Activity_1g0pfta\\" targetRef=\\"Activity_0wvgpad\\" /><bpmn:task id=\\"Activity_0kcusnn\\" name=\\"&#60;&#60;platform Publishing&#62;&#62;\\"><bpmn:incoming>Flow_0wi5ycw</bpmn:incoming><bpmn:outgoing>Flow_1sp95ey</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646856351</bmdl:_id><bmdl:name>platformPublishing</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:task><bpmn:sequenceFlow id=\\"Flow_0wi5ycw\\" sourceRef=\\"Activity_0wvgpad\\" targetRef=\\"Activity_0kcusnn\\" /><bpmn:endEvent id=\\"Event_12kt6j2\\"><bpmn:incoming>Flow_1sp95ey</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_1sp95ey\\" sourceRef=\\"Activity_0kcusnn\\" targetRef=\\"Event_12kt6j2\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1sp95ey_di\\" bpmnElement=\\"Flow_1sp95ey\\"><di:waypoint x=\\"840\\" y=\\"120\\" /><di:waypoint x=\\"902\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0wi5ycw_di\\" bpmnElement=\\"Flow_0wi5ycw\\"><di:waypoint x=\\"680\\" y=\\"120\\" /><di:waypoint x=\\"740\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_115rmuc_di\\" bpmnElement=\\"Flow_115rmuc\\"><di:waypoint x=\\"520\\" y=\\"120\\" /><di:waypoint x=\\"580\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1io5uoi_di\\" bpmnElement=\\"Flow_1io5uoi\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"420\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0q8iplk_di\\" bpmnElement=\\"Flow_0q8iplk\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1edrijb_di\\" bpmnElement=\\"Activity_1edrijb\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1g0pfta_di\\" bpmnElement=\\"Activity_1g0pfta\\"><dc:Bounds x=\\"420\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0wvgpad_di\\" bpmnElement=\\"Activity_0wvgpad\\"><dc:Bounds x=\\"580\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0kcusnn_di\\" bpmnElement=\\"Activity_0kcusnn\\"><dc:Bounds x=\\"740\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_12kt6j2_di\\" bpmnElement=\\"Event_12kt6j2\\"><dc:Bounds x=\\"902\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"develop","element":{"type":"Type","_id":"1615646852543","_rev":"1-95ce34c6609cc59fb750fe18b5766b88","list":"develop","name":"productDevelopment","description":null}}],"situationalFactors":[{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}}],"_id":"1615902160702"},{"type":"ProcessPattern","name":"Generic Parallelism Pattern","description":"The pattern allows the generic parallel creation of method building blocks.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" xmlns:bmdl=\\"http://localhost/schema/bmdl\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_02lt5jx</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_02lt5jx\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Gateway_1elyntr\\" /><bpmn:parallelGateway id=\\"Gateway_1elyntr\\"><bpmn:incoming>Flow_02lt5jx</bpmn:incoming><bpmn:outgoing>Flow_1ga9lx3</bpmn:outgoing><bpmn:outgoing>Flow_0vucjs2</bpmn:outgoing></bpmn:parallelGateway><bpmn:sequenceFlow id=\\"Flow_1ga9lx3\\" sourceRef=\\"Gateway_1elyntr\\" targetRef=\\"Activity_0r6nbda\\" /><bpmn:sequenceFlow id=\\"Flow_0vucjs2\\" sourceRef=\\"Gateway_1elyntr\\" targetRef=\\"Activity_1dah4ly\\" /><bpmn:sequenceFlow id=\\"Flow_05fk023\\" sourceRef=\\"Activity_0r6nbda\\" targetRef=\\"Gateway_0kvyq9x\\" /><bpmn:parallelGateway id=\\"Gateway_0kvyq9x\\"><bpmn:incoming>Flow_05fk023</bpmn:incoming><bpmn:incoming>Flow_155pkgy</bpmn:incoming><bpmn:outgoing>Flow_13gx7u5</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_1i06277\\"><bpmn:incoming>Flow_13gx7u5</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_13gx7u5\\" sourceRef=\\"Gateway_0kvyq9x\\" targetRef=\\"Event_1i06277\\" /><bpmn:sequenceFlow id=\\"Flow_155pkgy\\" sourceRef=\\"Activity_1dah4ly\\" targetRef=\\"Gateway_0kvyq9x\\" /><bpmn:callActivity id=\\"Activity_0r6nbda\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1ga9lx3</bpmn:incoming><bpmn:outgoing>Flow_05fk023</bpmn:outgoing></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1dah4ly\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0vucjs2</bpmn:incoming><bpmn:outgoing>Flow_155pkgy</bpmn:outgoing></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_155pkgy_di\\" bpmnElement=\\"Flow_155pkgy\\"><di:waypoint x=\\"480\\" y=\\"230\\" /><di:waypoint x=\\"570\\" y=\\"230\\" /><di:waypoint x=\\"570\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13gx7u5_di\\" bpmnElement=\\"Flow_13gx7u5\\"><di:waypoint x=\\"595\\" y=\\"120\\" /><di:waypoint x=\\"662\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_05fk023_di\\" bpmnElement=\\"Flow_05fk023\\"><di:waypoint x=\\"480\\" y=\\"120\\" /><di:waypoint x=\\"545\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0vucjs2_di\\" bpmnElement=\\"Flow_0vucjs2\\"><di:waypoint x=\\"290\\" y=\\"145\\" /><di:waypoint x=\\"290\\" y=\\"230\\" /><di:waypoint x=\\"380\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ga9lx3_di\\" bpmnElement=\\"Flow_1ga9lx3\\"><di:waypoint x=\\"315\\" y=\\"120\\" /><di:waypoint x=\\"380\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02lt5jx_di\\" bpmnElement=\\"Flow_02lt5jx\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"265\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0l05w69_di\\" bpmnElement=\\"Gateway_1elyntr\\"><dc:Bounds x=\\"265\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_05cum6n_di\\" bpmnElement=\\"Gateway_0kvyq9x\\"><dc:Bounds x=\\"545\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1i06277_di\\" bpmnElement=\\"Event_1i06277\\"><dc:Bounds x=\\"662\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1gwlwrs_di\\" bpmnElement=\\"Activity_0r6nbda\\"><dc:Bounds x=\\"380\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_13zz5na_di\\" bpmnElement=\\"Activity_1dah4ly\\"><dc:Bounds x=\\"380\\" y=\\"190\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"generic"}],"situationalFactors":[],"_id":"1615989084072"},{"type":"ProcessPattern","name":"Generic Alternative Pattern","description":"The pattern allows the generic alternative creation of method building blocks.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" xmlns:bmdl=\\"http://localhost/schema/bmdl\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0bu4q7q</bpmn:outgoing></bpmn:startEvent><bpmn:exclusiveGateway id=\\"Gateway_0tofwh7\\"><bpmn:incoming>Flow_0bu4q7q</bpmn:incoming><bpmn:outgoing>Flow_0jmnlks</bpmn:outgoing><bpmn:outgoing>Flow_15uj2jp</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0bu4q7q\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Gateway_0tofwh7\\" /><bpmn:sequenceFlow id=\\"Flow_0jmnlks\\" sourceRef=\\"Gateway_0tofwh7\\" targetRef=\\"Activity_1hlohps\\" /><bpmn:sequenceFlow id=\\"Flow_15uj2jp\\" sourceRef=\\"Gateway_0tofwh7\\" targetRef=\\"Activity_12ame5n\\" /><bpmn:exclusiveGateway id=\\"Gateway_0puuads\\"><bpmn:incoming>Flow_12caq0x</bpmn:incoming><bpmn:incoming>Flow_194pu0a</bpmn:incoming><bpmn:outgoing>Flow_1kor88a</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_12caq0x\\" sourceRef=\\"Activity_1hlohps\\" targetRef=\\"Gateway_0puuads\\" /><bpmn:endEvent id=\\"Event_0i7j8x0\\"><bpmn:incoming>Flow_1kor88a</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_1kor88a\\" sourceRef=\\"Gateway_0puuads\\" targetRef=\\"Event_0i7j8x0\\" /><bpmn:sequenceFlow id=\\"Flow_194pu0a\\" sourceRef=\\"Activity_12ame5n\\" targetRef=\\"Gateway_0puuads\\" /><bpmn:callActivity id=\\"Activity_1hlohps\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0jmnlks</bpmn:incoming><bpmn:outgoing>Flow_12caq0x</bpmn:outgoing></bpmn:callActivity><bpmn:callActivity id=\\"Activity_12ame5n\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_15uj2jp</bpmn:incoming><bpmn:outgoing>Flow_194pu0a</bpmn:outgoing></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_194pu0a_di\\" bpmnElement=\\"Flow_194pu0a\\"><di:waypoint x=\\"480\\" y=\\"230\\" /><di:waypoint x=\\"570\\" y=\\"230\\" /><di:waypoint x=\\"570\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1kor88a_di\\" bpmnElement=\\"Flow_1kor88a\\"><di:waypoint x=\\"595\\" y=\\"120\\" /><di:waypoint x=\\"662\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_12caq0x_di\\" bpmnElement=\\"Flow_12caq0x\\"><di:waypoint x=\\"480\\" y=\\"120\\" /><di:waypoint x=\\"545\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_15uj2jp_di\\" bpmnElement=\\"Flow_15uj2jp\\"><di:waypoint x=\\"290\\" y=\\"145\\" /><di:waypoint x=\\"290\\" y=\\"230\\" /><di:waypoint x=\\"380\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0jmnlks_di\\" bpmnElement=\\"Flow_0jmnlks\\"><di:waypoint x=\\"315\\" y=\\"120\\" /><di:waypoint x=\\"380\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0bu4q7q_di\\" bpmnElement=\\"Flow_0bu4q7q\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"265\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0tofwh7_di\\" bpmnElement=\\"Gateway_0tofwh7\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"265\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0puuads_di\\" bpmnElement=\\"Gateway_0puuads\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"545\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0i7j8x0_di\\" bpmnElement=\\"Event_0i7j8x0\\"><dc:Bounds x=\\"662\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_084g6in_di\\" bpmnElement=\\"Activity_1hlohps\\"><dc:Bounds x=\\"380\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_19hv1s5_di\\" bpmnElement=\\"Activity_12ame5n\\"><dc:Bounds x=\\"380\\" y=\\"190\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"generic"}],"situationalFactors":[],"_id":"1615989154590"},{"type":"ProcessPattern","name":"Generic Consecutive Pattern","description":"The pattern allows the consecutive creation of two method building blocks.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" xmlns:bmdl=\\"http://localhost/schema/bmdl\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0hjagem</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_0hjagem\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_0aodffo\\" /><bpmn:sequenceFlow id=\\"Flow_01dalb8\\" sourceRef=\\"Activity_0aodffo\\" targetRef=\\"Activity_1kb8lpz\\" /><bpmn:endEvent id=\\"Event_1u3pk81\\"><bpmn:incoming>Flow_03ur53t</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_03ur53t\\" sourceRef=\\"Activity_1kb8lpz\\" targetRef=\\"Event_1u3pk81\\" /><bpmn:callActivity id=\\"Activity_0aodffo\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0hjagem</bpmn:incoming><bpmn:outgoing>Flow_01dalb8</bpmn:outgoing></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1kb8lpz\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_01dalb8</bpmn:incoming><bpmn:outgoing>Flow_03ur53t</bpmn:outgoing></bpmn:callActivity></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_03ur53t_di\\" bpmnElement=\\"Flow_03ur53t\\"><di:waypoint x=\\"520\\" y=\\"120\\" /><di:waypoint x=\\"582\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01dalb8_di\\" bpmnElement=\\"Flow_01dalb8\\"><di:waypoint x=\\"360\\" y=\\"120\\" /><di:waypoint x=\\"420\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0hjagem_di\\" bpmnElement=\\"Flow_0hjagem\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"260\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1u3pk81_di\\" bpmnElement=\\"Event_1u3pk81\\"><dc:Bounds x=\\"582\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0rtbgx6_di\\" bpmnElement=\\"Activity_0aodffo\\"><dc:Bounds x=\\"260\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_091lbir_di\\" bpmnElement=\\"Activity_1kb8lpz\\"><dc:Bounds x=\\"420\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"generic"}],"situationalFactors":[],"_id":"1615989368999"},{"type":"ProcessPattern","name":"Intermediate Validation Pattern","description":"The pattern allows the intermediate validation of results during the discovery, design or validation stage.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"pattern":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0t6s5cn</bpmn:outgoing></bpmn:startEvent><bpmn:sequenceFlow id=\\"Flow_0t6s5cn\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Gateway_0r4mam0\\" /><bpmn:sequenceFlow id=\\"Flow_076g5xw\\" sourceRef=\\"Activity_1opzvbb\\" targetRef=\\"Activity_0ucs0lq\\" /><bpmn:endEvent id=\\"Event_0lao3g4\\"><bpmn:incoming>Flow_04r8abs</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_005j0x0\\" sourceRef=\\"Activity_0ucs0lq\\" targetRef=\\"Gateway_0s4mvzo\\" /><bpmn:callActivity id=\\"Activity_1opzvbb\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1er15gw</bpmn:incoming><bpmn:outgoing>Flow_076g5xw</bpmn:outgoing></bpmn:callActivity><bpmn:callActivity id=\\"Activity_0ucs0lq\\" name=\\"&#60;&#60;validate Intermediate&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_076g5xw</bpmn:incoming><bpmn:outgoing>Flow_005j0x0</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list><bmdl:methodElement><bmdl:_id>1615646873313</bmdl:_id><bmdl:name>intermediateValidation</bmdl:name></bmdl:methodElement></bmdl:neededType></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_0s4mvzo\\"><bpmn:incoming>Flow_005j0x0</bpmn:incoming><bpmn:outgoing>Flow_04r8abs</bpmn:outgoing><bpmn:outgoing>Flow_0d23ngn</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_04r8abs\\" sourceRef=\\"Gateway_0s4mvzo\\" targetRef=\\"Event_0lao3g4\\" /><bpmn:exclusiveGateway id=\\"Gateway_0r4mam0\\"><bpmn:incoming>Flow_0t6s5cn</bpmn:incoming><bpmn:incoming>Flow_0d23ngn</bpmn:incoming><bpmn:outgoing>Flow_1er15gw</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1er15gw\\" sourceRef=\\"Gateway_0r4mam0\\" targetRef=\\"Activity_1opzvbb\\" /><bpmn:sequenceFlow id=\\"Flow_0d23ngn\\" sourceRef=\\"Gateway_0s4mvzo\\" targetRef=\\"Gateway_0r4mam0\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0d23ngn_di\\" bpmnElement=\\"Flow_0d23ngn\\"><di:waypoint x=\\"650\\" y=\\"95\\" /><di:waypoint x=\\"650\\" y=\\"30\\" /><di:waypoint x=\\"270\\" y=\\"30\\" /><di:waypoint x=\\"270\\" y=\\"95\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1er15gw_di\\" bpmnElement=\\"Flow_1er15gw\\"><di:waypoint x=\\"295\\" y=\\"120\\" /><di:waypoint x=\\"330\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_04r8abs_di\\" bpmnElement=\\"Flow_04r8abs\\"><di:waypoint x=\\"675\\" y=\\"120\\" /><di:waypoint x=\\"722\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_005j0x0_di\\" bpmnElement=\\"Flow_005j0x0\\"><di:waypoint x=\\"580\\" y=\\"120\\" /><di:waypoint x=\\"625\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_076g5xw_di\\" bpmnElement=\\"Flow_076g5xw\\"><di:waypoint x=\\"430\\" y=\\"120\\" /><di:waypoint x=\\"480\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0t6s5cn_di\\" bpmnElement=\\"Flow_0t6s5cn\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"245\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0lao3g4_di\\" bpmnElement=\\"Event_0lao3g4\\"><dc:Bounds x=\\"722\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0tcuzhb_di\\" bpmnElement=\\"Activity_1opzvbb\\"><dc:Bounds x=\\"330\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1mtuwfq_di\\" bpmnElement=\\"Activity_0ucs0lq\\"><dc:Bounds x=\\"480\\" y=\\"80\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0s4mvzo_di\\" bpmnElement=\\"Gateway_0s4mvzo\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"625\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0r4mam0_di\\" bpmnElement=\\"Gateway_0r4mam0\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"245\\" y=\\"95\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","types":[{"list":"generic"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"_id":"1615989451280"},{"type":"BmProcess","initial":false,"name":"OWL Culture","processDiagram":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_1xrata6</bpmn:outgoing></bpmn:startEvent><bpmn:subProcess id=\\"Activity_16tot26\\" name=\\"Business Model Initialization Pattern\\"><bpmn:incoming>Flow_1xrata6</bpmn:incoming><bpmn:startEvent id=\\"StartEvent_1_1616162794632\\"><bpmn:outgoing>Flow_1038tb5_1616162794632</bpmn:outgoing></bpmn:startEvent><bpmn:exclusiveGateway id=\\"Gateway_1sn658h_1616162794632\\"><bpmn:incoming>Flow_0x50kxa_1616162794632</bpmn:incoming><bpmn:incoming>Flow_15rpn99</bpmn:incoming><bpmn:outgoing>Flow_161z037</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_1xo4mt4_1616162794632\\"><bpmn:incoming>Flow_1gkr7d2_1616162794632</bpmn:incoming><bpmn:incoming>Flow_0y90tg4</bpmn:incoming><bpmn:outgoing>Flow_1935tcl_1616162794632</bpmn:outgoing><bpmn:outgoing>Flow_1y1n4z3</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_1oaecke_1616162794632\\"><bpmn:incoming>Flow_0delj8n_1616162794632</bpmn:incoming><bpmn:incoming>Flow_0xza7bw</bpmn:incoming><bpmn:outgoing>Flow_0x50kxa_1616162794632</bpmn:outgoing><bpmn:outgoing>Flow_0s197e4</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_168ska7_1616162794632\\"><bpmn:incoming>Flow_023xx9r</bpmn:incoming><bpmn:outgoing>Flow_172n46f_1616162794632</bpmn:outgoing><bpmn:outgoing>Flow_1gkr7d2_1616162794632</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id=\\"Activity_0rwv72u_1616162794632\\" name=\\"&#60;&#60;validate&#62;&#62;\\"><bpmn:incoming>Flow_172n46f_1616162794632</bpmn:incoming><bpmn:outgoing>Flow_10xurca_1616162794632</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Survey Conduction</bmdl:name><bmdl:id>1615656471945</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_01iu1l9_1616162794632\\"><bpmn:incoming>Flow_10xurca_1616162794632</bpmn:incoming><bpmn:outgoing>Flow_07db5lv_1616162794632</bpmn:outgoing><bpmn:outgoing>Flow_0delj8n_1616162794632</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:endEvent id=\\"Event_02xe3v6_1616162794632\\"><bpmn:incoming>Flow_07db5lv_1616162794632</bpmn:incoming></bpmn:endEvent><bpmn:exclusiveGateway id=\\"Gateway_1fdjmm5_1616162794632\\"><bpmn:incoming>Flow_1038tb5_1616162794632</bpmn:incoming><bpmn:incoming>Flow_1935tcl_1616162794632</bpmn:incoming><bpmn:outgoing>Flow_037kmwa</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1038tb5_1616162794632\\" sourceRef=\\"StartEvent_1_1616162794632\\" targetRef=\\"Gateway_1fdjmm5_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_172n46f_1616162794632\\" sourceRef=\\"Gateway_168ska7_1616162794632\\" targetRef=\\"Activity_0rwv72u_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_10xurca_1616162794632\\" sourceRef=\\"Activity_0rwv72u_1616162794632\\" targetRef=\\"Gateway_01iu1l9_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_07db5lv_1616162794632\\" sourceRef=\\"Gateway_01iu1l9_1616162794632\\" targetRef=\\"Event_02xe3v6_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_1935tcl_1616162794632\\" sourceRef=\\"Gateway_1xo4mt4_1616162794632\\" targetRef=\\"Gateway_1fdjmm5_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_0x50kxa_1616162794632\\" sourceRef=\\"Gateway_1oaecke_1616162794632\\" targetRef=\\"Gateway_1sn658h_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_0delj8n_1616162794632\\" sourceRef=\\"Gateway_01iu1l9_1616162794632\\" targetRef=\\"Gateway_1oaecke_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_1gkr7d2_1616162794632\\" sourceRef=\\"Gateway_168ska7_1616162794632\\" targetRef=\\"Gateway_1xo4mt4_1616162794632\\" /><bpmn:subProcess id=\\"Activity_0686rhv\\" name=\\"Customer First Discovery Pattern\\"><bpmn:incoming>Flow_037kmwa</bpmn:incoming><bpmn:outgoing>Flow_15rpn99</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162806439\\"><bpmn:outgoing>Flow_0hfjqez</bpmn:outgoing></bpmn:startEvent><bpmn:exclusiveGateway id=\\"Gateway_1a1s22u_1616162806439\\"><bpmn:incoming>Flow_0n2o9ve_1616162806439</bpmn:incoming><bpmn:incoming>Flow_0z8u3do</bpmn:incoming><bpmn:outgoing>Flow_12rf0qc</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_0lohovi_1616162806439\\"><bpmn:incoming>Flow_1m0uij0</bpmn:incoming><bpmn:outgoing>Flow_1h1q2gc_1616162806439</bpmn:outgoing><bpmn:outgoing>Flow_0n2o9ve_1616162806439</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:endEvent id=\\"Event_0q9g0ys_1616162806439\\"><bpmn:incoming>Flow_1h1q2gc_1616162806439</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_1h1q2gc_1616162806439\\" sourceRef=\\"Gateway_0lohovi_1616162806439\\" targetRef=\\"Event_0q9g0ys_1616162806439\\" /><bpmn:sequenceFlow id=\\"Flow_0n2o9ve_1616162806439\\" sourceRef=\\"Gateway_0lohovi_1616162806439\\" targetRef=\\"Gateway_1a1s22u_1616162806439\\" /><bpmn:subProcess id=\\"Activity_1h4m3l3\\" name=\\"Customer Light Discovery Pattern\\"><bpmn:incoming>Flow_0hfjqez</bpmn:incoming><bpmn:outgoing>Flow_0z8u3do</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646706099</bmdl:_id><bmdl:name>customerDiscovery</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162812982\\"><bpmn:outgoing>Flow_0mno57r_1616162812982</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1dwc5cr_1616162812982\\"><bpmn:incoming>Flow_03zya08_1616162812982</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_08x5kem_1616162812982\\" name=\\"&#60;&#60;customer Identification&#62;&#62;\\"><bpmn:incoming>Flow_0mno57r_1616162812982</bpmn:incoming><bpmn:outgoing>Flow_03zya08_1616162812982</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646712401</bmdl:_id><bmdl:name>customerIdentification</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Target Audience Identification</bmdl:name><bmdl:id>1615649204477</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_0mno57r_1616162812982\\" sourceRef=\\"StartEvent_1_1616162812982\\" targetRef=\\"Activity_08x5kem_1616162812982\\" /><bpmn:sequenceFlow id=\\"Flow_03zya08_1616162812982\\" sourceRef=\\"Activity_08x5kem_1616162812982\\" targetRef=\\"Event_1dwc5cr_1616162812982\\" /><bmdl:processPatternId>1615894206746</bmdl:processPatternId><bmdl:taskName>&lt;&lt;customer Discovery&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0hfjqez\\" sourceRef=\\"StartEvent_1_1616162806439\\" targetRef=\\"Activity_1h4m3l3\\" /><bpmn:sequenceFlow id=\\"Flow_0z8u3do\\" sourceRef=\\"Activity_1h4m3l3\\" targetRef=\\"Gateway_1a1s22u_1616162806439\\" /><bpmn:subProcess id=\\"Activity_1gmijag\\" name=\\"Problem Deep Discovery Pattern\\"><bpmn:incoming>Flow_12rf0qc</bpmn:incoming><bpmn:outgoing>Flow_1m0uij0</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646721496</bmdl:_id><bmdl:name>problemDiscovery</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162824997\\"><bpmn:outgoing>Flow_0pscsir</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_0aebfpi_1616162824997\\"><bpmn:incoming>Flow_0rpoim1</bpmn:incoming></bpmn:endEvent><bpmn:subProcess id=\\"Activity_0k4orxi\\" name=\\"Generic Parallelism Pattern\\"><bpmn:incoming>Flow_0pscsir</bpmn:incoming><bpmn:outgoing>Flow_06xvh6y</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646726406</bmdl:_id><bmdl:name>problemIdentification</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162833615\\"><bpmn:outgoing>Flow_02lt5jx_1616162833615</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id=\\"Gateway_1elyntr_1616162833615\\"><bpmn:incoming>Flow_02lt5jx_1616162833615</bpmn:incoming><bpmn:outgoing>Flow_1ga9lx3_1616162833615</bpmn:outgoing><bpmn:outgoing>Flow_0vucjs2_1616162833615</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_0kvyq9x_1616162833615\\"><bpmn:incoming>Flow_05fk023_1616162833615</bpmn:incoming><bpmn:incoming>Flow_155pkgy_1616162833615</bpmn:incoming><bpmn:outgoing>Flow_13gx7u5_1616162833615</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_1i06277_1616162833615\\"><bpmn:incoming>Flow_13gx7u5_1616162833615</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0r6nbda_1616162833615\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1ga9lx3_1616162833615</bpmn:incoming><bpmn:outgoing>Flow_05fk023_1616162833615</bpmn:outgoing><bmdl:method><bmdl:name>Market Problem Observation</bmdl:name><bmdl:id>1615655139134</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1dah4ly_1616162833615\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0vucjs2_1616162833615</bpmn:incoming><bpmn:outgoing>Flow_155pkgy_1616162833615</bpmn:outgoing><bmdl:method><bmdl:name>Store Trend Discovery</bmdl:name><bmdl:id>1615654719686</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_02lt5jx_1616162833615\\" sourceRef=\\"StartEvent_1_1616162833615\\" targetRef=\\"Gateway_1elyntr_1616162833615\\" /><bpmn:sequenceFlow id=\\"Flow_1ga9lx3_1616162833615\\" sourceRef=\\"Gateway_1elyntr_1616162833615\\" targetRef=\\"Activity_0r6nbda_1616162833615\\" /><bpmn:sequenceFlow id=\\"Flow_0vucjs2_1616162833615\\" sourceRef=\\"Gateway_1elyntr_1616162833615\\" targetRef=\\"Activity_1dah4ly_1616162833615\\" /><bpmn:sequenceFlow id=\\"Flow_05fk023_1616162833615\\" sourceRef=\\"Activity_0r6nbda_1616162833615\\" targetRef=\\"Gateway_0kvyq9x_1616162833615\\" /><bpmn:sequenceFlow id=\\"Flow_13gx7u5_1616162833615\\" sourceRef=\\"Gateway_0kvyq9x_1616162833615\\" targetRef=\\"Event_1i06277_1616162833615\\" /><bpmn:sequenceFlow id=\\"Flow_155pkgy_1616162833615\\" sourceRef=\\"Activity_1dah4ly_1616162833615\\" targetRef=\\"Gateway_0kvyq9x_1616162833615\\" /><bmdl:processPatternId>1615989084072</bmdl:processPatternId><bmdl:taskName>&lt;&lt;problem Identification&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0pscsir\\" sourceRef=\\"StartEvent_1_1616162824997\\" targetRef=\\"Activity_0k4orxi\\" /><bpmn:subProcess id=\\"Activity_1jgakqj\\" name=\\"Generic Parallelism Pattern\\"><bpmn:incoming>Flow_06xvh6y</bpmn:incoming><bpmn:outgoing>Flow_0rpoim1</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646731492</bmdl:_id><bmdl:name>problemAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162839015\\"><bpmn:outgoing>Flow_02lt5jx_1616162839015</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id=\\"Gateway_1elyntr_1616162839015\\"><bpmn:incoming>Flow_02lt5jx_1616162839015</bpmn:incoming><bpmn:outgoing>Flow_1ga9lx3_1616162839015</bpmn:outgoing><bpmn:outgoing>Flow_0vucjs2_1616162839015</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_0kvyq9x_1616162839015\\"><bpmn:incoming>Flow_05fk023_1616162839015</bpmn:incoming><bpmn:incoming>Flow_155pkgy_1616162839015</bpmn:incoming><bpmn:outgoing>Flow_13gx7u5_1616162839015</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_1i06277_1616162839015\\"><bpmn:incoming>Flow_13gx7u5_1616162839015</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0r6nbda_1616162839015\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1ga9lx3_1616162839015</bpmn:incoming><bpmn:outgoing>Flow_05fk023_1616162839015</bpmn:outgoing><bmdl:method><bmdl:name>Interview Conduction</bmdl:name><bmdl:id>1615655818663</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1dah4ly_1616162839015\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0vucjs2_1616162839015</bpmn:incoming><bpmn:outgoing>Flow_155pkgy_1616162839015</bpmn:outgoing><bmdl:method><bmdl:name>Social Media Survey Conduction</bmdl:name><bmdl:id>1615656699118</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_02lt5jx_1616162839015\\" sourceRef=\\"StartEvent_1_1616162839015\\" targetRef=\\"Gateway_1elyntr_1616162839015\\" /><bpmn:sequenceFlow id=\\"Flow_1ga9lx3_1616162839015\\" sourceRef=\\"Gateway_1elyntr_1616162839015\\" targetRef=\\"Activity_0r6nbda_1616162839015\\" /><bpmn:sequenceFlow id=\\"Flow_0vucjs2_1616162839015\\" sourceRef=\\"Gateway_1elyntr_1616162839015\\" targetRef=\\"Activity_1dah4ly_1616162839015\\" /><bpmn:sequenceFlow id=\\"Flow_05fk023_1616162839015\\" sourceRef=\\"Activity_0r6nbda_1616162839015\\" targetRef=\\"Gateway_0kvyq9x_1616162839015\\" /><bpmn:sequenceFlow id=\\"Flow_13gx7u5_1616162839015\\" sourceRef=\\"Gateway_0kvyq9x_1616162839015\\" targetRef=\\"Event_1i06277_1616162839015\\" /><bpmn:sequenceFlow id=\\"Flow_155pkgy_1616162839015\\" sourceRef=\\"Activity_1dah4ly_1616162839015\\" targetRef=\\"Gateway_0kvyq9x_1616162839015\\" /><bmdl:processPatternId>1615989084072</bmdl:processPatternId><bmdl:taskName>&lt;&lt;problem Analysis&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_06xvh6y\\" sourceRef=\\"Activity_0k4orxi\\" targetRef=\\"Activity_1jgakqj\\" /><bpmn:sequenceFlow id=\\"Flow_0rpoim1\\" sourceRef=\\"Activity_1jgakqj\\" targetRef=\\"Event_0aebfpi_1616162824997\\" /><bmdl:processPatternId>1615894574811</bmdl:processPatternId><bmdl:taskName>&lt;&lt;problem Discovery&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_12rf0qc\\" sourceRef=\\"Gateway_1a1s22u_1616162806439\\" targetRef=\\"Activity_1gmijag\\" /><bpmn:sequenceFlow id=\\"Flow_1m0uij0\\" sourceRef=\\"Activity_1gmijag\\" targetRef=\\"Gateway_0lohovi_1616162806439\\" /><bmdl:processPatternId>1615660450456</bmdl:processPatternId><bmdl:taskName>&lt;&lt;discovery&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_037kmwa\\" sourceRef=\\"Gateway_1fdjmm5_1616162794632\\" targetRef=\\"Activity_0686rhv\\" /><bpmn:sequenceFlow id=\\"Flow_15rpn99\\" sourceRef=\\"Activity_0686rhv\\" targetRef=\\"Gateway_1sn658h_1616162794632\\" /><bpmn:subProcess id=\\"Activity_138vhg7\\" name=\\"Analysis Pattern\\"><bpmn:incoming>Flow_161z037</bpmn:incoming><bpmn:outgoing>Flow_0y90tg4</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162874911\\"><bpmn:outgoing>Flow_1oevy09_1616162874911</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_0iv60p2_1616162874911\\"><bpmn:incoming>Flow_03u30qm</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0h8izyq_1616162874911\\" name=\\"&#60;&#60;market Analysis&#62;&#62;\\"><bpmn:incoming>Flow_1oevy09_1616162874911</bpmn:incoming><bpmn:outgoing>Flow_0y4vo3x</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list><bmdl:methodElement><bmdl:_id>1615646742307</bmdl:_id><bmdl:name>marketAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Market Potential Analysis</bmdl:name><bmdl:id>1615657073736</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_1oevy09_1616162874911\\" sourceRef=\\"StartEvent_1_1616162874911\\" targetRef=\\"Activity_0h8izyq_1616162874911\\" /><bpmn:subProcess id=\\"Activity_1wu6tu1\\" name=\\"Generic Parallelism Pattern\\"><bpmn:incoming>Flow_0y4vo3x</bpmn:incoming><bpmn:outgoing>Flow_03u30qm</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list><bmdl:methodElement><bmdl:_id>1615646746173</bmdl:_id><bmdl:name>competitorAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162894078\\"><bpmn:outgoing>Flow_02lt5jx_1616162894078</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id=\\"Gateway_1elyntr_1616162894078\\"><bpmn:incoming>Flow_02lt5jx_1616162894078</bpmn:incoming><bpmn:outgoing>Flow_1ga9lx3_1616162894078</bpmn:outgoing><bpmn:outgoing>Flow_0vucjs2_1616162894078</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_0kvyq9x_1616162894078\\"><bpmn:incoming>Flow_05fk023_1616162894078</bpmn:incoming><bpmn:incoming>Flow_155pkgy_1616162894078</bpmn:incoming><bpmn:outgoing>Flow_13gx7u5_1616162894078</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_1i06277_1616162894078\\"><bpmn:incoming>Flow_13gx7u5_1616162894078</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0r6nbda_1616162894078\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1ga9lx3_1616162894078</bpmn:incoming><bpmn:outgoing>Flow_05fk023_1616162894078</bpmn:outgoing><bmdl:method><bmdl:name>Competitor Analysis</bmdl:name><bmdl:id>1615657415137</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1dah4ly_1616162894078\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0vucjs2_1616162894078</bpmn:incoming><bpmn:outgoing>Flow_155pkgy_1616162894078</bpmn:outgoing><bmdl:method><bmdl:name>Store Competitor Analysis</bmdl:name><bmdl:id>1615657579148</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_02lt5jx_1616162894078\\" sourceRef=\\"StartEvent_1_1616162894078\\" targetRef=\\"Gateway_1elyntr_1616162894078\\" /><bpmn:sequenceFlow id=\\"Flow_1ga9lx3_1616162894078\\" sourceRef=\\"Gateway_1elyntr_1616162894078\\" targetRef=\\"Activity_0r6nbda_1616162894078\\" /><bpmn:sequenceFlow id=\\"Flow_0vucjs2_1616162894078\\" sourceRef=\\"Gateway_1elyntr_1616162894078\\" targetRef=\\"Activity_1dah4ly_1616162894078\\" /><bpmn:sequenceFlow id=\\"Flow_05fk023_1616162894078\\" sourceRef=\\"Activity_0r6nbda_1616162894078\\" targetRef=\\"Gateway_0kvyq9x_1616162894078\\" /><bpmn:sequenceFlow id=\\"Flow_13gx7u5_1616162894078\\" sourceRef=\\"Gateway_0kvyq9x_1616162894078\\" targetRef=\\"Event_1i06277_1616162894078\\" /><bpmn:sequenceFlow id=\\"Flow_155pkgy_1616162894078\\" sourceRef=\\"Activity_1dah4ly_1616162894078\\" targetRef=\\"Gateway_0kvyq9x_1616162894078\\" /><bmdl:processPatternId>1615989084072</bmdl:processPatternId><bmdl:taskName>&lt;&lt;competitor Analysis&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0y4vo3x\\" sourceRef=\\"Activity_0h8izyq_1616162874911\\" targetRef=\\"Activity_1wu6tu1\\" /><bpmn:sequenceFlow id=\\"Flow_03u30qm\\" sourceRef=\\"Activity_1wu6tu1\\" targetRef=\\"Event_0iv60p2_1616162874911\\" /><bmdl:processPatternId>1615894670769</bmdl:processPatternId><bmdl:taskName>&lt;&lt;analysis&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_161z037\\" sourceRef=\\"Gateway_1sn658h_1616162794632\\" targetRef=\\"Activity_138vhg7\\" /><bpmn:sequenceFlow id=\\"Flow_0y90tg4\\" sourceRef=\\"Activity_138vhg7\\" targetRef=\\"Gateway_1xo4mt4_1616162794632\\" /><bpmn:subProcess id=\\"Activity_1hhhpot\\" name=\\"Design Enhancement Pattern\\"><bpmn:incoming>Flow_1y1n4z3</bpmn:incoming><bpmn:outgoing>Flow_0xza7bw</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162938151\\"><bpmn:outgoing>Flow_00xbqbc_1616162938151</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id=\\"Gateway_0xj6bmj_1616162938151\\"><bpmn:incoming>Flow_00xbqbc_1616162938151</bpmn:incoming><bpmn:outgoing>Flow_11ze7hb_1616162938151</bpmn:outgoing><bpmn:outgoing>Flow_02o8xpv</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_17u81e7_1616162938151\\"><bpmn:incoming>Flow_0yhdvbc_1616162938151</bpmn:incoming><bpmn:incoming>Flow_0kfl3i0</bpmn:incoming><bpmn:outgoing>Flow_01ddziv</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_13tjz72_1616162938151\\"><bpmn:incoming>Flow_1kadpwi</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_1rbjk2h_1616162938151\\" name=\\"&#60;&#60;feature Design&#62;&#62;\\"><bpmn:incoming>Flow_11ze7hb_1616162938151</bpmn:incoming><bpmn:outgoing>Flow_0yhdvbc_1616162938151</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646771090</bmdl:_id><bmdl:name>featureDesign</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Feature Set Development</bmdl:name><bmdl:id>1615658097457</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_00xbqbc_1616162938151\\" sourceRef=\\"StartEvent_1_1616162938151\\" targetRef=\\"Gateway_0xj6bmj_1616162938151\\" /><bpmn:sequenceFlow id=\\"Flow_11ze7hb_1616162938151\\" sourceRef=\\"Gateway_0xj6bmj_1616162938151\\" targetRef=\\"Activity_1rbjk2h_1616162938151\\" /><bpmn:sequenceFlow id=\\"Flow_0yhdvbc_1616162938151\\" sourceRef=\\"Activity_1rbjk2h_1616162938151\\" targetRef=\\"Gateway_17u81e7_1616162938151\\" /><bpmn:subProcess id=\\"Activity_08sbhru\\" name=\\"Canvas Development Pattern\\"><bpmn:incoming>Flow_02o8xpv</bpmn:incoming><bpmn:outgoing>Flow_0kfl3i0</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646777512</bmdl:_id><bmdl:name>businessDesign</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162970297\\"><bpmn:outgoing>Flow_06yh3b6_1616162970297</bpmn:outgoing></bpmn:startEvent><bpmn:task id=\\"Activity_0cgh3cv_1616162970297\\" name=\\"&#60;&#60;vpDesign&#62;&#62;\\"><bpmn:incoming>Flow_06yh3b6_1616162970297</bpmn:incoming><bpmn:outgoing>Flow_1fajuas_1616162970297</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646781917</bmdl:_id><bmdl:name>vpDesign</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Value Proposition Development</bmdl:name><bmdl:id>1615658185096</bmdl:id></bmdl:method></bpmn:task><bpmn:task id=\\"Activity_1te8amf_1616162970297\\" name=\\"&#60;&#60;bmDesign&#62;&#62;\\"><bpmn:incoming>Flow_1fajuas_1616162970297</bpmn:incoming><bpmn:outgoing>Flow_0v5l1ph_1616162970297</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646785987</bmdl:_id><bmdl:name>bmDesign</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Business Model Development</bmdl:name><bmdl:id>1615658309582</bmdl:id></bmdl:method></bpmn:task><bpmn:endEvent id=\\"Event_1xfgbpe_1616162970297\\"><bpmn:incoming>Flow_0v5l1ph_1616162970297</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_06yh3b6_1616162970297\\" sourceRef=\\"StartEvent_1_1616162970297\\" targetRef=\\"Activity_0cgh3cv_1616162970297\\" /><bpmn:sequenceFlow id=\\"Flow_1fajuas_1616162970297\\" sourceRef=\\"Activity_0cgh3cv_1616162970297\\" targetRef=\\"Activity_1te8amf_1616162970297\\" /><bpmn:sequenceFlow id=\\"Flow_0v5l1ph_1616162970297\\" sourceRef=\\"Activity_1te8amf_1616162970297\\" targetRef=\\"Event_1xfgbpe_1616162970297\\" /><bmdl:processPatternId>1615901486472</bmdl:processPatternId><bmdl:taskName>&lt;&lt;business Design&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_02o8xpv\\" sourceRef=\\"Gateway_0xj6bmj_1616162938151\\" targetRef=\\"Activity_08sbhru\\" /><bpmn:sequenceFlow id=\\"Flow_0kfl3i0\\" sourceRef=\\"Activity_08sbhru\\" targetRef=\\"Gateway_17u81e7_1616162938151\\" /><bpmn:subProcess id=\\"Activity_1bcnvsr\\" name=\\"Generic Consecutive Pattern\\"><bpmn:incoming>Flow_01ddziv</bpmn:incoming><bpmn:outgoing>Flow_1kadpwi</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646810172</bmdl:_id><bmdl:name>enhancementDesign</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616163014162\\"><bpmn:outgoing>Flow_0hjagem_1616163014162</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1u3pk81_1616163014162\\"><bpmn:incoming>Flow_03ur53t_1616163014162</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0aodffo_1616163014162\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0hjagem_1616163014162</bpmn:incoming><bpmn:outgoing>Flow_01dalb8_1616163014162</bpmn:outgoing><bmdl:method><bmdl:name>Competitive Advantage Analysis</bmdl:name><bmdl:id>1615889237294</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1kb8lpz_1616163014162\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_01dalb8_1616163014162</bpmn:incoming><bpmn:outgoing>Flow_03ur53t_1616163014162</bpmn:outgoing><bmdl:method><bmdl:name>Feature Set Priorisation</bmdl:name><bmdl:id>1615888569611</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_0hjagem_1616163014162\\" sourceRef=\\"StartEvent_1_1616163014162\\" targetRef=\\"Activity_0aodffo_1616163014162\\" /><bpmn:sequenceFlow id=\\"Flow_01dalb8_1616163014162\\" sourceRef=\\"Activity_0aodffo_1616163014162\\" targetRef=\\"Activity_1kb8lpz_1616163014162\\" /><bpmn:sequenceFlow id=\\"Flow_03ur53t_1616163014162\\" sourceRef=\\"Activity_1kb8lpz_1616163014162\\" targetRef=\\"Event_1u3pk81_1616163014162\\" /><bmdl:processPatternId>1615989368999</bmdl:processPatternId><bmdl:taskName>&lt;&lt;enhancement Design&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_01ddziv\\" sourceRef=\\"Gateway_17u81e7_1616162938151\\" targetRef=\\"Activity_1bcnvsr\\" /><bpmn:sequenceFlow id=\\"Flow_1kadpwi\\" sourceRef=\\"Activity_1bcnvsr\\" targetRef=\\"Event_13tjz72_1616162938151\\" /><bmdl:processPatternId>1615901323027</bmdl:processPatternId><bmdl:taskName>&lt;&lt;design&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1y1n4z3\\" sourceRef=\\"Gateway_1xo4mt4_1616162794632\\" targetRef=\\"Activity_1hhhpot\\" /><bpmn:sequenceFlow id=\\"Flow_0xza7bw\\" sourceRef=\\"Activity_1hhhpot\\" targetRef=\\"Gateway_1oaecke_1616162794632\\" /><bpmn:subProcess id=\\"Activity_0qepiw1\\" name=\\"Generic Consecutive Pattern\\"><bpmn:incoming>Flow_0s197e4</bpmn:incoming><bpmn:outgoing>Flow_023xx9r</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616163072936\\"><bpmn:outgoing>Flow_1ptb0ur</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1u3pk81_1616163072936\\"><bpmn:incoming>Flow_1nf2311</bpmn:incoming></bpmn:endEvent><bpmn:subProcess id=\\"Activity_0cf1kch\\" name=\\"Generic Consecutive Pattern\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1ptb0ur</bpmn:incoming><bpmn:outgoing>Flow_0z644z9</bpmn:outgoing><bpmn:startEvent id=\\"StartEvent_1_1616163077260\\"><bpmn:outgoing>Flow_1vejbb0</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1u3pk81_1616163077260\\"><bpmn:incoming>Flow_0us2rwu</bpmn:incoming></bpmn:endEvent><bpmn:subProcess id=\\"Activity_039dzdi\\" name=\\"Intermediate Validation Pattern\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1vejbb0</bpmn:incoming><bpmn:outgoing>Flow_1e3gza6</bpmn:outgoing><bpmn:startEvent id=\\"StartEvent_1_1616163090984\\"><bpmn:outgoing>Flow_0t6s5cn_1616163090984</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_0lao3g4_1616163090984\\"><bpmn:incoming>Flow_04r8abs_1616163090984</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_1opzvbb_1616163090984\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1er15gw_1616163090984</bpmn:incoming><bpmn:outgoing>Flow_076g5xw_1616163090984</bpmn:outgoing><bmdl:method><bmdl:name>MVP Development</bmdl:name><bmdl:id>1615892880601</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_0ucs0lq_1616163090984\\" name=\\"&#60;&#60;validate Intermediate&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_076g5xw_1616163090984</bpmn:incoming><bpmn:outgoing>Flow_005j0x0_1616163090984</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list><bmdl:methodElement><bmdl:_id>1615646873313</bmdl:_id><bmdl:name>intermediateValidation</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Group Interview Conduction</bmdl:name><bmdl:id>1615656047954</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_0s4mvzo_1616163090984\\"><bpmn:incoming>Flow_005j0x0_1616163090984</bpmn:incoming><bpmn:outgoing>Flow_04r8abs_1616163090984</bpmn:outgoing><bpmn:outgoing>Flow_0d23ngn_1616163090984</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_0r4mam0_1616163090984\\"><bpmn:incoming>Flow_0t6s5cn_1616163090984</bpmn:incoming><bpmn:incoming>Flow_0d23ngn_1616163090984</bpmn:incoming><bpmn:outgoing>Flow_1er15gw_1616163090984</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0t6s5cn_1616163090984\\" sourceRef=\\"StartEvent_1_1616163090984\\" targetRef=\\"Gateway_0r4mam0_1616163090984\\" /><bpmn:sequenceFlow id=\\"Flow_076g5xw_1616163090984\\" sourceRef=\\"Activity_1opzvbb_1616163090984\\" targetRef=\\"Activity_0ucs0lq_1616163090984\\" /><bpmn:sequenceFlow id=\\"Flow_005j0x0_1616163090984\\" sourceRef=\\"Activity_0ucs0lq_1616163090984\\" targetRef=\\"Gateway_0s4mvzo_1616163090984\\" /><bpmn:sequenceFlow id=\\"Flow_04r8abs_1616163090984\\" sourceRef=\\"Gateway_0s4mvzo_1616163090984\\" targetRef=\\"Event_0lao3g4_1616163090984\\" /><bpmn:sequenceFlow id=\\"Flow_1er15gw_1616163090984\\" sourceRef=\\"Gateway_0r4mam0_1616163090984\\" targetRef=\\"Activity_1opzvbb_1616163090984\\" /><bpmn:sequenceFlow id=\\"Flow_0d23ngn_1616163090984\\" sourceRef=\\"Gateway_0s4mvzo_1616163090984\\" targetRef=\\"Gateway_0r4mam0_1616163090984\\" /><bmdl:processPatternId>1615989451280</bmdl:processPatternId><bmdl:taskName>&lt;&lt;generic&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1vejbb0\\" sourceRef=\\"StartEvent_1_1616163077260\\" targetRef=\\"Activity_039dzdi\\" /><bpmn:subProcess id=\\"Activity_0e6m5l4\\" name=\\"Marketing Development Pattern\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1e3gza6</bpmn:incoming><bpmn:outgoing>Flow_0us2rwu</bpmn:outgoing><bpmn:startEvent id=\\"StartEvent_1_1616163103826\\"><bpmn:outgoing>Flow_0z98w3v_1616163103826</bpmn:outgoing></bpmn:startEvent><bpmn:callActivity id=\\"Activity_13r6wta_1616163103826\\" name=\\"&#60;&#60;marketing Development&#62;&#62;\\"><bpmn:incoming>Flow_1ugmk1o_1616163103826</bpmn:incoming><bpmn:outgoing>Flow_061hkot_1616163103826</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646821909</bmdl:_id><bmdl:name>marketingDevelopment</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Inbound Marketing Conduction</bmdl:name><bmdl:id>1615889338605</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:parallelGateway id=\\"Gateway_1e12g7q_1616163103826\\"><bpmn:incoming>Flow_0z98w3v_1616163103826</bpmn:incoming><bpmn:outgoing>Flow_1ugmk1o_1616163103826</bpmn:outgoing><bpmn:outgoing>Flow_0np8kh5</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_0x4dvfp_1616163103826\\"><bpmn:incoming>Flow_061hkot_1616163103826</bpmn:incoming><bpmn:incoming>Flow_0lvum5g</bpmn:incoming><bpmn:outgoing>Flow_14ekf9r_1616163103826</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_0hg6lmp_1616163103826\\"><bpmn:incoming>Flow_14ekf9r_1616163103826</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0z98w3v_1616163103826\\" sourceRef=\\"StartEvent_1_1616163103826\\" targetRef=\\"Gateway_1e12g7q_1616163103826\\" /><bpmn:sequenceFlow id=\\"Flow_1ugmk1o_1616163103826\\" sourceRef=\\"Gateway_1e12g7q_1616163103826\\" targetRef=\\"Activity_13r6wta_1616163103826\\" /><bpmn:sequenceFlow id=\\"Flow_061hkot_1616163103826\\" sourceRef=\\"Activity_13r6wta_1616163103826\\" targetRef=\\"Gateway_0x4dvfp_1616163103826\\" /><bpmn:sequenceFlow id=\\"Flow_14ekf9r_1616163103826\\" sourceRef=\\"Gateway_0x4dvfp_1616163103826\\" targetRef=\\"Event_0hg6lmp_1616163103826\\" /><bpmn:subProcess id=\\"Activity_1qmmmwb\\" name=\\"Intermediate Validation Pattern\\"><bpmn:incoming>Flow_0np8kh5</bpmn:incoming><bpmn:outgoing>Flow_0lvum5g</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616163132309\\"><bpmn:outgoing>Flow_0t6s5cn_1616163132309</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_0lao3g4_1616163132309\\"><bpmn:incoming>Flow_04r8abs_1616163132309</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_1opzvbb_1616163132309\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1er15gw_1616163132309</bpmn:incoming><bpmn:outgoing>Flow_076g5xw_1616163132309</bpmn:outgoing><bmdl:method><bmdl:name>MVP Development</bmdl:name><bmdl:id>1615892880601</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_0ucs0lq_1616163132309\\" name=\\"&#60;&#60;validate Intermediate&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_076g5xw_1616163132309</bpmn:incoming><bpmn:outgoing>Flow_005j0x0_1616163132309</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list><bmdl:methodElement><bmdl:_id>1615646873313</bmdl:_id><bmdl:name>intermediateValidation</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Survey Conduction</bmdl:name><bmdl:id>1615656471945</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_0s4mvzo_1616163132309\\"><bpmn:incoming>Flow_005j0x0_1616163132309</bpmn:incoming><bpmn:outgoing>Flow_04r8abs_1616163132309</bpmn:outgoing><bpmn:outgoing>Flow_0d23ngn_1616163132309</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_0r4mam0_1616163132309\\"><bpmn:incoming>Flow_0t6s5cn_1616163132309</bpmn:incoming><bpmn:incoming>Flow_0d23ngn_1616163132309</bpmn:incoming><bpmn:outgoing>Flow_1er15gw_1616163132309</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0t6s5cn_1616163132309\\" sourceRef=\\"StartEvent_1_1616163132309\\" targetRef=\\"Gateway_0r4mam0_1616163132309\\" /><bpmn:sequenceFlow id=\\"Flow_076g5xw_1616163132309\\" sourceRef=\\"Activity_1opzvbb_1616163132309\\" targetRef=\\"Activity_0ucs0lq_1616163132309\\" /><bpmn:sequenceFlow id=\\"Flow_005j0x0_1616163132309\\" sourceRef=\\"Activity_0ucs0lq_1616163132309\\" targetRef=\\"Gateway_0s4mvzo_1616163132309\\" /><bpmn:sequenceFlow id=\\"Flow_04r8abs_1616163132309\\" sourceRef=\\"Gateway_0s4mvzo_1616163132309\\" targetRef=\\"Event_0lao3g4_1616163132309\\" /><bpmn:sequenceFlow id=\\"Flow_1er15gw_1616163132309\\" sourceRef=\\"Gateway_0r4mam0_1616163132309\\" targetRef=\\"Activity_1opzvbb_1616163132309\\" /><bpmn:sequenceFlow id=\\"Flow_0d23ngn_1616163132309\\" sourceRef=\\"Gateway_0s4mvzo_1616163132309\\" targetRef=\\"Gateway_0r4mam0_1616163132309\\" /><bmdl:processPatternId>1615989451280</bmdl:processPatternId><bmdl:taskName>&lt;&lt;development&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0np8kh5\\" sourceRef=\\"Gateway_1e12g7q_1616163103826\\" targetRef=\\"Activity_1qmmmwb\\" /><bpmn:sequenceFlow id=\\"Flow_0lvum5g\\" sourceRef=\\"Activity_1qmmmwb\\" targetRef=\\"Gateway_0x4dvfp_1616163103826\\" /><bmdl:processPatternId>1615902056644</bmdl:processPatternId><bmdl:taskName>&lt;&lt;generic&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1e3gza6\\" sourceRef=\\"Activity_039dzdi\\" targetRef=\\"Activity_0e6m5l4\\" /><bpmn:sequenceFlow id=\\"Flow_0us2rwu\\" sourceRef=\\"Activity_0e6m5l4\\" targetRef=\\"Event_1u3pk81_1616163077260\\" /><bmdl:processPatternId>1615989368999</bmdl:processPatternId><bmdl:taskName>&lt;&lt;generic&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1ptb0ur\\" sourceRef=\\"StartEvent_1_1616163072936\\" targetRef=\\"Activity_0cf1kch\\" /><bpmn:subProcess id=\\"Activity_1k89jxb\\" name=\\"Product Development Pattern\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0z644z9</bpmn:incoming><bpmn:outgoing>Flow_1nf2311</bpmn:outgoing><bpmn:startEvent id=\\"StartEvent_1_1616163221209\\"><bpmn:outgoing>Flow_0q8iplk_1616163221209</bpmn:outgoing></bpmn:startEvent><bpmn:task id=\\"Activity_1edrijb_1616163221209\\" name=\\"&#60;&#60;platform Selection&#62;&#62;\\"><bpmn:incoming>Flow_0q8iplk_1616163221209</bpmn:incoming><bpmn:outgoing>Flow_1io5uoi_1616163221209</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646844016</bmdl:_id><bmdl:name>platformSelection</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Platform Selection</bmdl:name><bmdl:id>1615893012382</bmdl:id></bmdl:method></bpmn:task><bpmn:task id=\\"Activity_1g0pfta_1616163221209\\" name=\\"&#60;&#60;financial Check&#62;&#62;\\"><bpmn:incoming>Flow_1io5uoi_1616163221209</bpmn:incoming><bpmn:outgoing>Flow_115rmuc_1616163221209</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646848359</bmdl:_id><bmdl:name>financialCheck</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Cost Estimation</bmdl:name><bmdl:id>1615893225262</bmdl:id></bmdl:method></bpmn:task><bpmn:task id=\\"Activity_0wvgpad_1616163221209\\" name=\\"&#60;&#60;platform Development&#62;&#62;\\"><bpmn:incoming>Flow_115rmuc_1616163221209</bpmn:incoming><bpmn:outgoing>Flow_0wi5ycw_1616163221209</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Internal Development</bmdl:name><bmdl:id>1615893378246</bmdl:id></bmdl:method></bpmn:task><bpmn:task id=\\"Activity_0kcusnn_1616163221209\\" name=\\"&#60;&#60;platform Publishing&#62;&#62;\\"><bpmn:incoming>Flow_0wi5ycw_1616163221209</bpmn:incoming><bpmn:outgoing>Flow_1sp95ey_1616163221209</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646856351</bmdl:_id><bmdl:name>platformPublishing</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Platform Publishing</bmdl:name><bmdl:id>1615893680202</bmdl:id></bmdl:method></bpmn:task><bpmn:endEvent id=\\"Event_12kt6j2_1616163221209\\"><bpmn:incoming>Flow_1sp95ey_1616163221209</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0q8iplk_1616163221209\\" sourceRef=\\"StartEvent_1_1616163221209\\" targetRef=\\"Activity_1edrijb_1616163221209\\" /><bpmn:sequenceFlow id=\\"Flow_1io5uoi_1616163221209\\" sourceRef=\\"Activity_1edrijb_1616163221209\\" targetRef=\\"Activity_1g0pfta_1616163221209\\" /><bpmn:sequenceFlow id=\\"Flow_115rmuc_1616163221209\\" sourceRef=\\"Activity_1g0pfta_1616163221209\\" targetRef=\\"Activity_0wvgpad_1616163221209\\" /><bpmn:sequenceFlow id=\\"Flow_0wi5ycw_1616163221209\\" sourceRef=\\"Activity_0wvgpad_1616163221209\\" targetRef=\\"Activity_0kcusnn_1616163221209\\" /><bpmn:sequenceFlow id=\\"Flow_1sp95ey_1616163221209\\" sourceRef=\\"Activity_0kcusnn_1616163221209\\" targetRef=\\"Event_12kt6j2_1616163221209\\" /><bmdl:processPatternId>1615902160702</bmdl:processPatternId><bmdl:taskName>&lt;&lt;generic&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0z644z9\\" sourceRef=\\"Activity_0cf1kch\\" targetRef=\\"Activity_1k89jxb\\" /><bpmn:sequenceFlow id=\\"Flow_1nf2311\\" sourceRef=\\"Activity_1k89jxb\\" targetRef=\\"Event_1u3pk81_1616163072936\\" /><bmdl:processPatternId>1615989368999</bmdl:processPatternId><bmdl:taskName>&lt;&lt;develop&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0s197e4\\" sourceRef=\\"Gateway_1oaecke_1616162794632\\" targetRef=\\"Activity_0qepiw1\\" /><bpmn:sequenceFlow id=\\"Flow_023xx9r\\" sourceRef=\\"Activity_0qepiw1\\" targetRef=\\"Gateway_168ska7_1616162794632\\" /><bmdl:processPatternId>1615659481079</bmdl:processPatternId></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1xrata6\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_16tot26\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1xrata6_di\\" bpmnElement=\\"Flow_1xrata6\\"><di:waypoint x=\\"209\\" y=\\"320\\" /><di:waypoint x=\\"259\\" y=\\"320\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"302\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_16tot26_di\\" bpmnElement=\\"Activity_16tot26\\" isExpanded=\\"true\\"><dc:Bounds x=\\"259\\" y=\\"-50\\" width=\\"8551\\" height=\\"700\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_023xx9r_di\\" bpmnElement=\\"Flow_023xx9r\\"><di:waypoint x=\\"8332\\" y=\\"325\\" /><di:waypoint x=\\"8387\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0s197e4_di\\" bpmnElement=\\"Flow_0s197e4\\"><di:waypoint x=\\"5187\\" y=\\"325\\" /><di:waypoint x=\\"5242\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0xza7bw_di\\" bpmnElement=\\"Flow_0xza7bw\\"><di:waypoint x=\\"5082\\" y=\\"325\\" /><di:waypoint x=\\"5137\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1y1n4z3_di\\" bpmnElement=\\"Flow_1y1n4z3\\"><di:waypoint x=\\"3907\\" y=\\"325\\" /><di:waypoint x=\\"3962\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0y90tg4_di\\" bpmnElement=\\"Flow_0y90tg4\\"><di:waypoint x=\\"3802\\" y=\\"325\\" /><di:waypoint x=\\"3857\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_161z037_di\\" bpmnElement=\\"Flow_161z037\\"><di:waypoint x=\\"2785\\" y=\\"325\\" /><di:waypoint x=\\"2852\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_15rpn99_di\\" bpmnElement=\\"Flow_15rpn99\\"><di:waypoint x=\\"2692\\" y=\\"325\\" /><di:waypoint x=\\"2735\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_037kmwa_di\\" bpmnElement=\\"Flow_037kmwa\\"><di:waypoint x=\\"422\\" y=\\"325\\" /><di:waypoint x=\\"477\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1gkr7d2_1616162794632_di\\" bpmnElement=\\"Flow_1gkr7d2_1616162794632\\"><di:waypoint x=\\"8412\\" y=\\"350\\" /><di:waypoint x=\\"8412\\" y=\\"590\\" /><di:waypoint x=\\"3882\\" y=\\"590\\" /><di:waypoint x=\\"3882\\" y=\\"350\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0delj8n_1616162794632_di\\" bpmnElement=\\"Flow_0delj8n_1616162794632\\"><di:waypoint x=\\"8672\\" y=\\"300\\" /><di:waypoint x=\\"8672\\" y=\\"-20\\" /><di:waypoint x=\\"5162\\" y=\\"-20\\" /><di:waypoint x=\\"5162\\" y=\\"300\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0x50kxa_1616162794632_di\\" bpmnElement=\\"Flow_0x50kxa_1616162794632\\"><di:waypoint x=\\"5162\\" y=\\"350\\" /><di:waypoint x=\\"5162\\" y=\\"620\\" /><di:waypoint x=\\"2760\\" y=\\"620\\" /><di:waypoint x=\\"2760\\" y=\\"350\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1935tcl_1616162794632_di\\" bpmnElement=\\"Flow_1935tcl_1616162794632\\"><di:waypoint x=\\"3882\\" y=\\"300\\" /><di:waypoint x=\\"3882\\" y=\\"30\\" /><di:waypoint x=\\"397\\" y=\\"30\\" /><di:waypoint x=\\"397\\" y=\\"300\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_07db5lv_1616162794632_di\\" bpmnElement=\\"Flow_07db5lv_1616162794632\\"><di:waypoint x=\\"8697\\" y=\\"325\\" /><di:waypoint x=\\"8754\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_10xurca_1616162794632_di\\" bpmnElement=\\"Flow_10xurca_1616162794632\\"><di:waypoint x=\\"8592\\" y=\\"325\\" /><di:waypoint x=\\"8647\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_172n46f_1616162794632_di\\" bpmnElement=\\"Flow_172n46f_1616162794632\\"><di:waypoint x=\\"8437\\" y=\\"325\\" /><di:waypoint x=\\"8492\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1038tb5_1616162794632_di\\" bpmnElement=\\"Flow_1038tb5_1616162794632\\"><di:waypoint x=\\"315\\" y=\\"325\\" /><di:waypoint x=\\"372\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162794632_di\\" bpmnElement=\\"StartEvent_1_1616162794632\\"><dc:Bounds x=\\"279\\" y=\\"307\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1sn658h_1616162794632_di\\" bpmnElement=\\"Gateway_1sn658h_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2735\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1xo4mt4_1616162794632_di\\" bpmnElement=\\"Gateway_1xo4mt4_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"3857\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1oaecke_1616162794632_di\\" bpmnElement=\\"Gateway_1oaecke_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"5137\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_168ska7_1616162794632_di\\" bpmnElement=\\"Gateway_168ska7_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"8387\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0rwv72u_1616162794632_di\\" bpmnElement=\\"Activity_0rwv72u_1616162794632\\"><dc:Bounds x=\\"8492\\" y=\\"285\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_01iu1l9_1616162794632_di\\" bpmnElement=\\"Gateway_01iu1l9_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"8647\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_02xe3v6_1616162794632_di\\" bpmnElement=\\"Event_02xe3v6_1616162794632\\"><dc:Bounds x=\\"8754\\" y=\\"307\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1fdjmm5_1616162794632_di\\" bpmnElement=\\"Gateway_1fdjmm5_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"372\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0686rhv_di\\" bpmnElement=\\"Activity_0686rhv\\" isExpanded=\\"true\\"><dc:Bounds x=\\"477\\" y=\\"110\\" width=\\"2215\\" height=\\"380\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_1m0uij0_di\\" bpmnElement=\\"Flow_1m0uij0\\"><di:waypoint x=\\"2474\\" y=\\"325\\" /><di:waypoint x=\\"2529\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_12rf0qc_di\\" bpmnElement=\\"Flow_12rf0qc\\"><di:waypoint x=\\"1004\\" y=\\"325\\" /><di:waypoint x=\\"1059\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0z8u3do_di\\" bpmnElement=\\"Flow_0z8u3do\\"><di:waypoint x=\\"905\\" y=\\"325\\" /><di:waypoint x=\\"954\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0hfjqez_di\\" bpmnElement=\\"Flow_0hfjqez\\"><di:waypoint x=\\"533\\" y=\\"325\\" /><di:waypoint x=\\"590\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0n2o9ve_1616162806439_di\\" bpmnElement=\\"Flow_0n2o9ve_1616162806439\\"><di:waypoint x=\\"2557\\" y=\\"303\\" /><di:waypoint x=\\"2557\\" y=\\"145\\" /><di:waypoint x=\\"979\\" y=\\"145\\" /><di:waypoint x=\\"979\\" y=\\"300\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1h1q2gc_1616162806439_di\\" bpmnElement=\\"Flow_1h1q2gc_1616162806439\\"><di:waypoint x=\\"2579\\" y=\\"325\\" /><di:waypoint x=\\"2636\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162806439_di\\" bpmnElement=\\"StartEvent_1_1616162806439\\"><dc:Bounds x=\\"497\\" y=\\"307\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1a1s22u_1616162806439_di\\" bpmnElement=\\"Gateway_1a1s22u_1616162806439\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"954\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0lohovi_1616162806439_di\\" bpmnElement=\\"Gateway_0lohovi_1616162806439\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2529\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0q9g0ys_1616162806439_di\\" bpmnElement=\\"Event_0q9g0ys_1616162806439\\"><dc:Bounds x=\\"2636\\" y=\\"307\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1h4m3l3_di\\" bpmnElement=\\"Activity_1h4m3l3\\" isExpanded=\\"true\\"><dc:Bounds x=\\"590\\" y=\\"260\\" width=\\"315\\" height=\\"130\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_03zya08_1616162812982_di\\" bpmnElement=\\"Flow_03zya08_1616162812982\\"><di:waypoint x=\\"797\\" y=\\"330\\" /><di:waypoint x=\\"849\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0mno57r_1616162812982_di\\" bpmnElement=\\"Flow_0mno57r_1616162812982\\"><di:waypoint x=\\"646\\" y=\\"330\\" /><di:waypoint x=\\"697\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162812982_di\\" bpmnElement=\\"StartEvent_1_1616162812982\\"><dc:Bounds x=\\"610\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1dwc5cr_1616162812982_di\\" bpmnElement=\\"Event_1dwc5cr_1616162812982\\"><dc:Bounds x=\\"849\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_08x5kem_1616162812982_di\\" bpmnElement=\\"Activity_08x5kem_1616162812982\\"><dc:Bounds x=\\"697\\" y=\\"290\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1gmijag_di\\" bpmnElement=\\"Activity_1gmijag\\" isExpanded=\\"true\\"><dc:Bounds x=\\"1059\\" y=\\"180\\" width=\\"1415\\" height=\\"290\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0rpoim1_di\\" bpmnElement=\\"Flow_0rpoim1\\"><di:waypoint x=\\"2356\\" y=\\"330\\" /><di:waypoint x=\\"2418\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_06xvh6y_di\\" bpmnElement=\\"Flow_06xvh6y\\"><di:waypoint x=\\"1731\\" y=\\"330\\" /><di:waypoint x=\\"1791\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0pscsir_di\\" bpmnElement=\\"Flow_0pscsir\\"><di:waypoint x=\\"1115\\" y=\\"330\\" /><di:waypoint x=\\"1166\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162824997_di\\" bpmnElement=\\"StartEvent_1_1616162824997\\"><dc:Bounds x=\\"1079\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0aebfpi_1616162824997_di\\" bpmnElement=\\"Event_0aebfpi_1616162824997\\"><dc:Bounds x=\\"2418\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0k4orxi_di\\" bpmnElement=\\"Activity_0k4orxi\\" isExpanded=\\"true\\"><dc:Bounds x=\\"1166\\" y=\\"210\\" width=\\"565\\" height=\\"240\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_155pkgy_1616162833615_di\\" bpmnElement=\\"Flow_155pkgy_1616162833615\\"><di:waypoint x=\\"1493\\" y=\\"390\\" /><di:waypoint x=\\"1583\\" y=\\"390\\" /><di:waypoint x=\\"1583\\" y=\\"305\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13gx7u5_1616162833615_di\\" bpmnElement=\\"Flow_13gx7u5_1616162833615\\"><di:waypoint x=\\"1608\\" y=\\"280\\" /><di:waypoint x=\\"1675\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_05fk023_1616162833615_di\\" bpmnElement=\\"Flow_05fk023_1616162833615\\"><di:waypoint x=\\"1493\\" y=\\"280\\" /><di:waypoint x=\\"1558\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0vucjs2_1616162833615_di\\" bpmnElement=\\"Flow_0vucjs2_1616162833615\\"><di:waypoint x=\\"1303\\" y=\\"305\\" /><di:waypoint x=\\"1303\\" y=\\"390\\" /><di:waypoint x=\\"1393\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ga9lx3_1616162833615_di\\" bpmnElement=\\"Flow_1ga9lx3_1616162833615\\"><di:waypoint x=\\"1328\\" y=\\"280\\" /><di:waypoint x=\\"1393\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02lt5jx_1616162833615_di\\" bpmnElement=\\"Flow_02lt5jx_1616162833615\\"><di:waypoint x=\\"1222\\" y=\\"280\\" /><di:waypoint x=\\"1278\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162833615_di\\" bpmnElement=\\"StartEvent_1_1616162833615\\"><dc:Bounds x=\\"1186\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1elyntr_1616162833615_di\\" bpmnElement=\\"Gateway_1elyntr_1616162833615\\"><dc:Bounds x=\\"1278\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0kvyq9x_1616162833615_di\\" bpmnElement=\\"Gateway_0kvyq9x_1616162833615\\"><dc:Bounds x=\\"1558\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1i06277_1616162833615_di\\" bpmnElement=\\"Event_1i06277_1616162833615\\"><dc:Bounds x=\\"1675\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0r6nbda_1616162833615_di\\" bpmnElement=\\"Activity_0r6nbda_1616162833615\\"><dc:Bounds x=\\"1393\\" y=\\"240\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1dah4ly_1616162833615_di\\" bpmnElement=\\"Activity_1dah4ly_1616162833615\\"><dc:Bounds x=\\"1393\\" y=\\"350\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1jgakqj_di\\" bpmnElement=\\"Activity_1jgakqj\\" isExpanded=\\"true\\"><dc:Bounds x=\\"1791\\" y=\\"210\\" width=\\"565\\" height=\\"240\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_155pkgy_1616162839015_di\\" bpmnElement=\\"Flow_155pkgy_1616162839015\\"><di:waypoint x=\\"2118\\" y=\\"390\\" /><di:waypoint x=\\"2208\\" y=\\"390\\" /><di:waypoint x=\\"2208\\" y=\\"305\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13gx7u5_1616162839015_di\\" bpmnElement=\\"Flow_13gx7u5_1616162839015\\"><di:waypoint x=\\"2233\\" y=\\"280\\" /><di:waypoint x=\\"2300\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_05fk023_1616162839015_di\\" bpmnElement=\\"Flow_05fk023_1616162839015\\"><di:waypoint x=\\"2118\\" y=\\"280\\" /><di:waypoint x=\\"2183\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0vucjs2_1616162839015_di\\" bpmnElement=\\"Flow_0vucjs2_1616162839015\\"><di:waypoint x=\\"1928\\" y=\\"305\\" /><di:waypoint x=\\"1928\\" y=\\"390\\" /><di:waypoint x=\\"2018\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ga9lx3_1616162839015_di\\" bpmnElement=\\"Flow_1ga9lx3_1616162839015\\"><di:waypoint x=\\"1953\\" y=\\"280\\" /><di:waypoint x=\\"2018\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02lt5jx_1616162839015_di\\" bpmnElement=\\"Flow_02lt5jx_1616162839015\\"><di:waypoint x=\\"1847\\" y=\\"280\\" /><di:waypoint x=\\"1903\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162839015_di\\" bpmnElement=\\"StartEvent_1_1616162839015\\"><dc:Bounds x=\\"1811\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1elyntr_1616162839015_di\\" bpmnElement=\\"Gateway_1elyntr_1616162839015\\"><dc:Bounds x=\\"1903\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0kvyq9x_1616162839015_di\\" bpmnElement=\\"Gateway_0kvyq9x_1616162839015\\"><dc:Bounds x=\\"2183\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1i06277_1616162839015_di\\" bpmnElement=\\"Event_1i06277_1616162839015\\"><dc:Bounds x=\\"2300\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0r6nbda_1616162839015_di\\" bpmnElement=\\"Activity_0r6nbda_1616162839015\\"><dc:Bounds x=\\"2018\\" y=\\"240\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1dah4ly_1616162839015_di\\" bpmnElement=\\"Activity_1dah4ly_1616162839015\\"><dc:Bounds x=\\"2018\\" y=\\"350\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_138vhg7_di\\" bpmnElement=\\"Activity_138vhg7\\" isExpanded=\\"true\\"><dc:Bounds x=\\"2852\\" y=\\"180\\" width=\\"950\\" height=\\"290\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_03u30qm_di\\" bpmnElement=\\"Flow_03u30qm\\"><di:waypoint x=\\"3684\\" y=\\"330\\" /><di:waypoint x=\\"3746\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0y4vo3x_di\\" bpmnElement=\\"Flow_0y4vo3x\\"><di:waypoint x=\\"3059\\" y=\\"330\\" /><di:waypoint x=\\"3119\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1oevy09_1616162874911_di\\" bpmnElement=\\"Flow_1oevy09_1616162874911\\"><di:waypoint x=\\"2908\\" y=\\"330\\" /><di:waypoint x=\\"2959\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162874911_di\\" bpmnElement=\\"StartEvent_1_1616162874911\\"><dc:Bounds x=\\"2872\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0iv60p2_1616162874911_di\\" bpmnElement=\\"Event_0iv60p2_1616162874911\\"><dc:Bounds x=\\"3746\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0h8izyq_1616162874911_di\\" bpmnElement=\\"Activity_0h8izyq_1616162874911\\"><dc:Bounds x=\\"2959\\" y=\\"290\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1wu6tu1_di\\" bpmnElement=\\"Activity_1wu6tu1\\" isExpanded=\\"true\\"><dc:Bounds x=\\"3119\\" y=\\"210\\" width=\\"565\\" height=\\"240\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_155pkgy_1616162894078_di\\" bpmnElement=\\"Flow_155pkgy_1616162894078\\"><di:waypoint x=\\"3446\\" y=\\"390\\" /><di:waypoint x=\\"3536\\" y=\\"390\\" /><di:waypoint x=\\"3536\\" y=\\"305\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13gx7u5_1616162894078_di\\" bpmnElement=\\"Flow_13gx7u5_1616162894078\\"><di:waypoint x=\\"3561\\" y=\\"280\\" /><di:waypoint x=\\"3628\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_05fk023_1616162894078_di\\" bpmnElement=\\"Flow_05fk023_1616162894078\\"><di:waypoint x=\\"3446\\" y=\\"280\\" /><di:waypoint x=\\"3511\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0vucjs2_1616162894078_di\\" bpmnElement=\\"Flow_0vucjs2_1616162894078\\"><di:waypoint x=\\"3256\\" y=\\"305\\" /><di:waypoint x=\\"3256\\" y=\\"390\\" /><di:waypoint x=\\"3346\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ga9lx3_1616162894078_di\\" bpmnElement=\\"Flow_1ga9lx3_1616162894078\\"><di:waypoint x=\\"3281\\" y=\\"280\\" /><di:waypoint x=\\"3346\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02lt5jx_1616162894078_di\\" bpmnElement=\\"Flow_02lt5jx_1616162894078\\"><di:waypoint x=\\"3175\\" y=\\"280\\" /><di:waypoint x=\\"3231\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162894078_di\\" bpmnElement=\\"StartEvent_1_1616162894078\\"><dc:Bounds x=\\"3139\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1elyntr_1616162894078_di\\" bpmnElement=\\"Gateway_1elyntr_1616162894078\\"><dc:Bounds x=\\"3231\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0kvyq9x_1616162894078_di\\" bpmnElement=\\"Gateway_0kvyq9x_1616162894078\\"><dc:Bounds x=\\"3511\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1i06277_1616162894078_di\\" bpmnElement=\\"Event_1i06277_1616162894078\\"><dc:Bounds x=\\"3628\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0r6nbda_1616162894078_di\\" bpmnElement=\\"Activity_0r6nbda_1616162894078\\"><dc:Bounds x=\\"3346\\" y=\\"240\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1dah4ly_1616162894078_di\\" bpmnElement=\\"Activity_1dah4ly_1616162894078\\"><dc:Bounds x=\\"3346\\" y=\\"350\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1hhhpot_di\\" bpmnElement=\\"Activity_1hhhpot\\" isExpanded=\\"true\\"><dc:Bounds x=\\"3962\\" y=\\"180\\" width=\\"1120\\" height=\\"290\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_1kadpwi_di\\" bpmnElement=\\"Flow_1kadpwi\\"><di:waypoint x=\\"4995\\" y=\\"250\\" /><di:waypoint x=\\"5026\\" y=\\"250\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01ddziv_di\\" bpmnElement=\\"Flow_01ddziv\\"><di:waypoint x=\\"4404\\" y=\\"250\\" /><di:waypoint x=\\"4510\\" y=\\"250\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0kfl3i0_di\\" bpmnElement=\\"Flow_0kfl3i0\\"><di:waypoint x=\\"4379\\" y=\\"320\\" /><di:waypoint x=\\"4379\\" y=\\"275\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02o8xpv_di\\" bpmnElement=\\"Flow_02o8xpv\\"><di:waypoint x=\\"4099\\" y=\\"275\\" /><di:waypoint x=\\"4099\\" y=\\"320\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0yhdvbc_1616162938151_di\\" bpmnElement=\\"Flow_0yhdvbc_1616162938151\\"><di:waypoint x=\\"4289\\" y=\\"250\\" /><di:waypoint x=\\"4354\\" y=\\"250\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_11ze7hb_1616162938151_di\\" bpmnElement=\\"Flow_11ze7hb_1616162938151\\"><di:waypoint x=\\"4124\\" y=\\"250\\" /><di:waypoint x=\\"4189\\" y=\\"250\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_00xbqbc_1616162938151_di\\" bpmnElement=\\"Flow_00xbqbc_1616162938151\\"><di:waypoint x=\\"4018\\" y=\\"250\\" /><di:waypoint x=\\"4074\\" y=\\"250\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162938151_di\\" bpmnElement=\\"StartEvent_1_1616162938151\\"><dc:Bounds x=\\"3982\\" y=\\"232\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0xj6bmj_1616162938151_di\\" bpmnElement=\\"Gateway_0xj6bmj_1616162938151\\"><dc:Bounds x=\\"4074\\" y=\\"225\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_17u81e7_1616162938151_di\\" bpmnElement=\\"Gateway_17u81e7_1616162938151\\"><dc:Bounds x=\\"4354\\" y=\\"225\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_13tjz72_1616162938151_di\\" bpmnElement=\\"Event_13tjz72_1616162938151\\"><dc:Bounds x=\\"5026\\" y=\\"232\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1rbjk2h_1616162938151_di\\" bpmnElement=\\"Activity_1rbjk2h_1616162938151\\"><dc:Bounds x=\\"4189\\" y=\\"210\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_08sbhru_di\\" bpmnElement=\\"Activity_08sbhru\\" isExpanded=\\"true\\"><dc:Bounds x=\\"3997\\" y=\\"320\\" width=\\"485\\" height=\\"130\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0v5l1ph_1616162970297_di\\" bpmnElement=\\"Flow_0v5l1ph_1616162970297\\"><di:waypoint x=\\"4364\\" y=\\"390\\" /><di:waypoint x=\\"4425.5\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1fajuas_1616162970297_di\\" bpmnElement=\\"Flow_1fajuas_1616162970297\\"><di:waypoint x=\\"4204\\" y=\\"390\\" /><di:waypoint x=\\"4264\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_06yh3b6_1616162970297_di\\" bpmnElement=\\"Flow_06yh3b6_1616162970297\\"><di:waypoint x=\\"4052.5\\" y=\\"390\\" /><di:waypoint x=\\"4104\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162970297_di\\" bpmnElement=\\"StartEvent_1_1616162970297\\"><dc:Bounds x=\\"4017\\" y=\\"372\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0cgh3cv_1616162970297_di\\" bpmnElement=\\"Activity_0cgh3cv_1616162970297\\"><dc:Bounds x=\\"4104\\" y=\\"350\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1te8amf_1616162970297_di\\" bpmnElement=\\"Activity_1te8amf_1616162970297\\"><dc:Bounds x=\\"4264\\" y=\\"350\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1xfgbpe_1616162970297_di\\" bpmnElement=\\"Event_1xfgbpe_1616162970297\\"><dc:Bounds x=\\"4426\\" y=\\"372\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1bcnvsr_di\\" bpmnElement=\\"Activity_1bcnvsr\\" isExpanded=\\"true\\"><dc:Bounds x=\\"4510\\" y=\\"220\\" width=\\"485\\" height=\\"130\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_03ur53t_1616163014162_di\\" bpmnElement=\\"Flow_03ur53t_1616163014162\\"><di:waypoint x=\\"4877\\" y=\\"290\\" /><di:waypoint x=\\"4939\\" y=\\"290\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01dalb8_1616163014162_di\\" bpmnElement=\\"Flow_01dalb8_1616163014162\\"><di:waypoint x=\\"4717\\" y=\\"290\\" /><di:waypoint x=\\"4777\\" y=\\"290\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0hjagem_1616163014162_di\\" bpmnElement=\\"Flow_0hjagem_1616163014162\\"><di:waypoint x=\\"4566\\" y=\\"290\\" /><di:waypoint x=\\"4617\\" y=\\"290\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163014162_di\\" bpmnElement=\\"StartEvent_1_1616163014162\\"><dc:Bounds x=\\"4530\\" y=\\"272\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1u3pk81_1616163014162_di\\" bpmnElement=\\"Event_1u3pk81_1616163014162\\"><dc:Bounds x=\\"4939\\" y=\\"272\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0aodffo_1616163014162_di\\" bpmnElement=\\"Activity_0aodffo_1616163014162\\"><dc:Bounds x=\\"4617\\" y=\\"250\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1kb8lpz_1616163014162_di\\" bpmnElement=\\"Activity_1kb8lpz_1616163014162\\"><dc:Bounds x=\\"4777\\" y=\\"250\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0qepiw1_di\\" bpmnElement=\\"Activity_0qepiw1\\" isExpanded=\\"true\\"><dc:Bounds x=\\"5242\\" y=\\"5\\" width=\\"3090\\" height=\\"540\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_1nf2311_di\\" bpmnElement=\\"Flow_1nf2311\\"><di:waypoint x=\\"8214\\" y=\\"230\\" /><di:waypoint x=\\"8276\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0z644z9_di\\" bpmnElement=\\"Flow_0z644z9\\"><di:waypoint x=\\"7349\\" y=\\"230\\" /><di:waypoint x=\\"7409\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ptb0ur_di\\" bpmnElement=\\"Flow_1ptb0ur\\"><di:waypoint x=\\"5298\\" y=\\"230\\" /><di:waypoint x=\\"5349\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163072936_di\\" bpmnElement=\\"StartEvent_1_1616163072936\\"><dc:Bounds x=\\"5262\\" y=\\"212\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1u3pk81_1616163072936_di\\" bpmnElement=\\"Event_1u3pk81_1616163072936\\"><dc:Bounds x=\\"8276\\" y=\\"212\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0cf1kch_di\\" bpmnElement=\\"Activity_0cf1kch\\" isExpanded=\\"true\\"><dc:Bounds x=\\"5349\\" y=\\"35\\" width=\\"2000\\" height=\\"490\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0us2rwu_di\\" bpmnElement=\\"Flow_0us2rwu\\"><di:waypoint x=\\"7231\\" y=\\"235\\" /><di:waypoint x=\\"7293\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1e3gza6_di\\" bpmnElement=\\"Flow_1e3gza6\\"><di:waypoint x=\\"6081\\" y=\\"235\\" /><di:waypoint x=\\"6141\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1vejbb0_di\\" bpmnElement=\\"Flow_1vejbb0\\"><di:waypoint x=\\"5405\\" y=\\"235\\" /><di:waypoint x=\\"5456\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163077260_di\\" bpmnElement=\\"StartEvent_1_1616163077260\\"><dc:Bounds x=\\"5369\\" y=\\"217\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1u3pk81_1616163077260_di\\" bpmnElement=\\"Event_1u3pk81_1616163077260\\"><dc:Bounds x=\\"7293\\" y=\\"217\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_039dzdi_di\\" bpmnElement=\\"Activity_039dzdi\\" isExpanded=\\"true\\"><dc:Bounds x=\\"5456\\" y=\\"145\\" width=\\"625\\" height=\\"180\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0d23ngn_1616163090984_di\\" bpmnElement=\\"Flow_0d23ngn_1616163090984\\"><di:waypoint x=\\"5953\\" y=\\"240\\" /><di:waypoint x=\\"5953\\" y=\\"180\\" /><di:waypoint x=\\"5573\\" y=\\"180\\" /><di:waypoint x=\\"5573\\" y=\\"240\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1er15gw_1616163090984_di\\" bpmnElement=\\"Flow_1er15gw_1616163090984\\"><di:waypoint x=\\"5598\\" y=\\"265\\" /><di:waypoint x=\\"5633\\" y=\\"265\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_04r8abs_1616163090984_di\\" bpmnElement=\\"Flow_04r8abs_1616163090984\\"><di:waypoint x=\\"5978\\" y=\\"265\\" /><di:waypoint x=\\"6025\\" y=\\"265\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_005j0x0_1616163090984_di\\" bpmnElement=\\"Flow_005j0x0_1616163090984\\"><di:waypoint x=\\"5883\\" y=\\"265\\" /><di:waypoint x=\\"5928\\" y=\\"265\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_076g5xw_1616163090984_di\\" bpmnElement=\\"Flow_076g5xw_1616163090984\\"><di:waypoint x=\\"5733\\" y=\\"265\\" /><di:waypoint x=\\"5783\\" y=\\"265\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0t6s5cn_1616163090984_di\\" bpmnElement=\\"Flow_0t6s5cn_1616163090984\\"><di:waypoint x=\\"5512\\" y=\\"265\\" /><di:waypoint x=\\"5548\\" y=\\"265\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163090984_di\\" bpmnElement=\\"StartEvent_1_1616163090984\\"><dc:Bounds x=\\"5476\\" y=\\"247\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0lao3g4_1616163090984_di\\" bpmnElement=\\"Event_0lao3g4_1616163090984\\"><dc:Bounds x=\\"6025\\" y=\\"247\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1opzvbb_1616163090984_di\\" bpmnElement=\\"Activity_1opzvbb_1616163090984\\"><dc:Bounds x=\\"5633\\" y=\\"225\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0ucs0lq_1616163090984_di\\" bpmnElement=\\"Activity_0ucs0lq_1616163090984\\"><dc:Bounds x=\\"5783\\" y=\\"225\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0s4mvzo_1616163090984_di\\" bpmnElement=\\"Gateway_0s4mvzo_1616163090984\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"5928\\" y=\\"240\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0r4mam0_1616163090984_di\\" bpmnElement=\\"Gateway_0r4mam0_1616163090984\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"5548\\" y=\\"240\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0e6m5l4_di\\" bpmnElement=\\"Activity_0e6m5l4\\" isExpanded=\\"true\\"><dc:Bounds x=\\"6141\\" y=\\"115\\" width=\\"1090\\" height=\\"340\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0lvum5g_di\\" bpmnElement=\\"Flow_0lvum5g\\"><di:waypoint x=\\"6993\\" y=\\"345\\" /><di:waypoint x=\\"7083\\" y=\\"345\\" /><di:waypoint x=\\"7083\\" y=\\"210\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0np8kh5_di\\" bpmnElement=\\"Flow_0np8kh5\\"><di:waypoint x=\\"6278\\" y=\\"210\\" /><di:waypoint x=\\"6278\\" y=\\"345\\" /><di:waypoint x=\\"6368\\" y=\\"345\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_14ekf9r_1616163103826_di\\" bpmnElement=\\"Flow_14ekf9r_1616163103826\\"><di:waypoint x=\\"7108\\" y=\\"185\\" /><di:waypoint x=\\"7175\\" y=\\"185\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_061hkot_1616163103826_di\\" bpmnElement=\\"Flow_061hkot_1616163103826\\"><di:waypoint x=\\"6731\\" y=\\"185\\" /><di:waypoint x=\\"7058\\" y=\\"185\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ugmk1o_1616163103826_di\\" bpmnElement=\\"Flow_1ugmk1o_1616163103826\\"><di:waypoint x=\\"6303\\" y=\\"185\\" /><di:waypoint x=\\"6631\\" y=\\"185\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0z98w3v_1616163103826_di\\" bpmnElement=\\"Flow_0z98w3v_1616163103826\\"><di:waypoint x=\\"6197\\" y=\\"185\\" /><di:waypoint x=\\"6253\\" y=\\"185\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163103826_di\\" bpmnElement=\\"StartEvent_1_1616163103826\\"><dc:Bounds x=\\"6161\\" y=\\"167\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_13r6wta_1616163103826_di\\" bpmnElement=\\"Activity_13r6wta_1616163103826\\"><dc:Bounds x=\\"6631\\" y=\\"145\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1e12g7q_1616163103826_di\\" bpmnElement=\\"Gateway_1e12g7q_1616163103826\\"><dc:Bounds x=\\"6253\\" y=\\"160\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0x4dvfp_1616163103826_di\\" bpmnElement=\\"Gateway_0x4dvfp_1616163103826\\"><dc:Bounds x=\\"7058\\" y=\\"160\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0hg6lmp_1616163103826_di\\" bpmnElement=\\"Event_0hg6lmp_1616163103826\\"><dc:Bounds x=\\"7175\\" y=\\"167\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1qmmmwb_di\\" bpmnElement=\\"Activity_1qmmmwb\\" isExpanded=\\"true\\"><dc:Bounds x=\\"6368\\" y=\\"255\\" width=\\"625\\" height=\\"180\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0d23ngn_1616163132309_di\\" bpmnElement=\\"Flow_0d23ngn_1616163132309\\"><di:waypoint x=\\"6865\\" y=\\"350\\" /><di:waypoint x=\\"6865\\" y=\\"290\\" /><di:waypoint x=\\"6485\\" y=\\"290\\" /><di:waypoint x=\\"6485\\" y=\\"350\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1er15gw_1616163132309_di\\" bpmnElement=\\"Flow_1er15gw_1616163132309\\"><di:waypoint x=\\"6510\\" y=\\"375\\" /><di:waypoint x=\\"6545\\" y=\\"375\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_04r8abs_1616163132309_di\\" bpmnElement=\\"Flow_04r8abs_1616163132309\\"><di:waypoint x=\\"6890\\" y=\\"375\\" /><di:waypoint x=\\"6937\\" y=\\"375\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_005j0x0_1616163132309_di\\" bpmnElement=\\"Flow_005j0x0_1616163132309\\"><di:waypoint x=\\"6795\\" y=\\"375\\" /><di:waypoint x=\\"6840\\" y=\\"375\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_076g5xw_1616163132309_di\\" bpmnElement=\\"Flow_076g5xw_1616163132309\\"><di:waypoint x=\\"6645\\" y=\\"375\\" /><di:waypoint x=\\"6695\\" y=\\"375\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0t6s5cn_1616163132309_di\\" bpmnElement=\\"Flow_0t6s5cn_1616163132309\\"><di:waypoint x=\\"6424\\" y=\\"375\\" /><di:waypoint x=\\"6460\\" y=\\"375\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163132309_di\\" bpmnElement=\\"StartEvent_1_1616163132309\\"><dc:Bounds x=\\"6388\\" y=\\"357\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0lao3g4_1616163132309_di\\" bpmnElement=\\"Event_0lao3g4_1616163132309\\"><dc:Bounds x=\\"6937\\" y=\\"357\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1opzvbb_1616163132309_di\\" bpmnElement=\\"Activity_1opzvbb_1616163132309\\"><dc:Bounds x=\\"6545\\" y=\\"335\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0ucs0lq_1616163132309_di\\" bpmnElement=\\"Activity_0ucs0lq_1616163132309\\"><dc:Bounds x=\\"6695\\" y=\\"335\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0s4mvzo_1616163132309_di\\" bpmnElement=\\"Gateway_0s4mvzo_1616163132309\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"6840\\" y=\\"350\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0r4mam0_1616163132309_di\\" bpmnElement=\\"Gateway_0r4mam0_1616163132309\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"6460\\" y=\\"350\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1k89jxb_di\\" bpmnElement=\\"Activity_1k89jxb\\" isExpanded=\\"true\\"><dc:Bounds x=\\"7409\\" y=\\"165\\" width=\\"805\\" height=\\"130\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_1sp95ey_1616163221209_di\\" bpmnElement=\\"Flow_1sp95ey_1616163221209\\"><di:waypoint x=\\"8096\\" y=\\"235\\" /><di:waypoint x=\\"8158\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0wi5ycw_1616163221209_di\\" bpmnElement=\\"Flow_0wi5ycw_1616163221209\\"><di:waypoint x=\\"7936\\" y=\\"235\\" /><di:waypoint x=\\"7996\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_115rmuc_1616163221209_di\\" bpmnElement=\\"Flow_115rmuc_1616163221209\\"><di:waypoint x=\\"7776\\" y=\\"235\\" /><di:waypoint x=\\"7836\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1io5uoi_1616163221209_di\\" bpmnElement=\\"Flow_1io5uoi_1616163221209\\"><di:waypoint x=\\"7616\\" y=\\"235\\" /><di:waypoint x=\\"7676\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0q8iplk_1616163221209_di\\" bpmnElement=\\"Flow_0q8iplk_1616163221209\\"><di:waypoint x=\\"7465\\" y=\\"235\\" /><di:waypoint x=\\"7516\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163221209_di\\" bpmnElement=\\"StartEvent_1_1616163221209\\"><dc:Bounds x=\\"7429\\" y=\\"217\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1edrijb_1616163221209_di\\" bpmnElement=\\"Activity_1edrijb_1616163221209\\"><dc:Bounds x=\\"7516\\" y=\\"195\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1g0pfta_1616163221209_di\\" bpmnElement=\\"Activity_1g0pfta_1616163221209\\"><dc:Bounds x=\\"7676\\" y=\\"195\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0wvgpad_1616163221209_di\\" bpmnElement=\\"Activity_0wvgpad_1616163221209\\"><dc:Bounds x=\\"7836\\" y=\\"195\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0kcusnn_1616163221209_di\\" bpmnElement=\\"Activity_0kcusnn_1616163221209\\"><dc:Bounds x=\\"7996\\" y=\\"195\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_12kt6j2_1616163221209_di\\" bpmnElement=\\"Event_12kt6j2_1616163221209\\"><dc:Bounds x=\\"8158\\" y=\\"217\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","domains":[{"type":"Domain","_id":"1625915974420","_rev":"1-ff3d81800563c2792e6730b304317b55","name":"Mobile Apps"}],"situationalFactors":[{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Customer","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647539973","_rev":"1-5462faf90915eceaf5d00090298f70c8","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false},"value":"uniform"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"mass"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647593804","_rev":"1-7136b18eb09b47a26901e585ce04d126","list":"Phase","name":"customerValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"high"}}],"decisions":{"Activity_0r6nbda_1616162833615":{"method":{"type":"DevelopmentMethod","_id":"1615655139134","_rev":"1-971345771da6306ada1341a730c7449f","name":"Market Problem Observation","description":"The goal of this building block is to observe an existing market to gather insights about current existing problems. This can be made by discovering existing processes or speaking directly to involved persons.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647555044","_rev":"1-858c3e9557ae7bddd08181f24a1644d6","list":"Market","name":"marketType","description":null,"values":["b2b","b2c"],"ordered":false},"value":"b2b"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{},{"element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null}}]},"tools":{},"stepDecisions":[]},"Activity_1dah4ly_1616162833615":{"method":{"type":"DevelopmentMethod","_id":"1615654719686","_rev":"1-579d8573e732a67817cc510d1feb3edb","name":"Store Trend Discovery","description":"The goal of this building block is to gather information about current trends in the stores. These could be recommended apps by the store provider or lists of top-downloaded or top-grossing apps. The discovery can be made by hand or with external tools.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647588013","_rev":"1-e71109eb7939c04f5782f80896d3f3a2","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","multiple":true,"optional":false},{"list":"Store Statistic Tools","multiple":true,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[]},"Activity_0r6nbda_1616162839015":{"method":{"type":"DevelopmentMethod","_id":"1615655818663","_rev":"1-f5637fef9e61cef3ba07085b0c4229d9","name":"Interview Conduction","description":"The goal of this building block is to conduct interviews with single persons. Single Interviews can be used to get a deeper understanding of the problem and validate possible steps during the business model development process.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis"},{"list":"validate"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Prototype","multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Product","multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false}]},{"items":[{"list":"Information","multiple":true,"optional":false}]},{"items":[{"list":"Prototype","multiple":false,"optional":false}]},{"items":[{"list":"Product","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{"group":1,"elementDecisions":[{"elements":[{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{},{"element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null}}]},"tools":{},"stepDecisions":[]},"Activity_1dah4ly_1616162839015":{"method":{"type":"DevelopmentMethod","_id":"1615656699118","_rev":"1-fa199cb2c6e4271834ed7f692b2fbbc9","name":"Social Media Survey Conduction","description":"The goal of this building block is to conduct surveys with different customers on social media websites. Social media surveys allow discovering a high number of results for mass-market apps.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis"},{"list":"validate"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"mass"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Prototype","multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Product","multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false}]},{"items":[{"list":"Information","multiple":true,"optional":false}]},{"items":[{"list":"Prototype","multiple":false,"optional":false}]},{"items":[{"list":"Product","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Survey Tools","multiple":false,"optional":false},{"list":"Social Media Tools","multiple":true,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{},"stakeholders":{"group":0,"elementDecisions":[{},{}]},"tools":{},"stepDecisions":[]},"Activity_0h8izyq_1616162874911":{"method":{"type":"DevelopmentMethod","_id":"1615657073736","_rev":"1-2b43cf2e5667995a3810d78641e3f71d","name":"Market Potential Analysis","description":"The goal of this building block is to analyze the potential size of the target market. The goal is to identify a market\u2019s high growth potential together with growth drivers and possible barriers.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646742307","list":"analysis","name":"marketAnalysis","description":null}},{"list":"analysis"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"niche"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[]},"Activity_0r6nbda_1616162894078":{"method":{"type":"DevelopmentMethod","_id":"1615657415137","_rev":"1-1b0bcf140d8cb016c90941073435d8fe","name":"Competitor Analysis","description":"The goal of this building block is to analyze the competitors based on the gained insights of customers and problems. The competitor analysis can be used to identify target customers and used features to create a competitive advantage.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646746173","list":"analysis","name":"competitorAnalysis","description":null}},{"list":"analysis"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647559511","_rev":"1-d7f14db973b8bdb0cbb01cc36b7f2de6","list":"Market","name":"marketCompetity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[]},"Activity_1dah4ly_1616162894078":{"method":{"type":"DevelopmentMethod","_id":"1615657579148","_rev":"1-fb61e332a9e5cbb46dbdbb6868699530","name":"Store Competitor Analysis","description":"The goal of this building block is to analyze the store competitors based on the gained insights of customers and problems. The competitor analysis can be used to identify target customers and used features to create a competitive advantage.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646746173","list":"analysis","name":"competitorAnalysis","description":null}},{"list":"analysis"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647559511","_rev":"1-d7f14db973b8bdb0cbb01cc36b7f2de6","list":"Market","name":"marketCompetity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","multiple":true,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[]},"Activity_1rbjk2h_1616162938151":{"method":{"type":"DevelopmentMethod","_id":"1615658097457","_rev":"1-6334a84a4272d18c4fbfd871f423bbcc","name":"Feature Set Development","description":"The goal of this building block is to create a set of features that the app should have. This set can be created out of the insights during the discovery and analysis phase.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646771090","list":"design","name":"featureDesign","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Feature Set Tools","multiple":false,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{},{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[]},"Activity_0cgh3cv_1616162970297":{"method":{"type":"DevelopmentMethod","_id":"1615658185096","_rev":"3-4f09975aac991656c3c3f580bb270a79","name":"Value Proposition Development","description":"The goal of this building block is to develop a value proposition for the customer. For this, a value proposition canvas is filled out with the insights of the discovery and analysis phase.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646781917","list":"design","name":"vpDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-d8521e453f55ec76a8ceec62094e407f","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144754642"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":0,"elementDecisions":[{},{},{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[{"companyModelId":"1625667089851"},null,null]},"Activity_1te8amf_1616162970297":{"method":{"type":"DevelopmentMethod","_id":"1615658309582","_rev":"3-11f692d171dfa24186fcfd2a0133b455","name":"Business Model Development","description":"The goal of this building block is to develop a business model for the app. For this, a business model canvas is filled out with the insights of the discovery and analysis phase.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646785987","list":"design","name":"bmDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-e95a5042d57452e023ca6844a7e3f095","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144329606"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":0,"elementDecisions":[{},{},{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[{"companyModelId":"1625667191131"},null,null]},"Activity_0aodffo_1616163014162":{"method":{"type":"DevelopmentMethod","_id":"1615889237294","_rev":"1-4f54ea4e42230feb6210b4cea4bcff12","name":"Competitive Advantage Analysis","description":"The goal of this building block is to analyze the competitive advantage of the own application. This analysis, in turn, should ensure to focus on these advantages during the beginning of the development.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646810172","list":"design","name":"enhancementDesign","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{},{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{},{},{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[]},"Activity_1kb8lpz_1616163014162":{"method":{"type":"DevelopmentMethod","_id":"1615888569611","_rev":"1-3f5f771db78b963735c6ff548a94cb65","name":"Feature Set Priorisation","description":"The goal of this building block is to prioritize the feature set according to the most important features. This should ensure to consider only the most important features at the beginning of your app development.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646810172","list":"design","name":"enhancementDesign","description":null}}],"situationalFactors":[{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Feature Set Tools","multiple":false,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{},{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[]},"Activity_1opzvbb_1616163090984":{"method":{"type":"DevelopmentMethod","_id":"1615892880601","_rev":"1-15574f8c40662b626897fbdc3414dae8","name":"MVP Development","description":"The goal of this building block is to create a minimum viable product of the app. An MVP is a small product that can be directly used by the potential customer to solve his problem.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"1-0955816d51a7c74e2d8306ee47a3c9fe","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{},{},{}]},"tools":{},"stepDecisions":[]},"Activity_0ucs0lq_1616163090984":{"method":{"type":"DevelopmentMethod","_id":"1615656047954","_rev":"1-acefe5251efb7332aa79a53808d6308d","name":"Group Interview Conduction","description":"The goal of this building block is to conduct group interviews with different persons. Group interviews can be used to discover and analyze problems of different persons at a single time and validate possible steps during the development at a single time.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis"},{"list":"validate"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Prototype","multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Product","multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false}]},{"items":[{"list":"Information","multiple":true,"optional":false}]},{"items":[{"list":"Prototype","multiple":false,"optional":false}]},{"items":[{"list":"Product","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","multiple":true,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":2,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false}}]},"outputArtifacts":{"group":2,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false}}]},"stakeholders":{"group":0,"elementDecisions":[{},{"elements":[]}]},"tools":{},"stepDecisions":[]},"Activity_13r6wta_1616163103826":{"method":{"type":"DevelopmentMethod","_id":"1615889338605","_rev":"1-c6054239df509575589cdb8100e5ba04","name":"Inbound Marketing Conduction","description":"The goal of this building block is to conduct inbound marketing during the development phase. Inbound marketing means to active creation of valuable content that potential customers can discover during the search for solutions to their problems.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646821909","list":"develop","name":"marketingDevelopment","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647520097","_rev":"1-0f5b281062411808f394d3dc310b17a7","list":"Company","name":"marketingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","_rev":"1-259bbdf5097ac615d89cac8487b46dde","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[]},"Activity_1opzvbb_1616163132309":{"method":{"type":"DevelopmentMethod","_id":"1615892880601","_rev":"1-15574f8c40662b626897fbdc3414dae8","name":"MVP Development","description":"The goal of this building block is to create a minimum viable product of the app. An MVP is a small product that can be directly used by the potential customer to solve his problem.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"1-0955816d51a7c74e2d8306ee47a3c9fe","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{},{},{}]},"tools":{},"stepDecisions":[]},"Activity_0ucs0lq_1616163132309":{"method":{"type":"DevelopmentMethod","_id":"1615656471945","_rev":"1-43f4f2a875d96fc5617e69f0d89c745a","name":"Survey Conduction","description":"The goal of this building block is to conduct surveys with different persons. Surveys can be used to research a high number of persons with standardized questions about the problem, possible ideas, or different developed prototypes.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis"},{"list":"validate"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Prototype","multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Product","multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false}]},{"items":[{"list":"Information","multiple":true,"optional":false}]},{"items":[{"list":"Prototype","multiple":false,"optional":false}]},{"items":[{"list":"Product","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Survey Tools","multiple":false,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":2,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false}}]},"outputArtifacts":{"group":2,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false}}]},"stakeholders":{"group":0,"elementDecisions":[{},{"element":{"type":"Stakeholder","_id":"1615647170528","_rev":"1-9ecbe8ec449dc7847881cb4f4ea59cc8","list":"Users","name":"Early Adopter","description":null}}]},"tools":{"group":0,"elementDecisions":[{"element":{"type":"Tool","_id":"1615648913863","_rev":"1-3cbf3d075a79a899780769992ec0e45f","list":"Survey Tools","name":"Survey Monkey","description":null}}]},"stepDecisions":[]},"Activity_1edrijb_1616163221209":{"method":{"type":"DevelopmentMethod","_id":"1615893012382","_rev":"1-e99bedc5f21de4040e2dd2cdef8a1151","name":"Platform Selection","description":"The goal of this building block is to select a platform where the app should be running. An app can be developed for a specific mobile platform or as a web app.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646844016","list":"develop","name":"platformSelection","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{},{},{}]},"stakeholders":{"group":0,"elementDecisions":[{},{}]},"tools":{},"stepDecisions":[]},"Activity_1g0pfta_1616163221209":{"method":{"type":"DevelopmentMethod","_id":"1615893225262","_rev":"1-63e8fb5efd336c73e638cf4366dd000e","name":"Cost Estimation","description":"The goal of this building block is to estimate the costs that the development of the app will costs.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646848359","list":"develop","name":"financialCheck","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Partners","element":{"type":"Stakeholder","_id":"1615647131910","_rev":"1-a12023cc7ce8f1368743543862fedfbe","list":"Partners","name":"Development Agency","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{},{},{}]},"stakeholders":{"group":0,"elementDecisions":[{},{},{}]},"tools":{},"stepDecisions":[]},"Activity_0wvgpad_1616163221209":{"method":{"type":"DevelopmentMethod","_id":"1615893378246","_rev":"1-c5e4c3ccc0065a637f2efb8ac412978f","name":"Internal Development","description":"The goal of this building block is to develop the first version of the app. Internal developers will do this development.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646852543","list":"develop","name":"productDevelopment","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647506232","_rev":"1-e7398b72a379a4c00f11f5da5d8eb027","list":"Company","name":"financialResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Product","multiple":true,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"1-0955816d51a7c74e2d8306ee47a3c9fe","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{}]},"outputArtifacts":{"group":0,"elementDecisions":[{"elements":[{"type":"Artifact","_id":"1615648569558","_rev":"1-e0b1b9f28c07031901a1741f7e537402","list":"Product","name":"Web App","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{},{},{}]},"tools":{},"stepDecisions":[]},"Activity_0kcusnn_1616163221209":{"method":{"type":"DevelopmentMethod","_id":"1615893680202","_rev":"1-3212796bc168402a0623ef2b4aa1d238","name":"Platform Publishing","description":"The goal of this building block is to publish the product on the selected platforms.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646856351","list":"develop","name":"platformPublishing","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Product","multiple":true,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Product","multiple":true,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","multiple":true,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{},{},{},{"elements":[{"type":"Artifact","_id":"1615648569558","_rev":"1-e0b1b9f28c07031901a1741f7e537402","list":"Product","name":"Web App","description":null,"internalArtifact":false}]}]},"outputArtifacts":{},"stakeholders":{"group":0,"elementDecisions":[{},{}]},"tools":{},"stepDecisions":[]},"Activity_0rwv72u_1616162794632":{"method":{"type":"DevelopmentMethod","_id":"1615656471945","_rev":"1-43f4f2a875d96fc5617e69f0d89c745a","name":"Survey Conduction","description":"The goal of this building block is to conduct surveys with different persons. Surveys can be used to research a high number of persons with standardized questions about the problem, possible ideas, or different developed prototypes.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis"},{"list":"validate"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Prototype","multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Product","multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false}]},{"items":[{"list":"Information","multiple":true,"optional":false}]},{"items":[{"list":"Prototype","multiple":false,"optional":false}]},{"items":[{"list":"Product","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Survey Tools","multiple":false,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":3,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648569558","_rev":"1-e0b1b9f28c07031901a1741f7e537402","list":"Product","name":"Web App","description":null,"internalArtifact":false}}]},"outputArtifacts":{"group":1,"elementDecisions":[{"elements":[{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{},{"element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null}}]},"tools":{"group":0,"elementDecisions":[{"element":{"type":"Tool","_id":"1615648913863","_rev":"1-3cbf3d075a79a899780769992ec0e45f","list":"Survey Tools","name":"Survey Monkey","description":null}}]},"stepDecisions":[]},"Activity_08x5kem_1616162812982":{"method":{"type":"DevelopmentMethod","_id":"1615649204477","_rev":"1-c39b0678f088fb7c8ba28fd80e80d571","name":"Target Audience Identification","description":"The goal of this building block is to identify the target audience of your apps. This identification, in turn, will support the development of an app that directly fits the specific needs of the customer group.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646712401","list":"discovery","name":"customerIdentification","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[]}},"_id":"1616162779170"},{"type":"CanvasDefinition","name":"Business Model Canvas","description":"The Business Model Canvas supports the structuring of the business models for the product/service within nine building blocks.","rows":[[{"isSpacer":false,"id":"key-partners","name":"Key Partners","rowspan":2,"colspan":2},{"isSpacer":false,"id":"key-activities","name":"Key Activities","rowspan":1,"colspan":2},{"isSpacer":false,"id":"value-propositions","name":"Value Propositions","rowspan":2,"colspan":2},{"isSpacer":false,"id":"customer-relationships","name":"Customer Relationships","rowspan":1,"colspan":2},{"isSpacer":false,"id":"customer-segments","name":"Customer Segments","rowspan":2,"colspan":2}],[{"isSpacer":false,"id":"key-resources","name":"Key Resources","rowspan":1,"colspan":2},{"isSpacer":false,"id":"channels","name":"Customer Channels","rowspan":1,"colspan":2}],[{"isSpacer":false,"id":"cost-structure","name":"Cost Structure","rowspan":1,"colspan":5},{"isSpacer":false,"id":"revenue-streams","name":"Revenue Streams","rowspan":1,"colspan":5}]],"relationshipTypes":["requires","excludes","supports","hurts"],"_id":"1625144329606"},{"type":"CanvasDefinition","name":"Value Proposition Canvas","description":"The Value Proposition Canvas supports to align the product/service with the acutal pains and gains of the customer.","rows":[[{"isSpacer":false,"id":"products-&-services","name":"Products & Services","rowspan":2,"colspan":1},{"isSpacer":false,"id":"gain-creators","name":"Gain Creators","rowspan":1,"colspan":1},{"isSpacer":true,"rowspan":2,"colspan":1},{"isSpacer":false,"id":"gains","name":"Gains","rowspan":1,"colspan":1},{"isSpacer":false,"id":"customer-jobs","name":"Customer Jobs","rowspan":2,"colspan":1}],[{"isSpacer":false,"id":"pain-relievers","name":"Pain Relievers","rowspan":1,"colspan":1},{"isSpacer":false,"id":"pains","name":"Pains","rowspan":1,"colspan":1}]],"relationshipTypes":["requires","excludes","supports","hurts"],"_id":"1625144754642"},{"type":"CompanyModel","name":"Mobile Apps Value Proposition","description":"This composed model is used for the value proposition within the LEAN development seminar.","copyright":"","author":{},"features":{"products-&-services":{"name":"Products & Services","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"gain-creators":{"name":"Gain Creators","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"gains":{"name":"Gains","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-jobs":{"name":"Customer Jobs","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"pain-relievers":{"name":"Pain Relievers","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"pains":{"name":"Pains","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"instances":[],"nextInstanceId":0,"$definition":{"type":"CanvasDefinition","_id":"1625144754642","_rev":"4-95b6035a47a3e7f31413eac530bd6974","name":"Value Proposition Canvas","rows":[[{"isSpacer":false,"id":"products-&-services","name":"Products & Services","rowspan":2,"colspan":1},{"isSpacer":false,"id":"gain-creators","name":"Gain Creators","rowspan":1,"colspan":1},{"isSpacer":true,"rowspan":2,"colspan":1},{"isSpacer":false,"id":"gains","name":"Gains","rowspan":1,"colspan":1},{"isSpacer":false,"id":"customer-jobs","name":"Customer Jobs","rowspan":2,"colspan":1}],[{"isSpacer":false,"id":"pain-relievers","name":"Pain Relievers","rowspan":1,"colspan":1},{"isSpacer":false,"id":"pains","name":"Pains","rowspan":1,"colspan":1}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"expertModelTraces":{},"createdByMethod":false,"_id":"1625667089851"},{"type":"CompanyModel","name":"Mobile Apps Business Model","description":"This composed model is used for the business model within the LEAN development seminar.","copyright":"","author":{},"features":{"key-partners":{"name":"Key Partners","type":"optional","subfeatures":{"advertisement-partner":{"name":"Advertisement Partner","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisement-partner"}},"app-developer":{"name":"App Developer","type":"optional","subfeatures":{"no-sdk":{"name":"No SDK","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"no-sdk"}},"sdk-integration":{"name":"SDK Integration","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"sdk-integration"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-developer"}},"content-partner":{"name":"Content Partner","type":"optional","subfeatures":{"movie-studios":{"name":"Movie Studios","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"movie-studios"}},"production-partner":{"name":"Production Partner","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"production-partner"}},"content-creators":{"name":"Content-Creators","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-creators"}},"record-labels":{"name":"Record Labels","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"record-labels"}},"independent-musicians":{"name":"Independent Musicians","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"independent-musicians"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-provider"}},"instrastructure-provider":{"name":"Instrastructure Provider","type":"optional","subfeatures":{"amazon-aws":{"name":"Amazon AWS","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"amazon-aws"}},"google-cloud-platform":{"name":"Google Cloud Platform","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"google-cloud-platform"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"instrastructure-provider"}},"manufacturing-provider":{"name":"Manufacturing Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"manufacturing-provider"}},"payment-provider":{"name":"Payment Provider","type":"optional","subfeatures":{"own-payment-provider-additional-to-store-provider":{"name":"Own Payment Provider additional to Store Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"own-payment-provider-additional-to-store-provider"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"payment-provider"}},"store-provider":{"name":"Store Provider","type":"mandatory","subfeatures":{"partner-for-developer-license-and-store-publishing":{"name":"Partner for Developer License and Store Publishing","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"partner-for-developer-license-and-store-publishing"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"store-provider"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"key-partners"}},"key-activities":{"name":"Key Activities","type":"optional","subfeatures":{"develop-hard--and-software":{"name":"Develop Hard- and Software","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["development"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"develop-hard--and-software"}},"negotiate-licenses":{"name":"Negotiate Licenses","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"negotiate-licsenses"}},"manage-infrastructure":{"name":"Manage Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"manage-infrastructure"}},"produce-content":{"name":"Produce Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"produce-content"}},"plan-marketing-campaigns":{"name":"Plan Marketing Campaigns","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"plan-marketing-campaigns"}},"support-customer":{"name":"Support Customer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"support-customer"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"key-activities"}},"value-propositions":{"name":"Value Propositions","type":"optional","subfeatures":{"accessibility":{"name":"Accessibility","description":"Strategy to provide access for the user of the app","type":"optional","subfeatures":{"anonymous-access":{"name":"Anonymous Access","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"anonymous-access"}},"simplified-sign-in-servies":{"name":"Simplified Sign-In Servies","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"simplified-sign-in-servies"}},"different-devices":{"name":"Different Devices","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"different-devices"}},"paid-account":{"name":"Paid Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"paid-account"}},"free-account":{"name":"Free Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"free-account"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"accessibility"}},"customization":{"name":"Customization","description":"Possibility to customize the app","type":"optional","subfeatures":{"personalized-recommendations":{"name":"Personalized Recommendations","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"personalized-recommendations"}},"changeable-user-interfaces":{"name":"Changeable User Interfaces","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"changeable-user-interfaces"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customization"}},"design-/-usability":{"name":"Design / Usability","description":"Design acsepts that are integrated into the app","type":"optional","subfeatures":{"execution-step-reduction":{"name":"Execution Step Reduction","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"execution-step-reduction"}},"design-pattern-usage":{"name":"Design Pattern Usage","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"design-pattern-usage"}},"easy-usability":{"name":"Easy Usability","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"easy-usability"}},"responsible-design":{"name":"Responsible Design","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"responsible-design"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"design-/-usability"}},"price":{"name":"Price","description":"Pricing strategy of the app","type":"optional","subfeatures":{"low-price-strategy":{"name":"Low-Price Strategy","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"hurts":["cancel-anytime","premium-content"],"supports":["private-user"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"low-price-strategy"}},"money-back-guarantee":{"name":"Money-Back Guarantee","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["cancel-anytime"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"money-back-guarantee"}},"cancel-anytime":{"name":"Cancel Anytime","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["membership"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"cancel-anytime"}},"freemium":{"name":"Freemium","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"freemium-1"}},"equal-price-strategy":{"name":"Equal-Price-Strategy","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"equal-price-strategy"}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"price"}},"network":{"name":"Network","description":"Network ascepts that are covered within the app","type":"optional","subfeatures":{"quantity-network-size":{"name":"Quantity Network Size","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"quantity-network-size"}},"quality-network-users":{"name":"Quality Network Users","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"quality-network-users"}},"share-content":{"name":"Share Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"share-content"}},"connect-with-other-users":{"name":"Connect with other Users","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"connect-with-other-users"}},"share-playlists":{"name":"Share Playlists","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"share-playlists"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"network"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"value-propositions"}},"customer-relationships":{"name":"Customer Relationships","type":"optional","subfeatures":{"customer-aquisition":{"name":"Customer Aquisition","description":"Establishment of new relationshipd to customers","type":"optional","subfeatures":{"advertisements":{"name":"Advertisements","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisements"}},"friend-invitation-system":{"name":"Friend Invitation System","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"friend-invitation-system"}},"single-sign-in":{"name":"Single-Sign-In","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"single-sign-in"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-aquisition"}},"customer-retention":{"name":"Customer Retention","description":"Maintainance of existing relationshipd to customers","type":"optional","subfeatures":{"locked-in":{"name":"Locked-In","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"locked-in"}},"gamification":{"name":"Gamification","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"gamification"}},"customer-support":{"name":"Customer Support","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-support"}},"content-updates":{"name":"Content-Updates","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-updates-1"}},"self-service":{"name":"Self-Service","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"self-service"}},"content-quantity":{"name":"Content-Quantity","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-quantity"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-retention"}},"boosting-sales":{"name":"Boosting Sales","description":"Increase the revenue from existing customers","type":"optional","subfeatures":{"forced-stops":{"name":"Forced Stops","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"forced-stops"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"boosting-sales"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-relationships"}},"customer-segments":{"name":"Customer Segments","type":"optional","subfeatures":{"interaction-type":{"name":"Interaction Type","description":"Interaction of a customer with other customers","type":"optional","subfeatures":{"single-user":{"name":"Single-User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["network"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"single-user"}},"single-sided-market":{"name":"Single-Sided-Market","description":"interacting with the same type of customer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"single-sided-market"}},"multi-sided-market":{"name":"Multi-Sided-Market","description":"interacting with customers of another type","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"multi-sided-market"}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"interaction-type"}},"market-size":{"name":"Market Size","description":"Size of the targeted market","type":"optional","subfeatures":{"niche-market":{"name":"Niche Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"niche-market"}},"mass-market":{"name":"Mass Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["equal-price-strategy"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"mass-market"}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"market-size"}},"target-group":{"name":"Target Group","description":"Group of customers that is targeted","type":"optional","subfeatures":{"gender":{"name":"Gender","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"gender"}},"interests":{"name":"Interests","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"interests"}},"relationship":{"name":"Relationship","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"relationship"}},"content-consumer":{"name":"Content-Consumer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-consumer"}},"content-creator":{"name":"Content-Creator","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-creator"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"target-group"}},"user-type":{"name":"User Type","description":"Type of user that is targeted","type":"optional","subfeatures":{"private-user":{"name":"Private User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"private-user"}},"professional-user":{"name":"Professional User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"professional-user"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"user-type"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-segments"}},"key-resources":{"name":"Key Resources","type":"optional","subfeatures":{"algorithms":{"name":"Algorithms","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["personalized-recommendations"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"algorithms"}},"brands":{"name":"Brands","type":"optional","subfeatures":{"youtube-originals":{"name":"YouTube Originals","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"youtube-originals"}},"netflix-originals":{"name":"Netflix Originals","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"netflix-originals-1"}},"podcasts":{"name":"Podcasts","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"podcasts"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"brands"}},"content-1":{"name":"Content","type":"optional","subfeatures":{"netflix-originals-1":{"name":"Netflix Originals","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"netflix-originals"}},"licensed-content":{"name":"Licensed Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"licensed-content"}},"youtube-originals-1":{"name":"YouTube Originals","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"youtube-originals-1"}},"content-from-content-creators":{"name":"Content from Content-Creators","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-from-content-creators"}},"exclusive-rights-for-some-podcast":{"name":"Exclusive Rights for some Podcast","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"exclusive-rights-for-some-podcast"}},"music-licenses":{"name":"Music Licenses","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"music-licenses"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content"}},"developer-license":{"name":"Developer License","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"developer-licsense"}},"patents":{"name":"Patents","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"patents"}},"infrastructure":{"name":"Infrastructure","type":"optional","subfeatures":{"external-infrastructure":{"name":"External Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"external-infrastructure"}},"internal-inrastructure":{"name":"Internal Inrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"internal-inrastructure"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"infrastructure-1"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"key-resources"}},"channels":{"name":"Customer Channels","type":"optional","subfeatures":{"awareness":{"name":"Awareness","description":"Attract attention from new customers","type":"optional","subfeatures":{"word-of-mouth":{"name":"Word-of-Mouth","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"word-of-mouth"}},"store-placement":{"name":"Store Placement","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"store-placement"}},"advertisement-1":{"name":"Advertisement","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisement-1"}},"store-position":{"name":"Store Position","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"store-position"}},"3rd-party-integration":{"name":"3rd-Party-Integration","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"3rd-party-integration"}},"distributable-codes":{"name":"Distributable Codes","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"distributable-codes"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"awareness"}},"evaluation":{"name":"Evaluation","description":"Show benefits to new customers","type":"optional","subfeatures":{"freemium-1":{"name":"Freemium","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"freemium"}},"appstore-optimization":{"name":"AppStore Optimization","type":"optional","subfeatures":{"review-reactions":{"name":"Review Reactions","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"review-reactions"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"appstore-optimization"}},"rating":{"name":"Rating","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"rating"}},"reviews":{"name":"Reviews","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"reviews"}},"free-month":{"name":"Free Month","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"free-month"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"evaluation"}},"purchase":{"name":"Purchase","description":"Sale of the app","type":"mandatory","subfeatures":{"in-store-purchase":{"name":"In-Store Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"in-store-purchase"}},"out-of-store-purchase":{"name":"Out-of-Store Purchase","type":"optional","subfeatures":{"homepage":{"name":"Homepage","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"homepage"}},"app-1":{"name":"App","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-1"}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["payment-provider"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"out-of-store-purchase"}},"no-purchase":{"name":"No Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"no-purchase"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"purchase"}},"delivery":{"name":"Delivery","description":"Delivery of the app","type":"mandatory","subfeatures":{"in-store-delivery":{"name":"In-Store Delivery","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"in-store-delivery"}},"out-of-store-delivery":{"name":"Out-of-Store Delivery","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"out-of-store-delivery"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"delivery"}},"after-sales":{"name":"After Sales","description":"Gain value of existing customers after the sales","type":"optional","subfeatures":{"app-updates":{"name":"App Updates","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-updates"}},"content-updates-1":{"name":"Content Updates","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-updates"}},"push-notifications":{"name":"Push-Notifications","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"push-notifications"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"after-sales"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"channels"}},"cost-structure":{"name":"Cost Structure","type":"optional","subfeatures":{"development":{"name":"Development","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"development"}},"infrastructure-1":{"name":"Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"infrastructure"}},"licenses":{"name":"Licenses","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"licenses"}},"marketing":{"name":"Marketing","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"marketing"}},"production--1":{"name":"Production ","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"production-"}},"support-1":{"name":"Support","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"support"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"cost-structure"}},"revenue-streams":{"name":"Revenue Streams","type":"optional","subfeatures":{"advertisement-2":{"name":"Advertisement","type":"optional","subfeatures":{"in-app-ads":{"name":"In-App Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"hurts":["anonymous-access"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"inn-app-ads"}},"personalized-ads":{"name":"Personalized Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"hurts":["anonymous-access"],"excludes":["membership"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"personalized-ads"}},"without-account":{"name":"without Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"without-account"}},"with-free-account":{"name":"with Free Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"with-free-account"}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["advertisement-partner"],"hurts":["price"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisement"}},"brokerage":{"name":"Brokerage","description":"","type":"optional","subfeatures":{"money-for-content-creators":{"name":"Money for Content Creators","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"money-for-content-creators"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"brokerage"}},"donation":{"name":"Donation","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"donation"}},"sale":{"name":"Sale","type":"optional","subfeatures":{"app-purchase":{"name":"App Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-purchase"}},"in-app-purchase":{"name":"In-App Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"in-app-purchase"}},"sell-movies":{"name":"Sell Movies","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"sell-movies"}},"lend-movies":{"name":"Lend Movies","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"lend-movies"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"sale"}},"subscription":{"name":"Subscription","type":"optional","subfeatures":{"membership":{"name":"Membership","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["personalized-ads"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"membership"}},"premium-content":{"name":"Premium Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"premium-content"}},"content-2":{"name":"Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-1"}},"premium-features":{"name":"Premium Features","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"premium-features"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"subscription"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"revenue-streams"}}},"instances":[],"nextInstanceId":0,"$definition":{"type":"CanvasDefinition","_id":"1625144329606","_rev":"4-4b207d2084ec0ea1ed60d696fa42b22a","name":"Business Model Canvas","rows":[[{"isSpacer":false,"id":"key-partners","name":"Key Partners","rowspan":2,"colspan":2},{"isSpacer":false,"id":"key-activities","name":"Key Activities","rowspan":1,"colspan":2},{"isSpacer":false,"id":"value-propositions","name":"Value Propositions","rowspan":2,"colspan":2},{"isSpacer":false,"id":"customer-relationships","name":"Customer Relationships","rowspan":1,"colspan":2},{"isSpacer":false,"id":"customer-segments","name":"Customer Segments","rowspan":2,"colspan":2}],[{"isSpacer":false,"id":"key-resources","name":"Key Resources","rowspan":1,"colspan":2},{"isSpacer":false,"id":"channels","name":"Customer Channels","rowspan":1,"colspan":2}],[{"isSpacer":false,"id":"cost-structure","name":"Cost Structure","rowspan":1,"colspan":5},{"isSpacer":false,"id":"revenue-streams","name":"Revenue Streams","rowspan":1,"colspan":5}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"expertModelTraces":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":{"expertFeatureIdMap":{"key-partners":"key-partners","key-activities":"key-activities","value-propositions":"value-propositions","customer-relationships":"customer-relationships","customer-segments":"customer-segments","key-resources":"key-resources","channels":"channels","cost-structure":"cost-structure","revenue-streams":"revenue-streams","accessibility":"accessibility","anonymous-access":"anonymous-access","simplified-sign-in-servies":"simplified-sign-in-servies","different-devices":"different-devices","paid-account":"paid-account","free-account":"free-account","customization":"customization","personalized-recommendations":"personalized-recommendations","changeable-user-interfaces":"changeable-user-interfaces","design-/-usability":"design-/-usability","execution-step-reduction":"execution-step-reduction","design-pattern-usage":"design-pattern-usage","easy-usability":"easy-usability","responsible-design":"responsible-design","price":"price","low-price-strategy":"low-price-strategy","money-back-guarantee":"money-back-guarantee","cancel-anytime":"cancel-anytime","freemium-1":"freemium","equal-price-strategy":"equal-price-strategy","network":"network","quantity-network-size":"quantity-network-size","quality-network-users":"quality-network-users","share-content":"share-content","connect-with-other-users":"connect-with-other-users","share-playlists":"share-playlists","interaction-type":"interaction-type","single-user":"single-user","single-sided-market":"single-sided-market","multi-sided-market":"multi-sided-market","market-size":"market-size","niche-market":"niche-market","mass-market":"mass-market","target-group":"target-group","gender":"gender","interests":"interests","relationship":"relationship","content-consumer":"content-consumer","content-creator":"content-creator","user-type":"user-type","private-user":"private-user","professional-user":"professional-user","customer-aquisition":"customer-aquisition","advertisements":"advertisements","friend-invitation-system":"friend-invitation-system","single-sign-in":"single-sign-in","customer-retention":"customer-retention","locked-in":"locked-in","gamification":"gamification","customer-support":"customer-support","content-updates-1":"content-updates","self-service":"self-service","content-quantity":"content-quantity","boosting-sales":"boosting-sales","forced-stops":"forced-stops","awareness":"awareness","word-of-mouth":"word-of-mouth","store-placement":"store-placement","advertisement-1":"advertisement-1","store-position":"store-position","3rd-party-integration":"3rd-party-integration","distributable-codes":"distributable-codes","evaluation":"evaluation","freemium":"freemium-1","appstore-optimization":"appstore-optimization","review-reactions":"review-reactions","rating":"rating","reviews":"reviews","free-month":"free-month","purchase":"purchase","in-store-purchase":"in-store-purchase","out-of-store-purchase":"out-of-store-purchase","homepage":"homepage","app-1":"app-1","no-purchase":"no-purchase","delivery":"delivery","in-store-delivery":"in-store-delivery","out-of-store-delivery":"out-of-store-delivery","after-sales":"after-sales","app-updates":"app-updates","content-updates":"content-updates-1","push-notifications":"push-notifications","advertisement-partner":"advertisement-partner","app-developer":"app-developer","no-sdk":"no-sdk","sdk-integration":"sdk-integration","content-provider":"content-partner","movie-studios":"movie-studios","production-partner":"production-partner","content-creators":"content-creators","record-labels":"record-labels","independent-musicians":"independent-musicians","instrastructure-provider":"instrastructure-provider","amazon-aws":"amazon-aws","google-cloud-platform":"google-cloud-platform","manufacturing-provider":"manufacturing-provider","payment-provider":"payment-provider","own-payment-provider-additional-to-store-provider":"own-payment-provider-additional-to-store-provider","store-provider":"store-provider","partner-for-developer-license-and-store-publishing":"partner-for-developer-license-and-store-publishing","develop-hard--and-software":"develop-hard--and-software","negotiate-licsenses":"negotiate-licenses","manage-infrastructure":"manage-infrastructure","produce-content":"produce-content","plan-marketing-campaigns":"plan-marketing-campaigns","support-customer":"support-customer","algorithms":"algorithms","brands":"brands","youtube-originals":"youtube-originals","netflix-originals-1":"netflix-originals","podcasts":"podcasts","content":"content-1","netflix-originals":"netflix-originals-1","licensed-content":"licensed-content","youtube-originals-1":"youtube-originals-1","content-from-content-creators":"content-from-content-creators","exclusive-rights-for-some-podcast":"exclusive-rights-for-some-podcast","music-licenses":"music-licenses","developer-licsense":"developer-license","patents":"patents","infrastructure-1":"infrastructure","external-infrastructure":"external-infrastructure","internal-inrastructure":"internal-inrastructure","advertisement":"advertisement-2","inn-app-ads":"in-app-ads","personalized-ads":"personalized-ads","without-account":"without-account","with-free-account":"with-free-account","brokerage":"brokerage","money-for-content-creators":"money-for-content-creators","donation":"donation","sale":"sale","app-purchase":"app-purchase","in-app-purchase":"in-app-purchase","sell-movies":"sell-movies","lend-movies":"lend-movies","subscription":"subscription","membership":"membership","premium-content":"premium-content","content-1":"content-2","premium-features":"premium-features","development":"development","infrastructure":"infrastructure-1","licenses":"licenses","marketing":"marketing","production-":"production--1","support":"support-1"}}},"createdByMethod":false,"_id":"1625667191131"},{"type":"DevelopmentMethod","name":"Competitor Business Model Analysis","description":"Used to create the business models of the competitors to compare them, later, with the company\'s business model.","examples":[],"author":{},"types":[{"list":"design","element":null}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-e95a5042d57452e023ca6844a7e3f095","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[{"output":false,"step":0,"artifact":0}],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-e95a5042d57452e023ca6844a7e3f095","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[{"module":"Canvas Module","method":"createCompetitors","predefinedInput":null,"outputMappings":[[{"output":false,"step":1,"artifact":0}]]},{"module":"Canvas Module","method":"manageCompetitors","predefinedInput":null,"outputMappings":[[{"output":true,"group":0,"artifact":0}]]}],"_id":"1625914258042"},{"type":"DevelopmentMethod","name":"Competitor Business Model Comparison","description":"Compare the business models of competitors against the company\'s own business model.","examples":[],"author":{},"types":[{"list":"design","element":{"type":"Type","list":"design","name":"enhancementDesign","description":null,"_id":"1615646810172","_rev":"1-5fa456b6bfce7414d918300104d0c1a5"}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-e95a5042d57452e023ca6844a7e3f095","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[{"output":false,"step":0,"artifact":0}],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-e95a5042d57452e023ca6844a7e3f095","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[{"module":"Canvas Module","method":"compareCompetitors","predefinedInput":null,"outputMappings":[[{"output":false,"step":1,"artifact":0}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"output":true,"group":0,"artifact":0}]]}],"_id":"1625914482224"},{"type":"DevelopmentMethod","name":"Competitor Value Proposition Analysis","description":"Used to create the value propositions of the competitors to compare them, later, with the company\'s value proposition.","examples":[],"author":{},"types":[{"list":"design"}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-d8521e453f55ec76a8ceec62094e407f","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[{"output":false,"step":0,"artifact":0}],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-d8521e453f55ec76a8ceec62094e407f","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[{"module":"Canvas Module","method":"createCompetitors","predefinedInput":null,"outputMappings":[[{"output":false,"step":1,"artifact":0}]]},{"module":"Canvas Module","method":"manageCompetitors","predefinedInput":null,"outputMappings":[[{"output":true,"group":0,"artifact":0}]]}],"_id":"1625914687168"},{"type":"DevelopmentMethod","name":"Competitor Value Proposition Comparison","description":"Compare the value propositions of competitors against the company\'s own value proposition.","examples":[],"author":{},"types":[{"list":"design","element":{"type":"Type","list":"design","name":"enhancementDesign","description":null,"_id":"1615646810172","_rev":"1-5fa456b6bfce7414d918300104d0c1a5"}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-d8521e453f55ec76a8ceec62094e407f","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[{"output":false,"step":0,"artifact":0}],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-d8521e453f55ec76a8ceec62094e407f","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[{"module":"Canvas Module","method":"compareCompetitors","predefinedInput":null,"outputMappings":[[{"output":false,"step":1,"artifact":0}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"output":true,"group":0,"artifact":0}]]}],"_id":"1625914694662"},{"type":"Domain","name":"Mobile Apps","_id":"1625915974420"},{"type":"Domain","name":"Mobile Todo-Apps","_id":"1625915982726"},{"type":"RunningProcess","name":"OWL Culture","process":{"type":"BmProcess","_id":"1616162779170","_rev":"2-feab84e1308a79847f0ba151e14ff704","initial":true,"name":"OWL Culture","processDiagram":"<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" xmlns:ns1=\\"http://localhost/schema/rbmp\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\" ns1:executed=\\"true\\"><bpmn:outgoing>Flow_1xrata6</bpmn:outgoing></bpmn:startEvent><bpmn:subProcess id=\\"Activity_16tot26\\" name=\\"Business Model Initialization Pattern\\" ns1:tokens=\\"1\\"><bpmn:incoming>Flow_1xrata6</bpmn:incoming><bpmn:startEvent id=\\"StartEvent_1_1616162794632\\" ns1:executed=\\"true\\"><bpmn:outgoing>Flow_1038tb5_1616162794632</bpmn:outgoing></bpmn:startEvent><bpmn:exclusiveGateway id=\\"Gateway_1sn658h_1616162794632\\"><bpmn:incoming>Flow_0x50kxa_1616162794632</bpmn:incoming><bpmn:incoming>Flow_15rpn99</bpmn:incoming><bpmn:outgoing>Flow_161z037</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_1xo4mt4_1616162794632\\"><bpmn:incoming>Flow_1gkr7d2_1616162794632</bpmn:incoming><bpmn:incoming>Flow_0y90tg4</bpmn:incoming><bpmn:outgoing>Flow_1935tcl_1616162794632</bpmn:outgoing><bpmn:outgoing>Flow_1y1n4z3</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_1oaecke_1616162794632\\"><bpmn:incoming>Flow_0delj8n_1616162794632</bpmn:incoming><bpmn:incoming>Flow_0xza7bw</bpmn:incoming><bpmn:outgoing>Flow_0x50kxa_1616162794632</bpmn:outgoing><bpmn:outgoing>Flow_0s197e4</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_168ska7_1616162794632\\"><bpmn:incoming>Flow_023xx9r</bpmn:incoming><bpmn:outgoing>Flow_172n46f_1616162794632</bpmn:outgoing><bpmn:outgoing>Flow_1gkr7d2_1616162794632</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id=\\"Activity_0rwv72u_1616162794632\\" name=\\"&lt;&lt;validate&gt;&gt;\\"><bpmn:incoming>Flow_172n46f_1616162794632</bpmn:incoming><bpmn:outgoing>Flow_10xurca_1616162794632</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Survey Conduction</bmdl:name><bmdl:id>1615656471945</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_01iu1l9_1616162794632\\"><bpmn:incoming>Flow_10xurca_1616162794632</bpmn:incoming><bpmn:outgoing>Flow_07db5lv_1616162794632</bpmn:outgoing><bpmn:outgoing>Flow_0delj8n_1616162794632</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:endEvent id=\\"Event_02xe3v6_1616162794632\\"><bpmn:incoming>Flow_07db5lv_1616162794632</bpmn:incoming></bpmn:endEvent><bpmn:exclusiveGateway id=\\"Gateway_1fdjmm5_1616162794632\\" ns1:executed=\\"true\\"><bpmn:incoming>Flow_1038tb5_1616162794632</bpmn:incoming><bpmn:incoming>Flow_1935tcl_1616162794632</bpmn:incoming><bpmn:outgoing>Flow_037kmwa</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1038tb5_1616162794632\\" sourceRef=\\"StartEvent_1_1616162794632\\" targetRef=\\"Gateway_1fdjmm5_1616162794632\\" ns1:used=\\"true\\" /><bpmn:sequenceFlow id=\\"Flow_172n46f_1616162794632\\" sourceRef=\\"Gateway_168ska7_1616162794632\\" targetRef=\\"Activity_0rwv72u_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_10xurca_1616162794632\\" sourceRef=\\"Activity_0rwv72u_1616162794632\\" targetRef=\\"Gateway_01iu1l9_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_07db5lv_1616162794632\\" sourceRef=\\"Gateway_01iu1l9_1616162794632\\" targetRef=\\"Event_02xe3v6_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_1935tcl_1616162794632\\" sourceRef=\\"Gateway_1xo4mt4_1616162794632\\" targetRef=\\"Gateway_1fdjmm5_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_0x50kxa_1616162794632\\" sourceRef=\\"Gateway_1oaecke_1616162794632\\" targetRef=\\"Gateway_1sn658h_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_0delj8n_1616162794632\\" sourceRef=\\"Gateway_01iu1l9_1616162794632\\" targetRef=\\"Gateway_1oaecke_1616162794632\\" /><bpmn:sequenceFlow id=\\"Flow_1gkr7d2_1616162794632\\" sourceRef=\\"Gateway_168ska7_1616162794632\\" targetRef=\\"Gateway_1xo4mt4_1616162794632\\" /><bpmn:subProcess id=\\"Activity_0686rhv\\" name=\\"Customer First Discovery Pattern\\" ns1:tokens=\\"1\\"><bpmn:incoming>Flow_037kmwa</bpmn:incoming><bpmn:outgoing>Flow_15rpn99</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162806439\\" ns1:executed=\\"true\\"><bpmn:outgoing>Flow_0hfjqez</bpmn:outgoing></bpmn:startEvent><bpmn:exclusiveGateway id=\\"Gateway_1a1s22u_1616162806439\\"><bpmn:incoming>Flow_0n2o9ve_1616162806439</bpmn:incoming><bpmn:incoming>Flow_0z8u3do</bpmn:incoming><bpmn:outgoing>Flow_12rf0qc</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_0lohovi_1616162806439\\"><bpmn:incoming>Flow_1m0uij0</bpmn:incoming><bpmn:outgoing>Flow_1h1q2gc_1616162806439</bpmn:outgoing><bpmn:outgoing>Flow_0n2o9ve_1616162806439</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:endEvent id=\\"Event_0q9g0ys_1616162806439\\"><bpmn:incoming>Flow_1h1q2gc_1616162806439</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_1h1q2gc_1616162806439\\" sourceRef=\\"Gateway_0lohovi_1616162806439\\" targetRef=\\"Event_0q9g0ys_1616162806439\\" /><bpmn:sequenceFlow id=\\"Flow_0n2o9ve_1616162806439\\" sourceRef=\\"Gateway_0lohovi_1616162806439\\" targetRef=\\"Gateway_1a1s22u_1616162806439\\" /><bpmn:subProcess id=\\"Activity_1h4m3l3\\" name=\\"Customer Light Discovery Pattern\\" ns1:tokens=\\"1\\"><bpmn:incoming>Flow_0hfjqez</bpmn:incoming><bpmn:outgoing>Flow_0z8u3do</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646706099</bmdl:_id><bmdl:name>customerDiscovery</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162812982\\" ns1:executed=\\"true\\"><bpmn:outgoing>Flow_0mno57r_1616162812982</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1dwc5cr_1616162812982\\"><bpmn:incoming>Flow_03zya08_1616162812982</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_08x5kem_1616162812982\\" name=\\"&lt;&lt;customer Identification&gt;&gt;\\" ns1:tokens=\\"1\\"><bpmn:incoming>Flow_0mno57r_1616162812982</bpmn:incoming><bpmn:outgoing>Flow_03zya08_1616162812982</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646712401</bmdl:_id><bmdl:name>customerIdentification</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Target Audience Identification</bmdl:name><bmdl:id>1615649204477</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_0mno57r_1616162812982\\" sourceRef=\\"StartEvent_1_1616162812982\\" targetRef=\\"Activity_08x5kem_1616162812982\\" ns1:used=\\"true\\" /><bpmn:sequenceFlow id=\\"Flow_03zya08_1616162812982\\" sourceRef=\\"Activity_08x5kem_1616162812982\\" targetRef=\\"Event_1dwc5cr_1616162812982\\" /><bmdl:processPatternId>1615894206746</bmdl:processPatternId><bmdl:taskName>&lt;&lt;customer Discovery&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0hfjqez\\" sourceRef=\\"StartEvent_1_1616162806439\\" targetRef=\\"Activity_1h4m3l3\\" ns1:used=\\"true\\" /><bpmn:sequenceFlow id=\\"Flow_0z8u3do\\" sourceRef=\\"Activity_1h4m3l3\\" targetRef=\\"Gateway_1a1s22u_1616162806439\\" /><bpmn:subProcess id=\\"Activity_1gmijag\\" name=\\"Problem Deep Discovery Pattern\\"><bpmn:incoming>Flow_12rf0qc</bpmn:incoming><bpmn:outgoing>Flow_1m0uij0</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646721496</bmdl:_id><bmdl:name>problemDiscovery</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162824997\\"><bpmn:outgoing>Flow_0pscsir</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_0aebfpi_1616162824997\\"><bpmn:incoming>Flow_0rpoim1</bpmn:incoming></bpmn:endEvent><bpmn:subProcess id=\\"Activity_0k4orxi\\" name=\\"Generic Parallelism Pattern\\"><bpmn:incoming>Flow_0pscsir</bpmn:incoming><bpmn:outgoing>Flow_06xvh6y</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646726406</bmdl:_id><bmdl:name>problemIdentification</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162833615\\"><bpmn:outgoing>Flow_02lt5jx_1616162833615</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id=\\"Gateway_1elyntr_1616162833615\\"><bpmn:incoming>Flow_02lt5jx_1616162833615</bpmn:incoming><bpmn:outgoing>Flow_1ga9lx3_1616162833615</bpmn:outgoing><bpmn:outgoing>Flow_0vucjs2_1616162833615</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_0kvyq9x_1616162833615\\"><bpmn:incoming>Flow_05fk023_1616162833615</bpmn:incoming><bpmn:incoming>Flow_155pkgy_1616162833615</bpmn:incoming><bpmn:outgoing>Flow_13gx7u5_1616162833615</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_1i06277_1616162833615\\"><bpmn:incoming>Flow_13gx7u5_1616162833615</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0r6nbda_1616162833615\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_1ga9lx3_1616162833615</bpmn:incoming><bpmn:outgoing>Flow_05fk023_1616162833615</bpmn:outgoing><bmdl:method><bmdl:name>Market Problem Observation</bmdl:name><bmdl:id>1615655139134</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1dah4ly_1616162833615\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_0vucjs2_1616162833615</bpmn:incoming><bpmn:outgoing>Flow_155pkgy_1616162833615</bpmn:outgoing><bmdl:method><bmdl:name>Store Trend Discovery</bmdl:name><bmdl:id>1615654719686</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_02lt5jx_1616162833615\\" sourceRef=\\"StartEvent_1_1616162833615\\" targetRef=\\"Gateway_1elyntr_1616162833615\\" /><bpmn:sequenceFlow id=\\"Flow_1ga9lx3_1616162833615\\" sourceRef=\\"Gateway_1elyntr_1616162833615\\" targetRef=\\"Activity_0r6nbda_1616162833615\\" /><bpmn:sequenceFlow id=\\"Flow_0vucjs2_1616162833615\\" sourceRef=\\"Gateway_1elyntr_1616162833615\\" targetRef=\\"Activity_1dah4ly_1616162833615\\" /><bpmn:sequenceFlow id=\\"Flow_05fk023_1616162833615\\" sourceRef=\\"Activity_0r6nbda_1616162833615\\" targetRef=\\"Gateway_0kvyq9x_1616162833615\\" /><bpmn:sequenceFlow id=\\"Flow_13gx7u5_1616162833615\\" sourceRef=\\"Gateway_0kvyq9x_1616162833615\\" targetRef=\\"Event_1i06277_1616162833615\\" /><bpmn:sequenceFlow id=\\"Flow_155pkgy_1616162833615\\" sourceRef=\\"Activity_1dah4ly_1616162833615\\" targetRef=\\"Gateway_0kvyq9x_1616162833615\\" /><bmdl:processPatternId>1615989084072</bmdl:processPatternId><bmdl:taskName>&lt;&lt;problem Identification&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0pscsir\\" sourceRef=\\"StartEvent_1_1616162824997\\" targetRef=\\"Activity_0k4orxi\\" /><bpmn:subProcess id=\\"Activity_1jgakqj\\" name=\\"Generic Parallelism Pattern\\"><bpmn:incoming>Flow_06xvh6y</bpmn:incoming><bpmn:outgoing>Flow_0rpoim1</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list><bmdl:methodElement><bmdl:_id>1615646731492</bmdl:_id><bmdl:name>problemAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162839015\\"><bpmn:outgoing>Flow_02lt5jx_1616162839015</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id=\\"Gateway_1elyntr_1616162839015\\"><bpmn:incoming>Flow_02lt5jx_1616162839015</bpmn:incoming><bpmn:outgoing>Flow_1ga9lx3_1616162839015</bpmn:outgoing><bpmn:outgoing>Flow_0vucjs2_1616162839015</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_0kvyq9x_1616162839015\\"><bpmn:incoming>Flow_05fk023_1616162839015</bpmn:incoming><bpmn:incoming>Flow_155pkgy_1616162839015</bpmn:incoming><bpmn:outgoing>Flow_13gx7u5_1616162839015</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_1i06277_1616162839015\\"><bpmn:incoming>Flow_13gx7u5_1616162839015</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0r6nbda_1616162839015\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_1ga9lx3_1616162839015</bpmn:incoming><bpmn:outgoing>Flow_05fk023_1616162839015</bpmn:outgoing><bmdl:method><bmdl:name>Interview Conduction</bmdl:name><bmdl:id>1615655818663</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1dah4ly_1616162839015\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_0vucjs2_1616162839015</bpmn:incoming><bpmn:outgoing>Flow_155pkgy_1616162839015</bpmn:outgoing><bmdl:method><bmdl:name>Social Media Survey Conduction</bmdl:name><bmdl:id>1615656699118</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_02lt5jx_1616162839015\\" sourceRef=\\"StartEvent_1_1616162839015\\" targetRef=\\"Gateway_1elyntr_1616162839015\\" /><bpmn:sequenceFlow id=\\"Flow_1ga9lx3_1616162839015\\" sourceRef=\\"Gateway_1elyntr_1616162839015\\" targetRef=\\"Activity_0r6nbda_1616162839015\\" /><bpmn:sequenceFlow id=\\"Flow_0vucjs2_1616162839015\\" sourceRef=\\"Gateway_1elyntr_1616162839015\\" targetRef=\\"Activity_1dah4ly_1616162839015\\" /><bpmn:sequenceFlow id=\\"Flow_05fk023_1616162839015\\" sourceRef=\\"Activity_0r6nbda_1616162839015\\" targetRef=\\"Gateway_0kvyq9x_1616162839015\\" /><bpmn:sequenceFlow id=\\"Flow_13gx7u5_1616162839015\\" sourceRef=\\"Gateway_0kvyq9x_1616162839015\\" targetRef=\\"Event_1i06277_1616162839015\\" /><bpmn:sequenceFlow id=\\"Flow_155pkgy_1616162839015\\" sourceRef=\\"Activity_1dah4ly_1616162839015\\" targetRef=\\"Gateway_0kvyq9x_1616162839015\\" /><bmdl:processPatternId>1615989084072</bmdl:processPatternId><bmdl:taskName>&lt;&lt;problem Analysis&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_06xvh6y\\" sourceRef=\\"Activity_0k4orxi\\" targetRef=\\"Activity_1jgakqj\\" /><bpmn:sequenceFlow id=\\"Flow_0rpoim1\\" sourceRef=\\"Activity_1jgakqj\\" targetRef=\\"Event_0aebfpi_1616162824997\\" /><bmdl:processPatternId>1615894574811</bmdl:processPatternId><bmdl:taskName>&lt;&lt;problem Discovery&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_12rf0qc\\" sourceRef=\\"Gateway_1a1s22u_1616162806439\\" targetRef=\\"Activity_1gmijag\\" /><bpmn:sequenceFlow id=\\"Flow_1m0uij0\\" sourceRef=\\"Activity_1gmijag\\" targetRef=\\"Gateway_0lohovi_1616162806439\\" /><bmdl:processPatternId>1615660450456</bmdl:processPatternId><bmdl:taskName>&lt;&lt;discovery&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_037kmwa\\" sourceRef=\\"Gateway_1fdjmm5_1616162794632\\" targetRef=\\"Activity_0686rhv\\" ns1:used=\\"true\\" /><bpmn:sequenceFlow id=\\"Flow_15rpn99\\" sourceRef=\\"Activity_0686rhv\\" targetRef=\\"Gateway_1sn658h_1616162794632\\" /><bpmn:subProcess id=\\"Activity_138vhg7\\" name=\\"Analysis Pattern\\"><bpmn:incoming>Flow_161z037</bpmn:incoming><bpmn:outgoing>Flow_0y90tg4</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162874911\\"><bpmn:outgoing>Flow_1oevy09_1616162874911</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_0iv60p2_1616162874911\\"><bpmn:incoming>Flow_03u30qm</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0h8izyq_1616162874911\\" name=\\"&lt;&lt;market Analysis&gt;&gt;\\"><bpmn:incoming>Flow_1oevy09_1616162874911</bpmn:incoming><bpmn:outgoing>Flow_0y4vo3x</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list><bmdl:methodElement><bmdl:_id>1615646742307</bmdl:_id><bmdl:name>marketAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Market Potential Analysis</bmdl:name><bmdl:id>1615657073736</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_1oevy09_1616162874911\\" sourceRef=\\"StartEvent_1_1616162874911\\" targetRef=\\"Activity_0h8izyq_1616162874911\\" /><bpmn:subProcess id=\\"Activity_1wu6tu1\\" name=\\"Generic Parallelism Pattern\\"><bpmn:incoming>Flow_0y4vo3x</bpmn:incoming><bpmn:outgoing>Flow_03u30qm</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list><bmdl:methodElement><bmdl:_id>1615646746173</bmdl:_id><bmdl:name>competitorAnalysis</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162894078\\"><bpmn:outgoing>Flow_02lt5jx_1616162894078</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id=\\"Gateway_1elyntr_1616162894078\\"><bpmn:incoming>Flow_02lt5jx_1616162894078</bpmn:incoming><bpmn:outgoing>Flow_1ga9lx3_1616162894078</bpmn:outgoing><bpmn:outgoing>Flow_0vucjs2_1616162894078</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_0kvyq9x_1616162894078\\"><bpmn:incoming>Flow_05fk023_1616162894078</bpmn:incoming><bpmn:incoming>Flow_155pkgy_1616162894078</bpmn:incoming><bpmn:outgoing>Flow_13gx7u5_1616162894078</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_1i06277_1616162894078\\"><bpmn:incoming>Flow_13gx7u5_1616162894078</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0r6nbda_1616162894078\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_1ga9lx3_1616162894078</bpmn:incoming><bpmn:outgoing>Flow_05fk023_1616162894078</bpmn:outgoing><bmdl:method><bmdl:name>Competitor Analysis</bmdl:name><bmdl:id>1615657415137</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1dah4ly_1616162894078\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_0vucjs2_1616162894078</bpmn:incoming><bpmn:outgoing>Flow_155pkgy_1616162894078</bpmn:outgoing><bmdl:method><bmdl:name>Store Competitor Analysis</bmdl:name><bmdl:id>1615657579148</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_02lt5jx_1616162894078\\" sourceRef=\\"StartEvent_1_1616162894078\\" targetRef=\\"Gateway_1elyntr_1616162894078\\" /><bpmn:sequenceFlow id=\\"Flow_1ga9lx3_1616162894078\\" sourceRef=\\"Gateway_1elyntr_1616162894078\\" targetRef=\\"Activity_0r6nbda_1616162894078\\" /><bpmn:sequenceFlow id=\\"Flow_0vucjs2_1616162894078\\" sourceRef=\\"Gateway_1elyntr_1616162894078\\" targetRef=\\"Activity_1dah4ly_1616162894078\\" /><bpmn:sequenceFlow id=\\"Flow_05fk023_1616162894078\\" sourceRef=\\"Activity_0r6nbda_1616162894078\\" targetRef=\\"Gateway_0kvyq9x_1616162894078\\" /><bpmn:sequenceFlow id=\\"Flow_13gx7u5_1616162894078\\" sourceRef=\\"Gateway_0kvyq9x_1616162894078\\" targetRef=\\"Event_1i06277_1616162894078\\" /><bpmn:sequenceFlow id=\\"Flow_155pkgy_1616162894078\\" sourceRef=\\"Activity_1dah4ly_1616162894078\\" targetRef=\\"Gateway_0kvyq9x_1616162894078\\" /><bmdl:processPatternId>1615989084072</bmdl:processPatternId><bmdl:taskName>&lt;&lt;competitor Analysis&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0y4vo3x\\" sourceRef=\\"Activity_0h8izyq_1616162874911\\" targetRef=\\"Activity_1wu6tu1\\" /><bpmn:sequenceFlow id=\\"Flow_03u30qm\\" sourceRef=\\"Activity_1wu6tu1\\" targetRef=\\"Event_0iv60p2_1616162874911\\" /><bmdl:processPatternId>1615894670769</bmdl:processPatternId><bmdl:taskName>&lt;&lt;analysis&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_161z037\\" sourceRef=\\"Gateway_1sn658h_1616162794632\\" targetRef=\\"Activity_138vhg7\\" /><bpmn:sequenceFlow id=\\"Flow_0y90tg4\\" sourceRef=\\"Activity_138vhg7\\" targetRef=\\"Gateway_1xo4mt4_1616162794632\\" /><bpmn:subProcess id=\\"Activity_1hhhpot\\" name=\\"Design Enhancement Pattern\\"><bpmn:incoming>Flow_1y1n4z3</bpmn:incoming><bpmn:outgoing>Flow_0xza7bw</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162938151\\"><bpmn:outgoing>Flow_00xbqbc_1616162938151</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id=\\"Gateway_0xj6bmj_1616162938151\\"><bpmn:incoming>Flow_00xbqbc_1616162938151</bpmn:incoming><bpmn:outgoing>Flow_11ze7hb_1616162938151</bpmn:outgoing><bpmn:outgoing>Flow_02o8xpv</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_17u81e7_1616162938151\\"><bpmn:incoming>Flow_0yhdvbc_1616162938151</bpmn:incoming><bpmn:incoming>Flow_0kfl3i0</bpmn:incoming><bpmn:outgoing>Flow_01ddziv</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_13tjz72_1616162938151\\"><bpmn:incoming>Flow_1kadpwi</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_1rbjk2h_1616162938151\\" name=\\"&lt;&lt;feature Design&gt;&gt;\\"><bpmn:incoming>Flow_11ze7hb_1616162938151</bpmn:incoming><bpmn:outgoing>Flow_0yhdvbc_1616162938151</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646771090</bmdl:_id><bmdl:name>featureDesign</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Feature Set Development</bmdl:name><bmdl:id>1615658097457</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_00xbqbc_1616162938151\\" sourceRef=\\"StartEvent_1_1616162938151\\" targetRef=\\"Gateway_0xj6bmj_1616162938151\\" /><bpmn:sequenceFlow id=\\"Flow_11ze7hb_1616162938151\\" sourceRef=\\"Gateway_0xj6bmj_1616162938151\\" targetRef=\\"Activity_1rbjk2h_1616162938151\\" /><bpmn:sequenceFlow id=\\"Flow_0yhdvbc_1616162938151\\" sourceRef=\\"Activity_1rbjk2h_1616162938151\\" targetRef=\\"Gateway_17u81e7_1616162938151\\" /><bpmn:subProcess id=\\"Activity_08sbhru\\" name=\\"Canvas Development Pattern\\"><bpmn:incoming>Flow_02o8xpv</bpmn:incoming><bpmn:outgoing>Flow_0kfl3i0</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646777512</bmdl:_id><bmdl:name>businessDesign</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616162970297\\"><bpmn:outgoing>Flow_06yh3b6_1616162970297</bpmn:outgoing></bpmn:startEvent><bpmn:task id=\\"Activity_0cgh3cv_1616162970297\\" name=\\"&lt;&lt;vpDesign&gt;&gt;\\"><bpmn:incoming>Flow_06yh3b6_1616162970297</bpmn:incoming><bpmn:outgoing>Flow_1fajuas_1616162970297</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646781917</bmdl:_id><bmdl:name>vpDesign</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Value Proposition Development</bmdl:name><bmdl:id>1615658185096</bmdl:id></bmdl:method></bpmn:task><bpmn:task id=\\"Activity_1te8amf_1616162970297\\" name=\\"&lt;&lt;bmDesign&gt;&gt;\\"><bpmn:incoming>Flow_1fajuas_1616162970297</bpmn:incoming><bpmn:outgoing>Flow_0v5l1ph_1616162970297</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646785987</bmdl:_id><bmdl:name>bmDesign</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Business Model Development</bmdl:name><bmdl:id>1615658309582</bmdl:id></bmdl:method></bpmn:task><bpmn:endEvent id=\\"Event_1xfgbpe_1616162970297\\"><bpmn:incoming>Flow_0v5l1ph_1616162970297</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_06yh3b6_1616162970297\\" sourceRef=\\"StartEvent_1_1616162970297\\" targetRef=\\"Activity_0cgh3cv_1616162970297\\" /><bpmn:sequenceFlow id=\\"Flow_1fajuas_1616162970297\\" sourceRef=\\"Activity_0cgh3cv_1616162970297\\" targetRef=\\"Activity_1te8amf_1616162970297\\" /><bpmn:sequenceFlow id=\\"Flow_0v5l1ph_1616162970297\\" sourceRef=\\"Activity_1te8amf_1616162970297\\" targetRef=\\"Event_1xfgbpe_1616162970297\\" /><bmdl:processPatternId>1615901486472</bmdl:processPatternId><bmdl:taskName>&lt;&lt;business Design&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_02o8xpv\\" sourceRef=\\"Gateway_0xj6bmj_1616162938151\\" targetRef=\\"Activity_08sbhru\\" /><bpmn:sequenceFlow id=\\"Flow_0kfl3i0\\" sourceRef=\\"Activity_08sbhru\\" targetRef=\\"Gateway_17u81e7_1616162938151\\" /><bpmn:subProcess id=\\"Activity_1bcnvsr\\" name=\\"Generic Consecutive Pattern\\"><bpmn:incoming>Flow_01ddziv</bpmn:incoming><bpmn:outgoing>Flow_1kadpwi</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list><bmdl:methodElement><bmdl:_id>1615646810172</bmdl:_id><bmdl:name>enhancementDesign</bmdl:name></bmdl:methodElement></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616163014162\\"><bpmn:outgoing>Flow_0hjagem_1616163014162</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1u3pk81_1616163014162\\"><bpmn:incoming>Flow_03ur53t_1616163014162</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0aodffo_1616163014162\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_0hjagem_1616163014162</bpmn:incoming><bpmn:outgoing>Flow_01dalb8_1616163014162</bpmn:outgoing><bmdl:method><bmdl:name>Competitive Advantage Analysis</bmdl:name><bmdl:id>1615889237294</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1kb8lpz_1616163014162\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_01dalb8_1616163014162</bpmn:incoming><bpmn:outgoing>Flow_03ur53t_1616163014162</bpmn:outgoing><bmdl:method><bmdl:name>Feature Set Priorisation</bmdl:name><bmdl:id>1615888569611</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_0hjagem_1616163014162\\" sourceRef=\\"StartEvent_1_1616163014162\\" targetRef=\\"Activity_0aodffo_1616163014162\\" /><bpmn:sequenceFlow id=\\"Flow_01dalb8_1616163014162\\" sourceRef=\\"Activity_0aodffo_1616163014162\\" targetRef=\\"Activity_1kb8lpz_1616163014162\\" /><bpmn:sequenceFlow id=\\"Flow_03ur53t_1616163014162\\" sourceRef=\\"Activity_1kb8lpz_1616163014162\\" targetRef=\\"Event_1u3pk81_1616163014162\\" /><bmdl:processPatternId>1615989368999</bmdl:processPatternId><bmdl:taskName>&lt;&lt;enhancement Design&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_01ddziv\\" sourceRef=\\"Gateway_17u81e7_1616162938151\\" targetRef=\\"Activity_1bcnvsr\\" /><bpmn:sequenceFlow id=\\"Flow_1kadpwi\\" sourceRef=\\"Activity_1bcnvsr\\" targetRef=\\"Event_13tjz72_1616162938151\\" /><bmdl:processPatternId>1615901323027</bmdl:processPatternId><bmdl:taskName>&lt;&lt;design&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1y1n4z3\\" sourceRef=\\"Gateway_1xo4mt4_1616162794632\\" targetRef=\\"Activity_1hhhpot\\" /><bpmn:sequenceFlow id=\\"Flow_0xza7bw\\" sourceRef=\\"Activity_1hhhpot\\" targetRef=\\"Gateway_1oaecke_1616162794632\\" /><bpmn:subProcess id=\\"Activity_0qepiw1\\" name=\\"Generic Consecutive Pattern\\"><bpmn:incoming>Flow_0s197e4</bpmn:incoming><bpmn:outgoing>Flow_023xx9r</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616163072936\\"><bpmn:outgoing>Flow_1ptb0ur</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1u3pk81_1616163072936\\"><bpmn:incoming>Flow_1nf2311</bpmn:incoming></bpmn:endEvent><bpmn:subProcess id=\\"Activity_0cf1kch\\" name=\\"Generic Consecutive Pattern\\" inherit=\\"true\\"><bpmn:incoming>Flow_1ptb0ur</bpmn:incoming><bpmn:outgoing>Flow_0z644z9</bpmn:outgoing><bpmn:startEvent id=\\"StartEvent_1_1616163077260\\"><bpmn:outgoing>Flow_1vejbb0</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1u3pk81_1616163077260\\"><bpmn:incoming>Flow_0us2rwu</bpmn:incoming></bpmn:endEvent><bpmn:subProcess id=\\"Activity_039dzdi\\" name=\\"Intermediate Validation Pattern\\" inherit=\\"true\\"><bpmn:incoming>Flow_1vejbb0</bpmn:incoming><bpmn:outgoing>Flow_1e3gza6</bpmn:outgoing><bpmn:startEvent id=\\"StartEvent_1_1616163090984\\"><bpmn:outgoing>Flow_0t6s5cn_1616163090984</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_0lao3g4_1616163090984\\"><bpmn:incoming>Flow_04r8abs_1616163090984</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_1opzvbb_1616163090984\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_1er15gw_1616163090984</bpmn:incoming><bpmn:outgoing>Flow_076g5xw_1616163090984</bpmn:outgoing><bmdl:method><bmdl:name>MVP Development</bmdl:name><bmdl:id>1615892880601</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_0ucs0lq_1616163090984\\" name=\\"&lt;&lt;validate Intermediate&gt;&gt;\\" inherit=\\"false\\"><bpmn:incoming>Flow_076g5xw_1616163090984</bpmn:incoming><bpmn:outgoing>Flow_005j0x0_1616163090984</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list><bmdl:methodElement><bmdl:_id>1615646873313</bmdl:_id><bmdl:name>intermediateValidation</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Group Interview Conduction</bmdl:name><bmdl:id>1615656047954</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_0s4mvzo_1616163090984\\"><bpmn:incoming>Flow_005j0x0_1616163090984</bpmn:incoming><bpmn:outgoing>Flow_04r8abs_1616163090984</bpmn:outgoing><bpmn:outgoing>Flow_0d23ngn_1616163090984</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_0r4mam0_1616163090984\\"><bpmn:incoming>Flow_0t6s5cn_1616163090984</bpmn:incoming><bpmn:incoming>Flow_0d23ngn_1616163090984</bpmn:incoming><bpmn:outgoing>Flow_1er15gw_1616163090984</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0t6s5cn_1616163090984\\" sourceRef=\\"StartEvent_1_1616163090984\\" targetRef=\\"Gateway_0r4mam0_1616163090984\\" /><bpmn:sequenceFlow id=\\"Flow_076g5xw_1616163090984\\" sourceRef=\\"Activity_1opzvbb_1616163090984\\" targetRef=\\"Activity_0ucs0lq_1616163090984\\" /><bpmn:sequenceFlow id=\\"Flow_005j0x0_1616163090984\\" sourceRef=\\"Activity_0ucs0lq_1616163090984\\" targetRef=\\"Gateway_0s4mvzo_1616163090984\\" /><bpmn:sequenceFlow id=\\"Flow_04r8abs_1616163090984\\" sourceRef=\\"Gateway_0s4mvzo_1616163090984\\" targetRef=\\"Event_0lao3g4_1616163090984\\" /><bpmn:sequenceFlow id=\\"Flow_1er15gw_1616163090984\\" sourceRef=\\"Gateway_0r4mam0_1616163090984\\" targetRef=\\"Activity_1opzvbb_1616163090984\\" /><bpmn:sequenceFlow id=\\"Flow_0d23ngn_1616163090984\\" sourceRef=\\"Gateway_0s4mvzo_1616163090984\\" targetRef=\\"Gateway_0r4mam0_1616163090984\\" /><bmdl:processPatternId>1615989451280</bmdl:processPatternId><bmdl:taskName>&lt;&lt;generic&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1vejbb0\\" sourceRef=\\"StartEvent_1_1616163077260\\" targetRef=\\"Activity_039dzdi\\" /><bpmn:subProcess id=\\"Activity_0e6m5l4\\" name=\\"Marketing Development Pattern\\" inherit=\\"true\\"><bpmn:incoming>Flow_1e3gza6</bpmn:incoming><bpmn:outgoing>Flow_0us2rwu</bpmn:outgoing><bpmn:startEvent id=\\"StartEvent_1_1616163103826\\"><bpmn:outgoing>Flow_0z98w3v_1616163103826</bpmn:outgoing></bpmn:startEvent><bpmn:callActivity id=\\"Activity_13r6wta_1616163103826\\" name=\\"&lt;&lt;marketing Development&gt;&gt;\\"><bpmn:incoming>Flow_1ugmk1o_1616163103826</bpmn:incoming><bpmn:outgoing>Flow_061hkot_1616163103826</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646821909</bmdl:_id><bmdl:name>marketingDevelopment</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Inbound Marketing Conduction</bmdl:name><bmdl:id>1615889338605</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:parallelGateway id=\\"Gateway_1e12g7q_1616163103826\\"><bpmn:incoming>Flow_0z98w3v_1616163103826</bpmn:incoming><bpmn:outgoing>Flow_1ugmk1o_1616163103826</bpmn:outgoing><bpmn:outgoing>Flow_0np8kh5</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_0x4dvfp_1616163103826\\"><bpmn:incoming>Flow_061hkot_1616163103826</bpmn:incoming><bpmn:incoming>Flow_0lvum5g</bpmn:incoming><bpmn:outgoing>Flow_14ekf9r_1616163103826</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_0hg6lmp_1616163103826\\"><bpmn:incoming>Flow_14ekf9r_1616163103826</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0z98w3v_1616163103826\\" sourceRef=\\"StartEvent_1_1616163103826\\" targetRef=\\"Gateway_1e12g7q_1616163103826\\" /><bpmn:sequenceFlow id=\\"Flow_1ugmk1o_1616163103826\\" sourceRef=\\"Gateway_1e12g7q_1616163103826\\" targetRef=\\"Activity_13r6wta_1616163103826\\" /><bpmn:sequenceFlow id=\\"Flow_061hkot_1616163103826\\" sourceRef=\\"Activity_13r6wta_1616163103826\\" targetRef=\\"Gateway_0x4dvfp_1616163103826\\" /><bpmn:sequenceFlow id=\\"Flow_14ekf9r_1616163103826\\" sourceRef=\\"Gateway_0x4dvfp_1616163103826\\" targetRef=\\"Event_0hg6lmp_1616163103826\\" /><bpmn:subProcess id=\\"Activity_1qmmmwb\\" name=\\"Intermediate Validation Pattern\\"><bpmn:incoming>Flow_0np8kh5</bpmn:incoming><bpmn:outgoing>Flow_0lvum5g</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1616163132309\\"><bpmn:outgoing>Flow_0t6s5cn_1616163132309</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_0lao3g4_1616163132309\\"><bpmn:incoming>Flow_04r8abs_1616163132309</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_1opzvbb_1616163132309\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_1er15gw_1616163132309</bpmn:incoming><bpmn:outgoing>Flow_076g5xw_1616163132309</bpmn:outgoing><bmdl:method><bmdl:name>MVP Development</bmdl:name><bmdl:id>1615892880601</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_0ucs0lq_1616163132309\\" name=\\"&lt;&lt;validate Intermediate&gt;&gt;\\" inherit=\\"false\\"><bpmn:incoming>Flow_076g5xw_1616163132309</bpmn:incoming><bpmn:outgoing>Flow_005j0x0_1616163132309</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list><bmdl:methodElement><bmdl:_id>1615646873313</bmdl:_id><bmdl:name>intermediateValidation</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Survey Conduction</bmdl:name><bmdl:id>1615656471945</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_0s4mvzo_1616163132309\\"><bpmn:incoming>Flow_005j0x0_1616163132309</bpmn:incoming><bpmn:outgoing>Flow_04r8abs_1616163132309</bpmn:outgoing><bpmn:outgoing>Flow_0d23ngn_1616163132309</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_0r4mam0_1616163132309\\"><bpmn:incoming>Flow_0t6s5cn_1616163132309</bpmn:incoming><bpmn:incoming>Flow_0d23ngn_1616163132309</bpmn:incoming><bpmn:outgoing>Flow_1er15gw_1616163132309</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0t6s5cn_1616163132309\\" sourceRef=\\"StartEvent_1_1616163132309\\" targetRef=\\"Gateway_0r4mam0_1616163132309\\" /><bpmn:sequenceFlow id=\\"Flow_076g5xw_1616163132309\\" sourceRef=\\"Activity_1opzvbb_1616163132309\\" targetRef=\\"Activity_0ucs0lq_1616163132309\\" /><bpmn:sequenceFlow id=\\"Flow_005j0x0_1616163132309\\" sourceRef=\\"Activity_0ucs0lq_1616163132309\\" targetRef=\\"Gateway_0s4mvzo_1616163132309\\" /><bpmn:sequenceFlow id=\\"Flow_04r8abs_1616163132309\\" sourceRef=\\"Gateway_0s4mvzo_1616163132309\\" targetRef=\\"Event_0lao3g4_1616163132309\\" /><bpmn:sequenceFlow id=\\"Flow_1er15gw_1616163132309\\" sourceRef=\\"Gateway_0r4mam0_1616163132309\\" targetRef=\\"Activity_1opzvbb_1616163132309\\" /><bpmn:sequenceFlow id=\\"Flow_0d23ngn_1616163132309\\" sourceRef=\\"Gateway_0s4mvzo_1616163132309\\" targetRef=\\"Gateway_0r4mam0_1616163132309\\" /><bmdl:processPatternId>1615989451280</bmdl:processPatternId><bmdl:taskName>&lt;&lt;development&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0np8kh5\\" sourceRef=\\"Gateway_1e12g7q_1616163103826\\" targetRef=\\"Activity_1qmmmwb\\" /><bpmn:sequenceFlow id=\\"Flow_0lvum5g\\" sourceRef=\\"Activity_1qmmmwb\\" targetRef=\\"Gateway_0x4dvfp_1616163103826\\" /><bmdl:processPatternId>1615902056644</bmdl:processPatternId><bmdl:taskName>&lt;&lt;generic&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1e3gza6\\" sourceRef=\\"Activity_039dzdi\\" targetRef=\\"Activity_0e6m5l4\\" /><bpmn:sequenceFlow id=\\"Flow_0us2rwu\\" sourceRef=\\"Activity_0e6m5l4\\" targetRef=\\"Event_1u3pk81_1616163077260\\" /><bmdl:processPatternId>1615989368999</bmdl:processPatternId><bmdl:taskName>&lt;&lt;generic&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1ptb0ur\\" sourceRef=\\"StartEvent_1_1616163072936\\" targetRef=\\"Activity_0cf1kch\\" /><bpmn:subProcess id=\\"Activity_1k89jxb\\" name=\\"Product Development Pattern\\" inherit=\\"true\\"><bpmn:incoming>Flow_0z644z9</bpmn:incoming><bpmn:outgoing>Flow_1nf2311</bpmn:outgoing><bpmn:startEvent id=\\"StartEvent_1_1616163221209\\"><bpmn:outgoing>Flow_0q8iplk_1616163221209</bpmn:outgoing></bpmn:startEvent><bpmn:task id=\\"Activity_1edrijb_1616163221209\\" name=\\"&lt;&lt;platform Selection&gt;&gt;\\"><bpmn:incoming>Flow_0q8iplk_1616163221209</bpmn:incoming><bpmn:outgoing>Flow_1io5uoi_1616163221209</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646844016</bmdl:_id><bmdl:name>platformSelection</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Platform Selection</bmdl:name><bmdl:id>1615893012382</bmdl:id></bmdl:method></bpmn:task><bpmn:task id=\\"Activity_1g0pfta_1616163221209\\" name=\\"&lt;&lt;financial Check&gt;&gt;\\"><bpmn:incoming>Flow_1io5uoi_1616163221209</bpmn:incoming><bpmn:outgoing>Flow_115rmuc_1616163221209</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646848359</bmdl:_id><bmdl:name>financialCheck</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Cost Estimation</bmdl:name><bmdl:id>1615893225262</bmdl:id></bmdl:method></bpmn:task><bpmn:task id=\\"Activity_0wvgpad_1616163221209\\" name=\\"&lt;&lt;platform Development&gt;&gt;\\"><bpmn:incoming>Flow_115rmuc_1616163221209</bpmn:incoming><bpmn:outgoing>Flow_0wi5ycw_1616163221209</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Internal Development</bmdl:name><bmdl:id>1615893378246</bmdl:id></bmdl:method></bpmn:task><bpmn:task id=\\"Activity_0kcusnn_1616163221209\\" name=\\"&lt;&lt;platform Publishing&gt;&gt;\\"><bpmn:incoming>Flow_0wi5ycw_1616163221209</bpmn:incoming><bpmn:outgoing>Flow_1sp95ey_1616163221209</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list><bmdl:methodElement><bmdl:_id>1615646856351</bmdl:_id><bmdl:name>platformPublishing</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Platform Publishing</bmdl:name><bmdl:id>1615893680202</bmdl:id></bmdl:method></bpmn:task><bpmn:endEvent id=\\"Event_12kt6j2_1616163221209\\"><bpmn:incoming>Flow_1sp95ey_1616163221209</bpmn:incoming></bpmn:endEvent><bpmn:sequenceFlow id=\\"Flow_0q8iplk_1616163221209\\" sourceRef=\\"StartEvent_1_1616163221209\\" targetRef=\\"Activity_1edrijb_1616163221209\\" /><bpmn:sequenceFlow id=\\"Flow_1io5uoi_1616163221209\\" sourceRef=\\"Activity_1edrijb_1616163221209\\" targetRef=\\"Activity_1g0pfta_1616163221209\\" /><bpmn:sequenceFlow id=\\"Flow_115rmuc_1616163221209\\" sourceRef=\\"Activity_1g0pfta_1616163221209\\" targetRef=\\"Activity_0wvgpad_1616163221209\\" /><bpmn:sequenceFlow id=\\"Flow_0wi5ycw_1616163221209\\" sourceRef=\\"Activity_0wvgpad_1616163221209\\" targetRef=\\"Activity_0kcusnn_1616163221209\\" /><bpmn:sequenceFlow id=\\"Flow_1sp95ey_1616163221209\\" sourceRef=\\"Activity_0kcusnn_1616163221209\\" targetRef=\\"Event_12kt6j2_1616163221209\\" /><bmdl:processPatternId>1615902160702</bmdl:processPatternId><bmdl:taskName>&lt;&lt;generic&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0z644z9\\" sourceRef=\\"Activity_0cf1kch\\" targetRef=\\"Activity_1k89jxb\\" /><bpmn:sequenceFlow id=\\"Flow_1nf2311\\" sourceRef=\\"Activity_1k89jxb\\" targetRef=\\"Event_1u3pk81_1616163072936\\" /><bmdl:processPatternId>1615989368999</bmdl:processPatternId><bmdl:taskName>&lt;&lt;develop&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0s197e4\\" sourceRef=\\"Gateway_1oaecke_1616162794632\\" targetRef=\\"Activity_0qepiw1\\" /><bpmn:sequenceFlow id=\\"Flow_023xx9r\\" sourceRef=\\"Activity_0qepiw1\\" targetRef=\\"Gateway_168ska7_1616162794632\\" /><bmdl:processPatternId>1615659481079</bmdl:processPatternId></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1xrata6\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_16tot26\\" ns1:used=\\"true\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1xrata6_di\\" bpmnElement=\\"Flow_1xrata6\\"><di:waypoint x=\\"209\\" y=\\"320\\" /><di:waypoint x=\\"259\\" y=\\"320\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"302\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_16tot26_di\\" bpmnElement=\\"Activity_16tot26\\" isExpanded=\\"true\\"><dc:Bounds x=\\"259\\" y=\\"-50\\" width=\\"8551\\" height=\\"700\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_023xx9r_di\\" bpmnElement=\\"Flow_023xx9r\\"><di:waypoint x=\\"8332\\" y=\\"325\\" /><di:waypoint x=\\"8387\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0s197e4_di\\" bpmnElement=\\"Flow_0s197e4\\"><di:waypoint x=\\"5187\\" y=\\"325\\" /><di:waypoint x=\\"5242\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0xza7bw_di\\" bpmnElement=\\"Flow_0xza7bw\\"><di:waypoint x=\\"5082\\" y=\\"325\\" /><di:waypoint x=\\"5137\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1y1n4z3_di\\" bpmnElement=\\"Flow_1y1n4z3\\"><di:waypoint x=\\"3907\\" y=\\"325\\" /><di:waypoint x=\\"3962\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0y90tg4_di\\" bpmnElement=\\"Flow_0y90tg4\\"><di:waypoint x=\\"3802\\" y=\\"325\\" /><di:waypoint x=\\"3857\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_161z037_di\\" bpmnElement=\\"Flow_161z037\\"><di:waypoint x=\\"2785\\" y=\\"325\\" /><di:waypoint x=\\"2852\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_15rpn99_di\\" bpmnElement=\\"Flow_15rpn99\\"><di:waypoint x=\\"2692\\" y=\\"325\\" /><di:waypoint x=\\"2735\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_037kmwa_di\\" bpmnElement=\\"Flow_037kmwa\\"><di:waypoint x=\\"422\\" y=\\"325\\" /><di:waypoint x=\\"477\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1gkr7d2_1616162794632_di\\" bpmnElement=\\"Flow_1gkr7d2_1616162794632\\"><di:waypoint x=\\"8412\\" y=\\"350\\" /><di:waypoint x=\\"8412\\" y=\\"590\\" /><di:waypoint x=\\"3882\\" y=\\"590\\" /><di:waypoint x=\\"3882\\" y=\\"350\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0delj8n_1616162794632_di\\" bpmnElement=\\"Flow_0delj8n_1616162794632\\"><di:waypoint x=\\"8672\\" y=\\"300\\" /><di:waypoint x=\\"8672\\" y=\\"-20\\" /><di:waypoint x=\\"5162\\" y=\\"-20\\" /><di:waypoint x=\\"5162\\" y=\\"300\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0x50kxa_1616162794632_di\\" bpmnElement=\\"Flow_0x50kxa_1616162794632\\"><di:waypoint x=\\"5162\\" y=\\"350\\" /><di:waypoint x=\\"5162\\" y=\\"620\\" /><di:waypoint x=\\"2760\\" y=\\"620\\" /><di:waypoint x=\\"2760\\" y=\\"350\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1935tcl_1616162794632_di\\" bpmnElement=\\"Flow_1935tcl_1616162794632\\"><di:waypoint x=\\"3882\\" y=\\"300\\" /><di:waypoint x=\\"3882\\" y=\\"30\\" /><di:waypoint x=\\"397\\" y=\\"30\\" /><di:waypoint x=\\"397\\" y=\\"300\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_07db5lv_1616162794632_di\\" bpmnElement=\\"Flow_07db5lv_1616162794632\\"><di:waypoint x=\\"8697\\" y=\\"325\\" /><di:waypoint x=\\"8754\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_10xurca_1616162794632_di\\" bpmnElement=\\"Flow_10xurca_1616162794632\\"><di:waypoint x=\\"8592\\" y=\\"325\\" /><di:waypoint x=\\"8647\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_172n46f_1616162794632_di\\" bpmnElement=\\"Flow_172n46f_1616162794632\\"><di:waypoint x=\\"8437\\" y=\\"325\\" /><di:waypoint x=\\"8492\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1038tb5_1616162794632_di\\" bpmnElement=\\"Flow_1038tb5_1616162794632\\"><di:waypoint x=\\"315\\" y=\\"325\\" /><di:waypoint x=\\"372\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162794632_di\\" bpmnElement=\\"StartEvent_1_1616162794632\\"><dc:Bounds x=\\"279\\" y=\\"307\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1sn658h_1616162794632_di\\" bpmnElement=\\"Gateway_1sn658h_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2735\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1xo4mt4_1616162794632_di\\" bpmnElement=\\"Gateway_1xo4mt4_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"3857\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1oaecke_1616162794632_di\\" bpmnElement=\\"Gateway_1oaecke_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"5137\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_168ska7_1616162794632_di\\" bpmnElement=\\"Gateway_168ska7_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"8387\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0rwv72u_1616162794632_di\\" bpmnElement=\\"Activity_0rwv72u_1616162794632\\"><dc:Bounds x=\\"8492\\" y=\\"285\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_01iu1l9_1616162794632_di\\" bpmnElement=\\"Gateway_01iu1l9_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"8647\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_02xe3v6_1616162794632_di\\" bpmnElement=\\"Event_02xe3v6_1616162794632\\"><dc:Bounds x=\\"8754\\" y=\\"307\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1fdjmm5_1616162794632_di\\" bpmnElement=\\"Gateway_1fdjmm5_1616162794632\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"372\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0686rhv_di\\" bpmnElement=\\"Activity_0686rhv\\" isExpanded=\\"true\\"><dc:Bounds x=\\"477\\" y=\\"110\\" width=\\"2215\\" height=\\"380\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_1m0uij0_di\\" bpmnElement=\\"Flow_1m0uij0\\"><di:waypoint x=\\"2474\\" y=\\"325\\" /><di:waypoint x=\\"2529\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_12rf0qc_di\\" bpmnElement=\\"Flow_12rf0qc\\"><di:waypoint x=\\"1004\\" y=\\"325\\" /><di:waypoint x=\\"1059\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0z8u3do_di\\" bpmnElement=\\"Flow_0z8u3do\\"><di:waypoint x=\\"905\\" y=\\"325\\" /><di:waypoint x=\\"954\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0hfjqez_di\\" bpmnElement=\\"Flow_0hfjqez\\"><di:waypoint x=\\"533\\" y=\\"325\\" /><di:waypoint x=\\"590\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0n2o9ve_1616162806439_di\\" bpmnElement=\\"Flow_0n2o9ve_1616162806439\\"><di:waypoint x=\\"2557\\" y=\\"303\\" /><di:waypoint x=\\"2557\\" y=\\"145\\" /><di:waypoint x=\\"979\\" y=\\"145\\" /><di:waypoint x=\\"979\\" y=\\"300\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1h1q2gc_1616162806439_di\\" bpmnElement=\\"Flow_1h1q2gc_1616162806439\\"><di:waypoint x=\\"2579\\" y=\\"325\\" /><di:waypoint x=\\"2636\\" y=\\"325\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162806439_di\\" bpmnElement=\\"StartEvent_1_1616162806439\\"><dc:Bounds x=\\"497\\" y=\\"307\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1a1s22u_1616162806439_di\\" bpmnElement=\\"Gateway_1a1s22u_1616162806439\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"954\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0lohovi_1616162806439_di\\" bpmnElement=\\"Gateway_0lohovi_1616162806439\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2529\\" y=\\"300\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0q9g0ys_1616162806439_di\\" bpmnElement=\\"Event_0q9g0ys_1616162806439\\"><dc:Bounds x=\\"2636\\" y=\\"307\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1h4m3l3_di\\" bpmnElement=\\"Activity_1h4m3l3\\" isExpanded=\\"true\\"><dc:Bounds x=\\"590\\" y=\\"260\\" width=\\"315\\" height=\\"130\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_03zya08_1616162812982_di\\" bpmnElement=\\"Flow_03zya08_1616162812982\\"><di:waypoint x=\\"797\\" y=\\"330\\" /><di:waypoint x=\\"849\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0mno57r_1616162812982_di\\" bpmnElement=\\"Flow_0mno57r_1616162812982\\"><di:waypoint x=\\"646\\" y=\\"330\\" /><di:waypoint x=\\"697\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162812982_di\\" bpmnElement=\\"StartEvent_1_1616162812982\\"><dc:Bounds x=\\"610\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1dwc5cr_1616162812982_di\\" bpmnElement=\\"Event_1dwc5cr_1616162812982\\"><dc:Bounds x=\\"849\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_08x5kem_1616162812982_di\\" bpmnElement=\\"Activity_08x5kem_1616162812982\\"><dc:Bounds x=\\"697\\" y=\\"290\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1gmijag_di\\" bpmnElement=\\"Activity_1gmijag\\" isExpanded=\\"true\\"><dc:Bounds x=\\"1059\\" y=\\"180\\" width=\\"1415\\" height=\\"290\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0rpoim1_di\\" bpmnElement=\\"Flow_0rpoim1\\"><di:waypoint x=\\"2356\\" y=\\"330\\" /><di:waypoint x=\\"2418\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_06xvh6y_di\\" bpmnElement=\\"Flow_06xvh6y\\"><di:waypoint x=\\"1731\\" y=\\"330\\" /><di:waypoint x=\\"1791\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0pscsir_di\\" bpmnElement=\\"Flow_0pscsir\\"><di:waypoint x=\\"1115\\" y=\\"330\\" /><di:waypoint x=\\"1166\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162824997_di\\" bpmnElement=\\"StartEvent_1_1616162824997\\"><dc:Bounds x=\\"1079\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0aebfpi_1616162824997_di\\" bpmnElement=\\"Event_0aebfpi_1616162824997\\"><dc:Bounds x=\\"2418\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0k4orxi_di\\" bpmnElement=\\"Activity_0k4orxi\\" isExpanded=\\"true\\"><dc:Bounds x=\\"1166\\" y=\\"210\\" width=\\"565\\" height=\\"240\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_155pkgy_1616162833615_di\\" bpmnElement=\\"Flow_155pkgy_1616162833615\\"><di:waypoint x=\\"1493\\" y=\\"390\\" /><di:waypoint x=\\"1583\\" y=\\"390\\" /><di:waypoint x=\\"1583\\" y=\\"305\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13gx7u5_1616162833615_di\\" bpmnElement=\\"Flow_13gx7u5_1616162833615\\"><di:waypoint x=\\"1608\\" y=\\"280\\" /><di:waypoint x=\\"1675\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_05fk023_1616162833615_di\\" bpmnElement=\\"Flow_05fk023_1616162833615\\"><di:waypoint x=\\"1493\\" y=\\"280\\" /><di:waypoint x=\\"1558\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0vucjs2_1616162833615_di\\" bpmnElement=\\"Flow_0vucjs2_1616162833615\\"><di:waypoint x=\\"1303\\" y=\\"305\\" /><di:waypoint x=\\"1303\\" y=\\"390\\" /><di:waypoint x=\\"1393\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ga9lx3_1616162833615_di\\" bpmnElement=\\"Flow_1ga9lx3_1616162833615\\"><di:waypoint x=\\"1328\\" y=\\"280\\" /><di:waypoint x=\\"1393\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02lt5jx_1616162833615_di\\" bpmnElement=\\"Flow_02lt5jx_1616162833615\\"><di:waypoint x=\\"1222\\" y=\\"280\\" /><di:waypoint x=\\"1278\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162833615_di\\" bpmnElement=\\"StartEvent_1_1616162833615\\"><dc:Bounds x=\\"1186\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1elyntr_1616162833615_di\\" bpmnElement=\\"Gateway_1elyntr_1616162833615\\"><dc:Bounds x=\\"1278\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0kvyq9x_1616162833615_di\\" bpmnElement=\\"Gateway_0kvyq9x_1616162833615\\"><dc:Bounds x=\\"1558\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1i06277_1616162833615_di\\" bpmnElement=\\"Event_1i06277_1616162833615\\"><dc:Bounds x=\\"1675\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0r6nbda_1616162833615_di\\" bpmnElement=\\"Activity_0r6nbda_1616162833615\\"><dc:Bounds x=\\"1393\\" y=\\"240\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1dah4ly_1616162833615_di\\" bpmnElement=\\"Activity_1dah4ly_1616162833615\\"><dc:Bounds x=\\"1393\\" y=\\"350\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1jgakqj_di\\" bpmnElement=\\"Activity_1jgakqj\\" isExpanded=\\"true\\"><dc:Bounds x=\\"1791\\" y=\\"210\\" width=\\"565\\" height=\\"240\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_155pkgy_1616162839015_di\\" bpmnElement=\\"Flow_155pkgy_1616162839015\\"><di:waypoint x=\\"2118\\" y=\\"390\\" /><di:waypoint x=\\"2208\\" y=\\"390\\" /><di:waypoint x=\\"2208\\" y=\\"305\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13gx7u5_1616162839015_di\\" bpmnElement=\\"Flow_13gx7u5_1616162839015\\"><di:waypoint x=\\"2233\\" y=\\"280\\" /><di:waypoint x=\\"2300\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_05fk023_1616162839015_di\\" bpmnElement=\\"Flow_05fk023_1616162839015\\"><di:waypoint x=\\"2118\\" y=\\"280\\" /><di:waypoint x=\\"2183\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0vucjs2_1616162839015_di\\" bpmnElement=\\"Flow_0vucjs2_1616162839015\\"><di:waypoint x=\\"1928\\" y=\\"305\\" /><di:waypoint x=\\"1928\\" y=\\"390\\" /><di:waypoint x=\\"2018\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ga9lx3_1616162839015_di\\" bpmnElement=\\"Flow_1ga9lx3_1616162839015\\"><di:waypoint x=\\"1953\\" y=\\"280\\" /><di:waypoint x=\\"2018\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02lt5jx_1616162839015_di\\" bpmnElement=\\"Flow_02lt5jx_1616162839015\\"><di:waypoint x=\\"1847\\" y=\\"280\\" /><di:waypoint x=\\"1903\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162839015_di\\" bpmnElement=\\"StartEvent_1_1616162839015\\"><dc:Bounds x=\\"1811\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1elyntr_1616162839015_di\\" bpmnElement=\\"Gateway_1elyntr_1616162839015\\"><dc:Bounds x=\\"1903\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0kvyq9x_1616162839015_di\\" bpmnElement=\\"Gateway_0kvyq9x_1616162839015\\"><dc:Bounds x=\\"2183\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1i06277_1616162839015_di\\" bpmnElement=\\"Event_1i06277_1616162839015\\"><dc:Bounds x=\\"2300\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0r6nbda_1616162839015_di\\" bpmnElement=\\"Activity_0r6nbda_1616162839015\\"><dc:Bounds x=\\"2018\\" y=\\"240\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1dah4ly_1616162839015_di\\" bpmnElement=\\"Activity_1dah4ly_1616162839015\\"><dc:Bounds x=\\"2018\\" y=\\"350\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_138vhg7_di\\" bpmnElement=\\"Activity_138vhg7\\" isExpanded=\\"true\\"><dc:Bounds x=\\"2852\\" y=\\"180\\" width=\\"950\\" height=\\"290\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_03u30qm_di\\" bpmnElement=\\"Flow_03u30qm\\"><di:waypoint x=\\"3684\\" y=\\"330\\" /><di:waypoint x=\\"3746\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0y4vo3x_di\\" bpmnElement=\\"Flow_0y4vo3x\\"><di:waypoint x=\\"3059\\" y=\\"330\\" /><di:waypoint x=\\"3119\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1oevy09_1616162874911_di\\" bpmnElement=\\"Flow_1oevy09_1616162874911\\"><di:waypoint x=\\"2908\\" y=\\"330\\" /><di:waypoint x=\\"2959\\" y=\\"330\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162874911_di\\" bpmnElement=\\"StartEvent_1_1616162874911\\"><dc:Bounds x=\\"2872\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0iv60p2_1616162874911_di\\" bpmnElement=\\"Event_0iv60p2_1616162874911\\"><dc:Bounds x=\\"3746\\" y=\\"312\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0h8izyq_1616162874911_di\\" bpmnElement=\\"Activity_0h8izyq_1616162874911\\"><dc:Bounds x=\\"2959\\" y=\\"290\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1wu6tu1_di\\" bpmnElement=\\"Activity_1wu6tu1\\" isExpanded=\\"true\\"><dc:Bounds x=\\"3119\\" y=\\"210\\" width=\\"565\\" height=\\"240\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_155pkgy_1616162894078_di\\" bpmnElement=\\"Flow_155pkgy_1616162894078\\"><di:waypoint x=\\"3446\\" y=\\"390\\" /><di:waypoint x=\\"3536\\" y=\\"390\\" /><di:waypoint x=\\"3536\\" y=\\"305\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13gx7u5_1616162894078_di\\" bpmnElement=\\"Flow_13gx7u5_1616162894078\\"><di:waypoint x=\\"3561\\" y=\\"280\\" /><di:waypoint x=\\"3628\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_05fk023_1616162894078_di\\" bpmnElement=\\"Flow_05fk023_1616162894078\\"><di:waypoint x=\\"3446\\" y=\\"280\\" /><di:waypoint x=\\"3511\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0vucjs2_1616162894078_di\\" bpmnElement=\\"Flow_0vucjs2_1616162894078\\"><di:waypoint x=\\"3256\\" y=\\"305\\" /><di:waypoint x=\\"3256\\" y=\\"390\\" /><di:waypoint x=\\"3346\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ga9lx3_1616162894078_di\\" bpmnElement=\\"Flow_1ga9lx3_1616162894078\\"><di:waypoint x=\\"3281\\" y=\\"280\\" /><di:waypoint x=\\"3346\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02lt5jx_1616162894078_di\\" bpmnElement=\\"Flow_02lt5jx_1616162894078\\"><di:waypoint x=\\"3175\\" y=\\"280\\" /><di:waypoint x=\\"3231\\" y=\\"280\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162894078_di\\" bpmnElement=\\"StartEvent_1_1616162894078\\"><dc:Bounds x=\\"3139\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1elyntr_1616162894078_di\\" bpmnElement=\\"Gateway_1elyntr_1616162894078\\"><dc:Bounds x=\\"3231\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0kvyq9x_1616162894078_di\\" bpmnElement=\\"Gateway_0kvyq9x_1616162894078\\"><dc:Bounds x=\\"3511\\" y=\\"255\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1i06277_1616162894078_di\\" bpmnElement=\\"Event_1i06277_1616162894078\\"><dc:Bounds x=\\"3628\\" y=\\"262\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0r6nbda_1616162894078_di\\" bpmnElement=\\"Activity_0r6nbda_1616162894078\\"><dc:Bounds x=\\"3346\\" y=\\"240\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1dah4ly_1616162894078_di\\" bpmnElement=\\"Activity_1dah4ly_1616162894078\\"><dc:Bounds x=\\"3346\\" y=\\"350\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1hhhpot_di\\" bpmnElement=\\"Activity_1hhhpot\\" isExpanded=\\"true\\"><dc:Bounds x=\\"3962\\" y=\\"180\\" width=\\"1120\\" height=\\"290\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_1kadpwi_di\\" bpmnElement=\\"Flow_1kadpwi\\"><di:waypoint x=\\"4995\\" y=\\"250\\" /><di:waypoint x=\\"5026\\" y=\\"250\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01ddziv_di\\" bpmnElement=\\"Flow_01ddziv\\"><di:waypoint x=\\"4404\\" y=\\"250\\" /><di:waypoint x=\\"4510\\" y=\\"250\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0kfl3i0_di\\" bpmnElement=\\"Flow_0kfl3i0\\"><di:waypoint x=\\"4379\\" y=\\"320\\" /><di:waypoint x=\\"4379\\" y=\\"275\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02o8xpv_di\\" bpmnElement=\\"Flow_02o8xpv\\"><di:waypoint x=\\"4099\\" y=\\"275\\" /><di:waypoint x=\\"4099\\" y=\\"320\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0yhdvbc_1616162938151_di\\" bpmnElement=\\"Flow_0yhdvbc_1616162938151\\"><di:waypoint x=\\"4289\\" y=\\"250\\" /><di:waypoint x=\\"4354\\" y=\\"250\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_11ze7hb_1616162938151_di\\" bpmnElement=\\"Flow_11ze7hb_1616162938151\\"><di:waypoint x=\\"4124\\" y=\\"250\\" /><di:waypoint x=\\"4189\\" y=\\"250\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_00xbqbc_1616162938151_di\\" bpmnElement=\\"Flow_00xbqbc_1616162938151\\"><di:waypoint x=\\"4018\\" y=\\"250\\" /><di:waypoint x=\\"4074\\" y=\\"250\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162938151_di\\" bpmnElement=\\"StartEvent_1_1616162938151\\"><dc:Bounds x=\\"3982\\" y=\\"232\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0xj6bmj_1616162938151_di\\" bpmnElement=\\"Gateway_0xj6bmj_1616162938151\\"><dc:Bounds x=\\"4074\\" y=\\"225\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_17u81e7_1616162938151_di\\" bpmnElement=\\"Gateway_17u81e7_1616162938151\\"><dc:Bounds x=\\"4354\\" y=\\"225\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_13tjz72_1616162938151_di\\" bpmnElement=\\"Event_13tjz72_1616162938151\\"><dc:Bounds x=\\"5026\\" y=\\"232\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1rbjk2h_1616162938151_di\\" bpmnElement=\\"Activity_1rbjk2h_1616162938151\\"><dc:Bounds x=\\"4189\\" y=\\"210\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_08sbhru_di\\" bpmnElement=\\"Activity_08sbhru\\" isExpanded=\\"true\\"><dc:Bounds x=\\"3997\\" y=\\"320\\" width=\\"485\\" height=\\"130\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0v5l1ph_1616162970297_di\\" bpmnElement=\\"Flow_0v5l1ph_1616162970297\\"><di:waypoint x=\\"4364\\" y=\\"390\\" /><di:waypoint x=\\"4425.5\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1fajuas_1616162970297_di\\" bpmnElement=\\"Flow_1fajuas_1616162970297\\"><di:waypoint x=\\"4204\\" y=\\"390\\" /><di:waypoint x=\\"4264\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_06yh3b6_1616162970297_di\\" bpmnElement=\\"Flow_06yh3b6_1616162970297\\"><di:waypoint x=\\"4052.5\\" y=\\"390\\" /><di:waypoint x=\\"4104\\" y=\\"390\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616162970297_di\\" bpmnElement=\\"StartEvent_1_1616162970297\\"><dc:Bounds x=\\"4017\\" y=\\"372\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0cgh3cv_1616162970297_di\\" bpmnElement=\\"Activity_0cgh3cv_1616162970297\\"><dc:Bounds x=\\"4104\\" y=\\"350\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1te8amf_1616162970297_di\\" bpmnElement=\\"Activity_1te8amf_1616162970297\\"><dc:Bounds x=\\"4264\\" y=\\"350\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1xfgbpe_1616162970297_di\\" bpmnElement=\\"Event_1xfgbpe_1616162970297\\"><dc:Bounds x=\\"4426\\" y=\\"372\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1bcnvsr_di\\" bpmnElement=\\"Activity_1bcnvsr\\" isExpanded=\\"true\\"><dc:Bounds x=\\"4510\\" y=\\"220\\" width=\\"485\\" height=\\"130\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_03ur53t_1616163014162_di\\" bpmnElement=\\"Flow_03ur53t_1616163014162\\"><di:waypoint x=\\"4877\\" y=\\"290\\" /><di:waypoint x=\\"4939\\" y=\\"290\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01dalb8_1616163014162_di\\" bpmnElement=\\"Flow_01dalb8_1616163014162\\"><di:waypoint x=\\"4717\\" y=\\"290\\" /><di:waypoint x=\\"4777\\" y=\\"290\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0hjagem_1616163014162_di\\" bpmnElement=\\"Flow_0hjagem_1616163014162\\"><di:waypoint x=\\"4566\\" y=\\"290\\" /><di:waypoint x=\\"4617\\" y=\\"290\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163014162_di\\" bpmnElement=\\"StartEvent_1_1616163014162\\"><dc:Bounds x=\\"4530\\" y=\\"272\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1u3pk81_1616163014162_di\\" bpmnElement=\\"Event_1u3pk81_1616163014162\\"><dc:Bounds x=\\"4939\\" y=\\"272\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0aodffo_1616163014162_di\\" bpmnElement=\\"Activity_0aodffo_1616163014162\\"><dc:Bounds x=\\"4617\\" y=\\"250\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1kb8lpz_1616163014162_di\\" bpmnElement=\\"Activity_1kb8lpz_1616163014162\\"><dc:Bounds x=\\"4777\\" y=\\"250\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0qepiw1_di\\" bpmnElement=\\"Activity_0qepiw1\\" isExpanded=\\"true\\"><dc:Bounds x=\\"5242\\" y=\\"5\\" width=\\"3090\\" height=\\"540\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_1nf2311_di\\" bpmnElement=\\"Flow_1nf2311\\"><di:waypoint x=\\"8214\\" y=\\"230\\" /><di:waypoint x=\\"8276\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0z644z9_di\\" bpmnElement=\\"Flow_0z644z9\\"><di:waypoint x=\\"7349\\" y=\\"230\\" /><di:waypoint x=\\"7409\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ptb0ur_di\\" bpmnElement=\\"Flow_1ptb0ur\\"><di:waypoint x=\\"5298\\" y=\\"230\\" /><di:waypoint x=\\"5349\\" y=\\"230\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163072936_di\\" bpmnElement=\\"StartEvent_1_1616163072936\\"><dc:Bounds x=\\"5262\\" y=\\"212\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1u3pk81_1616163072936_di\\" bpmnElement=\\"Event_1u3pk81_1616163072936\\"><dc:Bounds x=\\"8276\\" y=\\"212\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0cf1kch_di\\" bpmnElement=\\"Activity_0cf1kch\\" isExpanded=\\"true\\"><dc:Bounds x=\\"5349\\" y=\\"35\\" width=\\"2000\\" height=\\"490\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0us2rwu_di\\" bpmnElement=\\"Flow_0us2rwu\\"><di:waypoint x=\\"7231\\" y=\\"235\\" /><di:waypoint x=\\"7293\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1e3gza6_di\\" bpmnElement=\\"Flow_1e3gza6\\"><di:waypoint x=\\"6081\\" y=\\"235\\" /><di:waypoint x=\\"6141\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1vejbb0_di\\" bpmnElement=\\"Flow_1vejbb0\\"><di:waypoint x=\\"5405\\" y=\\"235\\" /><di:waypoint x=\\"5456\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163077260_di\\" bpmnElement=\\"StartEvent_1_1616163077260\\"><dc:Bounds x=\\"5369\\" y=\\"217\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1u3pk81_1616163077260_di\\" bpmnElement=\\"Event_1u3pk81_1616163077260\\"><dc:Bounds x=\\"7293\\" y=\\"217\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_039dzdi_di\\" bpmnElement=\\"Activity_039dzdi\\" isExpanded=\\"true\\"><dc:Bounds x=\\"5456\\" y=\\"145\\" width=\\"625\\" height=\\"180\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0d23ngn_1616163090984_di\\" bpmnElement=\\"Flow_0d23ngn_1616163090984\\"><di:waypoint x=\\"5953\\" y=\\"240\\" /><di:waypoint x=\\"5953\\" y=\\"180\\" /><di:waypoint x=\\"5573\\" y=\\"180\\" /><di:waypoint x=\\"5573\\" y=\\"240\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1er15gw_1616163090984_di\\" bpmnElement=\\"Flow_1er15gw_1616163090984\\"><di:waypoint x=\\"5598\\" y=\\"265\\" /><di:waypoint x=\\"5633\\" y=\\"265\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_04r8abs_1616163090984_di\\" bpmnElement=\\"Flow_04r8abs_1616163090984\\"><di:waypoint x=\\"5978\\" y=\\"265\\" /><di:waypoint x=\\"6025\\" y=\\"265\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_005j0x0_1616163090984_di\\" bpmnElement=\\"Flow_005j0x0_1616163090984\\"><di:waypoint x=\\"5883\\" y=\\"265\\" /><di:waypoint x=\\"5928\\" y=\\"265\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_076g5xw_1616163090984_di\\" bpmnElement=\\"Flow_076g5xw_1616163090984\\"><di:waypoint x=\\"5733\\" y=\\"265\\" /><di:waypoint x=\\"5783\\" y=\\"265\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0t6s5cn_1616163090984_di\\" bpmnElement=\\"Flow_0t6s5cn_1616163090984\\"><di:waypoint x=\\"5512\\" y=\\"265\\" /><di:waypoint x=\\"5548\\" y=\\"265\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163090984_di\\" bpmnElement=\\"StartEvent_1_1616163090984\\"><dc:Bounds x=\\"5476\\" y=\\"247\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0lao3g4_1616163090984_di\\" bpmnElement=\\"Event_0lao3g4_1616163090984\\"><dc:Bounds x=\\"6025\\" y=\\"247\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1opzvbb_1616163090984_di\\" bpmnElement=\\"Activity_1opzvbb_1616163090984\\"><dc:Bounds x=\\"5633\\" y=\\"225\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0ucs0lq_1616163090984_di\\" bpmnElement=\\"Activity_0ucs0lq_1616163090984\\"><dc:Bounds x=\\"5783\\" y=\\"225\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0s4mvzo_1616163090984_di\\" bpmnElement=\\"Gateway_0s4mvzo_1616163090984\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"5928\\" y=\\"240\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0r4mam0_1616163090984_di\\" bpmnElement=\\"Gateway_0r4mam0_1616163090984\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"5548\\" y=\\"240\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0e6m5l4_di\\" bpmnElement=\\"Activity_0e6m5l4\\" isExpanded=\\"true\\"><dc:Bounds x=\\"6141\\" y=\\"115\\" width=\\"1090\\" height=\\"340\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0lvum5g_di\\" bpmnElement=\\"Flow_0lvum5g\\"><di:waypoint x=\\"6993\\" y=\\"345\\" /><di:waypoint x=\\"7083\\" y=\\"345\\" /><di:waypoint x=\\"7083\\" y=\\"210\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0np8kh5_di\\" bpmnElement=\\"Flow_0np8kh5\\"><di:waypoint x=\\"6278\\" y=\\"210\\" /><di:waypoint x=\\"6278\\" y=\\"345\\" /><di:waypoint x=\\"6368\\" y=\\"345\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_14ekf9r_1616163103826_di\\" bpmnElement=\\"Flow_14ekf9r_1616163103826\\"><di:waypoint x=\\"7108\\" y=\\"185\\" /><di:waypoint x=\\"7175\\" y=\\"185\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_061hkot_1616163103826_di\\" bpmnElement=\\"Flow_061hkot_1616163103826\\"><di:waypoint x=\\"6731\\" y=\\"185\\" /><di:waypoint x=\\"7058\\" y=\\"185\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ugmk1o_1616163103826_di\\" bpmnElement=\\"Flow_1ugmk1o_1616163103826\\"><di:waypoint x=\\"6303\\" y=\\"185\\" /><di:waypoint x=\\"6631\\" y=\\"185\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0z98w3v_1616163103826_di\\" bpmnElement=\\"Flow_0z98w3v_1616163103826\\"><di:waypoint x=\\"6197\\" y=\\"185\\" /><di:waypoint x=\\"6253\\" y=\\"185\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163103826_di\\" bpmnElement=\\"StartEvent_1_1616163103826\\"><dc:Bounds x=\\"6161\\" y=\\"167\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_13r6wta_1616163103826_di\\" bpmnElement=\\"Activity_13r6wta_1616163103826\\"><dc:Bounds x=\\"6631\\" y=\\"145\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1e12g7q_1616163103826_di\\" bpmnElement=\\"Gateway_1e12g7q_1616163103826\\"><dc:Bounds x=\\"6253\\" y=\\"160\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0x4dvfp_1616163103826_di\\" bpmnElement=\\"Gateway_0x4dvfp_1616163103826\\"><dc:Bounds x=\\"7058\\" y=\\"160\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0hg6lmp_1616163103826_di\\" bpmnElement=\\"Event_0hg6lmp_1616163103826\\"><dc:Bounds x=\\"7175\\" y=\\"167\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1qmmmwb_di\\" bpmnElement=\\"Activity_1qmmmwb\\" isExpanded=\\"true\\"><dc:Bounds x=\\"6368\\" y=\\"255\\" width=\\"625\\" height=\\"180\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0d23ngn_1616163132309_di\\" bpmnElement=\\"Flow_0d23ngn_1616163132309\\"><di:waypoint x=\\"6865\\" y=\\"350\\" /><di:waypoint x=\\"6865\\" y=\\"290\\" /><di:waypoint x=\\"6485\\" y=\\"290\\" /><di:waypoint x=\\"6485\\" y=\\"350\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1er15gw_1616163132309_di\\" bpmnElement=\\"Flow_1er15gw_1616163132309\\"><di:waypoint x=\\"6510\\" y=\\"375\\" /><di:waypoint x=\\"6545\\" y=\\"375\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_04r8abs_1616163132309_di\\" bpmnElement=\\"Flow_04r8abs_1616163132309\\"><di:waypoint x=\\"6890\\" y=\\"375\\" /><di:waypoint x=\\"6937\\" y=\\"375\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_005j0x0_1616163132309_di\\" bpmnElement=\\"Flow_005j0x0_1616163132309\\"><di:waypoint x=\\"6795\\" y=\\"375\\" /><di:waypoint x=\\"6840\\" y=\\"375\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_076g5xw_1616163132309_di\\" bpmnElement=\\"Flow_076g5xw_1616163132309\\"><di:waypoint x=\\"6645\\" y=\\"375\\" /><di:waypoint x=\\"6695\\" y=\\"375\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0t6s5cn_1616163132309_di\\" bpmnElement=\\"Flow_0t6s5cn_1616163132309\\"><di:waypoint x=\\"6424\\" y=\\"375\\" /><di:waypoint x=\\"6460\\" y=\\"375\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163132309_di\\" bpmnElement=\\"StartEvent_1_1616163132309\\"><dc:Bounds x=\\"6388\\" y=\\"357\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_0lao3g4_1616163132309_di\\" bpmnElement=\\"Event_0lao3g4_1616163132309\\"><dc:Bounds x=\\"6937\\" y=\\"357\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1opzvbb_1616163132309_di\\" bpmnElement=\\"Activity_1opzvbb_1616163132309\\"><dc:Bounds x=\\"6545\\" y=\\"335\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0ucs0lq_1616163132309_di\\" bpmnElement=\\"Activity_0ucs0lq_1616163132309\\"><dc:Bounds x=\\"6695\\" y=\\"335\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0s4mvzo_1616163132309_di\\" bpmnElement=\\"Gateway_0s4mvzo_1616163132309\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"6840\\" y=\\"350\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0r4mam0_1616163132309_di\\" bpmnElement=\\"Gateway_0r4mam0_1616163132309\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"6460\\" y=\\"350\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1k89jxb_di\\" bpmnElement=\\"Activity_1k89jxb\\" isExpanded=\\"true\\"><dc:Bounds x=\\"7409\\" y=\\"165\\" width=\\"805\\" height=\\"130\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_1sp95ey_1616163221209_di\\" bpmnElement=\\"Flow_1sp95ey_1616163221209\\"><di:waypoint x=\\"8096\\" y=\\"235\\" /><di:waypoint x=\\"8158\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0wi5ycw_1616163221209_di\\" bpmnElement=\\"Flow_0wi5ycw_1616163221209\\"><di:waypoint x=\\"7936\\" y=\\"235\\" /><di:waypoint x=\\"7996\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_115rmuc_1616163221209_di\\" bpmnElement=\\"Flow_115rmuc_1616163221209\\"><di:waypoint x=\\"7776\\" y=\\"235\\" /><di:waypoint x=\\"7836\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1io5uoi_1616163221209_di\\" bpmnElement=\\"Flow_1io5uoi_1616163221209\\"><di:waypoint x=\\"7616\\" y=\\"235\\" /><di:waypoint x=\\"7676\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0q8iplk_1616163221209_di\\" bpmnElement=\\"Flow_0q8iplk_1616163221209\\"><di:waypoint x=\\"7465\\" y=\\"235\\" /><di:waypoint x=\\"7516\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1616163221209_di\\" bpmnElement=\\"StartEvent_1_1616163221209\\"><dc:Bounds x=\\"7429\\" y=\\"217\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1edrijb_1616163221209_di\\" bpmnElement=\\"Activity_1edrijb_1616163221209\\"><dc:Bounds x=\\"7516\\" y=\\"195\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1g0pfta_1616163221209_di\\" bpmnElement=\\"Activity_1g0pfta_1616163221209\\"><dc:Bounds x=\\"7676\\" y=\\"195\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0wvgpad_1616163221209_di\\" bpmnElement=\\"Activity_0wvgpad_1616163221209\\"><dc:Bounds x=\\"7836\\" y=\\"195\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0kcusnn_1616163221209_di\\" bpmnElement=\\"Activity_0kcusnn_1616163221209\\"><dc:Bounds x=\\"7996\\" y=\\"195\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_12kt6j2_1616163221209_di\\" bpmnElement=\\"Event_12kt6j2_1616163221209\\"><dc:Bounds x=\\"8158\\" y=\\"217\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","domains":[{"type":"Domain","_id":"1625915974420","_rev":"1-ff3d81800563c2792e6730b304317b55","name":"Mobile Apps"}],"situationalFactors":[{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Customer","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647539973","_rev":"1-5462faf90915eceaf5d00090298f70c8","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false},"value":"uniform"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"mass"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647593804","_rev":"1-7136b18eb09b47a26901e585ce04d126","list":"Phase","name":"customerValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"high"}}],"decisions":{"Activity_0r6nbda_1616162833615":{"method":{"type":"DevelopmentMethod","_id":"1615655139134","_rev":"1-971345771da6306ada1341a730c7449f","name":"Market Problem Observation","description":"The goal of this building block is to observe an existing market to gather insights about current existing problems. This can be made by discovering existing processes or speaking directly to involved persons.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647555044","_rev":"1-858c3e9557ae7bddd08181f24a1644d6","list":"Market","name":"marketType","description":null,"values":["b2b","b2c"],"ordered":false},"value":"b2b"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":null,"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"elements":[{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null}]}]},"tools":{},"stepDecisions":[]},"Activity_1dah4ly_1616162833615":{"method":{"type":"DevelopmentMethod","_id":"1615654719686","_rev":"1-579d8573e732a67817cc510d1feb3edb","name":"Store Trend Discovery","description":"The goal of this building block is to gather information about current trends in the stores. These could be recommended apps by the store provider or lists of top-downloaded or top-grossing apps. The discovery can be made by hand or with external tools.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646726406","list":"discovery","name":"problemIdentification","description":null}}],"situationalFactors":[{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647529307","_rev":"1-256d1f5ee48d8bd45c95ff00a395f865","list":"Problem","name":"problemSpace","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647588013","_rev":"1-e71109eb7939c04f5782f80896d3f3a2","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":true,"optional":false},{"list":"Store Statistic Tools","element":null,"multiple":true,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_0r6nbda_1616162839015":{"method":{"type":"DevelopmentMethod","_id":"1615655818663","_rev":"1-f5637fef9e61cef3ba07085b0c4229d9","name":"Interview Conduction","description":"The goal of this building block is to conduct interviews with single persons. Single Interviews can be used to get a deeper understanding of the problem and validate possible steps during the business model development process.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":null,"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{"group":1,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"elements":[{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"elements":[{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null}]}]},"tools":{},"stepDecisions":[]},"Activity_1dah4ly_1616162839015":{"method":{"type":"DevelopmentMethod","_id":"1615656699118","_rev":"1-fa199cb2c6e4271834ed7f692b2fbbc9","name":"Social Media Survey Conduction","description":"The goal of this building block is to conduct surveys with different customers on social media websites. Social media surveys allow discovering a high number of results for mass-market apps.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"mass"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Survey Tools","element":null,"multiple":false,"optional":false},{"list":"Social Media Tools","element":null,"multiple":true,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_0h8izyq_1616162874911":{"method":{"type":"DevelopmentMethod","_id":"1615657073736","_rev":"1-2b43cf2e5667995a3810d78641e3f71d","name":"Market Potential Analysis","description":"The goal of this building block is to analyze the potential size of the target market. The goal is to identify a market\u2019s high growth potential together with growth drivers and possible barriers.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646742307","list":"analysis","name":"marketAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"1-3fb372bfb43b8f26146b559edc3fce78","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"niche"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_0r6nbda_1616162894078":{"method":{"type":"DevelopmentMethod","_id":"1615657415137","_rev":"1-1b0bcf140d8cb016c90941073435d8fe","name":"Competitor Analysis","description":"The goal of this building block is to analyze the competitors based on the gained insights of customers and problems. The competitor analysis can be used to identify target customers and used features to create a competitive advantage.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646746173","list":"analysis","name":"competitorAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647559511","_rev":"1-d7f14db973b8bdb0cbb01cc36b7f2de6","list":"Market","name":"marketCompetity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_1dah4ly_1616162894078":{"method":{"type":"DevelopmentMethod","_id":"1615657579148","_rev":"1-fb61e332a9e5cbb46dbdbb6868699530","name":"Store Competitor Analysis","description":"The goal of this building block is to analyze the store competitors based on the gained insights of customers and problems. The competitor analysis can be used to identify target customers and used features to create a competitive advantage.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646746173","list":"analysis","name":"competitorAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647559511","_rev":"1-d7f14db973b8bdb0cbb01cc36b7f2de6","list":"Market","name":"marketCompetity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":true,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_1rbjk2h_1616162938151":{"method":{"type":"DevelopmentMethod","_id":"1615658097457","_rev":"1-6334a84a4272d18c4fbfd871f423bbcc","name":"Feature Set Development","description":"The goal of this building block is to create a set of features that the app should have. This set can be created out of the insights during the discovery and analysis phase.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646771090","list":"design","name":"featureDesign","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Feature Set Tools","element":null,"multiple":false,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_0cgh3cv_1616162970297":{"method":{"type":"DevelopmentMethod","_id":"1615658185096","_rev":"3-4f09975aac991656c3c3f580bb270a79","name":"Value Proposition Development","description":"The goal of this building block is to develop a value proposition for the customer. For this, a value proposition canvas is filled out with the insights of the discovery and analysis phase.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646781917","list":"design","name":"vpDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-d8521e453f55ec76a8ceec62094e407f","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144754642"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[{"companyModelId":"1625667089851"},null,null]},"Activity_1te8amf_1616162970297":{"method":{"type":"DevelopmentMethod","_id":"1615658309582","_rev":"3-11f692d171dfa24186fcfd2a0133b455","name":"Business Model Development","description":"The goal of this building block is to develop a business model for the app. For this, a business model canvas is filled out with the insights of the discovery and analysis phase.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646785987","list":"design","name":"bmDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-e95a5042d57452e023ca6844a7e3f095","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144329606"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[{"companyModelId":"1625667191131"},null,null]},"Activity_0aodffo_1616163014162":{"method":{"type":"DevelopmentMethod","_id":"1615889237294","_rev":"1-4f54ea4e42230feb6210b4cea4bcff12","name":"Competitive Advantage Analysis","description":"The goal of this building block is to analyze the competitive advantage of the own application. This analysis, in turn, should ensure to focus on these advantages during the beginning of the development.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646810172","list":"design","name":"enhancementDesign","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_1kb8lpz_1616163014162":{"method":{"type":"DevelopmentMethod","_id":"1615888569611","_rev":"1-3f5f771db78b963735c6ff548a94cb65","name":"Feature Set Priorisation","description":"The goal of this building block is to prioritize the feature set according to the most important features. This should ensure to consider only the most important features at the beginning of your app development.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646810172","list":"design","name":"enhancementDesign","description":null}}],"situationalFactors":[{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Feature Set Tools","element":null,"multiple":false,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_1opzvbb_1616163090984":{"method":{"type":"DevelopmentMethod","_id":"1615892880601","_rev":"1-15574f8c40662b626897fbdc3414dae8","name":"MVP Development","description":"The goal of this building block is to create a minimum viable product of the app. An MVP is a small product that can be directly used by the potential customer to solve his problem.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"1-0955816d51a7c74e2d8306ee47a3c9fe","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_0ucs0lq_1616163090984":{"method":{"type":"DevelopmentMethod","_id":"1615656047954","_rev":"1-acefe5251efb7332aa79a53808d6308d","name":"Group Interview Conduction","description":"The goal of this building block is to conduct group interviews with different persons. Group interviews can be used to discover and analyze problems of different persons at a single time and validate possible steps during the development at a single time.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":null,"multiple":true,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":2,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false},"elements":[{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false}]}]},"outputArtifacts":{"group":2,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false},"elements":[{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"elements":[]}]},"tools":{},"stepDecisions":[]},"Activity_13r6wta_1616163103826":{"method":{"type":"DevelopmentMethod","_id":"1615889338605","_rev":"1-c6054239df509575589cdb8100e5ba04","name":"Inbound Marketing Conduction","description":"The goal of this building block is to conduct inbound marketing during the development phase. Inbound marketing means to active creation of valuable content that potential customers can discover during the search for solutions to their problems.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646821909","list":"develop","name":"marketingDevelopment","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647520097","_rev":"1-0f5b281062411808f394d3dc310b17a7","list":"Company","name":"marketingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615889474456","_rev":"1-552dd2bbe797bb1c24f6e16e44bd29ef","list":"Information","name":"Marketing Information","description":"","internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","_rev":"1-259bbdf5097ac615d89cac8487b46dde","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_1opzvbb_1616163132309":{"method":{"type":"DevelopmentMethod","_id":"1615892880601","_rev":"1-15574f8c40662b626897fbdc3414dae8","name":"MVP Development","description":"The goal of this building block is to create a minimum viable product of the app. An MVP is a small product that can be directly used by the potential customer to solve his problem.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop","element":null}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"1-0955816d51a7c74e2d8306ee47a3c9fe","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_0ucs0lq_1616163132309":{"method":{"type":"DevelopmentMethod","_id":"1615656471945","_rev":"1-43f4f2a875d96fc5617e69f0d89c745a","name":"Survey Conduction","description":"The goal of this building block is to conduct surveys with different persons. Surveys can be used to research a high number of persons with standardized questions about the problem, possible ideas, or different developed prototypes.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":null,"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Survey Tools","element":null,"multiple":false,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":2,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false},"elements":[{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false}]}]},"outputArtifacts":{"group":2,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false},"elements":[{"type":"Artifact","_id":"1615648550737","_rev":"1-dbf2b34448abb2c101a9d8f73d8779b9","list":"Prototype","name":"Minimum Viable Product","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":{"type":"Stakeholder","_id":"1615647170528","_rev":"1-9ecbe8ec449dc7847881cb4f4ea59cc8","list":"Users","name":"Early Adopter","description":null},"elements":[{"type":"Stakeholder","_id":"1615647170528","_rev":"1-9ecbe8ec449dc7847881cb4f4ea59cc8","list":"Users","name":"Early Adopter","description":null}]}]},"tools":{"group":0,"elementDecisions":[{"element":{"type":"Tool","_id":"1615648913863","_rev":"1-3cbf3d075a79a899780769992ec0e45f","list":"Survey Tools","name":"Survey Monkey","description":null},"elements":[{"type":"Tool","_id":"1615648913863","_rev":"1-3cbf3d075a79a899780769992ec0e45f","list":"Survey Tools","name":"Survey Monkey","description":null}]}]},"stepDecisions":[]},"Activity_1edrijb_1616163221209":{"method":{"type":"DevelopmentMethod","_id":"1615893012382","_rev":"1-e99bedc5f21de4040e2dd2cdef8a1151","name":"Platform Selection","description":"The goal of this building block is to select a platform where the app should be running. An app can be developed for a specific mobile platform or as a web app.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646844016","list":"develop","name":"platformSelection","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_1g0pfta_1616163221209":{"method":{"type":"DevelopmentMethod","_id":"1615893225262","_rev":"1-63e8fb5efd336c73e638cf4366dd000e","name":"Cost Estimation","description":"The goal of this building block is to estimate the costs that the development of the app will costs.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646848359","list":"develop","name":"financialCheck","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Partners","element":{"type":"Stakeholder","_id":"1615647131910","_rev":"1-a12023cc7ce8f1368743543862fedfbe","list":"Partners","name":"Development Agency","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_0wvgpad_1616163221209":{"method":{"type":"DevelopmentMethod","_id":"1615893378246","_rev":"1-c5e4c3ccc0065a637f2efb8ac412978f","name":"Internal Development","description":"The goal of this building block is to develop the first version of the app. Internal developers will do this development.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646852543","list":"develop","name":"productDevelopment","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647513417","_rev":"1-1a1975529dcfd8f0fbebf13a827d3379","list":"Company","name":"developmentSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647506232","_rev":"1-e7398b72a379a4c00f11f5da5d8eb027","list":"Company","name":"financialResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Product","element":null,"multiple":true,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"1-0955816d51a7c74e2d8306ee47a3c9fe","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648569558","_rev":"1-e0b1b9f28c07031901a1741f7e537402","list":"Product","name":"Web App","description":null,"internalArtifact":false},"elements":[{"type":"Artifact","_id":"1615648569558","_rev":"1-e0b1b9f28c07031901a1741f7e537402","list":"Product","name":"Web App","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_0kcusnn_1616163221209":{"method":{"type":"DevelopmentMethod","_id":"1615893680202","_rev":"1-3212796bc168402a0623ef2b4aa1d238","name":"Platform Publishing","description":"The goal of this building block is to publish the product on the selected platforms.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646856351","list":"develop","name":"platformPublishing","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-d84c82b4625b886e8802fc68bf81762c","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","_rev":"1-30a8bc7eef0358e82e39ec79b5a90766","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"mapping":[],"optional":false},{"list":"Product","element":null,"multiple":true,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Product","element":null,"multiple":true,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"1-dc9d6923c760c19689b85ad8a5f39e27","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Stores","element":null,"multiple":true,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":{"type":"Artifact","_id":"1615648569558","_rev":"1-e0b1b9f28c07031901a1741f7e537402","list":"Product","name":"Web App","description":null,"internalArtifact":false},"elements":[{"type":"Artifact","_id":"1615648569558","_rev":"1-e0b1b9f28c07031901a1741f7e537402","list":"Product","name":"Web App","description":null,"internalArtifact":false}]}]},"outputArtifacts":{},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_0rwv72u_1616162794632":{"method":{"type":"DevelopmentMethod","_id":"1615656471945","_rev":"1-43f4f2a875d96fc5617e69f0d89c745a","name":"Survey Conduction","description":"The goal of this building block is to conduct surveys with different persons. Surveys can be used to research a high number of persons with standardized questions about the problem, possible ideas, or different developed prototypes.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":null,"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Survey Tools","element":null,"multiple":false,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":3,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648569558","_rev":"1-e0b1b9f28c07031901a1741f7e537402","list":"Product","name":"Web App","description":null,"internalArtifact":false},"elements":[{"type":"Artifact","_id":"1615648569558","_rev":"1-e0b1b9f28c07031901a1741f7e537402","list":"Product","name":"Web App","description":null,"internalArtifact":false}]}]},"outputArtifacts":{"group":1,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"elements":[{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"elements":[{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null}]}]},"tools":{"group":0,"elementDecisions":[{"element":{"type":"Tool","_id":"1615648913863","_rev":"1-3cbf3d075a79a899780769992ec0e45f","list":"Survey Tools","name":"Survey Monkey","description":null},"elements":[{"type":"Tool","_id":"1615648913863","_rev":"1-3cbf3d075a79a899780769992ec0e45f","list":"Survey Tools","name":"Survey Monkey","description":null}]}]},"stepDecisions":[]},"Activity_08x5kem_1616162812982":{"method":{"type":"DevelopmentMethod","_id":"1615649204477","_rev":"1-c39b0678f088fb7c8ba28fd80e80d571","name":"Target Audience Identification","description":"The goal of this building block is to identify the target audience of your apps. This identification, in turn, will support the development of an app that directly fits the specific needs of the customer group.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646712401","list":"discovery","name":"customerIdentification","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]}}},"todoMethods":[],"runningMethods":[{"executionId":"f8634a12-6282-4a01-b242-4b3774664d2f","comments":[],"decision":{"method":{"type":"DevelopmentMethod","_id":"164189456022936d4fd9b-6eea-436b-ab98-13484741ca0c","name":"Whiteboard Building Block","examples":[],"author":{},"types":[],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"164189452075720e637a6-a63b-491c-ae3d-0bbe4fd31944","list":"Information","name":"Whiteboard","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"164189456347459458cfb-3695-4be5-9c0d-ba840b5b64fe","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"selectedGroup":null,"elements":null},"outputArtifacts":{"selectedGroup":0,"elements":[[null]]},"stakeholders":{"selectedGroup":null,"elements":null},"tools":{"selectedGroup":0,"elements":[[null]]},"stepDecisions":[{"templateId":"1641894626565ce5a51a6-0677-46e3-971c-0c95db9fc879"},null]},"currentStepNumber":1,"inputArtifacts":[],"steps":[{"inputArtifacts":[],"outputArtifacts":[{"artifact":{"type":"Artifact","_id":"1641998700312b1b50e4b-ac7c-4545-aef6-bef885962b06","internalArtifact":false,"metaModel":{"type":"WhiteboardInstance"}},"data":{"type":2,"data":{"id":"1641998700262eb06cadd-0a52-4eaa-98f8-800e458bbc54","type":"WhiteboardInstance"}},"metaModelType":"WhiteboardInstance"}]},{"inputArtifacts":[{"artifact":{"type":"Artifact","_id":"1641998700312b1b50e4b-ac7c-4545-aef6-bef885962b06","internalArtifact":false,"metaModel":{"type":"WhiteboardInstance"}},"data":{"type":2,"data":{"id":"1641998703724bee47ea1-3934-49ae-833f-846a4da5b314","type":"WhiteboardInstance"}},"metaModelType":"WhiteboardInstance"}],"outputArtifacts":null}]}],"executedMethods":[],"artifacts":[],"contextChange":false,"_id":"1625916484597"},{"type":"ExpertModel","name":"Mobile Todo-Apps","description":"An example of expert knowledge about mobile Todo-Apps","author":{},"features":{"products-&-services":{"name":"Products & Services","type":"optional","subfeatures":{"todo-lists":{"name":"TODO Lists","description":null,"type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"gain-creators":{"name":"Gain Creators","type":"optional","subfeatures":{"customization":{"name":"Customization","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"splitting-of-tasks":{"name":"Splitting of Tasks","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["overview-of-complex-tasks"]}},"expertModelTrace":{}},"connect-to-calender":{"name":"Connect To Calender","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"gains":{"name":"Gains","type":"optional","subfeatures":{"free-to-use":{"name":"Free to use","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"overview-of-complex-tasks":{"name":"Overview of complex tasks","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-jobs":{"name":"Customer Jobs","type":"optional","subfeatures":{"keeping-track-of-tasks":{"name":"Keeping track of tasks","description":null,"type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"pain-relievers":{"name":"Pain Relievers","type":"optional","subfeatures":{"device-syncronisation":{"name":"Device Syncronisation","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["todo-list-not-available-everywhere"]}},"expertModelTrace":{}},"no-advertisements":{"name":"No advertisements","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["no-privacy"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"pains":{"name":"Pains","type":"optional","subfeatures":{"losing-track-of-tasks":{"name":"Losing track of tasks","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"todo-list-not-available-everywhere":{"name":"TODO list not available everywhere","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"no-privacy":{"name":"No privacy","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"instances":[],"nextInstanceId":0,"$definition":{"type":"CanvasDefinition","_id":"1625144754642","_rev":"3-7485d0c94b0fb7b40801824677195996","name":"Value Proposition Canvas","rows":[[{"isSpacer":false,"id":"products-&-services","name":"Products & Services","rowspan":2,"colspan":1},{"isSpacer":false,"id":"gain-creators","name":"Gain Creators","rowspan":1,"colspan":1},{"isSpacer":true,"rowspan":2,"colspan":1},{"isSpacer":false,"id":"gains","name":"Gains","rowspan":1,"colspan":1},{"isSpacer":false,"id":"customer-jobs","name":"Customer Jobs","rowspan":2,"colspan":1}],[{"isSpacer":false,"id":"pain-relievers","name":"Pain Relievers","rowspan":1,"colspan":1},{"isSpacer":false,"id":"pains","name":"Pains","rowspan":1,"colspan":1}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"domains":[{"type":"Domain","_id":"1625915982726","_rev":"3-399152a818da54dfd086efaa1cb9509a","name":"Mobile Todo-Apps"}],"_id":"1636394044392"},{"type":"CompanyModel","name":"Mobile Todo-Apps Value Proposition Canvas","description":"","copyright":"","author":{},"features":{"products-&-services":{"name":"Products & Services","type":"optional","subfeatures":{"todo-lists":{"name":"TODO Lists","description":null,"type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"todo-lists"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"products-&-services"}},"gain-creators":{"name":"Gain Creators","type":"optional","subfeatures":{"customization":{"name":"Customization","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"customization"}},"splitting-of-tasks":{"name":"Splitting of Tasks","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["overview-of-complex-tasks"]}},"expertModelTrace":{"1636394044392":"splitting-of-tasks"}},"connect-to-calender":{"name":"Connect To Calender","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"connect-to-calender"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"gain-creators"}},"gains":{"name":"Gains","type":"optional","subfeatures":{"free-to-use":{"name":"Free to use","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"free-to-use"}},"overview-of-complex-tasks":{"name":"Overview of complex tasks","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"overview-of-complex-tasks"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"gains"}},"customer-jobs":{"name":"Customer Jobs","type":"optional","subfeatures":{"keeping-track-of-tasks":{"name":"Keeping track of tasks","description":null,"type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"keeping-track-of-tasks"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"customer-jobs"}},"pain-relievers":{"name":"Pain Relievers","type":"optional","subfeatures":{"device-syncronisation":{"name":"Device Syncronisation","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["todo-list-not-available-everywhere"]}},"expertModelTrace":{"1636394044392":"device-syncronisation"}},"no-advertisements":{"name":"No advertisements","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["no-privacy"]}},"expertModelTrace":{"1636394044392":"no-advertisements"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"pain-relievers"}},"pains":{"name":"Pains","type":"optional","subfeatures":{"losing-track-of-tasks":{"name":"Losing track of tasks","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"losing-track-of-tasks"}},"todo-list-not-available-everywhere":{"name":"TODO list not available everywhere","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"todo-list-not-available-everywhere"}},"no-privacy":{"name":"No privacy","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"no-privacy"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636394044392":"pains"}}},"instances":[],"nextInstanceId":0,"$definition":{"type":"CanvasDefinition","_id":"1625144754642","_rev":"3-7485d0c94b0fb7b40801824677195996","name":"Value Proposition Canvas","rows":[[{"isSpacer":false,"id":"products-&-services","name":"Products & Services","rowspan":2,"colspan":1},{"isSpacer":false,"id":"gain-creators","name":"Gain Creators","rowspan":1,"colspan":1},{"isSpacer":true,"rowspan":2,"colspan":1},{"isSpacer":false,"id":"gains","name":"Gains","rowspan":1,"colspan":1},{"isSpacer":false,"id":"customer-jobs","name":"Customer Jobs","rowspan":2,"colspan":1}],[{"isSpacer":false,"id":"pain-relievers","name":"Pain Relievers","rowspan":1,"colspan":1},{"isSpacer":false,"id":"pains","name":"Pains","rowspan":1,"colspan":1}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"expertModelTraces":{"1636394044392":{"expertFeatureIdMap":{"products-&-services":"products-&-services","gain-creators":"gain-creators","gains":"gains","customer-jobs":"customer-jobs","pain-relievers":"pain-relievers","pains":"pains","todo-lists":"todo-lists","customization":"customization","splitting-of-tasks":"splitting-of-tasks","connect-to-calender":"connect-to-calender","free-to-use":"free-to-use","overview-of-complex-tasks":"overview-of-complex-tasks","keeping-track-of-tasks":"keeping-track-of-tasks","device-syncronisation":"device-syncronisation","no-advertisements":"no-advertisements","losing-track-of-tasks":"losing-track-of-tasks","todo-list-not-available-everywhere":"todo-list-not-available-everywhere","no-privacy":"no-privacy"}}},"createdByMethod":false,"_id":"1636395509379"},{"type":"BmProcess","initial":false,"name":"Workshop Example","processDiagram":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_0hb75gk</bpmn:outgoing></bpmn:startEvent><bpmn:subProcess id=\\"Activity_0pz9as6\\" name=\\"Business Model Initialization Pattern\\"><bpmn:incoming>Flow_0hb75gk</bpmn:incoming><bpmn:startEvent id=\\"StartEvent_1_1636395948672\\"><bpmn:outgoing>Flow_1038tb5_1636395948672</bpmn:outgoing></bpmn:startEvent><bpmn:callActivity id=\\"Activity_1v3a0dr_1636395948672\\" name=\\"&#60;&#60;discovery&#62;&#62;\\"><bpmn:incoming>Flow_0gd19zx_1636395948672</bpmn:incoming><bpmn:outgoing>Flow_0y72bxm_1636395948672</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Customer Interview Conduction</bmdl:name><bmdl:id>1615656172704</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1qs3oc9_1636395948672\\" name=\\"&#60;&#60;analysis&#62;&#62;\\"><bpmn:incoming>Flow_01m9y59_1636395948672</bpmn:incoming><bpmn:outgoing>Flow_1sab3si_1636395948672</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Target Group Sharping</bmdl:name><bmdl:id>1615658043748</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_1sn658h_1636395948672\\"><bpmn:incoming>Flow_0y72bxm_1636395948672</bpmn:incoming><bpmn:incoming>Flow_0x50kxa_1636395948672</bpmn:incoming><bpmn:outgoing>Flow_01m9y59_1636395948672</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_1xo4mt4_1636395948672\\"><bpmn:incoming>Flow_1sab3si_1636395948672</bpmn:incoming><bpmn:incoming>Flow_1gkr7d2_1636395948672</bpmn:incoming><bpmn:outgoing>Flow_1935tcl_1636395948672</bpmn:outgoing><bpmn:outgoing>Flow_0pwqcw7</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_1oaecke_1636395948672\\"><bpmn:incoming>Flow_0delj8n_1636395948672</bpmn:incoming><bpmn:incoming>Flow_0ec0fze</bpmn:incoming><bpmn:outgoing>Flow_08oz6nc_1636395948672</bpmn:outgoing><bpmn:outgoing>Flow_0x50kxa_1636395948672</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id=\\"Activity_0xntgt9_1636395948672\\" name=\\"&#60;&#60;develop&#62;&#62;\\"><bpmn:incoming>Flow_08oz6nc_1636395948672</bpmn:incoming><bpmn:outgoing>Flow_01x9eus_1636395948672</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Prototype Development</bmdl:name><bmdl:id>1615892295788</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_168ska7_1636395948672\\"><bpmn:incoming>Flow_01x9eus_1636395948672</bpmn:incoming><bpmn:outgoing>Flow_172n46f_1636395948672</bpmn:outgoing><bpmn:outgoing>Flow_1gkr7d2_1636395948672</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id=\\"Activity_0rwv72u_1636395948672\\" name=\\"&#60;&#60;validate&#62;&#62;\\"><bpmn:incoming>Flow_172n46f_1636395948672</bpmn:incoming><bpmn:outgoing>Flow_10xurca_1636395948672</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Customer Interview Conduction</bmdl:name><bmdl:id>1615656172704</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_01iu1l9_1636395948672\\"><bpmn:incoming>Flow_10xurca_1636395948672</bpmn:incoming><bpmn:outgoing>Flow_07db5lv_1636395948672</bpmn:outgoing><bpmn:outgoing>Flow_0delj8n_1636395948672</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:endEvent id=\\"Event_02xe3v6_1636395948672\\"><bpmn:incoming>Flow_07db5lv_1636395948672</bpmn:incoming></bpmn:endEvent><bpmn:exclusiveGateway id=\\"Gateway_1fdjmm5_1636395948672\\"><bpmn:incoming>Flow_1038tb5_1636395948672</bpmn:incoming><bpmn:incoming>Flow_1935tcl_1636395948672</bpmn:incoming><bpmn:outgoing>Flow_0gd19zx_1636395948672</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1038tb5_1636395948672\\" sourceRef=\\"StartEvent_1_1636395948672\\" targetRef=\\"Gateway_1fdjmm5_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_0y72bxm_1636395948672\\" sourceRef=\\"Activity_1v3a0dr_1636395948672\\" targetRef=\\"Gateway_1sn658h_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_01m9y59_1636395948672\\" sourceRef=\\"Gateway_1sn658h_1636395948672\\" targetRef=\\"Activity_1qs3oc9_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_1sab3si_1636395948672\\" sourceRef=\\"Activity_1qs3oc9_1636395948672\\" targetRef=\\"Gateway_1xo4mt4_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_08oz6nc_1636395948672\\" sourceRef=\\"Gateway_1oaecke_1636395948672\\" targetRef=\\"Activity_0xntgt9_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_01x9eus_1636395948672\\" sourceRef=\\"Activity_0xntgt9_1636395948672\\" targetRef=\\"Gateway_168ska7_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_172n46f_1636395948672\\" sourceRef=\\"Gateway_168ska7_1636395948672\\" targetRef=\\"Activity_0rwv72u_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_10xurca_1636395948672\\" sourceRef=\\"Activity_0rwv72u_1636395948672\\" targetRef=\\"Gateway_01iu1l9_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_07db5lv_1636395948672\\" sourceRef=\\"Gateway_01iu1l9_1636395948672\\" targetRef=\\"Event_02xe3v6_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_0gd19zx_1636395948672\\" sourceRef=\\"Gateway_1fdjmm5_1636395948672\\" targetRef=\\"Activity_1v3a0dr_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_1935tcl_1636395948672\\" sourceRef=\\"Gateway_1xo4mt4_1636395948672\\" targetRef=\\"Gateway_1fdjmm5_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_0x50kxa_1636395948672\\" sourceRef=\\"Gateway_1oaecke_1636395948672\\" targetRef=\\"Gateway_1sn658h_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_0delj8n_1636395948672\\" sourceRef=\\"Gateway_01iu1l9_1636395948672\\" targetRef=\\"Gateway_1oaecke_1636395948672\\" /><bpmn:sequenceFlow id=\\"Flow_1gkr7d2_1636395948672\\" sourceRef=\\"Gateway_168ska7_1636395948672\\" targetRef=\\"Gateway_1xo4mt4_1636395948672\\" /><bpmn:subProcess id=\\"Activity_0ozqft9\\" name=\\"Generic Consecutive Pattern\\"><bpmn:incoming>Flow_0pwqcw7</bpmn:incoming><bpmn:outgoing>Flow_0ec0fze</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1636395978774\\"><bpmn:outgoing>Flow_0hjagem_1636395978774</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1u3pk81_1636395978774\\"><bpmn:incoming>Flow_03ur53t_1636395978774</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0aodffo_1636395978774\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0hjagem_1636395978774</bpmn:incoming><bpmn:outgoing>Flow_01dalb8_1636395978774</bpmn:outgoing></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1kb8lpz_1636395978774\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_01dalb8_1636395978774</bpmn:incoming><bpmn:outgoing>Flow_03ur53t_1636395978774</bpmn:outgoing><bmdl:method><bmdl:name>Business Model Development</bmdl:name><bmdl:id>1615658309582</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_0hjagem_1636395978774\\" sourceRef=\\"StartEvent_1_1636395978774\\" targetRef=\\"Activity_0aodffo_1636395978774\\" /><bpmn:sequenceFlow id=\\"Flow_01dalb8_1636395978774\\" sourceRef=\\"Activity_0aodffo_1636395978774\\" targetRef=\\"Activity_1kb8lpz_1636395978774\\" /><bpmn:sequenceFlow id=\\"Flow_03ur53t_1636395978774\\" sourceRef=\\"Activity_1kb8lpz_1636395978774\\" targetRef=\\"Event_1u3pk81_1636395978774\\" /><bmdl:processPatternId>1615989368999</bmdl:processPatternId><bmdl:taskName>&lt;&lt;design&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0pwqcw7\\" sourceRef=\\"Gateway_1xo4mt4_1636395948672\\" targetRef=\\"Activity_0ozqft9\\" /><bpmn:sequenceFlow id=\\"Flow_0ec0fze\\" sourceRef=\\"Activity_0ozqft9\\" targetRef=\\"Gateway_1oaecke_1636395948672\\" /><bmdl:processPatternId>1615659481079</bmdl:processPatternId></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_0hb75gk\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_0pz9as6\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_0hb75gk_di\\" bpmnElement=\\"Flow_0hb75gk\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"259\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0pz9as6_di\\" bpmnElement=\\"Activity_0pz9as6\\" isExpanded=\\"true\\"><dc:Bounds x=\\"259\\" y=\\"-50\\" width=\\"1961\\" height=\\"340\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0ec0fze_di\\" bpmnElement=\\"Flow_0ec0fze\\"><di:waypoint x=\\"1482\\" y=\\"90\\" /><di:waypoint x=\\"1537\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0pwqcw7_di\\" bpmnElement=\\"Flow_0pwqcw7\\"><di:waypoint x=\\"942\\" y=\\"90\\" /><di:waypoint x=\\"997\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1gkr7d2_1636395948672_di\\" bpmnElement=\\"Flow_1gkr7d2_1636395948672\\"><di:waypoint x=\\"1823\\" y=\\"114\\" /><di:waypoint x=\\"1823\\" y=\\"270\\" /><di:waypoint x=\\"917\\" y=\\"270\\" /><di:waypoint x=\\"917\\" y=\\"115\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0delj8n_1636395948672_di\\" bpmnElement=\\"Flow_0delj8n_1636395948672\\"><di:waypoint x=\\"2082\\" y=\\"65\\" /><di:waypoint x=\\"2082\\" y=\\"-20\\" /><di:waypoint x=\\"1562\\" y=\\"-20\\" /><di:waypoint x=\\"1562\\" y=\\"65\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0x50kxa_1636395948672_di\\" bpmnElement=\\"Flow_0x50kxa_1636395948672\\"><di:waypoint x=\\"1563\\" y=\\"114\\" /><di:waypoint x=\\"1563\\" y=\\"210\\" /><di:waypoint x=\\"657\\" y=\\"210\\" /><di:waypoint x=\\"657\\" y=\\"115\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1935tcl_1636395948672_di\\" bpmnElement=\\"Flow_1935tcl_1636395948672\\"><di:waypoint x=\\"917\\" y=\\"65\\" /><di:waypoint x=\\"917\\" y=\\"-20\\" /><di:waypoint x=\\"397\\" y=\\"-20\\" /><di:waypoint x=\\"397\\" y=\\"65\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0gd19zx_1636395948672_di\\" bpmnElement=\\"Flow_0gd19zx_1636395948672\\"><di:waypoint x=\\"422\\" y=\\"90\\" /><di:waypoint x=\\"477\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_07db5lv_1636395948672_di\\" bpmnElement=\\"Flow_07db5lv_1636395948672\\"><di:waypoint x=\\"2107\\" y=\\"90\\" /><di:waypoint x=\\"2164\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_10xurca_1636395948672_di\\" bpmnElement=\\"Flow_10xurca_1636395948672\\"><di:waypoint x=\\"2002\\" y=\\"90\\" /><di:waypoint x=\\"2057\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_172n46f_1636395948672_di\\" bpmnElement=\\"Flow_172n46f_1636395948672\\"><di:waypoint x=\\"1847\\" y=\\"90\\" /><di:waypoint x=\\"1902\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01x9eus_1636395948672_di\\" bpmnElement=\\"Flow_01x9eus_1636395948672\\"><di:waypoint x=\\"1742\\" y=\\"90\\" /><di:waypoint x=\\"1797\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_08oz6nc_1636395948672_di\\" bpmnElement=\\"Flow_08oz6nc_1636395948672\\"><di:waypoint x=\\"1587\\" y=\\"90\\" /><di:waypoint x=\\"1642\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1sab3si_1636395948672_di\\" bpmnElement=\\"Flow_1sab3si_1636395948672\\"><di:waypoint x=\\"837\\" y=\\"90\\" /><di:waypoint x=\\"892\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01m9y59_1636395948672_di\\" bpmnElement=\\"Flow_01m9y59_1636395948672\\"><di:waypoint x=\\"682\\" y=\\"90\\" /><di:waypoint x=\\"737\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0y72bxm_1636395948672_di\\" bpmnElement=\\"Flow_0y72bxm_1636395948672\\"><di:waypoint x=\\"577\\" y=\\"90\\" /><di:waypoint x=\\"632\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1038tb5_1636395948672_di\\" bpmnElement=\\"Flow_1038tb5_1636395948672\\"><di:waypoint x=\\"315\\" y=\\"90\\" /><di:waypoint x=\\"372\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1636395948672_di\\" bpmnElement=\\"StartEvent_1_1636395948672\\"><dc:Bounds x=\\"279\\" y=\\"72\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1v3a0dr_1636395948672_di\\" bpmnElement=\\"Activity_1v3a0dr_1636395948672\\"><dc:Bounds x=\\"477\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1qs3oc9_1636395948672_di\\" bpmnElement=\\"Activity_1qs3oc9_1636395948672\\"><dc:Bounds x=\\"737\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1sn658h_1636395948672_di\\" bpmnElement=\\"Gateway_1sn658h_1636395948672\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"632\\" y=\\"65\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1xo4mt4_1636395948672_di\\" bpmnElement=\\"Gateway_1xo4mt4_1636395948672\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"892\\" y=\\"65\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1oaecke_1636395948672_di\\" bpmnElement=\\"Gateway_1oaecke_1636395948672\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1537\\" y=\\"65\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0xntgt9_1636395948672_di\\" bpmnElement=\\"Activity_0xntgt9_1636395948672\\"><dc:Bounds x=\\"1642\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_168ska7_1636395948672_di\\" bpmnElement=\\"Gateway_168ska7_1636395948672\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1797\\" y=\\"65\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0rwv72u_1636395948672_di\\" bpmnElement=\\"Activity_0rwv72u_1636395948672\\"><dc:Bounds x=\\"1902\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_01iu1l9_1636395948672_di\\" bpmnElement=\\"Gateway_01iu1l9_1636395948672\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2057\\" y=\\"65\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_02xe3v6_1636395948672_di\\" bpmnElement=\\"Event_02xe3v6_1636395948672\\"><dc:Bounds x=\\"2164\\" y=\\"72\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1fdjmm5_1636395948672_di\\" bpmnElement=\\"Gateway_1fdjmm5_1636395948672\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"372\\" y=\\"65\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0ozqft9_di\\" bpmnElement=\\"Activity_0ozqft9\\" isExpanded=\\"true\\"><dc:Bounds x=\\"997\\" y=\\"25\\" width=\\"485\\" height=\\"130\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_03ur53t_1636395978774_di\\" bpmnElement=\\"Flow_03ur53t_1636395978774\\"><di:waypoint x=\\"1364\\" y=\\"95\\" /><di:waypoint x=\\"1426\\" y=\\"95\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01dalb8_1636395978774_di\\" bpmnElement=\\"Flow_01dalb8_1636395978774\\"><di:waypoint x=\\"1204\\" y=\\"95\\" /><di:waypoint x=\\"1264\\" y=\\"95\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0hjagem_1636395978774_di\\" bpmnElement=\\"Flow_0hjagem_1636395978774\\"><di:waypoint x=\\"1053\\" y=\\"95\\" /><di:waypoint x=\\"1104\\" y=\\"95\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1636395978774_di\\" bpmnElement=\\"StartEvent_1_1636395978774\\"><dc:Bounds x=\\"1017\\" y=\\"77\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1u3pk81_1636395978774_di\\" bpmnElement=\\"Event_1u3pk81_1636395978774\\"><dc:Bounds x=\\"1426\\" y=\\"77\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0aodffo_1636395978774_di\\" bpmnElement=\\"Activity_0aodffo_1636395978774\\"><dc:Bounds x=\\"1104\\" y=\\"55\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1kb8lpz_1636395978774_di\\" bpmnElement=\\"Activity_1kb8lpz_1636395978774\\"><dc:Bounds x=\\"1264\\" y=\\"55\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","domains":[{"type":"Domain","_id":"1625915982726","_rev":"3-399152a818da54dfd086efaa1cb9509a","name":"Mobile Todo-Apps"}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"3-cb3ce7efcc26fc74ba0e93f2d1d3f34a","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647506232","_rev":"3-62fd45a88f72164a77961bc8541719e3","list":"Company","name":"financialResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Market","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647551257","_rev":"3-a4a0e860e44ac1238c2a0e734306b218","list":"Market","name":"marketSize","description":null,"values":["niche","mass"],"ordered":false},"value":"mass"}}],"decisions":{"Activity_1v3a0dr_1636395948672":{"method":{"type":"DevelopmentMethod","_id":"1615656172704","name":"Customer Interview Conduction","description":"The goal of this building block is to conduct interviews with potential customers of the app. The interviews can be used to discover and analyze the current problems or validate different steps of the development process.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis"},{"list":"validate"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647442050","list":"Company","name":"domainExpertise","description":"","values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Prototype","multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Product","multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false}]},{"items":[{"list":"Information","multiple":true,"optional":false}]},{"items":[{"list":"Prototype","multiple":false,"optional":false}]},{"items":[{"list":"Product","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[]},"outputArtifacts":{"group":1,"elementDecisions":[{"elements":[{"type":"Artifact","_id":"1615648484285","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},{"type":"Artifact","_id":"1615648488922","list":"Information","name":"Problem Information","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{},{}]},"tools":{},"stepDecisions":[]},"Activity_1qs3oc9_1636395948672":{"method":{"type":"DevelopmentMethod","_id":"1615658043748","name":"Target Group Sharping","description":"The goal of this building block is to sharp the target group after the analysis of the market and the competitors. This, in turn, should help to concentrate on a specific group instead of trying to solve the problem for multiple diverse groups.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646750064","list":"analysis","name":"nicheAnalysis","description":null}},{"list":"analysis"}],"situationalFactors":[{"list":"Customer","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647539973","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false},"value":"divers"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{},"outputArtifacts":{},"stakeholders":{},"tools":{},"stepDecisions":[]},"Activity_0xntgt9_1636395948672":{"method":{"type":"DevelopmentMethod","_id":"1615892295788","name":"Prototype Development","description":"The goal of this building block is to develop a prototype of the app. This prototype can be created in various forms like sketches, mockups, wireframes, or clickable prototypes.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop"}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648477829","list":"Structured Information","name":"Feature Set","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Prototyping Tools","multiple":false,"optional":false}]}]},"executionSteps":[]},"inputArtifacts":{"group":1,"elementDecisions":[{}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648539192","list":"Prototype","name":"Sketch","description":null,"internalArtifact":false}}]},"stakeholders":{"group":0,"elementDecisions":[{},{},{}]},"tools":{"group":0,"elementDecisions":[{"element":{"type":"Tool","_id":"1615648887961","list":"Prototyping Tools","name":"Photoshop","description":null}}]},"stepDecisions":[]},"Activity_0rwv72u_1636395948672":{"method":{"type":"DevelopmentMethod","_id":"1615656172704","name":"Customer Interview Conduction","description":"The goal of this building block is to conduct interviews with potential customers of the app. The interviews can be used to discover and analyze the current problems or validate different steps of the development process.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis"},{"list":"validate"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647442050","list":"Company","name":"domainExpertise","description":"","values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Prototype","multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Product","multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false}]},{"items":[{"list":"Information","multiple":true,"optional":false}]},{"items":[{"list":"Prototype","multiple":false,"optional":false}]},{"items":[{"list":"Product","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":3,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648539192","list":"Prototype","name":"Sketch","description":null,"internalArtifact":false}}]},"outputArtifacts":{"group":1,"elementDecisions":[{"elements":[{"type":"Artifact","_id":"1615648503459","list":"Information","name":"App Information","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{},{}]},"tools":{},"stepDecisions":[]},"Activity_1kb8lpz_1636395978774":{"method":{"type":"DevelopmentMethod","_id":"1615658309582","name":"Business Model Development","description":"The goal of this building block is to develop a business model for the app. For this, a business model canvas is filled out with the insights of the discovery and analysis phase.","examples":[],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"xxxx@xxxx.xx","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646785987","list":"design","name":"bmDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144329606"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":1,"elementDecisions":[{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[{"companyModelId":"3547fa88-8112-4157-b181-436c0a5d2eac"},null,null]}},"_id":"1636395909703"},{"type":"CanvasDefinition","name":"Feature Set Canvas","description":"The Feature Set Canvas can used to distinguish the features of the product/service within the building blocks of general, user and item.","rows":[[{"isSpacer":false,"id":"general","name":"General","rowspan":1,"colspan":1},{"isSpacer":false,"id":"user","name":"User","rowspan":1,"colspan":1},{"isSpacer":false,"id":"item","name":"Item","rowspan":1,"colspan":1}]],"relationshipTypes":["requires","excludes","supports","hurts"],"_id":"1636472697006"},{"type":"CompanyModel","name":"Mobile Apps Feature Set","description":"This composed model is used for the feature set within the LEAN development seminar.","author":{},"features":{"general-functions":{"name":"General Functions","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"user":{"name":"User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"item":{"name":"Item","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"instances":[],"nextInstanceId":0,"$definition":{"type":"CanvasDefinition","_id":"1636472697006","_rev":"4-9c3a2cdfbeb27e5c3c15f0008bced03c","name":"Feature Set Canvas","rows":[[{"isSpacer":false,"id":"general-functions","name":"General Functions","rowspan":1,"colspan":1},{"isSpacer":false,"id":"user","name":"User","rowspan":1,"colspan":1},{"isSpacer":false,"id":"item","name":"Item","rowspan":1,"colspan":1}]],"relationshipTypes":[]},"expertModelTraces":{},"createdByMethod":false,"_id":"1636478339057"},{"type":"ExpertModel","name":"Feature Sets for Mobile Apps","description":"An example of expert knowledge about feature sets of mobile apps.","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"features":{"general":{"name":"General","description":null,"type":"mandatory","subfeatures":{"home-screen":{"name":"Home Screen","description":null,"type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"settings":{"name":"Settings","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"user":{"name":"User","type":"optional","subfeatures":{"management":{"name":"Management","description":null,"type":"optional","subfeatures":{"register":{"name":"Register","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["logout"]}},"expertModelTrace":{}},"reset-password":{"name":"Reset Password","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"login":{"name":"Login","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["register"]}},"expertModelTrace":{}},"logout":{"name":"Logout","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["login"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"interaction":{"name":"Interaction","description":null,"type":"optional","subfeatures":{"profiles":{"name":"Profiles","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"messages":{"name":"Messages","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"friendships":{"name":"Friendships","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"status":{"name":"Status","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"shared-playlists":{"name":"Shared Playlists","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["management"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"item":{"name":"Item","description":null,"type":"mandatory","subfeatures":{"list":{"name":"List","description":null,"type":"optional","subfeatures":{"categories":{"name":"Categories","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"highlights":{"name":"Highlights","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"search-/-filter":{"name":"Search / Filter","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"recommendations":{"name":"Recommendations","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"consumptions":{"name":"Consumptions","description":null,"type":"mandatory","subfeatures":{"view":{"name":"View","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"stream":{"name":"Stream","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"play":{"name":"Play","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"buy":{"name":"Buy","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"rate":{"name":"Rate","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"like":{"name":"Like","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"comment":{"name":"Comment","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"upgrade":{"name":"Upgrade","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"download":{"name":"Download","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"provision":{"name":"Provision","description":null,"type":"optional","subfeatures":{"create":{"name":"Create","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"update":{"name":"Update","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"delete":{"name":"Delete","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"upload":{"name":"Upload","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"sell":{"name":"Sell","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"upgrade-1":{"name":"Upgrade","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"instances":[{"id":0,"name":"Netflix","type":"example","usedFeatures":["general","user","item","home-screen","settings","management","register","reset-password","login","logout","list","consumptions","categories","highlights","search-/-filter","recommendations","stream","rate","download"]},{"id":1,"name":"YouTube","type":"example","usedFeatures":["general","user","item","home-screen","settings","management","interaction","register","reset-password","login","logout","profiles","messages","friendships","shared-playlists","list","consumptions","provision","categories","highlights","search-/-filter","recommendations","stream","comment","like","download","upload","update","delete"]},{"id":2,"name":"Spotify","type":"example","usedFeatures":["general","user","item","home-screen","settings","management","interaction","register","reset-password","login","logout","shared-playlists","profiles","list","consumptions","categories","highlights","search-/-filter","recommendations","stream","like","download"]}],"nextInstanceId":3,"$definition":{"type":"CanvasDefinition","_id":"1636472697006","_rev":"8-d1d773f89cd6b143c645a5a8a21fef76","name":"Feature Set Canvas","description":"The Feature Set Canvas can used to distinguish the features of the product/service within the building blocks of general, user and item.","rows":[[{"isSpacer":false,"id":"general","name":"General","rowspan":1,"colspan":1},{"isSpacer":false,"id":"user","name":"User","rowspan":1,"colspan":1},{"isSpacer":false,"id":"item","name":"Item","rowspan":1,"colspan":1}]],"relationshipTypes":["requires","excludes"]},"domains":[{"type":"Domain","_id":"1625915974420","_rev":"9-a191410f56a69e1878a137766819eca4","name":"Mobile Apps"}],"_id":"1636479709290"},{"type":"Artifact","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"},"metaModelData":{"definitionId":"1636472697006"},"_id":"1636485555392"},{"type":"BmProcess","initial":false,"name":"LEAN Development Seminar Example","processDiagram":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_1jldihn</bpmn:outgoing></bpmn:startEvent><bpmn:subProcess id=\\"Activity_1ph8esb\\" name=\\"Business Model Initialization Pattern\\"><bpmn:incoming>Flow_1jldihn</bpmn:incoming><bpmn:startEvent id=\\"StartEvent_1_1636485893311\\"><bpmn:outgoing>Flow_1038tb5_1636485893311</bpmn:outgoing></bpmn:startEvent><bpmn:callActivity id=\\"Activity_1v3a0dr_1636485893311\\" name=\\"&#60;&#60;discovery&#62;&#62;\\"><bpmn:incoming>Flow_0gd19zx_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_0y72bxm_1636485893311</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Customer Interview Conduction</bmdl:name><bmdl:id>1615656172704</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1qs3oc9_1636485893311\\" name=\\"&#60;&#60;analysis&#62;&#62;\\"><bpmn:incoming>Flow_01m9y59_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_1sab3si_1636485893311</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Target Group Sharping</bmdl:name><bmdl:id>1615658043748</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_1sn658h_1636485893311\\"><bpmn:incoming>Flow_0y72bxm_1636485893311</bpmn:incoming><bpmn:incoming>Flow_0x50kxa_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_01m9y59_1636485893311</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_1xo4mt4_1636485893311\\"><bpmn:incoming>Flow_1sab3si_1636485893311</bpmn:incoming><bpmn:incoming>Flow_1gkr7d2_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_1935tcl_1636485893311</bpmn:outgoing><bpmn:outgoing>Flow_1u12pqs</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_1oaecke_1636485893311\\"><bpmn:incoming>Flow_0delj8n_1636485893311</bpmn:incoming><bpmn:incoming>Flow_17pqa63</bpmn:incoming><bpmn:outgoing>Flow_08oz6nc_1636485893311</bpmn:outgoing><bpmn:outgoing>Flow_0x50kxa_1636485893311</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id=\\"Activity_0xntgt9_1636485893311\\" name=\\"&#60;&#60;develop&#62;&#62;\\"><bpmn:incoming>Flow_08oz6nc_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_01x9eus_1636485893311</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Prototype Development</bmdl:name><bmdl:id>1615892295788</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_168ska7_1636485893311\\"><bpmn:incoming>Flow_01x9eus_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_172n46f_1636485893311</bpmn:outgoing><bpmn:outgoing>Flow_1gkr7d2_1636485893311</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id=\\"Activity_0rwv72u_1636485893311\\" name=\\"&#60;&#60;validate&#62;&#62;\\"><bpmn:incoming>Flow_172n46f_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_10xurca_1636485893311</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Customer Interview Conduction</bmdl:name><bmdl:id>1615656172704</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_01iu1l9_1636485893311\\"><bpmn:incoming>Flow_10xurca_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_07db5lv_1636485893311</bpmn:outgoing><bpmn:outgoing>Flow_0delj8n_1636485893311</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:endEvent id=\\"Event_02xe3v6_1636485893311\\"><bpmn:incoming>Flow_07db5lv_1636485893311</bpmn:incoming></bpmn:endEvent><bpmn:exclusiveGateway id=\\"Gateway_1fdjmm5_1636485893311\\"><bpmn:incoming>Flow_1038tb5_1636485893311</bpmn:incoming><bpmn:incoming>Flow_1935tcl_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_0gd19zx_1636485893311</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1038tb5_1636485893311\\" sourceRef=\\"StartEvent_1_1636485893311\\" targetRef=\\"Gateway_1fdjmm5_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_0y72bxm_1636485893311\\" sourceRef=\\"Activity_1v3a0dr_1636485893311\\" targetRef=\\"Gateway_1sn658h_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_01m9y59_1636485893311\\" sourceRef=\\"Gateway_1sn658h_1636485893311\\" targetRef=\\"Activity_1qs3oc9_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_1sab3si_1636485893311\\" sourceRef=\\"Activity_1qs3oc9_1636485893311\\" targetRef=\\"Gateway_1xo4mt4_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_08oz6nc_1636485893311\\" sourceRef=\\"Gateway_1oaecke_1636485893311\\" targetRef=\\"Activity_0xntgt9_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_01x9eus_1636485893311\\" sourceRef=\\"Activity_0xntgt9_1636485893311\\" targetRef=\\"Gateway_168ska7_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_172n46f_1636485893311\\" sourceRef=\\"Gateway_168ska7_1636485893311\\" targetRef=\\"Activity_0rwv72u_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_10xurca_1636485893311\\" sourceRef=\\"Activity_0rwv72u_1636485893311\\" targetRef=\\"Gateway_01iu1l9_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_07db5lv_1636485893311\\" sourceRef=\\"Gateway_01iu1l9_1636485893311\\" targetRef=\\"Event_02xe3v6_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_0gd19zx_1636485893311\\" sourceRef=\\"Gateway_1fdjmm5_1636485893311\\" targetRef=\\"Activity_1v3a0dr_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_1935tcl_1636485893311\\" sourceRef=\\"Gateway_1xo4mt4_1636485893311\\" targetRef=\\"Gateway_1fdjmm5_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_0x50kxa_1636485893311\\" sourceRef=\\"Gateway_1oaecke_1636485893311\\" targetRef=\\"Gateway_1sn658h_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_0delj8n_1636485893311\\" sourceRef=\\"Gateway_01iu1l9_1636485893311\\" targetRef=\\"Gateway_1oaecke_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_1gkr7d2_1636485893311\\" sourceRef=\\"Gateway_168ska7_1636485893311\\" targetRef=\\"Gateway_1xo4mt4_1636485893311\\" /><bpmn:subProcess id=\\"Activity_099qxns\\" name=\\"Generic Consecutive Pattern\\"><bpmn:incoming>Flow_1u12pqs</bpmn:incoming><bpmn:outgoing>Flow_17pqa63</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1636486195505\\"><bpmn:outgoing>Flow_0hjagem_1636486195505</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1u3pk81_1636486195505\\"><bpmn:incoming>Flow_03glzk5</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0aodffo_1636486195505\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0hjagem_1636486195505</bpmn:incoming><bpmn:outgoing>Flow_07x6qct</bpmn:outgoing><bmdl:method><bmdl:name>Value Proposition Development</bmdl:name><bmdl:id>1615658185096</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_0hjagem_1636486195505\\" sourceRef=\\"StartEvent_1_1636486195505\\" targetRef=\\"Activity_0aodffo_1636486195505\\" /><bpmn:subProcess id=\\"Activity_0i0id23\\" name=\\"Generic Parallelism Pattern\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_07x6qct</bpmn:incoming><bpmn:outgoing>Flow_03glzk5</bpmn:outgoing><bpmn:startEvent id=\\"StartEvent_1_1636486348070\\"><bpmn:outgoing>Flow_02lt5jx_1636486348070</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id=\\"Gateway_1elyntr_1636486348070\\"><bpmn:incoming>Flow_02lt5jx_1636486348070</bpmn:incoming><bpmn:outgoing>Flow_1ga9lx3_1636486348070</bpmn:outgoing><bpmn:outgoing>Flow_0vucjs2_1636486348070</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_0kvyq9x_1636486348070\\"><bpmn:incoming>Flow_05fk023_1636486348070</bpmn:incoming><bpmn:incoming>Flow_155pkgy_1636486348070</bpmn:incoming><bpmn:outgoing>Flow_13gx7u5_1636486348070</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_1i06277_1636486348070\\"><bpmn:incoming>Flow_13gx7u5_1636486348070</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0r6nbda_1636486348070\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_1ga9lx3_1636486348070</bpmn:incoming><bpmn:outgoing>Flow_05fk023_1636486348070</bpmn:outgoing><bmdl:method><bmdl:name>Business Model Development</bmdl:name><bmdl:id>1615658309582</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1dah4ly_1636486348070\\" name=\\"&#60;&#60;generic&#62;&#62;\\" bmdl:inherit=\\"true\\"><bpmn:incoming>Flow_0vucjs2_1636486348070</bpmn:incoming><bpmn:outgoing>Flow_155pkgy_1636486348070</bpmn:outgoing><bmdl:method><bmdl:name>Feature Set Development</bmdl:name><bmdl:id>1615658097457</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_02lt5jx_1636486348070\\" sourceRef=\\"StartEvent_1_1636486348070\\" targetRef=\\"Gateway_1elyntr_1636486348070\\" /><bpmn:sequenceFlow id=\\"Flow_1ga9lx3_1636486348070\\" sourceRef=\\"Gateway_1elyntr_1636486348070\\" targetRef=\\"Activity_0r6nbda_1636486348070\\" /><bpmn:sequenceFlow id=\\"Flow_0vucjs2_1636486348070\\" sourceRef=\\"Gateway_1elyntr_1636486348070\\" targetRef=\\"Activity_1dah4ly_1636486348070\\" /><bpmn:sequenceFlow id=\\"Flow_05fk023_1636486348070\\" sourceRef=\\"Activity_0r6nbda_1636486348070\\" targetRef=\\"Gateway_0kvyq9x_1636486348070\\" /><bpmn:sequenceFlow id=\\"Flow_13gx7u5_1636486348070\\" sourceRef=\\"Gateway_0kvyq9x_1636486348070\\" targetRef=\\"Event_1i06277_1636486348070\\" /><bpmn:sequenceFlow id=\\"Flow_155pkgy_1636486348070\\" sourceRef=\\"Activity_1dah4ly_1636486348070\\" targetRef=\\"Gateway_0kvyq9x_1636486348070\\" /><bmdl:processPatternId>1615989084072</bmdl:processPatternId><bmdl:taskName>&lt;&lt;generic&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_07x6qct\\" sourceRef=\\"Activity_0aodffo_1636486195505\\" targetRef=\\"Activity_0i0id23\\" /><bpmn:sequenceFlow id=\\"Flow_03glzk5\\" sourceRef=\\"Activity_0i0id23\\" targetRef=\\"Event_1u3pk81_1636486195505\\" /><bmdl:processPatternId>1615989368999</bmdl:processPatternId><bmdl:taskName>&lt;&lt;design&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1u12pqs\\" sourceRef=\\"Gateway_1xo4mt4_1636485893311\\" targetRef=\\"Activity_099qxns\\" /><bpmn:sequenceFlow id=\\"Flow_17pqa63\\" sourceRef=\\"Activity_099qxns\\" targetRef=\\"Gateway_1oaecke_1636485893311\\" /><bmdl:processPatternId>1615659481079</bmdl:processPatternId></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1jldihn\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_1ph8esb\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1jldihn_di\\" bpmnElement=\\"Flow_1jldihn\\"><di:waypoint x=\\"209\\" y=\\"200\\" /><di:waypoint x=\\"259\\" y=\\"200\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"182\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1ph8esb_di\\" bpmnElement=\\"Activity_1ph8esb\\" isExpanded=\\"true\\"><dc:Bounds x=\\"259\\" y=\\"-50\\" width=\\"2426\\" height=\\"500\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_17pqa63_di\\" bpmnElement=\\"Flow_17pqa63\\"><di:waypoint x=\\"1947\\" y=\\"170\\" /><di:waypoint x=\\"2002\\" y=\\"170\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1u12pqs_di\\" bpmnElement=\\"Flow_1u12pqs\\"><di:waypoint x=\\"942\\" y=\\"170\\" /><di:waypoint x=\\"997\\" y=\\"170\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1gkr7d2_1636485893311_di\\" bpmnElement=\\"Flow_1gkr7d2_1636485893311\\"><di:waypoint x=\\"2289\\" y=\\"193\\" /><di:waypoint x=\\"2289\\" y=\\"350\\" /><di:waypoint x=\\"917\\" y=\\"350\\" /><di:waypoint x=\\"917\\" y=\\"195\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0delj8n_1636485893311_di\\" bpmnElement=\\"Flow_0delj8n_1636485893311\\"><di:waypoint x=\\"2547\\" y=\\"145\\" /><di:waypoint x=\\"2547\\" y=\\"-20\\" /><di:waypoint x=\\"2027\\" y=\\"-20\\" /><di:waypoint x=\\"2027\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0x50kxa_1636485893311_di\\" bpmnElement=\\"Flow_0x50kxa_1636485893311\\"><di:waypoint x=\\"2029\\" y=\\"193\\" /><di:waypoint x=\\"2029\\" y=\\"290\\" /><di:waypoint x=\\"657\\" y=\\"290\\" /><di:waypoint x=\\"657\\" y=\\"195\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1935tcl_1636485893311_di\\" bpmnElement=\\"Flow_1935tcl_1636485893311\\"><di:waypoint x=\\"917\\" y=\\"145\\" /><di:waypoint x=\\"917\\" y=\\"-20\\" /><di:waypoint x=\\"397\\" y=\\"-20\\" /><di:waypoint x=\\"397\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0gd19zx_1636485893311_di\\" bpmnElement=\\"Flow_0gd19zx_1636485893311\\"><di:waypoint x=\\"397\\" y=\\"145\\" /><di:waypoint x=\\"397\\" y=\\"90\\" /><di:waypoint x=\\"477\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_07db5lv_1636485893311_di\\" bpmnElement=\\"Flow_07db5lv_1636485893311\\"><di:waypoint x=\\"2572\\" y=\\"170\\" /><di:waypoint x=\\"2629\\" y=\\"170\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_10xurca_1636485893311_di\\" bpmnElement=\\"Flow_10xurca_1636485893311\\"><di:waypoint x=\\"2467\\" y=\\"90\\" /><di:waypoint x=\\"2547\\" y=\\"90\\" /><di:waypoint x=\\"2547\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_172n46f_1636485893311_di\\" bpmnElement=\\"Flow_172n46f_1636485893311\\"><di:waypoint x=\\"2287\\" y=\\"145\\" /><di:waypoint x=\\"2287\\" y=\\"90\\" /><di:waypoint x=\\"2367\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01x9eus_1636485893311_di\\" bpmnElement=\\"Flow_01x9eus_1636485893311\\"><di:waypoint x=\\"2207\\" y=\\"90\\" /><di:waypoint x=\\"2287\\" y=\\"90\\" /><di:waypoint x=\\"2287\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_08oz6nc_1636485893311_di\\" bpmnElement=\\"Flow_08oz6nc_1636485893311\\"><di:waypoint x=\\"2027\\" y=\\"145\\" /><di:waypoint x=\\"2027\\" y=\\"90\\" /><di:waypoint x=\\"2107\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1sab3si_1636485893311_di\\" bpmnElement=\\"Flow_1sab3si_1636485893311\\"><di:waypoint x=\\"837\\" y=\\"90\\" /><di:waypoint x=\\"917\\" y=\\"90\\" /><di:waypoint x=\\"917\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01m9y59_1636485893311_di\\" bpmnElement=\\"Flow_01m9y59_1636485893311\\"><di:waypoint x=\\"657\\" y=\\"145\\" /><di:waypoint x=\\"657\\" y=\\"90\\" /><di:waypoint x=\\"737\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0y72bxm_1636485893311_di\\" bpmnElement=\\"Flow_0y72bxm_1636485893311\\"><di:waypoint x=\\"577\\" y=\\"90\\" /><di:waypoint x=\\"657\\" y=\\"90\\" /><di:waypoint x=\\"657\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1038tb5_1636485893311_di\\" bpmnElement=\\"Flow_1038tb5_1636485893311\\"><di:waypoint x=\\"315\\" y=\\"170\\" /><di:waypoint x=\\"372\\" y=\\"170\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1636485893311_di\\" bpmnElement=\\"StartEvent_1_1636485893311\\"><dc:Bounds x=\\"279\\" y=\\"152\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1v3a0dr_1636485893311_di\\" bpmnElement=\\"Activity_1v3a0dr_1636485893311\\"><dc:Bounds x=\\"477\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1qs3oc9_1636485893311_di\\" bpmnElement=\\"Activity_1qs3oc9_1636485893311\\"><dc:Bounds x=\\"737\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1sn658h_1636485893311_di\\" bpmnElement=\\"Gateway_1sn658h_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"632\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1xo4mt4_1636485893311_di\\" bpmnElement=\\"Gateway_1xo4mt4_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"892\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1oaecke_1636485893311_di\\" bpmnElement=\\"Gateway_1oaecke_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2002\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0xntgt9_1636485893311_di\\" bpmnElement=\\"Activity_0xntgt9_1636485893311\\"><dc:Bounds x=\\"2107\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_168ska7_1636485893311_di\\" bpmnElement=\\"Gateway_168ska7_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2262\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0rwv72u_1636485893311_di\\" bpmnElement=\\"Activity_0rwv72u_1636485893311\\"><dc:Bounds x=\\"2367\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_01iu1l9_1636485893311_di\\" bpmnElement=\\"Gateway_01iu1l9_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2522\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_02xe3v6_1636485893311_di\\" bpmnElement=\\"Event_02xe3v6_1636485893311\\"><dc:Bounds x=\\"2629\\" y=\\"152\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1fdjmm5_1636485893311_di\\" bpmnElement=\\"Gateway_1fdjmm5_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"372\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_099qxns_di\\" bpmnElement=\\"Activity_099qxns\\" isExpanded=\\"true\\"><dc:Bounds x=\\"997\\" y=\\"25\\" width=\\"950\\" height=\\"290\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_03glzk5_di\\" bpmnElement=\\"Flow_03glzk5\\"><di:waypoint x=\\"1829\\" y=\\"175\\" /><di:waypoint x=\\"1891\\" y=\\"175\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_07x6qct_di\\" bpmnElement=\\"Flow_07x6qct\\"><di:waypoint x=\\"1204\\" y=\\"175\\" /><di:waypoint x=\\"1264\\" y=\\"175\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0hjagem_1636486195505_di\\" bpmnElement=\\"Flow_0hjagem_1636486195505\\"><di:waypoint x=\\"1053\\" y=\\"175\\" /><di:waypoint x=\\"1104\\" y=\\"175\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1636486195505_di\\" bpmnElement=\\"StartEvent_1_1636486195505\\"><dc:Bounds x=\\"1017\\" y=\\"157\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1u3pk81_1636486195505_di\\" bpmnElement=\\"Event_1u3pk81_1636486195505\\"><dc:Bounds x=\\"1891\\" y=\\"157\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0aodffo_1636486195505_di\\" bpmnElement=\\"Activity_0aodffo_1636486195505\\"><dc:Bounds x=\\"1104\\" y=\\"135\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0i0id23_di\\" bpmnElement=\\"Activity_0i0id23\\" isExpanded=\\"true\\"><dc:Bounds x=\\"1264\\" y=\\"55\\" width=\\"565\\" height=\\"240\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_155pkgy_1636486348070_di\\" bpmnElement=\\"Flow_155pkgy_1636486348070\\"><di:waypoint x=\\"1591\\" y=\\"235\\" /><di:waypoint x=\\"1681\\" y=\\"235\\" /><di:waypoint x=\\"1681\\" y=\\"150\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13gx7u5_1636486348070_di\\" bpmnElement=\\"Flow_13gx7u5_1636486348070\\"><di:waypoint x=\\"1706\\" y=\\"125\\" /><di:waypoint x=\\"1773\\" y=\\"125\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_05fk023_1636486348070_di\\" bpmnElement=\\"Flow_05fk023_1636486348070\\"><di:waypoint x=\\"1591\\" y=\\"125\\" /><di:waypoint x=\\"1656\\" y=\\"125\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0vucjs2_1636486348070_di\\" bpmnElement=\\"Flow_0vucjs2_1636486348070\\"><di:waypoint x=\\"1401\\" y=\\"150\\" /><di:waypoint x=\\"1401\\" y=\\"235\\" /><di:waypoint x=\\"1491\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ga9lx3_1636486348070_di\\" bpmnElement=\\"Flow_1ga9lx3_1636486348070\\"><di:waypoint x=\\"1426\\" y=\\"125\\" /><di:waypoint x=\\"1491\\" y=\\"125\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02lt5jx_1636486348070_di\\" bpmnElement=\\"Flow_02lt5jx_1636486348070\\"><di:waypoint x=\\"1320\\" y=\\"125\\" /><di:waypoint x=\\"1376\\" y=\\"125\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1636486348070_di\\" bpmnElement=\\"StartEvent_1_1636486348070\\"><dc:Bounds x=\\"1284\\" y=\\"107\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1elyntr_1636486348070_di\\" bpmnElement=\\"Gateway_1elyntr_1636486348070\\"><dc:Bounds x=\\"1376\\" y=\\"100\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0kvyq9x_1636486348070_di\\" bpmnElement=\\"Gateway_0kvyq9x_1636486348070\\"><dc:Bounds x=\\"1656\\" y=\\"100\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1i06277_1636486348070_di\\" bpmnElement=\\"Event_1i06277_1636486348070\\"><dc:Bounds x=\\"1773\\" y=\\"107\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0r6nbda_1636486348070_di\\" bpmnElement=\\"Activity_0r6nbda_1636486348070\\"><dc:Bounds x=\\"1491\\" y=\\"85\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1dah4ly_1636486348070_di\\" bpmnElement=\\"Activity_1dah4ly_1636486348070\\"><dc:Bounds x=\\"1491\\" y=\\"195\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","domains":[],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"9-85b1e6a46563f0176ebc8263cd978d48","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647588013","_rev":"9-3e03d542069310edd357058f093add5a","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647506232","_rev":"9-b56b180560c8fe08bf4af60d52bb0b9d","list":"Company","name":"financialResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"decisions":{"Activity_1v3a0dr_1636485893311":{"method":{"type":"DevelopmentMethod","_id":"1615656172704","_rev":"1-7c77a80b8581c89ec3f778e849e32128","name":"Customer Interview Conduction","description":"The goal of this building block is to conduct interviews with potential customers of the app. The interviews can be used to discover and analyze the current problems or validate different steps of the development process.","examples":["https://www.forbes.com/sites/abdoriani/2019/10/12/the-simplest-way-to-validate-a-startup-app-idea/?sh=757fb45817ed"," https://appinventiv.com/blog/how-to-validate-your-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis"},{"list":"validate"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647442050","_rev":"1-4c6f0b2d51f20b07adb6e8575d2988f0","list":"Company","name":"domainExpertise","description":"","values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Prototype","multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Product","multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false}]},{"items":[{"list":"Information","multiple":true,"optional":false}]},{"items":[{"list":"Prototype","multiple":false,"optional":false}]},{"items":[{"list":"Product","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[]},"outputArtifacts":{"group":1,"elementDecisions":[{"elements":[{"type":"Artifact","_id":"1615648484285","_rev":"1-2f890df0c70ebbb153e67441f6ebc251","list":"Information","name":"Customer Information","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{},{}]},"tools":{},"stepDecisions":[]},"Activity_1qs3oc9_1636485893311":{"method":{"type":"DevelopmentMethod","_id":"1615658043748","_rev":"1-7131022152fa0557d0fd37c503e5e0cd","name":"Target Group Sharping","description":"The goal of this building block is to sharp the target group after the analysis of the market and the competitors. This, in turn, should help to concentrate on a specific group instead of trying to solve the problem for multiple diverse groups.","examples":["https://visionxpartners.com/app-idea/","https://apiko.com/blog/how-to-validate-the-idea-and-features-of-your-application-before-development/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646750064","list":"analysis","name":"nicheAnalysis","description":null}},{"list":"analysis"}],"situationalFactors":[{"list":"Customer","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647539973","_rev":"1-5462faf90915eceaf5d00090298f70c8","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false},"value":"divers"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{},"stepDecisions":[]},"Activity_0r6nbda_1636486348070":{"method":{"type":"DevelopmentMethod","_id":"1615658309582","_rev":"1-6e55c62d8a84d2b9306ca9f37bb57b20","name":"Business Model Development","description":"The goal of this building block is to develop a business model for the app. For this, a business model canvas is filled out with the insights of the discovery and analysis phase.","examples":["https://themindstudios.com/blog/how-to-validate-your-app-idea/","https://kodytechnolab.com/app-idea-validation"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646785987","list":"design","name":"bmDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"9-7c689d28e5e91726cc6ff2eadae46428","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-e95a5042d57452e023ca6844a7e3f095","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636841863674","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144329606"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":2,"elementDecisions":[{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{"group":0,"elementDecisions":[{}]},"stepDecisions":[{"companyModelId":"1625667191131"},null,null]},"Activity_0aodffo_1636486195505":{"method":{"type":"DevelopmentMethod","_id":"1615658185096","_rev":"2-0223d44b80ba853f92586dd838a7b54e","name":"Value Proposition Development","description":"The goal of this building block is to develop a value proposition for the customer. For this, a value proposition canvas is filled out with the insights of the discovery and analysis phase.","examples":["https://apiko.com/blog/how-to-validate-the-idea-and-features-of-your-application-before-development/","https://visionxpartners.com/app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646781917","list":"design","name":"vpDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-2f890df0c70ebbb153e67441f6ebc251","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-d8521e453f55ec76a8ceec62094e407f","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636841634237","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144754642"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":2,"elementDecisions":[{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{"group":0,"elementDecisions":[{}]},"stepDecisions":[{"companyModelId":"1625667089851"},null]},"Activity_1dah4ly_1636486348070":{"method":{"type":"DevelopmentMethod","_id":"1615658097457","_rev":"6-c94cf8568e28c725b237cd097cdb1409","name":"Feature Set Development","description":"The goal of this building block is to create a set of features that the app should have. This set can be created out of the insights during the discovery and analysis phase.","examples":["https://visionxpartners.com/app-idea/","https://fueled.com/blog/successful-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646771090","list":"design","name":"featureDesign","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-4d86f73b4110acd291fb5cb9be964f45","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Feature Set Tools","multiple":false,"optional":false}]},{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636841235031","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1636472697006"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":2,"elementDecisions":[{}]},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{"group":1,"elementDecisions":[{}]},"stepDecisions":[{"companyModelId":"1636478339057"},null,null]},"Activity_0xntgt9_1636485893311":{"method":{"type":"DevelopmentMethod","_id":"1615892295788","_rev":"1-275c939dd5f11e3eb249f0ebc72744c5","name":"Prototype Development","description":"The goal of this building block is to develop a prototype of the app. This prototype can be created in various forms like sketches, mockups, wireframes, or clickable prototypes.","examples":["https://appinventiv.com/blog/how-to-validate-your-app-idea/","https://visionxpartners.com/app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop"}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false},"multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"9-eabc5776aff8597a7fb02b559e145ed8","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Prototyping Tools","multiple":false,"optional":false}]},{"items":[]}]},"executionSteps":[]},"inputArtifacts":{"group":1,"elementDecisions":[{}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648535262","_rev":"1-a10559fd85915133d4cd53f9617c1c89","list":"Prototype","name":"Proof-of-Concept","description":null,"internalArtifact":false}}]},"stakeholders":{"group":0,"elementDecisions":[{}]},"tools":{"group":0,"elementDecisions":[{"element":{"type":"Tool","_id":"1615648876069","_rev":"1-69edf37500464aae7b17b1ac07a1aeeb","list":"Prototyping Tools","name":"Balsamiq","description":null}}]},"stepDecisions":[]},"Activity_0rwv72u_1636485893311":{"method":{"type":"DevelopmentMethod","_id":"1615656172704","_rev":"1-7c77a80b8581c89ec3f778e849e32128","name":"Customer Interview Conduction","description":"The goal of this building block is to conduct interviews with potential customers of the app. The interviews can be used to discover and analyze the current problems or validate different steps of the development process.","examples":["https://www.forbes.com/sites/abdoriani/2019/10/12/the-simplest-way-to-validate-a-startup-app-idea/?sh=757fb45817ed"," https://appinventiv.com/blog/how-to-validate-your-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis"},{"list":"validate"}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647442050","_rev":"1-4c6f0b2d51f20b07adb6e8575d2988f0","list":"Company","name":"domainExpertise","description":"","values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Information","multiple":true,"optional":false,"mapping":[]}]},{"items":[{"list":"Prototype","multiple":false,"optional":false,"mapping":[]}]},{"items":[{"list":"Product","multiple":false,"optional":false,"mapping":[]}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","multiple":true,"optional":false}]},{"items":[{"list":"Information","multiple":true,"optional":false}]},{"items":[{"list":"Prototype","multiple":false,"optional":false}]},{"items":[{"list":"Product","multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[]},"outputArtifacts":{"group":1,"elementDecisions":[{"elements":[{"type":"Artifact","_id":"1615648503459","_rev":"1-48e784d443338467257228a0320e9bd6","list":"Information","name":"App Information","description":null,"internalArtifact":false}]}]},"stakeholders":{"group":0,"elementDecisions":[{},{}]},"tools":{},"stepDecisions":[]}},"_id":"1636485836440"},{"type":"DevelopmentMethod","name":"Expert Interview Conduction","description":"The goal of this building block is to conduct interviews with experts of the domain. The interviews can be used to discover and analyze the current problems or validate different steps of the development process.","examples":["https://www.forbes.com/sites/abdoriani/2019/10/12/the-simplest-way-to-validate-a-startup-app-idea/?sh=757fb45817ed"," https://appinventiv.com/blog/how-to-validate-your-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","_rev":"9-2bddbc69f1169ca21c710f1ad34f8c27","list":"discovery","name":"problemAnalysis","description":null}},{"list":"analysis","element":null},{"list":"validate","element":{"type":"Type","_id":"1615646873313","_rev":"9-3c9ff983d6588a1a7b8bffa92932838f","list":"validate","name":"intermediateValidation","description":null}},{"list":"validate","element":null},{"list":"design","element":{"type":"Type","_id":"1615646756371","_rev":"9-c1c77861bc8db2b8da5a4d93c016cacf","list":"design","name":"ideaIdentification","description":null}}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"9-4442206f296c43ae200ea057699d95c2","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647442050","_rev":"9-139b8a745ef16c7d3569de9a9a4e9c54","list":"Company","name":"domainExpertise","description":"","values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"9-19b3e1f51597b89972740f8772559949","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"9-36bc6532bd329a622fd5ea1dc8485988","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"9-6079a6c5c6be07e17089b736d86f7be5","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"high"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"9-f76358161c1b8c3241567edcf2a6c9e6","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647164350","_rev":"9-2f403b20af6b277ded1b833bac9f1cfb","list":"Users","name":"Expert","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[],"_id":"1636836306350"},{"type":"CompanyModel","name":"uuus","description":"sss","author":{},"features":{"general":{"name":"General","type":"optional","subfeatures":{"home-screen":{"name":"Home Screen","description":null,"type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"home-screen"}},"settings":{"name":"Settings","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"settings"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"general"}},"user":{"name":"User","type":"optional","subfeatures":{"management":{"name":"Management","description":null,"type":"optional","subfeatures":{"register":{"name":"Register","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["logout"]}},"expertModelTrace":{"1636479709290":"register"}},"reset-password":{"name":"Reset Password","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"reset-password"}},"login":{"name":"Login","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["register"]}},"expertModelTrace":{"1636479709290":"login"}},"logout":{"name":"Logout","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["login"]}},"expertModelTrace":{"1636479709290":"logout"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"management"}},"interaction":{"name":"Interaction","description":null,"type":"optional","subfeatures":{"profiles":{"name":"Profiles","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"profiles"}},"messages":{"name":"Messages","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"messages"}},"friendships":{"name":"Friendships","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"friendships"}},"status":{"name":"Status","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"status"}},"shared-playlists":{"name":"Shared Playlists","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"shared-playlists"}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["management"]}},"expertModelTrace":{"1636479709290":"interaction"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"user"}},"item":{"name":"Item","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"1636479709290":"item"}}},"instances":[],"nextInstanceId":0,"$definition":{"type":"CanvasDefinition","_id":"1636472697006","_rev":"1-ec0008731290784aefba65b1bfeaa616","name":"Feature Set Canvas","description":"The Feature Set Canvas can used to distinguish the features of the product/service within the building blocks of general, user and item.","rows":[[{"isSpacer":false,"id":"general","name":"General","rowspan":1,"colspan":1},{"isSpacer":false,"id":"user","name":"User","rowspan":1,"colspan":1},{"isSpacer":false,"id":"item","name":"Item","rowspan":1,"colspan":1}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"expertModelTraces":{"1636479709290":{"expertFeatureIdMap":{"general":"general","user":"user","item":"item","home-screen":"home-screen","settings":"settings","management":"management","register":"register","reset-password":"reset-password","login":"login","logout":"logout","interaction":"interaction","profiles":"profiles","messages":"messages","friendships":"friendships","status":"status","shared-playlists":"shared-playlists"}}},"createdByMethod":false,"_id":"1637009906952"},{"type":"RunningProcess","name":"Test Method for Seminar","process":{"type":"BmProcess","_id":"1636485836440","_rev":"64-687ca096cf3a4ddf71d9ec1b6a8dbd9b","initial":false,"name":"LEAN Development Seminar Example","processDiagram":"<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" xmlns:ns1=\\"http://localhost/schema/rbmp\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\" ns1:executed=\\"true\\"><bpmn:outgoing>Flow_1jldihn</bpmn:outgoing></bpmn:startEvent><bpmn:subProcess id=\\"Activity_1ph8esb\\" name=\\"Business Model Initialization Pattern\\" ns1:tokens=\\"1\\"><bpmn:incoming>Flow_1jldihn</bpmn:incoming><bpmn:startEvent id=\\"StartEvent_1_1636485893311\\" ns1:executed=\\"true\\"><bpmn:outgoing>Flow_1038tb5_1636485893311</bpmn:outgoing></bpmn:startEvent><bpmn:callActivity id=\\"Activity_1v3a0dr_1636485893311\\" name=\\"&lt;&lt;discovery&gt;&gt;\\" ns1:tokens=\\"1\\"><bpmn:incoming>Flow_0gd19zx_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_0y72bxm_1636485893311</bpmn:outgoing><bmdl:neededType><bmdl:list>discovery</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Customer Interview Conduction</bmdl:name><bmdl:id>1615656172704</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1qs3oc9_1636485893311\\" name=\\"&lt;&lt;analysis&gt;&gt;\\"><bpmn:incoming>Flow_01m9y59_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_1sab3si_1636485893311</bpmn:outgoing><bmdl:neededType><bmdl:list>analysis</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Target Group Sharping</bmdl:name><bmdl:id>1615658043748</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_1sn658h_1636485893311\\"><bpmn:incoming>Flow_0y72bxm_1636485893311</bpmn:incoming><bpmn:incoming>Flow_0x50kxa_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_01m9y59_1636485893311</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_1xo4mt4_1636485893311\\"><bpmn:incoming>Flow_1sab3si_1636485893311</bpmn:incoming><bpmn:incoming>Flow_1gkr7d2_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_1935tcl_1636485893311</bpmn:outgoing><bpmn:outgoing>Flow_1u12pqs</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:exclusiveGateway id=\\"Gateway_1oaecke_1636485893311\\"><bpmn:incoming>Flow_0delj8n_1636485893311</bpmn:incoming><bpmn:incoming>Flow_17pqa63</bpmn:incoming><bpmn:outgoing>Flow_08oz6nc_1636485893311</bpmn:outgoing><bpmn:outgoing>Flow_0x50kxa_1636485893311</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id=\\"Activity_0xntgt9_1636485893311\\" name=\\"&lt;&lt;develop&gt;&gt;\\"><bpmn:incoming>Flow_08oz6nc_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_01x9eus_1636485893311</bpmn:outgoing><bmdl:neededType><bmdl:list>develop</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Prototype Development</bmdl:name><bmdl:id>1615892295788</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_168ska7_1636485893311\\"><bpmn:incoming>Flow_01x9eus_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_172n46f_1636485893311</bpmn:outgoing><bpmn:outgoing>Flow_1gkr7d2_1636485893311</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:callActivity id=\\"Activity_0rwv72u_1636485893311\\" name=\\"&lt;&lt;validate&gt;&gt;\\"><bpmn:incoming>Flow_172n46f_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_10xurca_1636485893311</bpmn:outgoing><bmdl:neededType><bmdl:list>validate</bmdl:list></bmdl:neededType><bmdl:method><bmdl:name>Customer Interview Conduction</bmdl:name><bmdl:id>1615656172704</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:exclusiveGateway id=\\"Gateway_01iu1l9_1636485893311\\"><bpmn:incoming>Flow_10xurca_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_07db5lv_1636485893311</bpmn:outgoing><bpmn:outgoing>Flow_0delj8n_1636485893311</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:endEvent id=\\"Event_02xe3v6_1636485893311\\"><bpmn:incoming>Flow_07db5lv_1636485893311</bpmn:incoming></bpmn:endEvent><bpmn:exclusiveGateway id=\\"Gateway_1fdjmm5_1636485893311\\" ns1:executed=\\"true\\"><bpmn:incoming>Flow_1038tb5_1636485893311</bpmn:incoming><bpmn:incoming>Flow_1935tcl_1636485893311</bpmn:incoming><bpmn:outgoing>Flow_0gd19zx_1636485893311</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_1038tb5_1636485893311\\" sourceRef=\\"StartEvent_1_1636485893311\\" targetRef=\\"Gateway_1fdjmm5_1636485893311\\" ns1:used=\\"true\\" /><bpmn:sequenceFlow id=\\"Flow_0y72bxm_1636485893311\\" sourceRef=\\"Activity_1v3a0dr_1636485893311\\" targetRef=\\"Gateway_1sn658h_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_01m9y59_1636485893311\\" sourceRef=\\"Gateway_1sn658h_1636485893311\\" targetRef=\\"Activity_1qs3oc9_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_1sab3si_1636485893311\\" sourceRef=\\"Activity_1qs3oc9_1636485893311\\" targetRef=\\"Gateway_1xo4mt4_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_08oz6nc_1636485893311\\" sourceRef=\\"Gateway_1oaecke_1636485893311\\" targetRef=\\"Activity_0xntgt9_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_01x9eus_1636485893311\\" sourceRef=\\"Activity_0xntgt9_1636485893311\\" targetRef=\\"Gateway_168ska7_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_172n46f_1636485893311\\" sourceRef=\\"Gateway_168ska7_1636485893311\\" targetRef=\\"Activity_0rwv72u_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_10xurca_1636485893311\\" sourceRef=\\"Activity_0rwv72u_1636485893311\\" targetRef=\\"Gateway_01iu1l9_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_07db5lv_1636485893311\\" sourceRef=\\"Gateway_01iu1l9_1636485893311\\" targetRef=\\"Event_02xe3v6_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_0gd19zx_1636485893311\\" sourceRef=\\"Gateway_1fdjmm5_1636485893311\\" targetRef=\\"Activity_1v3a0dr_1636485893311\\" ns1:used=\\"true\\" /><bpmn:sequenceFlow id=\\"Flow_1935tcl_1636485893311\\" sourceRef=\\"Gateway_1xo4mt4_1636485893311\\" targetRef=\\"Gateway_1fdjmm5_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_0x50kxa_1636485893311\\" sourceRef=\\"Gateway_1oaecke_1636485893311\\" targetRef=\\"Gateway_1sn658h_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_0delj8n_1636485893311\\" sourceRef=\\"Gateway_01iu1l9_1636485893311\\" targetRef=\\"Gateway_1oaecke_1636485893311\\" /><bpmn:sequenceFlow id=\\"Flow_1gkr7d2_1636485893311\\" sourceRef=\\"Gateway_168ska7_1636485893311\\" targetRef=\\"Gateway_1xo4mt4_1636485893311\\" /><bpmn:subProcess id=\\"Activity_099qxns\\" name=\\"Generic Consecutive Pattern\\"><bpmn:incoming>Flow_1u12pqs</bpmn:incoming><bpmn:outgoing>Flow_17pqa63</bpmn:outgoing><bmdl:neededType><bmdl:list>design</bmdl:list></bmdl:neededType><bpmn:startEvent id=\\"StartEvent_1_1636486195505\\"><bpmn:outgoing>Flow_0hjagem_1636486195505</bpmn:outgoing></bpmn:startEvent><bpmn:endEvent id=\\"Event_1u3pk81_1636486195505\\"><bpmn:incoming>Flow_03glzk5</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0aodffo_1636486195505\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_0hjagem_1636486195505</bpmn:incoming><bpmn:outgoing>Flow_07x6qct</bpmn:outgoing><bmdl:method><bmdl:name>Value Proposition Development</bmdl:name><bmdl:id>1615658185096</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_0hjagem_1636486195505\\" sourceRef=\\"StartEvent_1_1636486195505\\" targetRef=\\"Activity_0aodffo_1636486195505\\" /><bpmn:subProcess id=\\"Activity_0i0id23\\" name=\\"Generic Parallelism Pattern\\" inherit=\\"true\\"><bpmn:incoming>Flow_07x6qct</bpmn:incoming><bpmn:outgoing>Flow_03glzk5</bpmn:outgoing><bpmn:startEvent id=\\"StartEvent_1_1636486348070\\"><bpmn:outgoing>Flow_02lt5jx_1636486348070</bpmn:outgoing></bpmn:startEvent><bpmn:parallelGateway id=\\"Gateway_1elyntr_1636486348070\\"><bpmn:incoming>Flow_02lt5jx_1636486348070</bpmn:incoming><bpmn:outgoing>Flow_1ga9lx3_1636486348070</bpmn:outgoing><bpmn:outgoing>Flow_0vucjs2_1636486348070</bpmn:outgoing></bpmn:parallelGateway><bpmn:parallelGateway id=\\"Gateway_0kvyq9x_1636486348070\\"><bpmn:incoming>Flow_05fk023_1636486348070</bpmn:incoming><bpmn:incoming>Flow_155pkgy_1636486348070</bpmn:incoming><bpmn:outgoing>Flow_13gx7u5_1636486348070</bpmn:outgoing></bpmn:parallelGateway><bpmn:endEvent id=\\"Event_1i06277_1636486348070\\"><bpmn:incoming>Flow_13gx7u5_1636486348070</bpmn:incoming></bpmn:endEvent><bpmn:callActivity id=\\"Activity_0r6nbda_1636486348070\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_1ga9lx3_1636486348070</bpmn:incoming><bpmn:outgoing>Flow_05fk023_1636486348070</bpmn:outgoing><bmdl:method><bmdl:name>Business Model Development</bmdl:name><bmdl:id>1615658309582</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:callActivity id=\\"Activity_1dah4ly_1636486348070\\" name=\\"&lt;&lt;generic&gt;&gt;\\" inherit=\\"true\\"><bpmn:incoming>Flow_0vucjs2_1636486348070</bpmn:incoming><bpmn:outgoing>Flow_155pkgy_1636486348070</bpmn:outgoing><bmdl:method><bmdl:name>Feature Set Development</bmdl:name><bmdl:id>1615658097457</bmdl:id></bmdl:method></bpmn:callActivity><bpmn:sequenceFlow id=\\"Flow_02lt5jx_1636486348070\\" sourceRef=\\"StartEvent_1_1636486348070\\" targetRef=\\"Gateway_1elyntr_1636486348070\\" /><bpmn:sequenceFlow id=\\"Flow_1ga9lx3_1636486348070\\" sourceRef=\\"Gateway_1elyntr_1636486348070\\" targetRef=\\"Activity_0r6nbda_1636486348070\\" /><bpmn:sequenceFlow id=\\"Flow_0vucjs2_1636486348070\\" sourceRef=\\"Gateway_1elyntr_1636486348070\\" targetRef=\\"Activity_1dah4ly_1636486348070\\" /><bpmn:sequenceFlow id=\\"Flow_05fk023_1636486348070\\" sourceRef=\\"Activity_0r6nbda_1636486348070\\" targetRef=\\"Gateway_0kvyq9x_1636486348070\\" /><bpmn:sequenceFlow id=\\"Flow_13gx7u5_1636486348070\\" sourceRef=\\"Gateway_0kvyq9x_1636486348070\\" targetRef=\\"Event_1i06277_1636486348070\\" /><bpmn:sequenceFlow id=\\"Flow_155pkgy_1636486348070\\" sourceRef=\\"Activity_1dah4ly_1636486348070\\" targetRef=\\"Gateway_0kvyq9x_1636486348070\\" /><bmdl:processPatternId>1615989084072</bmdl:processPatternId><bmdl:taskName>&lt;&lt;generic&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_07x6qct\\" sourceRef=\\"Activity_0aodffo_1636486195505\\" targetRef=\\"Activity_0i0id23\\" /><bpmn:sequenceFlow id=\\"Flow_03glzk5\\" sourceRef=\\"Activity_0i0id23\\" targetRef=\\"Event_1u3pk81_1636486195505\\" /><bmdl:processPatternId>1615989368999</bmdl:processPatternId><bmdl:taskName>&lt;&lt;design&gt;&gt;</bmdl:taskName></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1u12pqs\\" sourceRef=\\"Gateway_1xo4mt4_1636485893311\\" targetRef=\\"Activity_099qxns\\" /><bpmn:sequenceFlow id=\\"Flow_17pqa63\\" sourceRef=\\"Activity_099qxns\\" targetRef=\\"Gateway_1oaecke_1636485893311\\" /><bmdl:processPatternId>1615659481079</bmdl:processPatternId></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1jldihn\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_1ph8esb\\" ns1:used=\\"true\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1jldihn_di\\" bpmnElement=\\"Flow_1jldihn\\"><di:waypoint x=\\"209\\" y=\\"200\\" /><di:waypoint x=\\"259\\" y=\\"200\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"182\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1ph8esb_di\\" bpmnElement=\\"Activity_1ph8esb\\" isExpanded=\\"true\\"><dc:Bounds x=\\"259\\" y=\\"-50\\" width=\\"2426\\" height=\\"500\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_17pqa63_di\\" bpmnElement=\\"Flow_17pqa63\\"><di:waypoint x=\\"1947\\" y=\\"170\\" /><di:waypoint x=\\"2002\\" y=\\"170\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1u12pqs_di\\" bpmnElement=\\"Flow_1u12pqs\\"><di:waypoint x=\\"942\\" y=\\"170\\" /><di:waypoint x=\\"997\\" y=\\"170\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1gkr7d2_1636485893311_di\\" bpmnElement=\\"Flow_1gkr7d2_1636485893311\\"><di:waypoint x=\\"2289\\" y=\\"193\\" /><di:waypoint x=\\"2289\\" y=\\"350\\" /><di:waypoint x=\\"917\\" y=\\"350\\" /><di:waypoint x=\\"917\\" y=\\"195\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0delj8n_1636485893311_di\\" bpmnElement=\\"Flow_0delj8n_1636485893311\\"><di:waypoint x=\\"2547\\" y=\\"145\\" /><di:waypoint x=\\"2547\\" y=\\"-20\\" /><di:waypoint x=\\"2027\\" y=\\"-20\\" /><di:waypoint x=\\"2027\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0x50kxa_1636485893311_di\\" bpmnElement=\\"Flow_0x50kxa_1636485893311\\"><di:waypoint x=\\"2029\\" y=\\"193\\" /><di:waypoint x=\\"2029\\" y=\\"290\\" /><di:waypoint x=\\"657\\" y=\\"290\\" /><di:waypoint x=\\"657\\" y=\\"195\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1935tcl_1636485893311_di\\" bpmnElement=\\"Flow_1935tcl_1636485893311\\"><di:waypoint x=\\"917\\" y=\\"145\\" /><di:waypoint x=\\"917\\" y=\\"-20\\" /><di:waypoint x=\\"397\\" y=\\"-20\\" /><di:waypoint x=\\"397\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0gd19zx_1636485893311_di\\" bpmnElement=\\"Flow_0gd19zx_1636485893311\\"><di:waypoint x=\\"397\\" y=\\"145\\" /><di:waypoint x=\\"397\\" y=\\"90\\" /><di:waypoint x=\\"477\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_07db5lv_1636485893311_di\\" bpmnElement=\\"Flow_07db5lv_1636485893311\\"><di:waypoint x=\\"2572\\" y=\\"170\\" /><di:waypoint x=\\"2629\\" y=\\"170\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_10xurca_1636485893311_di\\" bpmnElement=\\"Flow_10xurca_1636485893311\\"><di:waypoint x=\\"2467\\" y=\\"90\\" /><di:waypoint x=\\"2547\\" y=\\"90\\" /><di:waypoint x=\\"2547\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_172n46f_1636485893311_di\\" bpmnElement=\\"Flow_172n46f_1636485893311\\"><di:waypoint x=\\"2287\\" y=\\"145\\" /><di:waypoint x=\\"2287\\" y=\\"90\\" /><di:waypoint x=\\"2367\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01x9eus_1636485893311_di\\" bpmnElement=\\"Flow_01x9eus_1636485893311\\"><di:waypoint x=\\"2207\\" y=\\"90\\" /><di:waypoint x=\\"2287\\" y=\\"90\\" /><di:waypoint x=\\"2287\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_08oz6nc_1636485893311_di\\" bpmnElement=\\"Flow_08oz6nc_1636485893311\\"><di:waypoint x=\\"2027\\" y=\\"145\\" /><di:waypoint x=\\"2027\\" y=\\"90\\" /><di:waypoint x=\\"2107\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1sab3si_1636485893311_di\\" bpmnElement=\\"Flow_1sab3si_1636485893311\\"><di:waypoint x=\\"837\\" y=\\"90\\" /><di:waypoint x=\\"917\\" y=\\"90\\" /><di:waypoint x=\\"917\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01m9y59_1636485893311_di\\" bpmnElement=\\"Flow_01m9y59_1636485893311\\"><di:waypoint x=\\"657\\" y=\\"145\\" /><di:waypoint x=\\"657\\" y=\\"90\\" /><di:waypoint x=\\"737\\" y=\\"90\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0y72bxm_1636485893311_di\\" bpmnElement=\\"Flow_0y72bxm_1636485893311\\"><di:waypoint x=\\"577\\" y=\\"90\\" /><di:waypoint x=\\"657\\" y=\\"90\\" /><di:waypoint x=\\"657\\" y=\\"145\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1038tb5_1636485893311_di\\" bpmnElement=\\"Flow_1038tb5_1636485893311\\"><di:waypoint x=\\"315\\" y=\\"170\\" /><di:waypoint x=\\"372\\" y=\\"170\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1636485893311_di\\" bpmnElement=\\"StartEvent_1_1636485893311\\"><dc:Bounds x=\\"279\\" y=\\"152\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1v3a0dr_1636485893311_di\\" bpmnElement=\\"Activity_1v3a0dr_1636485893311\\"><dc:Bounds x=\\"477\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1qs3oc9_1636485893311_di\\" bpmnElement=\\"Activity_1qs3oc9_1636485893311\\"><dc:Bounds x=\\"737\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1sn658h_1636485893311_di\\" bpmnElement=\\"Gateway_1sn658h_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"632\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1xo4mt4_1636485893311_di\\" bpmnElement=\\"Gateway_1xo4mt4_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"892\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1oaecke_1636485893311_di\\" bpmnElement=\\"Gateway_1oaecke_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2002\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0xntgt9_1636485893311_di\\" bpmnElement=\\"Activity_0xntgt9_1636485893311\\"><dc:Bounds x=\\"2107\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_168ska7_1636485893311_di\\" bpmnElement=\\"Gateway_168ska7_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2262\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0rwv72u_1636485893311_di\\" bpmnElement=\\"Activity_0rwv72u_1636485893311\\"><dc:Bounds x=\\"2367\\" y=\\"50\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_01iu1l9_1636485893311_di\\" bpmnElement=\\"Gateway_01iu1l9_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"2522\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_02xe3v6_1636485893311_di\\" bpmnElement=\\"Event_02xe3v6_1636485893311\\"><dc:Bounds x=\\"2629\\" y=\\"152\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1fdjmm5_1636485893311_di\\" bpmnElement=\\"Gateway_1fdjmm5_1636485893311\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"372\\" y=\\"145\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_099qxns_di\\" bpmnElement=\\"Activity_099qxns\\" isExpanded=\\"true\\"><dc:Bounds x=\\"997\\" y=\\"25\\" width=\\"950\\" height=\\"290\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_03glzk5_di\\" bpmnElement=\\"Flow_03glzk5\\"><di:waypoint x=\\"1829\\" y=\\"175\\" /><di:waypoint x=\\"1891\\" y=\\"175\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_07x6qct_di\\" bpmnElement=\\"Flow_07x6qct\\"><di:waypoint x=\\"1204\\" y=\\"175\\" /><di:waypoint x=\\"1264\\" y=\\"175\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0hjagem_1636486195505_di\\" bpmnElement=\\"Flow_0hjagem_1636486195505\\"><di:waypoint x=\\"1053\\" y=\\"175\\" /><di:waypoint x=\\"1104\\" y=\\"175\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1636486195505_di\\" bpmnElement=\\"StartEvent_1_1636486195505\\"><dc:Bounds x=\\"1017\\" y=\\"157\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1u3pk81_1636486195505_di\\" bpmnElement=\\"Event_1u3pk81_1636486195505\\"><dc:Bounds x=\\"1891\\" y=\\"157\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0aodffo_1636486195505_di\\" bpmnElement=\\"Activity_0aodffo_1636486195505\\"><dc:Bounds x=\\"1104\\" y=\\"135\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0i0id23_di\\" bpmnElement=\\"Activity_0i0id23\\" isExpanded=\\"true\\"><dc:Bounds x=\\"1264\\" y=\\"55\\" width=\\"565\\" height=\\"240\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_155pkgy_1636486348070_di\\" bpmnElement=\\"Flow_155pkgy_1636486348070\\"><di:waypoint x=\\"1591\\" y=\\"235\\" /><di:waypoint x=\\"1681\\" y=\\"235\\" /><di:waypoint x=\\"1681\\" y=\\"150\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13gx7u5_1636486348070_di\\" bpmnElement=\\"Flow_13gx7u5_1636486348070\\"><di:waypoint x=\\"1706\\" y=\\"125\\" /><di:waypoint x=\\"1773\\" y=\\"125\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_05fk023_1636486348070_di\\" bpmnElement=\\"Flow_05fk023_1636486348070\\"><di:waypoint x=\\"1591\\" y=\\"125\\" /><di:waypoint x=\\"1656\\" y=\\"125\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0vucjs2_1636486348070_di\\" bpmnElement=\\"Flow_0vucjs2_1636486348070\\"><di:waypoint x=\\"1401\\" y=\\"150\\" /><di:waypoint x=\\"1401\\" y=\\"235\\" /><di:waypoint x=\\"1491\\" y=\\"235\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1ga9lx3_1636486348070_di\\" bpmnElement=\\"Flow_1ga9lx3_1636486348070\\"><di:waypoint x=\\"1426\\" y=\\"125\\" /><di:waypoint x=\\"1491\\" y=\\"125\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_02lt5jx_1636486348070_di\\" bpmnElement=\\"Flow_02lt5jx_1636486348070\\"><di:waypoint x=\\"1320\\" y=\\"125\\" /><di:waypoint x=\\"1376\\" y=\\"125\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1636486348070_di\\" bpmnElement=\\"StartEvent_1_1636486348070\\"><dc:Bounds x=\\"1284\\" y=\\"107\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1elyntr_1636486348070_di\\" bpmnElement=\\"Gateway_1elyntr_1636486348070\\"><dc:Bounds x=\\"1376\\" y=\\"100\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0kvyq9x_1636486348070_di\\" bpmnElement=\\"Gateway_0kvyq9x_1636486348070\\"><dc:Bounds x=\\"1656\\" y=\\"100\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_1i06277_1636486348070_di\\" bpmnElement=\\"Event_1i06277_1636486348070\\"><dc:Bounds x=\\"1773\\" y=\\"107\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0r6nbda_1636486348070_di\\" bpmnElement=\\"Activity_0r6nbda_1636486348070\\"><dc:Bounds x=\\"1491\\" y=\\"85\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1dah4ly_1636486348070_di\\" bpmnElement=\\"Activity_1dah4ly_1636486348070\\"><dc:Bounds x=\\"1491\\" y=\\"195\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","domains":[],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"9-85b1e6a46563f0176ebc8263cd978d48","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}},{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647588013","_rev":"9-3e03d542069310edd357058f093add5a","list":"Phase","name":"problemValidity","description":null,"values":["low","medium","high"],"ordered":false},"value":"low"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647506232","_rev":"9-b56b180560c8fe08bf4af60d52bb0b9d","list":"Company","name":"financialResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"low"}}],"decisions":{"Activity_1v3a0dr_1636485893311":{"method":{"type":"DevelopmentMethod","_id":"1615656172704","_rev":"1-7c77a80b8581c89ec3f778e849e32128","name":"Customer Interview Conduction","description":"The goal of this building block is to conduct interviews with potential customers of the app. The interviews can be used to discover and analyze the current problems or validate different steps of the development process.","examples":["https://www.forbes.com/sites/abdoriani/2019/10/12/the-simplest-way-to-validate-a-startup-app-idea/?sh=757fb45817ed"," https://appinventiv.com/blog/how-to-validate-your-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647442050","_rev":"1-4c6f0b2d51f20b07adb6e8575d2988f0","list":"Company","name":"domainExpertise","description":"","values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[]},"outputArtifacts":{"group":1,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648484285","_rev":"1-2f890df0c70ebbb153e67441f6ebc251","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"elements":[{"type":"Artifact","_id":"1615648484285","_rev":"1-2f890df0c70ebbb153e67441f6ebc251","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null}]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_1qs3oc9_1636485893311":{"method":{"type":"DevelopmentMethod","_id":"1615658043748","_rev":"1-7131022152fa0557d0fd37c503e5e0cd","name":"Target Group Sharping","description":"The goal of this building block is to sharp the target group after the analysis of the market and the competitors. This, in turn, should help to concentrate on a specific group instead of trying to solve the problem for multiple diverse groups.","examples":["https://visionxpartners.com/app-idea/","https://apiko.com/blog/how-to-validate-the-idea-and-features-of-your-application-before-development/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"analysis","element":{"type":"Type","_id":"1615646750064","list":"analysis","name":"nicheAnalysis","description":null}},{"list":"analysis","element":null}],"situationalFactors":[{"list":"Customer","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647539973","_rev":"1-5462faf90915eceaf5d00090298f70c8","list":"Customer","name":"customerSegment","description":null,"values":["uniform","divers"],"ordered":false},"value":"divers"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]},"Activity_0r6nbda_1636486348070":{"method":{"type":"DevelopmentMethod","_id":"1615658309582","_rev":"1-6e55c62d8a84d2b9306ca9f37bb57b20","name":"Business Model Development","description":"The goal of this building block is to develop a business model for the app. For this, a business model canvas is filled out with the insights of the discovery and analysis phase.","examples":["https://themindstudios.com/blog/how-to-validate-your-app-idea/","https://kodytechnolab.com/app-idea-validation"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646785987","list":"design","name":"bmDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"9-7c689d28e5e91726cc6ff2eadae46428","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648470122","_rev":"1-e95a5042d57452e023ca6844a7e3f095","list":"Structured Information","name":"Business Model Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636841863674","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144329606"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":2,"elementDecisions":[{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stepDecisions":[{"companyModelId":"1625667191131"},null,null]},"Activity_0aodffo_1636486195505":{"method":{"type":"DevelopmentMethod","_id":"1615658185096","_rev":"2-0223d44b80ba853f92586dd838a7b54e","name":"Value Proposition Development","description":"The goal of this building block is to develop a value proposition for the customer. For this, a value proposition canvas is filled out with the insights of the discovery and analysis phase.","examples":["https://apiko.com/blog/how-to-validate-the-idea-and-features-of-your-application-before-development/","https://visionxpartners.com/app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646781917","list":"design","name":"vpDesign","description":null}}],"situationalFactors":[{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647510041","_rev":"1-097bee8ee4ae9e1deb319efec682a1f9","list":"Company","name":"businessModelingSkills","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-2f890df0c70ebbb153e67441f6ebc251","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-d8521e453f55ec76a8ceec62094e407f","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636841634237","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1625144754642"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":2,"elementDecisions":[{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stepDecisions":[{"companyModelId":"1625667089851"},null]},"Activity_1dah4ly_1636486348070":{"method":{"type":"DevelopmentMethod","_id":"1615658097457","_rev":"6-c94cf8568e28c725b237cd097cdb1409","name":"Feature Set Development","description":"The goal of this building block is to create a set of features that the app should have. This set can be created out of the insights during the discovery and analysis phase.","examples":["https://visionxpartners.com/app-idea/","https://fueled.com/blog/successful-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"design","element":{"type":"Type","_id":"1615646771090","list":"design","name":"featureDesign","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"1-84843390244258e5e167ac3144b53977","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"1-0adcca5b5985a0f75280e93e8efe7226","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"1-fc1a0576384c17286daa2ff673be234e","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648497837","_rev":"1-1265aac10bd8163f20100b82c8c700d4","list":"Information","name":"Competitor Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648484285","_rev":"9-03977a9cccb5f3944c8b52793a25d198","list":"Information","name":"Customer Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648488922","_rev":"9-322264234c385431f5a742b654bc1a14","list":"Information","name":"Problem Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false},{"list":"Information","element":{"type":"Artifact","_id":"1615648493552","_rev":"9-1eb8482b25186bb198ea4593623ffbb9","list":"Information","name":"Market Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1615648473666","_rev":"1-4d86f73b4110acd291fb5cb9be964f45","list":"Structured Information","name":"Value Proposition Canvas","description":null,"internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"optional":false}]},{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Feature Set Tools","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Canvas Tools","element":{"type":"Tool","_id":"1636841235031","list":"Canvas Tools","name":"Canvas Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Canvas Module","method":"createCanvas","predefinedInput":{"definitionId":"1636472697006"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Canvas Module","method":"editCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":false,"step":2}]]},{"module":"Canvas Module","method":"refineCanvas","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{"group":2,"elementDecisions":[{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{"group":1,"elementDecisions":[{"element":null,"elements":[null]}]},"stepDecisions":[{"companyModelId":"1636478339057"},null,null]},"Activity_0xntgt9_1636485893311":{"method":{"type":"DevelopmentMethod","_id":"1615892295788","_rev":"1-275c939dd5f11e3eb249f0ebc72744c5","name":"Prototype Development","description":"The goal of this building block is to develop a prototype of the app. This prototype can be created in various forms like sketches, mockups, wireframes, or clickable prototypes.","examples":["https://appinventiv.com/blog/how-to-validate-your-app-idea/","https://visionxpartners.com/app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"develop","element":{"type":"Type","_id":"1615646840146","list":"develop","name":"prototypDevelopment","description":null}},{"list":"develop","element":null}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"1615648503459","_rev":"1-9eb4c3c52c1a07bba4f2a15a05445804","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Structured Information","element":{"type":"Artifact","_id":"1636485555392","_rev":"2-d44213662af52b7c68e8af620b4bfc20","list":"Structured Information","name":"Feature Set Canvas","description":"","internalArtifact":true,"metaModel":{"name":"Canvas","type":"CompanyModel"}},"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","_rev":"9-eabc5776aff8597a7fb02b559e145ed8","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]},{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","_rev":"9-da7a69a9d82048965b12aa42770b478d","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Prototyping Tools","element":null,"multiple":false,"optional":false}]},{"items":[]}]},"executionSteps":[]},"inputArtifacts":{"group":1,"elementDecisions":[{"element":null,"elements":[null]}]},"outputArtifacts":{"group":0,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648535262","_rev":"1-a10559fd85915133d4cd53f9617c1c89","list":"Prototype","name":"Proof-of-Concept","description":null,"internalArtifact":false,"metaModel":null},"elements":[{"type":"Artifact","_id":"1615648535262","_rev":"1-a10559fd85915133d4cd53f9617c1c89","list":"Prototype","name":"Proof-of-Concept","description":null,"internalArtifact":false,"metaModel":null}]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"tools":{"group":0,"elementDecisions":[{"element":{"type":"Tool","_id":"1615648876069","_rev":"1-69edf37500464aae7b17b1ac07a1aeeb","list":"Prototyping Tools","name":"Balsamiq","description":null},"elements":[{"type":"Tool","_id":"1615648876069","_rev":"1-69edf37500464aae7b17b1ac07a1aeeb","list":"Prototyping Tools","name":"Balsamiq","description":null}]}]},"stepDecisions":[]},"Activity_0rwv72u_1636485893311":{"method":{"type":"DevelopmentMethod","_id":"1615656172704","_rev":"1-7c77a80b8581c89ec3f778e849e32128","name":"Customer Interview Conduction","description":"The goal of this building block is to conduct interviews with potential customers of the app. The interviews can be used to discover and analyze the current problems or validate different steps of the development process.","examples":["https://www.forbes.com/sites/abdoriani/2019/10/12/the-simplest-way-to-validate-a-startup-app-idea/?sh=757fb45817ed"," https://appinventiv.com/blog/how-to-validate-your-app-idea/"],"author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"types":[{"list":"discovery","element":{"type":"Type","_id":"1615646731492","list":"discovery","name":"problemAnalysis","description":null}},{"list":"design","element":{"type":"Type","_id":"1615646756371","list":"design","name":"ideaIdentification","description":null}},{"list":"validate","element":{"type":"Type","_id":"1615646873313","list":"validate","name":"intermediateValidation","description":null}},{"list":"analysis","element":null},{"list":"validate","element":null}],"situationalFactors":[{"list":"Phase","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647582996","_rev":"1-cd417e0527c92e037c1995fab2a54da0","list":"Phase","name":"processSpeed","description":null,"values":["low","medium","high"],"ordered":false},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647502890","_rev":"1-10491c34180121e22533defe57226ecc","list":"Company","name":"timeResources","description":null,"values":["high","medium","low"],"ordered":true},"value":"medium"}},{"list":"Problem","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647533588","_rev":"1-d257b29f774e69a2d60a5245af2b7400","list":"Problem","name":"problemComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Product","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647572602","_rev":"1-083f1708d7d904416ffbc120807e6845","list":"Product","name":"productComplexity","description":null,"values":["low","medium","high"],"ordered":true},"value":"medium"}},{"list":"Company","element":{"factor":{"type":"SituationalFactorDefinition","_id":"1615647442050","_rev":"1-4c6f0b2d51f20b07adb6e8575d2988f0","list":"Company","name":"domainExpertise","description":"","values":["high","medium","low"],"ordered":true},"value":"medium"}}],"inputArtifacts":{"allowNone":false,"groups":[{"items":[]},{"items":[{"list":"Structured Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"mapping":[],"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"mapping":[],"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"mapping":[],"optional":false}]}]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Structured Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Information","element":null,"multiple":true,"optional":false}]},{"items":[{"list":"Prototype","element":null,"multiple":false,"optional":false}]},{"items":[{"list":"Product","element":null,"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","_rev":"1-0b33203b5d07055a746b710f2ddb7c8b","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","_rev":"1-21eb5913ae232544851a2240171510ff","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[]},"executionSteps":[]},"inputArtifacts":{"group":0,"elementDecisions":[]},"outputArtifacts":{"group":1,"elementDecisions":[{"element":{"type":"Artifact","_id":"1615648503459","_rev":"1-48e784d443338467257228a0320e9bd6","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null},"elements":[{"type":"Artifact","_id":"1615648503459","_rev":"1-48e784d443338467257228a0320e9bd6","list":"Information","name":"App Information","description":null,"internalArtifact":false,"metaModel":null}]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{},"stepDecisions":[]}}},"todoMethods":[],"runningMethods":[],"executedMethods":[],"artifacts":[],"contextChange":false,"_id":"1637593095740"},{"type":"Artifact","list":"Information","name":"Whiteboard","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"},"_id":"164189452075720e637a6-a63b-491c-ae3d-0bbe4fd31944"},{"type":"DevelopmentMethod","name":"Whiteboard Building Block","examples":[],"author":{},"types":[],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Information","element":{"type":"Artifact","_id":"164189452075720e637a6-a63b-491c-ae3d-0bbe4fd31944","list":"Information","name":"Whiteboard","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"164189456347459458cfb-3695-4be5-9c0d-ba840b5b64fe","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"164189456022936d4fd9b-6eea-436b-ab98-13484741ca0c"},{"type":"WhiteboardTemplate","name":"Default Template","whiteboard":"{\\"version\\":\\"4.6.0\\",\\"objects\\":[{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":292.56,\\"top\\":98.85,\\"width\\":302.44,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Default Template\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false}]}","description":"","author":{},"_id":"1641894626565ce5a51a6-0677-46e3-971c-0c95db9fc879"},{"type":"WhiteboardTemplate","name":"Persona Template","whiteboard":"{\\"version\\":\\"4.6.0\\",\\"objects\\":[{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":476.9,\\"top\\":8.99,\\"width\\":322.62,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.63,\\"scaleY\\":0.63,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"bold\\",\\"fontSize\\":40,\\"text\\":\\"Persona Template\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"1\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"2\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"3\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"4\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"5\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"6\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"7\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"8\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"9\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"10\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"11\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"12\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"13\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"14\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"},\\"15\\":{\\"fontStyle\\":\\"normal\\",\\"fontWeight\\":\\"bold\\"}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":472.42,\\"top\\":40.45,\\"width\\":20,\\"height\\":20,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.27,\\"scaleY\\":12.28,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":681.38,\\"top\\":46.9,\\"width\\":3.56,\\"height\\":248.93,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1.67,\\"scaleY\\":0.99,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":304.13,\\"top\\":43.85,\\"width\\":157.71,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.56,\\"scaleY\\":0.56,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Overview\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":504.96,\\"top\\":42.84,\\"width\\":233.26,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.55,\\"scaleY\\":0.55,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Demographics\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":749.01,\\"top\\":40.44,\\"width\\":177.73,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.6,\\"scaleY\\":0.6,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Challenges\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":278.71,\\"top\\":70.78,\\"width\\":628.92,\\"height\\":7.62,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":700.71,\\"top\\":89.57,\\"width\\":115.53,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.42,\\"scaleY\\":0.42,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Needs:\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{\\"fontWeight\\":\\"bold\\",\\"fill\\":\\"#58A7E0\\"},\\"1\\":{\\"fontWeight\\":\\"bold\\",\\"fill\\":\\"#58A7E0\\"},\\"2\\":{\\"fontWeight\\":\\"bold\\",\\"fill\\":\\"#58A7E0\\"},\\"3\\":{\\"fontWeight\\":\\"bold\\",\\"fill\\":\\"#58A7E0\\"},\\"4\\":{\\"fontWeight\\":\\"bold\\",\\"fill\\":\\"#58A7E0\\"},\\"5\\":{\\"fontWeight\\":\\"bold\\",\\"fill\\":\\"#58A7E0\\"}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":700.71,\\"top\\":155.62,\\"width\\":226.64,\\"height\\":45.2,\\"fill\\":\\"#E02E2B\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.47,\\"scaleY\\":0.47,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"bold\\",\\"fontSize\\":40,\\"text\\":\\"Frustrations:\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{\\"fontWeight\\":\\"bold\\"},\\"1\\":{\\"fontWeight\\":\\"bold\\"},\\"2\\":{\\"fontWeight\\":\\"bold\\"},\\"3\\":{\\"fontWeight\\":\\"bold\\"},\\"4\\":{\\"fontWeight\\":\\"bold\\"},\\"5\\":{\\"fontWeight\\":\\"bold\\"},\\"6\\":{\\"fontWeight\\":\\"bold\\"},\\"7\\":{\\"fontWeight\\":\\"bold\\"},\\"8\\":{\\"fontWeight\\":\\"bold\\"},\\"9\\":{\\"fontWeight\\":\\"bold\\"},\\"10\\":{\\"fontWeight\\":\\"bold\\"},\\"11\\":{\\"fontWeight\\":\\"bold\\"},\\"12\\":{\\"fontWeight\\":\\"bold\\"}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":701.21,\\"top\\":235.89,\\"width\\":136.99,\\"height\\":45.2,\\"fill\\":\\"#58E058\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.48,\\"scaleY\\":0.48,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"bold\\",\\"fontSize\\":40,\\"text\\":\\"Desires:\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{\\"fontWeight\\":\\"bold\\"},\\"1\\":{\\"fontWeight\\":\\"bold\\"},\\"2\\":{\\"fontWeight\\":\\"bold\\"},\\"3\\":{\\"fontWeight\\":\\"bold\\"},\\"4\\":{\\"fontWeight\\":\\"bold\\"},\\"5\\":{\\"fontWeight\\":\\"bold\\"},\\"6\\":{\\"fontWeight\\":\\"bold\\"},\\"7\\":{\\"fontWeight\\":\\"bold\\"}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":301.08,\\"top\\":274.78,\\"width\\":472.92,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.34,\\"scaleY\\":0.34,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"(Drawing, Name, Role, ...)\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":495.81,\\"top\\":276.81,\\"width\\":557.64,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.32,\\"scaleY\\":0.32,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"(Status, Family, Job, Hobbies, )\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false}]}","description":"","author":{},"_id":"164199543317136cd91b4-c32a-4c26-ba67-d1441336e8a6"},{"type":"Type","list":"designthinking","name":"emphathize","description":"","_id":"1641997353410205e0a1c-6533-4e8e-b0de-30b573406815"},{"type":"Type","list":"designthinking","name":"define","description":null,"_id":"16419973600377265c0b8-f585-4ea7-870c-dde64949997f"},{"type":"Type","list":"designthinking","name":"ideate","description":null,"_id":"16419973667422b51d38b-6c2e-4a9c-a405-5322810c6c29"},{"type":"Type","list":"designthinking","name":"prototype","description":null,"_id":"1641997381370a50861b8-e779-4db9-a1fe-158ee9a6886e"},{"type":"Type","list":"designthinking","name":"test","description":null,"_id":"164199738929966d20496-0be7-4a65-a5a8-db5d6388ba96"},{"type":"DevelopmentMethod","name":"Interview Conduction","description":"The goal of this building block for design thinking is to create a conduct a customer interview to gain insight into the problems that should be solved.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"1641997353410205e0a1c-6533-4e8e-b0de-30b573406815","list":"designthinking","name":"emphathize","description":""}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"1642496421215509feb15-87da-40f0-97fc-c1186bbe72b5","list":"Design Thinking","name":"Interview Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"1642496461746a00e3007-5a47-45c6-b6a9-2adf3f771c20","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"1642496366320ee6c1883-1fa1-443a-a497-776a326871bd"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"1641997902706e215f244-1610-4e24-a318-e3bddd42f8b2"},{"type":"DevelopmentMethod","name":"Persona Analysis","description":"The goal of this building block for design thinking is to create a persona that aggregated the insights about the customer problems.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"16419973600377265c0b8-f585-4ea7-870c-dde64949997f","list":"designthinking","name":"define","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"16419985018267753973f-47b4-4d91-97b7-57b789019cd6","list":"Design Thinking","name":"Persona Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"16419983965219cc01ccd-d962-43c5-b609-6b0f42c56437","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"164199543317136cd91b4-c32a-4c26-ba67-d1441336e8a6"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"16419979387533c2ae2f0-17bc-4c79-b0cd-cbcf36be402d"},{"type":"DevelopmentMethod","name":"Brainstorm Ideas","description":"The goal of this building block for design thinking is to brainstorm possible ideas to solve the customer problems and prioritize them.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"16419973667422b51d38b-6c2e-4a9c-a405-5322810c6c29","list":"designthinking","name":"ideate","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"1642787533484a24d58a8-6591-4357-b968-a2a85d8c9323","list":"Design Thinking","name":"Idea Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"1642787818926dcf62c88-8a0e-4b60-bfa9-4b4d4c571651","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"164278331007184b6524f-febe-42da-befc-29294175be7d"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"16419980183415c75e65a-cd03-4913-9414-26fbe351ea0a"},{"type":"DevelopmentMethod","name":"Mockup Design","description":"The goal of this building block for design thinking is to create a possible mockup of a solution that should be tested with the customers.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"1641997381370a50861b8-e779-4db9-a1fe-158ee9a6886e","list":"designthinking","name":"prototype","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"164278755279047021d54-d4b5-4125-8135-b270c9877edd","list":"Design Thinking","name":"Prototype Template","description":null,"internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"16427880967023c3dcf8e-fbd4-4e72-ad17-40041f178000","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"16427833181631fe253ee-ea3d-4e4c-9788-8763416f074c"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"1641998024919542e5aaf-52c5-4728-bf38-2dde9bd52dcd"},{"type":"DevelopmentMethod","name":"Wizard of Oz","description":"The goal of this building block for design thinking is to collect feedback for the prototype and aggregate that on the feedback grid.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"164199738929966d20496-0be7-4a65-a5a8-db5d6388ba96","list":"designthinking","name":"test","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"164278755279047021d54-d4b5-4125-8135-b270c9877edd","list":"Design Thinking","name":"Prototype Template","description":null,"internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"16427882499576ea5ef2c-15b2-4bb2-92e4-fc288fe305de","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"164278332382418d37074-5cad-4440-9b44-c7de5b1a936d"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}],"_id":"1641998033716dc8639b8-1a92-4a3c-a1f0-cb730d8ebd0b"},{"type":"Artifact","list":"Design Thinking","name":"Persona Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"},"_id":"16419985018267753973f-47b4-4d91-97b7-57b789019cd6"},{"type":"WhiteboardInstance","name":"Test","whiteboard":"{\\"version\\":\\"4.6.0\\",\\"objects\\":[{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":292.56,\\"top\\":98.85,\\"width\\":302.44,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Default Template\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false}]}","_id":"1641998700262eb06cadd-0a52-4eaa-98f8-800e458bbc54"},{"type":"WhiteboardInstance","name":"Test","whiteboard":"{\\"version\\":\\"4.6.0\\",\\"objects\\":[{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":292.56,\\"top\\":98.85,\\"width\\":302.44,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Default Template\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false}]}","_id":"1641998703724bee47ea1-3934-49ae-833f-846a4da5b314"},{"type":"BmProcess","initial":false,"name":"Business Ecosystem Design Thinking Workshop","processDiagram":"<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\"><bpmn:outgoing>Flow_1lp0zfc</bpmn:outgoing></bpmn:startEvent><bpmn:subProcess id=\\"Activity_02j5308\\" name=\\"Design Thinkning Pattern\\"><bpmn:incoming>Flow_1lp0zfc</bpmn:incoming><bpmn:startEvent id=\\"StartEvent_1_1642788875701\\"><bpmn:outgoing>Flow_0kc64qr_1642788875701</bpmn:outgoing></bpmn:startEvent><bpmn:exclusiveGateway id=\\"Gateway_16lqedj_1642788875701\\"><bpmn:incoming>Flow_0kc64qr_1642788875701</bpmn:incoming><bpmn:incoming>Flow_0a779fv_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_0jn6s6o_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:task id=\\"Activity_1pdxc9i_1642788875701\\" name=\\"&#60;&#60;emphathize&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_0jn6s6o_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_0ueadha_1642788875701</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>1641997353410205e0a1c-6533-4e8e-b0de-30b573406815</bmdl:_id><bmdl:name>emphathize</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Interview Conduction</bmdl:name><bmdl:id>1641997902706e215f244-1610-4e24-a318-e3bddd42f8b2</bmdl:id></bmdl:method></bpmn:task><bpmn:exclusiveGateway id=\\"Gateway_0eznzw1_1642788875701\\"><bpmn:incoming>Flow_0ueadha_1642788875701</bpmn:incoming><bpmn:incoming>Flow_0zs2d1p_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_04lqagg_1642788875701</bpmn:outgoing><bpmn:outgoing>Flow_1lotq6y_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:task id=\\"Activity_16rmp0k_1642788875701\\" name=\\"&#60;&#60;define&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_04lqagg_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_13ctnk9_1642788875701</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>16419973600377265c0b8-f585-4ea7-870c-dde64949997f</bmdl:_id><bmdl:name>define</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Persona Analysis</bmdl:name><bmdl:id>16419979387533c2ae2f0-17bc-4c79-b0cd-cbcf36be402d</bmdl:id></bmdl:method></bpmn:task><bpmn:exclusiveGateway id=\\"Gateway_0qgz06r_1642788875701\\"><bpmn:incoming>Flow_13ctnk9_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_00tht31_1642788875701</bpmn:outgoing><bpmn:outgoing>Flow_0a779fv_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:task id=\\"Activity_0pjo8bq_1642788875701\\" name=\\"&#60;&#60;ideate&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_00tht31_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_0dweiva_1642788875701</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>16419973667422b51d38b-6c2e-4a9c-a405-5322810c6c29</bmdl:_id><bmdl:name>ideate</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Brainstorm Ideas</bmdl:name><bmdl:id>16419980183415c75e65a-cd03-4913-9414-26fbe351ea0a</bmdl:id></bmdl:method></bpmn:task><bpmn:exclusiveGateway id=\\"Gateway_13xpxw9_1642788875701\\"><bpmn:incoming>Flow_0dweiva_1642788875701</bpmn:incoming><bpmn:incoming>Flow_1lotq6y_1642788875701</bpmn:incoming><bpmn:incoming>Flow_08creao_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_0f8wh4s_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:task id=\\"Activity_0wgwkmu_1642788875701\\" name=\\"&#60;&#60;prototype&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_0f8wh4s_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_1l3oqhm_1642788875701</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>1641997381370a50861b8-e779-4db9-a1fe-158ee9a6886e</bmdl:_id><bmdl:name>prototype</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Mockup Design</bmdl:name><bmdl:id>1641998024919542e5aaf-52c5-4728-bf38-2dde9bd52dcd</bmdl:id></bmdl:method></bpmn:task><bpmn:task id=\\"Activity_1066b4b_1642788875701\\" name=\\"&#60;&#60;test&#62;&#62;\\" bmdl:inherit=\\"false\\"><bpmn:incoming>Flow_014anea_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_0qhkk38_1642788875701</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>164199738929966d20496-0be7-4a65-a5a8-db5d6388ba96</bmdl:_id><bmdl:name>test</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Wizard of Oz</bmdl:name><bmdl:id>1641998033716dc8639b8-1a92-4a3c-a1f0-cb730d8ebd0b</bmdl:id></bmdl:method></bpmn:task><bpmn:exclusiveGateway id=\\"Gateway_14t6ya0_1642788875701\\"><bpmn:incoming>Flow_0qhkk38_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_01stviu_1642788875701</bpmn:outgoing><bpmn:outgoing>Flow_0zs2d1p_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:endEvent id=\\"Event_12nelp1_1642788875701\\"><bpmn:incoming>Flow_01stviu_1642788875701</bpmn:incoming></bpmn:endEvent><bpmn:exclusiveGateway id=\\"Gateway_1a2d9lo_1642788875701\\"><bpmn:incoming>Flow_1l3oqhm_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_014anea_1642788875701</bpmn:outgoing><bpmn:outgoing>Flow_08creao_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0kc64qr_1642788875701\\" sourceRef=\\"StartEvent_1_1642788875701\\" targetRef=\\"Gateway_16lqedj_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0jn6s6o_1642788875701\\" sourceRef=\\"Gateway_16lqedj_1642788875701\\" targetRef=\\"Activity_1pdxc9i_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0ueadha_1642788875701\\" sourceRef=\\"Activity_1pdxc9i_1642788875701\\" targetRef=\\"Gateway_0eznzw1_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_04lqagg_1642788875701\\" sourceRef=\\"Gateway_0eznzw1_1642788875701\\" targetRef=\\"Activity_16rmp0k_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_13ctnk9_1642788875701\\" sourceRef=\\"Activity_16rmp0k_1642788875701\\" targetRef=\\"Gateway_0qgz06r_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_00tht31_1642788875701\\" sourceRef=\\"Gateway_0qgz06r_1642788875701\\" targetRef=\\"Activity_0pjo8bq_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0dweiva_1642788875701\\" sourceRef=\\"Activity_0pjo8bq_1642788875701\\" targetRef=\\"Gateway_13xpxw9_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0f8wh4s_1642788875701\\" sourceRef=\\"Gateway_13xpxw9_1642788875701\\" targetRef=\\"Activity_0wgwkmu_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0qhkk38_1642788875701\\" sourceRef=\\"Activity_1066b4b_1642788875701\\" targetRef=\\"Gateway_14t6ya0_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_01stviu_1642788875701\\" sourceRef=\\"Gateway_14t6ya0_1642788875701\\" targetRef=\\"Event_12nelp1_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_1lotq6y_1642788875701\\" sourceRef=\\"Gateway_0eznzw1_1642788875701\\" targetRef=\\"Gateway_13xpxw9_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0a779fv_1642788875701\\" sourceRef=\\"Gateway_0qgz06r_1642788875701\\" targetRef=\\"Gateway_16lqedj_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_1l3oqhm_1642788875701\\" sourceRef=\\"Activity_0wgwkmu_1642788875701\\" targetRef=\\"Gateway_1a2d9lo_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_014anea_1642788875701\\" sourceRef=\\"Gateway_1a2d9lo_1642788875701\\" targetRef=\\"Activity_1066b4b_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_08creao_1642788875701\\" sourceRef=\\"Gateway_1a2d9lo_1642788875701\\" targetRef=\\"Gateway_13xpxw9_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0zs2d1p_1642788875701\\" sourceRef=\\"Gateway_14t6ya0_1642788875701\\" targetRef=\\"Gateway_0eznzw1_1642788875701\\" /><bmdl:processPatternId>1615660240828</bmdl:processPatternId></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1lp0zfc\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_02j5308\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1lp0zfc_di\\" bpmnElement=\\"Flow_1lp0zfc\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"259\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_02j5308_di\\" bpmnElement=\\"Activity_02j5308\\" isExpanded=\\"true\\"><dc:Bounds x=\\"259\\" y=\\"1.5\\" width=\\"1685\\" height=\\"237\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0zs2d1p_1642788875701_di\\" bpmnElement=\\"Flow_0zs2d1p_1642788875701\\"><di:waypoint x=\\"1796\\" y=\\"114\\" /><di:waypoint x=\\"1796\\" y=\\"220\\" /><di:waypoint x=\\"676\\" y=\\"220\\" /><di:waypoint x=\\"676\\" y=\\"114\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_08creao_1642788875701_di\\" bpmnElement=\\"Flow_08creao_1642788875701\\"><di:waypoint x=\\"1516\\" y=\\"114\\" /><di:waypoint x=\\"1516\\" y=\\"150\\" /><di:waypoint x=\\"1236\\" y=\\"150\\" /><di:waypoint x=\\"1236\\" y=\\"114\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_014anea_1642788875701_di\\" bpmnElement=\\"Flow_014anea_1642788875701\\"><di:waypoint x=\\"1541\\" y=\\"89\\" /><di:waypoint x=\\"1606\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1l3oqhm_1642788875701_di\\" bpmnElement=\\"Flow_1l3oqhm_1642788875701\\"><di:waypoint x=\\"1426\\" y=\\"89\\" /><di:waypoint x=\\"1491\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0a779fv_1642788875701_di\\" bpmnElement=\\"Flow_0a779fv_1642788875701\\"><di:waypoint x=\\"956\\" y=\\"114\\" /><di:waypoint x=\\"956\\" y=\\"180\\" /><di:waypoint x=\\"396\\" y=\\"180\\" /><di:waypoint x=\\"396\\" y=\\"118.5\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1lotq6y_1642788875701_di\\" bpmnElement=\\"Flow_1lotq6y_1642788875701\\"><di:waypoint x=\\"676\\" y=\\"64\\" /><di:waypoint x=\\"676\\" y=\\"30\\" /><di:waypoint x=\\"1236\\" y=\\"30\\" /><di:waypoint x=\\"1236\\" y=\\"58.5\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01stviu_1642788875701_di\\" bpmnElement=\\"Flow_01stviu_1642788875701\\"><di:waypoint x=\\"1821\\" y=\\"89\\" /><di:waypoint x=\\"1888\\" y=\\"88.5\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0qhkk38_1642788875701_di\\" bpmnElement=\\"Flow_0qhkk38_1642788875701\\"><di:waypoint x=\\"1706\\" y=\\"89\\" /><di:waypoint x=\\"1771\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0f8wh4s_1642788875701_di\\" bpmnElement=\\"Flow_0f8wh4s_1642788875701\\"><di:waypoint x=\\"1261\\" y=\\"89\\" /><di:waypoint x=\\"1326\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0dweiva_1642788875701_di\\" bpmnElement=\\"Flow_0dweiva_1642788875701\\"><di:waypoint x=\\"1146\\" y=\\"89\\" /><di:waypoint x=\\"1211\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_00tht31_1642788875701_di\\" bpmnElement=\\"Flow_00tht31_1642788875701\\"><di:waypoint x=\\"981\\" y=\\"89\\" /><di:waypoint x=\\"1046\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13ctnk9_1642788875701_di\\" bpmnElement=\\"Flow_13ctnk9_1642788875701\\"><di:waypoint x=\\"866\\" y=\\"89\\" /><di:waypoint x=\\"931\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_04lqagg_1642788875701_di\\" bpmnElement=\\"Flow_04lqagg_1642788875701\\"><di:waypoint x=\\"701\\" y=\\"89\\" /><di:waypoint x=\\"766\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0ueadha_1642788875701_di\\" bpmnElement=\\"Flow_0ueadha_1642788875701\\"><di:waypoint x=\\"586\\" y=\\"89\\" /><di:waypoint x=\\"651\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0jn6s6o_1642788875701_di\\" bpmnElement=\\"Flow_0jn6s6o_1642788875701\\"><di:waypoint x=\\"421\\" y=\\"89\\" /><di:waypoint x=\\"486\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0kc64qr_1642788875701_di\\" bpmnElement=\\"Flow_0kc64qr_1642788875701\\"><di:waypoint x=\\"315\\" y=\\"88.5\\" /><di:waypoint x=\\"371\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1642788875701_di\\" bpmnElement=\\"StartEvent_1_1642788875701\\"><dc:Bounds x=\\"279\\" y=\\"70.5\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_16lqedj_1642788875701_di\\" bpmnElement=\\"Gateway_16lqedj_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"371\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1pdxc9i_1642788875701_di\\" bpmnElement=\\"Activity_1pdxc9i_1642788875701\\"><dc:Bounds x=\\"486\\" y=\\"48.5\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0eznzw1_1642788875701_di\\" bpmnElement=\\"Gateway_0eznzw1_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"651\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_16rmp0k_1642788875701_di\\" bpmnElement=\\"Activity_16rmp0k_1642788875701\\"><dc:Bounds x=\\"766\\" y=\\"48.5\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0qgz06r_1642788875701_di\\" bpmnElement=\\"Gateway_0qgz06r_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"931\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0pjo8bq_1642788875701_di\\" bpmnElement=\\"Activity_0pjo8bq_1642788875701\\"><dc:Bounds x=\\"1046\\" y=\\"48.5\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_13xpxw9_1642788875701_di\\" bpmnElement=\\"Gateway_13xpxw9_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1211\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0wgwkmu_1642788875701_di\\" bpmnElement=\\"Activity_0wgwkmu_1642788875701\\"><dc:Bounds x=\\"1326\\" y=\\"48.5\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1066b4b_1642788875701_di\\" bpmnElement=\\"Activity_1066b4b_1642788875701\\"><dc:Bounds x=\\"1606\\" y=\\"48.5\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_14t6ya0_1642788875701_di\\" bpmnElement=\\"Gateway_14t6ya0_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1771\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_12nelp1_1642788875701_di\\" bpmnElement=\\"Event_12nelp1_1642788875701\\"><dc:Bounds x=\\"1888\\" y=\\"70.5\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1a2d9lo_1642788875701_di\\" bpmnElement=\\"Gateway_1a2d9lo_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1491\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","domains":[{"type":"Domain","_id":"1625915974420","_rev":"5-4d6e75dc6dcd29832e7ed012de824770","name":"Mobile Apps"}],"situationalFactors":[],"decisions":{"Activity_1pdxc9i_1642788875701":{"method":{"type":"DevelopmentMethod","_id":"1641997902706e215f244-1610-4e24-a318-e3bddd42f8b2","name":"Interview Conduction","description":"The goal of this building block for Design Thinking is to create a conduct a customer interview to gain insight into the problems that should be solved.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"1641997353410205e0a1c-6533-4e8e-b0de-30b573406815","list":"designthinking","name":"emphathize","description":""}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"1642496421215509feb15-87da-40f0-97fc-c1186bbe72b5","list":"Design Thinking","name":"Interview Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"1642496461746a00e3007-5a47-45c6-b6a9-2adf3f771c20","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"1642496366320ee6c1883-1fa1-443a-a497-776a326871bd"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{},{}]},"tools":{"group":0,"elementDecisions":[{}]},"stepDecisions":[null,null]},"Activity_16rmp0k_1642788875701":{"method":{"type":"DevelopmentMethod","_id":"16419979387533c2ae2f0-17bc-4c79-b0cd-cbcf36be402d","name":"Persona Analysis","description":"The goal of this building block for design thinking is to create a persona that aggregated the insights about the customer problems.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"16419973600377265c0b8-f585-4ea7-870c-dde64949997f","list":"designthinking","name":"define","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"16419985018267753973f-47b4-4d91-97b7-57b789019cd6","list":"Design Thinking","name":"Persona Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"16419983965219cc01ccd-d962-43c5-b609-6b0f42c56437","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"164199543317136cd91b4-c32a-4c26-ba67-d1441336e8a6"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{},{},{},{}]},"tools":{"group":0,"elementDecisions":[{}]},"stepDecisions":[null,null]},"Activity_0pjo8bq_1642788875701":{"method":{"type":"DevelopmentMethod","_id":"16419980183415c75e65a-cd03-4913-9414-26fbe351ea0a","name":"Brainstorm Ideas","description":"The goal of this building block for design thinking is to brainstorm possible ideas to solve the customer problems and prioritize them.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"16419973667422b51d38b-6c2e-4a9c-a405-5322810c6c29","list":"designthinking","name":"ideate","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"1642787533484a24d58a8-6591-4357-b968-a2a85d8c9323","list":"Design Thinking","name":"Idea Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"1642787818926dcf62c88-8a0e-4b60-bfa9-4b4d4c571651","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"164278331007184b6524f-febe-42da-befc-29294175be7d"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{},{},{},{}]},"tools":{"group":0,"elementDecisions":[{}]},"stepDecisions":[null,null]},"Activity_0wgwkmu_1642788875701":{"method":{"type":"DevelopmentMethod","_id":"1641998024919542e5aaf-52c5-4728-bf38-2dde9bd52dcd","name":"Mockup Design","description":"The goal of this building block for design thinking is to create a possible mockup of a solution that should be tested with the customers.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"1641997381370a50861b8-e779-4db9-a1fe-158ee9a6886e","list":"designthinking","name":"prototype","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"164278755279047021d54-d4b5-4125-8135-b270c9877edd","list":"Design Thinking","name":"Prototype Template","description":null,"internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"16427880967023c3dcf8e-fbd4-4e72-ad17-40041f178000","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"16427833181631fe253ee-ea3d-4e4c-9788-8763416f074c"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{},{},{},{}]},"tools":{"group":0,"elementDecisions":[{}]},"stepDecisions":[null,null]},"Activity_1066b4b_1642788875701":{"method":{"type":"DevelopmentMethod","_id":"1641998033716dc8639b8-1a92-4a3c-a1f0-cb730d8ebd0b","name":"Wizard of Oz","description":"The goal of this building block for design thinking is to collect feedback for the prototype and aggregate that on the feedback grid.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"164199738929966d20496-0be7-4a65-a5a8-db5d6388ba96","list":"designthinking","name":"test","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"164278755279047021d54-d4b5-4125-8135-b270c9877edd","list":"Design Thinking","name":"Prototype Template","description":null,"internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"16427882499576ea5ef2c-15b2-4bb2-92e4-fc288fe305de","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"164278332382418d37074-5cad-4440-9b44-c7de5b1a936d"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{}]},"stakeholders":{"group":0,"elementDecisions":[{},{}]},"tools":{"group":0,"elementDecisions":[{}]},"stepDecisions":[null,null]}},"_id":"1641999937102c7e735c6-e1bf-4ad3-b6fd-40d33ee9fdc0"},{"type":"WhiteboardTemplate","name":"Interview Template","whiteboard":"{\\"version\\":\\"4.6.0\\",\\"objects\\":[{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":158.63,\\"top\\":8.76,\\"width\\":5.59,\\"height\\":314.47,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":575.03,\\"top\\":5.21,\\"width\\":9.15,\\"height\\":316.5,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.65,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":10.17,\\"top\\":35.18,\\"width\\":1094.64,\\"height\\":8.64,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":42.2,\\"top\\":4.7,\\"width\\":104.43,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.57,\\"scaleY\\":0.57,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Period\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":269.97,\\"top\\":4.7,\\"width\\":438.86,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.55,\\"scaleY\\":0.55,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Interview Preparation\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{},\\"7\\":{},\\"8\\":{},\\"9\\":{},\\"10\\":{},\\"11\\":{},\\"12\\":{},\\"13\\":{},\\"14\\":{},\\"15\\":{},\\"16\\":{},\\"17\\":{},\\"18\\":{},\\"19\\":{},\\"20\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":749.42,\\"top\\":3.68,\\"width\\":394.55,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.56,\\"scaleY\\":0.56,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Interview Conduction\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{},\\"7\\":{},\\"8\\":{},\\"9\\":{},\\"10\\":{},\\"11\\":{},\\"12\\":{},\\"13\\":{},\\"14\\":{},\\"15\\":{},\\"16\\":{},\\"17\\":{},\\"18\\":{},\\"19\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":18.81,\\"top\\":50.93,\\"width\\":162.2,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.36,\\"scaleY\\":0.36,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Warm Up\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":16.27,\\"top\\":99.19,\\"width\\":255.25,\\"height\\":97.63,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.41,\\"scaleY\\":0.41,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Exploration of present aspects\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{},\\"7\\":{},\\"8\\":{},\\"9\\":{},\\"10\\":{},\\"11\\":{},\\"12\\":{},\\"13\\":{},\\"14\\":{},\\"15\\":{},\\"16\\":{},\\"17\\":{},\\"18\\":{},\\"19\\":{},\\"20\\":{},\\"21\\":{},\\"22\\":{},\\"23\\":{},\\"24\\":{},\\"25\\":{},\\"26\\":{},\\"27\\":{},\\"28\\":{},\\"29\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":17.29,\\"top\\":191.65,\\"width\\":245.08,\\"height\\":97.63,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.39,\\"scaleY\\":0.39,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Exploration of future aspects \\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{},\\"7\\":{},\\"8\\":{},\\"9\\":{},\\"10\\":{},\\"11\\":{},\\"12\\":{},\\"13\\":{},\\"14\\":{},\\"15\\":{},\\"16\\":{},\\"17\\":{},\\"18\\":{},\\"19\\":{},\\"20\\":{},\\"21\\":{},\\"22\\":{},\\"23\\":{},\\"24\\":{},\\"25\\":{},\\"26\\":{},\\"27\\":{},\\"28\\":{},\\"29\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":21.35,\\"top\\":272.94,\\"width\\":100.04,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.4,\\"scaleY\\":0.4,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Finish\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":10.68,\\"top\\":79.89,\\"width\\":1097.69,\\"height\\":4.57,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":12.2,\\"top\\":161.68,\\"width\\":1103.28,\\"height\\":6.1,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.99,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":13.73,\\"top\\":258.2,\\"width\\":1094.64,\\"height\\":6.6,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.99,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0}]}","description":"","author":{},"_id":"1642496366320ee6c1883-1fa1-443a-a497-776a326871bd"},{"type":"Artifact","list":"Design Thinking","name":"Interview Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"},"_id":"1642496421215509feb15-87da-40f0-97fc-c1186bbe72b5"},{"type":"WhiteboardTemplate","name":"Idea Template","whiteboard":"{\\"version\\":\\"4.6.0\\",\\"objects\\":[{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":252.38,\\"top\\":154.57,\\"width\\":818.56,\\"height\\":10.16,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.74,\\"scaleY\\":0.68,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":538.42,\\"top\\":3.18,\\"width\\":8.13,\\"height\\":318.53,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":552.66,\\"top\\":4.7,\\"width\\":155.55,\\"height\\":97.63,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.34,\\"scaleY\\":0.34,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Customer Benefits\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{},\\"7\\":{},\\"8\\":{},\\"9\\":{},\\"10\\":{},\\"11\\":{},\\"12\\":{},\\"13\\":{},\\"14\\":{},\\"15\\":{},\\"16\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":794.51,\\"top\\":118.65,\\"width\\":171.05,\\"height\\":97.63,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.34,\\"scaleY\\":0.34,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Most Innovative\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{},\\"7\\":{},\\"8\\":{},\\"9\\":{},\\"10\\":{},\\"11\\":{},\\"12\\":{},\\"13\\":{},\\"14\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false}]}","description":"","author":{},"_id":"164278331007184b6524f-febe-42da-befc-29294175be7d"},{"type":"WhiteboardTemplate","name":"Prototype Template","whiteboard":"{\\"version\\":\\"4.6.0\\",\\"objects\\":[{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":560.28,\\"top\\":6.22,\\"width\\":8.13,\\"height\\":309.89,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":238.96,\\"top\\":7.24,\\"width\\":106.62,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.56,\\"scaleY\\":0.56,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Name:\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":234.89,\\"top\\":77.85,\\"width\\":246.09,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.62,\\"scaleY\\":0.62,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Target Group:\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{},\\"7\\":{},\\"8\\":{},\\"9\\":{},\\"10\\":{},\\"11\\":{},\\"12\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":235.91,\\"top\\":172.85,\\"width\\":84.49,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.56,\\"scaleY\\":0.56,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"USP:\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":597.4,\\"top\\":8.26,\\"width\\":119.98,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.64,\\"scaleY\\":0.64,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Sketch:\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false}]}","description":"","author":{},"_id":"16427833181631fe253ee-ea3d-4e4c-9788-8763416f074c"},{"type":"WhiteboardTemplate","name":"Test Template","whiteboard":"{\\"version\\":\\"4.6.0\\",\\"objects\\":[{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":538.42,\\"top\\":5.72,\\"width\\":6.1,\\"height\\":315.99,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":1,\\"scaleY\\":1,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"rect\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":320.31,\\"top\\":149.49,\\"width\\":473.34,\\"height\\":8.64,\\"fill\\":\\"#757575\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.94,\\"scaleY\\":0.79,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"rx\\":0,\\"ry\\":0},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":414.87,\\"top\\":0.13,\\"width\\":73.3,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.54,\\"scaleY\\":0.54,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Like\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":639.09,\\"top\\":-0.38,\\"width\\":104.43,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.54,\\"scaleY\\":0.54,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Whish\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":632.48,\\"top\\":158.63,\\"width\\":145.93,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.55,\\"scaleY\\":0.55,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"How to?\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false},{\\"type\\":\\"textbox\\",\\"version\\":\\"4.6.0\\",\\"originX\\":\\"left\\",\\"originY\\":\\"top\\",\\"left\\":385.89,\\"top\\":159.14,\\"width\\":160,\\"height\\":45.2,\\"fill\\":\\"rgb(0,0,0)\\",\\"stroke\\":null,\\"strokeWidth\\":1,\\"strokeDashArray\\":null,\\"strokeLineCap\\":\\"butt\\",\\"strokeDashOffset\\":0,\\"strokeLineJoin\\":\\"miter\\",\\"strokeUniform\\":false,\\"strokeMiterLimit\\":4,\\"scaleX\\":0.55,\\"scaleY\\":0.55,\\"angle\\":0,\\"flipX\\":false,\\"flipY\\":false,\\"opacity\\":1,\\"shadow\\":null,\\"visible\\":true,\\"backgroundColor\\":\\"\\",\\"fillRule\\":\\"nonzero\\",\\"paintFirst\\":\\"fill\\",\\"globalCompositeOperation\\":\\"source-over\\",\\"skewX\\":0,\\"skewY\\":0,\\"fontFamily\\":\\"Times New Roman\\",\\"fontWeight\\":\\"normal\\",\\"fontSize\\":40,\\"text\\":\\"Questions\\",\\"underline\\":false,\\"overline\\":false,\\"linethrough\\":false,\\"textAlign\\":\\"left\\",\\"fontStyle\\":\\"normal\\",\\"lineHeight\\":1.16,\\"textBackgroundColor\\":\\"\\",\\"charSpacing\\":0,\\"styles\\":{\\"0\\":{\\"0\\":{},\\"1\\":{},\\"2\\":{},\\"3\\":{},\\"4\\":{},\\"5\\":{},\\"6\\":{},\\"7\\":{},\\"8\\":{}}},\\"direction\\":\\"ltr\\",\\"path\\":null,\\"pathStartOffset\\":0,\\"pathSide\\":\\"left\\",\\"minWidth\\":20,\\"splitByGrapheme\\":false}]}","description":"","author":{},"_id":"164278332382418d37074-5cad-4440-9b44-c7de5b1a936d"},{"type":"Artifact","list":"Design Thinking","name":"Idea Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"},"_id":"1642787533484a24d58a8-6591-4357-b968-a2a85d8c9323"},{"type":"Artifact","list":"Design Thinking","name":"Prototype Template","description":null,"internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"},"_id":"164278755279047021d54-d4b5-4125-8135-b270c9877edd"},{"type":"Artifact","list":"Design Thinking","name":"Test Template","description":null,"internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"},"_id":"1642787563839b055d595-feae-4cb5-8b94-5eaa96cf2847"},{"type":"RunningProcess","name":"IWSIB Example","process":{"type":"BmProcess","_id":"1641999937102c7e735c6-e1bf-4ad3-b6fd-40d33ee9fdc0","initial":false,"name":"Business Ecosystem Design Thinking Workshop","processDiagram":"<bpmn:definitions xmlns:bmdl=\\"http://localhost/schema/bmdl\\" xmlns:bpmn=\\"http://www.omg.org/spec/BPMN/20100524/MODEL\\" xmlns:bpmndi=\\"http://www.omg.org/spec/BPMN/20100524/DI\\" xmlns:dc=\\"http://www.omg.org/spec/DD/20100524/DC\\" xmlns:di=\\"http://www.omg.org/spec/DD/20100524/DI\\" xmlns:ns1=\\"http://localhost/schema/rbmp\\" id=\\"Definitions_1\\" targetNamespace=\\"http://bpmn.io/schema/bpmn\\"><bpmn:process id=\\"Process_1\\" isExecutable=\\"false\\"><bpmn:startEvent id=\\"StartEvent_1\\" ns1:executed=\\"true\\"><bpmn:outgoing>Flow_1lp0zfc</bpmn:outgoing></bpmn:startEvent><bpmn:subProcess id=\\"Activity_02j5308\\" name=\\"Design Thinkning Pattern\\" ns1:tokens=\\"1\\"><bpmn:incoming>Flow_1lp0zfc</bpmn:incoming><bpmn:startEvent id=\\"StartEvent_1_1642788875701\\" ns1:executed=\\"true\\"><bpmn:outgoing>Flow_0kc64qr_1642788875701</bpmn:outgoing></bpmn:startEvent><bpmn:exclusiveGateway id=\\"Gateway_16lqedj_1642788875701\\" ns1:executed=\\"true\\"><bpmn:incoming>Flow_0kc64qr_1642788875701</bpmn:incoming><bpmn:incoming>Flow_0a779fv_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_0jn6s6o_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:task id=\\"Activity_1pdxc9i_1642788875701\\" name=\\"&lt;&lt;emphathize&gt;&gt;\\" ns1:tokens=\\"1\\" inherit=\\"false\\"><bpmn:incoming>Flow_0jn6s6o_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_0ueadha_1642788875701</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>1641997353410205e0a1c-6533-4e8e-b0de-30b573406815</bmdl:_id><bmdl:name>emphathize</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Interview Conduction</bmdl:name><bmdl:id>1641997902706e215f244-1610-4e24-a318-e3bddd42f8b2</bmdl:id></bmdl:method></bpmn:task><bpmn:exclusiveGateway id=\\"Gateway_0eznzw1_1642788875701\\"><bpmn:incoming>Flow_0ueadha_1642788875701</bpmn:incoming><bpmn:incoming>Flow_0zs2d1p_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_04lqagg_1642788875701</bpmn:outgoing><bpmn:outgoing>Flow_1lotq6y_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:task id=\\"Activity_16rmp0k_1642788875701\\" name=\\"&lt;&lt;define&gt;&gt;\\" inherit=\\"false\\"><bpmn:incoming>Flow_04lqagg_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_13ctnk9_1642788875701</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>16419973600377265c0b8-f585-4ea7-870c-dde64949997f</bmdl:_id><bmdl:name>define</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Persona Analysis</bmdl:name><bmdl:id>16419979387533c2ae2f0-17bc-4c79-b0cd-cbcf36be402d</bmdl:id></bmdl:method></bpmn:task><bpmn:exclusiveGateway id=\\"Gateway_0qgz06r_1642788875701\\"><bpmn:incoming>Flow_13ctnk9_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_00tht31_1642788875701</bpmn:outgoing><bpmn:outgoing>Flow_0a779fv_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:task id=\\"Activity_0pjo8bq_1642788875701\\" name=\\"&lt;&lt;ideate&gt;&gt;\\" inherit=\\"false\\"><bpmn:incoming>Flow_00tht31_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_0dweiva_1642788875701</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>16419973667422b51d38b-6c2e-4a9c-a405-5322810c6c29</bmdl:_id><bmdl:name>ideate</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Brainstorm Ideas</bmdl:name><bmdl:id>16419980183415c75e65a-cd03-4913-9414-26fbe351ea0a</bmdl:id></bmdl:method></bpmn:task><bpmn:exclusiveGateway id=\\"Gateway_13xpxw9_1642788875701\\"><bpmn:incoming>Flow_0dweiva_1642788875701</bpmn:incoming><bpmn:incoming>Flow_1lotq6y_1642788875701</bpmn:incoming><bpmn:incoming>Flow_08creao_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_0f8wh4s_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:task id=\\"Activity_0wgwkmu_1642788875701\\" name=\\"&lt;&lt;prototype&gt;&gt;\\" inherit=\\"false\\"><bpmn:incoming>Flow_0f8wh4s_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_1l3oqhm_1642788875701</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>1641997381370a50861b8-e779-4db9-a1fe-158ee9a6886e</bmdl:_id><bmdl:name>prototype</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Mockup Design</bmdl:name><bmdl:id>1641998024919542e5aaf-52c5-4728-bf38-2dde9bd52dcd</bmdl:id></bmdl:method></bpmn:task><bpmn:task id=\\"Activity_1066b4b_1642788875701\\" name=\\"&lt;&lt;test&gt;&gt;\\" inherit=\\"false\\"><bpmn:incoming>Flow_014anea_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_0qhkk38_1642788875701</bpmn:outgoing><bmdl:neededType><bmdl:list>designthinking</bmdl:list><bmdl:methodElement><bmdl:_id>164199738929966d20496-0be7-4a65-a5a8-db5d6388ba96</bmdl:_id><bmdl:name>test</bmdl:name></bmdl:methodElement></bmdl:neededType><bmdl:method><bmdl:name>Wizard of Oz</bmdl:name><bmdl:id>1641998033716dc8639b8-1a92-4a3c-a1f0-cb730d8ebd0b</bmdl:id></bmdl:method></bpmn:task><bpmn:exclusiveGateway id=\\"Gateway_14t6ya0_1642788875701\\"><bpmn:incoming>Flow_0qhkk38_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_01stviu_1642788875701</bpmn:outgoing><bpmn:outgoing>Flow_0zs2d1p_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:endEvent id=\\"Event_12nelp1_1642788875701\\"><bpmn:incoming>Flow_01stviu_1642788875701</bpmn:incoming></bpmn:endEvent><bpmn:exclusiveGateway id=\\"Gateway_1a2d9lo_1642788875701\\"><bpmn:incoming>Flow_1l3oqhm_1642788875701</bpmn:incoming><bpmn:outgoing>Flow_014anea_1642788875701</bpmn:outgoing><bpmn:outgoing>Flow_08creao_1642788875701</bpmn:outgoing></bpmn:exclusiveGateway><bpmn:sequenceFlow id=\\"Flow_0kc64qr_1642788875701\\" sourceRef=\\"StartEvent_1_1642788875701\\" targetRef=\\"Gateway_16lqedj_1642788875701\\" ns1:used=\\"true\\" /><bpmn:sequenceFlow id=\\"Flow_0jn6s6o_1642788875701\\" sourceRef=\\"Gateway_16lqedj_1642788875701\\" targetRef=\\"Activity_1pdxc9i_1642788875701\\" ns1:used=\\"true\\" /><bpmn:sequenceFlow id=\\"Flow_0ueadha_1642788875701\\" sourceRef=\\"Activity_1pdxc9i_1642788875701\\" targetRef=\\"Gateway_0eznzw1_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_04lqagg_1642788875701\\" sourceRef=\\"Gateway_0eznzw1_1642788875701\\" targetRef=\\"Activity_16rmp0k_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_13ctnk9_1642788875701\\" sourceRef=\\"Activity_16rmp0k_1642788875701\\" targetRef=\\"Gateway_0qgz06r_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_00tht31_1642788875701\\" sourceRef=\\"Gateway_0qgz06r_1642788875701\\" targetRef=\\"Activity_0pjo8bq_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0dweiva_1642788875701\\" sourceRef=\\"Activity_0pjo8bq_1642788875701\\" targetRef=\\"Gateway_13xpxw9_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0f8wh4s_1642788875701\\" sourceRef=\\"Gateway_13xpxw9_1642788875701\\" targetRef=\\"Activity_0wgwkmu_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0qhkk38_1642788875701\\" sourceRef=\\"Activity_1066b4b_1642788875701\\" targetRef=\\"Gateway_14t6ya0_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_01stviu_1642788875701\\" sourceRef=\\"Gateway_14t6ya0_1642788875701\\" targetRef=\\"Event_12nelp1_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_1lotq6y_1642788875701\\" sourceRef=\\"Gateway_0eznzw1_1642788875701\\" targetRef=\\"Gateway_13xpxw9_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0a779fv_1642788875701\\" sourceRef=\\"Gateway_0qgz06r_1642788875701\\" targetRef=\\"Gateway_16lqedj_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_1l3oqhm_1642788875701\\" sourceRef=\\"Activity_0wgwkmu_1642788875701\\" targetRef=\\"Gateway_1a2d9lo_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_014anea_1642788875701\\" sourceRef=\\"Gateway_1a2d9lo_1642788875701\\" targetRef=\\"Activity_1066b4b_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_08creao_1642788875701\\" sourceRef=\\"Gateway_1a2d9lo_1642788875701\\" targetRef=\\"Gateway_13xpxw9_1642788875701\\" /><bpmn:sequenceFlow id=\\"Flow_0zs2d1p_1642788875701\\" sourceRef=\\"Gateway_14t6ya0_1642788875701\\" targetRef=\\"Gateway_0eznzw1_1642788875701\\" /><bmdl:processPatternId>1615660240828</bmdl:processPatternId></bpmn:subProcess><bpmn:sequenceFlow id=\\"Flow_1lp0zfc\\" sourceRef=\\"StartEvent_1\\" targetRef=\\"Activity_02j5308\\" ns1:used=\\"true\\" /></bpmn:process><bpmndi:BPMNDiagram id=\\"BPMNDiagram_1\\"><bpmndi:BPMNPlane id=\\"BPMNPlane_1\\" bpmnElement=\\"Process_1\\"><bpmndi:BPMNEdge id=\\"Flow_1lp0zfc_di\\" bpmnElement=\\"Flow_1lp0zfc\\"><di:waypoint x=\\"209\\" y=\\"120\\" /><di:waypoint x=\\"259\\" y=\\"120\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"_BPMNShape_StartEvent_2\\" bpmnElement=\\"StartEvent_1\\"><dc:Bounds x=\\"173\\" y=\\"102\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_02j5308_di\\" bpmnElement=\\"Activity_02j5308\\" isExpanded=\\"true\\"><dc:Bounds x=\\"259\\" y=\\"1.5\\" width=\\"1685\\" height=\\"237\\" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id=\\"Flow_0zs2d1p_1642788875701_di\\" bpmnElement=\\"Flow_0zs2d1p_1642788875701\\"><di:waypoint x=\\"1796\\" y=\\"114\\" /><di:waypoint x=\\"1796\\" y=\\"220\\" /><di:waypoint x=\\"676\\" y=\\"220\\" /><di:waypoint x=\\"676\\" y=\\"114\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_08creao_1642788875701_di\\" bpmnElement=\\"Flow_08creao_1642788875701\\"><di:waypoint x=\\"1516\\" y=\\"114\\" /><di:waypoint x=\\"1516\\" y=\\"150\\" /><di:waypoint x=\\"1236\\" y=\\"150\\" /><di:waypoint x=\\"1236\\" y=\\"114\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_014anea_1642788875701_di\\" bpmnElement=\\"Flow_014anea_1642788875701\\"><di:waypoint x=\\"1541\\" y=\\"89\\" /><di:waypoint x=\\"1606\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1l3oqhm_1642788875701_di\\" bpmnElement=\\"Flow_1l3oqhm_1642788875701\\"><di:waypoint x=\\"1426\\" y=\\"89\\" /><di:waypoint x=\\"1491\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0a779fv_1642788875701_di\\" bpmnElement=\\"Flow_0a779fv_1642788875701\\"><di:waypoint x=\\"956\\" y=\\"114\\" /><di:waypoint x=\\"956\\" y=\\"180\\" /><di:waypoint x=\\"396\\" y=\\"180\\" /><di:waypoint x=\\"396\\" y=\\"118.5\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_1lotq6y_1642788875701_di\\" bpmnElement=\\"Flow_1lotq6y_1642788875701\\"><di:waypoint x=\\"676\\" y=\\"64\\" /><di:waypoint x=\\"676\\" y=\\"30\\" /><di:waypoint x=\\"1236\\" y=\\"30\\" /><di:waypoint x=\\"1236\\" y=\\"58.5\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_01stviu_1642788875701_di\\" bpmnElement=\\"Flow_01stviu_1642788875701\\"><di:waypoint x=\\"1821\\" y=\\"89\\" /><di:waypoint x=\\"1888\\" y=\\"88.5\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0qhkk38_1642788875701_di\\" bpmnElement=\\"Flow_0qhkk38_1642788875701\\"><di:waypoint x=\\"1706\\" y=\\"89\\" /><di:waypoint x=\\"1771\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0f8wh4s_1642788875701_di\\" bpmnElement=\\"Flow_0f8wh4s_1642788875701\\"><di:waypoint x=\\"1261\\" y=\\"89\\" /><di:waypoint x=\\"1326\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0dweiva_1642788875701_di\\" bpmnElement=\\"Flow_0dweiva_1642788875701\\"><di:waypoint x=\\"1146\\" y=\\"89\\" /><di:waypoint x=\\"1211\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_00tht31_1642788875701_di\\" bpmnElement=\\"Flow_00tht31_1642788875701\\"><di:waypoint x=\\"981\\" y=\\"89\\" /><di:waypoint x=\\"1046\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_13ctnk9_1642788875701_di\\" bpmnElement=\\"Flow_13ctnk9_1642788875701\\"><di:waypoint x=\\"866\\" y=\\"89\\" /><di:waypoint x=\\"931\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_04lqagg_1642788875701_di\\" bpmnElement=\\"Flow_04lqagg_1642788875701\\"><di:waypoint x=\\"701\\" y=\\"89\\" /><di:waypoint x=\\"766\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0ueadha_1642788875701_di\\" bpmnElement=\\"Flow_0ueadha_1642788875701\\"><di:waypoint x=\\"586\\" y=\\"89\\" /><di:waypoint x=\\"651\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0jn6s6o_1642788875701_di\\" bpmnElement=\\"Flow_0jn6s6o_1642788875701\\"><di:waypoint x=\\"421\\" y=\\"89\\" /><di:waypoint x=\\"486\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id=\\"Flow_0kc64qr_1642788875701_di\\" bpmnElement=\\"Flow_0kc64qr_1642788875701\\"><di:waypoint x=\\"315\\" y=\\"88.5\\" /><di:waypoint x=\\"371\\" y=\\"89\\" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id=\\"StartEvent_1_1642788875701_di\\" bpmnElement=\\"StartEvent_1_1642788875701\\"><dc:Bounds x=\\"279\\" y=\\"70.5\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_16lqedj_1642788875701_di\\" bpmnElement=\\"Gateway_16lqedj_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"371\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1pdxc9i_1642788875701_di\\" bpmnElement=\\"Activity_1pdxc9i_1642788875701\\"><dc:Bounds x=\\"486\\" y=\\"48.5\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0eznzw1_1642788875701_di\\" bpmnElement=\\"Gateway_0eznzw1_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"651\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_16rmp0k_1642788875701_di\\" bpmnElement=\\"Activity_16rmp0k_1642788875701\\"><dc:Bounds x=\\"766\\" y=\\"48.5\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_0qgz06r_1642788875701_di\\" bpmnElement=\\"Gateway_0qgz06r_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"931\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0pjo8bq_1642788875701_di\\" bpmnElement=\\"Activity_0pjo8bq_1642788875701\\"><dc:Bounds x=\\"1046\\" y=\\"48.5\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_13xpxw9_1642788875701_di\\" bpmnElement=\\"Gateway_13xpxw9_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1211\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_0wgwkmu_1642788875701_di\\" bpmnElement=\\"Activity_0wgwkmu_1642788875701\\"><dc:Bounds x=\\"1326\\" y=\\"48.5\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Activity_1066b4b_1642788875701_di\\" bpmnElement=\\"Activity_1066b4b_1642788875701\\"><dc:Bounds x=\\"1606\\" y=\\"48.5\\" width=\\"100\\" height=\\"80\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_14t6ya0_1642788875701_di\\" bpmnElement=\\"Gateway_14t6ya0_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1771\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Event_12nelp1_1642788875701_di\\" bpmnElement=\\"Event_12nelp1_1642788875701\\"><dc:Bounds x=\\"1888\\" y=\\"70.5\\" width=\\"36\\" height=\\"36\\" /></bpmndi:BPMNShape><bpmndi:BPMNShape id=\\"Gateway_1a2d9lo_1642788875701_di\\" bpmnElement=\\"Gateway_1a2d9lo_1642788875701\\" isMarkerVisible=\\"true\\"><dc:Bounds x=\\"1491\\" y=\\"63.5\\" width=\\"50\\" height=\\"50\\" /></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>","domains":[{"type":"Domain","_id":"1625915974420","name":"Mobile Apps"}],"situationalFactors":[],"decisions":{"Activity_1pdxc9i_1642788875701":{"method":{"type":"DevelopmentMethod","_id":"1641997902706e215f244-1610-4e24-a318-e3bddd42f8b2","name":"Interview Conduction","description":"The goal of this building block for Design Thinking is to create a conduct a customer interview to gain insight into the problems that should be solved.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"1641997353410205e0a1c-6533-4e8e-b0de-30b573406815","list":"designthinking","name":"emphathize","description":""}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"1642496421215509feb15-87da-40f0-97fc-c1186bbe72b5","list":"Design Thinking","name":"Interview Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"1642496461746a00e3007-5a47-45c6-b6a9-2adf3f771c20","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"1642496366320ee6c1883-1fa1-443a-a497-776a326871bd"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stepDecisions":[null,null]},"Activity_16rmp0k_1642788875701":{"method":{"type":"DevelopmentMethod","_id":"16419979387533c2ae2f0-17bc-4c79-b0cd-cbcf36be402d","name":"Persona Analysis","description":"The goal of this building block for design thinking is to create a persona that aggregated the insights about the customer problems.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"16419973600377265c0b8-f585-4ea7-870c-dde64949997f","list":"designthinking","name":"define","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"16419985018267753973f-47b4-4d91-97b7-57b789019cd6","list":"Design Thinking","name":"Persona Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"16419983965219cc01ccd-d962-43c5-b609-6b0f42c56437","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"164199543317136cd91b4-c32a-4c26-ba67-d1441336e8a6"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","predefinedInput":null,"outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stepDecisions":[null,null]},"Activity_0pjo8bq_1642788875701":{"method":{"type":"DevelopmentMethod","_id":"16419980183415c75e65a-cd03-4913-9414-26fbe351ea0a","name":"Brainstorm Ideas","description":"The goal of this building block for design thinking is to brainstorm possible ideas to solve the customer problems and prioritize them.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"16419973667422b51d38b-6c2e-4a9c-a405-5322810c6c29","list":"designthinking","name":"ideate","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"1642787533484a24d58a8-6591-4357-b968-a2a85d8c9323","list":"Design Thinking","name":"Idea Template","description":"","internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"1642787818926dcf62c88-8a0e-4b60-bfa9-4b4d4c571651","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"164278331007184b6524f-febe-42da-befc-29294175be7d"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stepDecisions":[null,null]},"Activity_0wgwkmu_1642788875701":{"method":{"type":"DevelopmentMethod","_id":"1641998024919542e5aaf-52c5-4728-bf38-2dde9bd52dcd","name":"Mockup Design","description":"The goal of this building block for design thinking is to create a possible mockup of a solution that should be tested with the customers.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"1641997381370a50861b8-e779-4db9-a1fe-158ee9a6886e","list":"designthinking","name":"prototype","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"164278755279047021d54-d4b5-4125-8135-b270c9877edd","list":"Design Thinking","name":"Prototype Template","description":null,"internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647107745","list":"Company","name":"Software Developer","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647113678","list":"Company","name":"Marketing Manager","description":null},"multiple":false,"optional":false},{"list":"Company","element":{"type":"Stakeholder","_id":"1615647119104","list":"Company","name":"Designer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"16427880967023c3dcf8e-fbd4-4e72-ad17-40041f178000","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"16427833181631fe253ee-ea3d-4e4c-9788-8763416f074c"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stepDecisions":[null,null]},"Activity_1066b4b_1642788875701":{"method":{"type":"DevelopmentMethod","_id":"1641998033716dc8639b8-1a92-4a3c-a1f0-cb730d8ebd0b","name":"Wizard of Oz","description":"The goal of this building block for design thinking is to collect feedback for the prototype and aggregate that on the feedback grid.","examples":[],"author":{},"types":[{"list":"designthinking","element":{"type":"Type","_id":"164199738929966d20496-0be7-4a65-a5a8-db5d6388ba96","list":"designthinking","name":"test","description":null}}],"situationalFactors":[],"inputArtifacts":{"allowNone":false,"groups":[]},"outputArtifacts":{"allowNone":false,"groups":[{"items":[{"list":"Design Thinking","element":{"type":"Artifact","_id":"164278755279047021d54-d4b5-4125-8135-b270c9877edd","list":"Design Thinking","name":"Prototype Template","description":null,"internalArtifact":true,"metaModel":{"name":"Whiteboard","type":"WhiteboardInstance"}},"multiple":false,"optional":false}]}]},"stakeholders":{"allowNone":false,"groups":[{"items":[{"list":"Company","element":{"type":"Stakeholder","_id":"1615647102463","list":"Company","name":"Business Developer","description":""},"multiple":false,"optional":false},{"list":"Users","element":{"type":"Stakeholder","_id":"1615647158264","list":"Users","name":"Customer","description":null},"multiple":false,"optional":false}]}]},"tools":{"allowNone":false,"groups":[{"items":[{"list":"Whiteboard Tools","element":{"type":"Tool","_id":"16427882499576ea5ef2c-15b2-4bb2-92e4-fc288fe305de","list":"Whiteboard Tools","name":"Whiteboard Module"},"multiple":false,"optional":false}]}]},"executionSteps":[{"module":"Whiteboard Module","method":"createWhiteboard","predefinedInput":{"templateId":"164278332382418d37074-5cad-4440-9b44-c7de5b1a936d"},"outputMappings":[[{"artifact":0,"output":false,"step":1}]]},{"module":"Whiteboard Module","method":"editWhiteboard","outputMappings":[[{"artifact":0,"output":true,"group":0}]]}]},"inputArtifacts":{},"outputArtifacts":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stakeholders":{"group":0,"elementDecisions":[{"element":null,"elements":[null]},{"element":null,"elements":[null]}]},"tools":{"group":0,"elementDecisions":[{"element":null,"elements":[null]}]},"stepDecisions":[null,null]}}},"todoMethods":[],"runningMethods":[],"executedMethods":[],"artifacts":[],"contextChange":false,"_id":"164278924198595466eee-8173-4e50-b58c-ed6003fce427"},{"type":"CompanyModel","name":"Case Study on ToDo Applications","description":"This composed model is used for the case study which was performed within our paper at CBI20.","copyright":"","author":{},"features":{"value-propositions":{"name":"Value Propositions","type":"optional","subfeatures":{"accessibility":{"name":"Accessibility","type":"optional","subfeatures":{"anonymous-access":{"name":"Anonymous Access","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["personalized-recommendations"]}},"expertModelTrace":{}},"simplified-sign-in-servies":{"name":"Simplified Sign-In Servies","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"multi-os-access":{"name":"Multi-OS Access","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-homed"]}},"expertModelTrace":{}},"device-syncronisation":{"name":"Device Syncronisation","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customization":{"name":"Customization","type":"optional","subfeatures":{"personalized-recommendations":{"name":"Personalized Recommendations","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["anonymous-access"]}},"expertModelTrace":{}},"changeable-user-interfaces":{"name":"Changeable User Interfaces","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"design-/-usability":{"name":"Design / Usability","type":"optional","subfeatures":{"execution-step-reduction":{"name":"Execution Step Reduction","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"design-pattern-usage":{"name":"Design Pattern Usage","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"price":{"name":"Price","type":"optional","subfeatures":{"free-for-all":{"name":"Free for All","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["money-back-guarantee"]}},"expertModelTrace":{}},"low-price-strategy":{"name":"Low-Price Strategy","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"money-back-guarantee":{"name":"Money-Back Guarantee","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["free-for-all"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"network":{"name":"Network","type":"optional","subfeatures":{"quantity-network-size":{"name":"Quantity Network Size","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"quality-network-users":{"name":"Quality Network Users","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{}},"function-scope":{"name":"Function Scope","type":"optional","subfeatures":{"minimized-scope":{"name":"Minimized Scope","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"maximized-scope":{"name":"Maximized Scope","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"medium-scope":{"name":"Medium Scope","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"task-management":{"name":"Task Management","type":"optional","subfeatures":{"splitting-of-tasks":{"name":"Splitting of Tasks","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"work-together":{"name":"Work Together","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"workflow-management":{"name":"Workflow Management","type":"optional","subfeatures":{"workflow-templates":{"name":"Workflow Templates","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"workflow-tracker":{"name":"Workflow Tracker","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"intelligent-flow-planer":{"name":"Intelligent Flow Planer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"connect-to-calender":{"name":"Connect To Calender","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"productivity-analysis":{"name":"Productivity Analysis","type":"optional","subfeatures":{"light-weight-tooling":{"name":"Light-Weight Tooling","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"productivity-optimization":{"name":"Productivity Optimization","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"segment-optimized-functions":{"name":"Segment Optimized Functions","type":"optional","subfeatures":{"general":{"name":"General","type":"optional","subfeatures":{"automatic-task-breakdown":{"name":"Automatic Task Breakdown","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"task-time-prediction":{"name":"Task Time Prediction","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"connect-to-friends":{"name":"Connect To Friends","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"fitness-functions":{"name":"Fitness Functions","type":"optional","subfeatures":{"time-to-sport":{"name":"Time To Sport","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"calories-tracker":{"name":"Calories Tracker","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"work&life-balance":{"name":"Work&Life Balance","type":"optional","subfeatures":{"optimize-scheduling":{"name":"Optimize Scheduling","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"optimize-concentration":{"name":"Optimize Concentration","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"business-functions":{"name":"Business Functions","type":"optional","subfeatures":{"automatic-task-scheduling":{"name":"Automatic Task Scheduling","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"workflow-tracking":{"name":"Workflow Tracking","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-segments":{"name":"Customer Segment","type":"optional","subfeatures":{"interaction-type":{"name":"Interaction Type","type":"optional","subfeatures":{"single-user":{"name":"Single-User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["network","work-together","connect-to-friends","friend-challenges"]}},"expertModelTrace":{}},"single-sided-market":{"name":"Single-Sided-Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"multi-sided-market":{"name":"Multi-Sided-Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}},"market-size":{"name":"Market Size","type":"optional","subfeatures":{"niche-market":{"name":"Niche Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"mass-market":{"name":"Mass Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}},"target-group":{"name":"Target Group","type":"optional","subfeatures":{"fitness-improver":{"name":"Fitness Improver","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["fitness-functions"]}},"expertModelTrace":{}},"life-improver":{"name":"Life Improver","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["work&life-balance"]}},"expertModelTrace":{}},"business-improver":{"name":"Business Improver","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["business-functions"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"user-type":{"name":"User Type","type":"optional","subfeatures":{"private-user":{"name":"Private User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"professional-user":{"name":"Professional User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"homing":{"name":"Homing","type":"optional","subfeatures":{"single-homed":{"name":"Single-Homed","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["multi-os-access"]}},"expertModelTrace":{}},"multi-homed":{"name":"Multi-Homed","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-relationships":{"name":"Customer Relationships","type":"optional","subfeatures":{"customer-aquisition":{"name":"Customer Aquisition","type":"optional","subfeatures":{"advertisements":{"name":"Advertisements","type":"optional","subfeatures":{"facbook-ads":{"name":"Facbook Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"friend-invitation-system":{"name":"Friend Invitation System","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"existing-customer-base":{"name":"Existing Customer Base","type":"optional","subfeatures":{"brand-customer-base":{"name":"Brand Customer Base","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"os-customer-base":{"name":"OS Customer Base","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"online-communities-1":{"name":"Online Communities","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"facebook-groups-1":{"name":"Facebook Groups","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["marketing"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-retention":{"name":"Customer Retention","type":"optional","subfeatures":{"locked-in":{"name":"Locked-In","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"gamification":{"name":"Gamification","type":"optional","subfeatures":{"progress-discovery":{"name":"Progress Discovery","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"friend-challenges":{"name":"Friend Challenges","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-support":{"name":"Customer Support","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"free-usage":{"name":"Free Usage","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"boosting-sales":{"name":"Boosting Sales","type":"optional","subfeatures":{"forced-stops":{"name":"Forced Stops","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"channels":{"name":"Customer Channels","type":"optional","subfeatures":{"awareness":{"name":"Awareness","type":"optional","subfeatures":{"word-of-mouth":{"name":"Word-of-Mouth","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"store-placement":{"name":"Store Placement","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"facebook-groups":{"name":"Facebook Groups","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"online-communities":{"name":"Online Communities","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"social-media-ads":{"name":"Social Media Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"influencer-marketing":{"name":"Influencer Marketing","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"evaluation":{"name":"Evaluation","type":"optional","subfeatures":{"freemium":{"name":"Freemium","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"appstore-optimization":{"name":"AppStore Optimization","type":"optional","subfeatures":{"review-reactions":{"name":"Review Reactions","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"company-branding":{"name":"Company Branding","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"purchase":{"name":"Purchase","type":"mandatory","subfeatures":{"in-store-purchase":{"name":"In-Store Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"out-of-store-purchase":{"name":"Out-of-Store Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["payment-provider"]}},"expertModelTrace":{}},"no-purchase":{"name":"No Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"delivery":{"name":"Delivery","type":"mandatory","subfeatures":{"in-store-delivery":{"name":"In-Store Delivery","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"out-of-store-delivery":{"name":"Out-of-Store Delivery","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"after-sales":{"name":"After Sales","type":"optional","subfeatures":{"app-updates":{"name":"App Updates","type":"optional","subfeatures":{"update-with-os":{"name":"Update with OS","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-updates":{"name":"Content Updates","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"included-in-os":{"name":"Included in OS","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-partners":{"name":"Key Partners","type":"optional","subfeatures":{"advertisement-partner":{"name":"Advertisement Partner","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["advertisement"]}},"expertModelTrace":{}},"app-developer":{"name":"App Developer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-provider":{"name":"Content Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"instrastructure-provider":{"name":"Instrastructure Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"manufacturing-provider":{"name":"Manufacturing Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"payment-provider":{"name":"Payment Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"store-provider":{"name":"Store Provider","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"third-party-developer":{"name":"Third-Party Developer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["developer-api"]}},"expertModelTrace":{}},"influencer":{"name":"Influencer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-activities":{"name":"Key Activities","type":"optional","subfeatures":{"develop-hard--and-software":{"name":"Develop Hard- and Software","type":"mandatory","subfeatures":{"develop-software":{"name":"Develop Software","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"develop-hardware":{"name":"Develop Hardware","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["development"]}},"expertModelTrace":{}},"negotiate-licsenses":{"name":"Negotiate Licenses","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["licenses"]}},"expertModelTrace":{}},"manage-infrastructure":{"name":"Manage Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["infrastructure"]}},"expertModelTrace":{}},"produce-content":{"name":"Produce Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["production-"]}},"expertModelTrace":{}},"plan-marketing-campaigns":{"name":"Plan Marketing Campaigns","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["marketing"]}},"expertModelTrace":{}},"support-customer":{"name":"Support Customer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["support"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-resources":{"name":"Key Resources","type":"optional","subfeatures":{"algorithms":{"name":"Algorithms","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"brands":{"name":"Brands","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content":{"name":"Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"developer-licsense":{"name":"Developer License","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"patents":{"name":"Patents","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"infrastructure-1":{"name":"Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["infrastructure"]}},"expertModelTrace":{}},"developer-api":{"name":"Developer API","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"revenue-streams":{"name":"Revenue Streams","type":"optional","subfeatures":{"advertisement":{"name":"Advertisement","type":"optional","subfeatures":{"inn-app-ads":{"name":"In-App Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"personalized-ads":{"name":"Personalized Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"brokerage":{"name":"Brokerage","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"donation":{"name":"Donation","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"sale":{"name":"Sale","type":"optional","subfeatures":{"app-purchase":{"name":"App Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"in-app-purchase":{"name":"In-App Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"subscription":{"name":"Subscription","type":"optional","subfeatures":{"normal-account":{"name":"Normal Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"professional-account":{"name":"Professional Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"business-account":{"name":"Business Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"cross-financed":{"name":"Cross-Financed","type":"optional","subfeatures":{"hardware":{"name":"Hardware","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"software":{"name":"Software","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"or","relationships":{"relationships":{}},"expertModelTrace":{}},"cost-structure":{"name":"Cost Structure","type":"optional","subfeatures":{"development":{"name":"Development","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"infrastructure":{"name":"Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"licenses":{"name":"Licenses","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"marketing":{"name":"Marketing","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"production-":{"name":"Production ","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"support":{"name":"Support","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"instances":[],"nextInstanceId":11,"$definition":{"type":"CanvasDefinition","_id":"1625144329606","_rev":"4-4b207d2084ec0ea1ed60d696fa42b22a","name":"Business Model Canvas","rows":[[{"isSpacer":false,"id":"key-partners","name":"Key Partners","rowspan":2,"colspan":2},{"isSpacer":false,"id":"key-activities","name":"Key Activities","rowspan":1,"colspan":2},{"isSpacer":false,"id":"value-propositions","name":"Value Propositions","rowspan":2,"colspan":2},{"isSpacer":false,"id":"customer-relationships","name":"Customer Relationships","rowspan":1,"colspan":2},{"isSpacer":false,"id":"customer-segments","name":"Customer Segments","rowspan":2,"colspan":2}],[{"isSpacer":false,"id":"key-resources","name":"Key Resources","rowspan":1,"colspan":2},{"isSpacer":false,"id":"channels","name":"Customer Channels","rowspan":1,"colspan":2}],[{"isSpacer":false,"id":"cost-structure","name":"Cost Structure","rowspan":1,"colspan":5},{"isSpacer":false,"id":"revenue-streams","name":"Revenue Streams","rowspan":1,"colspan":5}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"expertModelTraces":{},"createdByMethod":false,"_id":"1c865a69-af9e-45ba-bc3d-1c555e43f0f0"},{"type":"CompanyModel","name":"Mobile Todo-Apps","description":"An example of a company business knowledge model that combines expert knowledge","copyright":"MIT License","author":{"name":"","company":"","email":"","website":""},"features":{"value-propositions":{"name":"Value Propositions","type":"optional","subfeatures":{"accessibility":{"name":"Accessibility","description":"access strategy of the app","type":"optional","subfeatures":{"anonymous-access":{"name":"Anonymous Access","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["personalized-recommendations"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"anonymous-access","66228982-71c3-4fb6-872b-ed96aaf84891":"anonymous-access"}},"simplified-sign-in-servies":{"name":"Simplified Sign-In Servies","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"simplified-sign-in-servies","66228982-71c3-4fb6-872b-ed96aaf84891":"simplified-sign-in-servies"}},"different-devices":{"name":"Different Devices","description":null,"type":"optional","subfeatures":{"multi-os-access":{"name":"Multi-OS Access","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-homed"]}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"multi-os-access"}},"device-syncronisation":{"name":"Device Syncronisation","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"device-syncronisation"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"different-devices"}},"paid-account":{"name":"Paid Account","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"paid-account"}},"free-account":{"name":"Free Account","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"free-account"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"accessibility","66228982-71c3-4fb6-872b-ed96aaf84891":"accessibility"}},"customization":{"name":"Customization","description":null,"type":"optional","subfeatures":{"personalized-recommendations":{"name":"Personalized Recommendations","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["anonymous-access"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"personalized-recommendations","66228982-71c3-4fb6-872b-ed96aaf84891":"personalized-recommendations"}},"changeable-user-interfaces":{"name":"Changeable User Interfaces","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"changeable-user-interfaces","66228982-71c3-4fb6-872b-ed96aaf84891":"changeable-user-interfaces"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customization","66228982-71c3-4fb6-872b-ed96aaf84891":"customization"}},"design-/-usability":{"name":"Design / Usability","description":null,"type":"optional","subfeatures":{"execution-step-reduction":{"name":"Execution Step Reduction","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"execution-step-reduction","66228982-71c3-4fb6-872b-ed96aaf84891":"execution-step-reduction"}},"design-pattern-usage":{"name":"Design Pattern Usage","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"design-pattern-usage","66228982-71c3-4fb6-872b-ed96aaf84891":"design-pattern-usage"}},"easy-usability":{"name":"Easy Usability","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"easy-usability"}},"responsible-design":{"name":"Responsible Design","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"responsible-design"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"design-/-usability","66228982-71c3-4fb6-872b-ed96aaf84891":"design-/-usability"}},"price":{"name":"Price","description":null,"type":"optional","subfeatures":{"low-price-strategy":{"name":"Low-Price Strategy","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"low-price-strategy","66228982-71c3-4fb6-872b-ed96aaf84891":"low-price-strategy"}},"money-back-guarantee":{"name":"Money-Back Guarantee","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["free-for-all"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"money-back-guarantee","66228982-71c3-4fb6-872b-ed96aaf84891":"money-back-guarantee"}},"cancel-anytime":{"name":"Cancel Anytime","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["membership"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"cancel-anytime"}},"freemium":{"name":"Freemium","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"freemium-1"}},"equal-price-strategy":{"name":"Equal-Price-Strategy","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"equal-price-strategy"}},"free-for-all":{"name":"Free For All","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["in-app-ads"],"excludes":["save-privacy","money-back-guarantee"]}},"expertModelTrace":{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"free-for-all","66228982-71c3-4fb6-872b-ed96aaf84891":"free-for-all"}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"price","66228982-71c3-4fb6-872b-ed96aaf84891":"price"}},"network":{"name":"Network","description":null,"type":"optional","subfeatures":{"quantity-network-size":{"name":"Quantity Network Size","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"quantity-network-size","66228982-71c3-4fb6-872b-ed96aaf84891":"quantity-network-size"}},"quality-network-users":{"name":"Quality Network Users","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"quality-network-users","66228982-71c3-4fb6-872b-ed96aaf84891":"quality-network-users"}},"share-content":{"name":"Share Content","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"share-content"}},"connect-with-other-users":{"name":"Connect with other Users","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"connect-with-other-users"}},"share-playlists":{"name":"Share Playlists","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"share-playlists"}},"collaborate-with-others":{"name":"Collaborate With Others","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["subscription"]}},"expertModelTrace":{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"collaborative-with-others"}}},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"network","66228982-71c3-4fb6-872b-ed96aaf84891":"network"}},"save-privacy":{"name":"Save Privacy","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["in-app-ads","free-for-all"]}},"expertModelTrace":{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"save-privacy"}},"function-scope":{"name":"Function Scope","description":null,"type":"optional","subfeatures":{"minimized-scope":{"name":"Minimized Scope","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"minimized-scope"}},"maximized-scope":{"name":"Maximized Scope","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"maximized-scope"}},"medium-scope":{"name":"Medium Scope","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"medium-scope"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"function-scope"}},"task-management":{"name":"Task Management","description":null,"type":"optional","subfeatures":{"splitting-of-tasks":{"name":"Splitting of Tasks","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"splitting-of-tasks"}},"work-together":{"name":"Work Together","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"work-together"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"task-management"}},"workflow-management":{"name":"Workflow Management","description":null,"type":"optional","subfeatures":{"workflow-templates":{"name":"Workflow Templates","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"workflow-templates"}},"workflow-tracker":{"name":"Workflow Tracker","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"workflow-tracker"}},"intelligent-flow-planer":{"name":"Intelligent Flow Planer","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"intelligent-flow-planer"}},"connect-to-calender":{"name":"Connect To Calender","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"connect-to-calender"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"workflow-management"}},"productivity-analysis":{"name":"Productivity Analysis","description":null,"type":"optional","subfeatures":{"light-weight-tooling":{"name":"Light-Weight Tooling","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"light-weight-tooling"}},"productivity-optimization":{"name":"Productivity Optimization","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"productivity-optimization"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"productivity-analysis"}},"segment-optimized-functions":{"name":"Segment Optimized Functions","description":null,"type":"optional","subfeatures":{"general":{"name":"General","description":null,"type":"optional","subfeatures":{"automatic-task-breakdown":{"name":"Automatic Task Breakdown","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"automatic-task-breakdown"}},"task-time-prediction":{"name":"Task Time Prediction","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"task-time-prediction"}},"connect-to-friends":{"name":"Connect To Friends","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"connect-to-friends"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"general"}},"fitness-functions":{"name":"Fitness Functions","description":null,"type":"optional","subfeatures":{"time-to-sport":{"name":"Time To Sport","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"time-to-sport"}},"calories-tracker":{"name":"Calories Tracker","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"calories-tracker"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"fitness-functions"}},"work&life-balance":{"name":"Work&Life Balance","description":null,"type":"optional","subfeatures":{"optimize-scheduling":{"name":"Optimize Scheduling","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"optimize-scheduling"}},"optimize-concentration":{"name":"Optimize Concentration","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"optimize-concentration"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"work&life-balance"}},"business-functions":{"name":"Business Functions","description":null,"type":"optional","subfeatures":{"automatic-task-scheduling":{"name":"Automatic Task Scheduling","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"automatic-task-scheduling"}},"workflow-tracking":{"name":"Workflow Tracking","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"workflow-tracking"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"business-functions"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"segment-optimized-functions"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"value-propositions","651e4909-ce3c-4853-b861-b0c0d58c2d43":"value-propositions","66228982-71c3-4fb6-872b-ed96aaf84891":"value-propositions"}},"customer-segments":{"name":"Customer Segment","type":"optional","subfeatures":{"interaction-type":{"name":"Interaction Type","description":"interaction of a customer with other customers","type":"optional","subfeatures":{"single-user":{"name":"Single-User","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["network","work-together","connect-to-friends","friend-challenges"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"single-user","66228982-71c3-4fb6-872b-ed96aaf84891":"single-user"}},"single-sided-market":{"name":"Single-Sided-Market","description":"interacting with the same type of customer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"single-sided-market","66228982-71c3-4fb6-872b-ed96aaf84891":"single-sided-market"}},"multi-sided-market":{"name":"Multi-Sided-Market","description":"interacting with customers of another type","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"multi-sided-market","66228982-71c3-4fb6-872b-ed96aaf84891":"multi-sided-market"}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"interaction-type","66228982-71c3-4fb6-872b-ed96aaf84891":"interaction-type"}},"market-size":{"name":"Market Size","description":null,"type":"optional","subfeatures":{"niche-market":{"name":"Niche Market","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"niche-market","66228982-71c3-4fb6-872b-ed96aaf84891":"niche-market"}},"mass-market":{"name":"Mass Market","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"mass-market","66228982-71c3-4fb6-872b-ed96aaf84891":"mass-market"}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"market-size","66228982-71c3-4fb6-872b-ed96aaf84891":"market-size"}},"target-group":{"name":"Target Group","description":null,"type":"optional","subfeatures":{"gender":{"name":"Gender","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"gender"}},"interests":{"name":"Interests","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"interests"}},"relationship":{"name":"Relationship","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"relationship"}},"content-consumer":{"name":"Content-Consumer","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-consumer"}},"content-creator":{"name":"Content-Creator","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-creator"}},"fitness-improver":{"name":"Fitness Improver","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["fitness-functions"]}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"fitness-improver"}},"life-improver":{"name":"Life Improver","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["work&life-balance"]}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"life-improver"}},"business-improver":{"name":"Business Improver","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["business-functions"]}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"business-improver"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"target-group","66228982-71c3-4fb6-872b-ed96aaf84891":"target-group"}},"user-type":{"name":"User Type","description":null,"type":"optional","subfeatures":{"private-user":{"name":"Private User","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"private-user","651e4909-ce3c-4853-b861-b0c0d58c2d43":"private-user","66228982-71c3-4fb6-872b-ed96aaf84891":"private-user"}},"professional-user":{"name":"Professional User","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["save-privacy"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"professional-user","651e4909-ce3c-4853-b861-b0c0d58c2d43":"professional-user","66228982-71c3-4fb6-872b-ed96aaf84891":"professional-user"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"user-type","66228982-71c3-4fb6-872b-ed96aaf84891":"user-type"}},"homing":{"name":"Homing","description":null,"type":"optional","subfeatures":{"single-homed":{"name":"Single-Homed","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["multi-os-access"]}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"single-homed"}},"multi-homed":{"name":"Multi-Homed","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"multi-homed"}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"homing"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-segments","651e4909-ce3c-4853-b861-b0c0d58c2d43":"customer-segments","66228982-71c3-4fb6-872b-ed96aaf84891":"customer-segments"}},"customer-relationships":{"name":"Customer Relationships","type":"optional","subfeatures":{"customer-aquisition":{"name":"Customer Aquisition","description":"establishment of a relationship","type":"optional","subfeatures":{"advertisements":{"name":"Advertisements","description":null,"type":"optional","subfeatures":{"facbook-ads":{"name":"Facbook Ads","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"facbook-ads"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisements","66228982-71c3-4fb6-872b-ed96aaf84891":"advertisements"}},"friend-invitation-system":{"name":"Friend Invitation System","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"friend-invitation-system","66228982-71c3-4fb6-872b-ed96aaf84891":"friend-invitation-system"}},"single-sign-in":{"name":"Single-Sign-In","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"single-sign-in"}},"existing-customer-base":{"name":"Existing Customer Base","description":null,"type":"optional","subfeatures":{"brand-customer-base":{"name":"Brand Customer Base","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"brand-customer-base"}},"os-customer-base":{"name":"OS Customer Base","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"os-customer-base"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"existing-customer-base"}},"online-communities":{"name":"Online Communities","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"online-communities-1"}},"facebook-groups":{"name":"Facebook Groups","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["marketing"]}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"facebook-groups-1"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-aquisition","66228982-71c3-4fb6-872b-ed96aaf84891":"customer-aquisition"}},"customer-retention":{"name":"Customer Retention","description":"maintain the relationship","type":"optional","subfeatures":{"locked-in":{"name":"Locked-In","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"locked-in","66228982-71c3-4fb6-872b-ed96aaf84891":"locked-in"}},"gamification":{"name":"Gamification","description":null,"type":"optional","subfeatures":{"progress-discovery":{"name":"Progress Discovery","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"progress-discovery"}},"friend-challenges":{"name":"Friend Challenges","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"friend-challenges"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"gamification","66228982-71c3-4fb6-872b-ed96aaf84891":"gamification"}},"customer-support":{"name":"Customer Support","description":null,"type":"optional","subfeatures":{"phone-support":{"name":"Phone Support","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["professional-user"]}},"expertModelTrace":{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"phone-support"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-support","66228982-71c3-4fb6-872b-ed96aaf84891":"customer-support"}},"content-updates":{"name":"Content-Updates","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-updates-1"}},"self-service":{"name":"Self-Service","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"hurts":["professional-user"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"self-service","651e4909-ce3c-4853-b861-b0c0d58c2d43":"self-service"}},"content-quantity":{"name":"Content-Quantity","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-quantity"}},"free-usage":{"name":"Free Usage","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"free-usage"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-retention","66228982-71c3-4fb6-872b-ed96aaf84891":"customer-retention"}},"boosting-sales":{"name":"Boosting Sales","description":"increase the revenue from existing customers","type":"optional","subfeatures":{"forced-stops":{"name":"Forced Stops","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"forced-stops","66228982-71c3-4fb6-872b-ed96aaf84891":"forced-stops"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"boosting-sales","66228982-71c3-4fb6-872b-ed96aaf84891":"boosting-sales"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-relationships","651e4909-ce3c-4853-b861-b0c0d58c2d43":"customer-relationships","66228982-71c3-4fb6-872b-ed96aaf84891":"customer-relationships"}},"channels":{"name":"Customer Channels","type":"optional","subfeatures":{"awareness":{"name":"Awareness","description":"attract attention","type":"optional","subfeatures":{"word-of-mouth":{"name":"Word-of-Mouth","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"word-of-mouth","66228982-71c3-4fb6-872b-ed96aaf84891":"word-of-mouth"}},"store-placement":{"name":"Store Placement","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"store-placement","66228982-71c3-4fb6-872b-ed96aaf84891":"store-placement"}},"advertisement-1":{"name":"Advertisement","description":null,"type":"optional","subfeatures":{"facebook-ads":{"name":"Facebook Ads","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["private-user"]}},"expertModelTrace":{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"facebook-ads"}},"linkedin-ads":{"name":"LinkedIn Ads","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["professional-user"]}},"expertModelTrace":{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"linkedin-ads"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisement-1"}},"store-position":{"name":"Store Position","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"store-position"}},"3rd-party-integration":{"name":"3rd-Party-Integration","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"3rd-party-integration"}},"distributable-codes":{"name":"Distributable Codes","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"distributable-codes"}},"facebook-groups-1":{"name":"Facebook Groups","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"facebook-groups"}},"online-communities-1":{"name":"Online Communities","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"online-communities"}},"social-media-ads":{"name":"Social Media Ads","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"social-media-ads"}},"influencer-marketing":{"name":"Influencer Marketing","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"influencer-marketing"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"awareness","66228982-71c3-4fb6-872b-ed96aaf84891":"awareness"}},"evaluation":{"name":"Evaluation","description":"customer should be able to evaluate benefits of the application","type":"optional","subfeatures":{"freemium-1":{"name":"Freemium","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"freemium","66228982-71c3-4fb6-872b-ed96aaf84891":"freemium"}},"appstore-optimization":{"name":"AppStore Optimization","description":null,"type":"optional","subfeatures":{"review-reactions":{"name":"Review Reactions","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"review-reactions","66228982-71c3-4fb6-872b-ed96aaf84891":"review-reactions"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"appstore-optimization","66228982-71c3-4fb6-872b-ed96aaf84891":"appstore-optimization"}},"rating":{"name":"Rating","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"rating"}},"reviews":{"name":"Reviews","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"reviews"}},"free-month":{"name":"Free Month","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"free-month"}},"company-branding":{"name":"Company Branding","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"company-branding"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"evaluation","66228982-71c3-4fb6-872b-ed96aaf84891":"evaluation"}},"purchase":{"name":"Purchase","description":null,"type":"mandatory","subfeatures":{"in-store-purchase":{"name":"In-Store Purchase","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"in-store-purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"in-store-purchase"}},"out-of-store-purchase":{"name":"Out-of-Store Purchase","description":null,"type":"optional","subfeatures":{"homepage":{"name":"Homepage","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"homepage"}},"app-1":{"name":"App","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-1"}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["payment-provider"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"out-of-store-purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"out-of-store-purchase"}},"no-purchase":{"name":"No Purchase","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"no-purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"no-purchase"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"purchase"}},"delivery":{"name":"Delivery","description":null,"type":"mandatory","subfeatures":{"in-store-delivery":{"name":"In-Store Delivery","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"in-store-delivery","66228982-71c3-4fb6-872b-ed96aaf84891":"in-store-delivery"}},"out-of-store-delivery":{"name":"Out-of-Store Delivery","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"out-of-store-delivery","66228982-71c3-4fb6-872b-ed96aaf84891":"out-of-store-delivery"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"delivery","66228982-71c3-4fb6-872b-ed96aaf84891":"delivery"}},"after-sales":{"name":"After Sales","description":"customer receives value after the purchase process","type":"optional","subfeatures":{"app-updates":{"name":"App Updates","description":null,"type":"optional","subfeatures":{"update-with-os":{"name":"Update with OS","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"update-with-os"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-updates","66228982-71c3-4fb6-872b-ed96aaf84891":"app-updates"}},"content-updates-1":{"name":"Content Updates","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-updates","66228982-71c3-4fb6-872b-ed96aaf84891":"content-updates"}},"push-notifications":{"name":"Push-Notifications","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"push-notifications"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"after-sales","66228982-71c3-4fb6-872b-ed96aaf84891":"after-sales"}},"included-in-os":{"name":"Included in OS","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"included-in-os"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"channels","651e4909-ce3c-4853-b861-b0c0d58c2d43":"channels","66228982-71c3-4fb6-872b-ed96aaf84891":"channels"}},"key-partners":{"name":"Key Partners","type":"optional","subfeatures":{"advertisement-partner":{"name":"Advertisement Partner","description":null,"type":"optional","subfeatures":{"social-networks":{"name":"Social Networks","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"social-networks"}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["advertisement-2"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisement-partner","66228982-71c3-4fb6-872b-ed96aaf84891":"advertisement-partner"}},"app-developer":{"name":"App Developer","description":null,"type":"optional","subfeatures":{"no-sdk":{"name":"No SDK","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"no-sdk"}},"sdk-integration":{"name":"SDK Integration","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"sdk-integration"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-developer","66228982-71c3-4fb6-872b-ed96aaf84891":"app-developer"}},"content-partner":{"name":"Content Partner","description":null,"type":"optional","subfeatures":{"movie-studios":{"name":"Movie Studios","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"movie-studios"}},"production-partner":{"name":"Production Partner","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"production-partner"}},"content-creators":{"name":"Content-Creators","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-creators"}},"record-labels":{"name":"Record Labels","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"record-labels"}},"independent-musicians":{"name":"Independent Musicians","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"independent-musicians"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-provider","66228982-71c3-4fb6-872b-ed96aaf84891":"content-provider"}},"instrastructure-provider":{"name":"Instrastructure Provider","description":null,"type":"optional","subfeatures":{"amazon-aws":{"name":"Amazon AWS","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"amazon-aws"}},"google-cloud-platform":{"name":"Google Cloud Platform","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"google-cloud-platform"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"instrastructure-provider","651e4909-ce3c-4853-b861-b0c0d58c2d43":"hosting-provider","66228982-71c3-4fb6-872b-ed96aaf84891":"instrastructure-provider"}},"manufacturing-provider":{"name":"Manufacturing Provider","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"manufacturing-provider","66228982-71c3-4fb6-872b-ed96aaf84891":"manufacturing-provider"}},"payment-provider":{"name":"Payment Provider","description":null,"type":"optional","subfeatures":{"own-payment-provider-additional-to-store-provider":{"name":"Own Payment Provider additional to Store Provider","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"own-payment-provider-additional-to-store-provider"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"payment-provider","66228982-71c3-4fb6-872b-ed96aaf84891":"payment-provider"}},"store-provider":{"name":"Store Provider","description":null,"type":"mandatory","subfeatures":{"partner-for-developer-license-and-store-publishing":{"name":"Partner for Developer License and Store Publishing","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"partner-for-developer-license-and-store-publishing"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"store-provider","66228982-71c3-4fb6-872b-ed96aaf84891":"store-provider"}},"third-party-developer":{"name":"Third-Party Developer","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["developer-api"]}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"third-party-developer"}},"influencer-1":{"name":"Influencer","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"influencer"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"key-partners","651e4909-ce3c-4853-b861-b0c0d58c2d43":"key-partners","66228982-71c3-4fb6-872b-ed96aaf84891":"key-partners"}},"key-activities":{"name":"Key Activities","type":"optional","subfeatures":{"develop-hard--and-software":{"name":"Develop Hard- and Software","description":null,"type":"mandatory","subfeatures":{"develop-software":{"name":"Develop Software","description":null,"type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"develop-software"}},"develop-hardware":{"name":"Develop Hardware","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"develop-hardware"}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["development"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"develop-hard--and-software","651e4909-ce3c-4853-b861-b0c0d58c2d43":"develop-app","66228982-71c3-4fb6-872b-ed96aaf84891":"develop-hard--and-software"}},"negotiate-licenses":{"name":"Negotiate Licenses","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["licenses"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"negotiate-licsenses","66228982-71c3-4fb6-872b-ed96aaf84891":"negotiate-licsenses"}},"manage-infrastructure":{"name":"Manage Infrastructure","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["infrastructure-1"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"manage-infrastructure","66228982-71c3-4fb6-872b-ed96aaf84891":"manage-infrastructure"}},"produce-content":{"name":"Produce Content","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["production--1"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"produce-content","66228982-71c3-4fb6-872b-ed96aaf84891":"produce-content"}},"plan-marketing-campaigns":{"name":"Plan Marketing Campaigns","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["marketing"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"plan-marketing-campaigns","651e4909-ce3c-4853-b861-b0c0d58c2d43":"plan-marketing","66228982-71c3-4fb6-872b-ed96aaf84891":"plan-marketing-campaigns"}},"support-customer":{"name":"Support Customer","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["support-1"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"support-customer","66228982-71c3-4fb6-872b-ed96aaf84891":"support-customer"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"key-activities","651e4909-ce3c-4853-b861-b0c0d58c2d43":"key-activities","66228982-71c3-4fb6-872b-ed96aaf84891":"key-activities"}},"key-resources":{"name":"Key Resources","type":"optional","subfeatures":{"algorithms":{"name":"Algorithms","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"algorithms","651e4909-ce3c-4853-b861-b0c0d58c2d43":"algorithms","66228982-71c3-4fb6-872b-ed96aaf84891":"algorithms"}},"brands":{"name":"Brands","description":null,"type":"optional","subfeatures":{"youtube-originals":{"name":"YouTube Originals","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"youtube-originals"}},"netflix-originals":{"name":"Netflix Originals","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"netflix-originals-1"}},"podcasts":{"name":"Podcasts","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"podcasts"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"brands","66228982-71c3-4fb6-872b-ed96aaf84891":"brands"}},"content-1":{"name":"Content","description":null,"type":"optional","subfeatures":{"netflix-originals-1":{"name":"Netflix Originals","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"netflix-originals"}},"licensed-content":{"name":"Licensed Content","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"licensed-content"}},"youtube-originals-1":{"name":"YouTube Originals","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"youtube-originals-1"}},"content-from-content-creators":{"name":"Content from Content-Creators","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-from-content-creators"}},"exclusive-rights-for-some-podcast":{"name":"Exclusive Rights for some Podcast","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"exclusive-rights-for-some-podcast"}},"music-licenses":{"name":"Music Licenses","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"music-licenses"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content","66228982-71c3-4fb6-872b-ed96aaf84891":"content"}},"developer-license":{"name":"Developer License","description":null,"type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"developer-licsense","66228982-71c3-4fb6-872b-ed96aaf84891":"developer-licsense"}},"patents":{"name":"Patents","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"patents","66228982-71c3-4fb6-872b-ed96aaf84891":"patents"}},"infrastructure":{"name":"Infrastructure","description":null,"type":"optional","subfeatures":{"external-infrastructure":{"name":"External Infrastructure","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"external-infrastructure"}},"internal-inrastructure":{"name":"Internal Inrastructure","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"internal-inrastructure"}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["infrastructure-1"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"infrastructure-1","651e4909-ce3c-4853-b861-b0c0d58c2d43":"infrastructure","66228982-71c3-4fb6-872b-ed96aaf84891":"infrastructure-1"}},"developer-api":{"name":"Developer API","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"developer-api"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"key-resources","651e4909-ce3c-4853-b861-b0c0d58c2d43":"key-resources","66228982-71c3-4fb6-872b-ed96aaf84891":"key-resources"}},"revenue-streams":{"name":"Revenue Streams","type":"optional","subfeatures":{"advertisement-2":{"name":"Advertisement","description":null,"type":"optional","subfeatures":{"in-app-ads":{"name":"In-App Ads","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["save-privacy"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"inn-app-ads","651e4909-ce3c-4853-b861-b0c0d58c2d43":"in-app-advertisement","66228982-71c3-4fb6-872b-ed96aaf84891":"inn-app-ads"}},"personalized-ads":{"name":"Personalized Ads","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["membership"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"personalized-ads","66228982-71c3-4fb6-872b-ed96aaf84891":"personalized-ads"}},"without-account":{"name":"without Account","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"without-account"}},"with-free-account":{"name":"with Free Account","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"with-free-account"}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["advertisement-partner"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisement","66228982-71c3-4fb6-872b-ed96aaf84891":"advertisement"}},"brokerage":{"name":"Brokerage","description":"between different customers","type":"optional","subfeatures":{"money-for-content-creators":{"name":"Money for Content Creators","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"money-for-content-creators"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"brokerage","66228982-71c3-4fb6-872b-ed96aaf84891":"brokerage"}},"donation":{"name":"Donation","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"donation","66228982-71c3-4fb6-872b-ed96aaf84891":"donation"}},"sale":{"name":"Sale","description":null,"type":"optional","subfeatures":{"app-purchase":{"name":"App Purchase","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["subscription"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-purchase","651e4909-ce3c-4853-b861-b0c0d58c2d43":"license-purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"app-purchase"}},"in-app-purchase":{"name":"In-App Purchase","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"in-app-purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"in-app-purchase"}},"sell-movies":{"name":"Sell Movies","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"sell-movies"}},"lend-movies":{"name":"Lend Movies","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"lend-movies"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"sale","66228982-71c3-4fb6-872b-ed96aaf84891":"sale"}},"subscription":{"name":"Subscription","description":null,"type":"optional","subfeatures":{"membership":{"name":"Membership","description":null,"type":"optional","subfeatures":{"normal-account":{"name":"Normal Account","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"normal-account"}},"professional-account":{"name":"Professional Account","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"professional-account"}},"business-account":{"name":"Business Account","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"business-account"}}},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["personalized-ads"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"membership"}},"premium-content":{"name":"Premium Content","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"premium-content"}},"content-2":{"name":"Content","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-1"}},"premium-features":{"name":"Premium Features","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"premium-features"}}},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["app-purchase"]}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"subscription","651e4909-ce3c-4853-b861-b0c0d58c2d43":"license-subscription","66228982-71c3-4fb6-872b-ed96aaf84891":"subscription"}},"cross-financed":{"name":"Cross-Financed","description":null,"type":"optional","subfeatures":{"hardware":{"name":"Hardware","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"hardware"}},"software":{"name":"Software","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"software"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"66228982-71c3-4fb6-872b-ed96aaf84891":"cross-financed"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"revenue-streams","651e4909-ce3c-4853-b861-b0c0d58c2d43":"revenue-streams","66228982-71c3-4fb6-872b-ed96aaf84891":"revenue-streams"}},"cost-structure":{"name":"Cost Structure","type":"optional","subfeatures":{"development":{"name":"Development","description":null,"type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"development","651e4909-ce3c-4853-b861-b0c0d58c2d43":"development-costs","66228982-71c3-4fb6-872b-ed96aaf84891":"development"}},"infrastructure-1":{"name":"Infrastructure","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"infrastructure","66228982-71c3-4fb6-872b-ed96aaf84891":"infrastructure"}},"licenses":{"name":"Licenses","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"licenses","66228982-71c3-4fb6-872b-ed96aaf84891":"licenses"}},"marketing":{"name":"Marketing","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"marketing","651e4909-ce3c-4853-b861-b0c0d58c2d43":"marketing-costs","66228982-71c3-4fb6-872b-ed96aaf84891":"marketing"}},"production--1":{"name":"Production ","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"production-","66228982-71c3-4fb6-872b-ed96aaf84891":"production-"}},"support-1":{"name":"Support","description":null,"type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"support","651e4909-ce3c-4853-b861-b0c0d58c2d43":"support-costs","66228982-71c3-4fb6-872b-ed96aaf84891":"support"}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"cost-structure","651e4909-ce3c-4853-b861-b0c0d58c2d43":"cost-structure","66228982-71c3-4fb6-872b-ed96aaf84891":"cost-structure"}}},"instances":[],"nextInstanceId":2,"$definition":{"type":"CanvasDefinition","_id":"1625144329606","_rev":"4-4b207d2084ec0ea1ed60d696fa42b22a","name":"Business Model Canvas","rows":[[{"isSpacer":false,"id":"key-partners","name":"Key Partners","rowspan":2,"colspan":2},{"isSpacer":false,"id":"key-activities","name":"Key Activities","rowspan":1,"colspan":2},{"isSpacer":false,"id":"value-propositions","name":"Value Propositions","rowspan":2,"colspan":2},{"isSpacer":false,"id":"customer-relationships","name":"Customer Relationships","rowspan":1,"colspan":2},{"isSpacer":false,"id":"customer-segments","name":"Customer Segments","rowspan":2,"colspan":2}],[{"isSpacer":false,"id":"key-resources","name":"Key Resources","rowspan":1,"colspan":2},{"isSpacer":false,"id":"channels","name":"Customer Channels","rowspan":1,"colspan":2}],[{"isSpacer":false,"id":"cost-structure","name":"Cost Structure","rowspan":1,"colspan":5},{"isSpacer":false,"id":"revenue-streams","name":"Revenue Streams","rowspan":1,"colspan":5}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"expertModelTraces":{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":{"expertFeatureIdMap":{"value-propositions":"value-propositions","customer-segments":"customer-segments","customer-relationships":"customer-relationships","channels":"channels","key-partners":"key-partners","key-activities":"key-activities","key-resources":"key-resources","revenue-streams":"revenue-streams","cost-structure":"cost-structure","accessibility":"accessibility","anonymous-access":"anonymous-access","simplified-sign-in-servies":"simplified-sign-in-servies","different-devices":"different-devices","paid-account":"paid-account","free-account":"free-account","customization":"customization","personalized-recommendations":"personalized-recommendations","changeable-user-interfaces":"changeable-user-interfaces","design-/-usability":"design-/-usability","execution-step-reduction":"execution-step-reduction","design-pattern-usage":"design-pattern-usage","easy-usability":"easy-usability","responsible-design":"responsible-design","price":"price","low-price-strategy":"low-price-strategy","money-back-guarantee":"money-back-guarantee","cancel-anytime":"cancel-anytime","freemium-1":"freemium","equal-price-strategy":"equal-price-strategy","network":"network","quantity-network-size":"quantity-network-size","quality-network-users":"quality-network-users","share-content":"share-content","connect-with-other-users":"connect-with-other-users","share-playlists":"share-playlists","interaction-type":"interaction-type","single-user":"single-user","single-sided-market":"single-sided-market","multi-sided-market":"multi-sided-market","market-size":"market-size","niche-market":"niche-market","mass-market":"mass-market","target-group":"target-group","gender":"gender","interests":"interests","relationship":"relationship","content-consumer":"content-consumer","content-creator":"content-creator","user-type":"user-type","private-user":"private-user","professional-user":"professional-user","customer-aquisition":"customer-aquisition","advertisements":"advertisements","friend-invitation-system":"friend-invitation-system","single-sign-in":"single-sign-in","customer-retention":"customer-retention","locked-in":"locked-in","gamification":"gamification","customer-support":"customer-support","content-updates-1":"content-updates","self-service":"self-service","content-quantity":"content-quantity","boosting-sales":"boosting-sales","forced-stops":"forced-stops","awareness":"awareness","word-of-mouth":"word-of-mouth","store-placement":"store-placement","advertisement-1":"advertisement-1","store-position":"store-position","3rd-party-integration":"3rd-party-integration","distributable-codes":"distributable-codes","evaluation":"evaluation","freemium":"freemium-1","appstore-optimization":"appstore-optimization","review-reactions":"review-reactions","rating":"rating","reviews":"reviews","free-month":"free-month","purchase":"purchase","in-store-purchase":"in-store-purchase","out-of-store-purchase":"out-of-store-purchase","homepage":"homepage","app-1":"app-1","no-purchase":"no-purchase","delivery":"delivery","in-store-delivery":"in-store-delivery","out-of-store-delivery":"out-of-store-delivery","after-sales":"after-sales","app-updates":"app-updates","content-updates":"content-updates-1","push-notifications":"push-notifications","advertisement-partner":"advertisement-partner","app-developer":"app-developer","no-sdk":"no-sdk","sdk-integration":"sdk-integration","content-provider":"content-partner","movie-studios":"movie-studios","production-partner":"production-partner","content-creators":"content-creators","record-labels":"record-labels","independent-musicians":"independent-musicians","instrastructure-provider":"instrastructure-provider","amazon-aws":"amazon-aws","google-cloud-platform":"google-cloud-platform","manufacturing-provider":"manufacturing-provider","payment-provider":"payment-provider","own-payment-provider-additional-to-store-provider":"own-payment-provider-additional-to-store-provider","store-provider":"store-provider","partner-for-developer-license-and-store-publishing":"partner-for-developer-license-and-store-publishing","develop-hard--and-software":"develop-hard--and-software","negotiate-licsenses":"negotiate-licenses","manage-infrastructure":"manage-infrastructure","produce-content":"produce-content","plan-marketing-campaigns":"plan-marketing-campaigns","support-customer":"support-customer","algorithms":"algorithms","brands":"brands","youtube-originals":"youtube-originals","netflix-originals-1":"netflix-originals","podcasts":"podcasts","content":"content-1","netflix-originals":"netflix-originals-1","licensed-content":"licensed-content","youtube-originals-1":"youtube-originals-1","content-from-content-creators":"content-from-content-creators","exclusive-rights-for-some-podcast":"exclusive-rights-for-some-podcast","music-licenses":"music-licenses","developer-licsense":"developer-license","patents":"patents","infrastructure-1":"infrastructure","external-infrastructure":"external-infrastructure","internal-inrastructure":"internal-inrastructure","advertisement":"advertisement-2","inn-app-ads":"in-app-ads","personalized-ads":"personalized-ads","without-account":"without-account","with-free-account":"with-free-account","brokerage":"brokerage","money-for-content-creators":"money-for-content-creators","donation":"donation","sale":"sale","app-purchase":"app-purchase","in-app-purchase":"in-app-purchase","sell-movies":"sell-movies","lend-movies":"lend-movies","subscription":"subscription","membership":"membership","premium-content":"premium-content","content-1":"content-2","premium-features":"premium-features","development":"development","infrastructure":"infrastructure-1","licenses":"licenses","marketing":"marketing","production-":"production--1","support":"support-1"}},"651e4909-ce3c-4853-b861-b0c0d58c2d43":{"expertFeatureIdMap":{"value-propositions":"value-propositions","customer-segments":"customer-segments","customer-relationships":"customer-relationships","channels":"channels","key-partners":"key-partners","key-activities":"key-activities","key-resources":"key-resources","revenue-streams":"revenue-streams","cost-structure":"cost-structure","collaborative-with-others":"collaborate-with-others","private-user":"private-user","professional-user":"professional-user","self-service":"self-service","phone-support":"phone-support","facebook-ads":"facebook-ads","linkedin-ads":"linkedin-ads","hosting-provider":"instrastructure-provider","social-networks":"social-networks","develop-app":"develop-hard--and-software","plan-marketing":"plan-marketing-campaigns","algorithms":"algorithms","infrastructure":"infrastructure","in-app-advertisement":"in-app-ads","license-purchase":"app-purchase","license-subscription":"subscription","development-costs":"development","marketing-costs":"marketing","support-costs":"support-1","free-for-all":"free-for-all","save-privacy":"save-privacy"}},"66228982-71c3-4fb6-872b-ed96aaf84891":{"expertFeatureIdMap":{"value-propositions":"value-propositions","customer-segments":"customer-segments","customer-relationships":"customer-relationships","channels":"channels","key-partners":"key-partners","key-activities":"key-activities","key-resources":"key-resources","revenue-streams":"revenue-streams","cost-structure":"cost-structure","accessibility":"accessibility","anonymous-access":"anonymous-access","simplified-sign-in-servies":"simplified-sign-in-servies","multi-os-access":"multi-os-access","device-syncronisation":"device-syncronisation","customization":"customization","personalized-recommendations":"personalized-recommendations","changeable-user-interfaces":"changeable-user-interfaces","design-/-usability":"design-/-usability","execution-step-reduction":"execution-step-reduction","design-pattern-usage":"design-pattern-usage","price":"price","free-for-all":"free-for-all","low-price-strategy":"low-price-strategy","money-back-guarantee":"money-back-guarantee","network":"network","quantity-network-size":"quantity-network-size","quality-network-users":"quality-network-users","function-scope":"function-scope","minimized-scope":"minimized-scope","maximized-scope":"maximized-scope","medium-scope":"medium-scope","task-management":"task-management","splitting-of-tasks":"splitting-of-tasks","work-together":"work-together","workflow-management":"workflow-management","workflow-templates":"workflow-templates","workflow-tracker":"workflow-tracker","intelligent-flow-planer":"intelligent-flow-planer","connect-to-calender":"connect-to-calender","productivity-analysis":"productivity-analysis","light-weight-tooling":"light-weight-tooling","productivity-optimization":"productivity-optimization","segment-optimized-functions":"segment-optimized-functions","general":"general","automatic-task-breakdown":"automatic-task-breakdown","task-time-prediction":"task-time-prediction","connect-to-friends":"connect-to-friends","fitness-functions":"fitness-functions","time-to-sport":"time-to-sport","calories-tracker":"calories-tracker","work&life-balance":"work&life-balance","optimize-scheduling":"optimize-scheduling","optimize-concentration":"optimize-concentration","business-functions":"business-functions","automatic-task-scheduling":"automatic-task-scheduling","workflow-tracking":"workflow-tracking","interaction-type":"interaction-type","single-user":"single-user","single-sided-market":"single-sided-market","multi-sided-market":"multi-sided-market","market-size":"market-size","niche-market":"niche-market","mass-market":"mass-market","target-group":"target-group","fitness-improver":"fitness-improver","life-improver":"life-improver","business-improver":"business-improver","user-type":"user-type","private-user":"private-user","professional-user":"professional-user","homing":"homing","single-homed":"single-homed","multi-homed":"multi-homed","customer-aquisition":"customer-aquisition","advertisements":"advertisements","facbook-ads":"facbook-ads","friend-invitation-system":"friend-invitation-system","existing-customer-base":"existing-customer-base","brand-customer-base":"brand-customer-base","os-customer-base":"os-customer-base","online-communities-1":"online-communities","facebook-groups-1":"facebook-groups","customer-retention":"customer-retention","locked-in":"locked-in","gamification":"gamification","progress-discovery":"progress-discovery","friend-challenges":"friend-challenges","customer-support":"customer-support","free-usage":"free-usage","boosting-sales":"boosting-sales","forced-stops":"forced-stops","awareness":"awareness","word-of-mouth":"word-of-mouth","store-placement":"store-placement","facebook-groups":"facebook-groups-1","online-communities":"online-communities-1","social-media-ads":"social-media-ads","influencer-marketing":"influencer-marketing","evaluation":"evaluation","freemium":"freemium-1","appstore-optimization":"appstore-optimization","review-reactions":"review-reactions","company-branding":"company-branding","purchase":"purchase","in-store-purchase":"in-store-purchase","out-of-store-purchase":"out-of-store-purchase","no-purchase":"no-purchase","delivery":"delivery","in-store-delivery":"in-store-delivery","out-of-store-delivery":"out-of-store-delivery","after-sales":"after-sales","app-updates":"app-updates","update-with-os":"update-with-os","content-updates":"content-updates-1","included-in-os":"included-in-os","advertisement-partner":"advertisement-partner","app-developer":"app-developer","content-provider":"content-partner","instrastructure-provider":"instrastructure-provider","manufacturing-provider":"manufacturing-provider","payment-provider":"payment-provider","store-provider":"store-provider","third-party-developer":"third-party-developer","influencer":"influencer-1","develop-hard--and-software":"develop-hard--and-software","develop-software":"develop-software","develop-hardware":"develop-hardware","negotiate-licsenses":"negotiate-licenses","manage-infrastructure":"manage-infrastructure","produce-content":"produce-content","plan-marketing-campaigns":"plan-marketing-campaigns","support-customer":"support-customer","algorithms":"algorithms","brands":"brands","content":"content-1","developer-licsense":"developer-license","patents":"patents","infrastructure-1":"infrastructure","developer-api":"developer-api","advertisement":"advertisement-2","inn-app-ads":"in-app-ads","personalized-ads":"personalized-ads","brokerage":"brokerage","donation":"donation","sale":"sale","app-purchase":"app-purchase","in-app-purchase":"in-app-purchase","subscription":"subscription","normal-account":"normal-account","professional-account":"professional-account","business-account":"business-account","cross-financed":"cross-financed","hardware":"hardware","software":"software","development":"development","infrastructure":"infrastructure-1","licenses":"licenses","marketing":"marketing","production-":"production--1","support":"support-1"}}},"createdByMethod":false,"_id":"3547fa88-8112-4157-b181-436c0a5d2eac"},{"type":"CompanyModel","name":"Simple Examples for ToDo Applications","description":"This composed model provides the simple todo example from our paper presented at CBI20.","copyright":"","author":{},"features":{"value-propositions":{"name":"Value Propositions","type":"mandatory","subfeatures":{"save-privacy":{"name":"Save Privacy","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["in-app-advertisement","free-for-all"]}},"expertModelTrace":{}},"free-for-all":{"name":"Free For All","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["in-app-advertisement"],"excludes":["save-privacy"]}},"expertModelTrace":{}},"collaborative-with-others":{"name":"Collaborate With Others","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["license-subscription"]}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}},"customer-segments":{"name":"Customer Segment","type":"mandatory","subfeatures":{"private-user":{"name":"Private User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"professional-user":{"name":"Professional User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["save-privacy"]}},"expertModelTrace":{}}},"subfeatureConnections":"or","relationships":{"relationships":{}},"expertModelTrace":{}},"customer-relationships":{"name":"Customer Relationships","type":"optional","subfeatures":{"self-service":{"name":"Self Service","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"phone-support":{"name":"Phone Support","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"channels":{"name":"Customer Channels","type":"optional","subfeatures":{"facebook-ads":{"name":"Facebook Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["private-user"]}},"expertModelTrace":{}},"linkedin-ads":{"name":"LinkedIn Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["professional-user"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-partners":{"name":"Key Partners","type":"optional","subfeatures":{"hosting-provider":{"name":"Hosting Provider","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"social-networks":{"name":"Social Networks","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-activities":{"name":"Key Activities","type":"optional","subfeatures":{"develop-app":{"name":"Develop App","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["development-costs"]}},"expertModelTrace":{}},"plan-marketing":{"name":"Plan Marketing","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["marketing-costs"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-resources":{"name":"Key Resources","type":"optional","subfeatures":{"algorithms":{"name":"Algorithms","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"infrastructure":{"name":"Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"revenue-streams":{"name":"Revenue Streams","type":"optional","subfeatures":{"in-app-advertisement":{"name":"In-App Advertisement","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["save-privacy"]}},"expertModelTrace":{}},"license-purchase":{"name":"License Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["license-subscription"]}},"expertModelTrace":{}},"license-subscription":{"name":"License Subscription","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["license-purchase"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"cost-structure":{"name":"Cost Structures","type":"optional","subfeatures":{"development-costs":{"name":"Development Costs","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"marketing-costs":{"name":"Marketing Costs","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"support-costs":{"name":"Support Costs","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"instances":[],"nextInstanceId":1,"$definition":{"type":"CanvasDefinition","_id":"1625144329606","_rev":"4-4b207d2084ec0ea1ed60d696fa42b22a","name":"Business Model Canvas","rows":[[{"isSpacer":false,"id":"key-partners","name":"Key Partners","rowspan":2,"colspan":2},{"isSpacer":false,"id":"key-activities","name":"Key Activities","rowspan":1,"colspan":2},{"isSpacer":false,"id":"value-propositions","name":"Value Propositions","rowspan":2,"colspan":2},{"isSpacer":false,"id":"customer-relationships","name":"Customer Relationships","rowspan":1,"colspan":2},{"isSpacer":false,"id":"customer-segments","name":"Customer Segments","rowspan":2,"colspan":2}],[{"isSpacer":false,"id":"key-resources","name":"Key Resources","rowspan":1,"colspan":2},{"isSpacer":false,"id":"channels","name":"Customer Channels","rowspan":1,"colspan":2}],[{"isSpacer":false,"id":"cost-structure","name":"Cost Structure","rowspan":1,"colspan":5},{"isSpacer":false,"id":"revenue-streams","name":"Revenue Streams","rowspan":1,"colspan":5}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"expertModelTraces":{},"createdByMethod":false,"_id":"57c275ce-2b77-4741-9a8d-0de33580656d"},{"type":"ExpertModel","name":"Business Models for Mobile Apps","description":"An example of expert knowledge about business models of mobile apps.","copyright":"","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"features":{"value-propositions":{"name":"Value Propositions","type":"optional","subfeatures":{"accessibility":{"name":"Accessibility","description":"Strategy to provide access for the user of the app","type":"optional","subfeatures":{"anonymous-access":{"name":"Anonymous Access","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"simplified-sign-in-servies":{"name":"Simplified Sign-In Servies","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"different-devices":{"name":"Different Devices","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"paid-account":{"name":"Paid Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"free-account":{"name":"Free Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customization":{"name":"Customization","description":"Possibility to customize the app","type":"optional","subfeatures":{"personalized-recommendations":{"name":"Personalized Recommendations","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"changeable-user-interfaces":{"name":"Changeable User Interfaces","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"design-/-usability":{"name":"Design / Usability","description":"Design acsepts that are integrated into the app","type":"optional","subfeatures":{"execution-step-reduction":{"name":"Execution Step Reduction","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"design-pattern-usage":{"name":"Design Pattern Usage","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"easy-usability":{"name":"Easy Usability","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"responsible-design":{"name":"Responsible Design","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"price":{"name":"Price","description":"Pricing strategy of the app","type":"optional","subfeatures":{"low-price-strategy":{"name":"Low-Price Strategy","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["private-user"],"hurts":["premium-content","cancel-anytime"]}},"expertModelTrace":{}},"money-back-guarantee":{"name":"Money-Back Guarantee","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["cancel-anytime"]}},"expertModelTrace":{}},"cancel-anytime":{"name":"Cancel Anytime","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["membership"]}},"expertModelTrace":{}},"freemium-1":{"name":"Freemium","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"equal-price-strategy":{"name":"Equal-Price-Strategy","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}},"network":{"name":"Network","description":"Network ascepts that are covered within the app","type":"optional","subfeatures":{"quantity-network-size":{"name":"Quantity Network Size","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"quality-network-users":{"name":"Quality Network Users","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"share-content":{"name":"Share Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"connect-with-other-users":{"name":"Connect with other Users","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"share-playlists":{"name":"Share Playlists","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-segments":{"name":"Customer Segment","type":"optional","subfeatures":{"interaction-type":{"name":"Interaction Type","description":"Interaction of a customer with other customers","type":"optional","subfeatures":{"single-user":{"name":"Single-User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["network"]}},"expertModelTrace":{}},"single-sided-market":{"name":"Single-Sided-Market","description":"interacting with the same type of customer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"multi-sided-market":{"name":"Multi-Sided-Market","description":"interacting with customers of another type","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}},"market-size":{"name":"Market Size","description":"Size of the targeted market","type":"optional","subfeatures":{"niche-market":{"name":"Niche Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"mass-market":{"name":"Mass Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["equal-price-strategy"]}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}},"target-group":{"name":"Target Group","description":"Group of customers that is targeted","type":"optional","subfeatures":{"gender":{"name":"Gender","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"interests":{"name":"Interests","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"relationship":{"name":"Relationship","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-consumer":{"name":"Content-Consumer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-creator":{"name":"Content-Creator","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"user-type":{"name":"User Type","description":"Type of user that is targeted","type":"optional","subfeatures":{"private-user":{"name":"Private User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"professional-user":{"name":"Professional User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-relationships":{"name":"Customer Relationships","type":"optional","subfeatures":{"customer-aquisition":{"name":"Customer Aquisition","description":"Establishment of new relationshipd to customers","type":"optional","subfeatures":{"advertisements":{"name":"Advertisements","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"friend-invitation-system":{"name":"Friend Invitation System","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"single-sign-in":{"name":"Single-Sign-In","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-retention":{"name":"Customer Retention","description":"Maintainance of existing relationshipd to customers","type":"optional","subfeatures":{"locked-in":{"name":"Locked-In","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"gamification":{"name":"Gamification","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-support":{"name":"Customer Support","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-updates-1":{"name":"Content-Updates","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"self-service":{"name":"Self-Service","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-quantity":{"name":"Content-Quantity","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"boosting-sales":{"name":"Boosting Sales","description":"Increase the revenue from existing customers","type":"optional","subfeatures":{"forced-stops":{"name":"Forced Stops","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"channels":{"name":"Customer Channels","type":"optional","subfeatures":{"awareness":{"name":"Awareness","description":"Attract attention from new customers","type":"optional","subfeatures":{"word-of-mouth":{"name":"Word-of-Mouth","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"store-placement":{"name":"Store Placement","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"advertisement-1":{"name":"Advertisement","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"store-position":{"name":"Store Position","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"3rd-party-integration":{"name":"3rd-Party-Integration","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"distributable-codes":{"name":"Distributable Codes","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"evaluation":{"name":"Evaluation","description":"Show benefits to new customers","type":"optional","subfeatures":{"freemium":{"name":"Freemium","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"appstore-optimization":{"name":"AppStore Optimization","type":"optional","subfeatures":{"review-reactions":{"name":"Review Reactions","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"rating":{"name":"Rating","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"reviews":{"name":"Reviews","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"free-month":{"name":"Free Month","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"purchase":{"name":"Purchase","description":"Sale of the app","type":"mandatory","subfeatures":{"in-store-purchase":{"name":"In-Store Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"out-of-store-purchase":{"name":"Out-of-Store Purchase","type":"optional","subfeatures":{"homepage":{"name":"Homepage","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"app-1":{"name":"App","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["payment-provider"]}},"expertModelTrace":{}},"no-purchase":{"name":"No Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"delivery":{"name":"Delivery","description":"Delivery of the app","type":"mandatory","subfeatures":{"in-store-delivery":{"name":"In-Store Delivery","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"out-of-store-delivery":{"name":"Out-of-Store Delivery","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"after-sales":{"name":"After Sales","description":"Gain value of existing customers after the sales","type":"optional","subfeatures":{"app-updates":{"name":"App Updates","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-updates":{"name":"Content Updates","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"push-notifications":{"name":"Push-Notifications","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-partners":{"name":"Key Partners","type":"optional","subfeatures":{"advertisement-partner":{"name":"Advertisement Partner","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"app-developer":{"name":"App Developer","type":"optional","subfeatures":{"no-sdk":{"name":"No SDK","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"sdk-integration":{"name":"SDK Integration","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-provider":{"name":"Content Partner","type":"optional","subfeatures":{"movie-studios":{"name":"Movie Studios","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"production-partner":{"name":"Production Partner","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-creators":{"name":"Content-Creators","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"record-labels":{"name":"Record Labels","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"independent-musicians":{"name":"Independent Musicians","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"instrastructure-provider":{"name":"Instrastructure Provider","type":"optional","subfeatures":{"amazon-aws":{"name":"Amazon AWS","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"google-cloud-platform":{"name":"Google Cloud Platform","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"manufacturing-provider":{"name":"Manufacturing Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"payment-provider":{"name":"Payment Provider","type":"optional","subfeatures":{"own-payment-provider-additional-to-store-provider":{"name":"Own Payment Provider additional to Store Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"store-provider":{"name":"Store Provider","type":"mandatory","subfeatures":{"partner-for-developer-license-and-store-publishing":{"name":"Partner for Developer License and Store Publishing","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-activities":{"name":"Key Activities","type":"optional","subfeatures":{"develop-hard--and-software":{"name":"Develop Hard- and Software","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["development"]}},"expertModelTrace":{}},"negotiate-licsenses":{"name":"Negotiate Licenses","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"manage-infrastructure":{"name":"Manage Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"produce-content":{"name":"Produce Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"plan-marketing-campaigns":{"name":"Plan Marketing Campaigns","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"support-customer":{"name":"Support Customer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-resources":{"name":"Key Resources","type":"optional","subfeatures":{"algorithms":{"name":"Algorithms","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["personalized-recommendations"]}},"expertModelTrace":{}},"brands":{"name":"Brands","type":"optional","subfeatures":{"youtube-originals":{"name":"YouTube Originals","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"netflix-originals-1":{"name":"Netflix Originals","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"podcasts":{"name":"Podcasts","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content":{"name":"Content","type":"optional","subfeatures":{"netflix-originals":{"name":"Netflix Originals","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"licensed-content":{"name":"Licensed Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"youtube-originals-1":{"name":"YouTube Originals","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-from-content-creators":{"name":"Content from Content-Creators","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"exclusive-rights-for-some-podcast":{"name":"Exclusive Rights for some Podcast","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"music-licenses":{"name":"Music Licenses","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"developer-licsense":{"name":"Developer License","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"patents":{"name":"Patents","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"infrastructure-1":{"name":"Infrastructure","type":"optional","subfeatures":{"external-infrastructure":{"name":"External Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"internal-inrastructure":{"name":"Internal Inrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"revenue-streams":{"name":"Revenue Streams","type":"mandatory","subfeatures":{"advertisement":{"name":"Advertisement","type":"optional","subfeatures":{"inn-app-ads":{"name":"In-App Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"hurts":["anonymous-access"]}},"expertModelTrace":{}},"personalized-ads":{"name":"Personalized Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["membership"],"hurts":["anonymous-access"]}},"expertModelTrace":{}},"without-account":{"name":"without Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"with-free-account":{"name":"with Free Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["advertisement-partner"],"hurts":["price"]}},"expertModelTrace":{}},"brokerage":{"name":"Brokerage","description":"","type":"optional","subfeatures":{"money-for-content-creators":{"name":"Money for Content Creators","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"donation":{"name":"Donation","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"sale":{"name":"Sale","type":"optional","subfeatures":{"app-purchase":{"name":"App Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"in-app-purchase":{"name":"In-App Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"sell-movies":{"name":"Sell Movies","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"lend-movies":{"name":"Lend Movies","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"subscription":{"name":"Subscription","type":"optional","subfeatures":{"membership":{"name":"Membership","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["personalized-ads"]}},"expertModelTrace":{}},"premium-content":{"name":"Premium Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-1":{"name":"Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"premium-features":{"name":"Premium Features","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"or","relationships":{"relationships":{}},"expertModelTrace":{}},"cost-structure":{"name":"Cost Structure","type":"optional","subfeatures":{"development":{"name":"Development","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"infrastructure":{"name":"Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"licenses":{"name":"Licenses","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"marketing":{"name":"Marketing","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"production-":{"name":"Production ","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"support":{"name":"Support","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"instances":[{"id":0,"name":"Netflix","type":"example","usedFeatures":["value-propositions","customer-segments","customer-relationships","channels","key-partners","key-activities","key-resources","revenue-streams","cost-structure","accessibility","paid-account","customization","design-/-usability","price","personalized-recommendations","easy-usability","responsible-design","low-price-strategy","interaction-type","market-size","user-type","target-group","single-user","mass-market","content-consumer","private-user","awareness","evaluation","purchase","delivery","after-sales","word-of-mouth","advertisement-1","store-position","rating","reviews","free-month","out-of-store-purchase","homepage","in-store-delivery","app-updates","content-updates","push-notifications","customer-aquisition","customer-retention","single-sign-in","friend-invitation-system","content-updates-1","self-service","subscription","app-developer","content-provider","instrastructure-provider","payment-provider","store-provider","no-sdk","movie-studios","production-partner","amazon-aws","own-payment-provider-additional-to-store-provider","partner-for-developer-license-and-store-publishing","algorithms","brands","developer-licsense","content","infrastructure-1","patents","external-infrastructure","netflix-originals","licensed-content","develop-hard--and-software","negotiate-licsenses","manage-infrastructure","produce-content","plan-marketing-campaigns","support-customer","development","infrastructure","licenses","marketing","production-","support","content-1","netflix-originals-1"]},{"id":1,"name":"YouTube","type":"example","usedFeatures":["value-propositions","customer-segments","customer-relationships","channels","key-partners","key-activities","key-resources","revenue-streams","cost-structure","accessibility","customization","design-/-usability","price","network","anonymous-access","free-account","paid-account","personalized-recommendations","responsible-design","easy-usability","freemium-1","quantity-network-size","share-content","connect-with-other-users","interaction-type","market-size","target-group","user-type","multi-sided-market","mass-market","content-consumer","content-creator","private-user","awareness","evaluation","purchase","delivery","after-sales","word-of-mouth","advertisement-1","store-position","3rd-party-integration","rating","reviews","free-month","out-of-store-purchase","homepage","app-1","in-store-delivery","app-updates","content-updates","push-notifications","customer-aquisition","customer-retention","friend-invitation-system","single-sign-in","locked-in","self-service","advertisement","brokerage","sale","subscription","without-account","with-free-account","money-for-content-creators","sell-movies","lend-movies","premium-content","advertisement-partner","app-developer","content-provider","instrastructure-provider","payment-provider","store-provider","partner-for-developer-license-and-store-publishing","own-payment-provider-additional-to-store-provider","google-cloud-platform","movie-studios","content-creators","sdk-integration","algorithms","brands","content","developer-licsense","infrastructure-1","patents","youtube-originals","youtube-originals-1","content-from-content-creators","internal-inrastructure","develop-hard--and-software","negotiate-licsenses","plan-marketing-campaigns","support-customer","produce-content","manage-infrastructure","development","infrastructure","licenses","marketing","production-","support"]},{"id":2,"name":"Spotify","type":"example","description":"","usedFeatures":["value-propositions","customer-segments","customer-relationships","channels","key-partners","key-activities","key-resources","revenue-streams","cost-structure","accessibility","customization","design-/-usability","price","network","free-account","paid-account","personalized-recommendations","responsible-design","easy-usability","connect-with-other-users","interaction-type","market-size","target-group","user-type","mass-market","content-consumer","private-user","awareness","evaluation","purchase","delivery","after-sales","word-of-mouth","advertisement-1","store-position","3rd-party-integration","rating","reviews","out-of-store-purchase","homepage","app-1","in-store-delivery","app-updates","content-updates","push-notifications","customer-aquisition","customer-retention","friend-invitation-system","single-sign-in","self-service","advertisement","subscription","with-free-account","advertisement-partner","app-developer","content-provider","instrastructure-provider","payment-provider","store-provider","partner-for-developer-license-and-store-publishing","own-payment-provider-additional-to-store-provider","google-cloud-platform","sdk-integration","algorithms","brands","content","developer-licsense","infrastructure-1","patents","develop-hard--and-software","negotiate-licsenses","plan-marketing-campaigns","support-customer","produce-content","manage-infrastructure","development","infrastructure","licenses","marketing","production-","support","equal-price-strategy","share-playlists","single-sided-market","distributable-codes","content-quantity","premium-features","record-labels","independent-musicians","podcasts","exclusive-rights-for-some-podcast","music-licenses","external-infrastructure"]},{"id":3,"name":"Add-on","type":"pattern","description":"The core offering is priced competitively, but there are numerous extras that drive the final price up. Source: https://businessmodelnavigator.com/pattern?id=1","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","sale","in-app-purchase"]},{"id":4,"name":"Hidden Revenue","type":"pattern","description":"The logic that the user is responsible for the income of the business is abandoned. Instead, the main source of revenue comes from a third party, which cross-finances whatever free or low-priced offering attracts the users. Source: https://businessmodelnavigator.com/pattern?id=21 ","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","advertisement","user-type","private-user"]},{"id":5,"name":"Revenue Sharing","type":"pattern","description":"Revenue sharing refers to firms\u2019 practice of sharing revenues with their stakeholders, such as complementors or even rivals. Source: https://businessmodelnavigator.com/pattern?id=41","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","interaction-type","multi-sided-market","payment-provider","brokerage"]},{"id":6,"name":"Affiliation","type":"pattern","description":"The focus lies in supporting others to successfully sell products and directly benefit from successful transactions. Source: https://businessmodelnavigator.com/pattern?id=2 ","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","payment-provider","content-provider","subscription","sale","market-size","mass-market"]},{"id":7,"name":"Ingredient Branding","type":"pattern","description":"Ingredient branding describes the specific selection of an ingredient, component, and brand originating from a specific supplier, which will be included in another product. Source: https://businessmodelnavigator.com/pattern?id=22","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","brands"]},{"id":8,"name":"Reverse Engineering","type":"pattern","description":"This pattern refers to obtaining a competitor\'s product, taking it apart, and using this information to produce a similar or compatible product. Source: https://businessmodelnavigator.com/pattern?id=42","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","price","low-price-strategy","market-size","mass-market"]},{"id":9,"name":"Lock-in","type":"pattern","description":"Customers are locked into a vendor\'s world of products and services. Source: https://businessmodelnavigator.com/pattern?id=27","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","customer-retention","locked-in"]},{"id":10,"name":"Long Tail","type":"pattern","description":"Instead of concentrating on blockbusters, the main bulk of revenues is generated through a \'long tail\' of niche products. Source: https://businessmodelnavigator.com/pattern?id=27","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","market-size","niche-market","sale","interaction-type","single-user"]},{"id":11,"name":"Subscription","type":"pattern","description":"The customer pays a regular fee, typically on a monthly or an annual basis, in order to gain access to a product or service. Source: https://businessmodelnavigator.com/pattern?id=48","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","subscription"]},{"id":12,"name":"Target The Poor","type":"pattern","description":"The product or service offering does not target the premium customer, but rather, the customer positioned at the base of the pyramid. Source: https://businessmodelnavigator.com/pattern?id=50 ","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","market-size","mass-market","user-type","private-user","price","low-price-strategy"]},{"id":13,"name":"Two-sided Market","type":"pattern","description":"A two-sided market facilitates interactions between multiple interdependent groups of customers. Source: https://businessmodelnavigator.com/pattern?id=52","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","market-size","interaction-type","mass-market","multi-sided-market"]}],"nextInstanceId":14,"$definition":{"type":"CanvasDefinition","_id":"1625144329606","_rev":"4-4b207d2084ec0ea1ed60d696fa42b22a","name":"Business Model Canvas","rows":[[{"isSpacer":false,"id":"key-partners","name":"Key Partners","rowspan":2,"colspan":2},{"isSpacer":false,"id":"key-activities","name":"Key Activities","rowspan":1,"colspan":2},{"isSpacer":false,"id":"value-propositions","name":"Value Propositions","rowspan":2,"colspan":2},{"isSpacer":false,"id":"customer-relationships","name":"Customer Relationships","rowspan":1,"colspan":2},{"isSpacer":false,"id":"customer-segments","name":"Customer Segments","rowspan":2,"colspan":2}],[{"isSpacer":false,"id":"key-resources","name":"Key Resources","rowspan":1,"colspan":2},{"isSpacer":false,"id":"channels","name":"Customer Channels","rowspan":1,"colspan":2}],[{"isSpacer":false,"id":"cost-structure","name":"Cost Structure","rowspan":1,"colspan":5},{"isSpacer":false,"id":"revenue-streams","name":"Revenue Streams","rowspan":1,"colspan":5}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"domains":[{"type":"Domain","_id":"1625915974420","_rev":"1-ff3d81800563c2792e6730b304317b55","name":"Mobile Apps"}],"version":"","_id":"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708"},{"type":"ExpertModel","name":"Simple Mobile Todo-Apps","description":"A simple example of expert knowledge about mobile todo apps.","copyright":"","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"features":{"value-propositions":{"name":"Value Propositions","description":null,"type":"mandatory","subfeatures":{"save-privacy":{"name":"Save Privacy","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["in-app-advertisement","free-for-all"]}},"expertModelTrace":{}},"free-for-all":{"name":"Free For All","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["in-app-advertisement"],"excludes":["save-privacy"]}},"expertModelTrace":{}},"collaborative-with-others":{"name":"Collaborate With Others","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["license-subscription"]}},"expertModelTrace":{}}},"subfeatureConnections":"or","relationships":{"relationships":{}},"expertModelTrace":{}},"customer-segments":{"name":"Customer Segment","description":null,"type":"optional","subfeatures":{"private-user":{"name":"Private User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"professional-user":{"name":"Professional User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["save-privacy"]}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}},"customer-relationships":{"name":"Customer Relationships","type":"optional","subfeatures":{"self-service":{"name":"Self Service","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"hurts":["professional-user"]}},"expertModelTrace":{}},"phone-support":{"name":"Phone Support","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"supports":["professional-user"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"channels":{"name":"Customer Channels","type":"optional","subfeatures":{"facebook-ads":{"name":"Facebook Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["private-user"]}},"expertModelTrace":{}},"linkedin-ads":{"name":"LinkedIn Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["professional-user"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-partners":{"name":"Key Partners","type":"optional","subfeatures":{"hosting-provider":{"name":"Hosting Provider","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"social-networks":{"name":"Social Networks","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-activities":{"name":"Key Activities","type":"optional","subfeatures":{"develop-app":{"name":"Develop App","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["development-costs"]}},"expertModelTrace":{}},"plan-marketing":{"name":"Plan Marketing","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["marketing-costs"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-resources":{"name":"Key Resources","type":"optional","subfeatures":{"algorithms":{"name":"Algorithms","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"infrastructure":{"name":"Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"revenue-streams":{"name":"Revenue Streams","description":null,"type":"mandatory","subfeatures":{"in-app-advertisement":{"name":"In-App Advertisement","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["save-privacy"]}},"expertModelTrace":{}},"license-purchase":{"name":"License Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["license-subscription"]}},"expertModelTrace":{}},"license-subscription":{"name":"License Subscription","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["license-purchase"]}},"expertModelTrace":{}}},"subfeatureConnections":"or","relationships":{"relationships":{}},"expertModelTrace":{}},"cost-structure":{"name":"Cost Structures","type":"optional","subfeatures":{"development-costs":{"name":"Development Costs","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"marketing-costs":{"name":"Marketing Costs","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"support-costs":{"name":"Support Costs","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"instances":[],"nextInstanceId":1,"$definition":{"type":"CanvasDefinition","_id":"1625144329606","_rev":"4-4b207d2084ec0ea1ed60d696fa42b22a","name":"Business Model Canvas","rows":[[{"isSpacer":false,"id":"key-partners","name":"Key Partners","rowspan":2,"colspan":2},{"isSpacer":false,"id":"key-activities","name":"Key Activities","rowspan":1,"colspan":2},{"isSpacer":false,"id":"value-propositions","name":"Value Propositions","rowspan":2,"colspan":2},{"isSpacer":false,"id":"customer-relationships","name":"Customer Relationships","rowspan":1,"colspan":2},{"isSpacer":false,"id":"customer-segments","name":"Customer Segments","rowspan":2,"colspan":2}],[{"isSpacer":false,"id":"key-resources","name":"Key Resources","rowspan":1,"colspan":2},{"isSpacer":false,"id":"channels","name":"Customer Channels","rowspan":1,"colspan":2}],[{"isSpacer":false,"id":"cost-structure","name":"Cost Structure","rowspan":1,"colspan":5},{"isSpacer":false,"id":"revenue-streams","name":"Revenue Streams","rowspan":1,"colspan":5}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"domains":[{"type":"Domain","_id":"1625915974420","_rev":"1-ff3d81800563c2792e6730b304317b55","name":"Mobile Apps"},{"type":"Domain","_id":"1625915982726","_rev":"1-f95af9f6e7fa33ec8b7ff26ee2db88d4","name":"Mobile Todo-Apps"}],"version":"","_id":"651e4909-ce3c-4853-b861-b0c0d58c2d43"},{"type":"ExpertModel","name":"Mobile Todo-Apps","description":"An example of expert knowledge about mobile todo apps.","copyright":"","author":{"name":"Sebastian Gottschalk","company":"Paderborn University","email":"sebastian.gottschalk@uni-paderborn.de","website":"upb.de"},"features":{"value-propositions":{"name":"Value Propositions","type":"optional","subfeatures":{"accessibility":{"name":"Accessibility","type":"optional","subfeatures":{"anonymous-access":{"name":"Anonymous Access","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["personalized-recommendations"]}},"expertModelTrace":{}},"simplified-sign-in-servies":{"name":"Simplified Sign-In Servies","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"multi-os-access":{"name":"Multi-OS Access","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-homed"]}},"expertModelTrace":{}},"device-syncronisation":{"name":"Device Syncronisation","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customization":{"name":"Customization","type":"optional","subfeatures":{"personalized-recommendations":{"name":"Personalized Recommendations","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["anonymous-access"]}},"expertModelTrace":{}},"changeable-user-interfaces":{"name":"Changeable User Interfaces","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"design-/-usability":{"name":"Design / Usability","type":"optional","subfeatures":{"execution-step-reduction":{"name":"Execution Step Reduction","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"design-pattern-usage":{"name":"Design Pattern Usage","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"price":{"name":"Price","type":"optional","subfeatures":{"free-for-all":{"name":"Free for All","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["money-back-guarantee"]}},"expertModelTrace":{}},"low-price-strategy":{"name":"Low-Price Strategy","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"money-back-guarantee":{"name":"Money-Back Guarantee","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["free-for-all"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"network":{"name":"Network","type":"optional","subfeatures":{"quantity-network-size":{"name":"Quantity Network Size","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"quality-network-users":{"name":"Quality Network Users","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{}},"function-scope":{"name":"Function Scope","type":"optional","subfeatures":{"minimized-scope":{"name":"Minimized Scope","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"maximized-scope":{"name":"Maximized Scope","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"medium-scope":{"name":"Medium Scope","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"task-management":{"name":"Task Management","type":"optional","subfeatures":{"splitting-of-tasks":{"name":"Splitting of Tasks","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"work-together":{"name":"Work Together","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"workflow-management":{"name":"Workflow Management","type":"optional","subfeatures":{"workflow-templates":{"name":"Workflow Templates","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"workflow-tracker":{"name":"Workflow Tracker","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"intelligent-flow-planer":{"name":"Intelligent Flow Planer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"connect-to-calender":{"name":"Connect To Calender","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"productivity-analysis":{"name":"Productivity Analysis","type":"optional","subfeatures":{"light-weight-tooling":{"name":"Light-Weight Tooling","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"productivity-optimization":{"name":"Productivity Optimization","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"segment-optimized-functions":{"name":"Segment Optimized Functions","type":"optional","subfeatures":{"general":{"name":"General","type":"optional","subfeatures":{"automatic-task-breakdown":{"name":"Automatic Task Breakdown","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"task-time-prediction":{"name":"Task Time Prediction","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"connect-to-friends":{"name":"Connect To Friends","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"fitness-functions":{"name":"Fitness Functions","type":"optional","subfeatures":{"time-to-sport":{"name":"Time To Sport","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"calories-tracker":{"name":"Calories Tracker","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"work&life-balance":{"name":"Work&Life Balance","type":"optional","subfeatures":{"optimize-scheduling":{"name":"Optimize Scheduling","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"optimize-concentration":{"name":"Optimize Concentration","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"business-functions":{"name":"Business Functions","type":"optional","subfeatures":{"automatic-task-scheduling":{"name":"Automatic Task Scheduling","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"workflow-tracking":{"name":"Workflow Tracking","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-segments":{"name":"Customer Segment","type":"optional","subfeatures":{"interaction-type":{"name":"Interaction Type","type":"optional","subfeatures":{"single-user":{"name":"Single-User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["network","work-together","connect-to-friends","friend-challenges"]}},"expertModelTrace":{}},"single-sided-market":{"name":"Single-Sided-Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"multi-sided-market":{"name":"Multi-Sided-Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}},"market-size":{"name":"Market Size","type":"optional","subfeatures":{"niche-market":{"name":"Niche Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"mass-market":{"name":"Mass Market","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}},"target-group":{"name":"Target Group","type":"optional","subfeatures":{"fitness-improver":{"name":"Fitness Improver","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["fitness-functions"]}},"expertModelTrace":{}},"life-improver":{"name":"Life Improver","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["work&life-balance"]}},"expertModelTrace":{}},"business-improver":{"name":"Business Improver","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["business-functions"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"user-type":{"name":"User Type","type":"optional","subfeatures":{"private-user":{"name":"Private User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"professional-user":{"name":"Professional User","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"homing":{"name":"Homing","type":"optional","subfeatures":{"single-homed":{"name":"Single-Homed","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["multi-os-access"]}},"expertModelTrace":{}},"multi-homed":{"name":"Multi-Homed","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"xor","relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-relationships":{"name":"Customer Relationships","type":"optional","subfeatures":{"customer-aquisition":{"name":"Customer Aquisition","type":"optional","subfeatures":{"advertisements":{"name":"Advertisements","type":"optional","subfeatures":{"facbook-ads":{"name":"Facbook Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"friend-invitation-system":{"name":"Friend Invitation System","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"existing-customer-base":{"name":"Existing Customer Base","type":"optional","subfeatures":{"brand-customer-base":{"name":"Brand Customer Base","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"os-customer-base":{"name":"OS Customer Base","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"online-communities-1":{"name":"Online Communities","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"facebook-groups-1":{"name":"Facebook Groups","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["marketing"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-retention":{"name":"Customer Retention","type":"optional","subfeatures":{"locked-in":{"name":"Locked-In","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"gamification":{"name":"Gamification","type":"optional","subfeatures":{"progress-discovery":{"name":"Progress Discovery","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"friend-challenges":{"name":"Friend Challenges","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"excludes":["single-user"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"customer-support":{"name":"Customer Support","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"free-usage":{"name":"Free Usage","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"boosting-sales":{"name":"Boosting Sales","type":"optional","subfeatures":{"forced-stops":{"name":"Forced Stops","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"channels":{"name":"Customer Channels","type":"optional","subfeatures":{"awareness":{"name":"Awareness","type":"optional","subfeatures":{"word-of-mouth":{"name":"Word-of-Mouth","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"store-placement":{"name":"Store Placement","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"facebook-groups":{"name":"Facebook Groups","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"online-communities":{"name":"Online Communities","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"social-media-ads":{"name":"Social Media Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"influencer-marketing":{"name":"Influencer Marketing","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"evaluation":{"name":"Evaluation","type":"optional","subfeatures":{"freemium":{"name":"Freemium","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"appstore-optimization":{"name":"AppStore Optimization","type":"optional","subfeatures":{"review-reactions":{"name":"Review Reactions","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"company-branding":{"name":"Company Branding","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"purchase":{"name":"Purchase","type":"mandatory","subfeatures":{"in-store-purchase":{"name":"In-Store Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"out-of-store-purchase":{"name":"Out-of-Store Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["payment-provider"]}},"expertModelTrace":{}},"no-purchase":{"name":"No Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"delivery":{"name":"Delivery","type":"mandatory","subfeatures":{"in-store-delivery":{"name":"In-Store Delivery","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"out-of-store-delivery":{"name":"Out-of-Store Delivery","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"after-sales":{"name":"After Sales","type":"optional","subfeatures":{"app-updates":{"name":"App Updates","type":"optional","subfeatures":{"update-with-os":{"name":"Update with OS","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-updates":{"name":"Content Updates","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"included-in-os":{"name":"Included in OS","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-partners":{"name":"Key Partners","type":"optional","subfeatures":{"advertisement-partner":{"name":"Advertisement Partner","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["advertisement"]}},"expertModelTrace":{}},"app-developer":{"name":"App Developer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content-provider":{"name":"Content Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"instrastructure-provider":{"name":"Instrastructure Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"manufacturing-provider":{"name":"Manufacturing Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"payment-provider":{"name":"Payment Provider","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"store-provider":{"name":"Store Provider","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"third-party-developer":{"name":"Third-Party Developer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["developer-api"]}},"expertModelTrace":{}},"influencer":{"name":"Influencer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-activities":{"name":"Key Activities","type":"optional","subfeatures":{"develop-hard--and-software":{"name":"Develop Hard- and Software","type":"mandatory","subfeatures":{"develop-software":{"name":"Develop Software","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"develop-hardware":{"name":"Develop Hardware","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["development"]}},"expertModelTrace":{}},"negotiate-licsenses":{"name":"Negotiate Licenses","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["licenses"]}},"expertModelTrace":{}},"manage-infrastructure":{"name":"Manage Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["infrastructure"]}},"expertModelTrace":{}},"produce-content":{"name":"Produce Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["production-"]}},"expertModelTrace":{}},"plan-marketing-campaigns":{"name":"Plan Marketing Campaigns","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["marketing"]}},"expertModelTrace":{}},"support-customer":{"name":"Support Customer","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["support"]}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"key-resources":{"name":"Key Resources","type":"optional","subfeatures":{"algorithms":{"name":"Algorithms","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"brands":{"name":"Brands","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"content":{"name":"Content","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"developer-licsense":{"name":"Developer License","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"patents":{"name":"Patents","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"infrastructure-1":{"name":"Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{"requires":["infrastructure"]}},"expertModelTrace":{}},"developer-api":{"name":"Developer API","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"revenue-streams":{"name":"Revenue Streams","type":"optional","subfeatures":{"advertisement":{"name":"Advertisement","type":"optional","subfeatures":{"inn-app-ads":{"name":"In-App Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"personalized-ads":{"name":"Personalized Ads","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"brokerage":{"name":"Brokerage","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"donation":{"name":"Donation","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"sale":{"name":"Sale","type":"optional","subfeatures":{"app-purchase":{"name":"App Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"in-app-purchase":{"name":"In-App Purchase","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"subscription":{"name":"Subscription","type":"optional","subfeatures":{"normal-account":{"name":"Normal Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"professional-account":{"name":"Professional Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"business-account":{"name":"Business Account","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"cross-financed":{"name":"Cross-Financed","type":"optional","subfeatures":{"hardware":{"name":"Hardware","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"software":{"name":"Software","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":"or","relationships":{"relationships":{}},"expertModelTrace":{}},"cost-structure":{"name":"Cost Structure","type":"optional","subfeatures":{"development":{"name":"Development","type":"mandatory","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"infrastructure":{"name":"Infrastructure","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"licenses":{"name":"Licenses","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"marketing":{"name":"Marketing","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"production-":{"name":"Production ","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}},"support":{"name":"Support","type":"optional","subfeatures":{},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"subfeatureConnections":null,"relationships":{"relationships":{}},"expertModelTrace":{}}},"instances":[{"id":1,"name":"Microsoft Todo","type":"example","description":"","usedFeatures":["value-propositions","accessibility","simplified-sign-in-servies","multi-os-access","customization","personalized-recommendations","function-scope","medium-scope","task-management","work-together","workflow-management","intelligent-flow-planer","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","existing-customer-base","customer-retention","customer-support","free-usage","channels","awareness","word-of-mouth","evaluation","company-branding","purchase","in-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","store-provider","key-activities","develop-hard--and-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","developer-licsense","infrastructure-1","revenue-streams","cross-financed","cost-structure","development","infrastructure","marketing","support"]},{"id":2,"name":"Wunderlist","type":"example","description":"","usedFeatures":["value-propositions","accessibility","simplified-sign-in-servies","multi-os-access","device-syncronisation","design-/-usability","design-pattern-usage","function-scope","maximized-scope","task-management","splitting-of-tasks","work-together","workflow-management","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","customer-retention","customer-support","channels","awareness","word-of-mouth","store-placement","social-media-ads","evaluation","freemium","appstore-optimization","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","instrastructure-provider","payment-provider","store-provider","third-party-developer","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","algorithms","developer-licsense","infrastructure-1","developer-api","revenue-streams","subscription","normal-account","professional-account","cost-structure","development","infrastructure","marketing","support"]},{"id":3,"name":"Any.do","type":"example","description":"","usedFeatures":["value-propositions","design-/-usability","execution-step-reduction","design-pattern-usage","function-scope","maximized-scope","task-management","splitting-of-tasks","work-together","workflow-management","connect-to-calender","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","customer-retention","customer-support","channels","awareness","word-of-mouth","store-placement","social-media-ads","evaluation","freemium","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","instrastructure-provider","payment-provider","store-provider","third-party-developer","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","developer-licsense","infrastructure-1","developer-api","revenue-streams","subscription","normal-account","professional-account","business-account","cost-structure","development","infrastructure","marketing","support"]},{"id":4,"name":"Todoist","type":"example","description":"","usedFeatures":["value-propositions","customization","changeable-user-interfaces","design-/-usability","design-pattern-usage","function-scope","maximized-scope","task-management","workflow-management","workflow-templates","productivity-analysis","light-weight-tooling","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","customer-retention","locked-in","customer-support","channels","awareness","word-of-mouth","social-media-ads","evaluation","freemium","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","instrastructure-provider","payment-provider","store-provider","third-party-developer","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","developer-licsense","infrastructure-1","developer-api","revenue-streams","subscription","normal-account","business-account","cost-structure","development","infrastructure","marketing","support"]},{"id":5,"name":"Apples iOS","type":"example","description":"","usedFeatures":["value-propositions","design-/-usability","design-pattern-usage","function-scope","minimized-scope","task-management","customer-segments","interaction-type","single-user","market-size","mass-market","user-type","private-user","homing","single-homed","customer-relationships","customer-aquisition","existing-customer-base","channels","included-in-os","key-partners","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","support-customer","key-resources","infrastructure-1","revenue-streams","cross-financed","hardware","software","cost-structure","development","infrastructure","support"]},{"id":6,"name":"Googles Android","type":"example","description":"","usedFeatures":["value-propositions","design-/-usability","design-pattern-usage","function-scope","minimized-scope","task-management","customer-segments","interaction-type","single-user","market-size","mass-market","user-type","private-user","homing","single-homed","customer-relationships","customer-aquisition","existing-customer-base","channels","included-in-os","key-partners","key-activities","develop-hard--and-software","manage-infrastructure","support-customer","key-resources","infrastructure-1","revenue-streams","cross-financed","software","cost-structure","development","infrastructure","support"]},{"id":11,"name":"Mass Customization","type":"pattern","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","customization","personalized-recommendations","changeable-user-interfaces","market-size","mass-market"]},{"id":12,"name":"Freemium","type":"pattern","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","price","free-for-all","subscription"]},{"id":13,"name":"Lock-in","type":"pattern","usedFeatures":["key-partners","key-activities","value-propositions","customer-relationships","customer-segments","key-resources","channels","cost-structure","revenue-streams","customer-retention","locked-in"]}],"nextInstanceId":14,"$definition":{"type":"CanvasDefinition","_id":"1625144329606","_rev":"4-4b207d2084ec0ea1ed60d696fa42b22a","name":"Business Model Canvas","rows":[[{"isSpacer":false,"id":"key-partners","name":"Key Partners","rowspan":2,"colspan":2},{"isSpacer":false,"id":"key-activities","name":"Key Activities","rowspan":1,"colspan":2},{"isSpacer":false,"id":"value-propositions","name":"Value Propositions","rowspan":2,"colspan":2},{"isSpacer":false,"id":"customer-relationships","name":"Customer Relationships","rowspan":1,"colspan":2},{"isSpacer":false,"id":"customer-segments","name":"Customer Segments","rowspan":2,"colspan":2}],[{"isSpacer":false,"id":"key-resources","name":"Key Resources","rowspan":1,"colspan":2},{"isSpacer":false,"id":"channels","name":"Customer Channels","rowspan":1,"colspan":2}],[{"isSpacer":false,"id":"cost-structure","name":"Cost Structure","rowspan":1,"colspan":5},{"isSpacer":false,"id":"revenue-streams","name":"Revenue Streams","rowspan":1,"colspan":5}]],"relationshipTypes":["requires","excludes","supports","hurts"]},"domains":[{"type":"Domain","_id":"1625915974420","_rev":"1-ff3d81800563c2792e6730b304317b55","name":"Mobile Apps"},{"type":"Domain","_id":"1625915982726","_rev":"1-f95af9f6e7fa33ec8b7ff26ee2db88d4","name":"Mobile Todo-Apps"}],"version":"","_id":"66228982-71c3-4fb6-872b-ed96aaf84891"}]}').r];function il(t){return function(e){const i=new oie(t),o=e.lift(i);return i.caught=o}}class oie{constructor(n){this.selector=n}call(n,e){return e.subscribe(new rie(n,this.selector,this.caught))}}class rie extends tt{constructor(n,e,i){super(n),this.selector=e,this.caught=i}error(n){if(!this.isStopped){let e;try{e=this.selector(n,this.caught)}catch(r){return void super.error(r)}this._unsubscribeAndRecycle();const i=new Ye(this);this.add(i);const o=Ot(e,i);o!==i&&this.add(o)}}}function bA(t){return n=>n.lift(new sie(t))}class sie{constructor(n){this.callback=n}call(n,e){return e.subscribe(new aie(n,this.callback))}}class aie extends y{constructor(n,e){super(n),this.add(new C(e))}}var og=(()=>(function(t){t.INVALID_NAME="Name of database may only contain characters or numbers.",t.MISSING_NAME="Database name is missing."}(og||(og={})),og))();let rs=(()=>{class t{constructor(e){this.zone=e,Bv.plugin(nie)}init(e,i,o){this.db&&this.db.close(),this.db=this.getDatabase(e),this.expired=i,this.error=o}closeDb(){var e=this;return Y(function*(){yield e.getDb().close(),e.db=void 0,e.expired=void 0,e.error=void 0})()}getDatabase(e){if(null==e)throw new Error(og.MISSING_NAME);if(!/^[a-zA-Z0-9]+$/.test(e))throw new Error(og.INVALID_NAME);return new Bv(e)}getDatabaseInfo(){return this.getDb().info().catch(e=>this.handleError(e))}find(e,i){var o=this;return Y(function*(){try{let r;return r=Object.keys(i.selector).length>0?yield o._find(Object.assign(Object.assign({},i),{selector:{$and:[i.selector,{type:e}]}})):yield o._find(Object.assign(Object.assign({},i),{selector:{type:e}})),r.docs}catch(r){return o.handleError(r)}})()}get(e){var i=this;return Y(function*(){try{return yield i.getDb().get(e)}catch(o){return i.handleError(o)}})()}post(e){var i=this;return Y(function*(){try{yield i.getDb().post(e.toDb())}catch(o){yield i.handleError(o)}})()}put(e){var i=this;return Y(function*(){try{yield i.getDb().put(e.toDb())}catch(o){yield i.handleError(o)}})()}remove(e){var i=this;return Y(function*(){try{yield i.getDb().remove(e)}catch(o){yield i.handleError(o)}})()}getChangesFeed(e){const i=new Oe,o=this.getDb().changes({since:"now",live:!0,doc_ids:[e]}).on("change",()=>this.zone.run(()=>i.next())).on("error",r=>this.zone.run(()=>i.error(r)));return i.pipe(il(r=>Le(this.handleError(r))),bA(()=>o.cancel()))}handleError(e){var i=this;return Y(function*(){const o=e;throw 401===o.status&&"unauthorized"===o.error&&null!=i.expired&&(yield i.expired()),500===o.status&&"internal_server_error"===o.error&&null!=i.error&&(yield i.error()),e})()}addDefaultData(){var e=this;return Y(function*(){try{yield e.getDb().bulkDocs(iie)}catch(i){return e.handleError(i)}})()}clearDatabase(){var e=this;return Y(function*(){try{const o=(yield e.getDb().allDocs()).rows.map(r=>({_id:r.id,_rev:r.value.rev,_deleted:!0}));yield e.getDb().bulkDocs(o)}catch(i){yield e.handleError(i)}})()}getAllDocs(){var e=this;return Y(function*(){const i=(yield e.getDatabaseInfo()).doc_count,o=yield e._find({selector:{}});if(i!==o.docs.length)throw new Error("Doc count does not match export size");return o})()}importDocs(e){var i=this;return Y(function*(){try{yield i.getDb().bulkDocs(e)}catch(o){yield i.handleError(o)}})()}_find(e){var i=this;return Y(function*(){const o=yield i.getDb().find(e);if("bookmark"in o){const r=o;let s=r.docs.length;for(;s>0&&null!=r.bookmark;){const a=yield i.getDb().find(Object.assign(Object.assign({},e),{bookmark:r.bookmark}));s=a.docs.length,r.docs=r.docs.concat(a.docs),r.bookmark="bookmark"in o?a.bookmark:void 0}}return o})()}getDb(){if(null==this.db)throw new Error("Database is not initialized");return this.db}}return t.\u0275fac=function(e){return new(e||t)(Ve(Fi))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),xa=(()=>{class t{constructor(e){this.pouchdbService=e,this.lockedIds={}}add(e){var i=this;return Y(function*(){const o=new i.elementConstructor(void 0,e);return yield i.pouchdbService.post(o),o})()}getList(){var e=this;return Y(function*(){return e.pouchdbService.find(e.typeName,{selector:{}})})()}get(e){var i=this;return Y(function*(){return new i.elementConstructor(yield i.pouchdbService.get(e),void 0)})()}getWrite(e){return e in this.lockedIds?new Promise(i=>this.lockedIds[e].push(i)):(this.lockedIds[e]=[],this.get(e))}freeWrite(e){if(!(e in this.lockedIds))throw new Error("Id was not locked");this.handleNextWrite(e)}handleNextWrite(e){var i=this;return Y(function*(){const o=i.lockedIds[e].shift();null!=o?o(yield i.get(e)):delete i.lockedIds[e]})()}getChangesFeed(e){return this.pouchdbService.getChangesFeed(e)}delete(e){var i=this;return Y(function*(){yield i.pouchdbService.remove(yield i.get(e))})()}save(e){var i=this;return Y(function*(){yield i.pouchdbService.put(e)})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(rs))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();var te=E(4884),V=E(1632),rg={width:90,height:20};function Pm(t){return(0,te.is)(t,"bpmn:Event")||(0,te.is)(t,"bpmn:Gateway")||(0,te.is)(t,"bpmn:DataStoreReference")||(0,te.is)(t,"bpmn:DataObjectReference")||(0,te.is)(t,"bpmn:DataInput")||(0,te.is)(t,"bpmn:DataOutput")||(0,te.is)(t,"bpmn:SequenceFlow")||(0,te.is)(t,"bpmn:MessageFlow")||(0,te.is)(t,"bpmn:Group")}function Yv(t){return Gi(t.label)}function Xv(t){return t.waypoints?function lie(t){var n=t.length/2-1,e=t[Math.floor(n)],i=t[Math.ceil(n+.01)],o=function cie(t){var n=t.length/2-1,e=t[Math.floor(n)],i=t[Math.ceil(n+.01)];return{x:e.x+(i.x-e.x)/2,y:e.y+(i.y-e.y)/2}}(t),r=Math.atan((i.y-e.y)/(i.x-e.x)),s=o.x,a=o.y;return Math.abs(r)<Math.PI/2?a-=15:s+=15,{x:s,y:a}}(t.waypoints):(0,te.is)(t,"bpmn:Group")?{x:t.x+t.width/2,y:t.y+rg.height/2}:{x:t.x+t.width/2,y:t.y+t.height+rg.height/2}}function Gi(t){return t&&!!t.labelTarget}function Dm(t){return(0,te.is)(t,"bpmn:FlowNode")&&!Gi(t)}function Tc(t){return(0,te.is)(t,"bpmn:Process")&&!Gi(t)}function Fm(t){return(0,te.is)(t,"bpmn:SubProcess")&&!Gi(t)}function sg(t){return(0,te.is)(t,"bpmn:StartEvent")&&!Gi(t)}function CC(t){return(0,te.is)(t,"bpmn:EndEvent")&&!Gi(t)}function MC(t){return(0,te.is)(t,"bpmn:ExclusiveGateway")&&!Gi(t)}function SC(t){return(0,te.is)(t,"bpmn:ParallelGateway")&&!Gi(t)}function EC(t){return(0,te.is)(t,"bpmn:SequenceFlow")&&!Gi(t)}function TC(t){return(0,te.is)(t,"bpmn:Task")&&!Gi(t)}function PC(t){return(0,te.is)(t,"bpmn:CallActivity")&&!Gi(t)}class wA{constructor(n,e){this.visitedNodes=new Set,this.artifacts={},this.currentNodes=[],this.missingMap=[],this.elementRegistry=n.get("elementRegistry"),this.decisions=e}checkArtifacts(n,e){const i=new Set;if(null==n){const o=this.elementRegistry.find(r=>sg(r)&&Tc(r.parent));this.currentNodes.push(o),i.add(o.id)}else{const o=this.elementRegistry.filter(r=>n.has(r.id));this.currentNodes.push(...o),o.forEach(r=>i.add(r.id))}for(;this.currentNodes.length>0;){const o=this.currentNodes[0];this.currentNodes.splice(0,1),i.has(o.id)?this.visitedNodes.has(o)||this.handleCurrentNode(o,e):this.handleCurrentNode(o)}return this.getAllUnreachedNodes().forEach(o=>this.missingMap.push({node:o,missingArtifacts:null})),this.missingMap}handleCurrentNode(n,e){let i;if(SC(n)){if(i=this.getIncomingArtifactsUnion(n),null==i)return}else i=MC(n)?this.getIncomingArtifactsIntersect(n):this.getIncomingArtifacts(n);null!=e&&i.push(...e);let o=!1;this.visitedNodes.has(n)||(this.visitedNodes.add(n),o=!0);const r=i.map(h=>h._id),a=this.getNeededArtifacts(n).filter(h=>!r.includes(h._id));(a.length>0||n.id in this.missingMap)&&this.missingMap.push({node:n,missingArtifacts:a});const l=n.id in this.artifacts?this.artifacts[n.id].map(h=>h._id):void 0;this.artifacts[n.id]=[...i,...this.getCreatedArtifacts(n)];const d=this.artifacts[n.id].map(h=>h._id);null!=l&&d.every(w=>l.includes(w))&&l.every(w=>d.includes(w))&&!o||this.currentNodes.push(...this.getTargets(n))}getAllUnreachedNodes(){return this.elementRegistry.filter(n=>Dm(n)&&!this.visitedNodes.has(n)&&!Fm(n))}getNeededArtifacts(n){return this.getDecisionArtifacts(n,!0)}getCreatedArtifacts(n){return this.getDecisionArtifacts(n,!1)}getDecisionArtifacts(n,e=!1){if(n.id in this.decisions){const i=this.decisions[n.id];return(e?i.inputArtifacts:i.outputArtifacts).getSelectedElementsOptional().filter(r=>!e||!r.optional).map(r=>r.element)}return[]}getIncomingArtifactsUnion(n){const e=[],i=this.getSources(n);if(!i.some(o=>!(o.id in this.artifacts)))return i.forEach(o=>e.push(...this.getArtifacts(o))),e}getIncomingArtifactsIntersect(n){var e;const i=[],o=this.getSources(n);if(0===o.length)return[];o.filter(a=>a.id in this.artifacts).forEach(a=>i.push(this.getArtifacts(a)));const r=i.map(a=>a.map(l=>l._id));r.slice(0,1);let s=null!==(e=i[0])&&void 0!==e?e:[];return r.forEach(a=>s=s.filter(l=>a.includes(l._id))),s}getIncomingArtifacts(n){const e=[];return this.getSources(n).forEach(o=>e.push(...this.getArtifacts(o))),e}getArtifacts(n){return n.id in this.artifacts?this.artifacts[n.id]:[]}getSources(n){let e,i;for(e=n,i=e.incoming;0===i.length;e=e.parent,i=e.incoming)if(Tc(e.parent))return[];return i.map(o=>o.source).map(o=>Fm(o)?o.children.find(r=>CC(r)):o)}getTargets(n){let e,i;for(e=n,i=e.outgoing;0===i.length;e=e.parent,i=e.outgoing)if(Tc(e.parent))return[];return i.map(o=>o.target).map(o=>Fm(o)?o.children.find(r=>sg(r)):o)}}var fie=function mie(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t){var n=t.exports=function(e,i){if(i||(i=16),void 0===e&&(e=128),e<=0)return"0";for(var o=Math.log(Math.pow(2,e))/Math.log(i),r=2;o===1/0;r*=2)o=Math.log(Math.pow(2,e/r))/Math.log(i)*r;var s=o-Math.floor(o),a="";for(r=0;r<Math.floor(o);r++)a=Math.floor(Math.random()*i).toString(i)+a;if(s){var d=Math.pow(i,s);a=Math.floor(Math.random()*d).toString(i)+a}var h=parseInt(a,i);return h!==1/0&&h>=Math.pow(2,e)?n(e,i):a};n.rack=function(e,i,o){var r=function(a){var l=0;do{if(l++>10){if(!o)throw new Error("too many ID collisions, use more bits");e+=o}var d=n(e,i)}while(Object.hasOwnProperty.call(s,d));return s[d]=a,d},s=r.hats={};return r.get=function(a){return r.hats[a]},r.set=function(a,l){return r.hats[a]=l,r},r.bits=e||128,r.base=i||16,r}});function Pc(t){if(!(this instanceof Pc))return new Pc(t);this._seed=(t=t||[128,36,1]).length?fie.rack(t[0],t[1],t[2]):t}Pc.prototype.next=function(t){return this._seed(t||!0)},Pc.prototype.nextPrefixed=function(t,n){var e;do{e=t+this.next(!0)}while(this.assigned(e));return this.claim(e,n),e},Pc.prototype.claim=function(t,n){this._seed.set(t,n||!0)},Pc.prototype.assigned=function(t){return this._seed.get(t)||!1},Pc.prototype.unclaim=function(t){delete this._seed.hats[t]},Pc.prototype.clear=function(){var n,t=this._seed.hats;for(n in t)this.unclaim(n)};const xA=Pc;function Js(t,n,e){return 2==arguments.length?t.getAttribute(n):null===e?t.removeAttribute(n):(t.setAttribute(n,e),t)}var xie=[].indexOf,DC=function(t,n){if(xie)return t.indexOf(n);for(var e=0;e<t.length;++e)if(t[e]===n)return e;return-1},Cie=/\s+/,Mie=Object.prototype.toString;function Ar(t){return new _u(t)}function _u(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}function Kv(t){for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);return t}_u.prototype.add=function(t){if(this.list)return this.list.add(t),this;var n=this.array();return~DC(n,t)||n.push(t),this.el.className=n.join(" "),this},_u.prototype.remove=function(t){if("[object RegExp]"==Mie.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var n=this.array(),e=DC(n,t);return~e&&n.splice(e,1),this.el.className=n.join(" "),this},_u.prototype.removeMatching=function(t){for(var n=this.array(),e=0;e<n.length;e++)t.test(n[e])&&this.remove(n[e]);return this},_u.prototype.toggle=function(t,n){return this.list?(void 0!==n?n!==this.list.toggle(t,n)&&this.list.toggle(t):this.list.toggle(t),this):(void 0!==n?n?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},_u.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(Cie);return""===e[0]&&e.shift(),e},_u.prototype.has=_u.prototype.contains=function(t){return this.list?this.list.contains(t):!!~DC(this.array(),t)};var Am="undefined"!=typeof Element?Element.prototype:{},MA=Am.matches||Am.matchesSelector||Am.webkitMatchesSelector||Am.mozMatchesSelector||Am.msMatchesSelector||Am.oMatchesSelector,Qv=function Sie(t,n){if(!t||1!==t.nodeType)return!1;if(MA)return MA.call(t,n);for(var e=t.parentNode.querySelectorAll(n),i=0;i<e.length;i++)if(e[i]==t)return!0;return!1};function Im(t,n,e){for(var i=e?t:t.parentNode;i&&i.nodeType!==document.DOCUMENT_NODE&&i.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(Qv(i,n))return i;i=i.parentNode}return Qv(i,n)?i:null}var Jv,SA=window.addEventListener?"addEventListener":"attachEvent",Eie=window.removeEventListener?"removeEventListener":"detachEvent",EA="addEventListener"!==SA?"on":"",bn={bind:function(t,n,e,i){return t[SA](EA+n,e,i||!1),e},unbind:function(t,n,e,i){return t[Eie](EA+n,e,i||!1),e}},TA=["focus","blur"],Zs_bind=function Die(t,n,e,i,o){return-1!==TA.indexOf(e)&&(o=!0),bn.bind(t,e,function(r){r.delegateTarget=Im(r.target||r.srcElement,n,!0),r.delegateTarget&&i.call(t,r)},o)},Zs_unbind=function Fie(t,n,e,i){return-1!==TA.indexOf(n)&&(i=!0),bn.unbind(t,n,e,i)},$n=function Aie(t,n){if("string"!=typeof t)throw new TypeError("String expected");n||(n=document);var e=/<([\w:]+)/.exec(t);if(!e)return n.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var i=e[1];if("body"==i)return(l=n.createElement("html")).innerHTML=t,l.removeChild(l.lastChild);var l,o=or[i]||or._default,r=o[0],s=o[1],a=o[2];for((l=n.createElement("div")).innerHTML=s+t+a;r--;)l=l.lastChild;if(l.firstChild==l.lastChild)return l.removeChild(l.firstChild);for(var d=n.createDocumentFragment();l.firstChild;)d.appendChild(l.removeChild(l.firstChild));return d},PA=!1;"undefined"!=typeof document&&((Jv=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',PA=!Jv.getElementsByTagName("link").length,Jv=void 0);var or={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:PA?[1,"X<div>","</div>"]:[0,"",""]};function _o(t,n){return(n=n||document).querySelector(t)}function FC(t,n){return(n=n||document).querySelectorAll(t)}function ql(t){t.parentNode&&t.parentNode.removeChild(t)}function DA(t,n){return n.appendChild(function AC(t,n){if(t.ownerDocument!==n.ownerDocument)try{return n.ownerDocument.importNode(t,!0)}catch(e){}return t}(t,n))}function Cn(t,n){return DA(n,t),t}or.td=or.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],or.option=or.optgroup=[1,'<select multiple="multiple">',"</select>"],or.thead=or.tbody=or.colgroup=or.caption=or.tfoot=[1,"<table>","</table>"],or.polyline=or.ellipse=or.polygon=or.circle=or.text=or.line=or.path=or.rect=or.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var FA={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function AA(t,n,e){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=FA[i];o?(2===o&&"number"==typeof e&&(e=String(e)+"px"),t.style[i]=e):t.setAttributeNS(null,n,e)}function At(t,n,e){if("string"==typeof n){if(void 0===e)return function Iie(t,n){return FA[n]?t.style[n]:t.getAttributeNS(null,n)}(t,n);AA(t,n,e)}else!function kie(t,n){var i,o,e=Object.keys(n);for(i=0;o=e[i];i++)AA(t,o,n[o])}(t,n);return t}function kC(t,n){if(t.indexOf)return t.indexOf(n);for(var e=0;e<t.length;++e)if(t[e]===n)return e;return-1}var Nie=/\s+/,Rie=Object.prototype.toString;function NC(t){return void 0!==t}function hi(t){return new vu(t)}function vu(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}function To(t){var n=t.parentNode;return n&&n.removeChild(t),t}function RC(t){for(var n;n=t.firstChild;)To(n);return t}function IA(t){return t.cloneNode(!0)}vu.prototype.add=function(t){if(this.list)return this.list.add(t),this;var n=this.array();return~kC(n,t)||n.push(t),NC(this.el.className.baseVal)?this.el.className.baseVal=n.join(" "):this.el.className=n.join(" "),this},vu.prototype.remove=function(t){if("[object RegExp]"===Rie.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var n=this.array(),e=kC(n,t);return~e&&n.splice(e,1),this.el.className.baseVal=n.join(" "),this},vu.prototype.removeMatching=function(t){for(var n=this.array(),e=0;e<n.length;e++)t.test(n[e])&&this.remove(n[e]);return this},vu.prototype.toggle=function(t,n){return this.list?(NC(n)?n!==this.list.toggle(t,n)&&this.list.toggle(t):this.list.toggle(t),this):(NC(n)?n?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},vu.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(Nie);return""===e[0]&&e.shift(),e},vu.prototype.has=vu.prototype.contains=function(t){return this.list?this.list.contains(t):!!~kC(this.array(),t)};var OC_svg="http://www.w3.org/2000/svg",kA='<svg xmlns="'+OC_svg+'"';function NA(t){var n=!1;"<svg"===t.substring(0,4)?-1===t.indexOf(OC_svg)&&(t=kA+t.substring(4)):(t=kA+">"+t+"</svg>",n=!0);var e=function Oie(t){var n;return(n=new DOMParser).async=!1,n.parseFromString(t,"text/xml")}(t);if(!n)return e;for(var i=document.createDocumentFragment(),o=e.firstChild;o.firstChild;)i.appendChild(o.firstChild);return i}function _n(t,n){var e;return"<"===t.charAt(0)?(e=NA(t).firstChild,e=document.importNode(e,!0)):e=document.createElementNS(OC_svg,t),n&&At(e,n),e}var Zv=_n("svg");function BC(t,n){var e,i,o=Object.keys(n);for(e=0;i=o[e];e++)t[i]=n[i];return t}function ag(t){return t?Zv.createSVGTransformFromMatrix(t):Zv.createSVGTransform()}var RA=/([&<>]{1})/g,Lie=/([\n\r"]{1})/g,jie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function LC(t,n){return t.replace(n,function e(i,o){return jie[o]||o})}function OA(t,n){var e,i,o,r,s;switch(t.nodeType){case 3:n.push(LC(t.textContent,RA));break;case 1:if(n.push("<",t.tagName),t.hasAttributes())for(e=0,i=(o=t.attributes).length;e<i;++e)r=o.item(e),n.push(" ",r.name,'="',LC(r.value,Lie),'"');if(t.hasChildNodes()){for(n.push(">"),e=0,i=(s=t.childNodes).length;e<i;++e)OA(s.item(e),n);n.push("</",t.tagName,">")}else n.push("/>");break;case 8:n.push("\x3c!--",LC(t.nodeValue,RA),"--\x3e");break;case 4:n.push("<![CDATA[",t.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+t.nodeType)}return n}function BA(t,n){if(void 0!==n){try{!function Gie(t,n){var e=NA(n);if(RC(t),n){(function Hie(t){return"#document-fragment"===t.nodeName})(e)||(e=e.documentElement);for(var i=function Uie(t){return Array.prototype.slice.call(t)}(e.childNodes),o=0;o<i.length;o++)DA(i[o],t)}}(t,n)}catch(e){throw new Error("error parsing SVG: "+e.message)}return t}return function Vie(t){for(var n=t.firstChild,e=[];n;)OA(n,e),n=n.nextSibling;return e.join("")}(t)}function LA(t,n){return t.querySelector(n)}function qie(t,n){return n instanceof SVGMatrix?t.createSVGTransformFromMatrix(n):n}function lg(t,n){var e=t.transform.baseVal;return n&&(Array.isArray(n)||(n=[n]),function $ie(t,n){var e,i;for(t.clear(),e=0;i=n[e];e++)t.appendItem(qie(t,i))}(e,n)),e.consolidate()}var Wie=/^class /;function jC(t){return"[object Array]"===Object.prototype.toString.call(t)}function eb(){var t=Array.prototype.slice.call(arguments);1===t.length&&jC(t[0])&&(t=t[0]);var n=t.pop();return n.$inject=t,n}var Xie=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Kie=/^function\s*[^(]*\(\s*([^)]*)\)/m,Qie=/\/\*([^*]*)\*\//m;function Jie(t){if("function"!=typeof t)throw new Error('Cannot annotate "'+t+'". Expected a function!');var n=t.toString().match(function Yie(t){return Wie.test(t.toString())}(t)?Xie:Kie);return n&&n[1]&&n[1].split(",").map(function(e){return(n=e.match(Qie))?n[1].trim():e.trim()})||[]}function Zie(){var t=[];this.factory=function(n,e){return t.push([n,"factory",e]),this},this.value=function(n,e){return t.push([n,"value",e]),this},this.type=function(n,e){return t.push([n,"type",e]),this},this.forEach=function(n){t.forEach(n)}}var eoe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function jA(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function GC(t,n){n=n||{get:function(U,q){if(e.push(U),!1===q)return null;throw s('No provider for "'+U+'"!')}};var e=[],i=this._providers=Object.create(n._providers||null),o=this._instances=Object.create(null),r=o.injector=this,s=function(U){var q=e.join(" -> ");return e.length=0,new Error(q?U+" (Resolving: "+q+")":U)},a=function L(U,q){if(!i[U]&&-1!==U.indexOf(".")){for(var Z=U.split("."),Q=L(Z.shift());Z.length;)Q=Q[Z.shift()];return Q}if(VC(o,U))return o[U];if(VC(i,U)){if(-1!==e.indexOf(U))throw e.push(U),s("Cannot resolve circular dependency!");return e.push(U),o[U]=i[U][0](i[U][1]),e.pop(),o[U]}return n.get(U,q)},l=function(U){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof U){if(!jC(U))throw new Error('Cannot invoke "'+U+'". Expected a function!');U=eb(U.slice())}var Z=U.$inject||Jie(U),Q=Z.map(function(K){return VC(q,K)?q[K]:a(K)});return{fn:U,dependencies:Q}},d=function(U){var q=l(U);return new(Function.prototype.bind.apply(q.fn,[null].concat(jA(q.dependencies))))},h=function(U,q,Z){var Q=l(U,Z),J=Q.fn;return J.call.apply(J,[q].concat(jA(Q.dependencies)))},w=function(U){return eb(function(q){return U.get(q)})},N={factory:h,type:d,value:function(U){return U}};t.forEach(function(L){function U(K,J){return"value"!==K&&jC(J)&&(J=eb(J.slice())),J}if(L instanceof Zie)L.forEach(function(K){var ae=K[1];i[K[0]]=[N[ae],U(ae,K[2]),ae]});else if("object"===(void 0===L?"undefined":eoe(L)))if(L.__exports__){var q=Object.keys(L).reduce(function(K,J){return"__"!==J.substring(0,2)&&(K[J]=L[J]),K},Object.create(null)),Z=new GC((L.__modules__||[]).concat([q]),r),Q=eb(function(K){return Z.get(K)});L.__exports__.forEach(function(K){i[K]=[Q,K,"private",Z]})}else Object.keys(L).forEach(function(K){if("private"!==L[K][2]){var J=L[K][0];i[K]=[N[J],U(J,L[K][1]),J]}else i[K]=L[K]})}),this.get=a,this.invoke=h,this.instantiate=d,this.createChild=function(U,q){if(q&&q.length){var we,_e,qe,Xe,Z=Object.create(null),Q=Object.create(null),K=[],J=[],ae=[];for(var st in i)we=i[st],-1!==q.indexOf(st)&&("private"===we[2]?-1===(_e=K.indexOf(we[3]))?(qe=we[3].createChild([],q),Xe=w(qe),K.push(we[3]),J.push(qe),ae.push(Xe),Z[st]=[Xe,st,"private",qe]):Z[st]=[ae[_e],st,"private",J[_e]]:Z[st]=[we[2],we[1]],Q[st]=!0),("factory"===we[2]||"type"===we[2])&&we[1].$scope&&q.forEach(function(vt){-1!==we[1].$scope.indexOf(vt)&&(Z[st]=[we[2],we[1]],Q[vt]=!0)});q.forEach(function(vt){if(!Q[vt])throw new Error('No provider for "'+vt+'". Cannot use provider from the parent!')}),U.unshift(Z)}return new GC(U,r)}}function VC(t,n){return Object.hasOwnProperty.call(t,n)}function ol(t,n){var e=this;t.on(["render.shape","render.connection"],n=n||1e3,function(i,o){var r=i.type,s=o.element,a=o.gfx;if(e.canRender(s))return"render.shape"===r?e.drawShape(a,s):e.drawConnection(a,s)}),t.on(["render.getShapePath","render.getConnectionPath"],n,function(i,o){if(e.canRender(o))return"render.getShapePath"===i.type?e.getShapePath(o):e.getConnectionPath(o)})}function km(t){return t.join(",").replace(/,?([A-z]),?/g,"$1")}function GA(t){for(var i,n="",e=0;i=t[e];e++)n+=i.x+","+i.y+" ";return n}function HC(t,n){var e=_n("polyline");return At(e,{points:GA(t)}),n&&At(e,n),e}function VA(t){return(0,V.filter)(t,function(n){return!(0,V.find)(t,function(e){return e!==n&&HA(n,e)})})}function HA(t,n){if(n){if(t===n)return n;if(t.parent)return HA(t.parent,n)}}function UA(t,n,e){var i=!e||-1===t.indexOf(n);return i&&t.push(n),i}function Fd(t,n,e){e=e||0,(0,V.isArray)(t)||(t=[t]),(0,V.forEach)(t,function(i,o){var r=n(i,o,e);(0,V.isArray)(r)&&r.length&&Fd(r,n,e+1)})}function UC(t,n,e){var i=[],o=[];return Fd(t,function(r,s,a){UA(i,r,n);var l=r.children;if((-1===e||a<e)&&l&&UA(o,l,n))return l}),i}function zC(t,n){return UC(t,!n,-1)}function yr(t,n){var e,i,o,r;return n=!!n,(0,V.isArray)(t)||(t=[t]),(0,V.forEach)(t,function(s){var a=s;s.waypoints&&!n&&(a=yr(s.waypoints,!0));var l=a.x,d=a.y,h=a.height||0,w=a.width||0;(l<e||void 0===e)&&(e=l),(d<i||void 0===i)&&(i=d),(l+w>o||void 0===o)&&(o=l+w),(d+h>r||void 0===r)&&(r=d+h)}),{x:e,y:i,height:r-i,width:o-e}}function zA(t){return"waypoints"in t?"connection":"x"in t?"shape":"root"}function qA(t){return!(!t||!t.isFrame)}function cg(t,n){return(0,V.assign)({},t||{},n||{})}function bu(t,n){ol.call(this,t,1),this.CONNECTION_STYLE=n.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=n.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=n.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}ol.prototype.canRender=function(){},ol.prototype.drawShape=function(){},ol.prototype.drawConnection=function(){},ol.prototype.getShapePath=function(){},ol.prototype.getConnectionPath=function(){},on()(bu,ol),bu.prototype.canRender=function(){return!0},bu.prototype.drawShape=function(n,e){var i=_n("rect");return At(i,{x:0,y:0,width:e.width||0,height:e.height||0}),qA(e)?At(i,this.FRAME_STYLE):At(i,this.SHAPE_STYLE),Cn(n,i),i},bu.prototype.drawConnection=function(n,e){var i=HC(e.waypoints,this.CONNECTION_STYLE);return Cn(n,i),i},bu.prototype.getShapePath=function(n){var o=n.width;return km([["M",n.x,n.y],["l",o,0],["l",0,n.height],["l",-o,0],["z"]])},bu.prototype.getConnectionPath=function(n){var i,o,e=n.waypoints,r=[];for(i=0;o=e[i];i++)r.push([0===i?"M":"L",(o=o.original||o).x,o.y]);return km(r)},bu.$inject=["eventBus","styles"];const aoe={__init__:["defaultRenderer"],defaultRenderer:["type",bu],styles:["type",function soe(){var t={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},n=this;this.cls=function(e,i,o){var r=this.style(i,o);return(0,V.assign)(r,{class:e})},this.style=function(e,i){!(0,V.isArray)(e)&&!i&&(i=e,e=[]);var o=(0,V.reduce)(e,function(r,s){return(0,V.assign)(r,t[s]||{})},{});return i?(0,V.assign)(o,i):o},this.computeStyle=function(e,i,o){return(0,V.isArray)(i)||(o=i,i=[]),n.style(i||[],(0,V.assign)({},o,e||{}))}}]};function Ro(t,n){if(!t||!n)return-1;var e=t.indexOf(n);return-1!==e&&t.splice(e,1),e}function Oo(t,n,e){if(t&&n){"number"!=typeof e&&(e=-1);var i=t.indexOf(n);if(-1!==i){if(i===e)return;if(-1===e)return;t.splice(i,1)}-1!==e?t.splice(e,0,n):t.push(n)}}function qC(t,n){return t&&n?t.indexOf(n):-1}function tb(t,n){return Math.round(t*n)/n}function $A(t){return(0,V.isNumber)(t)?t+"px":t}function WA(t,n,e){var i=_n("g");return hi(i).add(n),t.insertBefore(i,t.childNodes[void 0!==e?e:t.childNodes.length-1]||null),i}var uoe={shape:["x","y","width","height"],connection:["waypoints"]};function yi(t,n,e,i){this._eventBus=n,this._elementRegistry=i,this._graphicsFactory=e,this._init(t||{})}function YA(t,n){t.setAttribute("transform","matrix("+n.a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")")}yi.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],yi.prototype._init=function(t){var n=this._eventBus,e=this._container=function loe(t){var n=(t=(0,V.assign)({},{width:"100%",height:"100%"},t)).container||document.body,e=document.createElement("div");return e.setAttribute("class","djs-container"),(0,V.assign)(e.style,{position:"relative",overflow:"hidden",width:$A(t.width),height:$A(t.height)}),n.appendChild(e),e}(t),i=this._svg=_n("svg");At(i,{width:"100%",height:"100%"}),Cn(e,i);var o=this._viewport=WA(i,"viewport");this._layers={},!1!==t.deferUpdate&&(this._viewboxChanged=(0,V.debounce)((0,V.bind)(this._viewboxChanged,this),300)),n.on("diagram.init",function(){n.fire("canvas.init",{svg:i,viewport:o})},this),n.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),n.on("diagram.destroy",500,this._destroy,this),n.on("diagram.clear",500,this._clear,this)},yi.prototype._destroy=function(t){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var n=this._container.parentNode;n&&n.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},yi.prototype._clear=function(){var t=this;this._elementRegistry.getAll().forEach(function(e){var i=zA(e);"root"===i?t.setRootElement(null,!0):t._removeElement(e,i)}),delete this._cachedViewbox},yi.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},yi.prototype.getLayer=function(t,n){if(!t)throw new Error("must specify a name");var e=this._layers[t];if(e||(e=this._layers[t]=this._createLayer(t,n)),void 0!==n&&e.index!==n)throw new Error("layer <"+t+"> already created at index <"+n+">");return e.group},yi.prototype._createLayer=function(t,n){n||(n=0);var e=(0,V.reduce)(this._layers,function(i,o){return n>=o.index&&i++,i},0);return{group:WA(this._viewport,"layer-"+t,e),index:n}},yi.prototype.getContainer=function(){return this._container},yi.prototype._updateMarker=function(t,n,e){var i;t.id||(t=this._elementRegistry.get(t)),(i=this._elementRegistry._elements[t.id])&&((0,V.forEach)([i.gfx,i.secondaryGfx],function(o){o&&(e?hi(o).add(n):hi(o).remove(n))}),this._eventBus.fire("element.marker.update",{element:t,gfx:i.gfx,marker:n,add:!!e}))},yi.prototype.addMarker=function(t,n){this._updateMarker(t,n,!0)},yi.prototype.removeMarker=function(t,n){this._updateMarker(t,n,!1)},yi.prototype.hasMarker=function(t,n){return t.id||(t=this._elementRegistry.get(t)),hi(this.getGraphics(t)).has(n)},yi.prototype.toggleMarker=function(t,n){this.hasMarker(t,n)?this.removeMarker(t,n):this.addMarker(t,n)},yi.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},yi.prototype.setRootElement=function(t,n){t&&this._ensureValid("root",t);var e=this._rootElement,i=this._elementRegistry,o=this._eventBus;if(e){if(!n)throw new Error("rootElement already set, need to specify override");o.fire("root.remove",{element:e}),o.fire("root.removed",{element:e}),i.remove(e)}if(t){var r=this.getDefaultLayer();o.fire("root.add",{element:t}),i.add(t,r,this._svg),o.fire("root.added",{element:t,gfx:r})}return this._rootElement=t,t},yi.prototype._ensureValid=function(t,n){if(!n.id)throw new Error("element must have an id");if(this._elementRegistry.get(n.id))throw new Error("element with id "+n.id+" already exists");var e=uoe[t];if(!(0,V.every)(e,function(o){return void 0!==n[o]}))throw new Error("must supply { "+e.join(", ")+" } with "+t)},yi.prototype._setParent=function(t,n,e){Oo(n.children,t,e),t.parent=n},yi.prototype._addElement=function(t,n,e,i){e=e||this.getRootElement();var o=this._eventBus,r=this._graphicsFactory;this._ensureValid(t,n),o.fire(t+".add",{element:n,parent:e}),this._setParent(n,e,i);var s=r.create(t,n,i);return this._elementRegistry.add(n,s),r.update(t,n,s),o.fire(t+".added",{element:n,gfx:s}),n},yi.prototype.addShape=function(t,n,e){return this._addElement("shape",t,n,e)},yi.prototype.addConnection=function(t,n,e){return this._addElement("connection",t,n,e)},yi.prototype._removeElement=function(t,n){var e=this._elementRegistry,i=this._graphicsFactory,o=this._eventBus;if(t=e.get(t.id||t))return o.fire(n+".remove",{element:t}),i.remove(t),Ro(t.parent&&t.parent.children,t),t.parent=null,o.fire(n+".removed",{element:t}),e.remove(t),t},yi.prototype.removeShape=function(t){return this._removeElement(t,"shape")},yi.prototype.removeConnection=function(t){return this._removeElement(t,"connection")},yi.prototype.getGraphics=function(t,n){return this._elementRegistry.getGraphics(t,n)},yi.prototype._changeViewbox=function(t){this._eventBus.fire("canvas.viewbox.changing"),t.apply(this),this._cachedViewbox=null,this._viewboxChanged()},yi.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},yi.prototype.viewbox=function(t){if(void 0===t&&this._cachedViewbox)return this._cachedViewbox;var e,o,r,s,a,l,n=this._viewport,i=this.getSize();return t?(this._changeViewbox(function(){s=Math.min(i.width/t.width,i.height/t.height);var d=this._svg.createSVGMatrix().scale(s).translate(-t.x,-t.y);lg(n,d)}),t):(e=this.getDefaultLayer().getBBox(),o=(r=lg(n))?r.matrix:function Bie(t,n,e,i,o,r){var s=Zv.createSVGMatrix();switch(arguments.length){case 0:return s;case 1:return BC(s,t);case 6:return BC(s,{a:t,b:n,c:e,d:i,e:o,f:r})}}(),s=tb(o.a,1e3),a=tb(-o.e||0,1e3),l=tb(-o.f||0,1e3),t=this._cachedViewbox={x:a?a/s:0,y:l?l/s:0,width:i.width/s,height:i.height/s,scale:s,inner:{width:e.width,height:e.height,x:e.x,y:e.y},outer:i})},yi.prototype.scroll=function(t){var n=this._viewport,e=n.getCTM();return t&&this._changeViewbox(function(){t=(0,V.assign)({dx:0,dy:0},t||{}),e=this._svg.createSVGMatrix().translate(t.dx,t.dy).multiply(e),YA(n,e)}),{x:e.e,y:e.f}},yi.prototype.zoom=function(t,n){return t?"fit-viewport"===t?this._fitViewport(n):(this._changeViewbox(function(){"object"!=typeof n&&(e=this.viewbox().outer,n={x:e.width/2,y:e.height/2}),i=this._setZoom(t,n)}),tb(i.a,1e3)):this.viewbox(t).scale;var e,i},yi.prototype._fitViewport=function(t){var o,r,n=this.viewbox(),e=n.outer,i=n.inner;return i.x>=0&&i.y>=0&&i.x+i.width<=e.width&&i.y+i.height<=e.height&&!t?r={x:0,y:0,width:Math.max(i.width+i.x,e.width),height:Math.max(i.height+i.y,e.height)}:(o=Math.min(1,e.width/i.width,e.height/i.height),r={x:i.x+(t?i.width/2-e.width/o/2:0),y:i.y+(t?i.height/2-e.height/o/2:0),width:e.width/o,height:e.height/o}),this.viewbox(r),this.viewbox(!1).scale},yi.prototype._setZoom=function(t,n){var a,l,d,h,e=this._svg,i=this._viewport,o=e.createSVGMatrix(),r=e.createSVGPoint(),w=(l=i.getCTM()).a;return n?(a=(0,V.assign)(r,n).matrixTransform(l.inverse()),d=o.translate(a.x,a.y).scale(1/w*t).translate(-a.x,-a.y),h=l.multiply(d)):h=o.scale(t),YA(this._viewport,h),h},yi.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},yi.prototype.getAbsoluteBBox=function(t){var e,n=this.viewbox();return{x:(e=t.waypoints?this.getGraphics(t).getBBox():t).x*n.scale-n.x*n.scale,y:e.y*n.scale-n.y*n.scale,width:e.width*n.scale,height:e.height*n.scale}},yi.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var ug="data-element-id";function Ca(t){this._elements={},this._eventBus=t}Ca.$inject=["eventBus"],Ca.prototype.add=function(t,n,e){var i=t.id;this._validateId(i),At(n,ug,i),e&&At(e,ug,i),this._elements[i]={element:t,gfx:n,secondaryGfx:e}},Ca.prototype.remove=function(t){var n=this._elements,e=t.id||t,i=e&&n[e];i&&(At(i.gfx,ug,""),i.secondaryGfx&&At(i.secondaryGfx,ug,""),delete n[e])},Ca.prototype.updateId=function(t,n){this._validateId(n),"string"==typeof t&&(t=this.get(t)),this._eventBus.fire("element.updateId",{element:t,newId:n});var e=this.getGraphics(t),i=this.getGraphics(t,!0);this.remove(t),t.id=n,this.add(t,e,i)},Ca.prototype.get=function(t){var n;n="string"==typeof t?t:t&&At(t,ug);var e=this._elements[n];return e&&e.element},Ca.prototype.filter=function(t){var n=[];return this.forEach(function(e,i){t(e,i)&&n.push(e)}),n},Ca.prototype.find=function(t){for(var n=this._elements,e=Object.keys(n),i=0;i<e.length;i++){var r=n[e[i]],s=r.element;if(t(s,r.gfx))return s}},Ca.prototype.getAll=function(){return this.filter(function(t){return t})},Ca.prototype.forEach=function(t){var n=this._elements;Object.keys(n).forEach(function(e){var i=n[e];return t(i.element,i.gfx)})},Ca.prototype.getGraphics=function(t,n){var i=this._elements[t.id||t];return i&&(n?i.secondaryGfx:i.gfx)},Ca.prototype._validateId=function(t){if(!t)throw new Error("element must have an id");if(this._elements[t])throw new Error("element with id "+t+" already added")};var doe=E(6318),Nm=E.n(doe),XA=new(Nm())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),KA=new(Nm())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),QA=new(Nm())({name:"attachers",collection:!0},{name:"host"}),JA=new(Nm())({name:"outgoing",collection:!0},{name:"source"}),ZA=new(Nm())({name:"incoming",collection:!0},{name:"target"});function dg(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(t){var n=this.label,e=this.labels;!t&&n?e.remove(n):e.add(t,0)}}),XA.bind(this,"parent"),KA.bind(this,"labels"),JA.bind(this,"outgoing"),ZA.bind(this,"incoming")}function Rm(){dg.call(this),XA.bind(this,"children"),QA.bind(this,"host"),QA.bind(this,"attachers")}function eI(){Rm.call(this)}function nb(){Rm.call(this),KA.bind(this,"labelTarget")}function tI(){dg.call(this),JA.bind(this,"source"),ZA.bind(this,"target")}on()(Rm,dg),on()(eI,Rm),on()(nb,Rm),on()(tI,dg);var poe={connection:tI,shape:Rm,label:nb,root:eI};function Dc(){this._uid=12}Dc.prototype.createRoot=function(t){return this.create("root",t)},Dc.prototype.createLabel=function(t){return this.create("label",t)},Dc.prototype.createShape=function(t){return this.create("shape",t)},Dc.prototype.createConnection=function(t){return this.create("connection",t)},Dc.prototype.create=function(t,n){return(n=(0,V.assign)({},n||{})).id||(n.id=t+"_"+this._uid++),function moe(t,n){var e=poe[t];if(!e)throw new Error("unknown type: <"+t+">");return(0,V.assign)(new e,n)}(t,n)};var ib="__fn",foe=Array.prototype.slice;function Rs(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function pg(){}function ob(t){return t.childNodes[0]}function iI(t,n,e,i,o){var r=ag();r.setTranslate(n,e);var s=ag();s.setRotate(i||0,0,0);var a=ag();a.setScale(o||1,o||1),lg(t,[r,s,a])}function Os(t,n,e){var i=ag();i.setTranslate(n,e),lg(t,i)}function oI(t,n){var e=ag();e.setRotate(n,0,0),lg(t,e)}function ea(t,n){this._eventBus=t,this._elementRegistry=n}function rI(t,n,e){var i=e||n.firstChild;t!==i&&n.insertBefore(t,i)}Rs.prototype.on=function(t,n,e,i){if(t=(0,V.isArray)(t)?t:[t],(0,V.isFunction)(n)&&(i=e,e=n,n=1e3),!(0,V.isNumber)(n))throw new Error("priority must be a number");var o=e;i&&((o=(0,V.bind)(e,i))[ib]=e[ib]||e);var r=this;t.forEach(function(s){r._addListener(s,{priority:n,callback:o,next:null})})},Rs.prototype.once=function(t,n,e,i){var o=this;if((0,V.isFunction)(n)&&(i=e,e=n,n=1e3),!(0,V.isNumber)(n))throw new Error("priority must be a number");function r(){var s=e.apply(i,arguments);return o.off(t,r),s}r[ib]=e,this.on(t,n,r)},Rs.prototype.off=function(t,n){t=(0,V.isArray)(t)?t:[t];var e=this;t.forEach(function(i){e._removeListener(i,n)})},Rs.prototype.createEvent=function(t){var n=new pg;return n.init(t),n},Rs.prototype.fire=function(t,n){var e,i,o,r;if(r=foe.call(arguments),"object"==typeof t&&(t=(n=t).type),!t)throw new Error("no event type specified");if(i=this._listeners[t]){e=n instanceof pg?n:this.createEvent(n),r[0]=e;var s=e.type;t!==s&&(e.type=t);try{o=this._invokeListeners(e,r,i)}finally{t!==s&&(e.type=s)}return void 0===o&&e.defaultPrevented&&(o=!1),o}},Rs.prototype.handleError=function(t){return!1===this.fire("error",{error:t})},Rs.prototype._destroy=function(){this._listeners={}},Rs.prototype._invokeListeners=function(t,n,e){for(var i;e&&!t.cancelBubble;)i=this._invokeListener(t,n,e),e=e.next;return i},Rs.prototype._invokeListener=function(t,n,e){var i;try{i=function hoe(t,n){return t.apply(null,n)}(e.callback,n),void 0!==i&&(t.returnValue=i,t.stopPropagation()),!1===i&&t.preventDefault()}catch(o){if(!this.handleError(o))throw console.error("unhandled error in event listener"),console.error(o.stack),o}return i},Rs.prototype._addListener=function(t,n){var i,e=this._getListeners(t);if(e){for(;e;){if(e.priority<n.priority)return n.next=e,void(i?i.next=n:this._setListeners(t,n));i=e,e=e.next}i.next=n}else this._setListeners(t,n)},Rs.prototype._getListeners=function(t){return this._listeners[t]},Rs.prototype._setListeners=function(t,n){this._listeners[t]=n},Rs.prototype._removeListener=function(t,n){var i,o,r,e=this._getListeners(t);if(n)for(;e;)i=e.next,((r=e.callback)===n||r[ib]===n)&&(o?o.next=i:this._setListeners(t,i)),o=e,e=i;else this._setListeners(t,null)},pg.prototype.stopPropagation=function(){this.cancelBubble=!0},pg.prototype.preventDefault=function(){this.defaultPrevented=!0},pg.prototype.init=function(t){(0,V.assign)(this,t||{})},ea.$inject=["eventBus","elementRegistry"],ea.prototype._getChildrenContainer=function(t){var e,n=this._elementRegistry.getGraphics(t);return t.parent?(e=function goe(t){return t.parentNode.childNodes[1]}(n),e||(hi(e=_n("g")).add("djs-children"),Cn(n.parentNode,e))):e=n,e},ea.prototype._clear=function(t){var n=ob(t);return Kv(n),n},ea.prototype._createContainer=function(t,n,e,i){var o=_n("g");hi(o).add("djs-group"),void 0!==e?rI(o,n,n.childNodes[e]):Cn(n,o);var r=_n("g");hi(r).add("djs-element"),hi(r).add("djs-"+t),i&&hi(r).add("djs-frame"),Cn(o,r);var s=_n("g");return hi(s).add("djs-visual"),Cn(r,s),r},ea.prototype.create=function(t,n,e){var i=this._getChildrenContainer(n.parent);return this._createContainer(t,i,e,qA(n))},ea.prototype.updateContainments=function(t){var i,n=this,e=this._elementRegistry;i=(0,V.reduce)(t,function(o,r){return r.parent&&(o[r.parent.id]=r.parent),o},{}),(0,V.forEach)(i,function(o){var r=o.children;if(r){var s=n._getChildrenContainer(o);(0,V.forEach)(r.slice().reverse(),function(a){rI(e.getGraphics(a).parentNode,s)})}})},ea.prototype.drawShape=function(t,n){return this._eventBus.fire("render.shape",{gfx:t,element:n})},ea.prototype.getShapePath=function(t){return this._eventBus.fire("render.getShapePath",t)},ea.prototype.drawConnection=function(t,n){return this._eventBus.fire("render.connection",{gfx:t,element:n})},ea.prototype.getConnectionPath=function(t){return this._eventBus.fire("render.getConnectionPath",t)},ea.prototype.update=function(t,n,e){if(n.parent){var i=this._clear(e);if("shape"===t)this.drawShape(i,n),Os(e,n.x,n.y);else{if("connection"!==t)throw new Error("unknown type: "+t);this.drawConnection(i,n)}At(e,"display",n.hidden?"none":"block")}},ea.prototype.remove=function(t){To(this._elementRegistry.getGraphics(t).parentNode)};const _oe={__depends__:[aoe],__init__:["canvas"],canvas:["type",yi],elementRegistry:["type",Ca],elementFactory:["type",Dc],eventBus:["type",Rs],graphicsFactory:["type",ea]};function Om(t,n){this.injector=n=n||function boe(t){return function voe(t){var n=[],e=[];function i(a){return n.indexOf(a)>=0}t.forEach(function r(a){i(a)||((a.__depends__||[]).forEach(r),!i(a)&&(function o(a){n.push(a)}(a),(a.__init__||[]).forEach(function(l){e.push(l)})))});var s=new GC(n);return e.forEach(function(a){try{s["string"==typeof a?"get":"invoke"](a)}catch(l){throw console.error("Failed to instantiate component"),console.error(l.stack),l}}),s}([{config:["value",t=t||{}]},_oe].concat(t.modules||[]))}(t),this.get=n.get,this.invoke=n.invoke,this.get("eventBus").fire("diagram.init")}function $C(){}function sI(t,n){this.model=t,this.properties=n}Om.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Om.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},$C.prototype.get=function(t){return this.$model.properties.get(this,t)},$C.prototype.set=function(t,n){this.$model.properties.set(this,t,n)},sI.prototype.createType=function(t){var n=this.model,e=this.properties,i=Object.create($C.prototype);(0,V.forEach)(t.properties,function(s){!s.isMany&&void 0!==s.default&&(i[s.name]=s.default)}),e.defineModel(i,n),e.defineDescriptor(i,t);var o=t.ns.name;function r(s){e.define(this,"$type",{value:o,enumerable:!0}),e.define(this,"$attrs",{value:{}}),e.define(this,"$parent",{writable:!0}),(0,V.forEach)(s,(0,V.bind)(function(a,l){this.set(l,a)},this))}return r.prototype=i,r.hasType=i.$instanceOf=this.model.hasType,e.defineModel(r,n),e.defineDescriptor(r,t),r};var yoe={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},aI={String:function(t){return t},Boolean:function(t){return"true"===t},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function WC(t,n){var e=aI[t];return e?e(n):n}function YC(t){return!!yoe[t]}function lI(t){return!!aI[t]}function bs(t,n){var i,o,e=t.split(/:/);if(1===e.length)i=t,o=n;else{if(2!==e.length)throw new Error("expected <prefix:localName> or <localName>, got "+t);i=e[1],o=e[0]}return{name:t=(o?o+":":"")+i,prefix:o,localName:i}}function Ma(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function yu(t,n){this.packageMap={},this.typeMap={},this.packages=[],this.properties=n,(0,V.forEach)(t,(0,V.bind)(this.registerPackage,this))}function cI(t,n,e){var i=n[e];if(i in t)throw new Error("package with "+e+" <"+i+"> already defined")}function Bm(t){this.model=t}function uI(t,n,e){Object.defineProperty(t,n.name,{enumerable:!n.isReference,writable:!0,value:e,configurable:!0})}function Sa(t){this.properties=new Bm(this),this.factory=new sI(this,this.properties),this.registry=new yu(t,this.properties),this.typeCache={}}Ma.prototype.build=function(){return(0,V.pick)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},Ma.prototype.addProperty=function(t,n,e){"boolean"==typeof n&&(e=n,n=void 0),this.addNamedProperty(t,!1!==e);var i=this.properties;void 0!==n?i.splice(n,0,t):i.push(t)},Ma.prototype.replaceProperty=function(t,n,e){var i=t.ns,o=this.properties,r=this.propertiesByName,s=t.name!==n.name;if(t.isId){if(!n.isId)throw new Error("property <"+n.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(n,!1)}if(t.isBody){if(!n.isBody)throw new Error("property <"+n.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(n,!1)}var a=o.indexOf(t);if(-1===a)throw new Error("property <"+i.name+"> not found in property list");o.splice(a,1),this.addProperty(n,e?void 0:a,s),r[i.name]=r[i.localName]=n},Ma.prototype.redefineProperty=function(t,n,e){var i=t.ns.prefix,o=n.split("#"),r=bs(o[0],i),s=bs(o[1],r.prefix).name,a=this.propertiesByName[s];if(!a)throw new Error("refined property <"+s+"> not found");this.replaceProperty(a,t,e),delete t.redefines},Ma.prototype.addNamedProperty=function(t,n){var e=t.ns,i=this.propertiesByName;n&&(this.assertNotDefined(t,e.name),this.assertNotDefined(t,e.localName)),i[e.name]=i[e.localName]=t},Ma.prototype.removeNamedProperty=function(t){var n=t.ns,e=this.propertiesByName;delete e[n.name],delete e[n.localName]},Ma.prototype.setBodyProperty=function(t,n){if(n&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t},Ma.prototype.setIdProperty=function(t,n){if(n&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t},Ma.prototype.assertNotDefined=function(t,n){var e=t.name,i=this.propertiesByName[e];if(i)throw new Error("property <"+e+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")},Ma.prototype.hasProperty=function(t){return this.propertiesByName[t]},Ma.prototype.addTrait=function(t,n){var e=this.allTypesByName,i=this.allTypes,o=t.name;o in e||((0,V.forEach)(t.properties,(0,V.bind)(function(r){r=(0,V.assign)({},r,{name:r.ns.localName,inherited:n}),Object.defineProperty(r,"definedBy",{value:t});var s=r.replaces,a=r.redefines;s||a?this.redefineProperty(r,s||a,s):(r.isBody&&this.setBodyProperty(r),r.isId&&this.setIdProperty(r),this.addProperty(r))},this)),i.push(t),e[o]=t)},yu.prototype.getPackage=function(t){return this.packageMap[t]},yu.prototype.getPackages=function(){return this.packages},yu.prototype.registerPackage=function(t){t=(0,V.assign)({},t);var n=this.packageMap;cI(n,t,"prefix"),cI(n,t,"uri"),(0,V.forEach)(t.types,(0,V.bind)(function(e){this.registerType(e,t)},this)),n[t.uri]=n[t.prefix]=t,this.packages.push(t)},yu.prototype.registerType=function(t,n){var e=bs((t=(0,V.assign)({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:(0,V.assign)(t.meta||{})})).name,n.prefix),i=e.name,o={};(0,V.forEach)(t.properties,(0,V.bind)(function(r){var s=bs(r.name,e.prefix),a=s.name;YC(r.type)||(r.type=bs(r.type,s.prefix).name),(0,V.assign)(r,{ns:s,name:a}),o[a]=r},this)),(0,V.assign)(t,{ns:e,name:i,propertiesByName:o}),(0,V.forEach)(t.extends,(0,V.bind)(function(r){var s=this.typeMap[r];s.traits=s.traits||[],s.traits.push(i)},this)),this.definePackage(t,n),this.typeMap[i]=t},yu.prototype.mapTypes=function(t,n,e){var i=YC(t.name)?{name:t.name}:this.typeMap[t.name],o=this;function r(a){return s(a,!0)}function s(a,l){var d=bs(a,YC(a)?"":t.prefix);o.mapTypes(d,n,l)}if(!i)throw new Error("unknown type <"+t.name+">");(0,V.forEach)(i.superClass,e?r:s),n(i,!e),(0,V.forEach)(i.traits,r)},yu.prototype.getEffectiveDescriptor=function(t){var n=bs(t),e=new Ma(n);this.mapTypes(n,function(o,r){e.addTrait(o,r)});var i=e.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},yu.prototype.definePackage=function(t,n){this.properties.define(t,"$pkg",{value:n})},Bm.prototype.set=function(t,n,e){var i=this.model.getPropertyDescriptor(t,n),o=i&&i.name;!function woe(t){return void 0===t}(e)?i?o in t?t[o]=e:uI(t,i,e):t.$attrs[n]=e:i?delete t[o]:delete t.$attrs[n]},Bm.prototype.get=function(t,n){var e=this.model.getPropertyDescriptor(t,n);if(!e)return t.$attrs[n];var i=e.name;return!t[i]&&e.isMany&&uI(t,e,[]),t[i]},Bm.prototype.define=function(t,n,e){if(!e.writable){var i=e.value;delete(e=(0,V.assign)({},e,{get:function(){return i}})).value}Object.defineProperty(t,n,e)},Bm.prototype.defineDescriptor=function(t,n){this.define(t,"$descriptor",{value:n})},Bm.prototype.defineModel=function(t,n){this.define(t,"$model",{value:n})},Sa.prototype.create=function(t,n){var e=this.getType(t);if(!e)throw new Error("unknown type <"+t+">");return new e(n)},Sa.prototype.getType=function(t){var n=this.typeCache,e=(0,V.isString)(t)?t:t.ns.name,i=n[e];return i||(t=this.registry.getEffectiveDescriptor(e),i=n[e]=this.factory.createType(t)),i},Sa.prototype.createAny=function(t,n,e){var i=bs(t),o={$type:t,$instanceOf:function(s){return s===this.$type}};return this.properties.defineDescriptor(o,{name:t,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:n}}),this.properties.defineModel(o,this),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),(0,V.forEach)(e,function(s,a){(0,V.isObject)(s)&&void 0!==s.value?o[s.name]=s.value:o[a]=s}),o},Sa.prototype.getPackage=function(t){return this.registry.getPackage(t)},Sa.prototype.getPackages=function(){return this.registry.getPackages()},Sa.prototype.getElementDescriptor=function(t){return t.$descriptor},Sa.prototype.hasType=function(t,n){return void 0===n&&(n=t,t=this),n in t.$model.getElementDescriptor(t).allTypesByName},Sa.prototype.getPropertyDescriptor=function(t,n){return this.getElementDescriptor(t).propertiesByName[n]},Sa.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var dI=String.fromCharCode,xoe=Object.prototype.hasOwnProperty,Coe=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,mg={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function Moe(t,n,e,i){return i?xoe.call(mg,i)?mg[i]:"&"+i+";":dI(n||parseInt(e,16))}function Ad(t){return t.length>3&&-1!==t.indexOf("&")?t.replace(Coe,Moe):t}Object.keys(mg).forEach(function(t){mg[t.toUpperCase()]=mg[t]});var pI="xsi:type",mI="non-whitespace outside of root node";function Lm(t){return new Error(t)}function fI(t){return"missing namespace for prefix <"+t+">"}function rb(t){return{get:t,enumerable:!0}}function Toe(t){var e,n={};for(e in t)n[e]=t[e];return n}function XC(t){return t+"$uri"}function hI(){return{line:0,column:0}}function Doe(t){throw t}function gI(t){if(!this)return new gI(t);var e,i,o,r,a,l,d,h,q,n=t&&t.proxy,s=Doe,w=hI,P=!1,N=!1,L=null,U=!1;function Z(J){J instanceof Error||(J=Lm(J)),L=J,s(J,w)}function Q(J){!a||(J instanceof Error||(J=Lm(J)),a(J,w))}this.on=function(J,ae){if("function"!=typeof ae)throw Lm("required args <name, cb>");switch(J){case"openTag":i=ae;break;case"text":e=ae;break;case"closeTag":o=ae;break;case"error":s=ae;break;case"warn":a=ae;break;case"cdata":r=ae;break;case"attention":h=ae;break;case"question":d=ae;break;case"comment":l=ae;break;default:throw Lm("unsupported event: "+J)}return this},this.ns=function(J){if(void 0===J&&(J={}),"object"!=typeof J)throw Lm("required args <nsMap={}>");var we,ae={};for(we in J)ae[we]=J[we];return ae["http://www.w3.org/2001/XMLSchema-instance"]="xsi",N=!0,q=ae,this},this.parse=function(J){if("string"!=typeof J)throw Lm("required args <xml=string>");return L=null,function K(J){var _e,qt,pn,Ut,$,G,ie,ve,Ue,ot,rt,ae=N?[]:null,we=N?function Poe(t){var e,i,n={};for(e in t)n[i=t[e]]=i,n[XC(i)]=e;return n}(q):null,qe=[],Xe=0,st=!1,vt=!1,Ct=0,Pt=0,De="",$e=0;function wt(){if(null!==rt)return rt;var ut,en,dn,ei,Dn,ri,Vo,bi,gl,xn,Ni,di=N&&we.xmlns,sn=N&&P?[]:null,jt=$e,tn=De,fn=tn.length,Rf={},cV={};e:for(;jt<fn;jt++)if(gl=!1,xn=tn.charCodeAt(jt),!(32===xn||xn<14&&xn>8)){for((xn<65||xn>122||xn>90&&xn<97)&&95!==xn&&58!==xn&&(Q("illegal first char attribute name"),gl=!0),Ni=jt+1;Ni<fn;Ni++)if(!((xn=tn.charCodeAt(Ni))>96&&xn<123||xn>64&&xn<91||xn>47&&xn<59||46===xn||45===xn||95===xn)){if(32===xn||xn<14&&xn>8){Q("missing attribute value"),jt=Ni;continue e}if(61===xn)break;Q("illegal attribute name char"),gl=!0}if("xmlns:xmlns"===(bi=tn.substring(jt,Ni))&&(Q("illegal declaration of xmlns"),gl=!0),34===(xn=tn.charCodeAt(Ni+1)))-1===(Ni=tn.indexOf('"',jt=Ni+2))&&-1!==(Ni=tn.indexOf("'",jt))&&(Q("attribute value quote missmatch"),gl=!0);else if(39===xn)-1===(Ni=tn.indexOf("'",jt=Ni+2))&&-1!==(Ni=tn.indexOf('"',jt))&&(Q("attribute value quote missmatch"),gl=!0);else for(Q("missing attribute value quotes"),gl=!0,Ni+=1;Ni<fn&&!(32===(xn=tn.charCodeAt(Ni+1))||xn<14&&xn>8);Ni++);for(-1===Ni&&(Q("missing closing quotes"),Ni=fn,gl=!0),gl||(ri=tn.substring(jt,Ni)),jt=Ni;Ni+1<fn&&!(32===(xn=tn.charCodeAt(Ni+1))||xn<14&&xn>8);Ni++)jt===Ni&&(Q("illegal character after attribute end"),gl=!0);if(jt=Ni+1,gl)continue e;if(bi in cV){Q("attribute <"+bi+"> already defined");continue}if(cV[bi]=!0,!N){Rf[bi]=ri;continue}if(P){if(null!==(Dn="xmlns"===bi?"xmlns":120===bi.charCodeAt(0)&&"xmlns:"===bi.substr(0,6)?bi.substr(6):null)){if(ut=Ad(ri),en=XC(Dn),!(Vo=q[ut])){if("xmlns"===Dn||en in we&&we[en]!==ut)do{Vo="ns"+Xe++}while(void 0!==we[Vo]);else Vo=Dn;q[ut]=Vo}we[Dn]!==Vo&&(ei||(we=Toe(we),ei=!0),we[Dn]=Vo,"xmlns"===Dn&&(we[XC(Vo)]=ut,di=Vo),we[en]=ut),Rf[bi]=ri;continue}sn.push(bi,ri);continue}if(-1===(xn=bi.indexOf(":"))){Rf[bi]=ri;continue}if(!(dn=we[bi.substring(0,xn)])){Q(fI(bi.substring(0,xn)));continue}(bi=di===dn?bi.substr(xn+1):dn+bi.substr(xn))===pI&&(-1!==(xn=ri.indexOf(":"))?(dn=ri.substring(0,xn),ri=(dn=we[dn]||dn)+ri.substring(xn)):ri=di+":"+ri),Rf[bi]=ri}if(P)for(jt=0,fn=sn.length;jt<fn;jt++){if(bi=sn[jt++],ri=sn[jt],-1!==(xn=bi.indexOf(":"))){if(!(dn=we[bi.substring(0,xn)])){Q(fI(bi.substring(0,xn)));continue}(bi=di===dn?bi.substr(xn+1):dn+bi.substr(xn))===pI&&(-1!==(xn=ri.indexOf(":"))?(dn=ri.substring(0,xn),ri=(dn=we[dn]||dn)+ri.substring(xn)):ri=di+":"+ri)}Rf[bi]=ri}return rt=Rf}for(w=function Gt(){for(var jt,tn,ut=/(\r\n|\r|\n)/g,en=0,dn=0,di=0,sn=Pt;Ct>=di&&(jt=ut.exec(J))&&!((sn=jt[0].length+jt.index)>Ct);)en+=1,di=sn;return-1==Ct?(dn=sn,tn=J.substring(Pt)):0===Pt?tn=J.substring(Pt,Ct):(dn=Ct-di,tn=-1==Pt?J.substring(Ct):J.substring(Ct,Pt+1)),{data:tn,line:en,column:dn}},n&&(ot=Object.create({},{name:rb(function(){return ve}),originalName:rb(function(){return Ue}),attrs:rb(wt),ns:rb(function(){return we})}));-1!==Pt;){if(-1===(Ct=60===J.charCodeAt(Pt)?Pt:J.indexOf("<",Pt)))return qe.length?Z("unexpected end of file"):0===Pt?Z("missing start tag"):void(Pt<J.length&&J.substring(Pt).trim()&&Q(mI));if(Pt!==Ct)if(qe.length){if(e&&(e(J.substring(Pt,Ct),Ad,w),U))return}else if(J.substring(Pt,Ct).trim()&&(Q(mI),U))return;if(33===($=J.charCodeAt(Ct+1))){if(91===(Ut=J.charCodeAt(Ct+2))&&"CDATA["===J.substr(Ct+3,6)){if(-1===(Pt=J.indexOf("]]>",Ct)))return Z("unclosed cdata");if(r&&(r(J.substring(Ct+9,Pt),w),U))return;Pt+=3;continue}if(45===Ut&&45===J.charCodeAt(Ct+3)){if(-1===(Pt=J.indexOf("--\x3e",Ct)))return Z("unclosed comment");if(l&&(l(J.substring(Ct+4,Pt),Ad,w),U))return;Pt+=3;continue}}if(63!==$){for(qt=Ct+1;;qt++){if(G=J.charCodeAt(qt),isNaN(G))return Pt=-1,Z("unclosed tag");if(34===G)qt=-1!==(Ut=J.indexOf('"',qt+1))?Ut:qt;else if(39===G)qt=-1!==(Ut=J.indexOf("'",qt+1))?Ut:qt;else if(62===G){Pt=qt;break}}if(33!==$){if(rt={},47===$){if(st=!1,vt=!0,!qe.length)return Z("missing open tag");if(qt=ve=qe.pop(),J.substring(Ct+2,Ut=Ct+2+qt.length)!==qt)return Z("closing tag mismatch");for(;Ut<Pt;Ut++)if(!(32===($=J.charCodeAt(Ut))||$>8&&$<14))return Z("close tag")}else{if(47===J.charCodeAt(Pt-1)?(qt=ve=J.substring(Ct+1,Pt-1),st=!0,vt=!0):(qt=ve=J.substring(Ct+1,Pt),st=!0,vt=!1),!($>96&&$<123||$>64&&$<91||95===$||58===$))return Z("illegal first char nodeName");for(Ut=1,pn=qt.length;Ut<pn;Ut++)if(!(($=qt.charCodeAt(Ut))>96&&$<123||$>64&&$<91||$>47&&$<59||45===$||95===$||46==$)){if(32===$||$<14&&$>8){ve=qt.substring(0,Ut),rt=null;break}return Z("invalid nodeName")}vt||qe.push(ve)}if(N){if(_e=we,st&&(vt||ae.push(_e),null===rt&&(P=-1!==qt.indexOf("xmlns",Ut))&&($e=Ut,De=qt,wt(),P=!1)),Ue=ve,-1!==($=ve.indexOf(":"))){if(!(ie=we[ve.substring(0,$)]))return Z("missing namespace on <"+Ue+">");ve=ve.substr($+1)}else ie=we.xmlns;ie&&(ve=ie+":"+ve)}if(st&&($e=Ut,De=qt,i&&(n?i(ot,Ad,vt,w):i(ve,wt,Ad,vt,w),U)))return;if(vt){if(o&&(o(n?ot:ve,Ad,st,w),U))return;N&&(we=st?_e:ae.pop())}Pt+=1}else{if(h&&(h(J.substring(Ct,Pt+1),Ad,w),U))return;Pt+=1}}else{if(-1===(Pt=J.indexOf("?>",Ct)))return Z("unclosed question");if(d&&(d(J.substring(Ct,Pt+2),w),U))return;Pt+=2}}}(J),w=hI,U=!1,L},this.stop=function(){U=!0}}function _I(t){return t.xml&&"lowerCase"===t.xml.tagAlias}var Foe={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},sb="xsi:type";function vI(t){return t.xml&&t.xml.serialize}function bI(t){return vI(t)===sb}function yI(t,n){return _I(n)?t.prefix+":"+function Ioe(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t.localName):t.name}function wu(t){return new Error(t)}function Fc(t){return t.$descriptor}function Roe(t){(0,V.assign)(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(n){this.references.push(n)},this.addElement=function(n){if(!n)throw wu("expected element");var r,e=this.elementsById,o=Fc(n).idProperty;if(o&&(r=n.get(o.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(r))throw new Error("illegal ID <"+r+">");if(e[r])throw wu("duplicate ID <"+r+">");e[r]=n}},this.addWarning=function(n){this.warnings.push(n)}}function fg(){}function KC(){}function jm(){}function hg(t,n){this.property=t,this.context=n}function QC(t,n){this.element=n,this.propertyDesc=t}function ab(){}function ss(t,n,e){this.model=t,this.type=t.getType(n),this.context=e}function JC(t,n,e){ss.call(this,t,n,e)}function Gm(t,n,e){this.model=t,this.context=e}function ZC(t){t instanceof Sa&&(t={model:t}),(0,V.assign)(this,{lax:!1},t)}fg.prototype.handleEnd=function(){},fg.prototype.handleText=function(){},fg.prototype.handleNode=function(){},(KC.prototype=Object.create(fg.prototype)).handleNode=function(){return this},(jm.prototype=Object.create(fg.prototype)).handleText=function(t){this.body=(this.body||"")+t},(hg.prototype=Object.create(jm.prototype)).handleNode=function(t){if(this.element)throw wu("expected no sub nodes");return this.element=this.createReference(t),this},hg.prototype.handleEnd=function(){this.element.id=this.body},hg.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}},(QC.prototype=Object.create(jm.prototype)).handleEnd=function(){var t=this.body||"",n=this.element,e=this.propertyDesc;t=WC(e.type,t),e.isMany?n.get(e.name).push(t):n.set(e.name,t)},(ab.prototype=Object.create(jm.prototype)).handleNode=function(t){var n=this,e=this.element;return e?n=this.handleChild(t):(e=this.element=this.createElement(t),this.context.addElement(e)),n},(ss.prototype=Object.create(ab.prototype)).addReference=function(t){this.context.addReference(t)},ss.prototype.handleText=function(t){if(!Fc(this.element).bodyProperty)throw wu("unexpected body text <"+t+">");jm.prototype.handleText.call(this,t)},ss.prototype.handleEnd=function(){var t=this.body,n=this.element,i=Fc(n).bodyProperty;i&&void 0!==t&&(t=WC(i.type,t),n.set(i.name,t))},ss.prototype.createElement=function(t){var a,n=t.attributes,e=this.type,i=Fc(e),o=this.context,r=new e({}),s=this.model;return(0,V.forEach)(n,function(l,d){var w,h=i.propertiesByName[d];h&&h.isReference?h.isMany?(w=l.split(" "),(0,V.forEach)(w,function(P){o.addReference({element:r,property:h.ns.name,id:P})})):o.addReference({element:r,property:h.ns.name,id:l}):(h?l=WC(h.type,l):"xmlns"!==d&&(a=bs(d,i.ns.prefix),s.getPackage(a.prefix)&&o.addWarning({message:"unknown attribute <"+d+">",element:r,property:d,value:l})),r.set(d,l))}),r},ss.prototype.getPropertyForNode=function(t){var l,d,e=bs(t.name),o=this.model,r=Fc(this.type),a=r.propertiesByName[e.name];if(a&&!a.isAttr)return bI(a)&&(l=t.attributes[sb])?(l=function Noe(t,n){var e=bs(t);return function koe(t,n){var e=t.name,i=t.localName,o=n.xml&&n.xml.typePrefix;return o&&0===i.indexOf(o)?t.prefix+":"+i.slice(o.length):e}(e,n.getPackage(e.prefix))}(l,o),d=o.getType(l),(0,V.assign)({},a,{effectiveType:Fc(d).name})):a;var h=o.getPackage(e.prefix);if(h){if(l=yI(e,h),d=o.getType(l),a=(0,V.find)(r.properties,function(w){return!w.isVirtual&&!w.isReference&&!w.isAttribute&&d.hasType(w.type)}))return(0,V.assign)({},a,{effectiveType:Fc(d).name})}else if(a=(0,V.find)(r.properties,function(w){return!w.isReference&&!w.isAttribute&&"Element"===w.type}))return a;throw wu("unrecognized element <"+e.name+">")},ss.prototype.toString=function(){return"ElementDescriptor["+Fc(this.type).name+"]"},ss.prototype.valueHandler=function(t,n){return new QC(t,n)},ss.prototype.referenceHandler=function(t){return new hg(t,this.context)},ss.prototype.handler=function(t){return"Element"===t?new Gm(this.model,t,this.context):new ss(this.model,t,this.context)},ss.prototype.handleChild=function(t){var n,e,i,o;if(n=this.getPropertyForNode(t),i=this.element,lI(e=n.effectiveType||n.type))return this.valueHandler(n,i);var r=(o=n.isReference?this.referenceHandler(n).handleNode(t):this.handler(e).handleNode(t)).element;return void 0!==r&&(n.isMany?i.get(n.name).push(r):i.set(n.name,r),n.isReference?((0,V.assign)(r,{element:i}),this.context.addReference(r)):r.$parent=i),o},(JC.prototype=Object.create(ss.prototype)).createElement=function(t){var n=t.name,e=bs(n),o=this.type,r=this.model.getPackage(e.prefix),s=r&&yI(e,r)||n;if(!o.hasType(s))throw wu("unexpected element <"+t.originalName+">");return ss.prototype.createElement.call(this,t)},(Gm.prototype=Object.create(ab.prototype)).createElement=function(t){var n=t.name,e=bs(n);return this.model.createAny(n,t.ns[e.prefix+"$uri"],t.attributes)},Gm.prototype.handleChild=function(t){var n=new Gm(this.model,"Element",this.context).handleNode(t),e=this.element,i=n.element;return void 0!==i&&((e.$children=e.$children||[]).push(i),i.$parent=e),n},Gm.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},ZC.prototype.fromXML=function(t,n,e){var i=n.rootHandler;n instanceof ss?(i=n,n={}):"string"==typeof n?(i=this.handler(n),n={}):"string"==typeof i&&(i=this.handler(i));var o=this.model,r=this.lax,s=new Roe((0,V.assign)({},n,{rootHandler:i})),a=new gI({proxy:!0}),l=function Ooe(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}();function d(ae,we,_e){var qe=we(),Xe=qe.line,st=qe.column,vt=qe.data;"<"===vt.charAt(0)&&-1!==vt.indexOf(" ")&&(vt=vt.slice(0,vt.indexOf(" "))+">");var Ct="unparsable content "+(vt?vt+" ":"")+"detected\n\tline: "+Xe+"\n\tcolumn: "+st+"\n\tnested error: "+ae.message;if(_e)return s.addWarning({message:Ct,error:ae}),!0;throw wu(Ct)}function h(ae,we){return d(ae,we,!0)}i.context=s,l.push(i);var N=/^<\?xml /i,L=/ encoding="([^"]+)"/i,U=/^utf-8$/i;function Q(ae,we){try{l.peek().handleText(ae)}catch(_e){h(_e,we)}}var J=o.getPackages().reduce(function(ae,we){return ae[we.uri]=we.prefix,ae},{"http://www.w3.org/XML/1998/namespace":"xml"});return a.ns(J).on("openTag",function(ae,we,_e,qe){var Xe=ae.attrs||{},st=Object.keys(Xe).reduce(function(Ct,Pt){var qt=we(Xe[Pt]);return Ct[Pt]=qt,Ct},{});!function Z(ae,we){var _e=l.peek();try{l.push(_e.handleNode(ae))}catch(qe){d(qe,we,r)&&l.push(new KC)}}({name:ae.name,originalName:ae.originalName,attributes:st,ns:ae.ns},qe)}).on("question",function q(ae){if(N.test(ae)){var we=L.exec(ae),_e=we&&we[1];!_e||U.test(_e)||s.addWarning({message:"unsupported document encoding <"+_e+">, falling back to UTF-8"})}}).on("closeTag",function P(){l.pop().handleEnd()}).on("cdata",Q).on("text",function(ae,we,_e){!function K(ae,we){!ae.trim()||Q(ae,we)}(we(ae),_e)}).on("error",d).on("warn",h),new Promise(function(ae,we){var _e;try{a.parse(t),function w(){var _e,qe,ae=s.elementsById,we=s.references;for(_e=0;qe=we[_e];_e++){var Xe=qe.element,st=ae[qe.id],vt=Fc(Xe).propertiesByName[qe.property];if(st||s.addWarning({message:"unresolved reference <"+qe.id+">",element:qe.element,property:qe.property,value:qe.id}),vt.isMany){var Ct=Xe.get(vt.name),Pt=Ct.indexOf(qe);-1===Pt&&(Pt=Ct.length),st?Ct[Pt]=st:Ct.splice(Pt,1)}else Xe.set(vt.name,st)}}()}catch(Ct){_e=Ct}var qe=i.element;!_e&&!qe&&(_e=wu("failed to parse document as <"+i.type.$descriptor.name+">"));var Xe=s.warnings,st=s.references,vt=s.elementsById;return _e?(_e.warnings=Xe,we(_e)):ae({rootElement:qe,elementsById:vt,references:st,warnings:Xe})})},ZC.prototype.handler=function(t){return new JC(this.model,t)};var Loe=/<|>|'|"|&|\n\r|\n/g,wI=/<|>|&/g;function joe(t){var n={},e={},i={},o=[],r=[];this.byUri=function(s){return e[s]||t&&t.byUri(s)},this.add=function(s,a){e[s.uri]=s,a?o.push(s):r.push(s),this.mapPrefix(s.prefix,s.uri)},this.uriByPrefix=function(s){return n[s||"xmlns"]},this.mapPrefix=function(s,a){n[s||"xmlns"]=a},this.getNSKey=function(s){return void 0!==s.prefix?s.uri+"|"+s.prefix:s.uri},this.logUsed=function(s){var a=s.uri,l=this.getNSKey(s);i[l]=this.byUri(a),t&&t.logUsed(s)},this.getUsed=function(s){var l=this;return[].concat(o,r).filter(function a(h){var w=l.getNSKey(h);return i[w]})}}function Voe(t,n){return _I(n)?function Goe(t){return t.charAt(0).toLowerCase()+t.slice(1)}(t):t}function xI(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function CI(t){return(0,V.isString)(t)?t:(t.prefix?t.prefix+":":"")+t.localName}var $oe={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Woe={"<":"lt",">":"gt","&":"amp"};function MI(t,n,e){return(t=(0,V.isString)(t)?t:""+t).replace(n,function(i){return"&"+e[i]+";"})}function eM(t){this.tagName=t}function Id(){}function tM(t){this.tagName=t}function ro(t,n){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=n}function lb(t,n){ro.call(this,t,n)}function Joe(){this.value="",this.write=function(t){this.value+=t}}function Zoe(t,n){var e=[""];this.append=function(i){return t.write(i),this},this.appendNewLine=function(){return n&&t.write("\n"),this},this.appendIndent=function(){return n&&t.write(e.join("  ")),this},this.indent=function(){return e.push(""),this},this.unindent=function(){return e.pop(),this}}function ere(t){return t=(0,V.assign)({format:!1,preamble:!0},t||{}),{toXML:function n(e,i){var o=i||new Joe,r=new Zoe(o,t.format);if(t.preamble&&r.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new ro).build(e).serializeTo(r),!i)return o.value}}}function cb(t,n){Sa.call(this,t,n)}eM.prototype.build=function(t){return this.element=t,this},eM.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Id.prototype.serializeValue=Id.prototype.serializeTo=function(t){t.append(this.escape?function Xoe(t){return MI(t,wI,Woe)}(this.value):this.value)},Id.prototype.build=function(t,n){return this.value=n,"String"===t.type&&-1!==n.search(wI)&&(this.escape=!0),this},xI(tM,Id),tM.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()},ro.prototype.build=function(t){this.element=t;var i,o,n=t.$descriptor,e=this.propertyDescriptor,r=n.isGeneric;return i=r?this.parseGeneric(t):this.parseNsAttributes(t),this.ns=e?this.nsPropertyTagName(e):this.nsTagName(n),this.tagName=this.addTagName(this.ns),r||(o=function qoe(t){return(0,V.filter)(t.$descriptor.properties,function(e){var i=e.name;if(e.isVirtual||!(0,V.has)(t,i))return!1;var o=t[i];return o!==e.default&&null!==o&&(!e.isMany||o.length)})}(t),this.parseAttributes(function Koe(t){return(0,V.filter)(t,function(n){return n.isAttr})}(o)),this.parseContainments(function Qoe(t){return(0,V.filter)(t,function(n){return!n.isAttr})}(o))),this.parseGenericAttributes(t,i),this},ro.prototype.nsTagName=function(t){return function Uoe(t,n){return(0,V.assign)(n.isGeneric?{localName:n.ns.localName}:{localName:Voe(n.ns.localName,n.$pkg)},t)}(this.logNamespaceUsed(t.ns),t)},ro.prototype.nsPropertyTagName=function(t){return function zoe(t,n){return(0,V.assign)({localName:n.ns.localName},t)}(this.logNamespaceUsed(t.ns),t)},ro.prototype.isLocalNs=function(t){return t.uri===this.ns.uri},ro.prototype.nsAttributeName=function(t){var n;if(n=(0,V.isString)(t)?bs(t):t.ns,t.inherited)return{localName:n.localName};var e=this.logNamespaceUsed(n);return this.getNamespaces().logUsed(e),this.isLocalNs(e)?{localName:n.localName}:(0,V.assign)({localName:n.localName},e)},ro.prototype.parseGeneric=function(t){var n=this,e=this.body,i=[];return(0,V.forEach)(t,function(o,r){"$body"===r?e.push((new Id).build({type:"String"},o)):"$children"===r?(0,V.forEach)(o,function(a){e.push(new ro(n).build(a))}):0!==r.indexOf("$")&&n.parseNsAttribute(t,r,o)&&i.push({name:r,value:o})}),i},ro.prototype.parseNsAttribute=function(t,n,e){var r,i=t.$model,o=bs(n);if("xmlns"===o.prefix&&(r={prefix:o.localName,uri:e}),!o.prefix&&"xmlns"===o.localName&&(r={uri:e}),!r)return{name:n,value:e};if(i&&i.getPackage(e))this.logNamespace(r,!0,!0);else{var s=this.logNamespaceUsed(r,!0);this.getNamespaces().logUsed(s)}},ro.prototype.parseNsAttributes=function(t,n){var e=this,o=[];return(0,V.forEach)(t.$attrs,function(r,s){var a=e.parseNsAttribute(t,s,r);a&&o.push(a)}),o},ro.prototype.parseGenericAttributes=function(t,n){var e=this;(0,V.forEach)(n,function(i){if(i.name!==sb)try{e.addAttribute(e.nsAttributeName(i.name),i.value)}catch(o){console.warn("missing namespace information for ",i.name,"=",i.value,"on",t,o)}})},ro.prototype.parseContainments=function(t){var n=this,e=this.body,i=this.element;(0,V.forEach)(t,function(o){var r=i.get(o.name),s=o.isReference;if(o.isMany||(r=[r]),o.isBody)e.push((new Id).build(o,r[0]));else if(lI(o.type))(0,V.forEach)(r,function(h){e.push(new tM(n.addTagName(n.nsPropertyTagName(o))).build(o,h))});else if(s)(0,V.forEach)(r,function(h){e.push(new eM(n.addTagName(n.nsPropertyTagName(o))).build(h))});else{var l=bI(o),d=function Aoe(t){return"property"===vI(t)}(o);(0,V.forEach)(r,function(h){var w;w=l?new lb(n,o):d?new ro(n,o):new ro(n),e.push(w.build(h))})}})},ro.prototype.getNamespaces=function(t){var i,n=this.namespaces,e=this.parent;return n||(i=e&&e.getNamespaces(),t||!i?this.namespaces=n=new joe(i):n=i),n},ro.prototype.logNamespace=function(t,n,e){var i=this.getNamespaces(e),o=t.uri,r=t.prefix;return(!i.byUri(o)||e)&&i.add(t,n),i.mapPrefix(r,o),t},ro.prototype.logNamespaceUsed=function(t,n){var a,l,d,i=this.element.$model,o=this.getNamespaces(n),r=t.prefix,s=t.uri;if(!r&&!s)return{localName:t.localName};if(d=Foe[r]||i&&(i.getPackage(r)||{}).uri,!(s=s||d||o.uriByPrefix(r)))throw new Error("no namespace uri given for prefix <"+r+">");if(!(t=o.byUri(s))){for(a=r,l=1;o.uriByPrefix(a);)a=r+"_"+l++;t=this.logNamespace({prefix:a,uri:s},d===s)}return r&&o.mapPrefix(r,s),t},ro.prototype.parseAttributes=function(t){var n=this,e=this.element;(0,V.forEach)(t,function(i){var o=e.get(i.name);if(i.isReference)if(i.isMany){var r=[];(0,V.forEach)(o,function(s){r.push(s.id)}),o=r.join(" ")}else o=o.id;n.addAttribute(n.nsAttributeName(i),o)})},ro.prototype.addTagName=function(t){var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),CI(t)},ro.prototype.addAttribute=function(t,n){var e=this.attrs;(0,V.isString)(n)&&(n=function Yoe(t){return MI(t,Loe,$oe)}(n)),e.push({name:t,value:n})},ro.prototype.serializeAttributes=function(t){var n=this.attrs,e=this.namespaces;e&&(n=function Hoe(t){return t.getUsed().filter(function(n){return"xml"!==n.prefix}).map(function(n){return{name:"xmlns"+(n.prefix?":"+n.prefix:""),value:n.uri}})}(e).concat(n)),(0,V.forEach)(n,function(i){t.append(" ").append(CI(i.name)).append('="').append(i.value).append('"')})},ro.prototype.serializeTo=function(t){var n=this.body[0],e=n&&n.constructor!==Id;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(n?">":" />"),n&&(e&&t.appendNewLine().indent(),(0,V.forEach)(this.body,function(i){i.serializeTo(t)}),e&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()},xI(lb,ro),lb.prototype.parseNsAttributes=function(t){var n=ro.prototype.parseNsAttributes.call(this,t),e=t.$descriptor;if(e.name===this.propertyDescriptor.type)return n;var i=this.typeNs=this.nsTagName(e);this.getNamespaces().logUsed(this.typeNs);var o=t.$model.getPackage(i.uri),r=o.xml&&o.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(sb),(i.prefix?i.prefix+":":"")+r+e.ns.localName),n},lb.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri},(cb.prototype=Object.create(Sa.prototype)).fromXML=function(t,n,e){(0,V.isString)(n)||(e=n,n="bpmn:Definitions");var i=new ZC((0,V.assign)({model:this,lax:!0},e)),o=i.handler(n);return i.fromXML(t,o)},cb.prototype.toXML=function(t,n){var e=new ere(n);return new Promise(function(i,o){try{return i({xml:e.toXML(t)})}catch(s){return o(s)}})};var Ure={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};const qre=function zre(t,n){return new cb((0,V.assign)({},Ure,t),n)};function Gr(t){return t?"<"+t.$type+(t.id?' id="'+t.id:"")+'" />':"<null>"}var $re=new(Nm())({name:"bpmnElement",enumerable:!0},{name:"di",configurable:!0});function Bs(t,n){return t.$instanceOf(n)}function Yre(t,n){var e={},i=[];function o(De,$e){return function(rt){De(rt,$e)}}function r(De){e[De.id]=De}function d(De,$e){try{var rt=De.di&&function a(De,$e){if(De.gfx)throw new Error(n("already rendered {element}",{element:Gr(De)}));return t.element(De,$e)}(De,$e);return r(De),rt}catch(wt){h(wt.message,{element:De,error:wt}),console.error(n("failed to import {element}",{element:Gr(De)})),console.error(wt)}}function h(De,$e){t.error(De,$e)}function w(De){var $e=De.bpmnElement;$e?$e.di?h(n("multiple DI elements defined for {element}",{element:Gr($e)}),{element:$e}):($re.bind($e,"di"),$e.di=De):h(n("no bpmnElement referenced in {element}",{element:Gr(De)}),{element:De})}function L(De){w(De)}function q(){for(;i.length;)i.shift()()}function Z(De,$e){G(De,$e),st(De.ioSpecification,$e),Xe(De.artifacts,$e),r(De)}function K(De,$e){d(De,$e)}function ae(De,$e){d(De,$e)}function we(De,$e){d(De,$e)}function _e(De,$e){d(De,$e)}function qe(De,$e){d(De,$e)}function Xe(De,$e){(0,V.forEach)(De,function(rt){Bs(rt,"bpmn:Association")?i.push(function(){qe(rt,$e)}):qe(rt,$e)})}function st(De,$e){!De||((0,V.forEach)(De.dataInputs,o(we,$e)),(0,V.forEach)(De.dataOutputs,o(_e,$e)))}function vt(De,$e){G(De,$e),Xe(De.artifacts,$e)}function Ct(De,$e){var rt=d(De,$e);Bs(De,"bpmn:SubProcess")&&vt(De,rt||$e),Bs(De,"bpmn:Activity")&&st(De.ioSpecification,$e),i.push(function(){(0,V.forEach)(De.dataInputAssociations,o(ae,$e)),(0,V.forEach)(De.dataOutputAssociations,o(ae,$e))})}function pn(De,$e){i.push(function(){var rt=d(De,$e);De.childLaneSet&&Ut(De.childLaneSet,rt||$e),function ot(De){(0,V.forEach)(De.flowNodeRef,function($e){var rt=$e.get("lanes");rt&&rt.push(De)})}(De)})}function Ut(De,$e){(0,V.forEach)(De.lanes,o(pn,$e))}function G(De,$e){(function ie(De,$e){(0,V.forEach)(De,function(rt){Bs(rt,"bpmn:SequenceFlow")?i.push(function(){!function Pt(De,$e){d(De,$e)}(rt,$e)}):Bs(rt,"bpmn:BoundaryEvent")?i.unshift(function(){Ct(rt,$e)}):Bs(rt,"bpmn:FlowNode")?Ct(rt,$e):Bs(rt,"bpmn:DataObject")||(Bs(rt,"bpmn:DataStoreReference")||Bs(rt,"bpmn:DataObjectReference")?function qt(De,$e){d(De,$e)}(rt,$e):h(n("unrecognized flowElement {element} in context {context}",{element:Gr(rt),context:$e?Gr($e.businessObject):"null"}),{element:rt,context:$e}))})})(De.flowElements,$e),De.laneSets&&function $(De,$e){(0,V.forEach)(De,o(Ut,$e))}(De.laneSets,$e)}function ve(De,$e){var rt=d(De,$e),wt=De.processRef;wt&&Z(wt,rt||$e)}return{handleDeferred:q,handleDefinitions:function U(De,$e){var rt=De.diagrams;if($e&&-1===rt.indexOf($e))throw new Error(n("diagram not part of bpmn:Definitions"));if(!$e&&rt&&rt.length&&($e=rt[0]),!$e)throw new Error(n("no diagram to display"));!function P(De){!function N(De){w(De),(0,V.forEach)(De.planeElement,L)}(De.plane)}($e);var wt=$e.plane;if(!wt)throw new Error(n("no plane for {element}",{element:Gr($e)}));var Gt=wt.bpmnElement;if(!Gt){if(Gt=function Wre(t){return(0,V.find)(t.rootElements,function(n){return Bs(n,"bpmn:Process")||Bs(n,"bpmn:Collaboration")})}(De),!Gt)throw new Error(n("no process or collaboration to display"));h(n("correcting missing bpmnElement on {plane} to {rootElement}",{plane:Gr(wt),rootElement:Gr(Gt)})),wt.bpmnElement=Gt,w(wt)}var ut=function l(De,$e){return t.root(De,$e)}(Gt,wt);if(Bs(Gt,"bpmn:Process"))Z(Gt,ut);else{if(!Bs(Gt,"bpmn:Collaboration"))throw new Error(n("unsupported bpmnElement for {plane}: {rootElement}",{plane:Gr(wt),rootElement:Gr(Gt)}));(function Ue(De){(0,V.forEach)(De.participants,o(ve)),Xe(De.artifacts),i.push(function(){!function J(De,$e){(0,V.forEach)(De,o(K,$e))}(De.messageFlows)})})(Gt),function Q(De,$e){var rt=(0,V.filter)(De,function(wt){return!function s(De){return e[De.id]}(wt)&&Bs(wt,"bpmn:Process")&&wt.laneSets});rt.forEach(o(Z,$e))}(De.rootElements,ut)}q()},handleSubProcess:vt,registerDi:w}}function Vm(t){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var n=arguments.length;if(!(n>=1&&(0,V.isFunction)(arguments[n-1])))return t.apply(this,arguments);var e=arguments[n-1];console.warn(new Error("Passing callbacks to "+t.name+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var i=Array.prototype.slice.call(arguments,0,-1);t.apply(this,i).then(function(o){var r=Object.keys(o)[0];return e(null,o[r])},function(o){return e(o,o.warnings)})}}var SI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';function ub(t){return t.join(";")}var gg,EI=ub(["color: #404040"]),ese='<div class="bjs-powered-by-lightbox" style="'+ub(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+ub(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"])+'"></div><div class="notice" style="'+ub(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"])+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;'+EI+'">'+SI+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function so(t){t=(0,V.assign)({},ise,t),this._moddle=this._createModdle(t),this._container=this._createContainer(t),function rse(t){var i=$n('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100; '+EI+'">'+SI+"</a>");t.appendChild(i),bn.bind(i,"click",function(o){(function tse(){gg||(gg=$n(ese),Zs_bind(gg,".backdrop","click",function(t){document.body.removeChild(gg)})),document.body.appendChild(gg)})(),o.preventDefault()})}(this._container),this._init(this._container,this._moddle,t)}function db(t,n){return t.warnings=n,t}on()(so,Om),so.prototype.importXML=Vm(function(n,e){var i=this;return new Promise(function(r,s){n=i._emit("import.parse.start",{xml:n})||n,i._moddle.fromXML(n,"bpmn:Definitions").then(function(a){var l=a.rootElement,h=a.warnings;l=i._emit("import.parse.complete",function o(r){var s=i.get("eventBus").createEvent(r);return Object.defineProperty(s,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:r.warnings,references:r.references,elementsById:r.elementsById}}}),s}({error:null,definitions:l,elementsById:a.elementsById,references:a.references,warnings:h}))||l,i.importDefinitions(l,e).then(function(P){var N=[].concat(h,P.warnings||[]);return i._emit("import.done",{error:null,warnings:N}),r({warnings:N})}).catch(function(P){var N=[].concat(h,P.warnings||[]);return i._emit("import.done",{error:P,warnings:N}),s(db(P,N))})}).catch(function(a){return i._emit("import.parse.complete",{error:a}),a=function nse(t){var e=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(t.message);return e&&(t.message="unparsable content <"+e[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+e[2]),t}(a),i._emit("import.done",{error:a,warnings:a.warnings}),s(a)})})}),so.prototype.importDefinitions=Vm(function(n,e){var i=this;return new Promise(function(o,r){i._setDefinitions(n),i.open(e).then(function(s){return o({warnings:s.warnings})}).catch(function(s){return r(s)})})}),so.prototype.open=Vm(function(n){var e=this._definitions,i=n,o=this;return new Promise(function(r,s){if(!e){var a=new Error("no XML imported");return s(db(a,[]))}if("string"==typeof n&&(i=function ose(t,n){return n&&(0,V.find)(t.diagrams,function(e){return e.id===n})||null}(e,n),!i)){var l=new Error("BPMNDiagram <"+n+"> not found");return s(db(l,[]))}try{o.clear()}catch(d){return s(db(d,[]))}(function Xre(t,n,e){var i,o,r,a=[];return new Promise(function(d,h){try{return i=t.get("bpmnImporter"),o=t.get("eventBus"),r=t.get("translate"),o.fire("import.render.start",{definitions:n}),function l(d,h){new Yre({root:function(N){return i.add(N)},element:function(N,L){return i.add(N,L)},error:function(N,L){a.push({message:N,context:L})}},r).handleDefinitions(d,h)}(n,e),o.fire("import.render.complete",{error:void 0,warnings:a}),d({warnings:a})}catch(w){return w.warnings=a,h(w)}})})(o,e,i).then(function(d){return r({warnings:d.warnings})}).catch(function(d){return s(d)})})}),so.prototype.saveXML=Vm(function(n){n=n||{};var e=this,i=this._definitions;return new Promise(function(o,r){if(!i){var s=new Error("no definitions loaded");return r(s)}i=e._emit("saveXML.start",{definitions:i})||i,e._moddle.toXML(i,n).then(function(a){var l=a.xml;try{l=e._emit("saveXML.serialized",{error:null,xml:l})||l,e._emit("saveXML.done",{error:null,xml:l})}catch(d){console.error("error in saveXML life-cycle listener",d)}return o({xml:l})}).catch(function(a){return r(a)})})}),so.prototype.saveSVG=Vm(function(n){n=n||{};var e=this;return new Promise(function(i,o){var r,s;e._emit("saveSVG.start");try{var a=e.get("canvas"),l=a.getDefaultLayer(),d=_o("defs",a._svg),h=BA(l),w=d?"<defs>"+BA(d)+"</defs>":"",P=l.getBBox();r='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+P.width+'" height="'+P.height+'" viewBox="'+P.x+" "+P.y+" "+P.width+" "+P.height+'" version="1.1">'+w+h+"</svg>"}catch(N){s=N}return e._emit("saveSVG.done",{error:s,svg:r}),s?o(s):i({svg:r})})}),so.prototype._setDefinitions=function(t){this._definitions=t},so.prototype.getModules=function(){return this._modules},so.prototype.clear=function(){!this.getDefinitions()||(this.get("elementRegistry").forEach(function(t){var n=t.businessObject;n&&n.di&&delete n.di}),Om.prototype.clear.call(this))},so.prototype.destroy=function(){Om.prototype.destroy.call(this),ql(this._container)},so.prototype.on=function(t,n,e,i){return this.get("eventBus").on(t,n,e,i)},so.prototype.off=function(t,n){this.get("eventBus").off(t,n)},so.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach(),t.get&&t.constructor.prototype.jquery&&(t=t.get(0)),"string"==typeof t&&(t=_o(t)),t.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},so.prototype.getDefinitions=function(){return this._definitions},so.prototype.detach=function(){var t=this._container,n=t.parentNode;!n||(this._emit("detach",{}),n.removeChild(t))},so.prototype._init=function(t,n,e){var i=e.modules||this.getModules(),s=[].concat([{bpmnjs:["value",this],moddle:["value",n]}],i,e.additionalModules||[]),a=(0,V.assign)((0,V.omit)(e,["additionalModules"]),{canvas:(0,V.assign)({},e.canvas,{container:t}),modules:s});Om.call(this,a),e&&e.container&&this.attachTo(e.container)},so.prototype._emit=function(t,n){return this.get("eventBus").fire(t,n)},so.prototype._createContainer=function(t){var n=$n('<div class="bjs-container"></div>');return(0,V.assign)(n.style,{width:TI(t.width),height:TI(t.height),position:t.position}),n},so.prototype._createModdle=function(t){var n=(0,V.assign)({},this._moddleExtensions,t.moddleExtensions);return new qre(n)},so.prototype._modules=[];var ise={width:"100%",height:"100%",position:"relative"};function TI(t){return t+((0,V.isNumber)(t)?"px":"")}function _g(t){so.call(this,t),this.on("import.parse.complete",function(n){n.error||this._collectIds(n.definitions,n.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}function Bi(t){return!(0,te.is)(t,"bpmn:CallActivity")&&((0,te.is)(t,"bpmn:SubProcess")?(0,te.S)(t).di&&!!(0,te.S)(t).di.isExpanded:!(0,te.is)(t,"bpmn:Participant")||!!(0,te.S)(t).processRef)}function ta(t){return t&&!!(0,te.S)(t).triggeredByEvent}function pb(t,n){var e=(0,te.S)(t),i=!1;return e.eventDefinitions&&(0,V.forEach)(e.eventDefinitions,function(o){(0,te.is)(o,n)&&(i=!0)}),i}function PI(t){return(0,te.is)(t,"bpmn:FlowElement")||(0,te.is)(t,"bpmn:Participant")||(0,te.is)(t,"bpmn:Lane")||(0,te.is)(t,"bpmn:SequenceFlow")||(0,te.is)(t,"bpmn:MessageFlow")||(0,te.is)(t,"bpmn:DataInput")||(0,te.is)(t,"bpmn:DataOutput")?"name":(0,te.is)(t,"bpmn:TextAnnotation")?"text":(0,te.is)(t,"bpmn:Group")?"categoryValueRef":void 0}function rl(t){var n=t.businessObject,e=PI(n);if(e)return"categoryValueRef"===e?function use(t){var n=t.categoryValueRef;return n&&n.value||""}(n):n[e]||""}function $l(t,n,e){return(0,V.some)(t.eventDefinitions,function(o){return o.$type===n&&function i(o,r){return(0,V.every)(r,function(s,a){return o[a]==s})}(t,e)})}function vg(t){return t.businessObject.di}function as(t){return t.businessObject}function ii(t,n){return vg(t).get("bioc:fill")||n||"white"}function Kt(t,n){return vg(t).get("bioc:stroke")||n||"black"}on()(_g,so),_g.prototype._createModdle=function(t){var n=so.prototype._createModdle.call(this,t);return n.ids=new xA([32,36,1]),n},_g.prototype._collectIds=function(t,n){var o,i=t.$model.ids;for(o in i.clear(),n)i.claim(o,n[o])};var vse=new xA,Hm=.95;function kd(t,n,e,i,o,r,s){ol.call(this,n,s);var a=t&&t.defaultFillColor,l=t&&t.defaultStrokeColor,d=vse.next(),h={},w=e.computeStyle;function P($,G){var ie=(0,V.assign)({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},G.attrs),ve=G.ref||{x:0,y:0},Ue=G.scale||1;"none"===ie.strokeDasharray&&(ie.strokeDasharray=[1e4,1]);var ot=_n("marker");At(G.element,ie),Cn(ot,G.element),At(ot,{id:$,viewBox:"0 0 20 20",refX:ve.x,refY:ve.y,markerWidth:20*Ue,markerHeight:20*Ue,orient:"auto"});var De=_o("defs",o._svg);De||(De=_n("defs"),Cn(o._svg,De)),Cn(De,ot),h[$]=ot}function N($){return $.replace(/[^0-9a-zA-z]+/g,"_")}function L($,G,ie){var ve=$+"-"+N(G)+"-"+N(ie)+"-"+d;return h[ve]||function U($,G,ie,ve){if("sequenceflow-end"===G){var Ue=_n("path");At(Ue,{d:"M 1 5 L 11 10 L 1 15 Z"}),P($,{element:Ue,ref:{x:11,y:10},scale:.5,attrs:{fill:ve,stroke:ve}})}if("messageflow-start"===G){var ot=_n("circle");At(ot,{cx:6,cy:6,r:3.5}),P($,{element:ot,attrs:{fill:ie,stroke:ve},ref:{x:6,y:6}})}if("messageflow-end"===G){var De=_n("path");At(De,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),P($,{element:De,attrs:{fill:ie,stroke:ve,strokeLinecap:"butt"},ref:{x:8.5,y:5}})}if("association-start"===G){var $e=_n("path");At($e,{d:"M 11 5 L 1 10 L 11 15"}),P($,{element:$e,attrs:{fill:"none",stroke:ve,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}if("association-end"===G){var rt=_n("path");At(rt,{d:"M 1 5 L 11 10 L 1 15"}),P($,{element:rt,attrs:{fill:"none",stroke:ve,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}if("conditional-flow-marker"===G){var wt=_n("path");At(wt,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),P($,{element:wt,attrs:{fill:ie,stroke:ve},ref:{x:-1,y:10},scale:.5})}if("conditional-default-flow-marker"===G){var Gt=_n("path");At(Gt,{d:"M 6 4 L 10 16"}),P($,{element:Gt,attrs:{stroke:ve},ref:{x:0,y:10},scale:.5})}}(ve,$,G,ie),"url(#"+ve+")"}function q($,G,ie,ve,Ue){(0,V.isObject)(ve)&&(Ue=ve,ve=0),ve=ve||0,"none"===(Ue=w(Ue,{stroke:"black",strokeWidth:2,fill:"white"})).fill&&delete Ue.fillOpacity;var ot=G/2,De=ie/2,$e=_n("circle");return At($e,{cx:ot,cy:De,r:Math.round((G+ie)/4-ve)}),At($e,Ue),Cn($,$e),$e}function Z($,G,ie,ve,Ue,ot){(0,V.isObject)(Ue)&&(ot=Ue,Ue=0),Ue=Ue||0,ot=w(ot,{stroke:"black",strokeWidth:2,fill:"white"});var De=_n("rect");return At(De,{x:Ue,y:Ue,width:G-2*Ue,height:ie-2*Ue,rx:ve,ry:ve}),At(De,ot),Cn($,De),De}function K($,G,ie){var ve=HC(G,ie=w(ie,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"}));return Cn($,ve),ve}function J($,G,ie){ie=w(ie,["no-fill"],{strokeWidth:2,stroke:"black"});var ve=_n("path");return At(ve,{d:G}),At(ve,ie),Cn($,ve),ve}function ae($,G,ie,ve){return J(G,ie,(0,V.assign)({"data-marker":$},ve))}function we($){return function(G,ie){return qt[$](G,ie)}}function _e($){return qt[$]}function qe($,G){var ie=as($),ve=function pse(t){return"bpmn:IntermediateThrowEvent"===t.$type||"bpmn:EndEvent"===t.$type}(ie);return ie.eventDefinitions&&ie.eventDefinitions.length>1?ie.parallelMultiple?_e("bpmn:ParallelMultipleEventDefinition")(G,$,ve):_e("bpmn:MultipleEventDefinition")(G,$,ve):$l(ie,"bpmn:MessageEventDefinition")?_e("bpmn:MessageEventDefinition")(G,$,ve):$l(ie,"bpmn:TimerEventDefinition")?_e("bpmn:TimerEventDefinition")(G,$,ve):$l(ie,"bpmn:ConditionalEventDefinition")?_e("bpmn:ConditionalEventDefinition")(G,$):$l(ie,"bpmn:SignalEventDefinition")?_e("bpmn:SignalEventDefinition")(G,$,ve):$l(ie,"bpmn:EscalationEventDefinition")?_e("bpmn:EscalationEventDefinition")(G,$,ve):$l(ie,"bpmn:LinkEventDefinition")?_e("bpmn:LinkEventDefinition")(G,$,ve):$l(ie,"bpmn:ErrorEventDefinition")?_e("bpmn:ErrorEventDefinition")(G,$,ve):$l(ie,"bpmn:CancelEventDefinition")?_e("bpmn:CancelEventDefinition")(G,$,ve):$l(ie,"bpmn:CompensateEventDefinition")?_e("bpmn:CompensateEventDefinition")(G,$,ve):$l(ie,"bpmn:TerminateEventDefinition")?_e("bpmn:TerminateEventDefinition")(G,$,ve):null}function Xe($,G,ie){ie=(0,V.assign)({size:{width:100}},ie);var ve=r.createText(G||"",ie);return hi(ve).add("djs-label"),Cn($,ve),ve}function st($,G,ie){return Xe($,as(G).name,{box:G,align:ie,padding:5,style:{fill:Kt(G,l)}})}function Ct($,G,ie){iI(Xe($,G,{box:{height:30,width:ie.height},align:"center-middle",style:{fill:Kt(ie,l)}}),0,1*ie.height,270)}function Pt($){for(var G=$.waypoints,ie="m  "+G[0].x+","+G[0].y,ve=1;ve<G.length;ve++)ie+="L"+G[ve].x+","+G[ve].y+" ";return ie}var qt=this.handlers={"bpmn:Event":function($,G,ie){return"fillOpacity"in ie||(ie.fillOpacity=Hm),q($,G.width,G.height,ie)},"bpmn:StartEvent":function($,G){var ie={fill:ii(G,a),stroke:Kt(G,l)};as(G).isInterrupting||(ie={strokeDasharray:"6",strokeLinecap:"round",fill:ii(G,a),stroke:Kt(G,l)});var Ue=_e("bpmn:Event")($,G,ie);return qe(G,$),Ue},"bpmn:MessageEventDefinition":function($,G,ie){return J($,i.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:G.width,containerHeight:G.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:ie?Kt(G,l):ii(G,a),stroke:ie?ii(G,a):Kt(G,l)})},"bpmn:TimerEventDefinition":function($,G){var ie=q($,G.width,G.height,.2*G.height,{strokeWidth:2,fill:ii(G,a),stroke:Kt(G,l)});J($,i.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:"square",stroke:Kt(G,l)});for(var Ue=0;Ue<12;Ue++)J($,i.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.5}}),{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*Ue+","+G.height/2+","+G.width/2+")",stroke:Kt(G,l)});return ie},"bpmn:EscalationEventDefinition":function($,G,ie){return J($,i.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:ie?Kt(G,l):"none",stroke:Kt(G,l)})},"bpmn:ConditionalEventDefinition":function($,G){return J($,i.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:Kt(G,l)})},"bpmn:LinkEventDefinition":function($,G,ie){return J($,i.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:ie?Kt(G,l):"none",stroke:Kt(G,l)})},"bpmn:ErrorEventDefinition":function($,G,ie){return J($,i.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:G.width,containerHeight:G.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:ie?Kt(G,l):"none",stroke:Kt(G,l)})},"bpmn:CancelEventDefinition":function($,G,ie){var ot=J($,i.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:ie?Kt(G,l):"none",stroke:Kt(G,l)});return oI(ot,45),ot},"bpmn:CompensateEventDefinition":function($,G,ie){return J($,i.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:ie?Kt(G,l):"none",stroke:Kt(G,l)})},"bpmn:SignalEventDefinition":function($,G,ie){return J($,i.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:ie?Kt(G,l):"none",stroke:Kt(G,l)})},"bpmn:MultipleEventDefinition":function($,G,ie){return J($,i.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:G.width,containerHeight:G.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:ie?Kt(G,l):"none"})},"bpmn:ParallelMultipleEventDefinition":function($,G){return J($,i.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:G.width,containerHeight:G.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:Kt(G,l),stroke:Kt(G,l)})},"bpmn:EndEvent":function($,G){var ie=_e("bpmn:Event")($,G,{strokeWidth:4,fill:ii(G,a),stroke:Kt(G,l)});return qe(G,$),ie},"bpmn:TerminateEventDefinition":function($,G){return q($,G.width,G.height,8,{strokeWidth:4,fill:Kt(G,l),stroke:Kt(G,l)})},"bpmn:IntermediateEvent":function($,G){var ie=_e("bpmn:Event")($,G,{strokeWidth:1,fill:ii(G,a),stroke:Kt(G,l)});return q($,G.width,G.height,3,{strokeWidth:1,fill:ii(G,"none"),stroke:Kt(G,l)}),qe(G,$),ie},"bpmn:IntermediateCatchEvent":we("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":we("bpmn:IntermediateEvent"),"bpmn:Activity":function($,G,ie){return"fillOpacity"in(ie=ie||{})||(ie.fillOpacity=Hm),Z($,G.width,G.height,10,ie)},"bpmn:Task":function($,G){var ie={fill:ii(G,a),stroke:Kt(G,l)},ve=_e("bpmn:Activity")($,G,ie);return st($,G,"center-middle"),pn($,G),ve},"bpmn:ServiceTask":function($,G){var ie=_e("bpmn:Task")($,G);return J($,i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:ii(G,a),stroke:Kt(G,l)}),J($,i.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:ii(G,a)}),J($,i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:ii(G,a),stroke:Kt(G,l)}),ie},"bpmn:UserTask":function($,G){var ie=_e("bpmn:Task")($,G);return J($,i.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:ii(G,a),stroke:Kt(G,l)}),J($,i.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:ii(G,a),stroke:Kt(G,l)}),J($,i.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:Kt(G,l),stroke:Kt(G,l)}),ie},"bpmn:ManualTask":function($,G){var ie=_e("bpmn:Task")($,G);return J($,i.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:ii(G,a),stroke:Kt(G,l)}),ie},"bpmn:SendTask":function($,G){var ie=_e("bpmn:Task")($,G);return J($,i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:Kt(G,l),stroke:ii(G,a)}),ie},"bpmn:ReceiveTask":function($,G){var Ue,ie=as(G),ve=_e("bpmn:Task")($,G);return ie.instantiate?(q($,28,28,4.4,{strokeWidth:1}),Ue=i.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):Ue=i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),J($,Ue,{strokeWidth:1,fill:ii(G,a),stroke:Kt(G,l)}),ve},"bpmn:ScriptTask":function($,G){var ie=_e("bpmn:Task")($,G);return J($,i.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:Kt(G,l)}),ie},"bpmn:BusinessRuleTask":function($,G){var ie=_e("bpmn:Task")($,G);return At(J($,i.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{strokeWidth:1,fill:ii(G,"#aaaaaa"),stroke:Kt(G,l)}),At(J($,i.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{strokeWidth:1,stroke:Kt(G,l)}),ie},"bpmn:SubProcess":function($,G,ie){ie=(0,V.assign)({fill:ii(G,a),stroke:Kt(G,l)},ie);var ve=_e("bpmn:Activity")($,G,ie),Ue=Bi(G);return ta(G)&&At(ve,{strokeDasharray:"1,2"}),st($,G,Ue?"center-top":"center-middle"),Ue?pn($,G):pn($,G,["SubProcessMarker"]),ve},"bpmn:AdHocSubProcess":function($,G){return _e("bpmn:SubProcess")($,G)},"bpmn:Transaction":function($,G){var ie=_e("bpmn:SubProcess")($,G),ve=e.style(["no-fill","no-events"],{stroke:Kt(G,l)});return Z($,G.width,G.height,8,3,ve),ie},"bpmn:CallActivity":function($,G){return _e("bpmn:SubProcess")($,G,{strokeWidth:5})},"bpmn:Participant":function($,G){var ie={fillOpacity:Hm,fill:ii(G,a),stroke:Kt(G,l)},ve=_e("bpmn:Lane")($,G,ie);return Bi(G)?(K($,[{x:30,y:0},{x:30,y:G.height}],{stroke:Kt(G,l)}),Ct($,as(G).name,G)):Xe($,as(G).name,{box:G,align:"center-middle",style:{fill:Kt(G,l)}}),!!as(G).participantMultiplicity&&_e("ParticipantMultiplicityMarker")($,G),ve},"bpmn:Lane":function($,G,ie){var ve=Z($,G.width,G.height,0,(0,V.assign)({fill:ii(G,a),fillOpacity:.35,stroke:Kt(G,l)},ie)),Ue=as(G);return"bpmn:Lane"===Ue.$type&&Ct($,Ue.name,G),ve},"bpmn:InclusiveGateway":function($,G){var ie=_e("bpmn:Gateway")($,G);return q($,G.width,G.height,.24*G.height,{strokeWidth:2.5,fill:ii(G,a),stroke:Kt(G,l)}),ie},"bpmn:ExclusiveGateway":function($,G){var ie=_e("bpmn:Gateway")($,G),ve=i.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:G.width,containerHeight:G.height,position:{mx:.32,my:.3}});return vg(G).isMarkerVisible&&J($,ve,{strokeWidth:1,fill:Kt(G,l),stroke:Kt(G,l)}),ie},"bpmn:ComplexGateway":function($,G){var ie=_e("bpmn:Gateway")($,G);return J($,i.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:G.width,containerHeight:G.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:Kt(G,l),stroke:Kt(G,l)}),ie},"bpmn:ParallelGateway":function($,G){var ie=_e("bpmn:Gateway")($,G);return J($,i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:G.width,containerHeight:G.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:Kt(G,l),stroke:Kt(G,l)}),ie},"bpmn:EventBasedGateway":function($,G){var ie=as(G),ve=_e("bpmn:Gateway")($,G);q($,G.width,G.height,.2*G.height,{strokeWidth:1,fill:"none",stroke:Kt(G,l)});var Ue=ie.eventGatewayType,ot=!!ie.instantiate;if("Parallel"===Ue){var $e=i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:G.width,containerHeight:G.height,position:{mx:.474,my:.296}});At(J($,$e),{strokeWidth:1,fill:"none"})}else"Exclusive"===Ue&&(ot||At(q($,G.width,G.height,.26*G.height),{strokeWidth:1,fill:"none",stroke:Kt(G,l)}),function De(){var Gt=i.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:G.width,containerHeight:G.height,position:{mx:.36,my:.44}}),ut={strokeWidth:2,fill:ii(G,"none"),stroke:Kt(G,l)};J($,Gt,ut)}());return ve},"bpmn:Gateway":function($,G){var ie={fill:ii(G,a),fillOpacity:Hm,stroke:Kt(G,l)};return function Q($,G,ie,ve){var Ue=G/2,ot=ie/2,$e=[{x:Ue,y:0},{x:G,y:ot},{x:Ue,y:ie},{x:0,y:ot}].map(function(wt){return wt.x+","+wt.y}).join(" ");ve=w(ve,{stroke:"black",strokeWidth:2,fill:"white"});var rt=_n("polygon");return At(rt,{points:$e}),At(rt,ve),Cn($,rt),rt}($,G.width,G.height,ie)},"bpmn:SequenceFlow":function($,G){var rt,ie=Pt(G),ve=ii(G,a),Ue=Kt(G,l),De=J($,ie,{strokeLinejoin:"round",markerEnd:L("sequenceflow-end",ve,Ue),stroke:Kt(G,l)}),$e=as(G);return G.source&&(rt=G.source.businessObject,$e.conditionExpression&&rt.$instanceOf("bpmn:Activity")&&At(De,{markerStart:L("conditional-flow-marker",ve,Ue)}),rt.default&&(rt.$instanceOf("bpmn:Gateway")||rt.$instanceOf("bpmn:Activity"))&&rt.default===$e&&At(De,{markerStart:L("conditional-default-flow-marker",ve,Ue)})),De},"bpmn:Association":function($,G,ie){var ve=as(G),Ue=ii(G,a),ot=Kt(G,l);return ie=(0,V.assign)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",stroke:Kt(G,l)},ie||{}),("One"===ve.associationDirection||"Both"===ve.associationDirection)&&(ie.markerEnd=L("association-end",Ue,ot)),"Both"===ve.associationDirection&&(ie.markerStart=L("association-start",Ue,ot)),K($,G.waypoints,ie)},"bpmn:DataInputAssociation":function($,G){var ie=ii(G,a),ve=Kt(G,l);return _e("bpmn:Association")($,G,{markerEnd:L("association-end",ie,ve)})},"bpmn:DataOutputAssociation":function($,G){var ie=ii(G,a),ve=Kt(G,l);return _e("bpmn:Association")($,G,{markerEnd:L("association-end",ie,ve)})},"bpmn:MessageFlow":function($,G){var ie=as(G),ve=vg(G),Ue=ii(G,a),ot=Kt(G,l),rt=J($,Pt(G),{markerEnd:L("messageflow-end",Ue,ot),markerStart:L("messageflow-start",Ue,ot),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px",stroke:Kt(G,l)});if(ie.messageRef){var wt=rt.getPointAtLength(rt.getTotalLength()/2),Gt=i.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:wt.x,y:wt.y}}),ut={strokeWidth:1};"initiating"===ve.messageVisibleKind?(ut.fill="white",ut.stroke="black"):(ut.fill="#888",ut.stroke="white"),J($,Gt,ut)}return rt},"bpmn:DataObject":function($,G){var ve=J($,i.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.474,my:.296}}),{fill:ii(G,a),fillOpacity:Hm,stroke:Kt(G,l)});return function mse(t){var n=t.dataObjectRef;return t.isCollection||n&&n.isCollection}(as(G))&&function Ut($,G){J($,i.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.33,my:(G.height-18)/G.height}}),{strokeWidth:2})}($,G),ve},"bpmn:DataObjectReference":we("bpmn:DataObject"),"bpmn:DataInput":function($,G){var ie=i.getRawPath("DATA_ARROW"),ve=_e("bpmn:DataObject")($,G);return J($,ie,{strokeWidth:1}),ve},"bpmn:DataOutput":function($,G){var ie=i.getRawPath("DATA_ARROW"),ve=_e("bpmn:DataObject")($,G);return J($,ie,{strokeWidth:1,fill:"black"}),ve},"bpmn:DataStoreReference":function($,G){return J($,i.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:ii(G,a),fillOpacity:Hm,stroke:Kt(G,l)})},"bpmn:BoundaryEvent":function($,G){var ve=as(G).cancelActivity,Ue={strokeWidth:1,fill:ii(G,a),stroke:Kt(G,l)};ve||(Ue.strokeDasharray="6",Ue.strokeLinecap="round");var ot=(0,V.assign)({},Ue,{fillOpacity:1}),De=(0,V.assign)({},Ue,{fill:"none"}),$e=_e("bpmn:Event")($,G,ot);return q($,G.width,G.height,3,De),qe(G,$),$e},"bpmn:Group":function($,G){return Z($,G.width,G.height,10,{stroke:Kt(G,l),strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},label:function($,G){return function vt($,G){var ie={width:90,height:30,x:G.width/2+G.x,y:G.height/2+G.y};return Xe($,rl(G),{box:ie,fitBox:!0,style:(0,V.assign)({},r.getExternalStyle(),{fill:Kt(G,l)})})}($,G)},"bpmn:TextAnnotation":function($,G){var ve=Z($,G.width,G.height,0,0,{fill:"none",stroke:"none"});return J($,i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:0,my:0}}),{stroke:Kt(G,l)}),Xe($,as(G).text||"",{box:G,align:"left-top",padding:5,style:{fill:Kt(G,l)}}),ve},ParticipantMultiplicityMarker:function($,G){ae("participant-multiplicity",$,i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:G.width/2/G.width,my:(G.height-15)/G.height}}),{strokeWidth:1,fill:ii(G,a),stroke:Kt(G,l)})},SubProcessMarker:function($,G){Os(Z($,14,14,0,{strokeWidth:1,fill:ii(G,a),stroke:Kt(G,l)}),G.width/2-7.5,G.height-20),ae("sub-process",$,i.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2-7.5)/G.width,my:(G.height-20)/G.height}}),{fill:ii(G,a),stroke:Kt(G,l)})},ParallelMarker:function($,G,ie){ae("parallel",$,i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+ie.parallel)/G.width,my:(G.height-20)/G.height}}),{fill:ii(G,a),stroke:Kt(G,l)})},SequentialMarker:function($,G,ie){ae("sequential",$,i.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+ie.seq)/G.width,my:(G.height-19)/G.height}}),{fill:ii(G,a),stroke:Kt(G,l)})},CompensationMarker:function($,G,ie){ae("compensation",$,i.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+ie.compensation)/G.width,my:(G.height-13)/G.height}}),{strokeWidth:1,fill:ii(G,a),stroke:Kt(G,l)})},LoopMarker:function($,G,ie){ae("loop",$,i.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+ie.loop)/G.width,my:(G.height-7)/G.height}}),{strokeWidth:1,fill:ii(G,a),stroke:Kt(G,l),strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function($,G,ie){ae("adhoc",$,i.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+ie.adhoc)/G.width,my:(G.height-15)/G.height}}),{strokeWidth:1,fill:Kt(G,l),stroke:Kt(G,l)})}};function pn($,G,ie){var ot,ve=as(G),Ue=ie&&-1!==ie.indexOf("SubProcessMarker");ot=Ue?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},(0,V.forEach)(ie,function(rt){_e(rt)($,G,ot)}),ve.isForCompensation&&_e("CompensationMarker")($,G,ot),"bpmn:AdHocSubProcess"===ve.$type&&_e("AdhocMarker")($,G,ot);var De=ve.loopCharacteristics,$e=De&&De.isSequential;De&&(void 0===$e&&_e("LoopMarker")($,G,ot),!1===$e&&_e("ParallelMarker")($,G,ot),!0===$e&&_e("SequentialMarker")($,G,ot))}this._drawPath=J}on()(kd,ol),kd.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],kd.prototype.canRender=function(t){return(0,te.is)(t,"bpmn:BaseElement")},kd.prototype.drawShape=function(t,n){return(0,this.handlers[n.type])(t,n)},kd.prototype.drawConnection=function(t,n){return(0,this.handlers[n.type])(t,n)},kd.prototype.getShapePath=function(t){return(0,te.is)(t,"bpmn:Event")?function fse(t){var i=t.width/2;return km([["M",t.x+t.width/2,t.y+t.height/2],["m",0,-i],["a",i,i,0,1,1,0,2*i],["a",i,i,0,1,1,0,-2*i],["z"]])}(t):(0,te.is)(t,"bpmn:Activity")?function hse(t,n){var o=t.width,r=t.height;return km([["M",t.x+n,t.y],["l",o-2*n,0],["a",n,n,0,0,1,n,n],["l",0,r-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-o,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-r],["a",n,n,0,0,1,n,-n],["z"]])}(t,10):(0,te.is)(t,"bpmn:Gateway")?function gse(t){var r=t.width/2,s=t.height/2;return km([["M",t.x+r,t.y],["l",r,s],["l",-r,s],["l",-r,-s],["z"]])}(t):function _se(t){var i=t.width;return km([["M",t.x,t.y],["l",i,0],["l",0,t.height],["l",-i,0],["z"]])}(t)};var wse={width:150,height:50};function Mse(t,n){var e;n.textContent=t;try{var i,o=""===t;return n.textContent=o?"dummy":t,i={width:(e=n.getBBox()).width+2*e.x,height:e.height},o&&(i.width=0),i}catch(r){return{width:0,height:0}}}function Sse(t,n,e){for(var r,i=t.shift(),o=i;;){if((r=Mse(o,e)).width=o?r.width:0," "===o||""===o||r.width<Math.round(n)||o.length<2)return Ese(t,o,i,r);o=Pse(o,r.width,n)}}function Ese(t,n,e,i){if(n.length<e.length){var o=e.slice(n.length).trim();t.unshift(o)}return{width:i.width,height:i.height,text:n}}function Pse(t,n,e){var i=Math.max(t.length*(e/n),1),o=function Tse(t,n){var i,e=t.split(/(\s|-)/g),o=[],r=0;if(e.length>1)for(;i=e.shift();){if(!(i.length+r<n)){"-"===i&&o.pop();break}o.push(i),r+=i.length}return o.join("")}(t,i);return o||(o=t.slice(0,Math.max(Math.round(i-1),1))),o}function fb(t){this._config=(0,V.assign)({},{size:wse,padding:0,style:{},align:"center-top"},t||{})}function DI(t){var n=(0,V.assign)({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},t&&t.defaultStyle||{}),e=parseInt(n.fontSize,10)-1,i=(0,V.assign)({},n,{fontSize:e},t&&t.externalStyle||{}),o=new fb({style:n});this.getExternalLabelBounds=function(r,s){var a=o.getDimensions(s,{box:{width:90,height:30,x:r.width/2+r.x,y:r.height/2+r.y},style:i});return{x:Math.round(r.x+r.width/2-a.width/2),y:Math.round(r.y),width:Math.ceil(a.width),height:Math.ceil(a.height)}},this.getTextAnnotationBounds=function(r,s){var a=o.getDimensions(s,{box:r,style:n,align:"left-top",padding:5});return{x:r.x,y:r.y,width:r.width,height:Math.max(30,Math.round(a.height))}},this.createText=function(r,s){return o.createText(r,s||{})},this.getDefaultStyle=function(){return n},this.getExternalStyle=function(){return i}}fb.prototype.createText=function(t,n){return this.layoutText(t,n).element},fb.prototype.getDimensions=function(t,n){return this.layoutText(t,n).dimensions},fb.prototype.layoutText=function(t,n){var e=(0,V.assign)({},this._config.size,n.box),i=(0,V.assign)({},this._config.style,n.style),o=function xse(t){var n=t.split("-");return{horizontal:n[0]||"center",vertical:n[1]||"top"}}(n.align||this._config.align),r=function Cse(t){return(0,V.isObject)(t)?(0,V.assign)({top:0,left:0,right:0,bottom:0},t):{top:t,left:t,right:t,bottom:t}}(void 0!==n.padding?n.padding:this._config.padding),s=n.fitBox||!1,a=function Fse(t){if("fontSize"in t&&"lineHeight"in t)return t.lineHeight*parseInt(t.fontSize,10)}(i),l=t.split(/\r?\n/g),d=[],h=e.width-r.left-r.right,w=_n("text");At(w,{x:0,y:0}),At(w,i);var P=function Dse(){var t=document.getElementById("helper-svg");return t||(At(t=_n("svg"),{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(t)),t}();for(Cn(P,w);l.length;)d.push(Sse(l,h,w));"middle"===o.vertical&&(r.top=r.bottom=0);var N=(0,V.reduce)(d,function(Q,K,J){return Q+(a||K.height)},0)+r.top+r.bottom,L=(0,V.reduce)(d,function(Q,K,J){return K.width>Q?K.width:Q},0),U=r.top;"middle"===o.vertical&&(U+=(e.height-N)/2),U-=(a||d[0].height)/4;var q=_n("text");return At(q,i),(0,V.forEach)(d,function(Q){var K;switch(U+=a||Q.height,o.horizontal){case"left":K=r.left;break;case"right":K=(s?L:h)-r.right-Q.width;break;default:K=Math.max(((s?L:h)-Q.width)/2+r.left,0)}var J=_n("tspan");At(J,{x:K,y:U}),J.textContent=Q.text,Cn(q,J)}),To(w),{dimensions:{width:L,height:N},element:q}},DI.$inject=["config.textRenderer"];var Rse=/\{([^}]+)\}/g,Ose=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;const jse={__init__:["bpmnRenderer"],bpmnRenderer:["type",kd],textRenderer:["type",DI],pathMap:["type",function Nse(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(n){return this.pathMap[n].d},this.getScaledPath=function(n,e){var o,r,i=this.pathMap[n];e.abspos?(o=e.abspos.x,r=e.abspos.y):(o=e.containerWidth*e.position.mx,r=e.containerHeight*e.position.my);var s={};if(e.position){for(var a=e.containerHeight/i.height*e.yScaleFactor,l=e.containerWidth/i.width*e.xScaleFactor,d=0;d<i.heightElements.length;d++)s["y"+d]=i.heightElements[d]*a;for(var h=0;h<i.widthElements.length;h++)s["x"+h]=i.widthElements[h]*l}var w=function Lse(t,n){return String(t).replace(Rse,function(e,i){return function Bse(t,n,e){var i=e;return n.replace(Ose,function(o,r,s,a,l){r=r||a,i&&(r in i&&(i=i[r]),"function"==typeof i&&l&&(i=i()))}),i=(null==i||i==e?t:i)+""}(e,i,n)})}(i.d,{mx:o,my:r,e:s});return w}}]},hb={translate:["value",function Gse(t,n){return n=n||{},t.replace(/{([^}]+)}/g,function(e,i){return n[i]||"{"+i+"}"})}]};function bg(t,n){return t&&n?Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)):-1}function iM(t,n,e,i){if(void 0===i&&(i=5),!t||!n||!e)return!1;var o=(n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x),r=bg(t,n);return Math.abs(o/r)<=i}function Ac(t,n){var e;return function Vse(t,n){var e,i=(e=(0,V.isArray)(t)?t:[t,n]).slice().shift();return(0,V.every)(e,function(o){return Math.abs(i.y-o.y)<=2})}(e=(0,V.isArray)(t)?t:[t,n])?"h":!!function Hse(t,n){var e,i=(e=(0,V.isArray)(t)?t:[t,n]).slice().shift();return(0,V.every)(e,function(o){return Math.abs(i.x-o.x)<=2})}(e)&&"v"}function gb(t,n,e){return t.x>n.x-(e=e||0)&&t.y>n.y-e&&t.x<n.x+n.width+e&&t.y<n.y+n.height+e}function oM(t,n){return{x:Math.round(t.x+(n.x-t.x)/2),y:Math.round(t.y+(n.y-t.y)/2)}}var Use=E(8463),AI=E.n(Use);function II(t){return{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}function xu(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function yn(t){return{top:t.y,right:t.x+(t.width||0),bottom:t.y+(t.height||0),left:t.x}}function rM(t){return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}function qn(t){return xu({x:t.x+(t.width||0)/2,y:t.y+(t.height||0)/2})}function Vr(t,n,e){(0,V.isObject)(e=e||0)||(e={x:e,y:e});var i=yn(t),o=yn(n),d=i.bottom+e.y<=o.top?"top":i.top-e.y>=o.bottom?"bottom":null,h=i.right+e.x<=o.left?"left":i.left-e.x>=o.right?"right":null;return h&&d?d+"-"+h:h||d||"intersect"}function sM(t,n,e){var i=function zse(t,n){return AI()(t,n)}(t,n);return 1===i.length||2===i.length&&bg(i[0],i[1])<1?xu(i[0]):i.length>1?xu((i=(0,V.sortBy)(i,function(o){var r=Math.floor(100*o.t2)||1;return o.segment2+"#"+((r=100-r)<10?"0":"")+r}))[e?0:i.length-1]):null}function _b(t,n){return(0,V.assign)({id:t.id,type:t.$type,businessObject:t},n)}function $se(t,n,e){var i=t.di.waypoint;return!i||i.length<2?[qn(n),qn(e)]:i.map(function(o){return{x:o.x,y:o.y}})}function kI(t,n,e,i){return new Error(t("element {element} referenced by {referenced}#{property} not yet drawn",{element:Gr(e),referenced:Gr(n),property:i}))}function Ic(t,n,e,i,o,r){this._eventBus=t,this._canvas=n,this._elementFactory=e,this._elementRegistry=i,this._translate=o,this._textRenderer=r}Ic.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Ic.prototype.add=function(t,n){var i,s,e=t.di,o=this._translate;if((0,te.is)(e,"bpmndi:BPMNPlane"))i=this._elementFactory.createRoot(_b(t)),this._canvas.setRootElement(i);else if((0,te.is)(e,"bpmndi:BPMNShape")){var a=!Bi(t),l=function Yse(t){return(0,te.is)(t,"bpmn:Group")}(t),d=t.di.bounds;i=this._elementFactory.createShape(_b(t,{collapsed:a,hidden:n&&(n.hidden||n.collapsed),x:Math.round(d.x),y:Math.round(d.y),width:Math.round(d.width),height:Math.round(d.height),isFrame:l})),(0,te.is)(t,"bpmn:BoundaryEvent")&&this._attachBoundary(t,i),(0,te.is)(t,"bpmn:Lane")&&(s=0),(0,te.is)(t,"bpmn:DataStoreReference")&&(function Wse(t,n){var e=n.x,i=n.y;return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}(n,qn(d))||(n=this._canvas.getRootElement())),this._canvas.addShape(i,n,s)}else{if(!(0,te.is)(e,"bpmndi:BPMNEdge"))throw new Error(o("unknown di {di} for element {semantic}",{di:Gr(e),semantic:Gr(t)}));var h=this._getSource(t),w=this._getTarget(t);i=this._elementFactory.createConnection(_b(t,{hidden:n&&(n.hidden||n.collapsed),source:h,target:w,waypoints:$se(t,h,w)})),(0,te.is)(t,"bpmn:DataAssociation")&&(n=null),(0,te.is)(t,"bpmn:SequenceFlow")&&(s=0),this._canvas.addConnection(i,n,s)}return Pm(t)&&rl(i)&&this.addLabel(t,i),this._eventBus.fire("bpmnElement.added",{element:i}),i},Ic.prototype._attachBoundary=function(t,n){var e=this._translate,i=t.attachedToRef;if(!i)throw new Error(e("missing {semantic}#attachedToRef",{semantic:Gr(t)}));var o=this._elementRegistry.get(i.id),r=o&&o.attachers;if(!o)throw kI(e,t,i,"attachedToRef");n.host=o,r||(o.attachers=r=[]),-1===r.indexOf(n)&&r.push(n)},Ic.prototype.addLabel=function(t,n){var e,i,o;return e=function uie(t,n){var e,i,o,s=t.di.label;return s&&s.bounds?(o=s.bounds,i={width:Math.max(rg.width,o.width),height:o.height},e={x:o.x+o.width/2,y:o.y+o.height/2}):(e=Xv(n),i=rg),(0,V.assign)({x:e.x-i.width/2,y:e.y-i.height/2},i)}(t,n),(i=rl(n))&&(e=this._textRenderer.getExternalLabelBounds(e,i)),o=this._elementFactory.createLabel(_b(t,{id:t.id+"_label",labelTarget:n,type:"label",hidden:n.hidden||!rl(n),x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)})),this._canvas.addShape(o,n.parent)},Ic.prototype._getEnd=function(t,n){var e,i,o=t.$type,r=this._translate;if(i=t[n+"Ref"],"source"===n&&"bpmn:DataInputAssociation"===o&&(i=i&&i[0]),("source"===n&&"bpmn:DataOutputAssociation"===o||"target"===n&&"bpmn:DataInputAssociation"===o)&&(i=t.$parent),e=i&&this._getElement(i))return e;throw i?kI(r,t,i,n+"Ref"):new Error(r("{semantic}#{side} Ref not specified",{semantic:Gr(t),side:n}))},Ic.prototype._getSource=function(t){return this._getEnd(t,"source")},Ic.prototype._getTarget=function(t){return this._getEnd(t,"target")},Ic.prototype._getElement=function(t){return this._elementRegistry.get(t.id)};const vb={__depends__:[jse,{__depends__:[hb],bpmnImporter:["type",Ic]}]};function NI(t){!t||"function"!=typeof t.stopPropagation||t.stopPropagation()}function Um(t){return t.originalEvent||t.srcEvent}function aM(t,n){NI(t),NI(Um(t))}function Cu(t){return t.pointers&&t.pointers.length&&(t=t.pointers[0]),t.touches&&t.touches.length&&(t=t.touches[0]),t?{x:t.clientX,y:t.clientY}:null}function bb(t){return!(Um(t)||t).button}function zm(t){var n=Um(t)||t;return!!bb(t)&&(function Xse(){return/mac/i.test(navigator.platform)}()?n.metaKey:n.ctrlKey)}function RI(t){var n=Um(t)||t;return bb(t)&&n.shiftKey}function Kse(t){return!0}function BI(t,n,e){var i=this;function o(_e,qe,Xe){var st,vt;(function a(_e,qe){return!(d[_e]||bb)(qe)})(_e,qe)||(Xe?vt=n.getGraphics(Xe):(st=qe.delegateTarget||qe.target)&&(Xe=n.get(vt=st)),vt&&Xe&&!1===t.fire(_e,{element:Xe,gfx:vt,originalEvent:qe})&&(qe.stopPropagation(),qe.preventDefault()))}var r={};function s(_e){return r[_e]}var l={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},d={"element.contextmenu":Kse};function P(_e,qe,Xe,st){var vt=r[Xe]=function(Ct){o(Xe,Ct)};st&&(d[Xe]=st),vt.$delegate=Zs_bind(_e,"svg, .djs-element",qe,vt)}function N(_e,qe,Xe){var st=s(Xe);!st||Zs_unbind(_e,qe,st.$delegate)}t.on("canvas.destroy",function(_e){!function U(_e){(0,V.forEach)(l,function(qe,Xe){N(_e,Xe,qe)})}(_e.svg)}),t.on("canvas.init",function(_e){!function L(_e){(0,V.forEach)(l,function(qe,Xe){P(_e,Xe,qe)})}(_e.svg)}),t.on(["shape.added","connection.added"],function(_e){t.fire("interactionEvents.createHit",{element:_e.element,gfx:_e.gfx})}),t.on(["shape.changed","connection.changed"],500,function(_e){t.fire("interactionEvents.updateHit",{element:_e.element,gfx:_e.gfx})}),t.on("interactionEvents.createHit",500,function(_e){i.createDefaultHit(_e.element,_e.gfx)}),t.on("interactionEvents.updateHit",function(_e){i.updateDefaultHit(_e.element,_e.gfx)});var q=J("djs-hit djs-hit-stroke"),Z=J("djs-hit djs-hit-click-stroke"),K={all:J("djs-hit djs-hit-all"),"click-stroke":Z,stroke:q};function J(_e,qe){return qe=(0,V.assign)({stroke:"white",strokeWidth:15},qe||{}),e.cls(_e,["no-fill","no-border"],qe)}function ae(_e,qe){var Xe=K[qe];if(!Xe)throw new Error("invalid hit type <"+qe+">");return At(_e,Xe),_e}function we(_e,qe){Cn(_e,qe)}this.removeHits=function(_e){var qe=FC(".djs-hit",_e);(0,V.forEach)(qe,To)},this.createDefaultHit=function(_e,qe){var Xe=_e.waypoints,st=_e.isFrame;return Xe?this.createWaypointsHit(qe,Xe):this.createBoxHit(qe,st?"stroke":"all",{width:_e.width,height:_e.height})},this.createWaypointsHit=function(_e,qe){var Xe=HC(qe);return ae(Xe,"stroke"),we(_e,Xe),Xe},this.createBoxHit=function(_e,qe,Xe){Xe=(0,V.assign)({x:0,y:0},Xe);var st=_n("rect");return ae(st,qe),At(st,Xe),we(_e,st),st},this.updateDefaultHit=function(_e,qe){var Xe=_o(".djs-hit",qe);if(Xe)return _e.waypoints?function noe(t,n){At(t,{points:GA(n)})}(Xe,_e.waypoints):At(Xe,{width:_e.width,height:_e.height}),Xe},this.fire=o,this.triggerMouseEvent=function h(_e,qe,Xe){var st=l[_e];if(!st)throw new Error("unmapped DOM event name <"+_e+">");return o(st,qe,Xe)},this.mouseHandler=s,this.registerEvent=P,this.unregisterEvent=N}BI.$inject=["eventBus","elementRegistry","styles"];const yg={__init__:["interactionEvents"],interactionEvents:["type",BI]};function yb(t,n,e){this.offset=6;var i=n.cls("djs-outline",["no-fill"]),o=this;function r(s,a){var l=_n("rect");return At(l,(0,V.assign)({x:10,y:10,width:100,height:100},i)),Cn(s,l),l}t.on(["shape.added","shape.changed"],500,function(s){var a=s.element,l=s.gfx,d=_o(".djs-outline",l);d||(d=r(l)),o.updateShapeOutline(d,a)}),t.on(["connection.added","connection.changed"],function(s){var a=s.element,l=s.gfx,d=_o(".djs-outline",l);d||(d=r(l)),o.updateConnectionOutline(d,a)})}yb.prototype.updateShapeOutline=function(t,n){At(t,{x:-this.offset,y:-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},yb.prototype.updateConnectionOutline=function(t,n){var e=yr(n);At(t,{x:e.x-this.offset,y:e.y-this.offset,width:e.width+2*this.offset,height:e.height+2*this.offset})},yb.$inject=["eventBus","styles","elementRegistry"];const LI={__init__:["outline"],outline:["type",yb]};function qm(t){this._eventBus=t,this._selectedElements=[];var n=this;t.on(["shape.remove","connection.remove"],function(e){n.deselect(e.element)}),t.on(["diagram.clear"],function(e){n.select(null)})}qm.$inject=["eventBus"],qm.prototype.deselect=function(t){var n=this._selectedElements,e=n.indexOf(t);if(-1!==e){var i=n.slice();n.splice(e,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})}},qm.prototype.get=function(){return this._selectedElements},qm.prototype.isSelected=function(t){return-1!==this._selectedElements.indexOf(t)},qm.prototype.select=function(t,n){var e=this._selectedElements,i=e.slice();(0,V.isArray)(t)||(t=t?[t]:[]),n?(0,V.forEach)(t,function(o){-1===e.indexOf(o)&&e.push(o)}):this._selectedElements=e=t.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:e})};var GI="selected";function VI(t,n,e,i){function o(s,a){n.addMarker(s,a)}function r(s,a){n.removeMarker(s,a)}this._multiSelectionBox=null,t.on("element.hover",function(s){o(s.element,"hover")}),t.on("element.out",function(s){r(s.element,"hover")}),t.on("selection.changed",function(s){var d=s.oldSelection,h=s.newSelection;(0,V.forEach)(d,function(w){-1===h.indexOf(w)&&function a(w){r(w,GI)}(w)}),(0,V.forEach)(h,function(w){-1===d.indexOf(w)&&function l(w){o(w,GI)}(w)})})}function HI(t,n,e,i){t.on("create.end",500,function(o){var r=o.context,a=r.elements,d=(r.hints||{}).autoSelect;if(r.canExecute){if(!1===d)return;(0,V.isArray)(d)?n.select(d):n.select(a.filter(Jse))}}),t.on("connect.end",500,function(o){var r=o.context,a=r.hover;r.canExecute&&a&&n.select(a)}),t.on("shape.move.end",500,function(o){var r=o.previousSelection||[],s=i.get(o.context.shape.id);(0,V.find)(r,function(l){return s.id===l.id})||n.select(s)}),t.on("element.click",function(o){var r=o.element;r===e.getRootElement()&&(r=null);var s=n.isSelected(r),a=n.get().length>1,l=zm(o)||RI(o);if(s&&a)return l?n.deselect(r):n.select(r);s?n.deselect(r):n.select(r,l)})}function Jse(t){return!t.hidden}VI.$inject=["eventBus","canvas","selection","styles"],HI.$inject=["eventBus","selection","canvas","elementRegistry"];const Wl={__init__:["selectionVisuals","selectionBehavior"],__depends__:[yg,LI],selection:["type",qm],selectionVisuals:["type",VI],selectionBehavior:["type",HI]};function lM(t){this._counter=0,this._prefix=(t?t+"-":"")+Math.floor(1e9*Math.random())+"-"}lM.prototype.next=function(){return this._prefix+ ++this._counter};var Zse=new lM("ov");function Ir(t,n,e,i){this._eventBus=n,this._canvas=e,this._elementRegistry=i,this._ids=Zse,this._overlayDefaults=(0,V.assign)({show:null,scale:!0},t&&t.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=function tae(t){var n=$n('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return t.insertBefore(n,t.firstChild),n}(e.getContainer()),this._init()}function UI(t,n,e){(0,V.assign)(t.style,{left:n+"px",top:e+"px"})}function cM(t,n){t.style.display=!1===n?"none":""}function zI(t,n){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(e){t.style[e+"transform"]=n})}Ir.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Ir.prototype.get=function(t){if((0,V.isString)(t)&&(t={id:t}),(0,V.isString)(t.element)&&(t.element=this._elementRegistry.get(t.element)),t.element){var n=this._getOverlayContainer(t.element,!0);return n?t.type?(0,V.filter)(n.overlays,(0,V.matchPattern)({type:t.type})):n.overlays.slice():[]}return t.type?(0,V.filter)(this._overlays,(0,V.matchPattern)({type:t.type})):t.id?this._overlays[t.id]:null},Ir.prototype.add=function(t,n,e){if((0,V.isObject)(n)&&(e=n,n=null),t.id||(t=this._elementRegistry.get(t)),!e.position)throw new Error("must specifiy overlay position");if(!e.html)throw new Error("must specifiy overlay html");if(!t)throw new Error("invalid element specified");var i=this._ids.next();return e=(0,V.assign)({},this._overlayDefaults,e,{id:i,type:n,element:t,html:e.html}),this._addOverlay(e),i},Ir.prototype.remove=function(t){var n=this.get(t)||[];(0,V.isArray)(n)||(n=[n]);var e=this;(0,V.forEach)(n,function(i){var o=e._getOverlayContainer(i.element,!0);if(i&&(ql(i.html),ql(i.htmlContainer),delete i.htmlContainer,delete i.element,delete e._overlays[i.id]),o){var r=o.overlays.indexOf(i);-1!==r&&o.overlays.splice(r,1)}})},Ir.prototype.show=function(){cM(this._overlayRoot)},Ir.prototype.hide=function(){cM(this._overlayRoot,!1)},Ir.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Kv(this._overlayRoot)},Ir.prototype._updateOverlayContainer=function(t){var n=t.element,e=t.html,i=n.x,o=n.y;if(n.waypoints){var r=yr(n);i=r.x,o=r.y}UI(e,i,o),Js(t.html,"data-container-id",n.id)},Ir.prototype._updateOverlay=function(t){var s,a,n=t.position,e=t.htmlContainer,i=t.element,o=n.left,r=n.top;void 0!==n.right&&(s=i.waypoints?yr(i).width:i.width,o=-1*n.right+s),void 0!==n.bottom&&(a=i.waypoints?yr(i).height:i.height,r=-1*n.bottom+a),UI(e,o||0,r||0)},Ir.prototype._createOverlayContainer=function(t){var n=$n('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(n);var e={html:n,element:t,overlays:[]};return this._updateOverlayContainer(e),this._overlayContainers.push(e),e},Ir.prototype._updateRoot=function(t){var n=t.scale||1,e="matrix("+[n,0,0,n,-1*t.x*n,-1*t.y*n].join(",")+")";zI(this._overlayRoot,e)},Ir.prototype._getOverlayContainer=function(t,n){var e=(0,V.find)(this._overlayContainers,function(i){return i.element===t});return e||n?e:this._createOverlayContainer(t)},Ir.prototype._addOverlay=function(t){var o,r,n=t.id,e=t.element,i=t.html;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),(0,V.isString)(i)&&(i=$n(i)),r=this._getOverlayContainer(e),(o=$n('<div class="djs-overlay" data-overlay-id="'+n+'" style="position: absolute">')).appendChild(i),t.type&&Ar(o).add("djs-overlay-"+t.type),t.htmlContainer=o,r.overlays.push(t),r.html.appendChild(o),this._overlays[n]=t,this._updateOverlay(t),this._updateOverlayVisibilty(t,this._canvas.viewbox())},Ir.prototype._updateOverlayVisibilty=function(t,n){var e=t.show,i=e&&e.minZoom,o=e&&e.maxZoom,r=t.htmlContainer,s=!0;e&&(((0,V.isDefined)(i)&&i>n.scale||(0,V.isDefined)(o)&&o<n.scale)&&(s=!1),cM(r,s)),this._updateOverlayScale(t,n)},Ir.prototype._updateOverlayScale=function(t,n){var i,o,s,e=t.scale,r=t.htmlContainer,a="";!0!==e&&(!1===e?(i=1,o=1):(i=e.min,o=e.max),(0,V.isDefined)(i)&&n.scale<i&&(s=(1/n.scale||1)*i),(0,V.isDefined)(o)&&n.scale>o&&(s=(1/n.scale||1)*o)),(0,V.isDefined)(s)&&(a="scale("+s+","+s+")"),zI(r,a)},Ir.prototype._updateOverlaysVisibilty=function(t){var n=this;(0,V.forEach)(this._overlays,function(e){n._updateOverlayVisibilty(e,t)})},Ir.prototype._init=function(){var t=this._eventBus,n=this;t.on("canvas.viewbox.changing",function(i){n.hide()}),t.on("canvas.viewbox.changed",function(i){!function e(i){n._updateRoot(i),n._updateOverlaysVisibilty(i),n.show()}(i.viewbox)}),t.on(["shape.remove","connection.remove"],function(i){var o=i.element,r=n.get({element:o});(0,V.forEach)(r,function(l){n.remove(l.id)});var s=n._getOverlayContainer(o);if(s){ql(s.html);var a=n._overlayContainers.indexOf(s);-1!==a&&n._overlayContainers.splice(a,1)}}),t.on("element.changed",500,function(i){var r=n._getOverlayContainer(i.element,!0);r&&((0,V.forEach)(r.overlays,function(s){n._updateOverlay(s)}),n._updateOverlayContainer(r))}),t.on("element.marker.update",function(i){var o=n._getOverlayContainer(i.element,!0);o&&Ar(o.html)[i.add?"add":"remove"](i.marker)}),t.on("diagram.clear",this.clear,this)};const uM={__init__:["overlays"],overlays:["type",Ir]};function Mu(t){so.call(this,t)}function Ea(t){return!t.altKey&&(t.ctrlKey||t.metaKey)}function sl(t,n){return-1!==(t=(0,V.isArray)(t)?t:[t]).indexOf(n.key)||-1!==t.indexOf(n.keyCode)}function dM(t){return t.shiftKey}on()(Mu,so),Mu.prototype._modules=[vb,hb,Wl,uM],Mu.prototype._moddleExtensions={};var wb="keyboard.keydown";function ys(t,n){var e=this;this._config=t||{},this._eventBus=n,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),n.on("diagram.destroy",function(){e._fire("destroy"),e.unbind()}),n.on("diagram.init",function(){e._fire("init")}),n.on("attach",function(){t&&t.bindTo&&e.bind(t.bindTo)}),n.on("detach",function(){e.unbind()})}ys.$inject=["config.keyboard","eventBus"],ys.prototype._keydownHandler=function(t){this._keyHandler(t,wb)},ys.prototype._keyupHandler=function(t){this._keyHandler(t,"keyboard.keyup")},ys.prototype._keyHandler=function(t,n){(function rae(t){return t&&(Qv(t,"input, textarea")||"true"===t.contentEditable)})(t.target)||this._eventBus.fire(n||wb,{keyEvent:t})&&t.preventDefault()},ys.prototype.bind=function(t){this.unbind(),this._node=t,bn.bind(t,"keydown",this._keydownHandler,!0),bn.bind(t,"keyup",this._keyupHandler,!0),this._fire("bind")},ys.prototype.getBinding=function(){return this._node},ys.prototype.unbind=function(){var t=this._node;t&&(this._fire("unbind"),bn.unbind(t,"keydown",this._keydownHandler,!0),bn.unbind(t,"keyup",this._keyupHandler,!0)),this._node=null},ys.prototype._fire=function(t){this._eventBus.fire("keyboard."+t,{node:this._node})},ys.prototype.addListener=function(t,n,e){(0,V.isFunction)(t)&&(e=n,n=t,t=1e3),this._eventBus.on(e||wb,t,n)},ys.prototype.removeListener=function(t,n){this._eventBus.off(n||wb,t)},ys.prototype.hasModifier=function nae(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey},ys.prototype.isCmd=Ea,ys.prototype.isShift=dM,ys.prototype.isKey=sl;var dae=["c","C",67],pae=["v","V",86],mae=["y","Y",89],qI=["z","Z",90];function $m(t,n){var e=this;t.on("editorActions.init",500,function(i){e.registerBindings(n,i.editorActions)})}$m.$inject=["eventBus","keyboard"],$m.prototype.registerBindings=function(t,n){function e(i,o){n.isRegistered(i)&&t.addListener(o)}e("undo",function(i){var o=i.keyEvent;if(Ea(o)&&!dM(o)&&sl(qI,o))return n.trigger("undo"),!0}),e("redo",function(i){var o=i.keyEvent;if(Ea(o)&&(sl(mae,o)||sl(qI,o)&&dM(o)))return n.trigger("redo"),!0}),e("copy",function(i){var o=i.keyEvent;if(Ea(o)&&sl(dae,o))return n.trigger("copy"),!0}),e("paste",function(i){var o=i.keyEvent;if(Ea(o)&&sl(pae,o))return n.trigger("paste"),!0}),e("stepZoom",function(i){var o=i.keyEvent;if(sl(["+","Add","="],o)&&Ea(o))return n.trigger("stepZoom",{value:1}),!0}),e("stepZoom",function(i){var o=i.keyEvent;if(sl(["-","Subtract"],o)&&Ea(o))return n.trigger("stepZoom",{value:-1}),!0}),e("zoom",function(i){var o=i.keyEvent;if(sl("0",o)&&Ea(o))return n.trigger("zoom",{value:1}),!0}),e("removeSelection",function(i){if(sl(["Backspace","Delete","Del"],i.keyEvent))return n.trigger("removeSelection"),!0})};const pM={__init__:["keyboard","keyboardBindings"],keyboard:["type",ys],keyboardBindings:["type",$m]};var fae={moveSpeed:50,moveSpeedAccelerated:200};function $I(t,n,e){var i=this;this._config=(0,V.assign)({},fae,t||{}),n.addListener(function o(r){var s=r.keyEvent,a=i._config;if(n.isCmd(s)&&n.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],s)){var d,l=n.isShift(s)?a.moveSpeedAccelerated:a.moveSpeed;switch(s.key){case"ArrowLeft":case"Left":d="left";break;case"ArrowUp":case"Up":d="up";break;case"ArrowRight":case"Right":d="right";break;case"ArrowDown":case"Down":d="down"}return i.moveCanvas({speed:l,direction:d}),!0}}),this.moveCanvas=function(r){var s=0,a=0,d=r.speed/Math.min(Math.sqrt(e.viewbox().scale),1);switch(r.direction){case"left":s=d;break;case"up":a=d;break;case"right":s=-d;break;case"down":a=-d}e.scroll({dx:s,dy:a})}}$I.$inject=["config.keyboardMove","keyboard","canvas"];const WI={__depends__:[pM],__init__:["keyboardMove"],keyboardMove:["type",$I]};var hae=/^djs-cursor-.*$/;function xb(t){var n=Ar(document.body);n.removeMatching(hae),t&&n.add("djs-cursor-"+t)}function YI(){xb(null)}function XI(t,n){function e(){return!1}return t.once(n=n||"element.click",5e3,e),function(){t.off(n,e)}}function Su(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function Yl(t,n){return{x:t.x-n.x,y:t.y-n.y}}function KI(t,n){var e;function i(s){var a=e.start,l=Cu(s),d=Yl(l,a);!e.dragging&&function vae(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}(d)>15&&(e.dragging=!0,XI(t),xb("grab")),e.dragging&&(d=Yl(l,e.last||e.start),n.scroll({dx:d.x,dy:d.y}),e.last=l),s.preventDefault()}function o(s){bn.unbind(document,"mousemove",i),bn.unbind(document,"mouseup",o),e=null,YI()}t.on("element.mousedown",500,function(s){return function r(s){if(!Im(s.target,".djs-draggable")&&!(s.button||s.ctrlKey||s.shiftKey||s.altKey))return e={start:Cu(s)},bn.bind(document,"mousemove",i),bn.bind(document,"mouseup",o),!0}(s.originalEvent)})}KI.$inject=["eventBus","canvas"];const QI={__init__:["moveCanvas"],moveCanvas:["type",KI]};function mM(t){return Math.log(t)/Math.log(10)}function JI(t,n){var e=mM(t.min),i=mM(t.max);return(Math.abs(e)+Math.abs(i))/n}var yae=Math.sign||function(t){return t>=0?1:-1},fM={min:.2,max:4};function Xl(t,n,e){t=t||{},this._enabled=!1,this._canvas=e,this._container=e._container,this._handleWheel=(0,V.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||.75;var i=this;n.on("canvas.init",function(o){i._init(!1!==t.enabled)})}Xl.$inject=["config.zoomScroll","eventBus","canvas"],Xl.prototype.scroll=function(n){this._canvas.scroll(n)},Xl.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Xl.prototype.zoom=function(n,e){var i=JI(fM,20);this._totalDelta+=n,Math.abs(this._totalDelta)>.1&&(this._zoom(n,e,i),this._totalDelta=0)},Xl.prototype._handleWheel=function(n){if(!Im(n.target,".djs-scrollable",!0)){var e=this._container;n.preventDefault();var s,i=n.ctrlKey,o=n.shiftKey,r=-1*this._scale;if(r*=i?0===n.deltaMode?.02:.32:0===n.deltaMode?1:16,i){var a=e.getBoundingClientRect(),l={x:n.clientX-a.left,y:n.clientY-a.top};s=Math.sqrt(Math.pow(n.deltaY,2)+Math.pow(n.deltaX,2))*yae(n.deltaY)*r,this.zoom(s,l)}else this.scroll(s=o?{dx:r*n.deltaY,dy:0}:{dx:r*n.deltaX,dy:r*n.deltaY})}},Xl.prototype.stepZoom=function(n,e){var i=JI(fM,10);this._zoom(n,e,i)},Xl.prototype._zoom=function(t,n,e){var i=this._canvas,o=t>0?1:-1,r=mM(i.zoom()),s=Math.round(r/e)*e,a=Math.pow(10,s+=e*o);i.zoom(function bae(t,n){return Math.max(t.min,Math.min(t.max,n))}(fM,a),n)},Xl.prototype.toggle=function(n){var o=this._enabled;return void 0===n&&(n=!o),o!==n&&bn[n?"bind":"unbind"](this._container,"wheel",this._handleWheel,!1),this._enabled=n,n},Xl.prototype._init=function(t){this.toggle(t)};const ek={__init__:["zoomScroll"],zoomScroll:["type",Xl]};function Nd(t){Mu.call(this,t)}on()(Nd,Mu),Nd.prototype._modules=[].concat(Mu.prototype._modules,Nd.prototype._navigationModules=[WI,QI,ek]);var Cae=E(5386),Rd=E.n(Cae),tk=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function Cb(t,n){return n.get(t,!1)}function hM(t){t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.srcEvent&&"function"==typeof t.srcEvent.stopPropagation&&t.srcEvent.stopPropagation(),"function"==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation()}function gM(t){function e(d){setTimeout(function(){(0,V.forEach)(tk,function(h){bn.unbind(t,h,hM,!0)})},500)}bn.bind(t,"touchstart",function n(d){(0,V.forEach)(tk,function(h){bn.bind(t,h,hM,!0)})},!0),bn.bind(t,"touchend",e,!0),bn.bind(t,"touchcancel",e,!0);var i=new(Rd().Manager)(t,{inputClass:Rd().TouchInput,recognizers:[],domEvents:!0}),o=new(Rd().Tap),r=new(Rd().Pan)({threshold:10}),s=new(Rd().Press),a=new(Rd().Pinch),l=new(Rd().Tap)({event:"doubletap",taps:2});return a.requireFailure(r),a.requireFailure(s),i.add([r,s,a,l,o]),i.reset=function(d){var h=this.recognizers,w=this.session;w.stopped||(i.stop(d),setTimeout(function(){var P,N;for(P=0;N=h[P];P++)N.reset(),N.state=8;w.curRecognizer=null},0))},i.on("hammer.input",function(d){d.srcEvent.defaultPrevented&&i.reset(!0)}),i}function nk(t,n,e,i,o){var d,r=Cb("dragging",t),s=Cb("move",t),a=Cb("contextPad",t),l=Cb("palette",t);function h(N){return function(L){o.fire(N,L)}}function w(N){return Im(N,"svg, .djs-element",!0)}r&&e.on("drag.move",function(N){var L=N.originalEvent;if(L&&!(L instanceof MouseEvent)){var U=Cu(L),Z=w(document.elementFromPoint(U.x,U.y)),Q=Z&&i.get(Z);Q!==N.hover&&(N.hover&&r.out(N),Q&&(r.hover({element:Q,gfx:Z}),N.hover=Q,N.hoverGfx=Z))}}),a&&e.on("contextPad.create",function(N){var U=gM(N.pad.html);U.on("panstart",function(q){a.trigger("dragstart",q,!0)}),U.on("press",function(q){a.trigger("dragstart",q,!0)}),U.on("tap",function(q){a.trigger("click",q)})}),l&&e.on("palette.create",function(N){var U=gM(N.container);U.on("panstart",function(q){l.trigger("dragstart",q,!0)}),U.on("press",function(q){l.trigger("dragstart",q,!0)}),U.on("tap",function(q){l.trigger("click",q)})}),e.on("canvas.init",function(N){!function P(N){function U(Z){var Q=w(Z.target),K=Q&&i.get(Q);if(s&&n.getRootElement()!==K)return s.start(Z,K,!0);!function L(Z){var Q=0,K=0;function J(we){n.scroll({dx:we.deltaX-Q,dy:we.deltaY-K}),Q=we.deltaX,K=we.deltaY}function ae(we){d.off("panmove",J),d.off("panend",ae),d.off("pancancel",ae)}d.on("panmove",J),d.on("panend",ae),d.on("pancancel",ae)}()}(d=gM(N)).on("doubletap",h("element.dblclick")),d.on("tap",h("element.click")),d.on("panstart",U),d.on("press",U),d.on("pinchstart",function q(Z){var Q=n.zoom(),K=Z.center;function J(we){var qe=Math.max(.2,Math.min(4,(1-(1-we.scale)/1.5)*Q));n.zoom(qe,K),hM(we)}function ae(we){d.off("pinchmove",J),d.off("pinchend",ae),d.off("pinchcancel",ae),d.reset(!0)}d.on("pinchmove",J),d.on("pinchend",ae),d.on("pinchcancel",ae)})}(N.svg)})}function _M(t,n){var e=this;n.on("canvas.init",function(i){e.addBBoxMarker(i.svg)})}nk.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],_M.$inject=["canvas","eventBus"],_M.prototype.addBBoxMarker=function(t){var n={fill:"none",class:"outer-bound-marker"},e=_n("rect");At(e,{x:-1e4,y:1e4,width:10,height:10}),At(e,n),Cn(t,e);var i=_n("rect");At(i,{x:1e4,y:1e4,width:10,height:10}),At(i,n),Cn(t,i)};const Eae={__depends__:[{__depends__:[yg],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",nk],touchFix:["type",_M]}]};function vM(t){return t&&t[t.length-1]}function ik(t){return t.y}function ok(t){return t.x}var Tae={left:ok,center:ok,right:function(t){return t.x+t.width},top:ik,middle:ik,bottom:function(t){return t.y+t.height}};function Wm(t){this._modeling=t}Wm.$inject=["modeling"],Wm.prototype._getOrientationDetails=function(t){var e="x",i="width";return-1!==["top","bottom","middle"].indexOf(t)&&(e="y",i="height"),{axis:e,dimension:i}},Wm.prototype._isType=function(t,n){return-1!==n.indexOf(t)},Wm.prototype._alignmentPosition=function(t,n){var l,d,h,e=this._getOrientationDetails(t),i=e.axis,o=e.dimension,r={},s={},a=!1;if(this._isType(t,["left","top"]))r[t]=n[0][i];else if(this._isType(t,["right","bottom"]))h=vM(n),r[t]=h[i]+h[o];else if(this._isType(t,["center","middle"])){if((0,V.forEach)(n,function(P){var N=P[i]+Math.round(P[o]/2);s[N]?s[N].elements.push(P):s[N]={elements:[P],center:N}}),l=(0,V.sortBy)(s,function(P){return P.elements.length>1&&(a=!0),P.elements.length}),a)return r[t]=vM(l).center,r;d=n[0],h=vM(n=(0,V.sortBy)(n,function(P){return P[i]+P[o]})),r[t]=function w(P,N){return Math.round((P[i]+N[i]+N[o])/2)}(d,h)}return r},Wm.prototype.trigger=function(t,n){var e=this._modeling,i=(0,V.filter)(t,function(a){return!(a.waypoints||a.host||a.labelTarget)}),r=(0,V.sortBy)(i,Tae[n]),s=this._alignmentPosition(n,r);e.alignElements(r,s)};const Pae={__init__:["alignElements"],alignElements:["type",Wm]};function bM(t,n,e,i){for(var o;o=Aae(t,e,n);)e=i(n,e,o);return e}function yM(t){return function(n,e,i){var o={x:e.x,y:e.y};return["x","y"].forEach(function(r){var s=t[r];if(s){var a="x"===r?"width":"height",l=s.margin,d=s.minDistance;o[r]=l<0?Math.min(i[r]+l-n[a]/2,e[r]-d+l):Math.max(i[r]+i[a]+l+n[a]/2,e[r]+d+l)}}),o}}function Aae(t,n,e){var i={x:n.x-e.width/2,y:n.y-e.height/2,width:e.width,height:e.height},o=function kae(t){var n=wM(t);return t.host&&(n=n.concat(wM(t.host))),t.attachers&&(n=n.concat(t.attachers.reduce(function(e,i){return e.concat(wM(i))},[]))),n}(t);return(0,V.find)(o,function(r){return r!==e&&"intersect"===Vr(r,i,10)})}function wM(t){return function Rae(t){return t.outgoing.map(function(n){return n.target})}(t).concat(function Nae(t){return t.incoming.map(function(n){return n.source})}(t))}function Oae(){return!0}function sk(t,n){t.on("autoPlace",100,function(e){return function Lae(t,n,e){e||(e={});var i=e.defaultDistance||50,o=qn(t);return{x:yn(t).right+i+n.width/2,y:o.y}}(e.source,e.shape)}),this.append=function(e,i,o){t.fire("autoPlace.start",{source:e,shape:i});var r=t.fire("autoPlace",{source:e,shape:i}),s=n.appendShape(e,i,r,e.parent,o);return t.fire("autoPlace.end",{source:e,shape:s}),s}}function ak(t,n){t.on("autoPlace.end",500,function(e){n.select(e.shape)})}sk.$inject=["eventBus","modeling"],ak.$inject=["eventBus","selection"];const jae={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",sk],autoPlaceSelectionBehavior:["type",ak]};function _i(t,n){return(0,V.some)(n,function(e){return(0,te.is)(t,e)})}function Mb(t,n){for("string"==typeof n&&(n=[n]);t=t.parent;)if(_i(t,n))return t;return null}function lk(t,n){return(0,te.is)(n,"bpmn:TextAnnotation")?function Hae(t,n){var e=yn(t);return bM(t,n,{x:e.right+n.width/2,y:e.top-50-n.height/2},yM({y:{margin:-30,minDistance:20}}))}(t,n):_i(n,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function Uae(t,n){var e=yn(t);return bM(t,n,{x:e.right-10+n.width/2,y:e.bottom+40+n.width/2},yM({x:{margin:30,minDistance:30}}))}(t,n):(0,te.is)(n,"bpmn:FlowNode")?function Gae(t,n){var e=yn(t),i=qn(t),o=function Iae(t,n){n||(n={});var i=n.defaultDistance||50,o=n.direction||"e",r=n.filter,s=n.getWeight||function e(L){return L.source===t?1:-1},a=n.maxDistance||250,l=n.reference||"start";function d(L,U){return"n"===o?"start"===l?yn(L).top-yn(U).bottom:"center"===l?yn(L).top-qn(U).y:yn(L).top-yn(U).top:"w"===o?"start"===l?yn(L).left-yn(U).right:"center"===l?yn(L).left-qn(U).x:yn(L).left-yn(U).left:"s"===o?"start"===l?yn(U).top-yn(L).bottom:"center"===l?qn(U).y-yn(L).bottom:yn(U).bottom-yn(L).bottom:"start"===l?yn(U).left-yn(L).right:"center"===l?qn(U).x-yn(L).right:yn(U).right-yn(L).right}r||(r=Oae);var h=t.incoming.filter(r).map(function(L){var U=s(L),q=U<0?d(L.source,t):d(t,L.source);return{id:L.source.id,distance:q,weight:U}}),w=t.outgoing.filter(r).map(function(L){var U=s(L),q=U>0?d(t,L.target):d(L.target,t);return{id:L.target.id,distance:q,weight:U}}),P=h.concat(w).reduce(function(L,U){return L[U.id+"__weight_"+U.weight]=U,L},{});return(0,V.reduce)(P,function(L,U){var q=U.distance,Z=U.weight;return q<0||q>a||(L[String(q)]||(L[String(q)]=0),L[String(q)]+=1*Z,(!L.distance||L[L.distance]<L[String(q)])&&(L.distance=q)),L},{}).distance||i}(t,{filter:function(h){return(0,te.is)(h,"bpmn:SequenceFlow")}}),r=30,a="left";return(0,te.is)(t,"bpmn:BoundaryEvent")&&-1!==(a=Vr(t,t.host,-25)).indexOf("top")&&(r*=-1),bM(t,n,{x:e.right+o+n.width/2,y:i.y+Vae(a,80)},yM({y:{margin:r,minDistance:80}}))}(t,n):void 0}function Vae(t,n){return-1!=t.indexOf("top")?-1*n:-1!=t.indexOf("bottom")?n:0}function ck(t){t.on("autoPlace",function(n){return lk(n.source,n.shape)})}ck.$inject=["eventBus"];const zae={__depends__:[jae],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",ck]};function rn(t){this._eventBus=t}function kc(t,n,e,i){rn.call(this,t),this._elementRegistry=n,this._modeling=e,this._rules=i;var o=this;this.postExecuted(["shape.create"],function(r){var s=r.context;!1!==(s.hints||{}).autoResize&&o._expand([s.shape],s.parent||s.newParent)}),this.postExecuted(["elements.move"],function(r){var s=r.context,a=(0,V.flatten)((0,V.values)(s.closure.topLevel)),l=s.hints,d=!l||l.autoResize;if(!1!==d){var h=(0,V.groupBy)(a,function(w){return w.parent.id});(0,V.forEach)(h,function(w,P){(0,V.isArray)(d)&&(w=w.filter(function(N){return(0,V.find)(d,(0,V.matchPattern)({id:N.id}))})),o._expand(w,P)})}}),this.postExecuted(["shape.toggleCollapse"],function(r){var s=r.context,a=s.hints,l=s.shape;a&&!1===a.autoResize||l.collapsed||o._expand(l.children||[],l)}),this.postExecuted(["shape.resize"],function(r){var s=r.context,a=s.hints,l=s.shape,d=l.parent;a&&!1===a.autoResize||d&&o._expand([l],d)})}function Sb(t){t.invoke(kc,this)}function Nc(t){rn.call(this,t),this.init()}function wg(t){Nc.call(this,t);var n=this;this.addRule("element.autoResize",function(e){return n.canResize(e.elements,e.target)})}function Eb(t,n){wg.call(this,t),this._modeling=n}rn.$inject=["eventBus"],rn.prototype.on=function(t,n,e,i,o,r){if(((0,V.isFunction)(n)||(0,V.isNumber)(n))&&(r=o,o=i,i=e,e=n,n=null),(0,V.isFunction)(e)&&(r=o,o=i,i=e,e=1e3),(0,V.isObject)(o)&&(r=o,o=!1),!(0,V.isFunction)(i))throw new Error("handlerFn must be a function");(0,V.isArray)(t)||(t=[t]);var s=this._eventBus;(0,V.forEach)(t,function(a){var l=["commandStack",a,n].filter(function(d){return d}).join(".");s.on(l,e,o?function $ae(t,n){return function(e){return t.call(n||null,e.context,e.command,e)}}(i,r):i,r)})},(0,V.forEach)(["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"],function(t){rn.prototype[t]=function(n,e,i,o,r){((0,V.isFunction)(n)||(0,V.isNumber)(n))&&(r=o,o=i,i=e,e=n,n=null),this.on(n,t,e,i,o,r)}}),kc.$inject=["eventBus","elementRegistry","modeling","rules"],on()(kc,rn),kc.prototype._getOptimalBounds=function(t,n){var e=this.getOffset(n),i=this.getPadding(n),o=yn(yr(t)),r=yn(n),s={};return o.top-r.top<i.top&&(s.top=o.top-e.top),o.left-r.left<i.left&&(s.left=o.left-e.left),r.right-o.right<i.right&&(s.right=o.right+e.right),r.bottom-o.bottom<i.bottom&&(s.bottom=o.bottom+e.bottom),rM((0,V.assign)({},r,s))},kc.prototype._expand=function(t,n){if("string"==typeof n&&(n=this._elementRegistry.get(n)),this._rules.allowed("element.autoResize",{elements:t,target:n})){var i=this._getOptimalBounds(t,n);if(function Yae(t,n){return t.x!==n.x||t.y!==n.y||t.width!==n.width||t.height!==n.height}(i,n)){var o=function Xae(t,n){var e="";return t=yn(t),n=yn(n),t.top>n.top&&(e=e.concat("n")),t.right<n.right&&(e=e.concat("w")),t.bottom<n.bottom&&(e=e.concat("s")),t.left>n.left&&(e=e.concat("e")),e}((0,V.pick)(n,["x","y","width","height"]),i);this.resize(n,i,{autoResize:o});var r=n.parent;r&&this._expand([n],r)}}},kc.prototype.getOffset=function(t){return{top:60,bottom:60,left:100,right:100}},kc.prototype.getPadding=function(t){return{top:2,bottom:2,left:15,right:15}},kc.prototype.resize=function(t,n,e){this._modeling.resizeShape(t,n,null,e)},Sb.$inject=["injector"],on()(Sb,kc),Sb.prototype.resize=function(t,n,e){(0,te.is)(t,"bpmn:Participant")?this._modeling.resizeLane(t,n,null,e):this._modeling.resizeShape(t,n,null,e)},Nc.$inject=["eventBus"],on()(Nc,rn),Nc.prototype.addRule=function(t,n,e){var i=this;"string"==typeof t&&(t=[t]),t.forEach(function(o){i.canExecute(o,n,function(r,s,a){return e(r)},!0)})},Nc.prototype.init=function(){},wg.$inject=["eventBus"],on()(wg,Nc),wg.prototype.canResize=function(t,n){return!1},on()(Eb,wg),Eb.$inject=["eventBus","modeling"],Eb.prototype.canResize=function(t,n){if(!(0,te.is)(n,"bpmn:Participant")&&!(0,te.is)(n,"bpmn:Lane")&&!(0,te.is)(n,"bpmn:SubProcess"))return!1;var e=!0;return(0,V.forEach)(t,function(i){((0,te.is)(i,"bpmn:Lane")||i.labelTarget)&&(e=!1)}),e};const Kae={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",Sb],bpmnAutoResizeProvider:["type",Eb]};function dk(t,n,e){var s,a,i=this,o=e.get("dragging",!1);o&&n.on("drag.start",function(s){n.once("drag.move",1500,function(a){!function r(s){if(!s.hover){var a=s.originalEvent,l=i._findTargetGfx(a),d=l&&t.get(l);l&&d&&(s.stopPropagation(),o.hover({element:d,gfx:l}),o.move(a))}}(a)})}),n.on("element.hover",function(l){s=l.gfx,a=l.element}),n.on("element.hover",1500,function(l){a&&n.fire("element.out",{element:a,gfx:s})}),n.on("element.out",function(){s=null,a=null}),this._findTargetGfx=function(s){var a;if(s instanceof MouseEvent)return a=Cu(s),function Qae(t){return Im(t,"svg, .djs-element",!0)}(document.elementFromPoint(a.x,a.y))}}dk.$inject=["elementRegistry","eventBus","injector"];const Jae={__init__:["hoverFix"],hoverFix:["type",dk]};var Ym=Math.round,pk="djs-drag-active";function Od(t){t.preventDefault()}function mk(t,n,e,i){var r,o={threshold:5,trapClick:!0};function s(K){var J=n.viewbox(),ae=n._container.getBoundingClientRect();return{x:J.x+(K.x-ae.left)/J.scale,y:J.y+(K.y-ae.top)/J.scale}}function a(K,J){var ae=t.createEvent((0,V.assign)({},(J=J||r).payload,J.data,{isTouch:J.isTouch}));return!1!==t.fire("drag."+K,ae)&&t.fire(J.prefix+"."+K,ae)}function d(K,J){var ae=r.payload,we=r.displacement,_e=r.globalStart,qe=Cu(K),Xe=Yl(qe,_e),st=r.localStart,vt=s(qe),Ct=Yl(vt,st);if(!r.active&&(J||function ele(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}(Xe)>r.threshold)){if((0,V.assign)(ae,{x:Ym(st.x+we.x),y:Ym(st.y+we.y),dx:0,dy:0},{originalEvent:K}),!1===a("start"))return q();r.active=!0,r.keepSelection||(ae.previousSelection=e.get(),e.select(null)),r.cursor&&xb(r.cursor),n.addMarker(n.getRootElement(),pk)}aM(K),r.active&&((0,V.assign)(ae,{x:Ym(vt.x+we.x),y:Ym(vt.y+we.y),dx:Ym(Ct.x),dy:Ym(Ct.y)},{originalEvent:K}),a("move"))}function h(K){var ae=!0;r.active&&(K&&(r.payload.originalEvent=K,aM(K)),ae=a("end")),!1===ae&&a("rejected"),a("ended",Z(!0!==ae))}function w(K){27===K.which&&(Od(K),q())}function P(K){var J;r.active&&(J=XI(t),setTimeout(J,400),Od(K)),h(K)}function N(K){d(K)}function L(K){var J=r.payload;J.hoverGfx=K.gfx,J.hover=K.element,a("hover")}function U(K){a("out");var J=r.payload;J.hoverGfx=null,J.hover=null}function q(K){var J;if(r){var ae=r.active;ae&&a("cancel"),J=Z(K),ae&&a("canceled",J)}}function Z(K){var J,ae;a("cleanup"),YI(),ae=r.trapClick?P:h,bn.unbind(document,"mousemove",d),bn.unbind(document,"dragstart",Od),bn.unbind(document,"selectstart",Od),bn.unbind(document,"mousedown",ae,!0),bn.unbind(document,"mouseup",ae,!0),bn.unbind(document,"keyup",w),bn.unbind(document,"touchstart",N,!0),bn.unbind(document,"touchcancel",q,!0),bn.unbind(document,"touchmove",d,!0),bn.unbind(document,"touchend",h,!0),t.off("element.hover",L),t.off("element.out",U),n.removeMarker(n.getRootElement(),pk);var we=r.payload.previousSelection;return!1!==K&&we&&!e.get().length&&function l(K){var J=K.filter(function(ae){return i.get(ae.id)});J.length&&e.select(J)}(we),J=r,r=null,J}t.on("diagram.destroy",q),this.init=function Q(K,J,ae,we){r&&q(!1),"string"==typeof J&&(we=ae,ae=J,J=null);var qe,Xe,st,vt,Ct,_e=(we=(0,V.assign)({},o,we||{})).data||{};vt=we.trapClick?P:h,K?(qe=Um(K)||K,Xe=Cu(K),aM(K),"dragstart"===qe.type&&Od(qe)):(qe=null,Xe={x:0,y:0}),st=s(Xe),J||(J=st),Ct=function Zae(t){return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent}(qe),r=(0,V.assign)({prefix:ae,data:_e,payload:{},globalStart:Xe,displacement:Yl(J,st),localStart:st,isTouch:Ct},we),we.manual||(Ct?(bn.bind(document,"touchstart",N,!0),bn.bind(document,"touchcancel",q,!0),bn.bind(document,"touchmove",d,!0),bn.bind(document,"touchend",h,!0)):(bn.bind(document,"mousemove",d),bn.bind(document,"dragstart",Od),bn.bind(document,"selectstart",Od),bn.bind(document,"mousedown",vt,!0),bn.bind(document,"mouseup",vt,!0)),bn.bind(document,"keyup",w),t.on("element.hover",L),t.on("element.out",U)),a("init"),we.autoActivate&&d(K,!0)},this.move=d,this.hover=L,this.out=U,this.end=h,this.cancel=q,this.context=function(){return r},this.setOptions=function(K){(0,V.assign)(o,K)}}mk.$inject=["eventBus","canvas","selection","elementRegistry"];const Rc={__depends__:[Jae,Wl],dragging:["type",mk]};function Xm(t,n,e){this._canvas=e,this._opts=(0,V.assign)({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},t);var i=this;n.on("drag.move",function(o){var r=i._toBorderPoint(o);i.startScroll(r)}),n.on(["drag.cleanup"],function(){i.stopScroll()})}function tle(t,n,e){return n<t&&t<e}Xm.$inject=["config.autoScroll","eventBus","canvas"],Xm.prototype.startScroll=function(t){var n=this._canvas,e=this._opts,i=this,o=n.getContainer().getBoundingClientRect(),r=[t.x,t.y,o.width-t.x,o.height-t.y];this.stopScroll();for(var s=0,a=0,l=0;l<4;l++)tle(r[l],e.scrollThresholdOut[l],e.scrollThresholdIn[l])&&(0===l?s=e.scrollStep:1==l?a=e.scrollStep:2==l?s=-e.scrollStep:3==l&&(a=-e.scrollStep));(0!==s||0!==a)&&(n.scroll({dx:s,dy:a}),this._scrolling=setTimeout(function(){i.startScroll(t)},e.scrollRepeatTimeout))},Xm.prototype.stopScroll=function(){clearTimeout(this._scrolling)},Xm.prototype.setOptions=function(t){this._opts=(0,V.assign)({},this._opts,t)},Xm.prototype._toBorderPoint=function(t){var n=this._canvas._container.getBoundingClientRect(),e=Cu(t.originalEvent);return{x:e.x-n.left,y:e.y-n.top}};const nle={__depends__:[Rc],__init__:["autoScroll"],autoScroll:["type",Xm]};function xM(t){this._commandStack=t.get("commandStack",!1)}xM.$inject=["injector"],xM.prototype.allowed=function(t,n){var e=!0,i=this._commandStack;return i&&(e=i.canExecute(t,n)),void 0===e||e};const Kl={__init__:["rules"],rules:["type",xM]};var Tb=Math.round,ile=Math.max;function CM(t,n){return function sle(t,n){var e,i;for(e=0;i=t[e];e++)if(bg(i,n)<=10)return{point:t[e],bendpoint:!0,index:e};return null}(t,n)||function ale(t,n){var r,e=AI()(function ole(t,n){return[["M",t.x,t.y],["m",0,-n],["a",n,n,0,1,1,0,2*n],["a",n,n,0,1,1,0,-2*n],["z"]]}(n,10),function rle(t){var n=[];return t.forEach(function(e,i){n.push([0===i?"M":"L",e.x,e.y])}),n}(t)),i=e[0],o=e[e.length-1];return i?i!==o?i.segment2!==o.segment2?{point:t[r=ile(i.segment2,o.segment2)-1],bendpoint:!0,index:r}:{point:{x:Tb(i.x+o.x)/2,y:Tb(i.y+o.y)/2},index:i.segment2}:{point:{x:Tb(i.x),y:Tb(i.y)},index:i.segment2}:null}(t,n)}var hk="djs-bendpoint",gk="djs-segment-dragger";function MM(t,n,e){var i=function lle(t,n){var o,e=Cu(n),i=t._container.getBoundingClientRect();o={x:i.left,y:i.top};var r=t.viewbox();return{x:r.x+(e.x-o.x)/r.scale,y:r.y+(e.y-o.y)/r.scale}}(t,e);return CM(n,i)}function SM(t,n){var e=_n("g");hi(e).add(hk),Cn(t,e);var i=_n("circle");At(i,{cx:0,cy:0,r:4}),hi(i).add("djs-visual"),Cn(e,i);var o=_n("circle");return At(o,{cx:0,cy:0,r:10}),hi(o).add("djs-hit"),Cn(e,o),n&&hi(e).add(n),e}function _k(t,n,e){var i=_n("g"),o=oM(n,e),r=Ac(n,e);return Cn(t,i),function cle(t,n,e,i){var o=_n("g");Cn(t,o);var l=function ule(t,n,e){return EM("h"===e?n.x-t.x:n.y-t.y)}(n,e,i),h=_n("rect");At(h,{x:-7,y:-1.5,width:14,height:3}),hi(h).add("djs-visual"),Cn(o,h);var w=_n("rect");return At(w,{x:-l/2,y:-7,width:l,height:14}),hi(w).add("djs-hit"),Cn(o,w),oI(o,"v"===i?90:0),o}(i,n,e,r),hi(i).add(gk),hi(i).add("h"===r?"horizontal":"vertical"),Os(i,o.x,o.y),i}function EM(t){return Math.abs(Math.round(2*t/3))}var dle=E(9846),TM=E.n(dle),ple={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function vk(t){return(t=""+t)&&t.replace(/[&<>"']/g,function(n){return ple[n]})}function bk(t,n,e,i,o){function l(K,J,ae){bn.bind(K,J,function(we){e.triggerMouseEvent(J,we,ae),we.stopPropagation()})}function d(K,J){var ae=n.getLayer("overlays"),we=_o('.djs-bendpoints[data-element-id="'+TM()(K.id)+'"]',ae);return!we&&J&&(At(we=_n("g"),{"data-element-id":K.id}),hi(we).add("djs-bendpoints"),Cn(ae,we),l(we,"mousedown",K),l(we,"click",K),l(we,"dblclick",K)),we}function h(K,J){return _o('.djs-segment-dragger[data-segment-idx="'+K+'"]',J)}function w(K,J){J.waypoints.forEach(function(ae,we){var _e=SM(K);Cn(K,_e),Os(_e,ae.x,ae.y)}),SM(K,"floating")}function P(K,J){for(var we,_e,qe,ae=J.waypoints,Xe=1;Xe<ae.length;Xe++)Ac(we=ae[Xe-1],_e=ae[Xe])&&(At(qe=_k(K,we,_e),{"data-segment-idx":Xe}),l(qe,"mousemove",J))}function U(K){var J=d(K);return J||(w(J=d(K,!0),K),P(J,K)),J}function q(K){var J=d(K);J&&(function L(K){(0,V.forEach)(FC("."+gk,K),function(J){To(J)})}(J),function N(K){(0,V.forEach)(FC("."+hk,K),function(J){To(J)})}(J),P(J,K),w(J,K))}t.on("connection.changed",function(K){q(K.element)}),t.on("connection.remove",function(K){var J=d(K.element);J&&To(J)}),t.on("element.marker.update",function(K){var ae,J=K.element;!J.waypoints||(ae=U(J),K.add?hi(ae).add(K.marker):hi(ae).remove(K.marker))}),t.on("element.mousemove",function(K){var we,_e,J=K.element,ae=J.waypoints;if(ae){if(we=d(J,!0),!(_e=MM(n,ae,K.originalEvent)))return;(function Z(K,J){var ae=_o(".floating",K),we=J.point;!ae||Os(ae,we.x,we.y)})(we,_e),_e.bendpoint||function Q(K,J,ae){var Ct,Pt,we=h(J.index,K),_e=ae[J.index-1],qe=ae[J.index],Xe=J.point,st=oM(_e,qe),vt=Ac(_e,qe);!we||(Ct=function mle(t){return _o(".djs-visual",t)}(we),Pt={x:Xe.x-st.x,y:Xe.y-st.y},"v"===vt&&(Pt={x:Pt.y,y:Pt.x}),Os(Ct,Pt.x,Pt.y))}(we,_e,ae)}}),t.on("element.mousedown",function(K){var ae=K.element;if(ae.waypoints)return function a(K,J){var _e,ae=J.waypoints,we=MM(n,ae,K);if(we)return _e=function s(K,J){var we,_e,ae=K.waypoints;return J.index<=0||J.bendpoint||!(_e=Ac((we={start:ae[J.index-1],end:ae[J.index]}).start,we.end))?null:EM("h"===_e?we.end.x-we.start.x:we.end.y-we.start.y)/2}(J,we),function r(K,J,ae){var qe,Xe,st,vt,Ct,Pt,we=K.index,_e=K.point;return!(we<=0||K.bendpoint)&&(st=oM(qe=J[we-1],Xe=J[we]),vt=Ac(qe,Xe),Ct=Math.abs(_e.x-st.x),Pt=Math.abs(_e.y-st.y),vt&&Ct<=ae&&Pt<=ae)}(we,ae,_e)?o.start(K,J,we.index):i.start(K,J,we.index,!we.bendpoint),!0}(K.originalEvent,ae)}),t.on("selection.changed",function(K){var ae=K.newSelection[0];ae&&ae.waypoints&&U(ae)}),t.on("element.hover",function(K){var J=K.element;J.waypoints&&(U(J),e.registerEvent(K.gfx,"mousemove","element.mousemove"))}),t.on("element.out",function(K){e.unregisterEvent(K.gfx,"mousemove","element.mousemove")}),t.on("element.updateId",function(K){var J=K.element,ae=K.newId;if(J.waypoints){var we=d(J);we&&At(we,{"data-element-id":ae})}}),this.addHandles=U,this.updateHandles=q,this.getBendpointsContainer=d,this.getSegmentDragger=h}bk.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var yk=Math.round,Bd="reconnectStart",Ld="reconnectEnd",Pb="updateWaypoints";function PM(t,n,e,i,o,r){this._injector=t,this.start=function(s,a,l,d){var L,h=e.getGraphics(a),w=a.source,P=a.target,U=(L=d||0!==l?d||l!==a.waypoints.length-1?Pb:Ld:Bd)===Pb?"connection.updateWaypoints":"connection.reconnect",q=o.allowed(U,{connection:a,source:w,target:P});!1===q&&(q=o.allowed(U,{connection:a,source:P,target:w})),!1!==q&&i.init(s,"bendpoint.move",{data:{connection:a,connectionGfx:h,context:{allowed:q,bendpointIndex:l,connection:a,source:w,target:P,insert:d,type:L}}})},n.on("bendpoint.move.hover",function(s){var N,a=s.context,l=a.connection,d=l.source,h=l.target,w=s.hover,P=a.type;if(a.hover=w,w){var L=P===Pb?"connection.updateWaypoints":"connection.reconnect";if(N=a.allowed=o.allowed(L,{connection:l,source:P===Bd?w:d,target:P===Ld?w:h}))return a.source=P===Bd?w:d,void(a.target=P===Ld?w:h);!1===N&&(N=a.allowed=o.allowed(L,{connection:l,source:P===Ld?w:h,target:P===Bd?w:d})),N&&(a.source=P===Ld?w:h,a.target=P===Bd?w:d)}}),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(s){var a=s.context;a.hover=null,a.source=null,a.target=null,a.allowed=!1}),n.on("bendpoint.move.end",function(s){var a=s.context,l=a.allowed,d=a.bendpointIndex,h=a.connection,w=a.insert,P=h.waypoints.slice(),N=a.source,L=a.target,U=a.type,q=a.hints||{},Z={x:yk(s.x),y:yk(s.y)};if(!l)return!1;U===Pb?(w?P.splice(d,0,Z):P[d]=Z,q.bendpointMove={insert:w,bendpointIndex:d},P=this.cropWaypoints(h,P),r.updateWaypoints(h,function qse(t){t=t.slice();for(var e,i,o,n=0;t[n];)i=t[n-1],0===bg(e=t[n],o=t[n+1])||iM(i,o,e)?t.splice(n,1):n++;return t}(P),q)):(U===Bd?(q.docking="source",Db(a)&&(q.docking="target",q.newWaypoints=P.reverse())):U===Ld&&(q.docking="target",Db(a)&&(q.docking="source",q.newWaypoints=P.reverse())),r.reconnect(h,N,L,Z,q))},this)}function Db(t){var n=t.hover,e=t.source,i=t.target,o=t.type;return o===Bd?n&&i&&n===i&&e!==i:o===Ld?n&&e&&n===e&&e!==i:void 0}PM.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],PM.prototype.cropWaypoints=function(t,n){var e=this._injector.get("connectionDocking",!1);if(!e)return n;var i=t.waypoints;return t.waypoints=n,t.waypoints=e.getCroppedWaypoints(t),n=t.waypoints,t.waypoints=i,n};var wk="updateWaypoints",xg="connect-ok",Fb="connect-not-ok",xk="connect-hover",Ck="djs-updating",Mk="djs-element-hidden";function Ek(t,n,e,i){this._injector=n;var o=n.get("connectionPreview",!1);e.on("bendpoint.move.start",function(r){var s=r.context,a=s.bendpointIndex,l=s.connection,d=s.insert,h=l.waypoints,w=h.slice();s.waypoints=h,d&&w.splice(a,0,{x:r.x,y:r.y}),l.waypoints=w,hi(s.draggerGfx=SM(i.getLayer("overlays"))).add("djs-dragging"),i.addMarker(l,Mk),i.addMarker(l,Ck)}),e.on("bendpoint.move.hover",function(r){var s=r.context,a=s.allowed,l=s.hover,d=s.type;if(l){if(i.addMarker(l,xk),d===wk)return;a?(i.removeMarker(l,Fb),i.addMarker(l,xg)):!1===a&&(i.removeMarker(l,xg),i.addMarker(l,Fb))}}),e.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(r){var s=r.context,a=s.hover,l=s.target;a&&(i.removeMarker(a,xk),i.removeMarker(a,l?xg:Fb))}),e.on("bendpoint.move.move",function(r){var s=r.context,a=s.allowed,l=s.bendpointIndex,d=s.draggerGfx,h=s.hover,w=s.type,P=s.connection,N=P.source,L=P.target,U=P.waypoints.slice(),q={x:r.x,y:r.y},Z=s.hints||{},Q={};o&&(Z.connectionStart&&(Q.connectionStart=Z.connectionStart),Z.connectionEnd&&(Q.connectionEnd=Z.connectionEnd),"reconnectStart"===w?Db(s)?(Q.connectionEnd=Q.connectionEnd||q,Q.source=L,Q.target=h||N,U=U.reverse()):(Q.connectionStart=Q.connectionStart||q,Q.source=h||N,Q.target=L):"reconnectEnd"===w?Db(s)?(Q.connectionStart=Q.connectionStart||q,Q.source=h||L,Q.target=N,U=U.reverse()):(Q.connectionEnd=Q.connectionEnd||q,Q.source=N,Q.target=h||L):(Q.noCropping=!0,Q.noLayout=!0,U[l]=q),w===wk&&(U=t.cropWaypoints(P,U)),Q.waypoints=U,o.drawPreview(s,a,Q)),Os(d,r.x,r.y)},this),e.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(r){var s=r.context,a=s.connection,l=s.draggerGfx,d=s.hover,h=s.target;a.waypoints=s.waypoints,To(l),i.removeMarker(a,Ck),i.removeMarker(a,Mk),d&&(i.removeMarker(d,xg),i.removeMarker(d,h?xg:Fb)),o&&o.cleanUp(s)})}Ek.$inject=["bendpointMove","injector","eventBus","canvas"];var Tk="connect-hover",Pk="djs-updating";function Dk(t,n,e){return DM(t,n,t[n]+e)}function DM(t,n,e){return{x:"x"===n?e:t.x,y:"y"===n?e:t.y}}function Fk(t){return"x"===t?"y":"x"}function Ak(t,n,e){var i,o;return t.original?t.original:(i=qn(n),DM(t,o=Fk(e),i[o]))}function Ik(t,n,e,i,o,r){var s=t.get("connectionDocking",!1);function a(w,P){if(!s)return P;var L,N=w.waypoints;return w.waypoints=P,L=s.getCroppedWaypoints(w),w.waypoints=N,L}function l(w){o.update("connection",w.connection,w.connectionGfx)}this.start=function(w,P,N){var we,_e,qe,U=e.getGraphics(P),q=N-1,Z=N,Q=P.waypoints,K=Q[q],J=Q[Z],ae=MM(e,Q,w);(we=Ac(K,J))&&(_e="v"===we?"x":"y",0===q&&(K=Ak(K,P.source,_e)),Z===Q.length-1&&(J=Ak(J,P.target,_e)),i.init(w,qe=ae?ae.point:{x:(K.x+J.x)/2,y:(K.y+J.y)/2},"connectionSegment.move",{cursor:"x"===_e?"resize-ew":"resize-ns",data:{connection:P,connectionGfx:U,context:{connection:P,segmentStartIndex:q,segmentEndIndex:Z,segmentStart:K,segmentEnd:J,axis:_e,dragPosition:qe}}}))},n.on("connectionSegment.move.start",function(w){var P=w.context,N=w.connection,L=e.getLayer("overlays");P.originalWaypoints=N.waypoints.slice(),P.draggerGfx=_k(L,P.segmentStart,P.segmentEnd),hi(P.draggerGfx).add("djs-dragging"),e.addMarker(N,Pk)}),n.on("connectionSegment.move.move",function(w){var qe,Xe,P=w.context,N=P.connection,L=P.segmentStartIndex,U=P.segmentEndIndex,q=P.segmentStart,Z=P.segmentEnd,Q=P.axis,K=P.originalWaypoints.slice(),J=Dk(q,Q,w["d"+Q]),ae=Dk(Z,Q,w["d"+Q]),we=K.length,_e=0;K[L]=J,K[U]=ae,L<2&&(qe=Vr(N.source,J),1===L?"intersect"===qe&&(K.shift(),K[0]=J,_e--):"intersect"!==qe&&(K.unshift(q),_e++)),U>we-3&&(Xe=Vr(N.target,ae),U===we-2?"intersect"===Xe&&(K.pop(),K[K.length-1]=ae):"intersect"!==Xe&&K.push(Z)),P.newWaypoints=N.waypoints=a(N,K),function d(w,P,N){var L=w.newWaypoints,J=function gle(t,n,e,i){var o=Math.max(n[i],e[i]),r=Math.min(n[i],e[i]);return DM(n,i,Math.min(Math.max(r+20,t[i]),o-20))}(N,L[w.segmentStartIndex+P],L[w.segmentEndIndex+P],Fk(w.axis));Os(w.draggerGfx,J.x,J.y)}(P,_e,w),P.newSegmentStartIndex=L+_e,l(w)}),n.on("connectionSegment.move.hover",function(w){w.context.hover=w.hover,e.addMarker(w.hover,Tk)}),n.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(w){var P=w.context.hover;P&&e.removeMarker(P,Tk)}),n.on("connectionSegment.move.cleanup",function(w){var P=w.context,N=P.connection;P.draggerGfx&&To(P.draggerGfx),e.removeMarker(N,Pk)}),n.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(w){var P=w.context;P.connection.waypoints=P.originalWaypoints,l(w)}),n.on("connectionSegment.move.end",function(w){var P=w.context,N=P.connection,L=P.newWaypoints,U=P.newSegmentStartIndex,q=function h(w,P){var N=0;return{waypoints:w.filter(function(U,q){return!iM(w[q-1],w[q+1],U)||(N=q<=P?N-1:N,!1)}),segmentOffset:N}}(L=L.map(function(ae){return{original:ae.original,x:Math.round(ae.x),y:Math.round(ae.y)}}),U),Q=a(N,q.waypoints);r.updateWaypoints(N,Q,{segmentMove:{segmentStartIndex:P.segmentStartIndex,newSegmentStartIndex:U+q.segmentOffset}})})}Ik.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var _le=Math.abs,kk=Math.round;function Nk(t){return{x:t.x,y:t.y}}function Rk(t){return{x:t.x+t.width,y:t.y+t.height}}function Ta(t,n){return!t||isNaN(t.x)||isNaN(t.y)?n:{x:kk(t.x+t.width/2),y:kk(t.y+t.height/2)}}function Km(t,n){var e=t.snapped;return!!e&&("string"==typeof n?e[n]:e.x&&e.y)}function rr(t,n,e){if("string"!=typeof n)throw new Error("axis must be in [x, y]");if("number"!=typeof e&&!1!==e)throw new Error("value must be Number or false");var i,o=t[n],r=t.snapped=t.snapped||{};return!1===e?r[n]=!1:(r[n]=!0,t[n]+=i=e-o,t["d"+n]+=i),o}function Ok(t){return t.children||[]}var ble=Math.abs,Bk=Math.round;function Lk(t){function n(r,s){if((0,V.isArray)(r)){for(var a=r.length;a--;)if(ble(r[a]-s)<=10)return r[a]}else{var l=s%(r=+r);if(l<10)return s-l;if(l>r-10)return s-l+r}return s}function e(r){if(r.width)return{x:Bk(r.width/2+r.x),y:Bk(r.height/2+r.y)}}t.on("connectionSegment.move.move",1500,function(r){var h,w,a=function i(r){var s=r.snapPoints,a=r.connection,l=a.waypoints,h=r.segmentStartIndex,P=r.segmentEndIndex,N=r.axis;if(s)return s;var L=[l[h-1],r.segmentStart,r.segmentEnd,l[P+1]];return h<2&&L.unshift(e(a.source)),P>l.length-3&&L.unshift(e(a.target)),r.snapPoints=s={horizontal:[],vertical:[]},(0,V.forEach)(L,function(U){U&&(U=U.original||U,"y"===N&&s.horizontal.push(U.y),"x"===N&&s.vertical.push(U.x))}),s}(r.context),l=r.x,d=r.y;if(a){var P=l-(h=n(a.vertical,l)),N=d-(w=n(a.horizontal,d));(0,V.assign)(r,{dx:r.dx-P,dy:r.dy-N,x:h,y:w}),(P||-1!==a.vertical.indexOf(l))&&rr(r,"x",h),(N||-1!==a.horizontal.indexOf(d))&&rr(r,"y",w)}}),t.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(r){var P,N,s=r.context,a=function o(r){var s=r.snapPoints,a=r.connection.waypoints,l=r.bendpointIndex;if(s)return s;var d=[a[l-1],a[l+1]];return r.snapPoints=s={horizontal:[],vertical:[]},(0,V.forEach)(d,function(h){h&&(s.horizontal.push((h=h.original||h).y),s.vertical.push(h.x))}),s}(s),l=s.hover,d=l&&e(l),h=r.x,w=r.y;if(a){var L=h-(P=n(d?a.vertical.concat([d.x]):a.vertical,h)),U=w-(N=n(d?a.horizontal.concat([d.y]):a.horizontal,w));(0,V.assign)(r,{dx:r.dx-L,dy:r.dy-U,x:r.x-L,y:r.y-U}),(L||-1!==a.vertical.indexOf(h))&&rr(r,"x",P),(U||-1!==a.horizontal.indexOf(w))&&rr(r,"y",N)}})}Lk.$inject=["eventBus"];const yle={__depends__:[Rc,Kl],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",bk],bendpointMove:["type",PM],bendpointMovePreview:["type",Ek],connectionSegmentMove:["type",Ik],bendpointSnapping:["type",Lk]};function jk(t,n,e,i){function o(s,a){return i.allowed("connection.create",{source:s,target:a})}t.on("connect.hover",function(s){var h,a=s.context,l=a.start,d=s.hover;if(a.hover=d,h=a.canExecute=o(l,d),!(0,V.isNil)(h)){if(!1!==h)return a.source=l,void(a.target=d);h=a.canExecute=function r(s,a){return o(a,s)}(l,d),!(0,V.isNil)(h)&&!1!==h&&(a.source=d,a.target=l)}}),t.on(["connect.out","connect.cleanup"],function(s){var a=s.context;a.hover=null,a.source=null,a.target=null,a.canExecute=!1}),t.on("connect.end",function(s){var a=s.context,l=a.canExecute,d=a.connectionStart,h={x:s.x,y:s.y},w=a.source,P=a.target;if(!l)return!1;var N=null,L={connectionStart:Ab(a)?h:d,connectionEnd:Ab(a)?d:h};(0,V.isObject)(l)&&(N=l),e.connect(w,P,N,L)}),this.start=function(s,a,l,d){(0,V.isObject)(l)||(d=l,l=qn(a)),n.init(s,"connect",{autoActivate:d,data:{shape:a,context:{start:a,connectionStart:l}}})}}function Ab(t){var n=t.hover,e=t.source;return n&&e&&n===e&&e!==t.target}jk.$inject=["eventBus","dragging","modeling","rules"];var Gk="connect-ok",Vk="connect-not-ok";function Hk(t,n,e){var i=t.get("connectionPreview",!1);i&&n.on("connect.move",function(o){var r=o.context,s=r.canExecute,a=r.hover,l=r.source,d=r.start,h=r.startPosition,w=r.connectionStart,P=r.connectionEnd,N=r.target;w||(w=Ab(r)?{x:o.x,y:o.y}:h),P||(P=Ab(r)?h:{x:o.x,y:o.y}),i.drawPreview(r,s,{source:l||d,target:N||a,connectionStart:w,connectionEnd:P})}),n.on("connect.hover",900,function(o){var a=o.context.canExecute;null!==a&&e.addMarker(o.hover,a?Gk:Vk)}),n.on(["connect.out","connect.cleanup"],1100,function(o){var r=o.hover;r&&(e.removeMarker(r,Gk),e.removeMarker(r,Vk))}),i&&n.on("connect.cleanup",function(o){i.cleanUp(o.context)})}Hk.$inject=["injector","eventBus","canvas"];const AM={__depends__:[Wl,Kl,Rc],__init__:["connectPreview"],connect:["type",jk],connectPreview:["type",Hk]};function Oc(t,n,e,i){this._canvas=n,this._graphicsFactory=e,this._elementFactory=i,this._connectionDocking=t.get("connectionDocking",!1),this._layouter=t.get("layouter",!1)}Oc.$inject=["injector","canvas","graphicsFactory","elementFactory"],Oc.prototype.drawPreview=function(t,n,e){var N,i=t.connectionPreviewGfx,o=t.getConnection,r=(e=e||{}).source,s=e.target,a=e.waypoints,l=e.connectionStart,d=e.connectionEnd,h=e.noLayout,w=e.noCropping,P=e.noNoop,L=this;i||(i=t.connectionPreviewGfx=this.createConnectionPreviewGfx()),RC(i),o||(o=t.getConnection=function Mle(t){var n={};return function(e){var i=JSON.stringify(e),o=n[i];return o||(o=n[i]=t.apply(null,arguments)),o}}(function(U,q,Z){return L.getConnection(U,q,Z)})),n&&(N=o(n,r,s)),N?(N.waypoints=a||[],this._layouter&&!h&&(N.waypoints=this._layouter.layoutConnection(N,{source:r,target:s,connectionStart:l,connectionEnd:d,waypoints:e.waypoints||N.waypoints})),(!N.waypoints||!N.waypoints.length)&&(N.waypoints=[r?qn(r):l,s?qn(s):d]),this._connectionDocking&&(r||s)&&!w&&(N.waypoints=this._connectionDocking.getCroppedWaypoints(N,r,s)),this._graphicsFactory.drawConnection(i,N)):!P&&this.drawNoopPreview(i,e)},Oc.prototype.drawNoopPreview=function(t,n){var e=n.source,i=n.target,o=n.connectionStart||qn(e),r=n.connectionEnd||qn(i),s=this.cropWaypoints(o,r,e,i);Cn(t,this.createNoopConnection(s[0],s[1]))},Oc.prototype.cropWaypoints=function(t,n,e,i){var o=this._graphicsFactory,r=e&&o.getShapePath(e),s=i&&o.getShapePath(i),a=o.getConnectionPath({waypoints:[t,n]});return[t=e&&sM(r,a,!0)||t,n=i&&sM(s,a,!1)||n]},Oc.prototype.cleanUp=function(t){t&&t.connectionPreviewGfx&&To(t.connectionPreviewGfx)},Oc.prototype.getConnection=function(t){var n=function Sle(t){return(0,V.isObject)(t)?t:{}}(t);return this._elementFactory.createConnection(n)},Oc.prototype.createConnectionPreviewGfx=function(){var t=_n("g");return At(t,{pointerEvents:"none"}),hi(t).add("djs-connection-preview"),Cn(this._canvas.getDefaultLayer(),t),t},Oc.prototype.createNoopConnection=function(t,n){var e=_n("polyline");return At(e,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),At(e,{points:[t.x,t.y,n.x,n.y]}),e};const Ele={__init__:["connectionPreview"],connectionPreview:["type",Oc]};var Uk=Math.min,zk=Math.max;function IM(t){t.preventDefault()}function Cg(t){t.stopPropagation()}function al(t){this.container=t.container,this.parent=$n('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=_o("[contenteditable]",this.parent),this.keyHandler=t.keyHandler||function(){},this.resizeHandler=t.resizeHandler||function(){},this.autoResize=(0,V.bind)(this.autoResize,this),this.handlePaste=(0,V.bind)(this.handlePaste,this)}function Pa(t,n){this._eventBus=t,this._providers=[],this._textbox=new al({container:n.getContainer(),keyHandler:(0,V.bind)(this._handleKey,this),resizeHandler:(0,V.bind)(this._handleResize,this)})}al.prototype.create=function(t,n,e,i){var r=this.parent,s=this.content,a=this.container;i=this.options=i||{},n=this.style=n||{};var l=(0,V.pick)(n,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);(0,V.assign)(r.style,{width:t.width+"px",height:t.height+"px",maxWidth:t.maxWidth+"px",maxHeight:t.maxHeight+"px",minWidth:t.minWidth+"px",minHeight:t.minHeight+"px",left:t.x+"px",top:t.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},l);var d=(0,V.pick)(n,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return(0,V.assign)(s.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},d),i.centerVertically&&(0,V.assign)(s.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},d),s.innerText=e,bn.bind(s,"keydown",this.keyHandler),bn.bind(s,"mousedown",Cg),bn.bind(s,"paste",this.handlePaste),i.autoResize&&bn.bind(s,"input",this.autoResize),i.resizable&&this.resizable(n),a.appendChild(r),this.setSelection(s.lastChild,s.lastChild&&s.lastChild.length),r},al.prototype.handlePaste=function(t){var i,n=this.options,e=this.style;if(t.preventDefault(),i=t.clipboardData?t.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(i),n.autoResize){var o=this.autoResize(e);o&&this.resizeHandler(o)}},al.prototype.insertText=function(t){t=function Dle(t){return t.replace(/\r\n|\r|\n/g,"\n")}(t),document.execCommand("insertText",!1,t)||this._insertTextIE(t)},al.prototype._insertTextIE=function(t){var l,d,n=this.getSelection(),e=n.startContainer,i=n.endContainer,o=n.startOffset,r=n.endOffset,s=n.commonAncestorContainer,a=function Ple(t){return[].slice.call(t)}(s.childNodes);if(function Tle(t){return t.nodeType===Node.TEXT_NODE}(s)){var h=e.textContent;e.textContent=h.substring(0,o)+t+h.substring(r),l=e,d=o+t.length}else if(e===this.content&&i===this.content){var w=document.createTextNode(t);this.content.insertBefore(w,a[o]),l=w,d=w.textContent.length}else{var P=a.indexOf(e),N=a.indexOf(i);a.forEach(function(L,U){U===P?L.textContent=e.textContent.substring(0,o)+t+i.textContent.substring(r):U>P&&U<=N&&ql(L)}),l=e,d=o+t.length}l&&void 0!==d&&setTimeout(function(){self.setSelection(l,d)})},al.prototype.autoResize=function(){var t=this.parent,n=this.content,e=parseInt(this.style.fontSize)||12;if(n.scrollHeight>t.offsetHeight||n.scrollHeight<t.offsetHeight-e){var i=t.getBoundingClientRect(),o=n.scrollHeight;t.style.height=o+"px",this.resizeHandler({width:i.width,height:i.height,dx:0,dy:o-i.height})}},al.prototype.resizable=function(){var t=this,n=this.parent,e=this.resizeHandle,i=parseInt(this.style.minWidth)||0,o=parseInt(this.style.minHeight)||0,r=parseInt(this.style.maxWidth)||1/0,s=parseInt(this.style.maxHeight)||1/0;if(!e){e=this.resizeHandle=$n('<div class="djs-direct-editing-resize-handle"></div>');var a,l,d,h,P=function(L){IM(L),Cg(L);var U=Uk(zk(d+L.clientX-a,i),r),q=Uk(zk(h+L.clientY-l,o),s);n.style.width=U+"px",n.style.height=q+"px",t.resizeHandler({width:d,height:h,dx:L.clientX-a,dy:L.clientY-l})},N=function(L){IM(L),Cg(L),bn.unbind(document,"mousemove",P,!1),bn.unbind(document,"mouseup",N,!1)};bn.bind(e,"mousedown",function(L){IM(L),Cg(L),a=L.clientX,l=L.clientY;var U=n.getBoundingClientRect();d=U.width,h=U.height,bn.bind(document,"mousemove",P),bn.bind(document,"mouseup",N)})}(0,V.assign)(e.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),n.appendChild(e)},al.prototype.destroy=function(){var t=this.parent,n=this.content,e=this.resizeHandle;n.innerText="",t.removeAttribute("style"),n.removeAttribute("style"),bn.unbind(n,"keydown",this.keyHandler),bn.unbind(n,"mousedown",Cg),bn.unbind(n,"input",this.autoResize),bn.unbind(n,"paste",this.handlePaste),e&&(e.removeAttribute("style"),ql(e)),ql(t)},al.prototype.getValue=function(){return this.content.innerText.trim()},al.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},al.prototype.setSelection=function(t,n){var e=document.createRange();null===t?e.selectNodeContents(this.content):(e.setStart(t,n),e.setEnd(t,n));var i=window.getSelection();i.removeAllRanges(),i.addRange(e)},Pa.$inject=["eventBus","canvas"],Pa.prototype.registerProvider=function(t){this._providers.push(t)},Pa.prototype.isActive=function(t){return!(!this._active||t&&this._active.element!==t)},Pa.prototype.cancel=function(){!this._active||(this._fire("cancel"),this.close())},Pa.prototype._fire=function(t,n){this._eventBus.fire("directEditing."+t,n||{active:this._active})},Pa.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},Pa.prototype.complete=function(){var t=this._active;if(t){var n,e=t.context.bounds,i=this.$textbox.getBoundingClientRect(),o=this.getValue();(o!==t.context.text||i.height!==e.height||i.width!==e.width)&&(n=this._textbox.container.getBoundingClientRect(),t.provider.update(t.element,o,t.context.text,{x:i.left-n.left,y:i.top-n.top,width:i.width,height:i.height})),this._fire("complete"),this.close()}},Pa.prototype.getValue=function(){return this._textbox.getValue()},Pa.prototype._handleKey=function(t){t.stopPropagation();var n=t.keyCode||t.charCode;return 27===n?(t.preventDefault(),this.cancel()):13!==n||t.shiftKey?void 0:(t.preventDefault(),this.complete())},Pa.prototype._handleResize=function(t){this._fire("resize",t)},Pa.prototype.activate=function(t){this.isActive()&&this.cancel();var n,e=(0,V.find)(this._providers,function(i){return(n=i.activate(t))?i:null});return n&&(this.$textbox=this._textbox.create(n.bounds,n.style,n.text,n.options),this._active={element:t,context:n,provider:e},n.options&&n.options.resizable&&(this.resizable=!0),this._fire("activate")),!!n};const qk={__depends__:[yg],__init__:["directEditing"],directEditing:["type",Pa]};function Da(t,n,e){this._eventBus=n,this._overlays=e;var i=(0,V.isDefined)(t&&t.scale)?t.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:i},this._current=null,this._init()}Da.$inject=["config.contextPad","eventBus","overlays"],Da.prototype._init=function(){var t=this._eventBus,n=this;t.on("selection.changed",function(e){var i=e.newSelection;1===i.length?n.open(i[0]):n.close()}),t.on("elements.delete",function(e){(0,V.forEach)(e.elements,function(o){n.isOpen(o)&&n.close()})}),t.on("element.changed",function(e){var i=e.element,o=n._current;o&&o.element===i&&n.open(i,!0)})},Da.prototype.registerProvider=function(t,n){n||(n=t,t=1e3),this._eventBus.on("contextPad.getProviders",t,function(e){e.providers.push(n)})},Da.prototype.getEntries=function(t){var n=this._getProviders(),e={};return(0,V.forEach)(n,function(i){var o=i.getContextPadEntries(t);(0,V.isFunction)(o)?e=o(e):(0,V.forEach)(o,function(r,s){e[s]=r})}),e},Da.prototype.trigger=function(t,n,e){var r,s,a,i=this._current.element,o=this._current.entries,l=n.delegateTarget||n.target;if(!l)return n.preventDefault();if(r=o[Js(l,"data-action")],a=n.originalEvent||n,(0,V.isFunction)(s=r.action)){if("click"===t)return s(a,i,e)}else if(s[t])return s[t](a,i,e);n.preventDefault()},Da.prototype.open=function(t,n){!n&&this.isOpen(t)||(this.close(),this._updateAndOpen(t))},Da.prototype._getProviders=function(t){var n=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(n),n.providers},Da.prototype._updateAndOpen=function(t){var n=this.getEntries(t),e=this.getPad(t),i=e.html;(0,V.forEach)(n,function(o,r){var l,s=o.group||"default",a=$n(o.html||'<div class="entry" draggable="true"></div>');Js(a,"data-action",r),(l=_o("[data-group="+s+"]",i))||(l=$n('<div class="group" data-group="'+s+'"></div>'),i.appendChild(l)),l.appendChild(a),o.className&&function Ale(t,n){var e=Ar(t);((0,V.isArray)(n)?n:n.split(/\s+/g)).forEach(function(o){e.add(o)})}(a,o.className),o.title&&Js(a,"title",o.title),o.imageUrl&&a.appendChild($n('<img src="'+o.imageUrl+'">'))}),Ar(i).add("open"),this._current={element:t,pad:e,entries:n},this._eventBus.fire("contextPad.open",{current:this._current})},Da.prototype.getPad=function(t){if(this.isOpen())return this._current.pad;var n=this,e=this._overlays,i=$n('<div class="djs-context-pad"></div>'),o=(0,V.assign)({html:i},this._overlaysConfig);Zs_bind(i,".entry","click",function(s){n.trigger("click",s)}),Zs_bind(i,".entry","dragstart",function(s){n.trigger("dragstart",s)}),bn.bind(i,"mousedown",function(s){s.stopPropagation()}),this._overlayId=e.add(t,"context-pad",o);var r=e.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:t,pad:r}),r},Da.prototype.close=function(){!this.isOpen()||(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Da.prototype.isOpen=function(t){return!(!this._current||t&&this._current.element!==t)};const Ib={__depends__:[yg,uM],contextPad:["type",Da]};var Ile=["marker-start","marker-mid","marker-end"],kle=["circle","ellipse","line","path","polygon","polyline","rect"];function jd(t,n,e,i){this._elementRegistry=t,this._canvas=e,this._styles=i,this._clonedMarkers={};var o=this;n.on("drag.cleanup",function(){(0,V.forEach)(o._clonedMarkers,function(r){To(r)}),o._clonedMarkers={}})}jd.$inject=["elementRegistry","eventBus","canvas","styles"],jd.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)},jd.prototype.addDragger=function(t,n,e){var i=IA(e=e||this.getGfx(t)),o=e.getBoundingClientRect();return this._cloneMarkers(ob(i)),At(i,this._styles.cls("djs-dragger",[],{x:o.top,y:o.left})),Cn(n,i),i},jd.prototype.addFrame=function(t,n){var e=_n("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return Cn(n,e),e},jd.prototype._cloneMarkers=function(t){var n=this;if(t.childNodes)for(var e=0;e<t.childNodes.length;e++)n._cloneMarkers(t.childNodes[e]);!function Ble(t){return-1!==kle.indexOf(t.nodeName)}(t)||Ile.forEach(function(i){if(At(t,i)){var o=function Nle(t,n,e){return _o("marker#"+function Rle(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}(At(t,n)),e||document)}(t,i,n._canvas.getContainer());n._cloneMarker(t,o,i)}})},jd.prototype._cloneMarker=function(t,n,e){var i=n.id,o=this._clonedMarkers[i];if(!o){(o=IA(n)).id=i+"-clone",hi(o).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[i]=o;var s=_o("defs",this._canvas._svg);s||(s=_n("defs"),Cn(this._canvas._svg,s)),Cn(s,o)}var a=function Ole(t){return"url(#"+t+")"}(this._clonedMarkers[i].id);At(t,e,a)};const Mg={__init__:["previewSupport"],previewSupport:["type",jd]};var Lle="drop-ok",Wk="drop-not-ok",Yk="attach-ok",Xk="new-parent";function Qk(t,n,e,i,o){function s(l,d){[Yk,Lle,Wk,Xk].forEach(function(h){h===d?t.addMarker(l,h):t.removeMarker(l,h)})}function a(){var l=n.context();l&&"create"===l.prefix&&n.cancel()}e.on(["create.move","create.hover"],function(l){var d=l.context,h=d.elements,w=l.hover,P=d.source,N=d.hints||{};if(!w)return d.canExecute=!1,void(d.target=null);Jk(l);var U=d.canExecute=w&&function r(l,d,h,w,P){if(!d)return!1;l=(0,V.filter)(l,function(Q){var K=Q.labelTarget;return!(Q.parent||function Gle(t){return!!t.labelTarget}(Q)&&-1!==l.indexOf(K))});var N=(0,V.find)(l,function(Q){return!Sg(Q)}),L=!1,U=!1,q=!1;Zk(l)&&(L=o.allowed("shape.attach",{position:h,shape:N,target:d})),L||(q=Zk(l)?o.allowed("shape.create",{position:h,shape:N,source:w,target:d}):o.allowed("elements.create",{elements:l,position:h,target:d}));var Z=P.connectionTarget;return q||L?(N&&w&&(U=o.allowed("connection.create",{source:Z===w?N:w,target:Z===w?w:N,hints:{targetParent:d,targetAttach:L}})),{attach:L,connect:U}):(null===q||null===L)&&null}(h,w,{x:l.x,y:l.y},P,N);w&&null!==U&&(d.target=w,s(w,U&&U.attach?Yk:U?Xk:Wk))}),e.on(["create.end","create.out","create.cleanup"],function(l){var d=l.hover;d&&s(d,null)}),e.on("create.end",function(l){var d=l.context,h=d.source,w=d.shape,P=d.elements,N=d.target,L=d.canExecute,U=L&&L.attach,q=L&&L.connect,Z=d.hints||{};if(!1===L||!N)return!1;Jk(l);var Q={x:l.x,y:l.y};q?w=i.appendShape(h,w,Q,N,{attach:U,connection:!0===q?{}:q,connectionTarget:Z.connectionTarget}):(P=i.createElements(P,Q,N,(0,V.assign)({},Z,{attach:U})),w=(0,V.find)(P,function(K){return!Sg(K)})),(0,V.assign)(d,{elements:P,shape:w}),(0,V.assign)(l,{elements:P,shape:w})}),e.on("create.init",function(){e.on("elements.changed",a),e.once(["create.cancel","create.end"],2e3,function(){e.off("elements.changed",a)})}),this.start=function(l,d,h){(0,V.isArray)(d)||(d=[d]);var w=(0,V.find)(d,function(N){return!Sg(N)});if(w){h=(0,V.assign)({elements:d,hints:{},shape:w},h||{}),(0,V.forEach)(d,function(N){(0,V.isNumber)(N.x)||(N.x=0),(0,V.isNumber)(N.y)||(N.y=0)});var P=yr(d);(0,V.forEach)(d,function(N){Sg(N)&&(N.waypoints=(0,V.map)(N.waypoints,function(L){return{x:L.x-P.x-P.width/2,y:L.y-P.y-P.height/2}})),(0,V.assign)(N,{x:N.x-P.x-P.width/2,y:N.y-P.y-P.height/2})}),n.init(l,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:w,elements:d,context:h}})}}}function Jk(t){var e=t.context.createConstraints;!e||(e.left&&(t.x=Math.max(t.x,e.left)),e.right&&(t.x=Math.min(t.x,e.right)),e.top&&(t.y=Math.max(t.y,e.top)),e.bottom&&(t.y=Math.min(t.y,e.bottom)))}function Sg(t){return!!t.waypoints}function Zk(t){return t&&1===t.length&&!Sg(t[0])}function e9(t,n,e,i,o){n.on("create.move",750,function(s){var a=s.hover,l=s.context,h=l.dragGroup;h||(h=l.dragGroup=function r(s){var a=_n("g");At(a,o.cls("djs-drag-group",["no-events"]));var l=_n("g");return s.forEach(function(d){var h;d.hidden||(d.waypoints?(h=e._createContainer("connection",l),e.drawConnection(ob(h),d)):(h=e._createContainer("shape",l),e.drawShape(ob(h),d),Os(h,d.x,d.y)),i.addDragger(d,a,h))}),a}(l.elements)),a?(h.parentNode||Cn(t.getDefaultLayer(),h),Os(h,s.x,s.y)):To(h)}),n.on("create.cleanup",function(s){var l=s.context.dragGroup;l&&To(l)})}Qk.$inject=["canvas","dragging","eventBus","modeling","rules"],e9.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const kb={__depends__:[Rc,Mg,Kl,Wl],__init__:["create","createPreview"],create:["type",Qk],createPreview:["type",e9]};var t9="data-id",n9=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function Yo(t,n,e){var i=(0,V.isDefined)(t&&t.scale)?t.scale:{min:1,max:1.5};this._config={scale:i},this._eventBus=n,this._canvas=e,this._providers={},this._current={}}Yo.$inject=["config.popupMenu","eventBus","canvas"],Yo.prototype.registerProvider=function(t,n,e){e||(e=n,n=1e3),this._eventBus.on("popupMenu.getProviders."+t,n,function(i){i.providers.push(e)})},Yo.prototype.isEmpty=function(t,n){if(!t)throw new Error("element parameter is missing");if(!n)throw new Error("providerId parameter is missing");var e=this._getProviders(n);if(!e)return!0;var i=this._getEntries(t,e),o=this._getHeaderEntries(t,e),r=(0,V.size)(i)>0,s=o&&(0,V.size)(o)>0;return!r&&!s},Yo.prototype.open=function(t,n,e){var i=this._getProviders(n);if(!t)throw new Error("Element is missing");if(!i||!i.length)throw new Error("No registered providers for: "+n);if(!e)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var o=this._current={className:n,element:t,position:e},r=this._getEntries(t,i),s=this._getHeaderEntries(t,i);o.entries=(0,V.assign)({},r,s),o.container=this._createContainer(),(0,V.size)(s)&&o.container.appendChild(this._createEntries(s,"djs-popup-header")),(0,V.size)(r)&&o.container.appendChild(this._createEntries(r,"djs-popup-body"));var l=this._canvas.getContainer();this._attachContainer(o.container,l,e.cursor),this._bindAutoClose()},Yo.prototype.close=function(){!this.isOpen()||(this._emit("close"),this._unbindAutoClose(),ql(this._current.container),this._current.container=null)},Yo.prototype.isOpen=function(){return!!this._current.container},Yo.prototype.trigger=function(t){t.preventDefault();var e=Js(t.delegateTarget||t.target,t9),i=this._getEntry(e);if(i.action)return i.action.call(null,t,i)},Yo.prototype._getProviders=function(t){var n=this._eventBus.createEvent({type:"popupMenu.getProviders."+t,providers:[]});return this._eventBus.fire(n),n.providers},Yo.prototype._getEntries=function(t,n){var e={};return(0,V.forEach)(n,function(i){if(i.getPopupMenuEntries){var o=i.getPopupMenuEntries(t);(0,V.isFunction)(o)?e=o(e):(0,V.forEach)(o,function(r,s){e[s]=r})}else(0,V.forEach)(i.getEntries(t),function(r){var s=r.id;if(!s)throw new Error("every entry must have the id property set");e[s]=(0,V.omit)(r,["id"])})}),e},Yo.prototype._getHeaderEntries=function(t,n){var e={};return(0,V.forEach)(n,function(i){if(i.getPopupMenuHeaderEntries){var o=i.getPopupMenuHeaderEntries(t);(0,V.isFunction)(o)?e=o(e):(0,V.forEach)(o,function(r,s){e[s]=r})}else{if(!i.getHeaderEntries)return;(0,V.forEach)(i.getHeaderEntries(t),function(r){var s=r.id;if(!s)throw new Error("every entry must have the id property set");e[s]=(0,V.omit)(r,["id"])})}}),e},Yo.prototype._getEntry=function(t){var n=this._current.entries[t];if(!n)throw new Error("entry not found");return n},Yo.prototype._emit=function(t){this._eventBus.fire("popupMenu."+t)},Yo.prototype._createContainer=function(){var t=$n('<div class="djs-popup">'),n=this._current.position,e=this._current.className;return(0,V.assign)(t.style,{position:"absolute",left:n.x+"px",top:n.y+"px",visibility:"hidden"}),Ar(t).add(e),t},Yo.prototype._attachContainer=function(t,n,e){var i=this;Zs_bind(t,".entry","click",function(o){i.trigger(o)}),this._updateScale(t),n.appendChild(t),e&&this._assureIsInbounds(t,e)},Yo.prototype._updateScale=function(t){var i,o,n=this._canvas.zoom(),e=this._config.scale,r=n;!0!==e&&(!1===e?(i=1,o=1):(i=e.min,o=e.max),(0,V.isDefined)(i)&&n<i&&(r=i),(0,V.isDefined)(o)&&n>o&&(r=o)),function Ule(t,n){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(e){t.style[e+"transform"]=n})}(t,"scale("+r+")")},Yo.prototype._assureIsInbounds=function(t,n){var d,h,i=this._canvas._container.getBoundingClientRect(),r=t.offsetTop,s=t.scrollWidth,a=t.scrollHeight,l={},w_x=n.x-i.left,w_y=n.y-i.top;t.offsetLeft+s>i.width&&(l.x=!0),r+a>i.height&&(l.y=!0),l.x&&l.y?(d=w_x-s+"px",h=w_y-a+"px"):l.x?(d=w_x-s+"px",h=w_y+"px"):l.y&&w_y<a?(d=w_x+"px",h="10px"):l.y&&(d=w_x+"px",h=w_y-a+"px"),(0,V.assign)(t.style,{left:d,top:h},{visibility:"visible","z-index":1e3})},Yo.prototype._createEntries=function(t,n){var e=$n("<div>"),i=this;return Ar(e).add(n),(0,V.forEach)(t,function(o,r){var s=i._createEntry(o,r);e.appendChild(s)}),e},Yo.prototype._createEntry=function(t,n){var e=$n("<div>"),i=Ar(e);if(i.add("entry"),t.className&&t.className.split(" ").forEach(function(r){i.add(r)}),Js(e,t9,n),t.label){var o=$n("<span>");o.textContent=t.label,e.appendChild(o)}return t.imageUrl&&e.appendChild($n('<img src="'+t.imageUrl+'" />')),!0===t.active&&i.add("active"),!0===t.disabled&&i.add("disabled"),t.title&&(e.title=t.title),e},Yo.prototype._bindAutoClose=function(){this._eventBus.once(n9,this.close,this)},Yo.prototype._unbindAutoClose=function(){this._eventBus.off(n9,this.close,this)};const zle={__init__:["popupMenu"],popupMenu:["type",Yo]};function Eg(){}Eg.prototype.get=function(){return this._data},Eg.prototype.set=function(t){this._data=t},Eg.prototype.clear=function(){var t=this._data;return delete this._data,t},Eg.prototype.isEmpty=function(){return!this._data};const qle={clipboard:["type",Eg]};function kM(t){var n=this;function e(i){n._lastMoveEvent=i}this._lastMoveEvent=null,t.on("canvas.init",function(i){(n._svg=i.svg).addEventListener("mousemove",e)}),t.on("canvas.destroy",function(){n._lastMouseEvent=null,n._svg.removeEventListener("mousemove",e)})}kM.$inject=["eventBus"],kM.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function $le(t,n){var e=document.createEvent("MouseEvent");return e.initMouseEvent&&e.initMouseEvent("mousemove",!0,!0,window,0,t,n,t,n,!1,!1,!1,!1,0,null),e}(0,0)};const Wle={__init__:["mouse"],mouse:["type",kM]};function ll(t,n,e,i,o,r,s,a){this._canvas=t,this._create=n,this._clipboard=e,this._elementFactory=i,this._eventBus=o,this._modeling=r,this._mouse=s,this._rules=a,o.on("copyPaste.copyElement",function(l){var d=l.descriptor,h=l.element,w=l.elements;d.priority=1,d.id=h.id,(0,V.find)(w,function(N){return N===h.parent})&&(d.parent=h.parent.id),function Yle(t){return!!t.host}(h)&&(d.priority=2,d.host=h.host.id),Nb(h)&&(d.priority=3,d.source=h.source.id,d.target=h.target.id,d.waypoints=function Xle(t){return(0,V.map)(t.waypoints,function(n){return(n=i9(n)).original&&(n.original=i9(n.original)),n})}(h)),Rb(h)&&(d.priority=4,d.labelTarget=h.labelTarget.id),(0,V.forEach)(["x","y","width","height"],function(N){(0,V.isNumber)(h[N])&&(d[N]=h[N])}),d.hidden=h.hidden,d.collapsed=h.collapsed}),o.on("copyPaste.pasteElements",function(l){(0,V.assign)(l.hints,{createElementsBehavior:!1})})}function Nb(t){return!!t.waypoints}function Rb(t){return!!t.labelTarget}function i9(t){return(0,V.assign)({},t)}function o9(t,n){var e=n.indexOf(t);return-1===e?n:n.splice(e,1)}ll.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],ll.prototype.copy=function(t){var n,e;return(0,V.isArray)(t)||(t=t?[t]:[]),e=!1===(n=this._eventBus.fire("copyPaste.canCopyElements",{elements:t}))?{}:this.createTree((0,V.isArray)(n)?n:t),this._clipboard.set(e),this._eventBus.fire("copyPaste.elementsCopied",{elements:t,tree:e}),e},ll.prototype.paste=function(t){var n=this._clipboard.get();if(!this._clipboard.isEmpty()){var e=t&&t.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:e});var i=this._createElements(n);if(t&&t.element&&t.point)return this._paste(i,t.element,t.point,e);this._create.start(this._mouse.getLastMoveEvent(),i,{hints:e||{}})}},ll.prototype._paste=function(t,n,e,i){(0,V.forEach)(t,function(r){(0,V.isNumber)(r.x)||(r.x=0),(0,V.isNumber)(r.y)||(r.y=0)});var o=yr(t);return(0,V.forEach)(t,function(r){Nb(r)&&(r.waypoints=(0,V.map)(r.waypoints,function(s){return{x:s.x-o.x-o.width/2,y:s.y-o.y-o.height/2}})),(0,V.assign)(r,{x:r.x-o.x-o.width/2,y:r.y-o.y-o.height/2})}),this._modeling.createElements(t,e,n,(0,V.assign)({},i))},ll.prototype._createElements=function(t){var n=this,e=this._eventBus,i={},o=[];return(0,V.forEach)(t,function(r,s){s=parseInt(s,10),r=(0,V.sortBy)(r,"priority"),(0,V.forEach)(r,function(a){var d,l=(0,V.assign)({},(0,V.omit)(a,["priority"]));return i[a.parent]?l.parent=i[a.parent]:delete l.parent,e.fire("copyPaste.pasteElement",{cache:i,descriptor:l}),Nb(l)?(l.source=i[a.source],l.target=i[a.target],d=i[a.id]=n.createConnection(l),void o.push(d)):Rb(l)?(l.labelTarget=i[l.labelTarget],d=i[a.id]=n.createLabel(l),void o.push(d)):(l.host&&(l.host=i[l.host]),d=i[a.id]=n.createShape(l),void o.push(d))})}),o},ll.prototype.createConnection=function(t){return this._elementFactory.createConnection((0,V.omit)(t,["id"]))},ll.prototype.createLabel=function(t){return this._elementFactory.createLabel((0,V.omit)(t,["id"]))},ll.prototype.createShape=function(t){return this._elementFactory.createShape((0,V.omit)(t,["id"]))},ll.prototype.hasRelations=function(t,n){var e,i,o;return!(Nb(t)&&(i=(0,V.find)(n,(0,V.matchPattern)({id:t.source.id})),o=(0,V.find)(n,(0,V.matchPattern)({id:t.target.id})),!i||!o)||Rb(t)&&(e=(0,V.find)(n,(0,V.matchPattern)({id:t.labelTarget.id})),!e))},ll.prototype.createTree=function(t){var n=this._rules,e=this,i={},o=[];function a(d,h){var w=(0,V.find)(o,function(P){return d===P.element});w?w.depth<h&&(o=function l(d,h){var w=h.indexOf(d);return-1!==w&&h.splice(w,1),h}(w,o),o.push({element:w.element,depth:h})):o.push({element:d,depth:h})}return Fd(VA(t),function(d,h,w){if(!Rb(d))return(0,V.forEach)(d.labels,function(N){a(N,w)}),(0,V.forEach)([d.attachers,d.incoming,d.outgoing],function P(N){N&&N.length&&(0,V.forEach)(N,function(L){(0,V.forEach)(L.labels,function(U){a(U,w)}),a(L,w)})}),a(d,w),d.children}),t=(0,V.map)(o,function(d){return d.element}),o=(0,V.map)(o,function(d){return d.descriptor={},e._eventBus.fire("copyPaste.copyElement",{descriptor:d.descriptor,element:d.element,elements:t}),d}),o=(0,V.sortBy)(o,function(d){return d.descriptor.priority}),t=(0,V.map)(o,function(d){return d.element}),(0,V.forEach)(o,function(d){var h=d.depth;e.hasRelations(d.element,t)&&function s(d,h){return n.allowed("element.copy",{element:d,elements:h})}(d.element,t)?(i[h]||(i[h]=[]),i[h].push(d.descriptor)):o9(d.element,t)}),i};const Kle={__depends__:[qle,kb,Wle,Kl],__init__:["copyPaste"],copyPaste:["type",ll]};function Ob(t,n,e){(0,V.isArray)(e)||(e=[e]),(0,V.forEach)(e,function(i){(0,V.isUndefined)(t[i])||(n[i]=t[i])})}function r9(t,n,e){var i;n.on("copyPaste.copyElement",750,function(r){var s=r.descriptor,a=r.element,l=s.oldBusinessObject=(0,te.S)(a);if(s.type=a.type,Ob(l,s,"name"),s.di={},Ob(l.di,s.di,["fill","stroke"]),Ob(l.di,s,"isExpanded"),s9(s))return s;l.default&&(s.default=l.default.id)}),n.on("moddleCopy.canCopyProperty",function(r){var d,a=r.property;if("processRef"===r.propertyName&&(0,te.is)(r.parent,"bpmn:Participant")&&(0,te.is)(a,"bpmn:Process"))return d=t.create("bpmn:Process"),e.copyElement(a,d)}),n.on("copyPaste.pasteElements",function(){i={}}),n.on("copyPaste.pasteElement",function(r){var d,s=r.cache,a=r.descriptor,l=a.oldBusinessObject;s9(a)?a.businessObject=(0,te.S)(s[a.labelTarget]):(d=t.create(l.$type),a.businessObject=e.copyElement(l,d),function o(r,s){var a=(0,te.S)(r);r.default&&(i[r.default]={element:a,property:"default"}),r.host&&((0,te.S)(r).attachedToRef=(0,te.S)(s[r.host])),i=(0,V.omit)(i,(0,V.reduce)(i,function(l,d,h){return h===r.id&&(d.element[d.property]=a,l.push(r.id)),l},[]))}(a,s),Ob(a,d,["isExpanded","name"]),function Qle(t,n){(0,V.isArray)(n)||(n=[n]),(0,V.forEach)(n,function(e){t[e]&&delete t[e]})}(a,"oldBusinessObject"))})}function s9(t){return!!t.labelTarget}r9.$inject=["bpmnFactory","eventBus","moddleCopy"];var Zle=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing"];function Bb(t,n,e){this._bpmnFactory=n,this._eventBus=t,this._moddle=e,t.on("moddleCopy.canCopyProperties",function(i){var o=i.propertyNames;if(o&&o.length)return(0,V.sortBy)(o,function(r){return"extensionElements"===r})}),t.on("moddleCopy.canCopyProperty",function(i){var o=i.parent,r=(0,V.isObject)(o)&&o.$descriptor,s=i.propertyName;if(s&&-1!==Zle.indexOf(s)||s&&r&&!(0,V.find)(r.properties,(0,V.matchPattern)({name:s})))return!1}),t.on("moddleCopy.canSetCopiedProperty",function(i){var o=i.property;if(function ece(t,n){return t&&"function"==typeof t.$instanceOf&&t.$instanceOf(n)}(o,"bpmn:ExtensionElements")&&(!o.values||!o.values.length))return!1})}function NM(t,n){return(0,V.reduce)(t.properties,function(e,i){return n&&i.default?e:e.concat(i.name)},[])}Bb.$inject=["eventBus","bpmnFactory","moddle"],Bb.prototype.copyElement=function(t,n,e){var i=this;e&&!(0,V.isArray)(e)&&(e=[e]),e=e||NM(t.$descriptor);var o=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:e,sourceElement:t,targetElement:n});return!1===o||((0,V.isArray)(o)&&(e=o),(0,V.forEach)(e,function(r){var s;(0,V.has)(t,r)&&(s=t.get(r));var a=i.copyProperty(s,n,r);!1!==i._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:n,property:a,propertyName:r})&&(0,V.isDefined)(a)&&n.set(r,a)})),n},Bb.prototype.copyProperty=function(t,n,e){var i=this,o=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:n,property:t,propertyName:e});if(!1!==o){if(o)return(0,V.isObject)(o)&&o.$type&&!o.$parent&&(o.$parent=n),o;var r=this._moddle.getPropertyDescriptor(n,e);if(!r.isId&&!r.isReference)return(0,V.isArray)(t)?(0,V.reduce)(t,function(s,a){return(o=i.copyProperty(a,n,e))?(o.$parent=n,s.concat(o)):s},[]):(0,V.isObject)(t)&&t.$type?this._moddle.getElementDescriptor(t).isGeneric?void 0:((o=i._bpmnFactory.create(t.$type)).$parent=n,o=i.copyElement(t,o)):t}};const a9={__depends__:[Kle],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",r9],moddleCopy:["type",Bb]};var l9=Math.round;function RM(t){this._modeling=t}RM.$inject=["modeling"],RM.prototype.replaceElement=function(t,n,e){if(t.waypoints)return null;var i=this._modeling,o=n.width||t.width,r=n.height||t.height,a=n.y||t.y,l=l9((n.x||t.x)+o/2),d=l9(a+r/2);return i.replaceShape(t,(0,V.assign)({},n,{x:l,y:d,width:o,height:r}),e)};const tce={__init__:["replace"],replace:["type",RM]};var ice=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function c9(t,n,e,i,o,r,s){this.replaceElement=function a(l,d,h){h=h||{};var w=d.type,P=l.businessObject;if(Lb(P)&&"bpmn:SubProcess"===w&&function oce(t,n){var e=t&&(0,V.has)(t,"collapsed")?t.collapsed:!Bi(t);return e!==(n&&((0,V.has)(n,"collapsed")||(0,V.has)(n,"isExpanded"))?(0,V.has)(n,"collapsed")?n.collapsed:!n.isExpanded:e)&&(t.collapsed=e,!0)}(l,d))return i.toggleCollapse(l),l;var N=t.create(w),L={type:w,businessObject:N},Z=function rce(t,n){return t.filter(function(e){return-1!==n.indexOf(e)})}(NM(P.$descriptor),NM(N.$descriptor,!0));(0,V.assign)(N,(0,V.pick)(d,ice));var Q=(0,V.filter)(Z,function(K){return"eventDefinitions"===K?u9(l,d.eventDefinitionType):"loopCharacteristics"===K?!ta(N):!((0,V.has)(N,K)||"processRef"===K&&!1===d.isExpanded||"triggeredByEvent"===K)});return N=e.copyElement(P,N,Q),d.eventDefinitionType&&(u9(N,d.eventDefinitionType)||(L.eventDefinitionType=d.eventDefinitionType,L.eventDefinitionAttrs=d.eventDefinitionAttrs)),(0,te.is)(P,"bpmn:Activity")&&(Lb(P)?L.isExpanded=Bi(P):d&&(0,V.has)(d,"isExpanded")&&(L.isExpanded=d.isExpanded),Bi(P)&&!(0,te.is)(P,"bpmn:Task")&&L.isExpanded&&(L.width=l.width,L.height=l.height)),Lb(P)&&!Lb(N)&&(h.moveChildren=!1),(0,te.is)(P,"bpmn:Participant")&&(!0===d.isExpanded?N.processRef=t.create("bpmn:Process"):h.moveChildren=!1,L.width=l.width,L.height=n._getDefaultSize(N).height),r.allowed("shape.resize",{shape:N})||(L.height=n._getDefaultSize(N).height,L.width=n._getDefaultSize(N).width),N.name=P.name,_i(P,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&_i(N,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(N.default=P.default),d.host&&!(0,te.is)(P,"bpmn:BoundaryEvent")&&(0,te.is)(N,"bpmn:BoundaryEvent")&&(L.host=d.host),("bpmn:DataStoreReference"===L.type||"bpmn:DataObjectReference"===L.type)&&(L.x=l.x+(l.width-L.width)/2),L.di={},function nce(t,n,e){(0,V.isArray)(e)||(e=[e]),(0,V.forEach)(e,function(i){(0,V.isUndefined)(t[i])||(n[i]=t[i])})}(P.di,L.di,["fill","stroke"]),L=o.replaceElement(l,L,h),!1!==h.select&&s.select(L),L}}function Lb(t){return(0,te.is)(t,"bpmn:SubProcess")}function u9(t,n){var e=(0,te.S)(t);return n&&e.get("eventDefinitions").some(function(i){return(0,te.is)(i,n)})}c9.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules","selection"];const d9={__depends__:[a9,tce,Wl],bpmnReplace:["type",c9]};function p9(t){return function(n){var e=n.target,i=(0,te.S)(t),o=i.eventDefinitions&&i.eventDefinitions[0],r=i.$type===e.type,s=(o&&o.$type)===e.eventDefinitionType,a=i.triggeredByEvent===e.triggeredByEvent,l=void 0===e.isExpanded||e.isExpanded===Bi(i);return!(r&&s&&a&&l)}}var sce=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],ace=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],lce=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],cce=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],uce=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],dce=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],pce=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],mce=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}}],m9=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],fce=[{label:"Data Store Reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],hce=[{label:"Data Object Reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],gce=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],_ce=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],vce=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],bce=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:"Collapsed Pool",actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function Fa(t,n,e,i,o,r){this._popupMenu=t,this._modeling=n,this._moddle=e,this._bpmnReplace=i,this._rules=o,this._translate=r,this.register()}Fa.$inject=["popupMenu","modeling","moddle","bpmnReplace","rules","translate"],Fa.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},Fa.prototype.getEntries=function(t){var i,n=t.businessObject;if(!this._rules.allowed("shape.replace",{element:t}))return[];var o=p9(t);return(0,te.is)(n,"bpmn:DataObjectReference")?this._createEntries(t,fce):(0,te.is)(n,"bpmn:DataStoreReference")?this._createEntries(t,hce):(0,te.is)(n,"bpmn:StartEvent")&&!(0,te.is)(n.$parent,"bpmn:SubProcess")?(i=(0,V.filter)(sce,o),this._createEntries(t,i)):(0,te.is)(n,"bpmn:Participant")?(i=(0,V.filter)(bce,function(r){return Bi(n)!==r.target.isExpanded}),this._createEntries(t,i)):(0,te.is)(n,"bpmn:StartEvent")&&ta(n.$parent)?(i=(0,V.filter)(_ce,function(r){var a=!1!==r.target.isInterrupting,l=(0,te.S)(t).isInterrupting===a;return o(r)||!o(r)&&!l}),this._createEntries(t,i)):(0,te.is)(n,"bpmn:StartEvent")&&!ta(n.$parent)&&(0,te.is)(n.$parent,"bpmn:SubProcess")?(i=(0,V.filter)(ace,o),this._createEntries(t,i)):(0,te.is)(n,"bpmn:EndEvent")?(i=(0,V.filter)(cce,function(r){return!("bpmn:CancelEventDefinition"==r.target.eventDefinitionType&&!(0,te.is)(n.$parent,"bpmn:Transaction"))&&o(r)}),this._createEntries(t,i)):(0,te.is)(n,"bpmn:BoundaryEvent")?(i=(0,V.filter)(gce,function(r){var s=r.target;if("bpmn:CancelEventDefinition"==s.eventDefinition&&!(0,te.is)(n.attachedToRef,"bpmn:Transaction"))return!1;var l=n.cancelActivity==(!1!==s.cancelActivity);return o(r)||!o(r)&&!l}),this._createEntries(t,i)):(0,te.is)(n,"bpmn:IntermediateCatchEvent")||(0,te.is)(n,"bpmn:IntermediateThrowEvent")?(i=(0,V.filter)(lce,o),this._createEntries(t,i)):(0,te.is)(n,"bpmn:Gateway")?(i=(0,V.filter)(uce,o),this._createEntries(t,i)):(0,te.is)(n,"bpmn:Transaction")?(i=(0,V.filter)(pce,o),this._createEntries(t,i)):ta(n)&&Bi(n)?(i=(0,V.filter)(mce,o),this._createEntries(t,i)):(0,te.is)(n,"bpmn:SubProcess")&&Bi(n)?(i=(0,V.filter)(dce,o),this._createEntries(t,i)):(0,te.is)(n,"bpmn:AdHocSubProcess")&&!Bi(n)?(i=(0,V.filter)(m9,function(r){var s=r.target,a="bpmn:SubProcess"===s.type,l=!0===s.isExpanded;return p9(t)&&(!a||l)}),this._createEntries(t,i)):(0,te.is)(n,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(t,vce):(0,te.is)(n,"bpmn:FlowNode")?(i=(0,V.filter)(m9,o),(0,te.is)(n,"bpmn:SubProcess")&&!Bi(n)&&(i=(0,V.filter)(i,function(r){return"Sub Process (collapsed)"!==r.label})),this._createEntries(t,i)):[]},Fa.prototype.getHeaderEntries=function(t){var n=[];return(0,te.is)(t,"bpmn:Activity")&&!ta(t)&&(n=n.concat(this._getLoopEntries(t))),(0,te.is)(t,"bpmn:DataObjectReference")&&(n=n.concat(this._getDataObjectIsCollection(t))),(0,te.is)(t,"bpmn:SubProcess")&&!(0,te.is)(t,"bpmn:Transaction")&&!ta(t)&&n.push(this._getAdHocEntry(t)),n},Fa.prototype._createEntries=function(t,n){var e=[],i=this;return(0,V.forEach)(n,function(o){var r=i._createMenuEntry(o,t);e.push(r)}),e},Fa.prototype._createSequenceFlowEntries=function(t,n){var e=(0,te.S)(t),i=[],o=this._modeling,r=this._moddle,s=this;return(0,V.forEach)(n,function(a){switch(a.actionName){case"replace-with-default-flow":e.sourceRef.default!==e&&((0,te.is)(e.sourceRef,"bpmn:ExclusiveGateway")||(0,te.is)(e.sourceRef,"bpmn:InclusiveGateway")||(0,te.is)(e.sourceRef,"bpmn:ComplexGateway")||(0,te.is)(e.sourceRef,"bpmn:Activity"))&&i.push(s._createMenuEntry(a,t,function(){o.updateProperties(t.source,{default:e})}));break;case"replace-with-conditional-flow":!e.conditionExpression&&(0,te.is)(e.sourceRef,"bpmn:Activity")&&i.push(s._createMenuEntry(a,t,function(){var l=r.create("bpmn:FormalExpression",{body:""});o.updateProperties(t,{conditionExpression:l})}));break;default:if((0,te.is)(e.sourceRef,"bpmn:Activity")&&e.conditionExpression)return i.push(s._createMenuEntry(a,t,function(){o.updateProperties(t,{conditionExpression:void 0})}));if(((0,te.is)(e.sourceRef,"bpmn:ExclusiveGateway")||(0,te.is)(e.sourceRef,"bpmn:InclusiveGateway")||(0,te.is)(e.sourceRef,"bpmn:ComplexGateway")||(0,te.is)(e.sourceRef,"bpmn:Activity"))&&e.sourceRef.default===e)return i.push(s._createMenuEntry(a,t,function(){o.updateProperties(t.source,{default:void 0})}))}}),i},Fa.prototype._createMenuEntry=function(t,n,e){var o=this._bpmnReplace.replaceElement;return e=e||function(){return o(n,t.target)},{label:(0,this._translate)(t.label),className:t.className,id:t.actionName,action:e}},Fa.prototype._getLoopEntries=function(t){var n=this,e=this._translate;function i(h,w){var P;w.active?P=void 0:(P=n._moddle.create(w.options.loopCharacteristics),w.options.isSequential&&(P.isSequential=w.options.isSequential)),n._modeling.updateProperties(t,{loopCharacteristics:P})}var s,a,l,r=(0,te.S)(t).loopCharacteristics;return r&&(s=r.isSequential,a=void 0===r.isSequential,l=void 0!==r.isSequential&&!r.isSequential),[{id:"toggle-parallel-mi",className:"bpmn-icon-parallel-mi-marker",title:e("Parallel Multi Instance"),active:l,action:i,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},{id:"toggle-sequential-mi",className:"bpmn-icon-sequential-mi-marker",title:e("Sequential Multi Instance"),active:s,action:i,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},{id:"toggle-loop",className:"bpmn-icon-loop-marker",title:e("Loop"),active:a,action:i,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}]},Fa.prototype._getDataObjectIsCollection=function(t){var n=this,o=t.businessObject.dataObjectRef,r=o.isCollection;return[{id:"toggle-is-collection",className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Collection"),active:r,action:function i(a,l){n._modeling.updateModdleProperties(t,o,{isCollection:!l.active})}}]},Fa.prototype._getAdHocEntry=function(t){var n=this._translate,e=(0,te.S)(t),i=(0,te.is)(e,"bpmn:AdHocSubProcess"),o=this._bpmnReplace.replaceElement;return{id:"toggle-adhoc",className:"bpmn-icon-ad-hoc-marker",title:n("Ad-hoc"),active:i,action:function(s,a){return o(t,i?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}};const yce={__depends__:[zle,d9],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Fa]};var jb=Math.max,Gb=Math.min;function f9(t,n){return{top:t.top-n.top,right:t.right-n.right,bottom:t.bottom-n.bottom,left:t.left-n.left}}function Cce(t,n){return{x:t.x+(n.left||0),y:t.y+(n.top||0),width:t.width-(n.left||0)+(n.right||0),height:t.height-(n.top||0)+(n.bottom||0)}}function Vb(t,n,e){var i=n[t],o=e.min&&e.min[t],r=e.max&&e.max[t];return(0,V.isNumber)(o)&&(i=(/top|left/.test(t)?Gb:jb)(i,o)),(0,V.isNumber)(r)&&(i=(/top|left/.test(t)?jb:Gb)(i,r)),i}function Tg(t,n){return void 0!==t?t:20}function Tce(t){return!(t.waypoints||"label"===t.type)}function h9(t,n){var e;if((e=void 0===t.length?(0,V.filter)(t.children,Tce):t).length)return function Ece(t,n){var e,i,o,r;return"object"==typeof n?(e=Tg(n.left),i=Tg(n.right),o=Tg(n.top),r=Tg(n.bottom)):e=i=o=r=Tg(n),{x:t.x-e,y:t.y-o,width:t.width+e+i,height:t.height+o+r}}(yr(e),n)}var Hb=Math.abs,Dce=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function Ub(t,n){return n=n||[],t.children.filter(function(e){(0,te.is)(e,"bpmn:Lane")&&(Ub(e,n),n.push(e))}),n}function Gd(t){return t.children.filter(function(n){return(0,te.is)(n,"bpmn:Lane")})}function cl(t){return Mb(t,Dce)||t}function zb(t,n,e,i,o,r,s,a,l,d,h,w){t=t||{},i.registerProvider(this),this._contextPad=i,this._modeling=o,this._elementFactory=r,this._connect=s,this._create=a,this._popupMenu=l,this._canvas=d,this._rules=h,this._translate=w,!1!==t.autoPlace&&(this._autoPlace=n.get("autoPlace",!1)),e.on("create.end",250,function(P){var L=P.context.shape;if(zm(P)&&i.isOpen(L)){var U=i.getEntries(L);U.replace&&U.replace.action.click(P,L)}})}function g9(t,n,e){var i=t.$instanceOf(n),o=!1;return(0,V.forEach)(t.eventDefinitions||[],function(s){s.$type===e&&(o=!0)}),i&&o}zb.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],zb.prototype.getContextPadEntries=function(t){var n=this._contextPad,e=this._modeling,i=this._elementFactory,o=this._connect,r=this._create,s=this._popupMenu,a=this._canvas,l=this._rules,d=this._autoPlace,h=this._translate,w={};if("label"===t.type)return w;var P=t.businessObject;function N(J,ae){o.start(J,ae)}function q(J,ae,we,_e){function qe(st,vt){var Ct=i.createShape((0,V.assign)({type:J},_e));r.start(st,Ct,{source:vt})}return"string"!=typeof we&&(_e=we,we=h("Append {type}",{type:J.replace(/^bpmn:/,"")})),{group:"model",className:ae,title:we,action:{dragstart:qe,click:d?function(st,vt){var Ct=i.createShape((0,V.assign)({type:J},_e));d.append(vt,Ct)}:qe}}}function Z(J){return function(ae,we){e.splitLane(we,J),n.open(we,!0)}}if(_i(P,["bpmn:Lane","bpmn:Participant"])&&Bi(P)){var Q=Gd(t);(0,V.assign)(w,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:h("Add Lane above"),action:{click:function(J,ae){e.addLane(ae,"top")}}}}),Q.length<2&&(t.height>=120&&(0,V.assign)(w,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:h("Divide into two Lanes"),action:{click:Z(2)}}}),t.height>=180&&(0,V.assign)(w,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:h("Divide into three Lanes"),action:{click:Z(3)}}})),(0,V.assign)(w,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:h("Add Lane below"),action:{click:function(J,ae){e.addLane(ae,"bottom")}}}})}(0,te.is)(P,"bpmn:FlowNode")&&((0,te.is)(P,"bpmn:EventBasedGateway")?(0,V.assign)(w,{"append.receive-task":q("bpmn:ReceiveTask","bpmn-icon-receive-task",h("Append ReceiveTask")),"append.message-intermediate-event":q("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",h("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":q("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",h("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":q("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",h("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":q("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",h("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):g9(P,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?(0,V.assign)(w,{"append.compensation-activity":q("bpmn:Task","bpmn-icon-task",h("Append compensation activity"),{isForCompensation:!0})}):!(0,te.is)(P,"bpmn:EndEvent")&&!P.isForCompensation&&!g9(P,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")&&!ta(P)&&(0,V.assign)(w,{"append.end-event":q("bpmn:EndEvent","bpmn-icon-end-event-none",h("Append EndEvent")),"append.gateway":q("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",h("Append Gateway")),"append.append-task":q("bpmn:Task","bpmn-icon-task",h("Append Task")),"append.intermediate-event":q("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",h("Append Intermediate/Boundary Event"))})),s.isEmpty(t,"bpmn-replace")||(0,V.assign)(w,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:h("Change type"),action:{click:function(J,ae){var we=(0,V.assign)(function U(J){var we=a.getContainer(),_e=n.getPad(J).html,qe=we.getBoundingClientRect(),Xe=_e.getBoundingClientRect();return{x:Xe.left-qe.left,y:Xe.top-qe.top+Xe.height+5}}(ae),{cursor:{x:J.x,y:J.y}});s.open(ae,"bpmn-replace",we)}}}}),_i(P,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&(0,V.assign)(w,{"append.text-annotation":q("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:h("Connect using "+(P.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:N,dragstart:N}}}),_i(P,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&(0,V.assign)(w,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:h("Connect using DataInputAssociation"),action:{click:N,dragstart:N}}}),(0,te.is)(P,"bpmn:Group")&&(0,V.assign)(w,{"append.text-annotation":q("bpmn:TextAnnotation","bpmn-icon-text-annotation")});var K=l.allowed("elements.delete",{elements:[t]});return(0,V.isArray)(K)&&(K=K[0]===t),K&&(0,V.assign)(w,{delete:{group:"edit",className:"bpmn-icon-trash",title:h("Remove"),action:{click:function L(J){e.removeElements([t])}}}}),w};const Ace={__depends__:[qk,Ib,Wl,AM,kb,yce],__init__:["contextPadProvider"],contextPadProvider:["type",zb]};var Ice={horizontal:["x","width"],vertical:["y","height"]};function Bc(t){this._modeling=t,this._filters=[],this.registerFilter(function(n,e,i){var s,o=0,r=0;return(0,V.forEach)(n,function(a){a.waypoints||a.labelTarget||(o+=a[i],r+=1)}),s=Math.round(o/r),(0,V.filter)(n,function(a){return a[i]<s+50})})}Bc.$inject=["modeling"],Bc.prototype.registerFilter=function(t){if("function"!=typeof t)throw new Error("the filter has to be a function");this._filters.push(t)},Bc.prototype.trigger=function(t,n){var i,o,e=this._modeling;if(!(t.length<3||(this._setOrientation(n),o=this._filterElements(t),i=this._createGroups(o),i.length<=2)))return e.distributeElements(i,this._axis,this._dimension),i},Bc.prototype._filterElements=function(t){var n=this._filters,e=this._axis,i=this._dimension,o=[].concat(t);return n.length?((0,V.forEach)(n,function(r){o=r(o,e,i)}),o):t},Bc.prototype._createGroups=function(t){var n=[],e=this,i=this._axis,o=this._dimension;if(!i)throw new Error('must have a defined "axis" and "dimension"');var r=(0,V.sortBy)(t,i);return(0,V.forEach)(r,function(s,a){var l=e._findRange(s,i,o),h=n[n.length-1];h&&e._hasIntersection(h.range,l)?n[n.length-1].elements.push(s):n.push({range:l,elements:[s]})}),n},Bc.prototype._setOrientation=function(t){var n=Ice[t];this._axis=n[0],this._dimension=n[1]},Bc.prototype._hasIntersection=function(t,n){return Math.max(t.min,t.max)>=Math.min(n.min,n.max)&&Math.min(t.min,t.max)<=Math.max(n.min,n.max)},Bc.prototype._findRange=function(t){var n=t[this._axis];return{min:n+5,max:n+t[this._dimension]-5}};const kce={__init__:["distributeElements"],distributeElements:["type",Bc]};function v9(t){t.registerFilter(function(n){return(0,V.filter)(n,function(e){var i=_i(e,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:Participant","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(e.labelTarget||i)})})}v9.$inject=["distributeElements"];const Nce={__depends__:[kce],__init__:["bpmnDistributeElements"],bpmnDistributeElements:["type",v9]};var b9="is not a registered action";function Aa(t,n){this._actions={};var e=this;t.on("diagram.init",function(){e._registerDefaultActions(n),t.fire("editorActions.init",{editorActions:e})})}function OM(t,n){return new Error(t+" "+n)}Aa.$inject=["eventBus","injector"],Aa.prototype._registerDefaultActions=function(t){var n=t.get("commandStack",!1),e=t.get("modeling",!1),i=t.get("selection",!1),o=t.get("zoomScroll",!1),r=t.get("copyPaste",!1),s=t.get("canvas",!1),a=t.get("rules",!1),l=t.get("keyboardMove",!1),d=t.get("keyboardMoveSelection",!1);n&&(this.register("undo",function(){n.undo()}),this.register("redo",function(){n.redo()})),r&&i&&this.register("copy",function(){var h=i.get();r.copy(h)}),r&&this.register("paste",function(){r.paste()}),o&&this.register("stepZoom",function(h){o.stepZoom(h.value)}),s&&this.register("zoom",function(h){s.zoom(h.value)}),e&&i&&a&&this.register("removeSelection",function(){var h=i.get();if(h.length){var P,w=a.allowed("elements.delete",{elements:h});!1!==w&&(P=(0,V.isArray)(w)?w:h).length&&e.removeElements(P.slice())}}),l&&this.register("moveCanvas",function(h){l.moveCanvas(h)}),d&&this.register("moveSelection",function(h){d.moveSelection(h.direction,h.accelerated)})},Aa.prototype.trigger=function(t,n){if(!this._actions[t])throw OM(t,b9);return this._actions[t](n)},Aa.prototype.register=function(t,n){var e=this;if("string"==typeof t)return this._registerAction(t,n);(0,V.forEach)(t,function(i,o){e._registerAction(o,i)})},Aa.prototype._registerAction=function(t,n){if(this.isRegistered(t))throw OM(t,"is already registered");this._actions[t]=n},Aa.prototype.unregister=function(t){if(!this.isRegistered(t))throw OM(t,b9);this._actions[t]=void 0},Aa.prototype.getActions=function(){return Object.keys(this._actions)},Aa.prototype.isRegistered=function(t){return!!this._actions[t]};const Oce={__init__:["editorActions"],editorActions:["type",Aa]};function qb(t){t.invoke(Aa,this)}on()(qb,Aa),qb.$inject=["injector"],qb.prototype._registerDefaultActions=function(t){Aa.prototype._registerDefaultActions.call(this,t);var n=t.get("canvas",!1),e=t.get("elementRegistry",!1),i=t.get("selection",!1),o=t.get("spaceTool",!1),r=t.get("lassoTool",!1),s=t.get("handTool",!1),a=t.get("globalConnect",!1),l=t.get("distributeElements",!1),d=t.get("alignElements",!1),h=t.get("directEditing",!1),w=t.get("searchPad",!1),P=t.get("modeling",!1);n&&e&&i&&this._registerAction("selectElements",function(){var N=n.getRootElement(),L=e.filter(function(U){return U!==N});return i.select(L),L}),o&&this._registerAction("spaceTool",function(){o.toggle()}),r&&this._registerAction("lassoTool",function(){r.toggle()}),s&&this._registerAction("handTool",function(){s.toggle()}),a&&this._registerAction("globalConnectTool",function(){a.toggle()}),i&&l&&this._registerAction("distributeElements",function(N){var L=i.get();L.length&&l.trigger(L,N.type)}),i&&d&&this._registerAction("alignElements",function(N){var L=i.get(),U=[],q=N.type;L.length&&(U=(0,V.filter)(L,function(Z){return!(0,te.is)(Z,"bpmn:Lane")}),d.trigger(U,q))}),i&&P&&this._registerAction("setColor",function(N){var L=i.get();L.length&&P.setColor(L,N)}),i&&h&&this._registerAction("directEditing",function(){var N=i.get();N.length&&h.activate(N[0])}),w&&this._registerAction("find",function(){w.toggle()}),n&&P&&this._registerAction("moveToOrigin",function(){var L,U,N=n.getRootElement();L=yr(U=(0,te.is)(N,"bpmn:Collaboration")?e.filter(function(q){return(0,te.is)(q.parent,"bpmn:Collaboration")}):e.filter(function(q){return q!==N&&!(0,te.is)(q.parent,"bpmn:SubProcess")})),P.moveElements(U,{x:-L.x,y:-L.y},N)})};const Bce={__depends__:[Oce],editorActions:["type",qb]};function y9(t){t.on(["create.init","shape.move.init"],function(n){var e=n.context;_i(n.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(e.gridSnappingContext||(e.gridSnappingContext={}),e.gridSnappingContext.snapLocation="top-left")})}function BM(t,n,e){return e||(e="round"),Math[e](t/n)*n}function Eu(t,n,e){var i=!e||!1!==e.active;this._eventBus=n;var o=this;n.on("diagram.init",800,function(){o.setActive(i)}),n.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(r){var s=r.originalEvent;if(!(!o.active||s&&Ea(s))){var a=r.context,l=a.gridSnappingContext;l||(l=a.gridSnappingContext={}),["x","y"].forEach(function(d){var h={},w=function Vce(t,n,e){var o=t.shape,r=t.context.gridSnappingContext,s=r.snapLocation,a=r.snapOffset;return a&&(0,V.isNumber)(a[n])||(a||(a=r.snapOffset={}),(0,V.isNumber)(a[n])||(a[n]=0),!o)||(e.get(o.id)||(Wb(n)?a[n]+=o[n]+o.width/2:a[n]+=o[n]+o.height/2),!s)||("x"===n?/left/.test(s)?a[n]-=o.width/2:/right/.test(s)&&(a[n]+=o.width/2):/top/.test(s)?a[n]-=o.height/2:/bottom/.test(s)&&(a[n]+=o.height/2)),a[n]}(r,d,t);w&&(h.offset=w);var P=function Gce(t,n){var e=t.context,i=e.createConstraints,o=e.resizeConstraints||{},r=e.gridSnappingContext,s=r.snapConstraints;if(s&&s[n])return s[n];s||(s=r.snapConstraints={}),s[n]||(s[n]={});var a=e.direction;i&&(Wb(n)?(s.x.min=i.left,s.x.max=i.right):(s.y.min=i.top,s.y.max=i.bottom));var l=o.min,d=o.max;return l&&(Wb(n)?x9(a)?s.x.max=l.left:s.x.min=l.right:w9(a)?s.y.max=l.top:s.y.min=l.bottom),d&&(Wb(n)?x9(a)?s.x.min=d.left:s.x.max=d.right:w9(a)?s.y.min=d.top:s.y.max=d.bottom),s[n]}(r,d);P&&(0,V.assign)(h,P),Km(r,d)||o.snapEvent(r,d,h)})}})}function Wb(t){return"x"===t}function w9(t){return-1!==t.indexOf("n")}function x9(t){return-1!==t.indexOf("w")}function Vd(t,n){rn.call(this,t),this._gridSnapping=n;var e=this;this.preExecute("shape.resize",function(i){var o=i.context,s=(o.hints||{}).autoResize;if(s){var a=o.shape,l=o.newBounds;o.newBounds=(0,V.isString)(s)?e.snapComplex(l,s):e.snapSimple(a,l)}})}function C9(t,n){t.on(["spaceTool.move","spaceTool.end"],2e3,function(e){var r,i=e.context;i.initialized&&("x"===i.axis?(r=n.snapValue(e.dx),e.x=e.x+r-e.dx,e.dx=r):(r=n.snapValue(e.dy),e.y=e.y+r-e.dy,e.dy=r))})}y9.$inject=["eventBus"],Eu.prototype.snapEvent=function(t,n,e){rr(t,n,this.snapValue(t[n],e))},Eu.prototype.getGridSpacing=function(){return 10},Eu.prototype.snapValue=function(t,n){var i,o,e=0;return n&&n.offset&&(e=n.offset),t=BM(t+=e,10),n&&n.min&&(0,V.isNumber)(i=n.min)&&(i=BM(i+e,10,"ceil"),t=Math.max(t,i)),n&&n.max&&(0,V.isNumber)(o=n.max)&&(o=BM(o+e,10,"floor"),t=Math.min(t,o)),t-e},Eu.prototype.isActive=function(){return this.active},Eu.prototype.setActive=function(t){this.active=t,this._eventBus.fire("gridSnapping.toggle",{active:t})},Eu.prototype.toggleActive=function(){this.setActive(!this.active)},Eu.$inject=["elementRegistry","eventBus","config.gridSnapping"],Vd.$inject=["eventBus","gridSnapping","modeling"],on()(Vd,rn),Vd.prototype.snapSimple=function(t,n){var e=this._gridSnapping;return n.width=e.snapValue(n.width,{min:n.width}),n.height=e.snapValue(n.height,{min:n.height}),n.x=t.x+t.width/2-n.width/2,n.y=t.y+t.height/2-n.height/2,n},Vd.prototype.snapComplex=function(t,n){return/w|e/.test(n)&&(t=this.snapHorizontally(t,n)),/n|s/.test(n)&&(t=this.snapVertically(t,n)),t},Vd.prototype.snapHorizontally=function(t,n){var e=this._gridSnapping,i=/w/.test(n),o=/e/.test(n),r={};return r.width=e.snapValue(t.width,{min:t.width}),o&&(i?(r.x=e.snapValue(t.x,{max:t.x}),r.width+=e.snapValue(t.x-r.x,{min:t.x-r.x})):t.x=t.x+t.width-r.width),(0,V.assign)(t,r),t},Vd.prototype.snapVertically=function(t,n){var e=this._gridSnapping,i=/n/.test(n),o=/s/.test(n),r={};return r.height=e.snapValue(t.height,{min:t.height}),i&&(o?(r.y=e.snapValue(t.y,{max:t.y}),r.height+=e.snapValue(t.y-r.y,{min:t.y-r.y})):t.y=t.y+t.height-r.height),(0,V.assign)(t,r),t},C9.$inject=["eventBus","gridSnapping"];const Uce={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Vd],gridSnappingSpaceToolBehavior:["type",C9]}],__init__:["gridSnapping"],gridSnapping:["type",Eu]};function M9(t,n){t.on("autoPlace",2e3,function(e){var i=e.source,o=qn(i),r=e.shape,s=lk(i,r);return["x","y"].forEach(function(a){var l={};s[a]!==o[a]&&(s[a]>o[a]?l.min=s[a]:l.max=s[a],(0,te.is)(r,"bpmn:TextAnnotation")&&(l.offset=function qce(t){return"x"===t}(a)?-r.width/2:-r.height/2),s[a]=n.snapValue(s[a],l))}),s})}function S9(t,n,e){n.on(["create.start","shape.move.start"],1750,function(i){var o=i.context,r=o.shape,s=t.getRootElement();(0,te.is)(r,"bpmn:Participant")&&(0,te.is)(s,"bpmn:Process")&&s.children.length&&(!o.createConstraints||(r.width=e.snapValue(r.width,{min:r.width}),r.height=e.snapValue(r.height,{min:r.height})))})}function Yb(t,n,e){rn.call(this,t),this._gridSnapping=n;var i=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(o){var r=o.context,s=r.connection,a=r.hints||{},l=s.waypoints;a.connectionStart||a.connectionEnd||!1===a.createElementsBehavior||!function Yce(t){return t.length>3}(l)||e.updateWaypoints(s,i.snapMiddleSegments(l))})}function Qce(t,n,e){var i=Ac(n,e),o={};return function Xce(t){return"h"===t}(i)&&(o.y=t.snapValue(n.y)),function Kce(t){return"v"===t}(i)&&(o.x=t.snapValue(n.x)),("x"in o||"y"in o)&&(n=(0,V.assign)({},n,o),e=(0,V.assign)({},e,o)),[n,e]}M9.$inject=["eventBus","gridSnapping"],S9.$inject=["canvas","eventBus","gridSnapping"],Yb.$inject=["eventBus","gridSnapping","modeling"],on()(Yb,rn),Yb.prototype.snapMiddleSegments=function(t){var e,n=this._gridSnapping;t=t.slice();for(var i=1;i<t.length-2;i++)e=Qce(n,t[i],t[i+1]),t[i]=e[0],t[i+1]=e[1];return t};const Jce={__depends__:[Uce,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingCreateParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",M9],gridSnappingCreateParticipantBehavior:["type",S9],gridSnappingLayoutConnectionBehavior:["type",Yb]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",y9]};function Pg(t,n){this._interactionEvents=n;var e=this;t.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(i){var o=i.element,r=i.gfx;return(0,te.is)(o,"bpmn:Lane")?e.createParticipantHit(o,r):(0,te.is)(o,"bpmn:Participant")?Bi(o)?e.createParticipantHit(o,r):e.createDefaultHit(o,r):(0,te.is)(o,"bpmn:SubProcess")?Bi(o)?e.createSubProcessHit(o,r):e.createDefaultHit(o,r):void 0})}Pg.$inject=["eventBus","interactionEvents"],Pg.prototype.createDefaultHit=function(t,n){return this._interactionEvents.removeHits(n),this._interactionEvents.createDefaultHit(t,n),!0},Pg.prototype.createParticipantHit=function(t,n){return this._interactionEvents.removeHits(n),this._interactionEvents.createBoxHit(n,"click-stroke",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(n,"all",{width:30,height:t.height}),!0},Pg.prototype.createSubProcessHit=function(t,n){return this._interactionEvents.removeHits(n),this._interactionEvents.createBoxHit(n,"click-stroke",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(n,"all",{width:t.width,height:30}),!0};const tue={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",Pg]};function Xb(t){t.invoke($m,this)}on()(Xb,$m),Xb.$inject=["injector"],Xb.prototype.registerBindings=function(t,n){function e(i,o){n.isRegistered(i)&&t.addListener(o)}$m.prototype.registerBindings.call(this,t,n),e("selectElements",function(i){var o=i.keyEvent;if(t.isKey(["a","A"],o)&&t.isCmd(o))return n.trigger("selectElements"),!0}),e("find",function(i){var o=i.keyEvent;if(t.isKey(["f","F"],o)&&t.isCmd(o))return n.trigger("find"),!0}),e("spaceTool",function(i){var o=i.keyEvent;if(!t.hasModifier(o)&&t.isKey(["s","S"],o))return n.trigger("spaceTool"),!0}),e("lassoTool",function(i){var o=i.keyEvent;if(!t.hasModifier(o)&&t.isKey(["l","L"],o))return n.trigger("lassoTool"),!0}),e("handTool",function(i){var o=i.keyEvent;if(!t.hasModifier(o)&&t.isKey(["h","H"],o))return n.trigger("handTool"),!0}),e("globalConnectTool",function(i){var o=i.keyEvent;if(!t.hasModifier(o)&&t.isKey(["c","C"],o))return n.trigger("globalConnectTool"),!0}),e("directEditing",function(i){var o=i.keyEvent;if(!t.hasModifier(o)&&t.isKey(["e","E"],o))return n.trigger("directEditing"),!0})};const nue={__depends__:[pM],__init__:["keyboardBindings"],keyboardBindings:["type",Xb]};var iue={moveSpeed:1,moveSpeedAccelerated:10},rue={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},sue={left:function(t){return{x:-t,y:0}},up:function(t){return{x:0,y:-t}},right:function(t){return{x:t,y:0}},down:function(t){return{x:0,y:t}}};function F9(t,n,e,i,o){var r=this;this._config=(0,V.assign)({},iue,t||{}),n.addListener(1500,function(s){var a=s.keyEvent,l=rue[a.key];if(l&&!n.isCmd(a)){var d=n.isShift(a);return r.moveSelection(l,d),!0}}),this.moveSelection=function(s,a){var l=o.get();if(l.length){var h=sue[s](this._config[a?"moveSpeedAccelerated":"moveSpeed"]);i.allowed("elements.move",{shapes:l})&&e.moveElements(l,h)}}}F9.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const aue={__depends__:[pM,Wl],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",F9]};function A9(t,n,e,i){t.on("element.changed",function(o){var r=o.element;(r.parent||r===n.getRootElement())&&(o.gfx=e.getGraphics(r)),o.gfx&&t.fire(zA(r)+".changed",o)}),t.on("elements.changed",function(o){var r=o.elements;r.forEach(function(s){t.fire("element.changed",{element:s})}),i.updateContainments(r)}),t.on("shape.changed",function(o){i.update("shape",o.element,o.gfx)}),t.on("connection.changed",function(o){i.update("connection",o.element,o.gfx)})}A9.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const LM={__init__:["changeSupport"],changeSupport:["type",A9]};function Dg(t,n,e,i){this._dragging=i,this._rules=n;var o=this;t.on("resize.start",function(l){!function s(l){var h=l.minBounds;void 0===l.resizeConstraints&&(void 0===h&&(h=o.computeMinResizeBox(l)),l.resizeConstraints={min:yn(h)})}(l.context)}),t.on("resize.move",function(l){!function r(l,d){var N,h=l.shape,w=l.direction,P=l.resizeConstraints;l.delta=d,N=function xce(t,n,e){var i=e.x,o=e.y,r={x:t.x,y:t.y,width:t.width,height:t.height};return-1!==n.indexOf("n")?(r.y=t.y+o,r.height=t.height-o):-1!==n.indexOf("s")&&(r.height=t.height+o),-1!==n.indexOf("e")?r.width=t.width+i:-1!==n.indexOf("w")&&(r.x=t.x+i,r.width=t.width-i),r}(h,w,d),l.newBounds=function Mce(t,n){if(!n)return t;var e=yn(t);return rM({top:Vb("top",e,n),right:Vb("right",e,n),bottom:Vb("bottom",e,n),left:Vb("left",e,n)})}(N,P),l.canExecute=o.canResize(l)}(l.context,{x:l.dx,y:l.dy})}),t.on("resize.end",function(l){!function a(l){var d=l.shape,w=l.newBounds;if(l.canExecute){if(!function lue(t,n){return t.x!==n.x||t.y!==n.y||t.width!==n.width||t.height!==n.height}(d,w=II(w)))return;e.resizeShape(d,w)}}(l.context)})}function k9(t,n){var e=qn(t),i=yn(t),o={x:e.x,y:e.y};return-1!==n.indexOf("n")?o.y=i.top:-1!==n.indexOf("s")&&(o.y=i.bottom),-1!==n.indexOf("e")?o.x=i.right:-1!==n.indexOf("w")&&(o.x=i.left),o}function cue(t){var n="resize-";return"n"===t||"s"===t?n+"ns":"e"===t||"w"===t?n+"ew":"nw"===t||"se"===t?n+"nwse":n+"nesw"}Dg.prototype.canResize=function(t){var n=this._rules,e=(0,V.pick)(t,["newBounds","shape","delta","direction"]);return n.allowed("shape.resize",e)},Dg.prototype.activate=function(t,n,e){var o,r,i=this._dragging;if("string"==typeof e&&(e={direction:e}),!(r=(o=(0,V.assign)({shape:n},e)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");i.init(t,k9(n,r),"resize",{autoActivate:!0,cursor:cue(r),data:{shape:n,context:o}})},Dg.prototype.computeMinResizeBox=function(t){var n=t.shape;return function Sce(t,n,e,i){var o=yn(n),r={top:/n/.test(t)?o.bottom-e.height:o.top,left:/w/.test(t)?o.right-e.width:o.left,bottom:/s/.test(t)?o.top+e.height:o.bottom,right:/e/.test(t)?o.left+e.width:o.right},s=i?yn(i):r;return rM({top:Gb(r.top,s.top),left:Gb(r.left,s.left),bottom:jb(r.bottom,s.bottom),right:jb(r.right,s.right)})}(t.direction,n,t.minDimensions||{width:10,height:10},h9(n,t.childrenBoxPadding))},Dg.$inject=["eventBus","rules","modeling","dragging"];var N9="djs-resizing",R9="resize-not-ok";function O9(t,n,e){t.on("resize.move",500,function(r){!function i(r){var s=r.shape,a=r.newBounds,l=r.frame;l||(l=r.frame=e.addFrame(s,n.getDefaultLayer()),n.addMarker(s,N9)),a.width>5&&At(l,{x:a.x,width:a.width}),a.height>5&&At(l,{y:a.y,height:a.height}),r.canExecute?hi(l).remove(R9):hi(l).add(R9)}(r.context)}),t.on("resize.cleanup",function(r){!function o(r){var s=r.shape;r.frame&&To(r.frame),n.removeMarker(s,N9)}(r.context)})}O9.$inject=["eventBus","canvas","previewSupport"];var Fg="djs-resizer",due=["n","w","s","e","nw","ne","se","sw"];function Tu(t,n,e,i){this._resize=i,this._canvas=n;var o=this;t.on("selection.changed",function(r){var s=r.newSelection;o.removeResizers(),1===s.length&&(0,V.forEach)(s,(0,V.bind)(o.addResizer,o))}),t.on("shape.changed",function(r){var s=r.element;e.isSelected(s)&&(o.removeResizers(),o.addResizer(s))})}Tu.prototype.makeDraggable=function(t,n,e){var i=this._resize;function o(r){bb(r)&&i.activate(r,t,e)}bn.bind(n,"mousedown",o),bn.bind(n,"touchstart",o)},Tu.prototype._createResizer=function(t,n,e,i){var o=this._getResizersParent(),r=function pue(t){var n={x:0,y:0};return-1!==t.indexOf("e")?n.x=6:-1!==t.indexOf("w")&&(n.x=-6),-1!==t.indexOf("s")?n.y=6:-1!==t.indexOf("n")&&(n.y=-6),n}(i),s=_n("g");hi(s).add(Fg),hi(s).add(Fg+"-"+t.id),hi(s).add(Fg+"-"+i),Cn(o,s);var a=_n("rect");At(a,{x:-2+r.x,y:-2+r.y,width:4,height:4}),hi(a).add(Fg+"-visual"),Cn(s,a);var l=_n("rect");return At(l,{x:-10+r.x,y:-10+r.y,width:20,height:20}),hi(l).add(Fg+"-hit"),Cn(s,l),iI(s,n,e),s},Tu.prototype.createResizer=function(t,n){var e=k9(t,n),i=this._createResizer(t,e.x,e.y,n);this.makeDraggable(t,i,n)},Tu.prototype.addResizer=function(t){var n=this;!this._resize.canResize({shape:t})||(0,V.forEach)(due,function(i){n.createResizer(t,i)})},Tu.prototype.removeResizers=function(){RC(this._getResizersParent())},Tu.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},Tu.$inject=["eventBus","canvas","selection","resize"];const B9={__depends__:[Kl,Rc,Mg],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Dg],resizePreview:["type",O9],resizeHandles:["type",Tu]};function jM(t,n){var e=n.create("bpmn:CategoryValue"),i=n.create("bpmn:Category",{categoryValue:[e]});return Oo(t.get("rootElements"),i),(0,te.S)(i).$parent=t,(0,te.S)(e).$parent=i,e}function Ag(t,n,e,i,o,r,s){function a(l,d){(d||_i(l,["bpmn:Task","bpmn:TextAnnotation","bpmn:Group"])||GM(l))&&i.activate(l)}this._bpmnFactory=n,this._canvas=e,this._modeling=o,this._textRenderer=s,i.registerProvider(this),t.on("element.dblclick",function(l){a(l.element,!0)}),t.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open"],function(l){i.isActive()&&i.complete()}),t.on(["commandStack.changed"],function(l){i.isActive()&&i.cancel()}),t.on("directEditing.activate",function(l){r.removeResizers()}),t.on("create.end",500,function(l){var d=l.context;l.isTouch||!l.context.canExecute||d.hints&&!1===d.hints.createElementsBehavior||a(d.shape)}),t.on("autoPlace.end",500,function(l){a(l.shape)})}function GM(t){return(0,te.is)(t,"bpmn:SubProcess")&&!Bi(t)}Ag.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],Ag.prototype.activate=function(t){var n=rl(t);if(void 0!==n){var e={text:n},i=this.getEditingBBox(t);(0,V.assign)(e,i);var o={};return(_i(t,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||GM(t))&&(0,V.assign)(o,{centerVertically:!0}),Pm(t)&&(0,V.assign)(o,{autoResize:!0}),(0,te.is)(t,"bpmn:TextAnnotation")&&(0,V.assign)(o,{resizable:!0,autoResize:!0}),(0,V.assign)(e,{options:o}),e}},Ag.prototype.getEditingBBox=function(t){var n=this._canvas,e=t.label||t,i=n.getAbsoluteBBox(e),o_x=i.x+i.width/2,o_y=i.y+i.height/2,r={x:i.x,y:i.y},s=n.zoom(),a=this._textRenderer.getDefaultStyle(),l=this._textRenderer.getExternalStyle(),d=l.fontSize*s,h=l.lineHeight,w=a.fontSize*s,P=a.lineHeight,N={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};((0,te.is)(t,"bpmn:Lane")||function hue(t){return(0,te.is)(t,"bpmn:Participant")&&Bi(t)}(t))&&((0,V.assign)(r,{width:i.height,height:30*s,x:i.x-i.height/2+15*s,y:o_y-30*s/2}),(0,V.assign)(N,{fontSize:w+"px",lineHeight:P,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px",transform:"rotate(-90deg)"})),(_i(t,["bpmn:Task","bpmn:CallActivity"])||function fue(t){return(0,te.is)(t,"bpmn:Participant")&&!Bi(t)}(t)||GM(t))&&((0,V.assign)(r,{width:i.width,height:i.height}),(0,V.assign)(N,{fontSize:w+"px",lineHeight:P,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"})),function mue(t){return(0,te.is)(t,"bpmn:SubProcess")&&Bi(t)}(t)&&((0,V.assign)(r,{width:i.width,x:i.x}),(0,V.assign)(N,{fontSize:w+"px",lineHeight:P,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"}));var L=90*s,U=7*s,q=4*s;if(e.labelTarget&&((0,V.assign)(r,{width:L,height:i.height+U+q,x:o_x-L/2,y:i.y-U}),(0,V.assign)(N,{fontSize:d+"px",lineHeight:h,paddingTop:U+"px",paddingBottom:q+"px"})),Pm(e)&&!Yv(e)&&!Gi(e)){var Z=Xv(t),Q=n.getAbsoluteBBox({x:Z.x,y:Z.y,width:0,height:0}),K=d+U+q;(0,V.assign)(r,{width:L,height:K,x:Q.x-L/2,y:Q.y-K/2}),(0,V.assign)(N,{fontSize:d+"px",lineHeight:h,paddingTop:U+"px",paddingBottom:q+"px"})}return(0,te.is)(t,"bpmn:TextAnnotation")&&((0,V.assign)(r,{width:i.width,height:i.height,minWidth:30*s,minHeight:10*s}),(0,V.assign)(N,{textAlign:"left",paddingTop:5*s+"px",paddingBottom:7*s+"px",paddingLeft:7*s+"px",paddingRight:5*s+"px",fontSize:w+"px",lineHeight:P})),{bounds:r,style:N}},Ag.prototype.update=function(t,n,e,i){var o,r;if((0,te.is)(t,"bpmn:TextAnnotation")&&(r=this._canvas.getAbsoluteBBox(t),o={x:t.x,y:t.y,width:t.width/r.width*i.width,height:t.height/r.height*i.height}),(0,te.is)(t,"bpmn:Group")&&!(0,te.S)(t).categoryValueRef){var a=this._canvas.getRootElement(),d=jM((0,te.S)(a).$parent,this._bpmnFactory);(0,te.S)(t).categoryValueRef=d}(function gue(t){return!t||!t.trim()})(n)&&(n=null),this._modeling.updateLabel(t,n,o)};var L9="djs-element-hidden",j9="djs-label-hidden";function G9(t,n,e,i){var s,a,l,o=this,r=n.getDefaultLayer();t.on("directEditing.activate",function(d){var h=d.active;if((0,te.is)(s=h.element.label||h.element,"bpmn:TextAnnotation")){a=n.getAbsoluteBBox(s),l=_n("g");var w=i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:0,my:0}}),P=o.path=_n("path");At(P,{d:w,strokeWidth:2,stroke:_ue(s)}),Cn(l,P),Cn(r,l),Os(l,s.x,s.y)}(0,te.is)(s,"bpmn:TextAnnotation")||s.labelTarget?n.addMarker(s,L9):((0,te.is)(s,"bpmn:Task")||(0,te.is)(s,"bpmn:CallActivity")||(0,te.is)(s,"bpmn:SubProcess")||(0,te.is)(s,"bpmn:Participant"))&&n.addMarker(s,j9)}),t.on("directEditing.resize",function(d){if((0,te.is)(s,"bpmn:TextAnnotation")){var P=Math.max(s.height/a.height*(d.height+d.dy),0),N=i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:P,position:{mx:0,my:0}});At(o.path,{d:N})}}),t.on(["directEditing.complete","directEditing.cancel"],function(d){var h=d.active;h&&(n.removeMarker(h.element.label||h.element,L9),n.removeMarker(s,j9)),s=void 0,a=void 0,l&&(To(l),l=void 0)})}function _ue(t,n){return(0,te.S)(t).di.get("stroke")||n||"black"}G9.$inject=["eventBus","canvas","elementRegistry","pathMap"];const vue={__depends__:[LM,B9,qk],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Ag],labelEditingPreview:["type",G9]};var VM=["top","bottom","left","right"];function HM(t,n){function e(o){if(Yv(o)){var r=function wue(t){var n=qn(t.label),i=V9(qn(t),n);if(function xue(t){return-1!==VM.indexOf(t)}(i)){var o=function yue(t){var n=qn(t),e=[].concat(t.incoming.map(function(i){return i.waypoints[i.waypoints.length-2]}),t.outgoing.map(function(i){return i.waypoints[1]})).map(function(i){return V9(n,i)});return e}(t);if(t.host){var r=function bue(t){var o,n=t.host,i=Vr(qn(t),n);o=i.indexOf("-")>=0?i.split("-"):[i];var r=VM.filter(function(s){return-1===o.indexOf(s)});return r}(t);o=o.concat(r)}var s=VM.filter(function(a){return-1===o.indexOf(a)});if(-1===s.indexOf(i))return s[0]}}(o);!r||function i(o,r){var s=qn(o),a=o.label,l=qn(a);if(a.parent){var h,d=yn(o);switch(r){case"top":h={x:s.x,y:d.top-10-a.height/2};break;case"left":h={x:d.left-10-a.width/2,y:s.y};break;case"bottom":h={x:s.x,y:d.bottom+10+a.height/2};break;case"right":h={x:d.right+10+a.width/2,y:s.y}}var w=Yl(h,l);n.moveShape(a,w)}}(o,r)}}rn.call(this,t),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(o){var r=o.context,s=r.connection,l=s.target;!1!==(r.hints||{}).createElementsBehavior&&(e(s.source),e(l))}),this.postExecuted(["label.create"],function(o){var r=o.context;!1!==(r.hints||{}).createElementsBehavior&&e(r.shape.labelTarget)}),this.postExecuted(["elements.create"],function(o){var r=o.context;!1!==(r.hints||{}).createElementsBehavior&&r.elements.forEach(function(l){e(l)})})}function V9(t,n){return Vr(n,t,5)}function UM(t,n,e){rn.call(this,t),this.preExecute("shape.append",function(i){var o=i.source,r=i.shape;i.position||(i.position=(0,te.is)(r,"bpmn:TextAnnotation")?{x:o.x+o.width/2+75,y:o.y-50-r.height/2}:{x:o.x+o.width+80+r.width/2,y:o.y+o.height/2})},!0)}function zM(t,n){t.invoke(rn,this),this.postExecute("shape.move",function(e){var i=e.newParent,o=e.shape,r=(0,V.filter)(o.incoming.concat(o.outgoing),function(s){return(0,te.is)(s,"bpmn:Association")});(0,V.forEach)(r,function(s){n.moveConnection(s,{x:0,y:0},i)})},!0)}function ey(t,n){n.invoke(rn,this),this._bpmnReplace=t;var e=this;this.postExecuted("elements.create",500,function(i){var o=i.elements;1===(o=o.filter(function(r){return U9(r,r.host)})).length&&o.map(function(r){return o.indexOf(r)}).forEach(function(r){i.elements[r]=e.replaceShape(o[r],o[r])})},!0),this.preExecute("elements.move",500,function(i){var o=i.shapes,r=i.newHost;if(1===o.length){var s=o[0];U9(s,r)&&(i.shapes=[e.replaceShape(s,r)])}},!0)}function U9(t,n){return!Gi(t)&&_i(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!n}function qM(t,n){function e(i){return(0,V.filter)(i.attachers,function(o){return(0,te.is)(o,"bpmn:BoundaryEvent")})}rn.call(this,t),this.postExecute("connection.create",function(i){var o=i.context.source,r=i.context.target,s=e(r);(0,te.is)(o,"bpmn:EventBasedGateway")&&(0,te.is)(r,"bpmn:ReceiveTask")&&s.length>0&&n.removeElements(s)}),this.postExecute("connection.reconnect",function(i){var r=i.context.newSource;(0,te.is)(i.context.oldSource,"bpmn:Gateway")&&(0,te.is)(r,"bpmn:EventBasedGateway")&&(0,V.forEach)(r.outgoing,function(s){var a=s.target,l=e(a);(0,te.is)(a,"bpmn:ReceiveTask")&&l.length>0&&n.removeElements(l)})})}function $M(t,n,e,i,o){function r(h){return _i(h,["bpmn:ReceiveTask","bpmn:SendTask"])||function Sue(t,n){return(0,V.isArray)(n)||(n=[n]),(0,V.some)(n,function(e){return pb(t,e)})}(h,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function s(h){var P=t.getDefinitions().get("rootElements");return!!(0,V.find)(P,(0,V.matchPattern)({id:h.id}))}function a(h){return(0,te.is)(h,"bpmn:ErrorEventDefinition")?"errorRef":(0,te.is)(h,"bpmn:EscalationEventDefinition")?"escalationRef":(0,te.is)(h,"bpmn:MessageEventDefinition")?"messageRef":(0,te.is)(h,"bpmn:SignalEventDefinition")?"signalRef":void 0}function l(h){if(_i(h,["bpmn:ReceiveTask","bpmn:SendTask"]))return h.get("messageRef");var P=h.get("eventDefinitions")[0];return P.get(a(P))}e.invoke(rn,this),this.executed("shape.create",function(h){var w=h.shape;if(r(w)){var N=l((0,te.S)(w));N&&!s(N)&&(Oo(t.getDefinitions().get("rootElements"),N),h.addedRootElement=N)}},!0),this.reverted("shape.create",function(h){var w=h.addedRootElement;w&&Ro(t.getDefinitions().get("rootElements"),w)},!0),n.on("copyPaste.copyElement",function(h){var w=h.descriptor,P=h.element;if(r(P)){var L=l((0,te.S)(P));L&&(w.referencedRootElement=L)}}),n.on("copyPaste.pasteElement",500,function(h){var w=h.descriptor,P=w.businessObject;if(r(P)){var N=w.referencedRootElement;!N||(s(N)||(N=i.copyElement(N,o.create(N.$type))),function d(h,w){if(_i(h,["bpmn:ReceiveTask","bpmn:SendTask"]))return h.set("messageRef",w);var N=h.get("eventDefinitions")[0];N.set(a(N),w)}(P,N))}})}function WM(t){t.invoke(rn,this),this.preExecute("shape.create",1500,function(n){var e=n.context,i=e.parent,o=e.shape;(0,te.is)(i,"bpmn:Lane")&&!(0,te.is)(o,"bpmn:Lane")&&(e.parent=Mb(i,"bpmn:Participant"))})}function z9(t,n,e){n.on(["create.hover","create.move","create.end","shape.move.hover","shape.move.move","shape.move.end"],1500,function(i){var r=i.context.shape||i.shape,s=i.hover;(0,te.is)(s,"bpmn:Lane")&&!_i(r,["bpmn:Lane","bpmn:Participant"])&&(i.hover=cl(s),i.hoverGfx=t.getGraphics(i.hover));var a=e.getRootElement();s!==a&&(r.labelTarget||(0,te.is)(r,"bpmn:Group"))&&(i.hover=a,i.hoverGfx=t.getGraphics(i.hover))}),n.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],1500,function(i){var o=i.hover;(0,te.is)(o,"bpmn:Lane")&&(i.hover=cl(o)||o,i.hoverGfx=t.getGraphics(i.hover))}),n.on(["bendpoint.move.hover"],1500,function(i){var r=i.hover,s=i.context.type;(0,te.is)(r,"bpmn:Lane")&&/reconnect/.test(s)&&(i.hover=cl(r)||r,i.hoverGfx=t.getGraphics(i.hover))}),n.on(["connect.start"],1500,function(i){var o=i.context,r=o.start;(0,te.is)(r,"bpmn:Lane")&&(o.start=cl(r)||r)}),n.on("shape.move.start",2e3,function(i){var o=i.shape;(0,te.is)(o,"bpmn:Lane")&&(i.shape=cl(o)||o)})}function YM(t,n,e){rn.call(this,t),this.preExecute("shape.create",function(i){var r=i.context.shape;if((0,te.is)(r,"bpmn:DataObjectReference")&&"label"!==r.type){var s=n.create("bpmn:DataObject");r.businessObject.dataObjectRef=s}})}function QM(t,n,e){function i(o){var s,r=o.parent,a=t.getRootElement();(0,te.is)(a,"bpmn:Collaboration")?s=a:(s=e.makeCollaboration(),o.process=r),o.parent=s}rn.call(this,n),n.on(["create.start","shape.move.start"],2e3,function(o){var r=o.context,s=r.shape,a=t.getRootElement();if((0,te.is)(s,"bpmn:Participant")&&(0,te.is)(a,"bpmn:Process")&&a.children.length){var l=a.children.filter(function(w){return!(0,te.is)(w,"bpmn:Group")&&!Gi(w)&&!function Due(t){return!!t.waypoints}(w)});if(l.length){var d=yr(l),h=function Tue(t,n){n={width:n.width+40+30,height:n.height+40};var e=Math.max(t.width,n.width),i=Math.max(t.height,n.height);return{x:-e/2,y:-i/2,width:e,height:i}}(s,d);(0,V.assign)(s,h),r.createConstraints=function Pue(t,n){return{bottom:(n=yn(n)).top+t.height/2-20,left:n.right-t.width/2+20,top:n.bottom-t.height/2+20,right:n.left+t.width/2-20-30}}(s,d)}}}),n.on("create.start",2e3,function(o){var s=o.context.shape,a=t.getRootElement(),l=t.getGraphics(a);function d(h){h.element=a,h.gfx=l}(0,te.is)(s,"bpmn:Participant")&&(0,te.is)(a,"bpmn:Process")&&(n.on("element.hover",2e3,d),n.once("create.cleanup",function(){n.off("element.hover",d)}))}),this.preExecute("shape.create",function(o){var r=o.parent;(0,te.is)(o.shape,"bpmn:Participant")&&(0,te.is)(r,"bpmn:Process")&&i(o)},!0),this.execute("shape.create",function(o){var r=o.process,s=o.shape;r&&(o.oldProcessRef=s.businessObject.processRef,s.businessObject.processRef=r.businessObject)},!0),this.revert("shape.create",function(o){o.process&&(o.shape.businessObject.processRef=o.oldProcessRef)},!0),this.postExecute("shape.create",function(o){var r=o.process,s=o.shape;if(r){var a=r.children.slice();e.moveElements(a,{x:0,y:0},s)}},!0),this.preExecute("elements.create",2e3,function(o){var a,r=o.elements,s=o.parent;iy(r)&&(0,te.is)(s,"bpmn:Process")&&(i(o),a=iy(r),o.oldProcessRef=a.businessObject.processRef,a.businessObject.processRef=s.businessObject)},!0),this.revert("elements.create",function(o){o.process&&(iy(o.elements).businessObject.processRef=o.oldProcessRef)},!0),this.postExecute("elements.create",function(o){var a,s=o.process;if(s){a=iy(o.elements);var l=s.children.slice();e.moveElements(l,{x:0,y:0},a)}},!0)}function iy(t){return(0,V.find)(t,function(n){return(0,te.is)(n,"bpmn:Participant")})}on()(HM,rn),HM.$inject=["eventBus","modeling"],on()(UM,rn),UM.$inject=["eventBus","elementFactory","bpmnRules"],on()(zM,rn),zM.$inject=["injector","modeling"],ey.$inject=["bpmnReplace","injector"],on()(ey,rn),ey.prototype.replaceShape=function(t,n){var e=function Cue(t){var e=(0,te.S)(t).eventDefinitions;return e&&e[0]}(t),i={type:"bpmn:BoundaryEvent",host:n};return e&&(i.eventDefinitionType=e.$type),this._bpmnReplace.replaceElement(t,i,{layoutConnection:!1})},qM.$inject=["eventBus","modeling"],on()(qM,rn),$M.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],on()($M,rn),WM.$inject=["injector"],on()(WM,rn),z9.$inject=["elementRegistry","eventBus","canvas"],YM.$inject=["eventBus","bpmnFactory","moddle"],on()(YM,rn),QM.$inject=["canvas","eventBus","modeling"],on()(QM,rn);var $9="__targetRef_placeholder";function JM(t,n){function i(s,a){var l=s.get("properties"),d=(0,V.find)(l,function(h){return h.name===$9});return!d&&a&&Oo(l,d=n.create("bpmn:Property",{name:$9})),d}function o(s,a){var l=i(s);!l||function e(s,a,l){var d=s.get("dataInputAssociations");return(0,V.find)(d,function(h){return h!==l&&h.targetRef===a})}(s,l,a)||Ro(s.get("properties"),l)}function r(s){var Z,a=s.context,l=a.connection,d=l.businessObject,h=l.target,w=h&&h.businessObject,P=a.newTarget,N=P&&P.businessObject,L=a.oldTarget||a.target,U=L&&L.businessObject,q=l.businessObject;U&&U!==w&&o(U,d),N&&N!==w&&o(N,d),w?(Z=i(w,!0),q.targetRef=Z):q.targetRef=null}rn.call(this,t),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],W9(r)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],W9(r))}function W9(t){return function(n){if((0,te.is)(n.context.connection,"bpmn:DataInputAssociation"))return t(n)}}function oy(t){this._bpmnUpdater=t}function ZM(t,n,e,i){function r(a){return a.children.filter(function(l){return(0,te.is)(l,"bpmn:DataStoreReference")&&!l.labelTarget})}function s(a,l){var d=a.businessObject||a;if(l=l||function o(){return e.filter(function(a){return(0,te.is)(a,"bpmn:Participant")})[0]}(),l){var h=l.businessObject||l;n.execute("dataStore.updateContainment",{dataStoreBo:d,newSemanticParent:h.processRef||h,newDiParent:h.di})}}rn.call(this,i),n.registerHandler("dataStore.updateContainment",oy),this.preExecute("shape.create",function(a){var l=a.context,d=l.shape;(0,te.is)(d,"bpmn:DataStoreReference")&&"label"!==d.type&&(l.hints||(l.hints={}),l.hints.autoResize=!1)}),this.preExecute("elements.move",function(a){var l=a.context,d=l.shapes;d.filter(function(w){return(0,te.is)(w,"bpmn:DataStoreReference")}).length&&(l.hints||(l.hints={}),l.hints.autoResize=d.filter(function(w){return!(0,te.is)(w,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(a){var d=a.context.shape,h=d.parent;(0,te.is)(d,"bpmn:DataStoreReference")&&"label"!==d.type&&(0,te.is)(h,"bpmn:Collaboration")&&s(d)}),this.postExecute("shape.move",function(a){var l=a.context,d=l.shape,h=l.oldParent,w=d.parent;if(!(0,te.is)(h,"bpmn:Collaboration")&&(0,te.is)(d,"bpmn:DataStoreReference")&&"label"!==d.type&&(0,te.is)(w,"bpmn:Collaboration")){var P=(0,te.is)(h,"bpmn:Participant")?h:function Aue(t,n){for(;t.parent;){if((0,te.is)(t.parent,n))return t.parent;t=t.parent}}(h,"bpmn:Participant");s(d,P)}}),this.postExecute("shape.delete",function(a){var d=a.context.shape,h=t.getRootElement();_i(d,["bpmn:Participant","bpmn:SubProcess"])&&(0,te.is)(h,"bpmn:Collaboration")&&r(h).filter(function(w){return function Fue(t,n){for(var e=t.businessObject||t,i=n.businessObject||n;e.$parent;){if(e.$parent===i.processRef||i)return!0;e=e.$parent}return!1}(w,d)}).forEach(function(w){s(w)})}),this.postExecute("canvas.updateRoot",function(a){var l=a.context,h=l.newRoot;r(l.oldRoot).forEach(function(P){(0,te.is)(h,"bpmn:Process")&&s(P,h)})})}function eS(t,n,e){rn.call(this,t),this.postExecuted("shape.delete",500,function(o){var r=o.context,s=r.hints,a=r.shape,l=r.oldParent;!(0,te.is)(a,"bpmn:Lane")||s&&s.nested||function i(o,r){var d,h,w,s=Gd(r),a=[],l=[];Fd(s,function(P){return P.y>o.y?l.push(P):a.push(P),P.children}),s.length&&(d=l.length&&a.length?o.height/2:o.height,a.length&&(h=e.calculateAdjustments(a,"y",d,o.y-10),e.makeSpace(h.movingShapes,h.resizingShapes,{x:0,y:d},"s")),l.length&&(w=e.calculateAdjustments(l,"y",-d,o.y+o.height+10),e.makeSpace(w.movingShapes,w.resizingShapes,{x:0,y:-d},"n")))}(a,l)})}function ry(t,n){n.invoke(rn,this),this._bpmnReplace=t;var e=this;this.postExecuted("elements.create",500,function(i){var o=i.elements;o.filter(function(r){return X9(r,r.host)}).map(function(r){return o.indexOf(r)}).forEach(function(r){i.elements[r]=e.replaceShape(o[r])})},!0),this.preExecute("elements.move",500,function(i){var o=i.shapes,r=i.newHost;o.forEach(function(s,a){var l=s.host;X9(s,function Nue(t,n){return-1!==t.indexOf(n)}(o,l)?l:r)&&(o[a]=e.replaceShape(s))})},!0)}function X9(t,n){return!Gi(t)&&(0,te.is)(t,"bpmn:BoundaryEvent")&&!n}function tS(t,n,e){function i(o,r,s){var l,d,h,P,N,L,Z,a=r.waypoints,U=o.outgoing.slice(),q=o.incoming.slice(),Q=CM(a,Z=(0,V.isNumber)(s.width)?qn(s):s);if(Q){if(l=a.slice(0,Q.index),d=a.slice(Q.index+(Q.bendpoint?1:0)),!l.length||!d.length)return;h=Q.bendpoint?a[Q.index]:Z,K9(o,l[l.length-1])||l.push(Q9(h)),K9(o,d[0])||d.unshift(Q9(h))}P=r.target,n.canConnect(r.source,o,r)&&(e.reconnectEnd(r,o,l||Z),N=r),n.canConnect(o,P,r)&&(N?L=e.connect(o,P,{type:r.type,waypoints:d}):(e.reconnectStart(r,o,d||Z),L=r));var K=[].concat(N&&(0,V.filter)(q,function(J){return J.source===N.source})||[],L&&(0,V.filter)(U,function(J){return J.target===L.target})||[]);K.length&&e.removeElements(K)}rn.call(this,t),this.preExecute("elements.move",function(o){var r=o.newParent,s=o.shapes,a=o.delta,l=s[0];if(l&&r){r&&r.waypoints&&(o.newParent=r=r.parent);var d=qn(l),h={x:d.x+a.x,y:d.y+a.y},w=(0,V.find)(r.children,function(P){return n.canInsert(s,P)&&CM(P.waypoints,h)});w&&(o.targetFlow=w,o.position=h)}},!0),this.postExecuted("elements.move",function(o){var s=o.targetFlow;s&&i(o.shapes[0],s,o.position)},!0),this.preExecute("shape.create",function(o){var r=o.parent;n.canInsert(o.shape,r)&&(o.targetFlow=r,o.parent=r.parent)},!0),this.postExecuted("shape.create",function(o){var s=o.targetFlow;s&&i(o.shape,s,o.position)},!0)}function K9(t,n){var e=n.x,i=n.y;return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function Q9(t){return(0,V.assign)({},t)}function nS(t,n){rn.call(this,t),this.preExecuted("connection.create",function(e){var i=e.context,o=i.source,r=i.target,s=r.incoming.slice();i.hints&&!1===i.hints.createElementsBehavior||(0,te.is)(o,"bpmn:EventBasedGateway")&&r.incoming.length&&s.filter(iS).forEach(function(a){n.removeConnection(a)})}),this.preExecuted("shape.replace",function(e){var i=e.context.newShape;!(0,te.is)(i,"bpmn:EventBasedGateway")||i.outgoing.filter(iS).map(function(s){return s.target}).reduce(function(s,a){var l=a.incoming.filter(iS);return s.concat(l)},[]).forEach(function(s){s.source!==i&&n.removeConnection(s)})})}function iS(t){return(0,te.is)(t,"bpmn:SequenceFlow")}function oS(t,n,e,i,o,r){function s(){var w=n.getRootElement();return(0,te.S)(w).$parent}function a(w){var N=(0,te.S)(w).categoryValueRef;if(N){var L=N.$parent;!N||(Ro(L.categoryValue,N),L&&!L.categoryValue.length&&function l(w){Ro(s().get("rootElements"),w)}(L))}}o.invoke(rn,this),this.executed("shape.delete",function(w){var N=w.context.shape;if((0,te.is)(N,"bpmn:Group")){var U=(0,te.S)(N).categoryValueRef,q=function d(){return e.filter(function(w){return(0,te.is)(w,"bpmn:Group")})}();(function h(w,P){return w.some(function(N){var L=(0,te.S)(N);return L.categoryValueRef&&L.categoryValueRef===P})})(q,U)||a(N)}}),this.reverted("shape.delete",function(w){var N=w.context.shape;if((0,te.is)(N,"bpmn:Group")){var U=(0,te.S)(N).categoryValueRef,q=s(),Z=U?U.$parent:null;Oo(Z.get("categoryValue"),U),Oo(q.get("rootElements"),Z)}}),this.execute("shape.create",function(w){var L=(0,te.S)(w.context.shape);if((0,te.is)(L,"bpmn:Group")&&!L.categoryValueRef){var q=jM(s(),t);L.categoryValueRef=q}}),this.revert("shape.create",function(w){var N=w.context.shape;(0,te.is)(N,"bpmn:Group")&&(a(N),delete(0,te.S)(N).categoryValueRef)}),i.on("moddleCopy.canCopyProperty",2e3,function(w){var N,P=w.property;if((0,te.is)(P,"bpmn:CategoryValue"))return N=jM(s(),t),r.copyElement(P,N)})}function rS(t,n,e,i){var o,a;return 0==(o=(i.y-e.y)*(n.x-t.x)-(i.x-e.x)*(n.y-t.y))?null:(a=((i.x-e.x)*(t.y-e.y)-(i.y-e.y)*(t.x-e.x))/o,{x:Math.round(t.x+a*(n.x-t.x)),y:Math.round(t.y+a*(n.y-t.y))})}function J9(t){function n(i,o,r){var h,a={x:r.x-50,y:r.y},l=rS(i,o,r,{x:r.x,y:r.y-50}),d=rS(i,o,r,a);h=l&&d?Z9(l,r)>Z9(d,r)?d:l:l||d,i.original=h}t.on("bpmnElement.added",function(i){var o=i.element;o.waypoints&&function e(i){var o=i.waypoints;n(o[0],o[1],qn(i.source)),n(o[o.length-1],o[o.length-2],qn(i.target))}(o)})}function Z9(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function sS(t){rn.call(this,t);var n=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(e){var i=(0,te.S)(e.context.shape);_i(i,n)&&!i.di.get("isHorizontal")&&i.di.set("isHorizontal",!0)})}function eN(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function tN(t){return Math.atan((t[1].y-t[0].y)/(t[1].x-t[0].x))}function nN(t,n){var e=n[0],i=n[1],o={x:i.x-e.x,y:i.y-e.y},r=function Bue(t,n,e){var i=[{n:t[0]-e[0],lambda:n[0]},{n:t[1]-e[1],lambda:n[1]}];return-(i[0].n*n[0]+i[1].n*n[1])/(i[0].lambda*n[0]+i[1].lambda*n[1])}([e.x,e.y],[o.x,o.y],[t.x,t.y]);return{x:e.x+r*o.x,y:e.y+r*o.y}}function Lue(t,n){var e=nN(t,n);return eN({x:e.x-t.x,y:e.y-t.y})}function sy(t,n){return eN({x:t.x-n.x,y:t.y-n.y})}JM.$inject=["eventBus","bpmnFactory"],on()(JM,rn),oy.$inject=["bpmnUpdater"],oy.prototype.execute=function(t){var n=t.dataStoreBo,e=t.newSemanticParent,i=t.newDiParent;t.oldSemanticParent=n.$parent,t.oldDiParent=n.di.$parent,this._bpmnUpdater.updateSemanticParent(n,e),this._bpmnUpdater.updateDiParent(n.di,i)},oy.prototype.revert=function(t){var n=t.dataStoreBo,i=t.oldDiParent;this._bpmnUpdater.updateSemanticParent(n,t.oldSemanticParent),this._bpmnUpdater.updateDiParent(n.di,i)},ZM.$inject=["canvas","commandStack","elementRegistry","eventBus"],on()(ZM,rn),eS.$inject=["eventBus","modeling","spaceTool"],on()(eS,rn),ry.$inject=["bpmnReplace","injector"],on()(ry,rn),ry.prototype.replaceShape=function(t){var n=function kue(t){var e=(0,te.S)(t).eventDefinitions;return e&&e[0]}(t);return this._bpmnReplace.replaceElement(t,n?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:n.$type}:{type:"bpmn:IntermediateThrowEvent"},{layoutConnection:!1})},on()(tS,rn),tS.$inject=["eventBus","bpmnRules","modeling"],nS.$inject=["eventBus","modeling"],on()(nS,rn),oS.$inject=["bpmnFactory","canvas","elementRegistry","eventBus","injector","moddleCopy"],on()(oS,rn),J9.$inject=["eventBus"],sS.$inject=["eventBus"],on()(sS,rn);var iN=Math.sqrt,oN=Math.min,jue=Math.max,rN=Math.abs;function sN(t){return Math.pow(t,2)}function Ig(t,n){return iN(sN(t.x-n.x)+sN(t.y-n.y))}function Vue(t,n,e,i){var o=n.x-t.x,r=n.y-t.y,s=e.x-t.x,a=e.y-t.y,l=o*o+r*r,w=(o*s+r*a)/l,N=w*w-(s*s+a*a-i*i)/l;if(N<0&&N>-1e-6&&(N=0),N<0)return[];var L=iN(N),U=-w+L,q=-w-L,Z={x:t.x-o*U,y:t.y-r*U};return 0===N?[Z]:[Z,{x:t.x-o*q,y:t.y-r*q}].filter(function(K){return function Hue(t,n,e){return aN(t.x,n.x,e.x)&&aN(t.y,n.y,e.y)}(K,t,n)})}function aN(t,n,e){return t>=oN(n,e)-ay&&t<=jue(n,e)+ay}function Uue(t,n){return{x:(t.x+n.x)/2,y:(t.y+n.y)/2}}var ay=.1;function lN(t,n){return rN(t.x-n.x)<=ay&&rN(t.y-n.y)<=ay}function cN(t,n){var e=sy(t[n-1],t[n]);return e/(e+sy(t[n],t[n+1]))}function uN(t,n){return[t[n],t[n+1]]}function kg(t,n,e){var i=Su(n),o=Su(e),r=Yl(t,i);return xu({x:o.x+r.x*(e.width/n.width),y:o.y+r.y*(e.height/n.height)})}function dN(t,n,e){var i=Su(t),o=Su(n),r=Su(e),s=Yl(t,i),a=Yl(i,o),l=function Xue(t,n,e){var i=yn(n),o=yn(e);if(function Kue(t,n){return function Que(t,n){return t.right!==n.right&&t.left!==n.left}(t,n)||function Jue(t,n){return t.top!==n.top&&t.bottom!==n.bottom}(t,n)}(i,o))return null;var s,r=Vr(n,t);if("top"===r)s={x:0,y:o.bottom-i.bottom};else if("bottom"===r)s={x:0,y:o.top-i.top};else if("right"===r)s={x:o.left-i.left,y:0};else{if("left"!==r)return null;s={x:o.right-i.right,y:0}}return Vr(e,{x:t.x+s.x,y:t.y+s.y})!==r?null:s}(i,n,e);return l||xu({x:r.x+a.x*(e.width/n.width)+s.x-t.x,y:r.y+a.y*(e.height/n.height)+s.y-t.y})}var Zue={width:90,height:20};function aS(t,n,e,i){rn.call(this,t),this.postExecute("element.updateProperties",function(r){var s=r.context,a=s.element,l=s.properties;if("name"in l&&n.updateLabel(a,l.name),"text"in l&&(0,te.is)(a,"bpmn:TextAnnotation")){var d=i.getTextAnnotationBounds({x:a.x,y:a.y,width:a.width,height:a.height},l.text||"");n.updateLabel(a,l.text,d)}}),this.postExecute(["shape.create","connection.create"],function(r){var s=r.context;if(!1!==(s.hints||{}).createElementsBehavior){var l=s.shape||s.connection,d=l.businessObject;if(!Gi(l)&&Pm(l)&&rl(l)){var h=Xv(l),w=i.getExternalLabelBounds(Zue,rl(l));n.createLabel(l,h,{id:d.id+"_label",businessObject:d,width:w.width,height:w.height})}}}),this.postExecute("shape.delete",function(r){var s=r.context,a=s.labelTarget;a&&!1!==(s.hints||{}).unsetLabel&&n.updateLabel(a,null,null,{removeShape:!1})}),this.postExecute(["label.create"],function(r){var d,a=r.context.shape;!a.labelTarget||!(0,te.is)(a.labelTarget||a,"bpmn:BaseElement")||((d=a.businessObject.di).label||(d.label=e.create("bpmndi:BPMNLabel",{bounds:e.create("dc:Bounds")})),(0,V.assign)(d.label.bounds,{x:a.x,y:a.y,width:a.width,height:a.height}))}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(r){var s=r.context;if(!1!==(s.hints||{}).labelBehavior){var h,d=s.connection.label;!d||!d.parent||(h=function o(r){var s=r.context,a=s.connection,l=a.label,d=(0,V.assign)({},s.hints),h=s.newWaypoints||a.waypoints,w=s.oldWaypoints;return void 0===d.startChanged&&(d.startChanged=!!d.connectionStart),void 0===d.endChanged&&(d.endChanged=!!d.connectionEnd),function que(t,n,e,i){var o=0,r=0,s=function $ue(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}(t),a=function Gue(t,n){var i,o,r,s,a,d,h,w,P,N,e=0;for(e=0;e<n.length-1;e++){if(lN(i=n[e],o=n[e+1])?d=[i]:(r=Ig(t,i),s=Ig(t,o),d=Vue(i,o,t,oN(r,s))),d.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===d.length&&(h={type:"bendpoint",position:d[0],segmentIndex:e,bendpointIndex:lN(i,d[0])?e:e+1}),2===d.length&&(h={type:"segment",position:a=Uue(d[0],d[1]),segmentIndex:e,relativeLocation:Ig(i,a)/Ig(i,o)}),w=Ig(h.position,t),(!N||P>w)&&(N=h,P=w)}return N}(s,e),l=a.segmentIndex,d=function zue(t,n,e,i){var o=e.segmentIndex,r=n.length-t.length;if(i.segmentMove){var a=i.segmentMove.newSegmentStartIndex;return o===i.segmentMove.segmentStartIndex?a:o>=a?o+r<a?a:o+r:o}if(i.bendpointMove){var h,l=i.bendpointMove.insert,d=i.bendpointMove.bendpointIndex;return 0===r?o:(o>=d&&(h=l?o+1:o-1),o<d&&(h=o,l&&"bendpoint"!==e.type&&d-1===o)&&cN(n,d)<e.relativeLocation&&h++,h)}return 0===r?o:i.connectionStart?0===o?0:null:i.connectionEnd&&o===t.length-2?n.length-2:null}(e,n,a,i);if(null===d)return{x:o,y:r};if(d<0||d>n.length-2)return{x:o,y:r};var h=uN(e,l),w=uN(n,d),P=a.position,N=function Yue(t,n){var e=sy(t[0],t[1]),i=sy(t[0],n);return 0===e?0:i/e}(h,P),L=function Wue(t,n){var e=tN(t);return tN(n)-e}(h,w);if("bendpoint"===a.type){var U=n.length-e.length,q=a.bendpointIndex;if(-1!==n.indexOf(e[q]))return{x:o,y:r};if(0===U){var Q=n[q];return{x:Q.x-a.position.x,y:Q.y-a.position.y}}U<0&&0!==q&&q<e.length-1&&(N=cN(e,q))}var K_x=(w[1].x-w[0].x)*N+w[0].x,K_y=(w[1].y-w[0].y)*N+w[0].y,J=function Oue(t,n){return n?{x:Math.cos(n)*t.x-Math.sin(n)*t.y,y:Math.sin(n)*t.x+Math.cos(n)*t.y}:t}({x:s.x-P.x,y:s.y-P.y},L);return xu({x:o=K_x+J.x-s.x,y:r=K_y+J.y-s.y})}(l,h,w,d)}(r),n.moveShape(d,h))}}),this.postExecute(["shape.replace"],function(r){var s=r.context,a=s.newShape,l=s.oldShape,d=(0,te.S)(a);d&&Pm(d)&&l.label&&a.label&&(a.label.x=l.label.x,a.label.y=l.label.y)}),this.postExecute("shape.resize",function(r){var s=r.context,a=s.shape,l=s.newBounds,d=s.oldBounds;if(Yv(a)){var h=a.label,w=qn(h),P=function nde(t){return[[{x:t.x,y:t.y},{x:t.x+(t.width||0),y:t.y}],[{x:t.x+(t.width||0),y:t.y},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y+(t.height||0)},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y},{x:t.x,y:t.y+(t.height||0)}]]}(d),N=function tde(t,n){if(n.length){var e=function ide(t,n){var e=n.map(function(o){return{line:o,distance:Lue(t,o)}});return(0,V.sortBy)(e,"distance")[0].line}(t,n);return nN(t,e)}}(w,P),L=function ede(t,n,e){return xu(Yl(kg(t,n,e),t))}(N,d,l);n.moveShape(h,L)}})}function fN(t,n,e){t.on(["shape.move.rejected","create.rejected"],function(o){var r=o.context,s=r.shape;(0,te.is)(r.target,"bpmn:Collaboration")&&(0,te.is)(s,"bpmn:FlowNode")&&function i(o,r,s){n.add({position:{x:o.x+5,y:o.y+5},type:"error",timeout:s||2e3,html:"<div>"+r+"</div>"})}(o,e("flow elements must be children of pools/participants"))})}function lS(t,n,e,i){rn.call(this,t);var o=i.get("dragging",!1);function r(l){var P,N,d=l.source,h=l.target;l.parent&&((0,te.is)(l,"bpmn:SequenceFlow")&&(e.canConnectSequenceFlow(d,h)||(N=!0),e.canConnectMessageFlow(d,h)&&(P="bpmn:MessageFlow")),(0,te.is)(l,"bpmn:MessageFlow")&&(e.canConnectMessageFlow(d,h)||(N=!0),e.canConnectSequenceFlow(d,h)&&(P="bpmn:SequenceFlow")),(0,te.is)(l,"bpmn:Association")&&!e.canConnectAssociation(d,h)&&(N=!0),N&&n.removeConnection(l),P&&n.connect(d,h,{type:P,waypoints:l.waypoints.slice()}))}this.postExecuted("elements.move",function(l){(0,V.forEach)(l.closure.allConnections,r)},!0),this.preExecute("connection.reconnect",function s(l){var N,L,d=l.context,h=d.connection,w=d.newSource||h.source,P=d.newTarget||h.target;(N=e.canConnect(w,P))&&N.type!==h.type&&(L=n.connect(w,P,{type:N.type,waypoints:h.waypoints.slice()}),n.removeConnection(h),d.connection=L,o&&function a(l,d){var P,h=o.context(),w=h&&h.payload.previousSelection;!w||!w.length||-1!==(P=w.indexOf(l))&&w.splice(P,1,d)}(h,L))}),this.postExecuted("element.updateProperties",function(l){var N,d=l.context,h=d.properties,w=d.element,P=w.businessObject;h.default&&(N=(0,V.find)(w.outgoing,(0,V.matchPattern)({id:w.businessObject.default.id})))&&n.updateProperties(N,{conditionExpression:void 0}),h.conditionExpression&&P.sourceRef.default===P&&n.updateProperties(w.source,{default:void 0})})}function cS(t,n){rn.call(this,t),this.preExecute("shape.delete",function(e){var i=e.shape,o=i.parent;(0,te.is)(i,"bpmn:Participant")&&(e.collaborationRoot=o)},!0),this.postExecute("shape.delete",function(e){var i=e.collaborationRoot;i&&!i.businessObject.participants.length&&n.makeProcess()},!0)}function ly(t,n,e,i,o,r){i.invoke(rn,this),this._bpmnReplace=t,this._elementRegistry=e,this._selection=r,this.postExecuted(["elements.move"],500,function(s){var a=s.context,l=a.newParent,d=a.newHost,h=[];(0,V.forEach)(a.closure.topLevel,function(P){h=ta(P)?h.concat(P.children):h.concat(P)}),1===h.length&&d&&(l=d);var w=n.canReplace(h,l);w&&this.replaceElements(h,w.replacements,d)},this),this.postExecute(["shape.replace"],1500,function(s){var w,a=s.context,h=a.oldShape.attachers;h&&h.length&&(w=n.canReplace(h,a.newShape),this.replaceElements(h,w.replacements))},this),this.postExecuted(["shape.replace"],1500,function(s){var a=s.context,l=a.oldShape,d=a.newShape;o.unclaimId(l.businessObject.id,l.businessObject),o.updateProperties(d,{id:l.id})})}on()(aS,rn),aS.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],fN.$inject=["eventBus","tooltips","translate"],on()(lS,rn),lS.$inject=["eventBus","modeling","bpmnRules","injector"],cS.$inject=["eventBus","modeling"],on()(cS,rn),on()(ly,rn),ly.prototype.replaceElements=function(t,n){var e=this._elementRegistry,i=this._bpmnReplace,o=this._selection;(0,V.forEach)(n,function(r){var s={type:r.newElementType},a=e.get(r.oldElementId),l=t.indexOf(a);t[l]=i.replaceElement(a,s,{select:!1})}),n&&o.select(t)},ly.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var cy=Math.abs,rde=Math.min,sde=Math.max;function hN(t,n,e,i){var o=t[n];t[n]=void 0===o?e:i(e,o)}function uy(t,n,e){return hN(t,n,e,rde)}function dy(t,n,e){return hN(t,n,e,sde)}var Hd_width=300,Hd_height=60,Ng={width:300,height:150},gN={width:140,height:120},_N={width:50,height:30};function vN(t){t.on("resize.start",1500,function(n){var e=n.context,i=e.shape,o=e.direction,r=e.balanced;((0,te.is)(i,"bpmn:Lane")||(0,te.is)(i,"bpmn:Participant"))&&(e.resizeConstraints=function dde(t,n,e){var i=cl(t),o=!0,r=!0,s=Ub(i,[i]),a=yn(t),l={},d={};return/e/.test(n)?d.right=a.left+Hd_width:/w/.test(n)&&(d.left=a.right-Hd_width),s.forEach(function(w){var P=yn(w);/n/.test(n)&&(P.top<a.top-10&&(o=!1),e&&cy(a.top-P.bottom)<10&&dy(l,"top",P.top+Hd_height),cy(a.top-P.top)<5&&uy(d,"top",P.bottom-Hd_height)),/s/.test(n)&&(P.bottom>a.bottom+10&&(r=!1),e&&cy(a.bottom-P.top)<10&&uy(l,"bottom",P.bottom-Hd_height),cy(a.bottom-P.bottom)<5&&dy(d,"bottom",P.top+Hd_height))}),i.children.filter(function(w){return!w.hidden&&!w.waypoints&&((0,te.is)(w,"bpmn:FlowElement")||(0,te.is)(w,"bpmn:Artifact"))}).forEach(function(w){var P=yn(w);o&&/n/.test(n)&&uy(d,"top",P.top-20),/e/.test(n)&&dy(d,"right",P.right+20),r&&/s/.test(n)&&dy(d,"bottom",P.bottom+20),/w/.test(n)&&uy(d,"left",P.left-50)}),{min:d,max:l}}(i,o,r)),(0,te.is)(i,"bpmn:Participant")&&(e.minDimensions=Ng),(0,te.is)(i,"bpmn:SubProcess")&&Bi(i)&&(e.minDimensions=gN),(0,te.is)(i,"bpmn:TextAnnotation")&&(e.minDimensions=_N)})}function yN(t,n){t.on("resize.start",1501,function(e){var i=e.context,o=i.shape;((0,te.is)(o,"bpmn:Lane")||(0,te.is)(o,"bpmn:Participant"))&&(i.balanced=!zm(e))}),t.on("resize.end",1001,function(e){var i=e.context,o=i.shape,r=i.canExecute,s=i.newBounds;if((0,te.is)(o,"bpmn:Lane")||(0,te.is)(o,"bpmn:Participant"))return r&&(s=II(s),n.resizeLane(o,s,i.balanced)),!1})}function uS(t,n,e){rn.call(this,t),this.preExecute("shape.delete",function(i){var o=i.context.shape;if(1===o.incoming.length&&1===o.outgoing.length){var r=o.incoming[0],s=o.outgoing[0];if((0,te.is)(r,"bpmn:SequenceFlow")&&(0,te.is)(s,"bpmn:SequenceFlow")&&n.canConnect(r.source,s.target,r)){var a=function mde(t,n){var e=rS(Jm(t[t.length-2]),Jm(t[t.length-1]),Jm(n[1]),Jm(n[0]));return e?[].concat(t.slice(0,t.length-1),[e],n.slice(1)):[Jm(t[0]),Jm(n[n.length-1])]}(r.waypoints,s.waypoints);e.reconnectEnd(r,s.target,a)}}})}function Jm(t){return t.original||t}vN.$inject=["eventBus"],yN.$inject=["eventBus","modeling"],on()(uS,rn),uS.$inject=["eventBus","bpmnRules","modeling"];var fde=Math.max;function wN(t){t.on("spaceTool.getMinDimensions",function(n){var i=n.axis,o=n.start,r={};return(0,V.forEach)(n.shapes,function(s){var a=s.id;(0,te.is)(s,"bpmn:Participant")&&(r[a]=function hde(t){return"x"===t}(i)?Ng:{width:Ng.width,height:gde(s,o)}),(0,te.is)(s,"bpmn:SubProcess")&&Bi(s)&&(r[a]=gN),(0,te.is)(s,"bpmn:TextAnnotation")&&(r[a]=_N)}),r})}function gde(t,n){var e;return function _de(t){return!!Gd(t).length}(t)?(e=function vde(t,n){var i;return i=xN(Gd(t),n),t.height-i.height+Hd_height}(t,n),fde(Ng.height,e)):Ng.height}function xN(t,n){var e,i,o;for(e=0;e<t.length;e++)if(n>=(i=t[e]).y&&n<=i.y+i.height)return(o=Gd(i)).length?xN(o,n):i}function dS(t,n){t.invoke(rn,this),this.postExecuted("shape.replace",function(e){var i=e.context.oldShape,o=e.context.newShape;if((0,te.is)(o,"bpmn:SubProcess")&&(0,te.is)(i,"bpmn:Task")&&Bi(o)){var r=function bde(t){return{x:t.x+t.width/6,y:t.y+t.height/2}}(o);n.createShape({type:"bpmn:StartEvent"},r,o)}})}function mS(t,n,e,i){rn.call(this,t),this.executed(["shape.toggleCollapse"],500,function(a){var d=a.context.shape;!(0,te.is)(d,"bpmn:SubProcess")||(d.collapsed?(0,te.S)(d).di.isExpanded=!1:(function o(a){a.length&&a.forEach(function(l){"label"===l.type&&!l.businessObject.name&&(l.hidden=!0)})}(d.children),(0,te.S)(d).di.isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(a){var d=a.context.shape;(0,te.S)(d).di.isExpanded=!d.collapsed}),this.postExecuted(["shape.toggleCollapse"],500,function(a){var h,l=a.context.shape,d=n._getDefaultSize(l);h=l.collapsed?function s(a,l){return{x:a.x+(a.width-l.width)/2,y:a.y+(a.height-l.height)/2,width:l.width,height:l.height}}(l,d):function r(a,l){var w,P,h=l;return w=function yde(t){return t.filter(function(n){return!n.hidden})}(a.children).concat([a]),(P=h9(w))?(h.width=Math.max(P.width,h.width),h.height=Math.max(P.height,h.height),h.x=P.x+(P.width-h.width)/2,h.y=P.y+(P.height-h.height)/2):(h.x=a.x+(a.width-h.width)/2,h.y=a.y+(a.height-h.height)/2),h}(l,d),e.resizeShape(l,h,null,{autoResize:!l.collapsed&&"nwse"})})}function fS(t,n,e,i){n.invoke(rn,this),this.preExecute("shape.delete",function(o){var s=o.context.shape,a=s.businessObject;Gi(s)||((0,te.is)(s,"bpmn:Participant")&&Bi(s)&&e.ids.unclaim(a.processRef.id),i.unclaimId(a.id,a))}),this.preExecute("connection.delete",function(o){var a=o.context.connection.businessObject;i.unclaimId(a.id,a)}),this.preExecute("canvas.updateRoot",function(){var o=t.getRootElement();e.ids.unclaim(o.businessObject.id)})}function hS(t,n,e){var i;rn.call(this,t);var a=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(a,5e3,function(l){!function o(){(i=i||new Cde).enter()}()}),this.postExecuted(a,500,function(l){!function s(){if(!i)throw new Error(e("out of bounds release"));var l=i.leave();l&&(n.updateLaneRefs(i.flowNodes,i.lanes),i=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(l){var h=l.context.shape,w=function r(){if(!i)throw new Error(e("out of bounds release"));return i}();h.labelTarget||((0,te.is)(h,"bpmn:Lane")&&w.addLane(h),(0,te.is)(h,"bpmn:FlowNode")&&w.addFlowNode(h))})}function Cde(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(t){this.lanes.push(t)},this.addFlowNode=function(t){this.flowNodes.push(t)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}function gS(t,n){rn.call(this,t),this.preExecute("connection.delete",function(e){var o=e.context.connection,r=o.source;(function Mde(t,n){if(!(0,te.is)(t,"bpmn:SequenceFlow"))return!1;var e=(0,te.S)(n),i=(0,te.S)(t);return e.get("default")===i})(o,r)&&n.updateProperties(r,{default:null})})}wN.$inject=["eventBus"],dS.$inject=["injector","modeling"],on()(dS,rn),on()(mS,rn),mS.$inject=["eventBus","elementFactory","modeling"],on()(fS,rn),fS.$inject=["canvas","injector","moddle","modeling"],hS.$inject=["eventBus","modeling","translate"],on()(hS,rn),on()(gS,rn),gS.$inject=["eventBus","modeling"];const Sde={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","rootElementReferenceBehavior","createBehavior","fixHoverBehavior","createDataObjectBehavior","createParticipantBehavior","dataStoreBehavior","dataInputAssociationBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","modelingFeedback","removeElementBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","toggleElementCollapseBehaviour","spaceToolBehavior","subProcessStartEventBehavior","unclaimIdBehavior","unsetDefaultFlowBehavior","updateFlowNodeRefsBehavior"],adaptiveLabelPositioningBehavior:["type",HM],appendBehavior:["type",UM],associationBehavior:["type",zM],attachEventBehavior:["type",ey],boundaryEventBehavior:["type",qM],rootElementReferenceBehavior:["type",$M],createBehavior:["type",WM],fixHoverBehavior:["type",z9],createDataObjectBehavior:["type",YM],createParticipantBehavior:["type",QM],dataInputAssociationBehavior:["type",JM],dataStoreBehavior:["type",ZM],deleteLaneBehavior:["type",eS],detachEventBehavior:["type",ry],dropOnFlowBehavior:["type",tS],eventBasedGatewayBehavior:["type",nS],groupBehavior:["type",oS],importDockingFix:["type",J9],isHorizontalFix:["type",sS],labelBehavior:["type",aS],modelingFeedback:["type",fN],replaceConnectionBehavior:["type",lS],removeParticipantBehavior:["type",cS],replaceElementBehaviour:["type",ly],resizeBehavior:["type",vN],resizeLaneBehavior:["type",yN],removeElementBehavior:["type",uS],toggleElementCollapseBehaviour:["type",mS],spaceToolBehavior:["type",wN],subProcessStartEventBehavior:["type",dS],unclaimIdBehavior:["type",fS],updateFlowNodeRefsBehavior:["type",hS],unsetDefaultFlowBehavior:["type",gS]};function CN(t,n){var e=Vr(t,n,-15);return"intersect"!==e?e:null}function Hr(t){Nc.call(this,t)}function _S(t){return!t||Gi(t)}function MN(t){do{if((0,te.is)(t,"bpmn:Process"))return(0,te.S)(t);if((0,te.is)(t,"bpmn:Participant"))return(0,te.S)(t).processRef||(0,te.S)(t)}while(t=t.parent)}function vS(t){return(0,te.is)(t,"bpmn:TextAnnotation")}function bS(t){return(0,te.is)(t,"bpmn:Group")&&!t.labelTarget}function yS(t){return(0,te.is)(t,"bpmn:BoundaryEvent")&&Ql(t,"bpmn:CompensateEventDefinition")}function Zm(t){return(0,te.S)(t).isForCompensation}function SN(t){for(var n=t;n=n.parent;){if((0,te.is)(n,"bpmn:FlowElementsContainer"))return(0,te.S)(n);if((0,te.is)(n,"bpmn:Participant"))return(0,te.S)(n).processRef}return null}function Ql(t,n){var e=(0,te.S)(t);return!!(0,V.find)(e.eventDefinitions||[],function(i){return(0,te.is)(i,n)})}function EN(t,n){return((0,te.S)(t).eventDefinitions||[]).every(function(i){return(0,te.is)(i,n)})}function TN(t){return(0,te.is)(t,"bpmn:ReceiveTask")||(0,te.is)(t,"bpmn:IntermediateCatchEvent")&&(Ql(t,"bpmn:MessageEventDefinition")||Ql(t,"bpmn:TimerEventDefinition")||Ql(t,"bpmn:ConditionalEventDefinition")||Ql(t,"bpmn:SignalEventDefinition"))}function wS(t){return t.waypoints}function xS(t,n){var e=function Nde(t){for(var n=[];t;)(t=t.parent)&&n.push(t);return n}(n);return-1!==e.indexOf(t)}function py(t,n,e){if(_S(t)||_S(n))return null;if(!(0,te.is)(e,"bpmn:DataAssociation")){if(RN(t,n))return{type:"bpmn:MessageFlow"};if(ON(t,n))return{type:"bpmn:SequenceFlow"}}return MS(t,n)||(yS(t)&&Zm(n)?{type:"bpmn:Association",associationDirection:"One"}:!!NN(t,n)&&{type:"bpmn:Association"})}function ef(t,n,e){return!(!Gi(t)&&!bS(t))||!((0,te.is)(n,"bpmn:Participant")&&!Bi(n))&&((0,te.is)(t,"bpmn:Participant")?(0,te.is)(n,"bpmn:Process")||(0,te.is)(n,"bpmn:Collaboration"):_i(t,["bpmn:DataInput","bpmn:DataOutput"])&&t.parent?n===t.parent:(0,te.is)(t,"bpmn:Lane")?(0,te.is)(n,"bpmn:Participant")||(0,te.is)(n,"bpmn:Lane"):!((0,te.is)(t,"bpmn:BoundaryEvent")&&!function Rde(t){return(0,te.S)(t).cancelActivity&&(PN(t)||DN(t))}(t))&&((0,te.is)(t,"bpmn:FlowElement")&&!(0,te.is)(t,"bpmn:DataStoreReference")?(0,te.is)(n,"bpmn:FlowElementsContainer")?Bi(n):_i(n,["bpmn:Participant","bpmn:Lane"]):_i(t,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?_i(n,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!(0,te.is)(t,"bpmn:MessageFlow")&&((0,te.is)(n,"bpmn:Collaboration")||t.source.parent==n||t.target.parent==n)))}function Bde(t){return(0,te.is)(t,"bpmn:Lane")}function PN(t){var n=(0,te.S)(t);return n&&!(n.eventDefinitions&&n.eventDefinitions.length)}function DN(t){return FN(t,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function FN(t,n){return n.some(function(e){return Ql(t,e)})}function Rg(t,n,e,i){if(Array.isArray(t)||(t=[t]),1!==t.length)return!1;var o=t[0];return!(Gi(o)||!function Lde(t){return!!(function Ode(t){return!Gi(t)&&(0,te.is)(t,"bpmn:BoundaryEvent")}(t)||(0,te.is)(t,"bpmn:IntermediateThrowEvent")&&PN(t))||(0,te.is)(t,"bpmn:IntermediateCatchEvent")&&DN(t)}(o)||ta(n)||!(0,te.is)(n,"bpmn:Activity")||Zm(n)||i&&!CN(i,n)||function jde(t){return(0,te.is)(t,"bpmn:ReceiveTask")&&(0,V.find)(t.incoming,function(n){return(0,te.is)(n.source,"bpmn:EventBasedGateway")})}(n))&&"attach"}function AN(t,n,e){if(!n)return!1;var i={replacements:[]};return(0,V.forEach)(t,function(o){ta(n)||(0,te.is)(o,"bpmn:StartEvent")&&"label"!==o.type&&ef(o,n)&&(function sse(t){return t&&!1!==(0,te.S)(t).isInterrupting}(o)||i.replacements.push({oldElementId:o.id,newElementType:"bpmn:StartEvent"}),(function ase(t){return pb(t,"bpmn:ErrorEventDefinition")}(o)||function lse(t){return pb(t,"bpmn:EscalationEventDefinition")}(o)||function cse(t){return pb(t,"bpmn:CompensateEventDefinition")}(o))&&i.replacements.push({oldElementId:o.id,newElementType:"bpmn:StartEvent"}),FN(o,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&(0,te.is)(n,"bpmn:SubProcess")&&i.replacements.push({oldElementId:o.id,newElementType:"bpmn:StartEvent"})),(0,te.is)(n,"bpmn:Transaction")||Ql(o,"bpmn:CancelEventDefinition")&&"label"!==o.type&&((0,te.is)(o,"bpmn:EndEvent")&&ef(o,n)&&i.replacements.push({oldElementId:o.id,newElementType:"bpmn:EndEvent"}),(0,te.is)(o,"bpmn:BoundaryEvent")&&Rg(o,n,0,e)&&i.replacements.push({oldElementId:o.id,newElementType:"bpmn:BoundaryEvent"}))}),!!i.replacements.length&&i}function IN(t,n){return!(0,V.some)(t,Bde)&&(!n||t.every(function(e){return ef(e,n)}))}function CS(t,n,e,i){return!!n&&(!(!Gi(t)&&!bS(t))||!(function Tde(t,n){return t===n}(e,n)||e&&xS(e,n))&&(ef(t,n)||SS(t,n)))}function kN(t,n){return(0,te.is)(t,"bpmn:SubProcess")?Bi(t)&&(!n||n.width>=100&&n.height>=80):(0,te.is)(t,"bpmn:Lane")?!n||n.width>=130&&n.height>=60:(0,te.is)(t,"bpmn:Participant")?!n||n.width>=250&&n.height>=50:!(!vS(t)&&!bS(t))}function NN(t,n){return!(wS(t)||wS(n)||(!yS(t)||!Zm(n))&&(xS(n,t)||xS(t,n)||!function Gde(t,n){var e=vS(t),i=vS(n);return(e||i)&&e!==i}(t,n)&&!MS(t,n)))}function RN(t,n){return!(LN(t)&&!LN(n))&&function Dde(t){return(0,te.is)(t,"bpmn:InteractionNode")&&!(0,te.is)(t,"bpmn:BoundaryEvent")&&(!(0,te.is)(t,"bpmn:Event")||(0,te.is)(t,"bpmn:ThrowEvent")&&EN(t,"bpmn:MessageEventDefinition"))}(t)&&function Fde(t){return(0,te.is)(t,"bpmn:InteractionNode")&&!Zm(t)&&(!(0,te.is)(t,"bpmn:Event")||(0,te.is)(t,"bpmn:CatchEvent")&&EN(t,"bpmn:MessageEventDefinition"))&&!((0,te.is)(t,"bpmn:BoundaryEvent")&&!Ql(t,"bpmn:MessageEventDefinition"))}(n)&&!function Pde(t,n){return MN(t)===MN(n)}(t,n)}function ON(t,n){return!(TN(n)&&n.incoming.length>0&&function Ude(t){return(t=t||[]).some(Hde)}(n.incoming)&&!(0,te.is)(t,"bpmn:EventBasedGateway"))&&function Ide(t){return(0,te.is)(t,"bpmn:FlowNode")&&!(0,te.is)(t,"bpmn:EndEvent")&&!ta(t)&&!((0,te.is)(t,"bpmn:IntermediateThrowEvent")&&Ql(t,"bpmn:LinkEventDefinition"))&&!yS(t)&&!Zm(t)}(t)&&function kde(t){return(0,te.is)(t,"bpmn:FlowNode")&&!(0,te.is)(t,"bpmn:StartEvent")&&!(0,te.is)(t,"bpmn:BoundaryEvent")&&!ta(t)&&!((0,te.is)(t,"bpmn:IntermediateCatchEvent")&&Ql(t,"bpmn:LinkEventDefinition"))&&!Zm(t)}(n)&&function Ade(t,n){return SN(t)===SN(n)}(t,n)&&!((0,te.is)(t,"bpmn:EventBasedGateway")&&!TN(n))}function MS(t,n){return _i(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&_i(n,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!_i(n,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!_i(t,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function SS(t,n,e){if(!n)return!1;if(Array.isArray(t)){if(1!==t.length)return!1;t=t[0]}return n.source!==t&&n.target!==t&&_i(n,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Gi(n)&&(0,te.is)(t,"bpmn:FlowNode")&&!(0,te.is)(t,"bpmn:BoundaryEvent")&&ef(t,n.parent)}function BN(t,n){return!!Gi(n)||!((0,te.is)(n,"bpmn:Lane")&&!function Vde(t,n){return t&&n&&-1!==t.indexOf(n)}(t,n.parent))}function Hde(t){if(t&&t.source)return(0,te.is)(t.source,"bpmn:EventBasedGateway")}function LN(t){return Mb(t,"bpmn:Process")||Mb(t,"bpmn:Collaboration")}on()(Hr,Nc),Hr.$inject=["eventBus"],Hr.prototype.init=function(){this.addRule("connection.start",function(t){return function Ede(t){return _S(t)?null:_i(t,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group"])}(t.source)}),this.addRule("connection.create",function(t){var n=t.source,e=t.target,i=t.hints||{},o=i.targetParent;if(i.targetAttach)return!1;o&&(e.parent=o);try{return py(n,e)}finally{o&&(e.parent=null)}}),this.addRule("connection.reconnect",function(t){return py(t.source,t.target,t.connection)}),this.addRule("connection.updateWaypoints",function(t){return{type:t.connection.type}}),this.addRule("shape.resize",function(t){return kN(t.shape,t.newBounds)}),this.addRule("elements.create",function(t){var e=t.position,i=t.target;return(0,V.every)(t.elements,function(o){return wS(o)?py(o.source,o.target,o):o.host?Rg(o,o.host,0,e):CS(o,i,null)})}),this.addRule("elements.move",function(t){var n=t.target,e=t.shapes,i=t.position;return Rg(e,n,0,i)||AN(e,n,i)||IN(e,n)||SS(e,n)}),this.addRule("shape.create",function(t){return CS(t.shape,t.target,t.source)}),this.addRule("shape.attach",function(t){return Rg(t.shape,t.target,0,t.position)}),this.addRule("element.copy",function(t){return BN(t.elements,t.element)})},Hr.prototype.canConnectMessageFlow=RN,Hr.prototype.canConnectSequenceFlow=ON,Hr.prototype.canConnectDataAssociation=MS,Hr.prototype.canConnectAssociation=NN,Hr.prototype.canMove=IN,Hr.prototype.canAttach=Rg,Hr.prototype.canReplace=AN,Hr.prototype.canDrop=ef,Hr.prototype.canInsert=SS,Hr.prototype.canCreate=CS,Hr.prototype.canConnect=py,Hr.prototype.canResize=kN,Hr.prototype.canCopy=BN;const zde={__depends__:[Kl],__init__:["bpmnRules"],bpmnRules:["type",Hr]};function jN(t,n){t.on("saveXML.start",2e3,function e(){var r,s,i=n.getRootElement(),o=(0,te.S)(i).di;r=zC([i],!1),r=(0,V.filter)(r,function(a){return a!==i&&!a.labelTarget}),s=(0,V.map)(r,vg),o.set("planeElement",s)})}jN.$inject=["eventBus","canvas"];const $de={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",jN]};function my(t){rn.call(this,t);var n=this;this.preExecute(["shape.create","connection.create"],function(e){var i=e.context,s=n.getOrdering(i.shape||i.connection,i.parent);s&&(void 0!==s.parent&&(i.parent=s.parent),i.parentIndex=s.index)}),this.preExecute(["shape.move","connection.move"],function(e){var i=e.context,o=i.shape||i.connection,s=n.getOrdering(o,i.newParent||o.parent);s&&(void 0!==s.parent&&(i.newParent=s.parent),i.newParentIndex=s.index)})}function ES(t,n,e){my.call(this,t);var i=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:3,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:Process"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:Process"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function r(a){var l=a.order;return l||(a.order=l=function o(a){if(a.labelTarget)return{level:10};var l=(0,V.find)(i,function(d){return _i(a,[d.type])});return l&&l.order||{level:1}}(a)),l}this.getOrdering=function(a,l){if(a.labelTarget)return{parent:n.getRootElement(),index:-1};var d=r(a);d.containers&&(l=function s(a,l,d){for(var h=l;h&&!_i(h,d);)h=h.parent;if(!h)throw new Error(e("no parent for {element} in {parent}",{element:a.id,parent:l.id}));return h}(a,l,d.containers));var h=l.children.indexOf(a),w=(0,V.findIndex)(l.children,function(P){return!(!a.labelTarget&&P.labelTarget)&&d.level<r(P).level});return-1!==w&&-1!==h&&h<w&&(w-=1),{index:w,parent:l}}}my.prototype.getOrdering=function(t,n){return null},on()(my,rn),ES.$inject=["eventBus","canvas","translate"],on()(ES,my);const Wde={__depends__:[hb],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",ES]};function ao(t,n){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=n,this._eventBus=t,this._uid=1,t.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}ao.$inject=["eventBus","injector"],ao.prototype.execute=function(t,n){if(!t)throw new Error("command required");var e={command:t,context:n};this._pushAction(e),this._internalExecute(e),this._popAction(e)},ao.prototype.canExecute=function(t,n){var e={command:t,context:n},i=this._getHandler(t),o=this._fire(t,"canExecute",e);if(void 0===o){if(!i)return!1;i.canExecute&&(o=i.canExecute(n))}return o},ao.prototype.clear=function(t){this._stack.length=0,this._stackIdx=-1,!1!==t&&this._fire("changed")},ao.prototype.undo=function(){var n,t=this._getUndoAction();if(t){for(this._pushAction(t);t&&(this._internalUndo(t),(n=this._getUndoAction())&&n.id===t.id);)t=n;this._popAction()}},ao.prototype.redo=function(){var n,t=this._getRedoAction();if(t){for(this._pushAction(t);t&&(this._internalExecute(t,!0),(n=this._getRedoAction())&&n.id===t.id);)t=n;this._popAction()}},ao.prototype.register=function(t,n){this._setHandler(t,n)},ao.prototype.registerHandler=function(t,n){if(!t||!n)throw new Error("command and handlerCls must be defined");var e=this._injector.instantiate(n);this.register(t,e)},ao.prototype.canUndo=function(){return!!this._getUndoAction()},ao.prototype.canRedo=function(){return!!this._getRedoAction()},ao.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},ao.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},ao.prototype._internalUndo=function(t){var n=this,e=t.command,i=t.context,o=this._getHandler(e);this._atomicDo(function(){n._fire(e,"revert",t),o.revert&&n._markDirty(o.revert(i)),n._revertedAction(t),n._fire(e,"reverted",t)})},ao.prototype._fire=function(t,n,e){arguments.length<3&&(e=n,n=null);var o,r,s,i=n?[t+"."+n,n]:[t];for(e=this._eventBus.createEvent(e),o=0;(r=i[o])&&(s=this._eventBus.fire("commandStack."+r,e),!e.cancelBubble);o++);return s},ao.prototype._createId=function(){return this._uid++},ao.prototype._atomicDo=function(t){var n=this._currentExecution;n.atomic=!0;try{t()}finally{n.atomic=!1}},ao.prototype._internalExecute=function(t,n){var e=this,i=t.command,o=t.context,r=this._getHandler(i);if(!r)throw new Error("no command handler registered for <"+i+">");this._pushAction(t),n||(this._fire(i,"preExecute",t),r.preExecute&&r.preExecute(o),this._fire(i,"preExecuted",t)),this._atomicDo(function(){e._fire(i,"execute",t),r.execute&&e._markDirty(r.execute(o)),e._executedAction(t,n),e._fire(i,"executed",t)}),n||(this._fire(i,"postExecute",t),r.postExecute&&r.postExecute(o),this._fire(i,"postExecuted",t)),this._popAction(t)},ao.prototype._pushAction=function(t){var n=this._currentExecution,e=n.actions,i=e[0];if(n.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+t.command+")");t.id||(t.id=i&&i.id||this._createId()),e.push(t)},ao.prototype._popAction=function(){var t=this._currentExecution,n=t.actions,e=t.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:(0,V.uniqueBy)("id",e.reverse())}),e.length=0,this._fire("changed"))},ao.prototype._markDirty=function(t){var n=this._currentExecution;!t||(t=(0,V.isArray)(t)?t:[t],n.dirty=n.dirty.concat(t))},ao.prototype._executedAction=function(t,n){var e=++this._stackIdx;n||this._stack.splice(e,this._stack.length,t)},ao.prototype._revertedAction=function(t){this._stackIdx--},ao.prototype._getHandler=function(t){return this._handlerMap[t]},ao.prototype._setHandler=function(t,n){if(!t||!n)throw new Error("command and handler required");if(this._handlerMap[t])throw new Error("overriding handler for command <"+t+">");this._handlerMap[t]=n};const Yde={commandStack:["type",ao]};var Xde=new lM("tt");function TS(t,n){t.style.display=!1===n?"none":""}var GN="djs-tooltip",PS="."+GN;function ws(t,n){this._eventBus=t,this._canvas=n,this._ids=Xde,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=function Kde(t){var n=$n('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />');return t.insertBefore(n,t.firstChild),n}(n.getContainer());var e=this;Zs_bind(this._tooltipRoot,PS,"mousedown",function(i){i.stopPropagation()}),Zs_bind(this._tooltipRoot,PS,"mouseover",function(i){e.trigger("mouseover",i)}),Zs_bind(this._tooltipRoot,PS,"mouseout",function(i){e.trigger("mouseout",i)}),this._init()}ws.$inject=["eventBus","canvas"],ws.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var n=this._ids.next();return t=(0,V.assign)({},this._tooltipDefaults,t,{id:n}),this._addTooltip(t),t.timeout&&this.setTimeout(t),n},ws.prototype.trigger=function(t,n){var i=this.get(Js(n.delegateTarget||n.target,"data-tooltip-id"));!i||("mouseover"===t&&i.timeout&&this.clearTimeout(i),"mouseout"===t&&i.timeout&&(i.timeout=1e3,this.setTimeout(i)))},ws.prototype.get=function(t){return"string"!=typeof t&&(t=t.id),this._tooltips[t]},ws.prototype.clearTimeout=function(t){if(t=this.get(t)){var n=t.removeTimer;n&&(clearTimeout(n),t.removeTimer=null)}},ws.prototype.setTimeout=function(t){if(t=this.get(t)){this.clearTimeout(t);var n=this;t.removeTimer=setTimeout(function(){n.remove(t)},t.timeout)}},ws.prototype.remove=function(t){var n=this.get(t);n&&(ql(n.html),ql(n.htmlContainer),delete n.htmlContainer,delete this._tooltips[n.id])},ws.prototype.show=function(){TS(this._tooltipRoot)},ws.prototype.hide=function(){TS(this._tooltipRoot,!1)},ws.prototype._updateRoot=function(t){var n=t.scale||1,e=t.scale||1,i="matrix("+n+",0,0,"+e+","+-1*t.x*n+","+-1*t.y*e+")";this._tooltipRoot.style.transform=i,this._tooltipRoot.style["-ms-transform"]=i},ws.prototype._addTooltip=function(t){var i,n=t.id,e=t.html,o=this._tooltipRoot;e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),(0,V.isString)(e)&&(e=$n(e)),(i=$n('<div data-tooltip-id="'+n+'" class="'+GN+'" style="position: absolute">')).appendChild(e),t.type&&Ar(i).add("djs-tooltip-"+t.type),t.className&&Ar(i).add(t.className),t.htmlContainer=i,o.appendChild(i),this._tooltips[n]=t,this._updateTooltip(t)},ws.prototype._updateTooltip=function(t){var n=t.position;!function Qde(t,n,e){(0,V.assign)(t.style,{left:n+"px",top:e+"px"})}(t.htmlContainer,n.x,n.y)},ws.prototype._updateTooltipVisibilty=function(t){(0,V.forEach)(this._tooltips,function(n){var e=n.show,o=!0;e&&((e.minZoom>t.scale||e.maxZoom<t.scale)&&(o=!1),TS(n.htmlContainer,o))})},ws.prototype._init=function(){var t=this;this._eventBus.on("canvas.viewbox.changing",function(e){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(e){!function n(e){t._updateRoot(e),t._updateTooltipVisibilty(e),t.show()}(e.viewbox)})};const Jde={__init__:["tooltips"],tooltips:["type",ws]};function tf(t,n){if("function"!=typeof n)throw new Error("removeFn iterator must be a function");if(t){for(var e;e=t[0];)n(e);return t}}function DS(t,n,e){rn.call(this,n);var i=t.get("movePreview",!1);n.on("shape.move.start",1400,function(o){var r=o.context,a=r.validatedShapes;r.shapes=HN(r.shapes),r.validatedShapes=HN(a)}),i&&n.on("shape.move.start",250,function(o){var r=o.context,a=[];(0,V.forEach)(r.shapes,function(l){(0,V.forEach)(l.labels,function(d){!d.hidden&&-1===r.shapes.indexOf(d)&&a.push(d),l.labelTarget&&a.push(l)})}),(0,V.forEach)(a,function(l){i.makeDraggable(r,l,!0)})}),this.preExecuted("elements.move",1400,function(o){var s=o.context.closure,a=s.enclosedElements,l=[];(0,V.forEach)(a,function(d){(0,V.forEach)(d.labels,function(h){a[h.id]||l.push(h)})}),s.addAll(l)}),this.preExecute(["connection.delete","shape.delete"],function(o){var r=o.context;tf((r.connection||r.shape).labels,function(a){e.removeShape(a,{nested:!0})})}),this.execute("shape.delete",function(o){var r=o.context,s=r.shape,a=s.labelTarget;a&&(r.labelTargetIndex=qC(a.labels,s),r.labelTarget=a,s.labelTarget=null)}),this.revert("shape.delete",function(o){var r=o.context,s=r.shape,a=r.labelTarget;a&&(Oo(a.labels,s,r.labelTargetIndex),s.labelTarget=a)})}function HN(t){return(0,V.filter)(t,function(n){return-1===t.indexOf(n.labelTarget)})}on()(DS,rn),DS.$inject=["injector","eventBus","modeling"];const epe={__init__:["labelSupport"],labelSupport:["type",DS]};var zN="attach-ok";function FS(t,n,e,i,o){rn.call(this,n);var r=t.get("movePreview",!1);n.on("shape.move.start",1401,function(s){var a=s.context,d=a.validatedShapes;a.shapes=function npe(t){var n=AS(t);return(0,V.unionBy)("id",t,n)}(a.shapes),a.validatedShapes=function ipe(t){var n=(0,V.groupBy)(t,"id");return(0,V.filter)(t,function(e){for(;e;){if(e.host&&n[e.host.id])return!1;e=e.parent}return!0})}(d)}),r&&n.on("shape.move.start",251,function(s){var a=s.context,d=AS(a.shapes);(0,V.forEach)(d,function(h){r.makeDraggable(a,h,!0),(0,V.forEach)(h.labels,function(w){r.makeDraggable(a,w,!0)})})}),r&&n.on("shape.move.start",function(s){var l=s.context.shapes;if(1===l.length){var h=l[0].host;h&&(e.addMarker(h,zN),n.once(["shape.move.out","shape.move.cleanup"],function(){e.removeMarker(h,zN)}))}}),this.preExecuted("elements.move",1401,function(s){var a=s.context,l=a.closure,h=AS(a.shapes);(0,V.forEach)(h,function(w){l.add(w,l.topLevel[w.host.id])})}),this.postExecuted("elements.move",function(s){var h,a=s.context,l=a.shapes,d=a.newHost;d&&1!==l.length||(h=d?l:(0,V.filter)(l,function(w){var P=w.host;return function ope(t){return!!t.host}(w)&&!function rpe(t,n){return-1!==t.indexOf(n)}(l,P)}),(0,V.forEach)(h,function(w){o.updateAttachment(w,d)}))}),this.postExecuted("elements.move",function(s){(0,V.forEach)(s.context.shapes,function(l){(0,V.forEach)(l.attachers,function(d){(0,V.forEach)(d.outgoing.slice(),function(h){i.allowed("connection.reconnect",{connection:h,source:h.source,target:h.target})||o.removeConnection(h)}),(0,V.forEach)(d.incoming.slice(),function(h){i.allowed("connection.reconnect",{connection:h,source:h.source,target:h.target})||o.removeConnection(h)})})})}),this.postExecute("shape.create",function(s){var a=s.context,d=a.host;d&&o.updateAttachment(a.shape,d)}),this.postExecute("shape.replace",function(s){var a=s.context,l=a.oldShape,d=a.newShape;tf(l.attachers,function(h){"attach"===i.allowed("elements.move",{target:d,shapes:[h]})?o.updateAttachment(h,d):o.removeShape(h)}),d.attachers.length&&(0,V.forEach)(d.attachers,function(h){var w=dN(h,l,d);o.moveShape(h,w,h.parent)})}),this.postExecute("shape.resize",function(s){var a=s.context,d=a.oldBounds,h=a.newBounds;!1!==(a.hints||{}).attachSupport&&(0,V.forEach)(a.shape.attachers,function(N){var L=dN(N,d,h);o.moveShape(N,L,N.parent),(0,V.forEach)(N.labels,function(U){o.moveShape(U,L,U.parent)})})}),this.preExecute("shape.delete",function(s){var a=s.context.shape;tf(a.attachers,function(l){o.removeShape(l)}),a.host&&o.updateAttachment(a,null)})}function AS(t){return(0,V.flatten)((0,V.map)(t,function(n){return n.attachers||[]}))}on()(FS,rn),FS.$inject=["injector","eventBus","canvas","rules","modeling"];const spe={__depends__:[Kl],__init__:["attachSupport"],attachSupport:["type",FS]};function Ud(t,n){this._eventBus=t,this._dragging=n,this._tools=[],this._active=null}Ud.$inject=["eventBus","dragging"],Ud.prototype.registerTool=function(t,n){var e=this._tools;if(!n)throw new Error('A tool has to be registered with it\'s "events"');e.push(t),this.bindEvents(t,n)},Ud.prototype.isActive=function(t){return t&&this._active===t},Ud.prototype.length=function(t){return this._tools.length},Ud.prototype.setActive=function(t){var n=this._eventBus;this._active!==t&&(this._active=t,n.fire("tool-manager.update",{tool:t}))},Ud.prototype.bindEvents=function(t,n){var e=this._eventBus,i=this._dragging,o=[];e.on(n.tool+".init",function(r){if(!r.context.reactivate&&this.isActive(t))return this.setActive(null),void i.cancel();this.setActive(t)},this),(0,V.forEach)(n,function(r){o.push(r+".ended"),o.push(r+".canceled")}),e.on(o,250,function(r){var s=r.originalEvent;!this._active||s&&Im(s.target,'.group[data-group="tools"]')||this.setActive(null)},this)};const fy={__depends__:[Rc],__init__:["toolManager"],toolManager:["type",Ud]};function Og(t,n){return-1!==t.indexOf(n)}var IS=Math.abs,dpe=Math.round,Lc={x:"width",y:"height"},qN="crosshair",hy={n:"top",w:"left",s:"bottom",e:"right"},$N={n:"s",w:"e",s:"n",e:"w"};function jc(t,n,e,i,o,r){this._canvas=t,this._dragging=n,this._eventBus=e,this._modeling=i,this._rules=o,this._toolManager=r;var s=this;r.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),e.on("spaceTool.selection.end",function(a){e.once("spaceTool.selection.ended",function(){s.activateMakeSpace(a.originalEvent)})}),e.on("spaceTool.move",1500,function(a){var l=a.context,d=l.initialized;d||(d=l.initialized=s.init(a,l)),d&&YN(a)}),e.on("spaceTool.end",function(a){var l=a.context,d=l.axis,h=l.direction,w=l.movingShapes,P=l.resizingShapes,N=l.start;if(l.initialized){YN(a);var L={x:0,y:0};L[d]=dpe(a["d"+d]),s.makeSpace(w,P,L,h,N),e.once("spaceTool.ended",function(U){s.activateSelection(U.originalEvent,!0,!0)})}})}function WN(t){return{top:t.top-20,right:t.right+20,bottom:t.bottom+20,left:t.left-20}}function YN(t){var i,o,e=t.context.spaceToolConstraints;e&&((0,V.isNumber)(e.left)&&(i=Math.max(t.x,e.left),t.dx=t.dx+i-t.x,t.x=i),(0,V.isNumber)(e.right)&&(i=Math.min(t.x,e.right),t.dx=t.dx+i-t.x,t.x=i),(0,V.isNumber)(e.top)&&(o=Math.max(t.y,e.top),t.dy=t.dy+o-t.y,t.y=o),(0,V.isNumber)(e.bottom)&&(o=Math.min(t.y,e.bottom),t.dy=t.dy+o-t.y,t.y=o))}function kS(t,n){return-1!==t.indexOf(n)}function NS(t){return!!t.waypoints}function XN(t){return!!t.labelTarget}jc.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager"],jc.prototype.activateSelection=function(t,n,e){this._dragging.init(t,"spaceTool.selection",{autoActivate:n,cursor:qN,data:{context:{reactivate:e}},trapClick:!1})},jc.prototype.activateMakeSpace=function(t){this._dragging.init(t,"spaceTool",{autoActivate:!0,cursor:qN,data:{context:{}}})},jc.prototype.makeSpace=function(t,n,e,i,o){return this._modeling.createSpace(t,n,e,i,o)},jc.prototype.init=function(t,n){var e=IS(t.dx)>IS(t.dy)?"x":"y",i=t["d"+e],o=t[e]-i;if(IS(i)<5)return!1;i<0&&(i*=-1),zm(t)&&(i*=-1);var r=function lpe(t,n){if("x"===t){if(n>0)return"e";if(n<0)return"w"}if("y"===t){if(n>0)return"s";if(n<0)return"n"}return null}(e,i),a=zC(this._canvas.getRootElement(),!0),l=this.calculateAdjustments(a,e,i,o),h=function mpe(t,n,e,i,o){var r=t.movingShapes,s=t.resizingShapes;if(s.length){var l,d,a={};return(0,V.forEach)(s,function(h){var L,U,q,w=yn(h),P=(0,V.filter)(h.children,function(Q){return!(NS(Q)||XN(Q)||kS(r,Q)||kS(s,Q))}),N=(0,V.filter)(h.children,function(Q){return!NS(Q)&&!XN(Q)&&kS(r,Q)});P.length&&(U=WN(yn(yr(P))),L=i-w[hy[e]]+U[hy[e]],"n"===e?a.bottom=d=(0,V.isNumber)(d)?Math.min(d,L):L:"w"===e?a.right=d=(0,V.isNumber)(d)?Math.min(d,L):L:"s"===e?a.top=l=(0,V.isNumber)(l)?Math.max(l,L):L:"e"===e&&(a.left=l=(0,V.isNumber)(l)?Math.max(l,L):L)),N.length&&(q=WN(yn(yr(N))),L=i-q[hy[$N[e]]]+w[hy[$N[e]]],"n"===e?a.bottom=d=(0,V.isNumber)(d)?Math.min(d,L):L:"w"===e?a.right=d=(0,V.isNumber)(d)?Math.min(d,L):L:"s"===e?a.top=l=(0,V.isNumber)(l)?Math.max(l,L):L:"e"===e&&(a.left=l=(0,V.isNumber)(l)?Math.max(l,L):L));var Z=o&&o[h.id];Z&&("n"===e?(L=i+h[Lc[n]]-Z[Lc[n]],a.bottom=d=(0,V.isNumber)(d)?Math.min(d,L):L):"w"===e?(L=i+h[Lc[n]]-Z[Lc[n]],a.right=d=(0,V.isNumber)(d)?Math.min(d,L):L):"s"===e?(L=i-h[Lc[n]]+Z[Lc[n]],a.top=l=(0,V.isNumber)(l)?Math.max(l,L):L):"e"===e&&(L=i-h[Lc[n]]+Z[Lc[n]],a.left=l=(0,V.isNumber)(l)?Math.max(l,L):L))}),a}}(l,e,r,o,this._eventBus.fire("spaceTool.getMinDimensions",{axis:e,direction:r,shapes:l.resizingShapes,start:o}));return(0,V.assign)(n,l,{axis:e,direction:r,spaceToolConstraints:h,start:o}),xb("resize-"+("x"===e?"ew":"ns")),!0},jc.prototype.calculateAdjustments=function(t,n,e,i){var o=this._rules,r=[],s=[];return(0,V.forEach)(t,function(a){if(a.parent&&!NS(a)){var l=a[n],d=l+a[Lc[n]];if(e>0&&l>i||e<0&&d<i)return r.push(a);if(l<i&&d>i&&o.allowed("shape.resize",{shape:a}))return s.push(a)}}),{movingShapes:r,resizingShapes:s}},jc.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},jc.prototype.isActive=function(){var t=this._dragging.context();return t&&/^spaceTool/.test(t.prefix)};var RS="djs-dragging",KN="djs-resizing",_y=Math.max;function QN(t,n,e,i,o){function r(s,a){(0,V.forEach)(s,function(l){o.addDragger(l,a),e.addMarker(l,RS)})}t.on("spaceTool.selection.start",function(s){var a=e.getLayer("space"),l=s.context,h=_n("g");At(h,i.cls("djs-crosshair-group",["no-events"])),Cn(a,h);var w=_n("path");At(w,"d","M 0,-10000 L 0,10000"),hi(w).add("djs-crosshair"),Cn(h,w);var P=_n("path");At(P,"d","M -10000,0 L 10000,0"),hi(P).add("djs-crosshair"),Cn(h,P),l.crosshairGroup=h}),t.on("spaceTool.selection.move",function(s){Os(s.context.crosshairGroup,s.x,s.y)}),t.on("spaceTool.selection.cleanup",function(s){var l=s.context.crosshairGroup;l&&To(l)}),t.on("spaceTool.move",250,function(s){var a=s.context,l=a.line,d=a.axis,h=a.movingShapes,w=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var P=e.getLayer("space");At(l=_n("path"),"d","M0,0 L0,0"),hi(l).add("djs-crosshair"),Cn(P,l),a.line=l;var N=_n("g");At(N,i.cls("djs-drag-group",["no-events"])),Cn(e.getDefaultLayer(),N),r(h,N);var L=a.movingConnections=n.filter(function(J){var ae=!1;(0,V.forEach)(h,function(Xe){(0,V.forEach)(Xe.outgoing,function(st){J===st&&(ae=!0)})});var we=!1;(0,V.forEach)(h,function(Xe){(0,V.forEach)(Xe.incoming,function(st){J===st&&(we=!0)})});var _e=!1;(0,V.forEach)(w,function(Xe){(0,V.forEach)(Xe.outgoing,function(st){J===st&&(_e=!0)})});var qe=!1;return(0,V.forEach)(w,function(Xe){(0,V.forEach)(Xe.incoming,function(st){J===st&&(qe=!0)})}),function hpe(t){return t.waypoints}(J)&&(ae||_e)&&(we||qe)});r(L,N),a.dragGroup=N}if(!a.frameGroup){var U=_n("g");At(U,i.cls("djs-frame-group",["no-events"])),Cn(e.getDefaultLayer(),U);var q=[];(0,V.forEach)(w,function(J){var ae=o.addFrame(J,U),we=ae.getBBox();q.push({element:ae,initialBounds:we}),e.addMarker(J,KN)}),a.frameGroup=U,a.frames=q}At(l,{d:{x:"M"+s.x+", -10000 L"+s.x+", 10000",y:"M -10000, "+s.y+" L 10000, "+s.y}[d]});var K={x:s.dx,y:s.dy};K[{x:"y",y:"x"}[a.axis]]=0,Os(a.dragGroup,K.x,K.y),(0,V.forEach)(a.frames,function(J){var _e,qe,ae=J.element,we=J.initialBounds;At(ae,"e"===a.direction?{width:_y(we.width+K.x,5)}:{width:_e=_y(we.width-K.x,5),x:we.x+we.width-_e}),At(ae,"s"===a.direction?{height:_y(we.height+K.y,5)}:{height:qe=_y(we.height-K.y,5),y:we.y+we.height-qe})})}}),t.on("spaceTool.cleanup",function(s){var a=s.context,d=a.movingConnections,h=a.resizingShapes,w=a.line,P=a.dragGroup,N=a.frameGroup;(0,V.forEach)(a.movingShapes,function(L){e.removeMarker(L,RS)}),(0,V.forEach)(d,function(L){e.removeMarker(L,RS)}),P&&(To(w),To(P)),(0,V.forEach)(h,function(L){e.removeMarker(L,KN)}),N&&To(N)})}QN.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const JN={__init__:["spaceToolPreview"],__depends__:[Rc,Kl,fy,Mg],spaceTool:["type",jc],spaceToolPreview:["type",QN]};function Ia(t){this._model=t}function Ls(t,n,e,i){rn.call(this,t),this._bpmnFactory=n,this._translate=i;var o=this;function l(N){(0,V.forEach)(N.context.oldRoot.children,function(Z){(0,te.is)(Z,"bpmn:BaseElement")&&o.updateParent(Z)})}function d(N){var L=N.context.shape;!(0,te.is)(L,"bpmn:BaseElement")||o.updateBounds(L)}function h(N){o.updateConnection(N.context)}function w(N){o.updateConnectionWaypoints(N.context.connection)}function P(N){o.updateAttachment(N.context)}this.executed(["connection.layout","connection.create"],function r(N){var q,L=N.context;!L.cropped&&!1!==(L.hints||{}).createElementsBehavior&&((q=L.connection).waypoints=e.getCroppedWaypoints(q),L.cropped=!0)}),this.reverted(["connection.layout"],function(N){delete N.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],ka(function s(N){var L=N.context;o.updateParent(L.shape||L.connection,L.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],ka(function a(N){var L=N.context;o.updateParent(L.shape||L.connection,L.parent||L.newParent)})),this.executed(["canvas.updateRoot"],l),this.reverted(["canvas.updateRoot"],l),this.executed(["shape.move","shape.create","shape.resize"],ka(function(N){"label"!==N.context.shape.type&&d(N)})),this.reverted(["shape.move","shape.create","shape.resize"],ka(function(N){"label"!==N.context.shape.type&&d(N)})),t.on("shape.changed",function(N){"label"===N.element.type&&d({context:{shape:N.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],ka(h)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],ka(h)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],ka(w)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],ka(w)),this.executed("connection.reconnect",ka(function(N){var L=N.context,q=L.oldSource,Z=L.newSource,Q=(0,te.S)(L.connection),K=(0,te.S)(q),J=(0,te.S)(Z);Q.conditionExpression&&!_i(J,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(L.oldConditionExpression=Q.conditionExpression,delete Q.conditionExpression),q!==Z&&K.default===Q&&(L.oldDefault=K.default,delete K.default)})),this.reverted("connection.reconnect",ka(function(N){var L=N.context,q=L.oldSource,Z=L.newSource,Q=(0,te.S)(L.connection),K=(0,te.S)(q),J=(0,te.S)(Z);L.oldConditionExpression&&(Q.conditionExpression=L.oldConditionExpression),L.oldDefault&&(K.default=L.oldDefault,delete J.default)})),this.executed(["element.updateAttachment"],ka(P)),this.reverted(["element.updateAttachment"],ka(P))}function ka(t){return function(n){var e=n.context;(0,te.is)(e.shape||e.connection,"bpmn:BaseElement")&&t(n)}}function Pu(t,n,e){Dc.call(this),this._bpmnFactory=t,this._moddle=n,this._translate=e}function ZN(t,n,e){t[e]=n[e],delete n[e]}function vy(t,n){this._modeling=t,this._canvas=n}function by(t){this._modeling=t}function yy(t,n){this._canvas=t,this._layouter=n}Ia.$inject=["moddle"],Ia.prototype._needsId=function(t){return _i(t,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},Ia.prototype._ensureId=function(t){var n;n=(0,te.is)(t,"bpmn:Activity")?"Activity":(0,te.is)(t,"bpmn:Event")?"Event":(0,te.is)(t,"bpmn:Gateway")?"Gateway":_i(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(t.$type||"").replace(/^[^:]*:/g,""),n+="_",!t.id&&this._needsId(t)&&(t.id=this._model.ids.nextPrefixed(n,t))},Ia.prototype.create=function(t,n){var e=this._model.create(t,n||{});return this._ensureId(e),e},Ia.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},Ia.prototype.createDiShape=function(t,n,e){return this.create("bpmndi:BPMNShape",(0,V.assign)({bpmnElement:t,bounds:this.createDiBounds(n)},e))},Ia.prototype.createDiBounds=function(t){return this.create("dc:Bounds",t)},Ia.prototype.createDiWaypoints=function(t){var n=this;return(0,V.map)(t,function(e){return n.createDiWaypoint(e)})},Ia.prototype.createDiWaypoint=function(t){return this.create("dc:Point",(0,V.pick)(t,["x","y"]))},Ia.prototype.createDiEdge=function(t,n,e){return this.create("bpmndi:BPMNEdge",(0,V.assign)({bpmnElement:t},e))},Ia.prototype.createDiPlane=function(t){return this.create("bpmndi:BPMNPlane",{bpmnElement:t})},on()(Ls,rn),Ls.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],Ls.prototype.updateAttachment=function(t){var n=t.shape,i=n.host;n.businessObject.attachedToRef=i&&i.businessObject},Ls.prototype.updateParent=function(t,n){if(!(t instanceof nb||(0,te.is)(t,"bpmn:DataStoreReference")&&t.parent&&(0,te.is)(t.parent,"bpmn:Collaboration"))){var e=t.parent,i=t.businessObject,o=e&&e.businessObject,r=o&&o.di;(0,te.is)(t,"bpmn:FlowNode")&&this.updateFlowNodeRefs(i,o,n&&n.businessObject),(0,te.is)(t,"bpmn:DataOutputAssociation")&&(o=t.source?t.source.businessObject:null),(0,te.is)(t,"bpmn:DataInputAssociation")&&(o=t.target?t.target.businessObject:null),this.updateSemanticParent(i,o),(0,te.is)(t,"bpmn:DataObjectReference")&&i.dataObjectRef&&this.updateSemanticParent(i.dataObjectRef,o),this.updateDiParent(i.di,r)}},Ls.prototype.updateBounds=function(t){var n=t.businessObject.di,e=t instanceof nb?this._getLabel(n):n,i=e.bounds;i||(i=this._bpmnFactory.createDiBounds(),e.set("bounds",i)),(0,V.assign)(i,{x:t.x,y:t.y,width:t.width,height:t.height})},Ls.prototype.updateFlowNodeRefs=function(t,n,e){e!==n&&((0,te.is)(e,"bpmn:Lane")&&Ro(e.get("flowNodeRef"),t),(0,te.is)(n,"bpmn:Lane")&&Oo(n.get("flowNodeRef"),t))},Ls.prototype.updateDiConnection=function(t,n,e){t.sourceElement&&t.sourceElement.bpmnElement!==n&&(t.sourceElement=n&&n.di),t.targetElement&&t.targetElement.bpmnElement!==e&&(t.targetElement=e&&e.di)},Ls.prototype.updateDiParent=function(t,n){if(n&&!(0,te.is)(n,"bpmndi:BPMNPlane")&&(n=n.$parent),t.$parent!==n){var e=(n||t.$parent).get("planeElement");n?(e.push(t),t.$parent=n):(Ro(e,t),t.$parent=null)}},Ls.prototype.getLaneSet=function(t){var n,e;return(0,te.is)(t,"bpmn:Lane")?((n=t.childLaneSet)||(n=this._bpmnFactory.create("bpmn:LaneSet"),t.childLaneSet=n,n.$parent=t),n):((0,te.is)(t,"bpmn:Participant")&&(t=t.processRef),(n=(e=t.get("laneSets"))[0])||((n=this._bpmnFactory.create("bpmn:LaneSet")).$parent=t,e.push(n)),n)},Ls.prototype.updateSemanticParent=function(t,n,e){var i,o=this._translate;if(t.$parent!==n&&(!(0,te.is)(t,"bpmn:DataInput")&&!(0,te.is)(t,"bpmn:DataOutput")||((0,te.is)(n,"bpmn:Participant")&&"processRef"in n&&(n=n.processRef),!("ioSpecification"in n)||n.ioSpecification!==t.$parent))){if((0,te.is)(t,"bpmn:Lane"))n&&(n=this.getLaneSet(n)),i="lanes";else if((0,te.is)(t,"bpmn:FlowElement")){if(n)if((0,te.is)(n,"bpmn:Participant"))n=n.processRef;else if((0,te.is)(n,"bpmn:Lane"))do{n=n.$parent.$parent}while((0,te.is)(n,"bpmn:Lane"));i="flowElements"}else if((0,te.is)(t,"bpmn:Artifact")){for(;n&&!(0,te.is)(n,"bpmn:Process")&&!(0,te.is)(n,"bpmn:SubProcess")&&!(0,te.is)(n,"bpmn:Collaboration");){if((0,te.is)(n,"bpmn:Participant")){n=n.processRef;break}n=n.$parent}i="artifacts"}else if((0,te.is)(t,"bpmn:MessageFlow"))i="messageFlows";else if((0,te.is)(t,"bpmn:Participant")){i="participants";var s,r=t.processRef;r&&(s=function gpe(t){for(;t&&!(0,te.is)(t,"bpmn:Definitions");)t=t.$parent;return t}(t.$parent||n),t.$parent&&(Ro(s.get("rootElements"),r),r.$parent=null),n&&(Oo(s.get("rootElements"),r),r.$parent=s))}else(0,te.is)(t,"bpmn:DataOutputAssociation")?i="dataOutputAssociations":(0,te.is)(t,"bpmn:DataInputAssociation")&&(i="dataInputAssociations");if(!i)throw new Error(o("no parent for {element} in {parent}",{element:t.id,parent:n.id}));var a;if(t.$parent&&Ro(a=t.$parent.get(i),t),n?((a=n.get(i)).push(t),t.$parent=n):t.$parent=null,e){var l=e.get(i);Ro(a,t),n&&(l||n.set(i,l=[]),l.push(t))}}},Ls.prototype.updateConnectionWaypoints=function(t){t.businessObject.di.set("waypoint",this._bpmnFactory.createDiWaypoints(t.waypoints))},Ls.prototype.updateConnection=function(t){var n=t.connection,e=(0,te.S)(n),i=(0,te.S)(n.source),o=(0,te.S)(n.target);if((0,te.is)(e,"bpmn:DataAssociation"))(0,te.is)(e,"bpmn:DataInputAssociation")?(e.get("sourceRef")[0]=i,this.updateSemanticParent(e,o,t.parent||t.newParent||o)):(0,te.is)(e,"bpmn:DataOutputAssociation")&&(this.updateSemanticParent(e,i,t.parent||t.newParent||i),e.targetRef=o);else{var s=(0,te.is)(e,"bpmn:SequenceFlow");e.sourceRef!==i&&(s&&(Ro(e.sourceRef&&e.sourceRef.get("outgoing"),e),i&&i.get("outgoing")&&i.get("outgoing").push(e)),e.sourceRef=i),e.targetRef!==o&&(s&&(Ro(e.targetRef&&e.targetRef.get("incoming"),e),o&&o.get("incoming")&&o.get("incoming").push(e)),e.targetRef=o)}this.updateConnectionWaypoints(n),this.updateDiConnection(e.di,i,o)},Ls.prototype._getLabel=function(t){return t.label||(t.label=this._bpmnFactory.createDiLabel()),t.label},on()(Pu,Dc),Pu.$inject=["bpmnFactory","moddle","translate"],Pu.prototype.baseCreate=Dc.prototype.create,Pu.prototype.create=function(t,n){return"label"===t?this.baseCreate(t,(0,V.assign)({type:"label"},rg,n)):this.createBpmnElement(t,n)},Pu.prototype.createBpmnElement=function(t,n){var e,r,s,o=(n=n||{}).businessObject;if(!o){if(!n.type)throw new Error((0,this._translate)("no shape type specified"));o=this._bpmnFactory.create(n.type)}return o.di||(o.di="root"===t?this._bpmnFactory.createDiPlane(o,[],{id:o.id+"_di"}):"connection"===t?this._bpmnFactory.createDiEdge(o,[],{id:o.id+"_di"}):this._bpmnFactory.createDiShape(o,{},{id:o.id+"_di"})),(0,te.is)(o,"bpmn:Group")&&(n=(0,V.assign)({isFrame:!0},n)),n.di&&((0,V.assign)(o.di,n.di),delete n.di),function _pe(t,n,e){(0,V.forEach)(e,function(i){void 0!==n[i]&&ZN(t,n,i)})}(o,n,["processRef","isInterrupting","associationDirection","isForCompensation"]),n.isExpanded&&ZN(o.di,n,"isExpanded"),(0,te.is)(o,"bpmn:ExclusiveGateway")&&(o.di.isMarkerVisible=!0),n.eventDefinitionType&&(r=o.get("eventDefinitions")||[],s=this._bpmnFactory.create(n.eventDefinitionType,n.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===n.eventDefinitionType&&(s.condition=this._bpmnFactory.create("bpmn:FormalExpression")),r.push(s),s.$parent=o,o.eventDefinitions=r,delete n.eventDefinitionType),e=this._getDefaultSize(o),n=(0,V.assign)({businessObject:o,id:o.id},e,n),this.baseCreate(t,n)},Pu.prototype._getDefaultSize=function(t){return(0,te.is)(t,"bpmn:SubProcess")?Bi(t)?{width:350,height:200}:{width:100,height:80}:(0,te.is)(t,"bpmn:Task")?{width:100,height:80}:(0,te.is)(t,"bpmn:Gateway")?{width:50,height:50}:(0,te.is)(t,"bpmn:Event")?{width:36,height:36}:(0,te.is)(t,"bpmn:Participant")?Bi(t)?{width:600,height:250}:{width:400,height:60}:(0,te.is)(t,"bpmn:Lane")?{width:400,height:100}:(0,te.is)(t,"bpmn:DataObjectReference")?{width:36,height:50}:(0,te.is)(t,"bpmn:DataStoreReference")?{width:50,height:50}:(0,te.is)(t,"bpmn:TextAnnotation")?{width:100,height:30}:(0,te.is)(t,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},Pu.prototype.createParticipantShape=function(t){return(0,V.isObject)(t)||(t={isExpanded:t}),!1!==(t=(0,V.assign)({type:"bpmn:Participant"},t||{})).isExpanded&&(t.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(t)},vy.$inject=["modeling","canvas"],vy.prototype.preExecute=function(t){var n=this._modeling,i=t.alignment;(0,V.forEach)(t.elements,function(o){var r={x:0,y:0};i.left?r.x=i.left-o.x:i.right?r.x=i.right-o.width-o.x:i.center?r.x=i.center-Math.round(o.width/2)-o.x:i.top?r.y=i.top-o.y:i.bottom?r.y=i.bottom-o.height-o.y:i.middle&&(r.y=i.middle-Math.round(o.height/2)-o.y),n.moveElements([o],r,o.parent)})},vy.prototype.postExecute=function(t){},by.$inject=["modeling"],by.prototype.preExecute=function(t){var n=t.source;if(!n)throw new Error("source required");var i=t.shape;i=t.shape=this._modeling.createShape(i,t.position,t.target||n.parent,{attach:(t.hints||{}).attach}),t.shape=i},by.prototype.postExecute=function(t){var n=t.hints||{};(function vpe(t,n){return(0,V.some)(t.outgoing,function(e){return e.target===n})})(t.source,t.shape)||(n.connectionTarget===t.source?this._modeling.connect(t.shape,t.source,t.connection):this._modeling.connect(t.source,t.shape,t.connection))},yy.$inject=["canvas","layouter"],yy.prototype.execute=function(t){var n=t.connection,e=t.source,i=t.target,o=t.parent,r=t.parentIndex,s=t.hints;if(!e||!i)throw new Error("source and target required");if(!o)throw new Error("parent required");return n.source=e,n.target=i,n.waypoints||(n.waypoints=this._layouter.layoutConnection(n,s)),this._canvas.addConnection(n,o,r),n},yy.prototype.revert=function(t){var n=t.connection;return this._canvas.removeConnection(n),n.source=null,n.target=null,n};var wy=Math.round;function OS(t){this._modeling=t}function eR(t){return!!t.waypoints}OS.$inject=["modeling"],OS.prototype.preExecute=function(t){var n=t.elements,e=t.parent,i=t.parentIndex,o=t.position,r=t.hints,s=this._modeling;(0,V.forEach)(n,function(h){(0,V.isNumber)(h.x)||(h.x=0),(0,V.isNumber)(h.y)||(h.y=0)});var a=yr(n);(0,V.forEach)(n,function(h){eR(h)&&(h.waypoints=(0,V.map)(h.waypoints,function(w){return{x:wy(w.x-a.x-a.width/2+o.x),y:wy(w.y-a.y-a.height/2+o.y)}})),(0,V.assign)(h,{x:wy(h.x-a.x-a.width/2+o.x),y:wy(h.y-a.y-a.height/2+o.y)})});var l=VA(n),d={};(0,V.forEach)(n,function(h){if(eR(h))d[h.id]=(0,V.isNumber)(i)?s.createConnection(d[h.source.id],d[h.target.id],i,h,h.parent||e,r):s.createConnection(d[h.source.id],d[h.target.id],h,h.parent||e,r);else{var w=(0,V.assign)({},r);-1===l.indexOf(h)&&(w.autoResize=!1),d[h.id]=(0,V.isNumber)(i)?s.createShape(h,(0,V.pick)(h,["x","y","width","height"]),h.parent||e,i,w):s.createShape(h,(0,V.pick)(h,["x","y","width","height"]),h.parent||e,w)}}),t.elements=(0,V.values)(d)};var tR=Math.round;function Du(t){this._canvas=t}function Bg(t){Du.call(this,t)}Du.$inject=["canvas"],Du.prototype.execute=function(t){var n=t.shape,e=t.position,i=t.parent,o=t.parentIndex;if(!i)throw new Error("parent required");if(!e)throw new Error("position required");return(0,V.assign)(n,void 0!==e.width?e:{x:e.x-tR(n.width/2),y:e.y-tR(n.height/2)}),this._canvas.addShape(n,i,o),n},Du.prototype.revert=function(t){var n=t.shape;return this._canvas.removeShape(n),n},on()(Bg,Du),Bg.$inject=["canvas"];var bpe=Du.prototype.execute;Bg.prototype.execute=function(t){var n=t.shape;return function wpe(t){["width","height"].forEach(function(n){void 0===t[n]&&(t[n]=0)})}(n),n.labelTarget=t.labelTarget,bpe.call(this,t)};var ype=Du.prototype.revert;function xy(t,n){this._canvas=t,this._modeling=n}function BS(t,n){this._modeling=t,this._elementRegistry=n}function Lg(t,n){this._canvas=t,this._modeling=n}function Cy(t){this._modeling=t}Bg.prototype.revert=function(t){return t.shape.labelTarget=null,ype.call(this,t)},xy.$inject=["canvas","modeling"],xy.prototype.execute=function(t){var n=t.connection,e=n.parent;return t.parent=e,t.parentIndex=qC(e.children,n),t.source=n.source,t.target=n.target,this._canvas.removeConnection(n),n.source=null,n.target=null,n},xy.prototype.revert=function(t){var n=t.connection,e=t.parent,i=t.parentIndex;return n.source=t.source,n.target=t.target,Oo(e.children,n,i),this._canvas.addConnection(n,e),n},BS.$inject=["modeling","elementRegistry"],BS.prototype.postExecute=function(t){var n=this._modeling,e=this._elementRegistry;(0,V.forEach)(t.elements,function(o){!e.get(o.id)||(o.waypoints?n.removeConnection(o):n.removeShape(o))})},Lg.$inject=["canvas","modeling"],Lg.prototype.preExecute=function(t){var n=this._modeling,e=t.shape;tf(e.incoming,function(i){n.removeConnection(i,{nested:!0})}),tf(e.outgoing,function(i){n.removeConnection(i,{nested:!0})}),tf(e.children,function(i){!function xpe(t){return t.waypoints}(i)?n.removeShape(i,{nested:!0}):n.removeConnection(i,{nested:!0})})},Lg.prototype.execute=function(t){var n=this._canvas,e=t.shape,i=e.parent;return t.oldParent=i,t.oldParentIndex=qC(i.children,e),n.removeShape(e),e},Lg.prototype.revert=function(t){var n=this._canvas,e=t.shape,i=t.oldParent;return Oo(i.children,e,t.oldParentIndex),n.addShape(e,i),e},Cy.$inject=["modeling"];var nR={x:"y",y:"x"};function My(t,n){this._layouter=t,this._canvas=n}function LS(){}function jS(t,n,e){var i=Sy(t),o=oR(i,n),r=i[0];return o.length?o[o.length-1]:kg(r.original||r,e,n)}function GS(t,n,e){var i=Sy(t),o=oR(i,n),r=i[i.length-1];return o.length?o[0]:kg(r.original||r,e,n)}function VS(t,n,e){var i=Sy(t),o=iR(n,e),r=i[0];return kg(r.original||r,o,n)}function HS(t,n,e){var i=Sy(t),o=iR(n,e),r=i[i.length-1];return kg(r.original||r,o,n)}function iR(t,n){return{x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}function Sy(t){var n=t.waypoints;if(!n.length)throw new Error("connection#"+t.id+": no waypoints");return n}function oR(t,n){var e=(0,V.map)(t,Mpe);return(0,V.filter)(e,function(i){return function Cpe(t,n){return"intersect"===Vr(n,t,1)}(i,n)})}function Mpe(t){return t.original||t}function US(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function jg(t){this._modeling=t}function Ey(t){this._helper=new jg(t)}function zd(t){this._modeling=t,this._helper=new jg(t)}function Gg(t){this._modeling=t}function rR(t){return t.original||t}function Gc(t,n){this._modeling=t,this._rules=n}function Vg(t){this._modeling=t}function Fu(t){this._modeling=t}function sR(t){return(0,V.assign)({},t)}function aR(t){switch(t){case"n":case"s":return"y";case"w":case"e":return"x"}}function lR(t,n,e){var i=aR(e);return/e|s/.test(e)?t[i]>n:/n|w/.test(e)?t[i]<n:void 0}function Au(t,n){return-1!==t.indexOf(n)}function Ty(t){this._modeling=t}function cR(t){var n={};return(0,V.forEach)(t,function(e){n[e.id]=e.hidden,e.children&&(n=(0,V.assign)({},n,cR(e.children)))}),n}function uR(t,n){var e=[];return(0,V.forEach)(t,function(i){i.hidden=n,e=e.concat(i),i.children&&(e=e.concat(uR(i.children,i.collapsed||n)))}),e}function dR(t,n){var e=[];return(0,V.forEach)(t,function(i){i.hidden=n[i.id],e=e.concat(i),i.children&&(e=e.concat(dR(i.children,n)))}),e}function Py(t){this._modeling=t}function pR(t,n){return Ro(t&&t.attachers,n)}function mR(t,n,e){if(t){var i=t.attachers;i||(t.attachers=i=[]),Oo(i,n,e)}}function zS(){}function Ii(t,n,e){this._eventBus=t,this._elementFactory=n,this._commandStack=e;var i=this;t.on("diagram.init",function(){i.registerHandlers(e)})}Cy.prototype.preExecute=function(t){var n=this._modeling,e=t.groups,i=t.axis,o=t.dimension;function r(q,Z){q.range.min=Math.min(Z[i],q.range.min),q.range.max=Math.max(Z[i]+Z[o],q.range.max)}function s(q){return q[i]+q[o]/2}function a(q){return q.length-1}function l(q){return q.max-q.min}var N,L,h=e[0],w=a(e),P=e[w],U=0;(0,V.forEach)(e,function(q,Z){var Q,K,J;q.elements.length<2?Z&&Z!==e.length-1&&(r(q,q.elements[0]),U+=l(q.range)):(K=(Q=(0,V.sortBy)(q.elements,i))[0],Z===w&&(K=Q[a(Q)]),J=s(K),q.range=null,(0,V.forEach)(Q,function(ae){(function d(q,Z){var Q={y:0};Q[i]=q-s(Z),Q[i]&&(Q[nR[i]]=0,n.moveElements([Z],Q,Z.parent))})(J,ae),null!==q.range?r(q,ae):q.range={min:ae[i],max:ae[i]+ae[o]}}),Z&&Z!==e.length-1&&(U+=l(q.range)))}),L=Math.abs(P.range.min-h.range.max),!((N=Math.round((L-U)/(e.length-1)))<e.length-1)&&(0,V.forEach)(e,function(q,Z){var K,Q={};q===h||q===P||(K=e[Z-1],q.range.max=0,(0,V.forEach)(q.elements,function(J,ae){Q[nR[i]]=0,Q[i]=K.range.max-J[i]+N,q.range.min!==J[i]&&(Q[i]+=J[i]-q.range.min),Q[i]&&n.moveElements([J],Q,J.parent),q.range.max=Math.max(J[i]+J[o],ae?q.range.max:0)}))})},Cy.prototype.postExecute=function(t){},My.$inject=["layouter","canvas"],My.prototype.execute=function(t){var n=t.connection;return(0,V.assign)(t,{oldWaypoints:n.waypoints}),n.waypoints=this._layouter.layoutConnection(n,t.hints),n},My.prototype.revert=function(t){var n=t.connection;return n.waypoints=t.oldWaypoints,n},LS.prototype.execute=function(t){var n=t.connection,e=t.delta,i=t.newParent||n.parent,o=t.newParentIndex,r=n.parent;return t.oldParent=r,t.oldParentIndex=Ro(r.children,n),Oo(i.children,n,o),n.parent=i,(0,V.forEach)(n.waypoints,function(s){s.x+=e.x,s.y+=e.y,s.original&&(s.original.x+=e.x,s.original.y+=e.y)}),n},LS.prototype.revert=function(t){var n=t.connection,i=t.oldParent,o=t.oldParentIndex,r=t.delta;return Ro(n.parent.children,n),Oo(i.children,n,o),n.parent=i,(0,V.forEach)(n.waypoints,function(s){s.x-=r.x,s.y-=r.y,s.original&&(s.original.x-=r.x,s.original.y-=r.y)}),n},US.prototype.add=function(t,n){return this.addAll([t],n)},US.prototype.addAll=function(t,n){var e=function ioe(t,n,e){(0,V.isUndefined)(n)&&(n=!0),(0,V.isObject)(n)&&(e=n,n=!0);var i=cg((e=e||{}).allShapes),o=cg(e.allConnections),r=cg(e.enclosedElements),s=cg(e.enclosedConnections),a=cg(e.topLevel,n&&(0,V.groupBy)(t,function(h){return h.id}));function l(h){a[h.source.id]&&a[h.target.id]&&(a[h.id]=[h]),i[h.source.id]&&i[h.target.id]&&(s[h.id]=r[h.id]=h),o[h.id]=h}return Fd(t,function d(h){if(r[h.id]=h,!h.waypoints)return i[h.id]=h,(0,V.forEach)(h.incoming,l),(0,V.forEach)(h.outgoing,l),h.children;s[h.id]=o[h.id]=h}),{allShapes:i,allConnections:o,topLevel:a,enclosedConnections:s,enclosedElements:r}}(t,!!n,this);return(0,V.assign)(this,e),this},jg.prototype.moveRecursive=function(t,n,e){return t?this.moveClosure(this.getClosure(t),n,e):[]},jg.prototype.moveClosure=function(t,n,e,i,o){var r=this._modeling,s=t.allShapes,a=t.allConnections,l=t.enclosedConnections,d=t.topLevel,h=!1;o&&o.parent===e&&(h=!0),(0,V.forEach)(s,function(w){r.moveShape(w,n,d[w.id]&&!h&&e,{recurse:!1,layout:!1})}),(0,V.forEach)(a,function(w){var P=!!s[w.source.id],N=!!s[w.target.id];l[w.id]&&P&&N?r.moveConnection(w,n,d[w.id]&&!h&&e):r.layoutConnection(w,{connectionStart:P&&VS(w,w.source,n),connectionEnd:N&&HS(w,w.target,n)})})},jg.prototype.getClosure=function(t){return(new US).addAll(t,!0)},Ey.$inject=["modeling"],Ey.prototype.preExecute=function(t){t.closure=this._helper.getClosure(t.shapes)},Ey.prototype.postExecute=function(t){var e,n=t.hints;n&&n.primaryShape&&(n.oldParent=(e=n.primaryShape).parent),this._helper.moveClosure(t.closure,t.delta,t.newParent,t.newHost,e)},zd.$inject=["modeling"],zd.prototype.execute=function(t){var n=t.shape,e=t.delta,i=t.newParent||n.parent,o=t.newParentIndex,r=n.parent;return t.oldBounds=(0,V.pick)(n,["x","y","width","height"]),t.oldParent=r,t.oldParentIndex=Ro(r.children,n),Oo(i.children,n,o),(0,V.assign)(n,{parent:i,x:n.x+e.x,y:n.y+e.y}),n},zd.prototype.postExecute=function(t){var n=t.shape,e=t.delta,i=t.hints,o=this._modeling;!1!==i.layout&&((0,V.forEach)(n.incoming,function(r){o.layoutConnection(r,{connectionEnd:HS(r,n,e)})}),(0,V.forEach)(n.outgoing,function(r){o.layoutConnection(r,{connectionStart:VS(r,n,e)})})),!1!==i.recurse&&this.moveChildren(t)},zd.prototype.revert=function(t){var n=t.shape,e=t.oldParent,o=t.delta;return Oo(e.children,n,t.oldParentIndex),(0,V.assign)(n,{parent:e,x:n.x-o.x,y:n.y-o.y}),n},zd.prototype.moveChildren=function(t){this._helper.moveRecursive(t.shape.children,t.delta,null)},zd.prototype.getNewParent=function(t){return t.newParent||t.shape.parent},Gg.$inject=["modeling"],Gg.prototype.execute=function(t){var n=t.newSource,e=t.newTarget,i=t.connection,o=t.dockingOrPoints;if(!n&&!e)throw new Error("newSource or newTarget required");return(0,V.isArray)(o)&&(t.oldWaypoints=i.waypoints,i.waypoints=o),n&&(t.oldSource=i.source,i.source=n),e&&(t.oldTarget=i.target,i.target=e),i},Gg.prototype.postExecute=function(t){var n=t.connection,e=t.newSource,i=t.newTarget,o=t.dockingOrPoints,r=t.hints||{},s={};r.connectionStart&&(s.connectionStart=r.connectionStart),r.connectionEnd&&(s.connectionEnd=r.connectionEnd),!1!==r.layoutConnection&&(e&&(!i||"source"===r.docking)&&(s.connectionStart=s.connectionStart||rR((0,V.isArray)(o)?o[0]:o)),i&&(!e||"target"===r.docking)&&(s.connectionEnd=s.connectionEnd||rR((0,V.isArray)(o)?o[o.length-1]:o)),r.newWaypoints&&(s.waypoints=r.newWaypoints),this._modeling.layoutConnection(n,s))},Gg.prototype.revert=function(t){var n=t.oldSource,e=t.oldTarget,i=t.oldWaypoints,o=t.connection;return n&&(o.source=n),e&&(o.target=e),i&&(o.waypoints=i),o},Gc.$inject=["modeling","rules"],Gc.prototype.preExecute=function(t){var a,n=this,e=this._modeling,i=this._rules,o=t.oldShape,r=t.newData,s=t.hints||{};function l(L,U,q){return i.allowed("connection.reconnect",{connection:q,source:L,target:U})}var w,h={x:o.x,y:o.y,width:o.width,height:o.height};a=t.newShape=t.newShape||n.createShape(r,{x:r.x,y:r.y},o.parent,s),o.host&&e.updateAttachment(a,o.host),!1!==s.moveChildren&&(w=o.children.slice(),e.moveElements(w,{x:0,y:0},a,s));var P=o.incoming.slice(),N=o.outgoing.slice();(0,V.forEach)(P,function(L){l(L.source,a,L)&&n.reconnectEnd(L,a,GS(L,a,h),s)}),(0,V.forEach)(N,function(L){l(a,L.target,L)&&n.reconnectStart(L,a,jS(L,a,h),s)})},Gc.prototype.postExecute=function(t){this._modeling.removeShape(t.oldShape)},Gc.prototype.execute=function(t){},Gc.prototype.revert=function(t){},Gc.prototype.createShape=function(t,n,e,i){return this._modeling.createShape(t,n,e,i)},Gc.prototype.reconnectStart=function(t,n,e,i){this._modeling.reconnectStart(t,n,e,i)},Gc.prototype.reconnectEnd=function(t,n,e,i){this._modeling.reconnectEnd(t,n,e,i)},Vg.$inject=["modeling"],Vg.prototype.execute=function(t){var n=t.shape,e=t.newBounds,i=t.minBounds;if(void 0===e.x||void 0===e.y||void 0===e.width||void 0===e.height)throw new Error("newBounds must have {x, y, width, height} properties");if(i&&(e.width<i.width||e.height<i.height))throw new Error("width and height cannot be less than minimum height and width");if(!i&&e.width<10||e.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:n.width,height:n.height,x:n.x,y:n.y},(0,V.assign)(n,{width:e.width,height:e.height,x:e.x,y:e.y}),n},Vg.prototype.postExecute=function(t){var n=this._modeling,e=t.shape,i=t.oldBounds;!1!==(t.hints||{}).layout&&((0,V.forEach)(e.incoming,function(r){n.layoutConnection(r,{connectionEnd:GS(r,e,i)})}),(0,V.forEach)(e.outgoing,function(r){n.layoutConnection(r,{connectionStart:jS(r,e,i)})}))},Vg.prototype.revert=function(t){var n=t.shape,e=t.oldBounds;return(0,V.assign)(n,{width:e.width,height:e.height,x:e.x,y:e.y}),n},Fu.$inject=["modeling"],Fu.prototype.preExecute=function(t){var n=t.delta,e=t.direction,i=t.movingShapes,o=t.resizingShapes,r=t.start,s={};this.moveShapes(i,n),(0,V.forEach)(o,function(a){s[a.id]=function Epe(t){return{x:t.x,y:t.y,height:t.height,width:t.width}}(a)}),this.resizeShapes(o,n,e),this.updateConnectionWaypoints(function cpe(t,n){var e=[];return(0,V.forEach)(t.concat(n),function(i){(0,V.forEach)(i.incoming.concat(i.outgoing),function(s){var a=s.source,l=s.target;(Og(t,a)||Og(t,l)||Og(n,a)||Og(n,l))&&(Og(e,s)||e.push(s))})}),e}(i,o),n,e,r,i,o,s)},Fu.prototype.execute=function(){},Fu.prototype.revert=function(){},Fu.prototype.moveShapes=function(t,n){var e=this;(0,V.forEach)(t,function(i){e._modeling.moveShape(i,n,null,{autoResize:!1,layout:!1,recurse:!1})})},Fu.prototype.resizeShapes=function(t,n,e){var i=this;(0,V.forEach)(t,function(o){var r=function upe(t,n,e){var i=t.x,o=t.y,r=t.width,s=t.height,a=e.x,l=e.y;switch(n){case"n":return{x:i,y:o+l,width:r,height:s-l};case"s":return{x:i,y:o,width:r,height:s+l};case"w":return{x:i+a,y:o,width:r-a,height:s};case"e":return{x:i,y:o,width:r+a,height:s};default:throw new Error("unknown direction: "+n)}}(o,e,n);i._modeling.resizeShape(o,r,null,{attachSupport:!1,autoResize:!1,layout:!1})})},Fu.prototype.updateConnectionWaypoints=function(t,n,e,i,o,r,s){var a=this,l=o.concat(r);(0,V.forEach)(t,function(d){var h=d.source,w=d.target,P=function Spe(t){return(0,V.map)(t.waypoints,function(n){return(n=sR(n)).original&&(n.original=sR(n.original)),n})}(d),N=aR(e),L={labelBehavior:!1};Au(l,h)&&Au(l,w)?(P=(0,V.map)(P,function(U){return lR(U,i,e)&&(U[N]=U[N]+n[N]),U.original&&lR(U.original,i,e)&&(U.original[N]=U.original[N]+n[N]),U}),a._modeling.updateWaypoints(d,P,{labelBehavior:!1})):(Au(l,h)||Au(l,w))&&(Au(o,h)?L.connectionStart=VS(d,h,n):Au(o,w)?L.connectionEnd=HS(d,w,n):Au(r,h)?L.connectionStart=jS(d,h,s[h.id]):Au(r,w)&&(L.connectionEnd=GS(d,w,s[w.id])),a._modeling.layoutConnection(d,L))})},Ty.$inject=["modeling"],Ty.prototype.execute=function(t){var n=t.shape,e=n.children;t.oldChildrenVisibility=cR(e),n.collapsed=!n.collapsed;var i=uR(e,n.collapsed);return[n].concat(i)},Ty.prototype.revert=function(t){var n=t.shape,o=dR(n.children,t.oldChildrenVisibility);return n.collapsed=!n.collapsed,[n].concat(o)},Py.$inject=["modeling"],Py.prototype.execute=function(t){var n=t.shape,e=t.newHost,i=n.host;return t.oldHost=i,t.attacherIdx=pR(i,n),mR(e,n),n.host=e,n},Py.prototype.revert=function(t){var n=t.shape,e=t.newHost,i=t.oldHost,o=t.attacherIdx;return n.host=i,pR(e,n),mR(i,n,o),n},zS.prototype.execute=function(t){var n=t.connection,e=t.newWaypoints;return t.oldWaypoints=n.waypoints,n.waypoints=e,n},zS.prototype.revert=function(t){var n=t.connection;return n.waypoints=t.oldWaypoints,n},Ii.$inject=["eventBus","elementFactory","commandStack"],Ii.prototype.getHandlers=function(){return{"shape.append":by,"shape.create":Du,"shape.delete":Lg,"shape.move":zd,"shape.resize":Vg,"shape.replace":Gc,"shape.toggleCollapse":Ty,spaceTool:Fu,"label.create":Bg,"connection.create":yy,"connection.delete":xy,"connection.move":LS,"connection.layout":My,"connection.updateWaypoints":zS,"connection.reconnect":Gg,"elements.create":OS,"elements.move":Ey,"elements.delete":BS,"elements.distribute":Cy,"elements.align":vy,"element.updateAttachment":Py}},Ii.prototype.registerHandlers=function(t){(0,V.forEach)(this.getHandlers(),function(n,e){t.registerHandler(e,n)})},Ii.prototype.moveShape=function(t,n,e,i,o){"object"==typeof i&&(o=i,i=null),this._commandStack.execute("shape.move",{shape:t,delta:n,newParent:e,newParentIndex:i,hints:o||{}})},Ii.prototype.updateAttachment=function(t,n){this._commandStack.execute("element.updateAttachment",{shape:t,newHost:n})},Ii.prototype.moveElements=function(t,n,e,i){var s,o=(i=i||{}).attach,r=e;!0===o?(s=e,r=e.parent):!1===o&&(s=null),this._commandStack.execute("elements.move",{shapes:t,delta:n,newParent:r,newHost:s,hints:i})},Ii.prototype.moveConnection=function(t,n,e,i,o){"object"==typeof i&&(o=i,i=void 0),this._commandStack.execute("connection.move",{connection:t,delta:n,newParent:e,newParentIndex:i,hints:o||{}})},Ii.prototype.layoutConnection=function(t,n){this._commandStack.execute("connection.layout",{connection:t,hints:n||{}})},Ii.prototype.createConnection=function(t,n,e,i,o,r){"object"==typeof e&&(r=o,o=i,i=e,e=void 0);var s={source:t,target:n,parent:o,parentIndex:e,connection:i=this._create("connection",i),hints:r};return this._commandStack.execute("connection.create",s),s.connection},Ii.prototype.createShape=function(t,n,e,i,o){"number"!=typeof i&&(o=i,i=void 0);var s,a,r=(o=o||{}).attach;t=this._create("shape",t),r?(s=e.parent,a=e):s=e;var l={position:n,shape:t,parent:s,parentIndex:i,host:a,hints:o};return this._commandStack.execute("shape.create",l),l.shape},Ii.prototype.createElements=function(t,n,e,i,o){(0,V.isArray)(t)||(t=[t]),"number"!=typeof i&&(o=i,i=void 0);var r={position:n,elements:t,parent:e,parentIndex:i,hints:o=o||{}};return this._commandStack.execute("elements.create",r),r.elements},Ii.prototype.createLabel=function(t,n,e,i){e=this._create("label",e);var o={labelTarget:t,position:n,parent:i||t.parent,shape:e};return this._commandStack.execute("label.create",o),o.shape},Ii.prototype.appendShape=function(t,n,e,i,o){o=o||{};var r={source:t,position:e,target:i,shape:n=this._create("shape",n),connection:o.connection,connectionParent:o.connectionParent,hints:o};return this._commandStack.execute("shape.append",r),r.shape},Ii.prototype.removeElements=function(t){this._commandStack.execute("elements.delete",{elements:t})},Ii.prototype.distributeElements=function(t,n,e){this._commandStack.execute("elements.distribute",{groups:t,axis:n,dimension:e})},Ii.prototype.removeShape=function(t,n){this._commandStack.execute("shape.delete",{shape:t,hints:n||{}})},Ii.prototype.removeConnection=function(t,n){this._commandStack.execute("connection.delete",{connection:t,hints:n||{}})},Ii.prototype.replaceShape=function(t,n,e){var i={oldShape:t,newData:n,hints:e||{}};return this._commandStack.execute("shape.replace",i),i.newShape},Ii.prototype.alignElements=function(t,n){this._commandStack.execute("elements.align",{elements:t,alignment:n})},Ii.prototype.resizeShape=function(t,n,e,i){this._commandStack.execute("shape.resize",{shape:t,newBounds:n,minBounds:e,hints:i})},Ii.prototype.createSpace=function(t,n,e,i,o){this._commandStack.execute("spaceTool",{delta:e,direction:i,movingShapes:t,resizingShapes:n,start:o})},Ii.prototype.updateWaypoints=function(t,n,e){this._commandStack.execute("connection.updateWaypoints",{connection:t,newWaypoints:n,hints:e||{}})},Ii.prototype.reconnect=function(t,n,e,i,o){this._commandStack.execute("connection.reconnect",{connection:t,newSource:n,newTarget:e,dockingOrPoints:i,hints:o||{}})},Ii.prototype.reconnectStart=function(t,n,e,i){i||(i={}),this.reconnect(t,n,t.target,e,(0,V.assign)(i,{docking:"source"}))},Ii.prototype.reconnectEnd=function(t,n,e,i){i||(i={}),this.reconnect(t,t.source,n,e,(0,V.assign)(i,{docking:"target"}))},Ii.prototype.connect=function(t,n,e,i){return this.createConnection(t,n,e||{},t.parent,i)},Ii.prototype._create=function(t,n){return n instanceof dg?n:this._elementFactory.create(t,n)},Ii.prototype.toggleCollapse=function(t,n){this._commandStack.execute("shape.toggleCollapse",{shape:t,hints:n||{}})};var Tpe=E(3893),Ppe=E.n(Tpe),Hg="default",Dpe={width:0,height:0};function Ug(t,n,e,i,o){this._elementRegistry=t,this._moddle=n,this._translate=e,this._modeling=i,this._textRenderer=o}function hR(t,n){return"id"in t&&t.id!==n.id}function gR(t,n){(0,V.forEach)(n,function(e,i){"di"!==i?t.set(i,e):t.di&&function Ipe(t,n){(0,V.forEach)(n,function(e,i){t.set(i,e)})}(t.di,e)})}Ug.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],Ug.prototype.execute=function(t){var n=t.element,e=[n];if(!n)throw new Error((0,this._translate)("element required"));var o=this._elementRegistry,r=this._moddle.ids,s=n.businessObject,a=function Npe(t){var n=(0,V.assign)({},t);return kpe.forEach(function(e){e in t&&(n[e]=(0,te.S)(n[e]))}),n}(t.properties),l=t.oldProperties||function Fpe(t,n){var e=(0,V.keys)(n);return(0,V.reduce)(e,function(i,o){return i[o]="di"!==o?t.get(o):function Ape(t,n){return(0,V.reduce)(n,function(e,i){return e[i]=t.get(i),e},{})}(t.di,(0,V.keys)(n.di)),i},{})}(s,a);return hR(a,s)&&(r.unclaim(s.id),o.updateId(n,a.id),r.claim(a.id,s)),Hg in a&&(a[Hg]&&e.push(o.get(a[Hg].id)),s[Hg]&&e.push(o.get(s[Hg].id))),gR(s,a),t.oldProperties=l,t.changed=e,e},Ug.prototype.postExecute=function(t){var e=t.element.label,i=e&&(0,te.S)(e).name;if(i){var o=this._textRenderer.getExternalLabelBounds(e,i);this._modeling.resizeShape(e,o,Dpe)}},Ug.prototype.revert=function(t){var n=t.element,e=t.properties,i=t.oldProperties,o=n.businessObject,r=this._elementRegistry,s=this._moddle.ids;return gR(o,i),hR(e,o)&&(s.unclaim(e.id),r.updateId(n,i.id),s.claim(i.id,o)),t.changed};var kpe=["default"];function Dy(t,n){this._canvas=t,this._modeling=n}function qS(t,n){this._modeling=t,this._spaceTool=n}function $S(t,n){this._modeling=t,this._translate=n}function zg(t,n){this._modeling=t,this._spaceTool=n}Dy.$inject=["canvas","modeling"],Dy.prototype.execute=function(t){var n=this._canvas,e=t.newRoot,i=e.businessObject,o=n.getRootElement(),r=o.businessObject,s=r.$parent,a=r.di;n.setRootElement(e,!0),Oo(s.rootElements,i),i.$parent=s,Ro(s.rootElements,r),r.$parent=null,r.di=null,a.bpmnElement=i,i.di=a,t.oldRoot=o},Dy.prototype.revert=function(t){var i=t.newRoot.businessObject,o=t.oldRoot,r=o.businessObject,s=i.$parent,a=i.di;this._canvas.setRootElement(o,!0),Ro(s.rootElements,i),i.$parent=null,Oo(s.rootElements,r),r.$parent=s,i.di=null,a.bpmnElement=r,r.di=a},qS.$inject=["modeling","spaceTool"],qS.prototype.preExecute=function(t){var n=this._spaceTool,e=this._modeling,i=t.shape,o=t.location,r=cl(i),s=r===i,a=s?i:i.parent;Gd(a).length||e.createShape({type:"bpmn:Lane"},{x:i.x+30,y:i.y,width:i.width-30,height:i.height},a);var d=[];Fd(r,function(U){return d.push(U),U.label&&d.push(U.label),U===i?[]:(0,V.filter)(U.children,function(q){return q!==i})});var h="top"===o?-120:120,w="top"===o?i.y:i.y+i.height,P=w+("top"===o?10:-10),N="top"===o?"n":"s",L=n.calculateAdjustments(d,"y",h,P);n.makeSpace(L.movingShapes,L.resizingShapes,{x:0,y:h},N,P),t.newLane=e.createShape({type:"bpmn:Lane"},{x:i.x+(s?30:0),y:w-("top"===o?120:0),width:i.width-(s?30:0),height:120},a)},$S.$inject=["modeling","translate"],$S.prototype.preExecute=function(t){var n=this._modeling,e=this._translate,i=t.shape,o=t.count,r=Gd(i),s=r.length;if(s>o)throw new Error(e("more than {count} child lanes",{count:o}));var h,P,a=Math.round(i.height/o);for(P=0;P<o;P++)h={x:i.x+30,y:i.y+P*a,width:i.width-30,height:P===o-1?i.height-a*P:a},P<s?n.resizeShape(r[P],h):n.createShape({type:"bpmn:Lane"},h,i)},zg.$inject=["modeling","spaceTool"],zg.prototype.preExecute=function(t){var n=t.shape,e=t.newBounds;!1!==t.balanced?this.resizeBalanced(n,e):this.resizeSpace(n,e)},zg.prototype.resizeBalanced=function(t,n){var e=this._modeling,i=function Fce(t,n){var e=cl(t),o=Ub(e,(0,te.is)(e,"bpmn:Process")?[]:[e]),r=yn(t),s=yn(n),a=function Pce(t,n){return f9(yn(n),yn(t))}(t,n),l=[];return o.forEach(function(d){if(d!==t){var h=0,w=a.right,P=0,N=a.left,L=yn(d);a.top&&(Hb(L.bottom-r.top)<10&&(P=s.top-L.bottom),Hb(L.top-r.top)<5&&(h=s.top-L.top)),a.bottom&&(Hb(L.top-r.bottom)<10&&(h=s.bottom-L.top),Hb(L.bottom-r.bottom)<5&&(P=s.bottom-L.bottom)),(h||w||P||N)&&l.push({shape:d,newBounds:Cce(d,{top:h,right:w,bottom:P,left:N})})}}),l}(t,n);e.resizeShape(t,n),i.forEach(function(o){e.resizeShape(o.shape,o.newBounds)})},zg.prototype.resizeSpace=function(t,n){var d,w,N,e=this._spaceTool,i=yn(t),r=f9(yn(n),i),s=cl(t),a=[],l=[];Fd(s,function(L){return a.push(L),((0,te.is)(L,"bpmn:Lane")||(0,te.is)(L,"bpmn:Participant"))&&l.push(L),L.children}),(r.bottom||r.top)&&(d=r.bottom||r.top,w=r.bottom?"s":"n",N=e.calculateAdjustments(a,"y",r.top>0||r.bottom<0?-d:d,t.y+(r.bottom?t.height:0)+(r.bottom?-10:10)),e.makeSpace(N.movingShapes,N.resizingShapes,{x:0,y:d},w)),(r.left||r.right)&&(d=r.right||r.left,w=r.right?"e":"w",N=e.calculateAdjustments(l,"x",r.left>0||r.right<0?-d:d,t.x+(r.right?t.width:0)+(r.right?-10:100)),e.makeSpace(N.movingShapes,N.resizingShapes,{x:d,y:0},w))};var qg="flowNodeRef",WS="lanes";function $g(t){this._elementRegistry=t}function Fy(t){this._moddle=t}$g.$inject=["elementRegistry"],$g.prototype.computeUpdates=function(t,n){var e=[],i=[],o={},r=[];function a(h){-1===e.indexOf(h)&&(r.push(h),e.push(h))}return n.forEach(function(h){var w=cl(h);w&&-1===e.indexOf(w)&&(w.children.filter(function(N){return(0,te.is)(N,"bpmn:FlowNode")}).forEach(a),e.push(w))}),t.forEach(a),r.forEach(function(h){var w=h.businessObject,N=w.get(WS).slice(),L=function d(h){if(!h.parent)return[];var w=function l(h){var w=cl(h);return o[w.id]||(o[w.id]=Ub(w)),o[w.id]}(h);return w.filter(function(P){return function s(h,w){var P=yn(w),N_x=h.x+h.width/2,N_y=h.y+h.height/2;return N_x>P.left&&N_x<P.right&&N_y>P.top&&N_y<P.bottom}(h,P)}).map(function(P){return P.businessObject})}(h);i.push({flowNode:w,remove:N,add:L})}),n.forEach(function(h){var w=h.businessObject;h.parent||w.get(qg).forEach(function(P){i.push({flowNode:P,remove:[w],add:[]})})}),i},$g.prototype.execute=function(t){var n=t.updates;n||(n=t.updates=this.computeUpdates(t.flowNodeShapes,t.laneShapes)),n.forEach(function(e){var i=e.flowNode,o=i.get(WS);e.remove.forEach(function(r){Ro(o,r),Ro(r.get(qg),i)}),e.add.forEach(function(r){Oo(o,r),Oo(r.get(qg),i)})})},$g.prototype.revert=function(t){t.updates.forEach(function(e){var i=e.flowNode,o=i.get(WS);e.add.forEach(function(r){Ro(o,r),Ro(r.get(qg),i)}),e.remove.forEach(function(r){Oo(o,r),Oo(r.get(qg),i)})})},Fy.$inject=["moddle"],Fy.prototype.execute=function(t){var n=this._moddle.ids,e=t.id;t.claiming?n.claim(e,t.element):n.unclaim(e)},Fy.prototype.revert=function(t){var n=this._moddle.ids,e=t.id,i=t.element;t.claiming?n.unclaim(e):n.claim(e,i)};var Rpe={fill:void 0,stroke:void 0};function YS(t){this._commandStack=t}YS.$inject=["commandStack"],YS.prototype.postExecute=function(t){var n=t.elements,e=t.colors||Rpe,i=this,o={};"fill"in e&&(0,V.assign)(o,{fill:e.fill}),"stroke"in e&&(0,V.assign)(o,{stroke:e.stroke}),(0,V.forEach)(n,function(r){i._commandStack.execute("element.updateProperties",{element:r,properties:{di:o}})})};var Ope={width:0,height:0};function _R(t,n){function e(a,l){var d=a.label||a,h=a.labelTarget||a;return function dse(t,n,e){var i=t.businessObject,o=PI(i);o&&("categoryValueRef"===o?i.categoryValueRef.value=n:i[o]=n)}(d,l),[d,h]}this.preExecute=function i(a){var l=a.element,d=l.businessObject,h=a.newLabel;if(!Gi(l)&&Pm(l)&&!Yv(l)&&!vR(h)){var P=Xv(l);t.createLabel(l,P={x:P.x,y:P.y+7},{id:d.id+"_label",businessObject:d})}},this.execute=function o(a){return a.oldLabel=rl(a.element),e(a.element,a.newLabel)},this.revert=function r(a){return e(a.element,a.oldLabel)},this.postExecute=function s(a){var l=a.element,d=l.label||l,h=a.newLabel,w=a.newBounds,P=a.hints||{};if(Gi(d)||(0,te.is)(d,"bpmn:TextAnnotation")){if(Gi(d)&&vR(h))return void(!1!==P.removeShape&&t.removeShape(d,{unsetLabel:!1}));var N=rl(d);void 0===w&&(w=n.getExternalLabelBounds(d,N)),w&&t.resizeShape(d,w,Ope)}}}function vR(t){return!t||!t.trim()}function Ur(t,n,e,i){Ii.call(this,t,n,e),this._bpmnRules=i}function bR(){}_R.$inject=["modeling","textRenderer"],on()(Ur,Ii),Ur.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],Ur.prototype.getHandlers=function(){var t=Ii.prototype.getHandlers.call(this);return t["element.updateModdleProperties"]=Ppe(),t["element.updateProperties"]=Ug,t["canvas.updateRoot"]=Dy,t["lane.add"]=qS,t["lane.resize"]=zg,t["lane.split"]=$S,t["lane.updateRefs"]=$g,t["id.updateClaim"]=Fy,t["element.setColor"]=YS,t["element.updateLabel"]=_R,t},Ur.prototype.updateLabel=function(t,n,e,i){this._commandStack.execute("element.updateLabel",{element:t,newLabel:n,newBounds:e,hints:i||{}})},Ur.prototype.connect=function(t,n,e,i){if(e||(e=this._bpmnRules.canConnect(t,n)),e)return this.createConnection(t,n,e,t.parent,i)},Ur.prototype.updateModdleProperties=function(t,n,e){this._commandStack.execute("element.updateModdleProperties",{element:t,moddleElement:n,properties:e})},Ur.prototype.updateProperties=function(t,n){this._commandStack.execute("element.updateProperties",{element:t,properties:n})},Ur.prototype.resizeLane=function(t,n,e){this._commandStack.execute("lane.resize",{shape:t,newBounds:n,balanced:e})},Ur.prototype.addLane=function(t,n){var e={shape:t,location:n};return this._commandStack.execute("lane.add",e),e.newLane},Ur.prototype.splitLane=function(t,n){this._commandStack.execute("lane.split",{shape:t,count:n})},Ur.prototype.makeCollaboration=function(){var t=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:t}),t},Ur.prototype.updateLaneRefs=function(t,n){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:t,laneShapes:n})},Ur.prototype.makeProcess=function(){var t=this._create("root",{type:"bpmn:Process"});this._commandStack.execute("canvas.updateRoot",{newRoot:t})},Ur.prototype.claimId=function(t,n){this._commandStack.execute("id.updateClaim",{id:t,element:n,claiming:!0})},Ur.prototype.unclaimId=function(t,n){this._commandStack.execute("id.updateClaim",{id:t,element:n})},Ur.prototype.setColor=function(t,n){t.length||(t=[t]),this._commandStack.execute("element.setColor",{elements:t,colors:n})},bR.prototype.layoutConnection=function(t,n){return[(n=n||{}).connectionStart||qn(n.source||t.source),n.connectionEnd||qn(n.target||t.target)]};var Iy=Math.round,Lpe={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function wR(t,n,e){var a,l,i=Vr(n,t,5),o=e.split(":")[0],r=Iy((n.x-t.x)/2+t.x),s=Iy((n.y-t.y)/2+t.y),d=function Gpe(t,n){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[t].test(n)}(o,i),h=/h|r|l/.test(o),w=!1,P=!1;return d?(a=h?{x:r,y:t.y}:{x:t.x,y:s},l=h?"h:h":"v:v"):(w=function jpe(t,n){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[n].test(t)}(i,o),l=h?"h:v":"v:h",w?h?(P=s===t.y,a={x:t.x+20*(/l/.test(o)?-1:1),y:P?s+20:s}):a={x:(P=r===t.x)?r+20:r,y:t.y+20*(/t/.test(o)?-1:1)}:a={x:r,y:s}),{waypoints:XS(t,a,l).concat(a),directions:l,turnNextDirections:P}}function xR(t){return t.split(":").reverse().join(":")}function XS(t,n,e){if(!function Zpe(t){return t&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(t)}(e=e||"h:h"))throw new Error("unknown directions: <"+e+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(MR(e)){var i=function Vpe(t,n,e){return wR(t,n,e)}(t,n,e),o=function Hpe(t,n,e){var i=wR(n,t,xR(e));return{waypoints:i.waypoints.slice().reverse(),directions:xR(i.directions),turnNextDirections:i.turnNextDirections}}(t,n,e),r=function Upe(t,n){var e=t.directions.split(":")[1],i=n.directions.split(":")[0];t.turnNextDirections&&(e="h"==e?"v":"h"),n.turnNextDirections&&(i="h"==i?"v":"h");var o=e+":"+i;return{waypoints:XS(t.waypoints[t.waypoints.length-1],n.waypoints[0],o),directions:o}}(i,o);return[].concat(i.waypoints,r.waypoints,o.waypoints)}return function zpe(t,n,e){var i=Iy((n.x-t.x)/2+t.x),o=Iy((n.y-t.y)/2+t.y);if("h:v"===e)return[{x:n.x,y:t.y}];if("v:h"===e)return[{x:t.x,y:n.y}];if("h:h"===e)return[{x:i,y:t.y},{x:i,y:n.y}];if("v:v"===e)return[{x:t.x,y:o},{x:n.x,y:o}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(t,n,e)}function Wpe(t,n,e,i,o,r){var l;return(0,V.isArray)(e)&&(o=e,r=i,e=qn(t),i=qn(n)),o=o||[],l=-1!==(r=(0,V.assign)({preferredLayouts:[]},r)).preferredLayouts.indexOf("straight")&&function Xpe(t,n,e,i,o){var s,a,r={};return a=Vr(t,n),/^(top|bottom|left|right)$/.test(a)?(/top|bottom/.test(a)&&(s="x"),/left|right/.test(a)&&(s="y"),"target"===o.preserveDocking?CR(s,i,t)?(r[s]=i[s],[{x:void 0!==r.x?r.x:e.x,y:void 0!==r.y?r.y:e.y,original:{x:void 0!==r.x?r.x:e.x,y:void 0!==r.y?r.y:e.y}},{x:i.x,y:i.y}]):null:CR(s,e,n)?(r[s]=e[s],[{x:e.x,y:e.y},{x:void 0!==r.x?r.x:i.x,y:void 0!==r.y?r.y:i.y,original:{x:void 0!==r.x?r.x:i.x,y:void 0!==r.y?r.y:i.y}}]):null):null}(t,n,e,i,r),l||(l=r.connectionEnd&&function Qpe(t,n,e,i){var o=i.slice().reverse();return(o=KS(t,n,e,o))?o.reverse():null}(n,t,i,o),l)||(l=r.connectionStart&&function Kpe(t,n,e,i){return KS(t,n,e,i)}(t,n,e,o),l)?l:!r.connectionStart&&!r.connectionEnd&&o&&o.length?o:function $pe(t,n,e,i,o){var s=(0,V.without)(o&&o.preferredLayouts||[],"straight")[0]||"h:h",l=Vr(t,n,Lpe[s]||0),d=function Jpe(t,n){if(MR(n))return n;switch(t){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return n}}(l,s);e=e||qn(t),i=i||qn(n);var h=d.split(":"),w=SR(e,t,h[0],function eme(t){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[t]}(l));return function qpe(t,n,e){var i=XS(t,n,e);return i.unshift(t),i.push(n),ER(i)}(w,SR(i,n,h[1],l),d)}(t,n,e,i,r)}function CR(t,n,e){return function Ype(t,n,e){return t>=n&&t<=e}(n[t],e[t],e[t]+e[{x:"width",y:"height"}[t]])}function KS(t,n,e,i){if(function o(h){return h.length<3||!(h.length>4)&&!!(0,V.find)(h,function(w,P){var N=h[P-1];return N&&bg(w,N)<3})}(i))return null;var d,a=i[0],l=i.slice();return l[0]=e,l[1]=function r(h,w,P){switch(Ac(w,h)){case"v":return{x:P.x,y:h.y};case"h":return{x:h.x,y:P.y}}return{x:h.x,y:h.y}}(l[1],a,e),(d=function s(h,w,P){var N;for(N=h.length-2;0!==N;N--)if(gb(h[N],w,20)||gb(h[N],P,20))return h.slice(N);return h}(l,t,n))!==l&&(l=KS(t,n,e,d)),l&&Ac(l)?null:l}function MR(t){return t&&/t|r|b|l/.test(t)}function SR(t,n,e,i){if("h"===e&&(e=/left/.test(i)?"l":"r"),"v"===e&&(e=/top/.test(i)?"t":"b"),"t"===e)return{original:t,x:t.x,y:n.y};if("r"===e)return{original:t,x:n.x+n.width,y:t.y};if("b"===e)return{original:t,x:t.x,y:n.y+n.height};if("l"===e)return{original:t,x:n.x,y:t.y};throw new Error("unexpected dockingDirection: <"+e+">")}function ER(t){return t.reduce(function(n,e,i){return iM(n[n.length-1],t[i+1],e,0)||n.push(e),n},[])}var QS={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},ky={top:"t",right:"r",bottom:"b",left:"l"};function JS(){}function rme(t,n){return(0,te.is)(n,"bpmn:Participant")?"source":(0,te.is)(t,"bpmn:Participant")?"target":Wg(n)?"source":Wg(t)||(0,te.is)(n,"bpmn:Event")?"target":(0,te.is)(t,"bpmn:Event")?"source":null}function ame(t){return Wg(t)?"target":"source"}function TR(t,n){return t?t.original||t:qn(n)}function PR(t,n){return(0,te.is)(n,"bpmn:Activity")&&(0,te.is)(t,"bpmn:BoundaryEvent")&&n.businessObject.isForCompensation}function Wg(t){return(0,te.is)(t,"bpmn:SubProcess")&&Bi(t)}function Yg(t,n){return t===n}function Xg(t){var n=/right|left/.exec(t);return n&&n[0]}function qd(t){var n=/top|bottom/.exec(t);return n&&n[0]}function ZS(t){return"right"===t||"left"===t}function pme(t,n){var e=n.waypoints,i=e&&e.length&&Vr(e[0],t);return"top"===i?["t:r"]:"right"===i?["r:b"]:"left"===i?["l:t"]:["b:l"]}function mme(t,n,e){var s,a,i=qn(t),o=qn(n),r=function ime(t){var n=t.host;return Vr(qn(t),n,-10)}(t),l=Yg(t.host,n),d=function lme(t,n){return-1!==n.indexOf(t)}(r,["top","right","bottom","left"]),h=Vr(o,i,{x:t.width/2+n.width/2,y:t.height/2+n.height/2});return l?function fme(t,n,e,i,o){var r=n?t:qd(t);return[ky[r]+":"+(n?ZS(t)?DR("y",e,i,o)?"h":"b":DR("x",e,i,o)?"v":"l":"v")]}(r,d,t,n,e):(s=function hme(t,n,e){return e?ky[t]:Yg(qd(t),qd(n))||function cme(t,n){return QS[t]===n}(Xg(t),Xg(n))?ky[qd(t)]:ky[Xg(t)]}(r,h,d),a=function gme(t,n,e){return e?ZS(t)?function ume(t,n){var e=Xg(t);return-1!==n.indexOf(QS[e])}(t,n)||Yg(t,n)?"h":"v":function dme(t,n){var e=qd(t);return-1!==n.indexOf(QS[e])}(t,n)||Yg(t,n)?"v":"h":ZS(n)||Yg(qd(t),qd(n))&&Xg(n)?"h":"v"}(r,h,d),[s+":"+a])}function DR(t,n,e,i){return!(eE(t,i,e,40)||eE(t,i,{x:e.x+e.width,y:e.y+e.height},40)||eE(t,i,qn(n),40))}function eE(t,n,e,i){return Math.abs(n[t]-e[t])<i}function FR(t){return(0,V.assign)({original:t.point.original||t.point},t.actual)}function Iu(t,n){this._elementRegistry=t,this._graphicsFactory=n}on()(JS,bR),JS.prototype.layoutConnection=function(t,n){n||(n={});var a,l,e=n.source||t.source,i=n.target||t.target,o=n.waypoints||t.waypoints,r=n.connectionStart,s=n.connectionEnd;return r||(r=TR(o&&o[0],e)),s||(s=TR(o&&o[o.length-1],i)),((0,te.is)(t,"bpmn:Association")||(0,te.is)(t,"bpmn:DataAssociation"))&&o&&!PR(e,i)?[].concat([r],o.slice(1,-1),[s]):((0,te.is)(t,"bpmn:MessageFlow")?a=function ome(t,n){return{preferredLayouts:["straight","v:v"],preserveDocking:rme(t,n)}}(e,i):((0,te.is)(t,"bpmn:SequenceFlow")||PR(e,i))&&(a=e===i?{preferredLayouts:pme(e,t)}:(0,te.is)(e,"bpmn:BoundaryEvent")?{preferredLayouts:mme(e,i,s)}:Wg(e)||Wg(i)?function sme(t){return{preferredLayouts:["straight","h:h"],preserveDocking:ame(t)}}(e):(0,te.is)(e,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:(0,te.is)(i,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),a&&(l=ER(Wpe(e,i,r,s,o,a=(0,V.assign)(a,n)))),l||[r,s])},Iu.$inject=["elementRegistry","graphicsFactory"],Iu.prototype.getCroppedWaypoints=function(t,n,e){e=e||t.target;var i=this.getDockingPoint(t,n=n||t.source,!0),o=this.getDockingPoint(t,e),r=t.waypoints.slice(i.idx+1,o.idx);return r.unshift(FR(i)),r.push(FR(o)),r},Iu.prototype.getDockingPoint=function(t,n,e){var o,r,i=t.waypoints;return{point:r=i[o=e?0:i.length-1],actual:this._getIntersection(n,t,e)||r,idx:o}},Iu.prototype._getIntersection=function(t,n,e){return sM(this._getShapePath(t),this._getConnectionPath(n),e)},Iu.prototype._getConnectionPath=function(t){return this._graphicsFactory.getConnectionPath(t)},Iu.prototype._getShapePath=function(t){return this._graphicsFactory.getShapePath(t)},Iu.prototype._getGfx=function(t){return this._elementRegistry.getGraphics(t)};const tE={__init__:["modeling","bpmnUpdater"],__depends__:[Sde,zde,$de,Wde,d9,Yde,Jde,epe,spe,Wl,LM,JN],bpmnFactory:["type",Ia],bpmnUpdater:["type",Ls],elementFactory:["type",Pu],modeling:["type",Ur],layouter:["type",JS],connectionDocking:["type",Iu]};var Ny=Math.round;function AR(t,n,e,i,o){function r(a,l,d,h){return o.allowed("elements.move",{shapes:a,delta:l,position:d,target:h})}function s(a,l,d,h){if((0,V.isObject)(d)&&(h=d,d=!1),!l.waypoints&&l.parent){var w=function yme(t){return{x:t.x+Ny(t.width/2),y:t.y+Ny(t.height/2)}}(l);return n.init(a,w,"shape.move",{cursor:"grabbing",autoActivate:d,data:{shape:l,context:h||{}}}),!0}}t.on("shape.move.start",1500,function(a){var l=a.context,d=a.shape,h=i.get().slice();-1===h.indexOf(d)&&(h=[d]),h=function wme(t){var n=(0,V.groupBy)(t,"id");return(0,V.filter)(t,function(e){for(;e=e.parent;)if(n[e.id])return!1;return!0})}(h),(0,V.assign)(l,{shapes:h,validatedShapes:h,shape:d})}),t.on("shape.move.start",1250,function(a){var l=a.context;if(!(l.canExecute=r(l.validatedShapes)))return!1}),t.on("shape.move.move",500,function(a){var N,l=a.context,h=a.hover,w={x:a.dx,y:a.dy};N=r(l.validatedShapes,w,{x:a.x,y:a.y},h),l.delta=w,l.canExecute=N,l.target=null!==N?h:null}),t.on("shape.move.end",function(a){var l=a.context,d=l.delta,h=l.canExecute,w="attach"===h,P=l.shapes;if(!1===h)return!1;d.x=Ny(d.x),d.y=Ny(d.y),(0!==d.x||0!==d.y)&&e.moveElements(P,d,l.target,{primaryShape:l.shape,attach:w})}),t.on("element.mousedown",function(a){var l=Um(a);if(!l)throw new Error("must supply DOM mousedown event");return s(l,a.element)}),this.start=s}AR.$inject=["eventBus","dragging","modeling","selection","rules"];var nE="djs-dragging",kR="drop-ok",NR="drop-not-ok",RR="new-parent",OR="attach-ok";function BR(t,n,e,i){function r(l){var d=zC(l,!0),h=(0,V.map)(d,function(w){return(w.incoming||[]).concat(w.outgoing||[])});return(0,V.flatten)(d.concat(h))}function s(l,d){[OR,kR,NR,RR].forEach(function(h){h===d?n.addMarker(l,h):n.removeMarker(l,h)})}t.on("shape.move.start",499,function(l){var d=l.context,h=d.shapes,w=d.allDraggedElements,P=function o(l){var h=function xme(t){var n=(0,V.filter)(t,function(e){return!function Mme(t){return t.waypoints}(e)||(0,V.find)(t,(0,V.matchPattern)({id:e.source.id}))&&(0,V.find)(t,(0,V.matchPattern)({id:e.target.id}))});return n}(r(l));return h}(h);if(!d.dragGroup){var N=_n("g");At(N,e.cls("djs-drag-group",["no-events"])),Cn(n.getDefaultLayer(),N),d.dragGroup=N}P.forEach(function(U){i.addDragger(U,d.dragGroup)}),w=w?(0,V.flatten)([w,r(h)]):r(h),(0,V.forEach)(w,function(U){n.addMarker(U,nE)}),d.allDraggedElements=w,d.differentParents=function Cme(t){return 1!==(0,V.size)((0,V.groupBy)(t,function(n){return n.parent&&n.parent.id}))}(h)}),t.on("shape.move.move",499,function(l){var d=l.context,h=d.dragGroup,w=d.target;w&&s(w,"attach"===d.canExecute?OR:d.canExecute&&w&&w.id!==d.shape.parent.id?RR:d.canExecute?kR:NR),Os(h,l.dx,l.dy)}),t.on(["shape.move.out","shape.move.cleanup"],function(l){var h=l.context.target;h&&s(h,null)}),t.on("shape.move.cleanup",function(l){var d=l.context,w=d.dragGroup;(0,V.forEach)(d.allDraggedElements,function(P){n.removeMarker(P,nE)}),w&&To(w)}),this.makeDraggable=function a(l,d,h){i.addDragger(d,l.dragGroup),h&&n.addMarker(d,nE),l.allDraggedElements?l.allDraggedElements.push(d):l.allDraggedElements=[d]}}BR.$inject=["eventBus","canvas","styles","previewSupport"];const Sme={__depends__:[yg,Wl,LI,Kl,Rc,Mg],__init__:["move","movePreview"],move:["type",AR],movePreview:["type",BR]};function Xo(t,n){this._eventBus=t,this._canvas=n;var e=this;t.on("tool-manager.update",function(i){e.updateToolHighlight(i.tool)}),t.on("i18n.changed",function(){e._update()}),t.on("diagram.init",function(){e._diagramInitialized=!0,e._rebuild()})}function Fme(t,n){var e=n.getPaletteEntries();return(0,V.isFunction)(e)?e(t):((0,V.forEach)(e,function(i,o){t[o]=i}),t)}Xo.$inject=["eventBus","canvas"],Xo.prototype.registerProvider=function(t,n){n||(n=t,t=1e3),this._eventBus.on("palette.getProviders",t,function(e){e.providers.push(n)}),this._rebuild()},Xo.prototype.getEntries=function(){return this._getProviders().reduce(Fme,{})},Xo.prototype._rebuild=function(){this._diagramInitialized&&(!this._getProviders().length||(this._container||this._init(),this._update()))},Xo.prototype._init=function(){var t=this,n=this._eventBus,e=this._getParentContainer(),i=this._container=$n(Xo.HTML_MARKUP);e.appendChild(i),Zs_bind(i,".djs-palette-toggle, .entry","click",function(o){if(Qv(o.delegateTarget,".djs-palette-toggle"))return t.toggle();t.trigger("click",o)}),bn.bind(i,"mousedown",function(o){o.stopPropagation()}),Zs_bind(i,".entry","dragstart",function(o){t.trigger("dragstart",o)}),n.on("canvas.resized",this._layoutChanged,this),n.fire("palette.create",{container:i})},Xo.prototype._getProviders=function(t){var n=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(n),n.providers},Xo.prototype._toggleState=function(t){t=t||{};var o,n=this._getParentContainer(),i=this._eventBus,r=Ar(this._container);o="twoColumn"in t?t.twoColumn:this._needsCollapse(n.clientHeight,this._entries||{}),r.toggle("two-column",o),"open"in t&&r.toggle("open",t.open),i.fire("palette.changed",{twoColumn:o,open:this.isOpen()})},Xo.prototype._update=function(){var t=_o(".djs-palette-entries",this._container),n=this._entries=this.getEntries();Kv(t),(0,V.forEach)(n,function(e,i){var o=e.group||"default",r=_o("[data-group="+o+"]",t);r||(r=$n('<div class="group" data-group="'+o+'"></div>'),t.appendChild(r));var a=$n(e.html||(e.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'));r.appendChild(a),e.separator||(Js(a,"data-action",i),e.title&&Js(a,"title",e.title),e.className&&function Dme(t,n){var e=Ar(t);((0,V.isArray)(n)?n:n.split(/\s+/g)).forEach(function(o){e.add(o)})}(a,e.className),e.imageUrl&&a.appendChild($n('<img src="'+e.imageUrl+'">')))}),this.open()},Xo.prototype.trigger=function(t,n,e){var o,r,s,i=this._entries,a=n.delegateTarget||n.target;if(!a)return n.preventDefault();(o=i[Js(a,"data-action")])&&(s=n.originalEvent||n,(0,V.isFunction)(r=o.action)?"click"===t&&r(s,e):r[t]&&r[t](s,e),n.preventDefault())},Xo.prototype._layoutChanged=function(){this._toggleState({})},Xo.prototype._needsCollapse=function(t,n){return t<46*Object.keys(n).length+50},Xo.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},Xo.prototype.open=function(){this._toggleState({open:!0})},Xo.prototype.toggle=function(t){this.isOpen()?this.close():this.open()},Xo.prototype.isActiveTool=function(t){return t&&this._activeTool===t},Xo.prototype.updateToolHighlight=function(t){var n;this._toolsContainer||(n=_o(".djs-palette-entries",this._container),this._toolsContainer=_o("[data-group=tools]",n)),(0,V.forEach)(this._toolsContainer.children,function(i){var o=i.getAttribute("data-action");if(o){var r=Ar(i);o=o.replace("-tool",""),r.contains("entry")&&o===t?r.add("highlighted-entry"):r.remove("highlighted-entry")}})},Xo.prototype.isOpen=function(){return Ar(this._container).has("open")},Xo.prototype._getParentContainer=function(){return this._canvas.getContainer()},Xo.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';const Ame={__init__:["palette"],palette:["type",Xo]};var VR="crosshair";function $d(t,n,e,i,o,r){this._selection=o,this._dragging=e;var s=this;r.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),t.on("lasso.selection.end",function(l){!l.hover&&!(l.originalEvent.target instanceof SVGElement)||t.once("lasso.selection.ended",function(){s.activateLasso(l.originalEvent,!0)})}),t.on("lasso.end",function(l){var d=iE(l),h=i.filter(function(w){return w});s.select(h,d)}),t.on("lasso.start",function(l){var d=l.context;d.bbox=iE(l),function(l){var h,d=n.getDefaultLayer();At(h=l.frame=_n("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Cn(d,h)}(d)}),t.on("lasso.move",function(l){var d=l.context;d.bbox=iE(l),function(l){var h=l.bbox;At(l.frame,{x:h.x,y:h.y,width:h.width,height:h.height})}(d)}),t.on("lasso.cleanup",function(l){!function(l){l.frame&&To(l.frame)}(l.context)}),t.on("element.mousedown",1500,function(l){if(RI(l))return s.activateLasso(l.originalEvent),!0})}function iE(t){var n={x:t.x-t.dx,y:t.y-t.dy},e={x:t.x,y:t.y};return n.x<=e.x&&n.y<e.y||n.x<e.x&&n.y<=e.y?{x:n.x,y:n.y,width:e.x-n.x,height:e.y-n.y}:n.x>=e.x&&n.y<e.y||n.x>e.x&&n.y<=e.y?{x:e.x,y:n.y,width:n.x-e.x,height:e.y-n.y}:n.x<=e.x&&n.y>e.y||n.x<e.x&&n.y>=e.y?{x:n.x,y:e.y,width:e.x-n.x,height:n.y-e.y}:n.x>=e.x&&n.y>e.y||n.x>e.x&&n.y>=e.y?{x:e.x,y:e.y,width:n.x-e.x,height:n.y-e.y}:{x:e.x,y:e.y,width:0,height:0}}$d.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],$d.prototype.activateLasso=function(t,n){this._dragging.init(t,"lasso",{autoActivate:n,cursor:VR,data:{context:{}}})},$d.prototype.activateSelection=function(t){this._dragging.init(t,"lasso.selection",{trapClick:!1,cursor:VR,data:{context:{}}})},$d.prototype.select=function(t,n){var e=function ooe(t,n){var e={};return(0,V.forEach)(t,function(i){var o=i;o.waypoints&&(o=yr(o)),!(0,V.isNumber)(n.y)&&o.x>n.x&&(e[i.id]=i),!(0,V.isNumber)(n.x)&&o.y>n.y&&(e[i.id]=i),o.x>n.x&&o.y>n.y&&((0,V.isNumber)(n.width)&&(0,V.isNumber)(n.height)&&o.width+o.x<n.width+n.x&&o.height+o.y<n.height+n.y||!(0,V.isNumber)(n.width)||!(0,V.isNumber)(n.height))&&(e[i.id]=i)}),e}(t,n);this._selection.select((0,V.values)(e))},$d.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},$d.prototype.isActive=function(){var t=this._dragging.context();return t&&/^lasso/.test(t.prefix)};const Ime={__depends__:[fy],__init__:["lassoTool"],lassoTool:["type",$d]};function nf(t,n,e,i,o){this._dragging=e;var r=this,s=i.get("keyboard",!1);o.registerTool("hand",{tool:"hand",dragging:"hand.move"}),t.on("element.mousedown",1500,function(a){if(zm(a))return this.activateMove(a.originalEvent),!1},this),s&&s.addListener(1500,function(a){function l(h){r.activateMove(h),window.removeEventListener("mousemove",l)}UR(a.keyEvent)&&!r.isActive()&&(window.addEventListener("mousemove",l),s.addListener(1500,function d(h){!UR(h.keyEvent)||(window.removeEventListener("mousemove",l),s.removeListener(d,"keyboard.keyup"),e.cancel())},"keyboard.keyup"))},"keyboard.keydown"),t.on("hand.end",function(a){if(!(a.hover||a.originalEvent.target instanceof SVGElement))return!1;t.once("hand.ended",function(){this.activateMove(a.originalEvent,{reactivate:!0})},this)},this),t.on("hand.move.move",function(a){var l=n.viewbox().scale;n.scroll({dx:a.dx*l,dy:a.dy*l})}),t.on("hand.move.end",function(a){var d=a.context.reactivate;return!zm(a)&&d&&t.once("hand.move.ended",function(h){this.activateHand(h.originalEvent,!0,!0)},this),!1},this)}function UR(t){return sl(" ",t)}nf.$inject=["eventBus","canvas","dragging","injector","toolManager"],nf.prototype.activateMove=function(t,n,e){"object"==typeof n&&(e=n,n=!1),this._dragging.init(t,"hand.move",{autoActivate:n,cursor:"grab",data:{context:e||{}}})},nf.prototype.activateHand=function(t,n,e){this._dragging.init(t,"hand",{trapClick:!1,autoActivate:n,cursor:"grab",data:{context:{reactivate:e}}})},nf.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},nf.prototype.isActive=function(){var t=this._dragging.context();return!!t&&/^(hand|hand\.move)$/.test(t.prefix)};const kme={__depends__:[fy],__init__:["handTool"],handTool:["type",nf]};var zR="connect-ok",qR="connect-not-ok";function of(t,n,e,i,o,r){var s=this;this._dragging=n,this._rules=r,o.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),t.on("global-connect.hover",function(a){var l=a.context,d=a.hover,h=l.canStartConnect=s.canStartConnect(d);null!==h&&(l.startTarget=d,i.addMarker(d,h?zR:qR))}),t.on(["global-connect.out","global-connect.cleanup"],function(a){var l=a.context.startTarget;l&&i.removeMarker(l,a.context.canStartConnect?zR:qR)}),t.on(["global-connect.ended"],function(a){var d=a.context.startTarget,h={x:a.x,y:a.y};if(s.canStartConnect(d))return t.once("element.out",function(){t.once(["connect.ended","connect.canceled"],function(){t.fire("global-connect.drag.ended")}),e.start(null,d,h)}),!1})}of.$inject=["eventBus","dragging","connect","canvas","toolManager","rules"],of.prototype.start=function(t){this._dragging.init(t,"global-connect",{trapClick:!1,data:{context:{}}})},of.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.start()},of.prototype.isActive=function(){var t=this._dragging.context();return t&&/^global-connect/.test(t.prefix)},of.prototype.canStartConnect=function(t){return this._rules.allowed("connection.start",{source:t})};const Nme={__depends__:[AM,Kl,Rc,fy],globalConnect:["type",of]};function Kg(t,n,e,i,o,r,s,a){this._palette=t,this._create=n,this._elementFactory=e,this._spaceTool=i,this._lassoTool=o,this._handTool=r,this._globalConnect=s,this._translate=a,t.registerProvider(this)}Kg.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],Kg.prototype.getPaletteEntries=function(t){var n={},e=this._create,i=this._elementFactory,o=this._spaceTool,r=this._lassoTool,s=this._handTool,a=this._globalConnect,l=this._translate;function d(P,N,L,U,q){function Z(K){var J=i.createShape((0,V.assign)({type:P},q));q&&(J.businessObject.di.isExpanded=q.isExpanded),e.start(K,J)}var Q=P.replace(/^bpmn:/,"");return{group:N,className:L,title:U||l("Create {type}",{type:Q}),action:{dragstart:Z,click:Z}}}function h(P){var N=i.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),L=i.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:N});e.start(P,[N,L],{hints:{autoSelect:[L]}})}function w(P){e.start(P,i.createParticipantShape())}return(0,V.assign)(n,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:l("Activate the hand tool"),action:{click:function(P){s.activateHand(P)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:l("Activate the lasso tool"),action:{click:function(P){r.activateSelection(P)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:l("Activate the create/remove space tool"),action:{click:function(P){o.activateSelection(P)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:l("Activate the global connect tool"),action:{click:function(P){a.toggle(P)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":d("bpmn:StartEvent","event","bpmn-icon-start-event-none",l("Create StartEvent")),"create.intermediate-event":d("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",l("Create Intermediate/Boundary Event")),"create.end-event":d("bpmn:EndEvent","event","bpmn-icon-end-event-none",l("Create EndEvent")),"create.exclusive-gateway":d("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",l("Create Gateway")),"create.task":d("bpmn:Task","activity","bpmn-icon-task",l("Create Task")),"create.data-object":d("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",l("Create DataObjectReference")),"create.data-store":d("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",l("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:l("Create expanded SubProcess"),action:{dragstart:h,click:h}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:l("Create Pool/Participant"),action:{dragstart:w,click:w}},"create.group":d("bpmn:Group","artifact","bpmn-icon-group",l("Create Group"))}),n};const rE={__depends__:[Ame,kb,JN,Ime,kme,Nme,hb],__init__:["paletteProvider"],paletteProvider:["type",Kg]};function sE(t,n,e,i,o){rn.call(this,t),t.on("shape.move.move",250,function(a){var l=a.context,d=l.canExecute;l.visualReplacements||(l.visualReplacements={}),d&&d.replacements?function r(a){(0,V.forEach)(a.canExecute.replacements,function(d){var h=d.oldElementId,w={type:d.newElementType};if(!a.visualReplacements[h]){var P=n.get(h);(0,V.assign)(w,{x:P.x,y:P.y});var N=e.createShape(w);i.addShape(N,P.parent);var L=_o('[data-element-id="'+TM()(P.id)+'"]',a.dragGroup);L&&At(L,{display:"none"});var U=o.addDragger(N,a.dragGroup);a.visualReplacements[h]=U,i.removeShape(N)}})}(l):function s(a){var l=a.visualReplacements;(0,V.forEach)(l,function(d,h){var w=_o('[data-element-id="'+TM()(h)+'"]',a.dragGroup);w&&At(w,{display:"inline"}),d.remove(),l[h]&&delete l[h]})}(l)})}sE.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],on()(sE,rn);const Ome={__depends__:[Mg],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",sE]};var WR=["x","y"],Gme=Math.abs;function YR(t){t.on(["connect.hover","connect.move","connect.end"],1250,function(n){var e=n.context,i=e.canExecute,o=e.start,r=e.hover,s=e.source,a=e.target;n.originalEvent&&Ea(n.originalEvent)||(e.initialConnectionStart||(e.initialConnectionStart=e.connectionStart),i&&r&&function Vme(t,n,e){WR.forEach(function(i){var o=QR(i,n);t[i]<n[i]+e?rr(t,i,n[i]+e):t[i]>n[i]+o-e&&rr(t,i,n[i]+o-e)})}(n,r,function qme(t){return(0,te.is)(t,"bpmn:Task")?10:20}(r)),r&&function zme(t,n){return(0,V.some)(n,function(e){return KR(t,e)})}(i,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(e.connectionStart=Ta(o),_i(r,["bpmn:Event","bpmn:Gateway"])&&XR(n,Ta(r)),_i(r,["bpmn:Task","bpmn:SubProcess"])&&function Hme(t,n){var e=Ta(n);WR.forEach(function(i){(function $me(t,n,e){return t[e]>n[e]+20&&t[e]<n[e]+QR(e,n)-20})(t,n,i)&&rr(t,i,e[i])})}(n,r),(0,te.is)(s,"bpmn:BoundaryEvent")&&a===s.host&&function Ume(t){var n=t.context,e=n.source,i=n.target;if(!function Wme(t){var n=t.hover,e=t.source;return n&&e&&n===e}(n)){var o=Ta(e),r=Vr(o,i,-10),s=[];/top|bottom/.test(r)&&s.push("x"),/left|right/.test(r)&&s.push("y"),s.forEach(function(a){var l=t[a];Gme(l-o[a])<40&&rr(t,a,l>o[a]?o[a]+40:o[a]-40)})}}(n)):KR(i,"bpmn:MessageFlow")?((0,te.is)(o,"bpmn:Event")&&(e.connectionStart=Ta(o)),(0,te.is)(r,"bpmn:Event")&&XR(n,Ta(r))):e.connectionStart=e.initialConnectionStart)})}function XR(t,n){rr(t,"x",n.x),rr(t,"y",n.y)}function KR(t,n){return t&&t.type===n}function QR(t,n){return"x"===t?n.width:n.height}function ku(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function Ry(t){this._snapValues={}}function Jl(t,n,e){var i=this;this._elementRegistry=t,n.on(["create.start","shape.move.start"],function(o){i.initSnap(o)}),n.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,function(o){var r=o.context,s=r.shape,a=r.snapContext,l=r.target;if((!o.originalEvent||!Ea(o.originalEvent))&&!Km(o)&&l){var d=a.pointsForTarget(l);d.initialized||((d=i.addSnapTargetPoints(d,s,l)).initialized=!0),e.snap(o,d)}}),n.on(["create.cleanup","shape.move.cleanup"],function(){e.hide()})}function lE(t){return!!t.labelTarget}function rf(t,n){n.invoke(Jl,this),t.on(["create.move","create.end"],1500,efe),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(e){var i=e.context,o=i.canExecute,r=i.target;o&&("attach"===o||o.attach)&&!Km(e)&&function Qme(t,n){var s,e=yn(n),i=CN(t,n),r=t.context.shape;s=r.parent?{x:0,y:0}:qn(r),/top/.test(i)?rr(t,"y",e.top-s.y):/bottom/.test(i)&&rr(t,"y",e.bottom-s.y),/left/.test(i)?rr(t,"x",e.left-s.x):/right/.test(i)&&rr(t,"x",e.right-s.x)}(e,r)})}function efe(t){var e=t.context.createConstraints;if(e){var i=e.top,o=e.right,r=e.bottom,s=e.left;(s&&s>=t.x||o&&o<=t.x)&&rr(t,"x",t.x),(i&&i>=t.y||r&&r<=t.y)&&rr(t,"y",t.y)}}function ZR(t,n){return-1!==t.indexOf(n)}function eO(t,n,e){return n?{x:t.x-e.x,y:t.y-e.y}:{x:t.x,y:t.y}}function Qg(t,n){var e=this;t.on(["resize.start"],function(i){e.initSnap(i)}),t.on(["resize.move","resize.end"],1250,function(i){var o=i.context,r=o.shape,s=r.parent,a=o.direction,l=o.snapContext;if(!(i.originalEvent&&Ea(i.originalEvent)||Km(i))){var d=l.pointsForTarget(s);d.initialized||((d=e.addSnapTargetPoints(d,r,s,a)).initialized=!0),function sfe(t){return"n"===t||"s"===t}(a)&&rr(i,"x",i.x),function afe(t){return"e"===t||"w"===t}(a)&&rr(i,"y",i.y),n.snap(i,d)}}),t.on(["resize.cleanup"],function(){n.hide()})}function tO(t,n){var e=qn(t),i=yn(t),o={x:e.x,y:e.y};return-1!==n.indexOf("n")?o.y=i.top:-1!==n.indexOf("s")&&(o.y=i.bottom),-1!==n.indexOf("e")?o.x=i.right:-1!==n.indexOf("w")&&(o.x=i.left),o}function Nu(t){this._canvas=t,this._asyncHide=(0,V.debounce)((0,V.bind)(this.hide,this),1e3)}YR.$inject=["eventBus"],ku.prototype.getSnapOrigin=function(t){return this._snapOrigins[t]},ku.prototype.setSnapOrigin=function(t,n){this._snapOrigins[t]=n,-1===this._snapLocations.indexOf(t)&&this._snapLocations.push(t)},ku.prototype.addDefaultSnap=function(t,n){var e=this._defaultSnaps[t];e||(e=this._defaultSnaps[t]=[]),e.push(n)},ku.prototype.getSnapLocations=function(){return this._snapLocations},ku.prototype.setSnapLocations=function(t){this._snapLocations=t},ku.prototype.pointsForTarget=function(t){var n=t.id||t,e=this._targets[n];return e||(e=this._targets[n]=new Ry).initDefaults(this._defaultSnaps),e},Ry.prototype.add=function(t,n){var e=this._snapValues[t];e||(e=this._snapValues[t]={x:[],y:[]}),-1===e.x.indexOf(n.x)&&e.x.push(n.x),-1===e.y.indexOf(n.y)&&e.y.push(n.y)},Ry.prototype.snap=function(t,n,e,i){var o=this._snapValues[n];return o&&function vle(t,n,e){var i,o;for(e=void 0===e?10:e,i=0;i<n.length;i++)if(_le((o=n[i])-t)<=e)return o}(t[e],o[e],i)},Ry.prototype.initDefaults=function(t){var n=this;(0,V.forEach)(t||{},function(e,i){(0,V.forEach)(e,function(o){n.add(i,o)})})},Jl.$inject=["elementRegistry","eventBus","snapping"],Jl.prototype.initSnap=function(t){var r,n=this._elementRegistry,e=t.context,i=e.shape,o=e.snapContext;o||(o=e.snapContext=new ku);var s_x=(r=n.get(i.id)?Ta(i,t):{x:t.x+Ta(i).x,y:t.y+Ta(i).y}).x-i.width/2,s_y=r.y-i.height/2,a_x=r.x+i.width/2,a_y=r.y+i.height/2;return o.setSnapOrigin("mid",{x:r.x-t.x,y:r.y-t.y}),lE(i)||(o.setSnapOrigin("top-left",{x:s_x-t.x,y:s_y-t.y}),o.setSnapOrigin("bottom-right",{x:a_x-t.x,y:a_y-t.y})),o},Jl.prototype.addSnapTargetPoints=function(t,n,e){var i=this.getSnapTargets(n,e);return(0,V.forEach)(i,function(o){if(lE(o))lE(n)&&t.add("mid",Ta(o));else if(function Xme(t){return!!t.waypoints}(o)){if(o.waypoints.length<3)return;var r=o.waypoints.slice(1,-1);(0,V.forEach)(r,function(s){t.add("mid",s)})}else t.add("mid",Ta(o))}),!(0,V.isNumber)(n.x)||!(0,V.isNumber)(n.y)||this._elementRegistry.get(n.id)&&t.add("mid",Ta(n)),t},Jl.prototype.getSnapTargets=function(t,n){return Ok(n).filter(function(e){return!function Kme(t){return!!t.hidden}(e)})},on()(rf,Jl),rf.$inject=["eventBus","injector"],rf.prototype.initSnap=function(t){var n=Jl.prototype.initSnap.call(this,t),e=t.shape,i=!!this._elementRegistry.get(e.id);return(0,V.forEach)(e.outgoing,function(o){var r=o.waypoints[0];n.setSnapOrigin(o.id+"-docking",eO(r=r.original||r,i,t))}),(0,V.forEach)(e.incoming,function(o){var r=o.waypoints[o.waypoints.length-1];n.setSnapOrigin(o.id+"-docking",eO(r=r.original||r,i,t))}),(0,te.is)(e,"bpmn:Participant")&&n.setSnapLocations(["top-left","bottom-right","mid"]),n},rf.prototype.addSnapTargetPoints=function(t,n,e){Jl.prototype.addSnapTargetPoints.call(this,t,n,e);var i=this.getSnapTargets(n,e);(0,V.forEach)(i,function(r){(function Zme(t){return!(!(0,te.is)(t,"bpmn:SubProcess")||!Bi(t))||(0,te.is)(t,"bpmn:Participant")}(r)||function Jme(t,n){return t.every(function(e){return(0,te.is)(e,n)})}([n,r],"bpmn:TextAnnotation"))&&(t.add("top-left",Nk(r)),t.add("bottom-right",Rk(r)))});var o=this._elementRegistry;return(0,V.forEach)(n.incoming,function(r){if(o.get(n.id)){ZR(i,r.source)||t.add("mid",qn(r.source));var s=r.waypoints[0];t.add(r.id+"-docking",s.original||s)}}),(0,V.forEach)(n.outgoing,function(r){if(o.get(n.id)){ZR(i,r.target)||t.add("mid",qn(r.target));var s=r.waypoints[r.waypoints.length-1];t.add(r.id+"-docking",s.original||s)}}),(0,te.is)(e,"bpmn:SequenceFlow")&&(t=this.addSnapTargetPoints(t,n,e.parent)),t},rf.prototype.getSnapTargets=function(t,n){return Jl.prototype.getSnapTargets.call(this,t,n).filter(function(e){return!(0,te.is)(e,"bpmn:Lane")})},Qg.prototype.initSnap=function(t){var n=t.context,e=n.shape,i=n.direction,o=n.snapContext;o||(o=n.snapContext=new ku);var r=tO(e,i);return o.setSnapOrigin("corner",{x:r.x-t.x,y:r.y-t.y}),o},Qg.prototype.addSnapTargetPoints=function(t,n,e,i){var o=this.getSnapTargets(n,e);return(0,V.forEach)(o,function(r){t.add("corner",Rk(r)),t.add("corner",Nk(r))}),t.add("corner",tO(n,i)),t},Qg.$inject=["eventBus","snapping"],Qg.prototype.getSnapTargets=function(t,n){return Ok(n).filter(function(e){return!(function nfe(t,n){return t.host===n}(e,t)||function ife(t){return!!t.waypoints}(e)||function ofe(t){return!!t.hidden}(e)||function rfe(t){return!!t.labelTarget}(e))})},Nu.$inject=["canvas"],Nu.prototype.snap=function(t,n){var i=t.context.snapContext,o=i.getSnapLocations(),r={x:Km(t,"x"),y:Km(t,"y")};(0,V.forEach)(o,function(s){var a=i.getSnapOrigin(s),l={x:t.x+a.x,y:t.y+a.y};if((0,V.forEach)(["x","y"],function(d){var h;r[d]||void 0!==(h=n.snap(l,s,d,7))&&(r[d]={value:h,originValue:h-a[d]})}),r.x&&r.y)return!1}),this.showSnapLine("vertical",r.x&&r.x.value),this.showSnapLine("horizontal",r.y&&r.y.value),(0,V.forEach)(["x","y"],function(s){var a=r[s];(0,V.isObject)(a)&&rr(t,s,a.originValue)})},Nu.prototype._createLine=function(t){var n=this._canvas.getLayer("snap"),e=_n("path");return At(e,{d:"M0,0 L0,0"}),hi(e).add("djs-snap-line"),Cn(n,e),{update:function(i){(0,V.isNumber)(i)?At(e,"horizontal"===t?{d:"M-100000,"+i+" L+100000,"+i,display:""}:{d:"M "+i+",-100000 L "+i+", +100000",display:""}):At(e,{display:"none"})}}},Nu.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},Nu.prototype.showSnapLine=function(t,n){var e=this.getSnapLine(t);e&&e.update(n),this._asyncHide()},Nu.prototype.getSnapLine=function(t){return this._snapLines||this._createSnapLines(),this._snapLines[t]},Nu.prototype.hide=function(){(0,V.forEach)(this._snapLines,function(t){t.update()})};const ufe={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Jl],resizeSnapping:["type",Qg],snapping:["type",Nu]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",YR],createMoveSnapping:["type",rf]};function Sn(t,n,e,i){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=t,this._eventBus=n,this._overlays=e,this._selection=i,this._container=$n(Sn.BOX_HTML),this._searchInput=_o(Sn.INPUT_SELECTOR,this._container),this._resultsContainer=_o(Sn.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),n.on(["canvas.destroy","diagram.destroy"],this.close,this)}function nO(t,n,e){var i=function pfe(t){var n="";return t.forEach(function(e){n+=e.matched?'<strong class="'+Sn.RESULT_HIGHLIGHT_CLASS+'">'+vk(e.matched)+"</strong>":vk(e.normal)}),""!==n?n:null}(n),o=$n(e);o.innerHTML=i,t.appendChild(o)}Sn.$inject=["canvas","eventBus","overlays","selection"],Sn.prototype._bindEvents=function(){var t=this;function n(e,i,o,r){t._eventMaps.push({el:e,type:o,listener:Zs_bind(e,i,o,r)})}n(document,"html","click",function(e){t.close()}),n(this._container,Sn.INPUT_SELECTOR,"click",function(e){e.stopPropagation(),e.delegateTarget.focus()}),n(this._container,Sn.RESULT_SELECTOR,"mouseover",function(e){e.stopPropagation(),t._scrollToNode(e.delegateTarget),t._preselect(e.delegateTarget)}),n(this._container,Sn.RESULT_SELECTOR,"click",function(e){e.stopPropagation(),t._select(e.delegateTarget)}),n(this._container,Sn.INPUT_SELECTOR,"keydown",function(e){38===e.keyCode&&e.preventDefault(),40===e.keyCode&&e.preventDefault()}),n(this._container,Sn.INPUT_SELECTOR,"keyup",function(e){if(27===e.keyCode)return t.close();if(13===e.keyCode){var i=t._getCurrentResult();return i?t._select(i):t.close()}return 38===e.keyCode?t._scrollToDirection(!0):40===e.keyCode?t._scrollToDirection():void(37===e.keyCode||39===e.keyCode||t._search(e.delegateTarget.value))})},Sn.prototype._unbindEvents=function(){this._eventMaps.forEach(function(t){Zs_unbind(t.el,t.type,t.listener)})},Sn.prototype._search=function(t){var n=this;if(this._clearResults(),t&&""!==t){var e=this._searchProvider.find(t);if(e.length){e.forEach(function(o){var r=o.element.id,s=n._createResultNode(o,r);n._results[r]={element:o.element,node:s}});var i=_o(Sn.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(i),this._preselect(i)}}},Sn.prototype._scrollToDirection=function(t){var n=this._getCurrentResult();if(n){var e=t?n.previousElementSibling:n.nextElementSibling;e&&(this._scrollToNode(e),this._preselect(e))}},Sn.prototype._scrollToNode=function(t){if(t&&t!==this._getCurrentResult()){var n=t.offsetTop,e=this._resultsContainer.scrollTop,i=n-this._resultsContainer.clientHeight+t.clientHeight;n<e?this._resultsContainer.scrollTop=n:e<i&&(this._resultsContainer.scrollTop=i)}},Sn.prototype._clearResults=function(){Kv(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},Sn.prototype._getCurrentResult=function(){return _o(Sn.RESULT_SELECTED_SELECTOR,this._resultsContainer)},Sn.prototype._createResultNode=function(t,n){var e=$n(Sn.RESULT_HTML);return t.primaryTokens.length>0&&nO(e,t.primaryTokens,Sn.RESULT_PRIMARY_HTML),nO(e,t.secondaryTokens,Sn.RESULT_SECONDARY_HTML),Js(e,Sn.RESULT_ID_ATTRIBUTE,n),this._resultsContainer.appendChild(e),e},Sn.prototype.registerProvider=function(t){this._searchProvider=t},Sn.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,Ar(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},Sn.prototype.close=function(){!this.isOpen()||(this._unbindEvents(),this._open=!1,Ar(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},Sn.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Sn.prototype.isOpen=function(){return this._open},Sn.prototype._preselect=function(t){var n=this._getCurrentResult();if(t!==n){n&&Ar(n).remove(Sn.RESULT_SELECTED_CLASS);var e=Js(t,Sn.RESULT_ID_ATTRIBUTE),i=this._results[e].element;Ar(t).add(Sn.RESULT_SELECTED_CLASS),this._resetOverlay(i),this._centerViewbox(i),this._selection.select(i),this._eventBus.fire("searchPad.preselected",i)}},Sn.prototype._select=function(t){var n=Js(t,Sn.RESULT_ID_ATTRIBUTE),e=this._results[n].element;this.close(),this._resetOverlay(),this._centerViewbox(e),this._selection.select(e),this._eventBus.fire("searchPad.selected",e)},Sn.prototype._centerViewbox=function(t){var n=this._canvas.viewbox(),e=yr(t);this._canvas.viewbox({x:e.x+e.width/2-n.outer.width/2,y:e.y+e.height/2-n.outer.height/2,width:n.outer.width,height:n.outer.height}),this._canvas.zoom(n.scale)},Sn.prototype._resetOverlay=function(t){if(this._overlayId&&this._overlays.remove(this._overlayId),t){var e=function dfe(t){var e=t.width+12,i=t.height+12;return{position:{bottom:i-6,right:e-6},show:!0,html:'<div style="'+["width: "+e+"px","height: "+i+"px"].join("; ")+'" class="'+Sn.OVERLAY_CLASS+'"></div>'}}(yr(t));this._overlayId=this._overlays.add(t,e)}},Sn.CONTAINER_SELECTOR=".djs-search-container",Sn.INPUT_SELECTOR=".djs-search-input input",Sn.RESULTS_CONTAINER_SELECTOR=".djs-search-results",Sn.RESULT_SELECTOR=".djs-search-result",Sn.RESULT_SELECTED_SELECTOR="."+(Sn.RESULT_SELECTED_CLASS="djs-search-result-selected"),Sn.RESULT_ID_ATTRIBUTE="data-result-id",Sn.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",Sn.OVERLAY_CLASS="djs-search-overlay",Sn.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',Sn.RESULT_HTML='<div class="djs-search-result"></div>',Sn.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',Sn.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';const mfe={__depends__:[uM,Wl],searchPad:["type",Sn]};function cE(t,n,e){this._elementRegistry=t,this._canvas=e,n.registerProvider(this)}function iO(t){return(0,V.filter)(t,function(e){return!!e.matched}).length>0}function oO(t,n){var e=[],i=t;if(!t)return e;t=t.toLowerCase(),n=n.toLowerCase();var o=t.indexOf(n);return o>-1?(0!==o&&e.push({normal:i.substr(0,o)}),e.push({matched:i.substr(o,n.length)}),n.length+o<t.length&&e.push({normal:i.substr(n.length+o,t.length)})):e.push({normal:i}),e}cE.$inject=["elementRegistry","searchPad","canvas"],cE.prototype.find=function(t){var n=this._canvas.getRootElement(),e=this._elementRegistry.filter(function(i){return!i.labelTarget});return e=(0,V.filter)(e,function(i){return i!==n}),e=(0,V.map)(e,function(i){return{primaryTokens:oO(rl(i),t),secondaryTokens:oO(i.id,t),element:i}}),e=(0,V.filter)(e,function(i){return iO(i.primaryTokens)||iO(i.secondaryTokens)}),(0,V.sortBy)(e,function(i){return rl(i.element)+i.element.id})};const ffe={__depends__:[mfe],__init__:["bpmnSearch"],bpmnSearch:["type",cE]};function xs(t){_g.call(this,t)}on()(xs,_g),xs.Viewer=Mu,xs.NavigatedViewer=Nd,xs.prototype.createDiagram=Vm(function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')}),xs.prototype._modules=[].concat(Mu.prototype._modules,xs.prototype._interactionModules=[WI,QI,Eae,ek],xs.prototype._modelingModules=[Pae,zae,nle,Kae,yle,AM,Ele,Ace,a9,kb,Nce,Bce,Jce,tue,nue,aue,vue,tE,Sme,rE,Ome,B9,ufe,ffe]);const Ru=JSON.parse('{"name":"Business Model Development","uri":"http://localhost/schema/bmdl","prefix":"bmdl","xml":{"tagAlias":"lowerCase"},"types":[{"name":"ActivityWithType","extends":["bpmn:Activity"],"properties":[{"name":"inherit","type":"Boolean","isAttr":true},{"name":"neededType","isMany":true,"type":"Type","xml":{"serialize":"property"}},{"name":"forbiddenType","isMany":true,"type":"Type","xml":{"serialize":"property"}}]},{"name":"ProcessPattern","extends":["bpmn:SubProcess"],"properties":[{"name":"processPatternId","type":"String"}]},{"name":"InnerSubProcess","extends":["bpmn:SubProcess"],"properties":[{"name":"taskName","type":"String"}]},{"name":"Type","properties":[{"name":"list","type":"String"},{"name":"element","type":"MethodElement"}]},{"name":"MethodElement","properties":[{"name":"_id","type":"String"},{"name":"name","type":"String"}]},{"name":"MethodActivity","extends":["bpmn:Activity"],"properties":[{"name":"method","type":"Method"}]},{"name":"Method","properties":[{"name":"name","type":"String"},{"name":"id","type":"String"}]}],"enumerations":[]}');let uE=(()=>{class t{abortModeling(e){e.destroy()}getNode(e,i){const o=e.get("elementRegistry").get(i);if(null==o)throw new Error("Element does not exist");return o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),dE=(()=>{class t extends uE{initModeling(e){return Y(function*(){const i=t.getBmProcessModeler();return null!=e?yield i.importXML(e.processDiagram):yield i.createDiagram(),i})()}getBmProcessDiagram(e){return Y(function*(){return(yield e.saveXML()).xml})()}endModeling(e,i){return Y(function*(){const o=yield i.saveXML();e.processDiagram=o.xml,i.destroy()})()}static getBmProcessModeler(){return new xs({additionalModules:[],moddleExtensions:{bmdl:Ru}})}getTaskName(e){return e.businessObject.name}getTypesOfActivity(e){let i=e.businessObject;for(;null!=i&&(i.inherit||!i.neededType);)i=i.$parent;return{neededType:i?i.get("neededType"):[],forbiddenType:i?i.get("forbiddenType"):[]}}getPatternProcesses(e){return e.get("elementRegistry").filter(i=>i.businessObject.get("processPatternId"))}getPatternId(e){return e.businessObject.get("processPatternId")}getProcessSize(e){return{height:e.height+50,width:e.width+40}}getProcessPointAttachment(e,i){const o=Su(e);return{x:e.x+e.width+50,y:o.y-i.height/2}}getProcessPointInsertion(e,i){const o=Su(e);return{x:o.x-i.width/2,y:o.y-i.height/2}}getTranslatePointFunction(e,i){return o=>({x:o.x-e.x+i.x+20,y:o.y-e.y+i.y+30})}createSubProcess(e,i,o,r,s,a,l){const d=e.get("bpmnFactory").create("bpmn:SubProcess",{name:i}),h=e.get("elementFactory").createShape({type:"bpmn:SubProcess",isExpanded:!0,businessObject:d}),w=e.get("modeling"),P=w.createShape(h,Object.assign(Object.assign({},s),a),r);return w.updateProperties(P,{processPatternId:o,taskName:l}),P}createActivity(e,i){const o=e.get("bpmnFactory"),r=e.get("elementFactory"),s=e.get("modeling"),a=o.create("bpmn:CallActivity",{name:i.businessObject.get("taskName")}),l=r.createShape({type:"bpmn:CallActivity",businessObject:a}),d=s.createShape(l,Su(i),i.parent);return this.copyBpmnData(e,i,d),d}copyBpmnData(e,i,o){e.get("modeling").updateProperties(o,{inherit:i.businessObject.get("inherit"),neededType:i.businessObject.get("neededType").map(r=>this.mapTypes(e,r)),forbiddenType:i.businessObject.get("forbiddenType").map(r=>this.mapTypes(e,r))})}mapTypes(e,i){const o=e.get("moddle");return o.create("bmdl:Type",{list:i.list,element:i.element?o.create("bmdl:MethodElement",{_id:i.element._id,name:i.element.name}):void 0})}createConnection(e,i,o,r){e.get("modeling").createConnection(i,o,{type:"bpmn:SequenceFlow"},r)}reconnect(e,i,o,r){const s=e.get("bpmnFactory"),a=e.get("elementFactory"),l=e.get("modeling"),d=s.create(r.businessObject.$type,{name:r.businessObject.name});let h=r.waypoints.slice();if(r.source!==i){let P;for(let N=h.length-1;N>=0;--N)if(gb(h[N],i,20)){P=N;break}null!=P?h=h.slice(P):h.length>0&&h.unshift({x:i.x+i.width/2,y:i.y+i.height/2})}if(r.target!==o){let P;for(let N=0;N<h.length;++N)if(gb(h[N],o,20)){P=N;break}null!=P?h=h.slice(0,P+1):h.length>0&&h.push({x:o.x+i.width/2,y:o.y+o.height/2})}const w=a.createConnection({type:r.type,businessObject:d,waypoints:h.length>1?h:void 0});l.createConnection(i,o,w,r.parent),w.label&&l.updateLabel(w,r.businessObject.name,{x:r.label.x,y:r.label.y,height:r.label.height,width:r.label.width})}exchange(e,i,o,r){i.incoming.forEach(s=>this.reconnect(e,s.source,o,s)),i.outgoing.forEach(s=>this.reconnect(e,o,s.target,s)),this.removeNode(e,i,r)}removeNode(e,i,o){null!=o&&e.get("eventBus").on("shape.remove",o),e.get("modeling").removeElements([...i.incoming,...i.outgoing,i]),null!=o&&e.get("eventBus").off("shape.remove",o)}hasOutgoingFlows(e){return e.businessObject.get("outgoing").length>0}copyNode(e,i,o,r,s){const a=e.get("bpmnFactory"),l=e.get("elementFactory"),d=e.get("elementRegistry"),h=e.get("modeling"),w=a.create(o.businessObject.$type,Object.assign(Object.assign({},o.businessObject),{id:o.businessObject.id+r,attachedToRef:o.businessObject.attachedToRef?d.get(o.businessObject.attachedToRef.id+r):void 0})),P=l.createShape({type:o.type,businessObject:w});h.createShape(P,Object.assign(Object.assign({},s(o)),{height:o.height,width:o.width}),i),P.label&&h.updateLabel(P,w.name,Object.assign(Object.assign({},s(o.label)),{height:o.label.height,width:o.label.width}))}copyConnection(e,i,o,r,s){const a=e.get("bpmnFactory"),l=e.get("elementFactory"),d=e.get("elementRegistry"),h=e.get("modeling"),w=o.businessObject,P=d.get(w.sourceRef.id+r),N=d.get(w.targetRef.id+r),L=o.waypoints.map(Z=>s(Z)),U=a.create(w.$type,{id:w.id+r,name:w.name}),q=l.createConnection({type:o.type,businessObject:U,waypoints:L});h.createConnection(P,N,q,i),q.label&&h.updateLabel(q,w.name,Object.assign(Object.assign({},s(o.label)),{height:o.label.height,width:o.label.width}))}setDevelopmentMethod(e,i,o,r){const s=e.get("moddle");e.get("modeling").updateProperties(i,{method:s.create("bmdl:Method",{name:o,id:r})})}removeDevelopmentMethod(e,i){e.get("modeling").updateProperties(i,{method:null})}createSpace(e,i,o,r){let s=i;const a=this.getParents(r),l=this.checkLeftSpace(e,i,r,a)||this.checkRightSpace(e,i,o,r,a),d=this.checkTopSpace(e,i,r,a)||this.checkBottomSpace(e,i,o,r,a),h=this.checkCompleteSpace(e,i,o,r,a),w={x:(o.width-r.width)/2,y:(o.height-r.height)/2};return(l||h&&!d)&&(this.createLeftSpace(e,r,a,w.x),s={x:s.x+w.x,y:s.y},this.createRightSpace(e,r,a,w.x)),d&&(this.createTopSpace(e,r,a,w.y),s={x:s.x,y:s.y+w.y},this.createBottomSpace(e,r,a,w.y)),s}checkLeftSpace(e,i,o,r){return this.checkSpace(e,o,a=>a.x+a.width<i.x||a.x>o.x||a.y+a.height<o.y||a.y>o.y+o.height,r)||o.parent.x>i.x}checkRightSpace(e,i,o,r,s){return this.checkSpace(e,r,l=>l.x+l.width<r.x+r.width||l.x>i.x+o.width||l.y+l.height<r.y||l.y>r.y+r.height,s)||r.parent.x+r.parent.width<i.x+o.width}checkTopSpace(e,i,o,r){return this.checkSpace(e,o,a=>a.x+a.width<o.x||a.x>o.x+o.width||a.y+a.height<i.y||a.y>o.y,r)||o.parent.y>i.y}checkBottomSpace(e,i,o,r,s){return this.checkSpace(e,r,l=>l.x+l.width<r.x||l.x>r.x+r.width||l.y+l.height<r.y+r.height||l.y>i.y+o.height,s)||r.parent.y+r.parent.height<i.y+o.height}checkCompleteSpace(e,i,o,r,s){return this.checkSpace(e,r,l=>l.x+l.width<i.x||l.x>i.x+o.width||l.y+l.height<i.y||l.y>i.y+o.height,s)}checkSpace(e,i,o,r){const s=e.get("elementRegistry").filter(l=>l.id!==i.id&&!Tc(l)&&!r.includes(l));return s.some(l=>void 0===l.waypoints&&!o(l))||s.some(l=>void 0!==l.waypoints&&l.source!==i&&l.target!==i&&(l=>{const d=[];for(let h=0;h<l.length-1;++h)d.push({x:Math.min(l[h].x,l[h+1].x),y:Math.min(l[h].y,l[h+1].y),width:Math.abs(l[h+1].x-l[h].x),height:Math.abs(l[h+1].y-l[h].y)});return d})(l.waypoints).some(d=>!o(d)))}createLeftSpace(e,i,o,r){this.createSpaceDirection(e,o,i.x,"e",r)}createRightSpace(e,i,o,r){this.createSpaceDirection(e,o,i.x+i.width,"e",r)}createTopSpace(e,i,o,r){this.createSpaceDirection(e,o,i.y,"s",r)}createBottomSpace(e,i,o,r){this.createSpaceDirection(e,o,i.y+i.height,"s",r)}createSpaceDirection(e,i,o,r,s){const l=UC(e.get("elementRegistry").filter(d=>("e"===r?d.x:d.y)>=o&&(i.includes(d.parent)||(0,te.is)(d.parent,"bpmn:Process"))&&!i.includes(d)),!0,-1);e.get("modeling").createSpace(l,i,{x:"e"===r?s:0,y:"s"===r?s:0},r,o)}getParents(e){const i=[];for(let o=e.parent;!Tc(o);o=o.parent)i.push(o);return i}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})();var gfe=E(3360),_fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Jg(t){return(t=""+t)&&t.replace(/[&<>"']/g,function(n){return _fe[n]})}function rO(t,n){var e=t.get("editorActions",!1);e&&e.register({toggleLinting:function(){n.toggle()}})}rO.$inject=["injector","linting"];var sO='<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>',aO='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 512 512"><path fill="currentColor" d="M288 328.83c-45.518 0-82.419 34.576-82.419 77.229 0 42.652 36.9 77.229 82.419 77.229 45.518 0 82.419-34.577 82.419-77.23 0-42.652-36.9-77.229-82.419-77.229zM207.439 57.034l11.61 204.348c.544 9.334 8.78 16.64 18.755 16.64h100.392c9.975 0 18.211-7.306 18.754-16.64l11.611-204.348c.587-10.082-7.98-18.56-18.754-18.56H226.192c-10.775 0-19.34 8.478-18.753 18.56z"/></svg>',lO='<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path></svg>',cO={resolver:{resolveRule:function(){return null}},config:{}},uO={error:sO,warning:aO,success:lO,inactive:lO};function Bo(t,n,e,i,o,r,s){this._bpmnjs=t,this._canvas=n,this._elementRegistry=i,this._eventBus=o,this._overlays=r,this._translate=s,this._issues={},this._active=e&&e.active||!1,this._linterConfig=cO,this._overlayIds={};var a=this;o.on(["import.done","elements.changed","linting.configChanged","linting.toggle"],500,function(d){a.isActive()&&a.update()}),o.on("linting.toggle",function(d){d.active||(a._clearIssues(),a._updateButton())}),o.on("diagram.clear",function(){a._clearIssues()});var l=e&&e.bpmnlint;l&&o.once("diagram.init",function(){if(a.getLinterConfig()===cO)try{a.setLinterConfig(l)}catch(d){console.error("[bpmn-js-bpmnlint] Invalid lint rules configured. Please doublecheck your linting.bpmnlint configuration, cf. https://github.com/bpmn-io/bpmn-js-bpmnlint#configure-lint-rules")}}),this._init()}Bo.prototype.setLinterConfig=function(t){if(!t.config||!t.resolver)throw new Error("Expected linterConfig = { config, resolver }");this._linterConfig=t,this._eventBus.fire("linting.configChanged")},Bo.prototype.getLinterConfig=function(){return this._linterConfig},Bo.prototype._init=function(){this._createButton(),this._updateButton()},Bo.prototype.isActive=function(){return this._active},Bo.prototype._formatIssues=function(t){let n=this,e=(0,V.reduce)(t,function(r,s,a){return r.concat(s.map(function(l){return l.rule=a,l}))},[]);const o=n._elementRegistry.filter(r=>(0,te.is)(r,"bpmn:Participant")).map(r=>r.businessObject);return e=(0,V.map)(e,function(r){if(!n._elementRegistry.get(r.id)){r.isChildIssue=!0,r.actualElementId=r.id;const a=o.filter(l=>l.processRef&&l.processRef.id&&l.processRef.id===r.id);r.id=a.length?a[0].id:n._canvas.getRootElement().id}return r}),e=(0,V.groupBy)(e,function(r){return r.id}),e},Bo.prototype.toggle=function(t){return t=void 0===t?!this.isActive():t,this._setActive(t),t},Bo.prototype._setActive=function(t){this._active!==t&&(this._active=t,this._eventBus.fire("linting.toggle",{active:t}))},Bo.prototype.update=function(){var t=this;if(this._bpmnjs.getDefinitions()){var e=this._lintStart=Math.random();this.lint().then(function(i){if(t._lintStart===e){i=t._formatIssues(i);var o={},r={},s={};for(var a in t._issues)i[a]||(o[a]=t._issues[a]);for(var l in i)t._issues[l]?i[l]!==t._issues[l]&&(r[l]=i[l]):s[l]=i[l];o=(0,V.assign)(o,r),s=(0,V.assign)(s,r),t._clearOverlays(),t._createIssues(s),t._issues=i,t._updateButton(),t._fireComplete(i)}})}},Bo.prototype._fireComplete=function(t){this._eventBus.fire("linting.completed",{issues:t})},Bo.prototype._createIssues=function(t){for(var n in t)this._createElementIssues(n,t[n])},Bo.prototype._createElementIssues=function(t,n){var e=this._elementRegistry.get(t);if(e){var i=this._elementRegistry.get(t+"_plane");i&&this._createElementIssues(i.id,n);var o,r,s=!e.parent;s&&(0,te.is)(e,"bpmn:Process")?(o="bottom-right",r={top:20,left:150}):s&&(0,te.is)(e,"bpmn:SubProcess")?(o="bottom-right",r={top:50,left:150}):(o="top-right",r={top:-7,left:-7});var a=(0,V.groupBy)(n,function(_e){return(_e.isChildIssue?"child":"")+_e.category}),l=a.error,d=a.warn,h=a.childerror,w=a.childwarn;if(l||d||h||w){var P=$n('<div class="bjsl-overlay bjsl-issues-'+o+'"></div>'),N=$n(l||h?'<div class="bjsl-icon bjsl-icon-error">'+sO+"</div>":'<div class="bjsl-icon bjsl-icon-warning">'+aO+"</div>"),L=$n('<div class="bjsl-dropdown"></div>'),U=$n('<div class="bjsl-dropdown-content"></div>'),q=$n('<div class="bjsl-issues"></div>'),Z=$n('<div class="bjsl-current-element-issues"></div>'),Q=$n("<ul></ul>");if(P.appendChild(N),P.appendChild(L),L.appendChild(U),U.appendChild(q),q.appendChild(Z),Z.appendChild(Q),l&&this._addErrors(Q,l),d&&this._addWarnings(Q,d),h||w){var K=$n('<div class="bjsl-child-issues"></div>'),J=$n("<ul></ul>"),ae=$n('<a class="bjsl-issue-heading">Issues for child elements:</a>');if(h&&this._addErrors(J,h),w&&this._addWarnings(J,w),l||d){var we=$n("<hr/>");K.appendChild(we)}K.appendChild(ae),K.appendChild(J),q.appendChild(K)}this._overlayIds[t]=this._overlays.add(e,"linting",{position:r,html:P,scale:{min:.9}})}}},Bo.prototype._addErrors=function(t,n){var e=this;n.forEach(function(i){e._addEntry(t,"error",i)})},Bo.prototype._addWarnings=function(t,n){var e=this;n.forEach(function(i){e._addEntry(t,"warning",i)})},Bo.prototype._addEntry=function(t,n,e){var i=e.rule,o=this._translate(e.message),r=e.actualElementId,a=$n('<li class="'+n+'"><span class="icon"> '+uO[n]+'</span><a title="'+Jg(i)+": "+Jg(o)+'" data-rule="'+Jg(i)+'" data-message="'+Jg(o)+'">'+Jg(o)+"</a>"+(r?'<a class="bjsl-id-hint"><code>'+r+"</code></a>":"")+"</li>");t.appendChild(a)},Bo.prototype._clearOverlays=function(){this._overlays.remove({type:"linting"}),this._overlayIds={}},Bo.prototype._clearIssues=function(){this._issues={},this._clearOverlays()},Bo.prototype._setButtonState=function(t,n,e){var i=this._button,r=uO[t]+"<span>"+this._translate("{errors} Errors, {warnings} Warnings",{errors:n.toString(),warnings:e.toString()})+"</span>";["error","inactive","success","warning"].forEach(function(s){t===s?i.classList.add("bjsl-button-"+s):i.classList.remove("bjsl-button-"+s)}),i.innerHTML=r},Bo.prototype._updateButton=function(){if(this.isActive()){var t=0,n=0;for(var e in this._issues)this._issues[e].forEach(function(o){"error"===o.category?t++:"warn"===o.category&&n++});this._setButtonState((t?"error":n&&"warning")||"success",t,n)}else this._setButtonState("inactive",0,0)},Bo.prototype._createButton=function(){var t=this;this._button=$n('<button class="bjsl-button bjsl-button-inactive" title="'+this._translate("Toggle linting")+'"></button>'),this._button.addEventListener("click",function(){t.toggle()}),this._canvas.getContainer().appendChild(this._button)},Bo.prototype.lint=function(){var t=this._bpmnjs.getDefinitions();return new gfe.Linter(this._linterConfig).lint(t)},Bo.$inject=["bpmnjs","canvas","config.linting","elementRegistry","eventBus","overlays","translate"];const dO={__init__:["linting","lintingEditorActions"],linting:["type",Bo],lintingEditorActions:["type",rO]};var xfe=E(4927),Cfe=E.n(xfe),Mfe=E(8066),Sfe=E.n(Mfe),Efe=E(4100),Tfe=E.n(Efe),Pfe=E(810),Dfe=E.n(Pfe),Ffe=E(7349),Afe=E.n(Ffe),Ife=E(8589),kfe=E.n(Ife),Nfe=E(6177),Rfe=E.n(Nfe),Ofe=E(82),Bfe=E.n(Ofe),Lfe=E(109),jfe=E.n(Lfe),Gfe=E(5555),Vfe=E.n(Gfe),Hfe=E(6171);function Ufe(){return{check:(n,e)=>{(0,Hfe.is)(n,"bpmn:Activity")&&0===n.get("neededType").length&&!n.inherit&&e.report(n.id,"Must set types or inherit types via gear icon")}}}let pO=(()=>{class t{getBpmnLinter(){return new(Cfe())({config:{rules:{"end-event-required":"error","fake-join":"error","superfluous-gateway":"warn","no-disconnected":"warn","no-duplicate-sequence-flows":"error","no-implicit-split":"error","single-blank-start-event":"error","start-event-required":"error","sbmd/no-empty-types":"error"}},resolver:new(Sfe())({"rule:bpmnlint/end-event-required":Tfe(),"rule:bpmnlint/fake-join":Dfe(),"rule:bpmnlint/superfluous-gateway":Afe(),"rule:bpmnlint/no-disconnected":kfe(),"rule:bpmnlint/no-duplicate-sequence-flows":Rfe(),"rule:bpmnlint/no-implicit-split":Bfe(),"rule:bpmnlint/single-blank-start-event":jfe(),"rule:bpmnlint/start-event-required":Vfe(),"rule:bpmnlint-plugin-sbmd/no-empty-types":Ufe})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),mO=(()=>{class t extends uE{constructor(e){super(),this.processPatternLinterService=e}initModeling(e,i=!1){var o=this;return Y(function*(){const r=o.getProcessPatternModeler(i);return null!=e?yield r.importXML(e.pattern):yield r.createDiagram(),r})()}getProcessPatternDiagram(e){return Y(function*(){return(yield e.saveXML()).xml})()}endModeling(e,i){return Y(function*(){const o=yield i.saveXML();e.pattern=o.xml,i.destroy()})()}getProcessPatternModeler(e=!1){return new xs(e?{linting:{bpmnlint:this.processPatternLinterService.getBpmnLinter()},additionalModules:[dO],moddleExtensions:{bmdl:Ru}}:{additionalModules:[],moddleExtensions:{bmdl:Ru}})}getBoundaries(e){return yr(e.get("elementRegistry").filter(i=>!Tc(i)))}getNodes(e){return e.get("elementRegistry").filter(i=>Dm(i)||function die(t){return(0,te.is)(t,"bpmn:TextAnnotation")&&!Gi(t)}(i))}getConnections(e){return e.get("elementRegistry").filter(i=>EC(i)||function pie(t){return(0,te.is)(t,"bpmn:Association")&&!Gi(t)}(i))}}return t.\u0275fac=function(e){return new(e||t)(Ve(pO))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),pE=(()=>{class t{constructor(e,i){this.bmProcessDiagramModelerService=e,this.processPatternDiagramModelerService=i}getEmptyBmProcessDiagram(){var e=this;return Y(function*(){const i=yield e.bmProcessDiagramModelerService.initModeling(),o=yield e.bmProcessDiagramModelerService.getBmProcessDiagram(i);return e.bmProcessDiagramModelerService.abortModeling(i),o})()}getPatternProcesses(e){var i=this;return Y(function*(){const o=yield i.bmProcessDiagramModelerService.initModeling(e),r=i.bmProcessDiagramModelerService.getPatternProcesses(o);return i.bmProcessDiagramModelerService.abortModeling(o),r.map(s=>({nodeId:s.id,processPatternId:i.bmProcessDiagramModelerService.getPatternId(s)}))})()}checkArtifacts(e){var i=this;return Y(function*(){const o=yield i.bmProcessDiagramModelerService.initModeling(e),s=new wA(o,e.decisions).checkArtifacts();return i.bmProcessDiagramModelerService.abortModeling(o),s})()}appendProcessPattern(e,i,o){var r=this;return Y(function*(){const s=yield r.bmProcessDiagramModelerService.initModeling(e),a=yield r.processPatternDiagramModelerService.initModeling(i),l=r.bmProcessDiagramModelerService.getNode(s,o);if(r.bmProcessDiagramModelerService.hasOutgoingFlows(l))throw yield r.processPatternDiagramModelerService.abortModeling(a),yield r.bmProcessDiagramModelerService.abortModeling(s),new Error("This attachment point can not be used");const d=r.processPatternDiagramModelerService.getBoundaries(a),h=r.bmProcessDiagramModelerService.getProcessSize(d),w=r.bmProcessDiagramModelerService.getProcessPointAttachment(l,h),P=r.bmProcessDiagramModelerService.createSubProcess(s,i.name,i._id,l.parent,w,h);r.bmProcessDiagramModelerService.createConnection(s,l,P,l.parent);const N=r.bmProcessDiagramModelerService.getTranslatePointFunction(d,w),L="_"+String(Date.now());r.appendNodes(s,a,P,L,N),r.connectNodes(s,a,P,L,N),yield r.processPatternDiagramModelerService.abortModeling(a),yield r.bmProcessDiagramModelerService.endModeling(e,s)})()}insertProcessPattern(e,i,o){var r=this;return Y(function*(){const s=yield r.bmProcessDiagramModelerService.initModeling(e),a=yield r.processPatternDiagramModelerService.initModeling(i),l=r.bmProcessDiagramModelerService.getNode(s,o),d=r.processPatternDiagramModelerService.getBoundaries(a),h=r.bmProcessDiagramModelerService.getProcessSize(d);let w=r.bmProcessDiagramModelerService.getProcessPointInsertion(l,h);w=r.bmProcessDiagramModelerService.createSpace(s,w,h,l);const P=r.bmProcessDiagramModelerService.createSubProcess(s,i.name,i._id,l.parent,w,h,r.bmProcessDiagramModelerService.getTaskName(l));r.bmProcessDiagramModelerService.copyBpmnData(s,l,P),r.bmProcessDiagramModelerService.exchange(s,l,P);const N=r.bmProcessDiagramModelerService.getTranslatePointFunction(d,w),L="_"+String(Date.now());r.appendNodes(s,a,P,L,N),r.connectNodes(s,a,P,L,N),yield r.processPatternDiagramModelerService.abortModeling(a),yield r.bmProcessDiagramModelerService.endModeling(e,s)})()}removeProcessPattern(e,i){var o=this;return Y(function*(){const r=yield o.bmProcessDiagramModelerService.initModeling(e),s=o.bmProcessDiagramModelerService.getNode(r,i),a=[],l=(d,h)=>{null!=h.element.businessObject&&null!=h.element.businessObject.method&&(a.push({nodeId:h.element.id,decision:e.decisions[h.element.id]}),e.removeDecision(h.element.id))};if(Fm(s.parent)){const d=o.bmProcessDiagramModelerService.createActivity(r,s);o.bmProcessDiagramModelerService.exchange(r,s,d,l)}else o.bmProcessDiagramModelerService.removeNode(r,s,l);return yield o.bmProcessDiagramModelerService.endModeling(e,r),a})()}insertDevelopmentMethod(e,i,o){var r=this;return Y(function*(){const s=yield r.bmProcessDiagramModelerService.initModeling(e),a=r.bmProcessDiagramModelerService.getNode(s,i);r.bmProcessDiagramModelerService.setDevelopmentMethod(s,a,o.name,o._id),yield r.bmProcessDiagramModelerService.endModeling(e,s)})()}removeDevelopmentMethod(e,i){var o=this;return Y(function*(){const r=yield o.bmProcessDiagramModelerService.initModeling(e),s=o.bmProcessDiagramModelerService.getNode(r,i);o.bmProcessDiagramModelerService.removeDevelopmentMethod(r,s),yield o.bmProcessDiagramModelerService.endModeling(e,r)})()}appendNodes(e,i,o,r,s){this.processPatternDiagramModelerService.getNodes(i).forEach(a=>this.bmProcessDiagramModelerService.copyNode(e,o,a,r,s))}connectNodes(e,i,o,r,s){this.processPatternDiagramModelerService.getConnections(i).forEach(a=>this.bmProcessDiagramModelerService.copyConnection(e,o,a,r,s))}}return t.\u0275fac=function(e){return new(e||t)(Ve(dE),Ve(mO))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),Zl=(()=>{class t{constructor(){this.metaModels=[]}registerMetaModel(e){this.metaModels.push(e)}getMetaModelApi(e){var i;const o=null===(i=this.getMetaModelDefinition(e))||void 0===i?void 0:i.api;if(null==o)throw new Error("No meta model api for type "+e);return o}getMetaModelDefinition(e){return this.metaModels.find(i=>i.type===e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),zr=(()=>{class t{constructor(){this.modules=[]}registerModule(e){this.modules.push(e)}getModule(e){return this.modules.find(i=>i.name===e)}getNavigationItems(){return this.modules.map(e=>e.navigation).flat()}getLists(){const e={};this.modules.forEach(o=>{o.list in e?e[o.list].push(o):e[o.list]=[o]});const i=[];return Object.entries(e).forEach(([o,r])=>{i.push({listName:o,elements:r})}),i}getModuleMethod(e,i){const o=this.modules.find(r=>r.name===e);if(o)return o.methods[i]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),ul=(()=>{class t extends xa{getLists(){var e=this;return Y(function*(){const i=yield e.getList(),o={};i.forEach(s=>{s.list in o?o[s.list].push(s):o[s.list]=[s]});const r=[];return Object.entries(o).forEach(([s,a])=>{r.push({listName:s,elements:a})}),r})()}update(e,i){var o=this;return Y(function*(){const r=yield o.get(e);return r.update(i),o.save(r)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),Hc=(()=>{class t extends ul{constructor(){super(...arguments),this.typeName=Nh.typeName,this.elementConstructor=Nh}sortByDistance(e,i){const o={};return i.forEach(r=>{const s=r.situationalFactors.map(a=>a.element);o[r._id]=this.distance(e,s)}),i.sort((r,s)=>o[r._id]-o[s._id])}distance(e,i){const o=this.createMap(i),{missing:r,incorrect:s,low:a}=this.checkMatch(e,o);let l=s.length;return a.forEach(h=>{l+=(h.factor.values.indexOf(h.value)-h.factor.values.indexOf(o[h.factor.list][h.factor.name]))/h.factor.values.length}),l-(e.length-r.length-s.length-a.length)}checkMatch(e,i){const o={missing:[],low:[],incorrect:[]};return e.forEach(r=>{if(null!=r)if(r.factor.list in i&&r.factor.name in i[r.factor.list]){const s=i[r.factor.list][r.factor.name];r.value!==s&&(r.factor.ordered?r.factor.values.indexOf(r.value)>r.factor.values.indexOf(s)&&o.low.push(r):o.incorrect.push(r))}else o.missing.push(r)}),o}createMap(e){const i={};return e.forEach(o=>{o.factor.list in i||(i[o.factor.list]={}),i[o.factor.list][o.factor.name]=o.value}),i}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),dl=(()=>{class t extends xa{constructor(e,i,o,r){super(o),this.metaModelService=e,this.moduleService=i,this.situationalFactorService=r,this.typeName=fd.typeName,this.elementConstructor=fd}getSortedList(e){var i=this;return Y(function*(){const o=yield i.getList();return i.situationalFactorService.sortByDistance(e,o)})()}getValidDevelopmentMethods(e,i){var o=this;return Y(function*(){return(yield o.pouchdbService.find(fd.typeName,{selector:{}})).filter(r=>Rl.validTypes(r.types,e,i))})()}getSortedValidDevelopmentMethods(e,i,o){var r=this;return Y(function*(){const s=yield r.getValidDevelopmentMethods(e,i);return r.situationalFactorService.sortByDistance(o,s)})()}update(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);r.update(i),yield o.save(r)}finally{o.freeWrite(e)}})()}isCorrectlyDefined(e){return this.isInputArtifactsCorrectlyDefined(e)&&this.isExecutionStepsCorrectlyDefined(e)}isInputArtifactsCorrectlyDefined(e){return e.inputArtifacts.groups.every(i=>i.items.every(o=>this.isInputArtifactCorrectlyDefined(e,o)))}isInputArtifactCorrectlyDefined(e,i){return null==i.element||null==i.element.metaModel||i.optional?0===i.mapping.length:i.mapping.every(o=>this.isInputArtifactMappingCorrectlyDefined(e,i,o))}isInputArtifactMappingCorrectlyDefined(e,i,o){var r,s,a,l,d,h,w,P,N;if(o.isOutputMapping()){if(!this.mappingPointsToDefinedOutput(e.outputArtifacts,null===(s=null===(r=i.element)||void 0===r?void 0:r.metaModel)||void 0===s?void 0:s.type,o))return!1;const L=e.outputArtifacts.groups[o.group].items[o.artifact],U=null===(d=this.metaModelService.getMetaModelDefinition(null===(l=null===(a=L.element)||void 0===a?void 0:a.metaModel)||void 0===l?void 0:l.type))||void 0===d?void 0:d.api;return null==U||null==U.compatibleMetaModelData||U.compatibleMetaModelData(null===(h=i.element)||void 0===h?void 0:h.metaModelData,null===(w=L.element)||void 0===w?void 0:w.metaModelData)}return!!o.isStepMapping()&&this.mappingPointsToDefinedStepInput(e.executionSteps,null===(N=null===(P=i.element)||void 0===P?void 0:P.metaModel)||void 0===N?void 0:N.type,o)}isExecutionStepsCorrectlyDefined(e){const i=e.getAllToolNames();return e.executionSteps.every((o,r)=>this.isExecutionStepCorrectlyDefined(e,i,r))}isExecutionStepCorrectlyDefined(e,i,o){return this.hasInputArtifactForStep(e,o)&&this.isPredefinedInputDefined(e,o)&&this.isDefinedInTools(e,i,o)&&this.isStepMappingsCorrectlyDefined(e,o)&&this.isExecutionStepMethodCorrect(e,o)}isExecutionStepMethodCorrect(e,i){const o=e.executionSteps[i];if(!ho(o))return!0;const r=this.moduleService.getModuleMethod(o.module,o.method);if(null==r)return!1;if(null==r.isMethodCorrectlyDefined)return!0;const s=e.checkStepInputArtifacts(i,r.input.length);return r.isMethodCorrectlyDefined(e,s,o.predefinedInput,o.outputMappings)}isStepMappingsCorrectlyDefined(e,i){const o=e.executionSteps[i];if(!ho(o))return!0;const r=this.moduleService.getModuleMethod(o.module,o.method);return null!=r&&o.outputMappings.every((s,a)=>s.every(l=>this.isStepMappingCorrectlyDefined(e,r,a,l)))}isStepMappingCorrectlyDefined(e,i,o,r){return r.isOutputMapping()?this.mappingPointsToDefinedOutput(e.outputArtifacts,i.output[o].type,r):!!r.isStepMapping()&&this.mappingPointsToDefinedStepInput(e.executionSteps,i.output[o].type,r)}isDefinedInTools(e,i,o){const r=e.executionSteps[o];return!ho(r)||i.has(r.module)}isPredefinedInputDefined(e,i){const o=e.executionSteps[i];if(!ho(o))return!0;const r=this.moduleService.getModuleMethod(o.module,o.method);if(null==r)throw new Error("ExecutionStep uses unknown method");return null==r.createConfigurationForm||r.createConfigurationForm(o.predefinedInput).valid}hasInputArtifactForStep(e,i){const o=e.executionSteps[i];if(!ho(o))return!0;const r=this.moduleService.getModuleMethod(o.module,o.method);if(null==r)throw new Error("ExecutionStep uses unknown method");return e.checkStepInputArtifacts(i,r.input.length).every(a=>this.hasInputArtifactForStepArtifact(e,i,a))}hasInputArtifactForStepArtifact(e,i,o){return 0!==o.length&&(o.filter(r=>r.isStep).some(r=>r.index<i)||e.inputArtifacts.groups.every((r,s)=>o.filter(a=>!a.isStep&&a.index===s).length>0))}mappingPointsToDefinedOutput(e,i,o){if(e.groups.length<=o.group||e.groups[o.group].items.length<=o.artifact)return!1;const r=e.groups[o.group].items[o.artifact];return null!=r.element&&null!=r.element.metaModel&&r.element.metaModel.type===i}mappingPointsToDefinedStepInput(e,i,o){if(e.length<=o.step)return!1;const r=e[o.step];if(!ho(r))return!1;const s=this.moduleService.getModuleMethod(r.module,r.method);return!(null==s||s.input.length<=o.artifact)&&s.input[o.artifact].type===i}}return t.\u0275fac=function(e){return new(e||t)(Ve(Zl),Ve(zr),Ve(rs),Ve(Hc))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),Zg=(()=>{class t extends gs{constructor(e,i){var o,r,s,a,l,d,h,w,P,N;let L;if(super(e,i,t.typeName),this.description="",this.types=[],this.situationalFactors=[],null!=e)L=e,this.author=new Ks(e.author,void 0),this.types=null!==(r=null===(o=e.types)||void 0===o?void 0:o.map(U=>new fo(U,void 0,Rl)))&&void 0!==r?r:this.types,this.situationalFactors=null!==(a=null===(s=e.situationalFactors)||void 0===s?void 0:s.map(U=>new fo(U,void 0,Fr)))&&void 0!==a?a:this.situationalFactors;else{if(null==i)throw new Error("Either entry or init must be provided.");L=i,this.author=new Ks(void 0,null!==(l=i.author)&&void 0!==l?l:{}),this.types=null!==(h=null===(d=i.types)||void 0===d?void 0:d.map(U=>new fo(void 0,U,Rl)))&&void 0!==h?h:this.types,this.situationalFactors=null!==(P=null===(w=i.situationalFactors)||void 0===w?void 0:w.map(U=>new fo(void 0,U,Fr)))&&void 0!==P?P:this.situationalFactors}this.name=L.name,this.description=null!==(N=L.description)&&void 0!==N?N:this.description,this.pattern=L.pattern}update(e){Object.assign(this,e),this.author=new Ks(void 0,this.author),this.types=this.types.map(i=>new fo(void 0,i,Rl)),this.situationalFactors=this.situationalFactors.map(i=>new fo(void 0,i,Fr))}toDb(){return Object.assign(Object.assign({},super.toDb()),{name:this.name,description:this.description,author:this.author.toDb(),pattern:this.pattern,types:this.types.map(e=>e.toDb()),situationalFactors:this.situationalFactors.map(e=>e.toDb())})}}return t.typeName="ProcessPattern",t})(),fO=(()=>{class t{constructor(e){this.processPatternDiagramModelerService=e}getEmptyProcessPatternDiagram(){var e=this;return Y(function*(){const i=yield e.processPatternDiagramModelerService.initModeling(),o=yield e.processPatternDiagramModelerService.getProcessPatternDiagram(i);return e.processPatternDiagramModelerService.abortModeling(i),o})()}isCorrectlyDefined(e){var i=this;return Y(function*(){const o=yield i.processPatternDiagramModelerService.initModeling(e,!0),r=yield o.get("linting").lint(),s=Object.values(r).every(a=>a.every(l=>"error"!==l.category));return yield i.processPatternDiagramModelerService.abortModeling(o),s})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(mO))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ou=(()=>{class t extends xa{constructor(e,i,o){super(e),this.processPatternDiagramService=i,this.situationalFactorService=o,this.typeName=Zg.typeName,this.elementConstructor=Zg}getValidProcessPatterns(e,i){var o=this;return Y(function*(){return(yield o.pouchdbService.find(Zg.typeName,{selector:{}})).filter(r=>Rl.validTypes(r.types,e,i))})()}getSortedValidProcessPatterns(e,i,o){var r=this;return Y(function*(){const s=yield r.getValidProcessPatterns(e,i);return r.situationalFactorService.sortByDistance(o,s)})()}update(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.update(i),yield o.save(r)})()}getProcessPatterns(e){var i=this;return Y(function*(){return(yield i.pouchdbService.find(Zg.typeName,{selector:{_id:{$in:e}}})).map(o=>new Zg(o,void 0))})()}isCorrectlyDefined(e){var i=this;return Y(function*(){return i.processPatternDiagramService.isCorrectlyDefined(e)})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(rs),Ve(fO),Ve(Hc))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),Na=(()=>{class t extends xa{constructor(e,i,o,r,s,a){super(r),this.bmProcessDiagramService=e,this.developmentMethodService=i,this.moduleService=o,this.processPatternService=s,this.situationalFactorService=a,this.typeName=pm.typeName,this.elementConstructor=pm}finishInitialization(e){var i=this;return Y(function*(){try{const o=yield i.getWrite(e);o.finishInitialization(),yield i.save(o)}finally{i.freeWrite(e)}})()}updateDomains(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);r.domains=i,yield o.save(r)}finally{o.freeWrite(e)}})()}updateSituationalFactors(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);r.situationalFactors=i.map(s=>new fo(void 0,s,Fr)),yield o.save(r)}finally{o.freeWrite(e)}})()}saveBmProcessDiagram(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e);s.processDiagram=i,null!=o&&s.updateDecisions(o),yield r.save(s)}finally{r.freeWrite(e)}})()}checkMatch(e,i){const o=this.situationalFactorService.createMap(i);return this.situationalFactorService.checkMatch(e.situationalFactors.map(r=>r.element),o)}isComplete(e){return e.isComplete()&&Object.values(e.decisions).every(i=>this.checkDecisionStepArtifacts(i))}checkDecisionStepArtifacts(e){for(let i=0;i<e.method.executionSteps.length;i++){const o=e.method.executionSteps[i];if(ho(o)){const r=this.moduleService.getModuleMethod(o.module,o.method);if(null==r)throw new Error("ExecutionStep uses unknown method");if(null!=r.createDecisionConfigurationForm&&!r.createDecisionConfigurationForm(e.stepDecisions[i]).valid)return!1}}return!0}appendProcessPattern(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e),a=yield r.processPatternService.get(i);if(!(yield r.processPatternService.isCorrectlyDefined(a)))throw new Error("Process Pattern is not correctly defined");yield r.bmProcessDiagramService.appendProcessPattern(s,a,o),yield r.save(s)}finally{r.freeWrite(e)}})()}insertProcessPattern(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e),a=yield r.processPatternService.get(i);if(!(yield r.processPatternService.isCorrectlyDefined(a)))throw new Error("Process Pattern is not correctly defined");s.removeDecision(o),yield r.bmProcessDiagramService.insertProcessPattern(s,a,o),yield r.save(s)}finally{r.freeWrite(e)}})()}removeProcessPattern(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);yield o.bmProcessDiagramService.removeProcessPattern(r,i),yield o.save(r)}finally{o.freeWrite(e)}})()}insertDevelopmentMethod(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e),a=yield r.developmentMethodService.get(o);if(!r.developmentMethodService.isCorrectlyDefined(a))throw new Error("Method not correctly defined");s.addDecision(i,a),yield r.bmProcessDiagramService.insertDevelopmentMethod(s,i,a),yield r.save(s)}finally{r.freeWrite(e)}})()}removeDevelopmentMethod(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);r.removeDecision(i),yield o.bmProcessDiagramService.removeDevelopmentMethod(r,i),yield o.save(r)}finally{o.freeWrite(e)}})()}getPatterns(e){var i=this;return Y(function*(){const o=yield i.bmProcessDiagramService.getPatternProcesses(e),r=yield i.processPatternService.getProcessPatterns(o.map(a=>a.processPatternId)),s={};return r.forEach(a=>s[a._id]=a),o.map(a=>({nodeId:a.nodeId,processPattern:s[a.processPatternId]}))})()}checkArtifacts(e){var i=this;return Y(function*(){return i.bmProcessDiagramService.checkArtifacts(e)})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(pE),Ve(dl),Ve(zr),Ve(rs),Ve(Ou),Ve(Hc))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),Bu=(()=>{class t extends xa{constructor(){super(...arguments),this.typeName=fm.typeName,this.elementConstructor=fm}updateRows(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.updateRows(i),yield o.save(r)})()}update(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.update(i),yield o.save(r)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hO=(()=>{class t extends xa{createFeatureModel(e,i){const o=new this.elementConstructor(void 0,e);return o.definition=i,o}update(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.update(i),yield o.save(r)})()}updateAuthor(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.updateAuthor(i),yield o.save(r)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),Lo=(()=>{class t extends hO{constructor(){super(...arguments),this.typeName=No.typeName,this.elementConstructor=No}getAll(){var e=()=>super.getList,i=this;return Y(function*(){return e().call(i)})()}getList(e){var i=this;return Y(function*(){let o=yield i.pouchdbService.find(No.typeName,{selector:{createdByMethod:!1}});return null!=e&&(o=o.filter(r=>r.$definition._id===e)),o})()}save(e){var i=this;return Y(function*(){yield i.pouchdbService.put(e)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),e_=(()=>{class t extends xa{constructor(){super(...arguments),this.typeName=_s.typeName,this.elementConstructor=_s}update(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.update(i),yield o.save(r)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),Cs=(()=>{class t extends hO{constructor(){super(...arguments),this.typeName=hd.typeName,this.elementConstructor=hd}getList(e={}){var i=this;return Y(function*(){return i.pouchdbService.find(hd.typeName,{selector:e})})()}updateDomains(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.updateDomains(i),yield o.save(r)})()}addInstance(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.addInstance(i),yield o.save(r)})()}removeInstance(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.removeInstance(i),yield o.save(r)})()}save(e){var i=this;return Y(function*(){yield i.pouchdbService.put(e)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Wd=new X(t=>t.complete());function Oy(t){return t?function zfe(t){return new X(n=>t.schedule(()=>n.complete()))}(t):Wd}function Mn(...t){let n=t[t.length-1];return Je(n)?(t.pop(),fe(t,n)):Ai(t)}function sr(t,n,e,i){return O(e)&&(i=e,e=void 0),i?sr(t,n,e).pipe(Ze(o=>oe(o)?i(...o):i(o))):new X(o=>{gO(t,n,function r(s){o.next(arguments.length>1?Array.prototype.slice.call(arguments):s)},o,e)})}function gO(t,n,e,i,o){let r;if(function Wfe(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const s=t;t.addEventListener(n,e,o),r=()=>s.removeEventListener(n,e,o)}else if(function $fe(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const s=t;t.on(n,e),r=()=>s.off(n,e)}else if(function qfe(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const s=t;t.addListener(n,e),r=()=>s.removeListener(n,e)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,a=t.length;s<a;s++)gO(t[s],n,e,i,o)}i.add(r)}function mE(t){return!oe(t)&&t-parseFloat(t)+1>=0}function _O(t=0,n,e){let i=-1;return mE(n)?i=Number(n)<1?1:Number(n):Je(n)&&(e=n),Je(e)||(e=sx),new X(o=>{const r=mE(t)?t:+t-e.now();return e.schedule(Yfe,r,{index:0,period:i,subscriber:o})})}function Yfe(t){const{index:n,period:e,subscriber:i}=t;if(i.next(n),!i.closed){if(-1===e)return i.complete();t.index=n+1,this.schedule(t,e)}}class fE extends y{notifyNext(n,e,i,o,r){this.destination.next(e)}notifyError(n,e){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class Xfe extends y{constructor(n,e,i){super(),this.parent=n,this.outerValue=e,this.outerIndex=i,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function hE(t,n,e,i,o=new Xfe(t,e,i)){if(!o.closed)return n instanceof X?n.subscribe(o):ee(n)(o)}function vO(...t){if(1===t.length){if(!oe(t[0]))return t[0];t=t[0]}return Ai(t,void 0).lift(new Kfe)}class Kfe{call(n,e){return e.subscribe(new Qfe(n))}}class Qfe extends fE{constructor(n){super(n),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(n){this.observables.push(n)}_complete(){const n=this.observables,e=n.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const r=hE(this,n[i],void 0,i);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(n,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==i){let r=this.subscriptions[o];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(e)}}class wr extends Oe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return e&&!e.closed&&n.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ae;return this._value}next(n){super.next(this._value=n)}}const bO={};function gE(...t){let n,e;return Je(t[t.length-1])&&(e=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&oe(t[0])&&(t=t[0]),Ai(t,e).lift(new Jfe(n))}class Jfe{constructor(n){this.resultSelector=n}call(n,e){return e.subscribe(new Zfe(n,this.resultSelector))}}class Zfe extends fE{constructor(n,e){super(n),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(bO),this.observables.push(n)}_complete(){const n=this.observables,e=n.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(hE(this,n[i],void 0,i))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,e,i){const o=this.values,s=this.toRespond?o[i]===bO?--this.toRespond:this.toRespond:0;o[i]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(n){let e;try{e=this.resultSelector.apply(this,n)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function Uc(){}const yO=new X(Uc);function By(...t){const n=t[t.length-1];return"function"==typeof n&&t.pop(),Ai(t,void 0).lift(new ehe(n))}class ehe{constructor(n){this.resultSelector=n}call(n,e){return e.subscribe(new the(n,this.resultSelector))}}class the extends y{constructor(n,e,i=Object.create(null)){super(n),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(n){const e=this.iterators;oe(n)?e.push(new ihe(n)):e.push("function"==typeof n[ue]?new nhe(n[ue]()):new ohe(this.destination,this,n))}_complete(){const n=this.iterators,e=n.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let o=n[i];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const n=this.iterators,e=n.length,i=this.destination;for(let s=0;s<e;s++){let a=n[s];if("function"==typeof a.hasValue&&!a.hasValue())return}let o=!1;const r=[];for(let s=0;s<e;s++){let a=n[s],l=a.next();if(a.hasCompleted()&&(o=!0),l.done)return void i.complete();r.push(l.value)}this.resultSelector?this._tryresultSelector(r):i.next(r),o&&i.complete()}_tryresultSelector(n){let e;try{e=this.resultSelector.apply(this,n)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class nhe{constructor(n){this.iterator=n,this.nextResult=n.next()}hasValue(){return!0}next(){const n=this.nextResult;return this.nextResult=this.iterator.next(),n}hasCompleted(){const n=this.nextResult;return Boolean(n&&n.done)}}class ihe{constructor(n){this.array=n,this.index=0,this.length=0,this.length=n.length}[ue](){return this}next(n){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ohe extends tt{constructor(n,e,i){super(n),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[ue](){return this}next(){const n=this.buffer;return 0===n.length&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(n){this.buffer.push(n),this.parent.checkIterators()}subscribe(){return Ot(this.observable,new Ye(this))}}function Ly(...t){return function rhe(){return En(1)}()(Mn(...t))}function xr(t){return n=>n.lift(new ahe(t))}class ahe{constructor(n){this.notifier=n}call(n,e){const i=new lhe(n),o=Ot(this.notifier,new Ye(i));return o&&!i.seenValue?(i.add(o),e.subscribe(i)):i}}class lhe extends tt{constructor(n){super(n),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Li(t,n){return function(i){return i.lift(new che(t,n))}}class che{constructor(n,e){this.predicate=n,this.thisArg=e}call(n,e){return e.subscribe(new uhe(n,this.predicate,this.thisArg))}}class uhe extends y{constructor(n,e,i){super(n),this.predicate=e,this.thisArg=i,this.count=0}_next(n){let e;try{e=this.predicate.call(this.thisArg,n,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(n)}}const wO=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function js(t){return n=>0===t?Oy():n.lift(new dhe(t))}class dhe{constructor(n){if(this.total=n,this.total<0)throw new wO}call(n,e){return e.subscribe(new phe(n,this.total))}}class phe extends y{constructor(n,e){super(n),this.total=e,this.count=0}_next(n){const e=this.total,i=++this.count;i<=e&&(this.destination.next(n),i===e&&(this.destination.complete(),this.unsubscribe()))}}function jy(...t){const n=t[t.length-1];return Je(n)?(t.pop(),e=>Ly(t,e,n)):e=>Ly(t,e)}function qr(t,n){return"function"==typeof n?e=>e.pipe(qr((i,o)=>Le(t(i,o)).pipe(Ze((r,s)=>n(i,r,o,s))))):e=>e.lift(new mhe(t))}class mhe{constructor(n){this.project=n}call(n,e){return e.subscribe(new fhe(n,this.project))}}class fhe extends tt{constructor(n,e){super(n),this.project=e,this.index=0}_next(n){let e;const i=this.index++;try{e=this.project(n,i)}catch(o){return void this.destination.error(o)}this._innerSub(e)}_innerSub(n){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Ye(this),o=this.destination;o.add(i),this.innerSubscription=Ot(n,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}function un(t,n,e){return function(o){return o.lift(new hhe(t,n,e))}}class hhe{constructor(n,e,i){this.nextOrObserver=n,this.error=e,this.complete=i}call(n,e){return e.subscribe(new ghe(n,this.nextOrObserver,this.error,this.complete))}}class ghe extends y{constructor(n,e,i,o){super(n),this._tapNext=Uc,this._tapError=Uc,this._tapComplete=Uc,this._tapError=i||Uc,this._tapComplete=o||Uc,O(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Uc,this._tapError=e.error||Uc,this._tapComplete=e.complete||Uc)}_next(n){try{this._tapNext.call(this._context,n)}catch(e){return void this.destination.error(e)}this.destination.next(n)}_error(n){try{this._tapError.call(this._context,n)}catch(e){return void this.destination.error(e)}this.destination.error(n)}_complete(){try{this._tapComplete.call(this._context)}catch(n){return void this.destination.error(n)}return this.destination.complete()}}function _E(...t){return n=>{let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),n.lift(new _he(t,e))}}class _he{constructor(n,e){this.observables=n,this.project=e}call(n,e){return e.subscribe(new vhe(n,this.observables,this.project))}}class vhe extends fE{constructor(n,e,i){super(n),this.observables=e,this.project=i,this.toRespond=[];const o=e.length;this.values=new Array(o);for(let r=0;r<o;r++)this.toRespond.push(r);for(let r=0;r<o;r++)this.add(hE(this,e[r],void 0,r))}notifyNext(n,e,i){this.values[i]=e;const o=this.toRespond;if(o.length>0){const r=o.indexOf(i);-1!==r&&o.splice(r,1)}}notifyComplete(){}_next(n){if(0===this.toRespond.length){const e=[n,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(n){let e;try{e=this.project.apply(this,n)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function t_(t,n){return new X(n?e=>n.schedule(yhe,0,{error:t,subscriber:e}):e=>e.error(t))}function yhe({error:t,subscriber:n}){n.error(t)}class Gs{constructor(n,e,i){this.kind=n,this.value=e,this.error=i,this.hasValue="N"===n}observe(n){switch(this.kind){case"N":return n.next&&n.next(this.value);case"E":return n.error&&n.error(this.error);case"C":return n.complete&&n.complete()}}do(n,e,i){switch(this.kind){case"N":return n&&n(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(n,e,i){return n&&"function"==typeof n.next?this.observe(n):this.do(n,e,i)}toObservable(){switch(this.kind){case"N":return Mn(this.value);case"E":return t_(this.error);case"C":return Oy()}throw new Error("unexpected notification kind value")}static createNext(n){return void 0!==n?new Gs("N",n):Gs.undefinedValueNotification}static createError(n){return new Gs("E",void 0,n)}static createComplete(){return Gs.completeNotification}}function xO(t,n=sx){const i=function bhe(t){return t instanceof Date&&!isNaN(+t)}(t)?+t-n.now():Math.abs(t);return o=>o.lift(new whe(i,n))}Gs.completeNotification=new Gs("C"),Gs.undefinedValueNotification=new Gs("N",void 0);class whe{constructor(n,e){this.delay=n,this.scheduler=e}call(n,e){return e.subscribe(new vE(n,this.delay,this.scheduler))}}class vE extends y{constructor(n,e,i){super(n),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(n){const e=n.source,i=e.queue,o=n.scheduler,r=n.destination;for(;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(r);if(i.length>0){const s=Math.max(0,i[0].time-o.now());this.schedule(n,s)}else this.unsubscribe(),e.active=!1}_schedule(n){this.active=!0,this.destination.add(n.schedule(vE.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))}scheduleNotification(n){if(!0===this.errored)return;const e=this.scheduler,i=new xhe(e.now()+this.delay,n);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(n){this.scheduleNotification(Gs.createNext(n))}_error(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()}_complete(){this.scheduleNotification(Gs.createComplete()),this.unsubscribe()}}class xhe{constructor(n,e){this.time=n,this.notification=e}}class Mhe{constructor(n){this.total=n}call(n,e){return e.subscribe(new She(n,this.total))}}class She extends y{constructor(n,e){super(n),this.total=e,this.count=0}_next(n){++this.count>this.total&&this.destination.next(n)}}function Gy(t,n){return new X(e=>{const i=t.length;if(0===i)return void e.complete();const o=new Array(i);let r=0,s=0;for(let a=0;a<i;a++){const l=Le(t[a]);let d=!1;e.add(l.subscribe({next:h=>{d||(d=!0,s++),o[a]=h},error:h=>e.error(h),complete:()=>{r++,(r===i||!d)&&(s===i&&e.next(n?n.reduce((h,w,P)=>(h[w]=o[P],h),{}):o),e.complete())}}))}})}let CO=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(H(Dr),H(Di))},t.\u0275dir=Qt({type:t}),t})(),Yd=(()=>{class t extends CO{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275dir=Qt({type:t,features:[mi]}),t})();const Ms=new kn("NgValueAccessor"),The={provide:Ms,useExisting:Nn(()=>Xd),multi:!0};let Xd=(()=>{class t extends Yd{writeValue(e){this.setProperty("checked",e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275dir=Qt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&z("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[Tt([The]),mi]}),t})();const Phe={provide:Ms,useExisting:Nn(()=>wn),multi:!0},Fhe=new kn("CompositionEventMode");let wn=(()=>{class t extends CO{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dhe(){const t=Nl()?Nl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(H(Dr),H(Di),H(Fhe,8))},t.\u0275dir=Qt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&z("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[Tt([Phe]),mi]}),t})();function Lu(t){return null==t||0===t.length}function MO(t){return null!=t&&"number"==typeof t.length}const $r=new kn("NgValidators"),ju=new kn("NgAsyncValidators"),Ahe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ft{static min(n){return SO(n)}static max(n){return function EO(t){return n=>{if(Lu(n.value)||Lu(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function TO(t){return Lu(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function PO(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function DO(t){return Lu(t.value)||Ahe.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function FO(t){return n=>Lu(n.value)||!MO(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function AO(t){return n=>MO(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function IO(t){if(!t)return Vy;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(Lu(i.value))return null;const o=i.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return LO(n)}static composeAsync(n){return jO(n)}}function SO(t){return n=>{if(Lu(n.value)||Lu(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function Vy(t){return null}function kO(t){return null!=t}function NO(t){const n=mh(t)?Le(t):t;return W2(n),n}function RO(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function OO(t,n){return n.map(e=>e(t))}function BO(t){return t.map(n=>function Ihe(t){return!t.validate}(n)?n:e=>n.validate(e))}function LO(t){if(!t)return null;const n=t.filter(kO);return 0==n.length?null:function(e){return RO(OO(e,n))}}function bE(t){return null!=t?LO(BO(t)):null}function jO(t){if(!t)return null;const n=t.filter(kO);return 0==n.length?null:function(e){return function Ehe(...t){if(1===t.length){const n=t[0];if(oe(n))return Gy(n,null);if(I(n)&&Object.getPrototypeOf(n)===Object.prototype){const e=Object.keys(n);return Gy(e.map(i=>n[i]),e)}}if("function"==typeof t[t.length-1]){const n=t.pop();return Gy(t=1===t.length&&oe(t[0])?t[0]:t,null).pipe(Ze(e=>n(...e)))}return Gy(t,null)}(OO(e,n).map(NO)).pipe(Ze(RO))}}function yE(t){return null!=t?jO(BO(t)):null}function GO(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function VO(t){return t._rawValidators}function HO(t){return t._rawAsyncValidators}function wE(t){return t?Array.isArray(t)?t:[t]:[]}function Hy(t,n){return Array.isArray(t)?t.includes(n):t===n}function UO(t,n){const e=wE(n);return wE(t).forEach(o=>{Hy(e,o)||e.push(o)}),e}function zO(t,n){return wE(n).filter(e=>!Hy(t,e))}class qO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=bE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=yE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Gu extends qO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ko extends qO{get formDirective(){return null}get path(){return null}}class $O{constructor(n){this._cd=n}is(n){var e,i,o;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===o?void 0:o[n])}}let Jt=(()=>{class t extends $O{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(H(Gu,2))},t.\u0275dir=Qt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Ht("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[mi]}),t})(),Wt=(()=>{class t extends $O{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(H(Ko,10))},t.\u0275dir=Qt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Ht("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[mi]}),t})();function zy(t,n){return[...n.path,t]}function n_(t,n){ME(t,n),n.valueAccessor.writeValue(t.value),function Ghe(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&YO(t,n)})}(t,n),function Hhe(t,n){const e=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function Vhe(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&YO(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function jhe(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function qy(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Wy(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $y(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function ME(t,n){const e=VO(t);null!==n.validator?t.setValidators(GO(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=HO(t);null!==n.asyncValidator?t.setAsyncValidators(GO(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const o=()=>t.updateValueAndValidity();$y(n._rawValidators,o),$y(n._rawAsyncValidators,o)}function Wy(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=VO(t);if(Array.isArray(o)&&o.length>0){const r=o.filter(s=>s!==n.validator);r.length!==o.length&&(e=!0,t.setValidators(r))}}if(null!==n.asyncValidator){const o=HO(t);if(Array.isArray(o)&&o.length>0){const r=o.filter(s=>s!==n.asyncValidator);r.length!==o.length&&(e=!0,t.setAsyncValidators(r))}}}const i=()=>{};return $y(n._rawValidators,i),$y(n._rawAsyncValidators,i),e}function YO(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function SE(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function EE(t,n){if(!n)return null;let e,i,o;return Array.isArray(n),n.forEach(r=>{r.constructor===wn?e=r:function qhe(t){return Object.getPrototypeOf(t.constructor)===Yd}(r)?i=r:o=r}),o||i||e||null}function TE(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const i_="VALID",Yy="INVALID",sf="PENDING",o_="DISABLED";function DE(t){return(Xy(t)?t.validators:t)||null}function JO(t){return Array.isArray(t)?bE(t):t||null}function FE(t,n){return(Xy(n)?n.asyncValidators:t)||null}function ZO(t){return Array.isArray(t)?yE(t):t||null}function Xy(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const AE=t=>t instanceof kE,Ky=t=>t instanceof Qy,eB=t=>t instanceof oB;function tB(t){return AE(t)?t.value:t.getRawValue()}function nB(t,n){const e=Ky(t),i=t.controls;if(!(e?Object.keys(i):i).length)throw new si(1e3,"");if(!i[n])throw new si(1001,"")}function iB(t,n){Ky(t),t._forEachChild((i,o)=>{if(void 0===n[o])throw new si(1002,"")})}class IE{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=JO(this._rawValidators),this._composedAsyncValidatorFn=ZO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===i_}get invalid(){return this.status===Yy}get pending(){return this.status==sf}get disabled(){return this.status===o_}get enabled(){return this.status!==o_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=JO(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=ZO(n)}addValidators(n){this.setValidators(UO(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(UO(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(zO(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(zO(n,this._rawAsyncValidators))}hasValidator(n){return Hy(this._rawValidators,n)}hasAsyncValidator(n){return Hy(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=sf,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=o_,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=i_,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===i_||this.status===sf)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?o_:i_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=sf,this._hasOwnPendingAsyncValidator=!0;const e=NO(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function $he(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(e)),Array.isArray(n)&&0===n.length))return null;let i=t;return n.forEach(o=>{i=Ky(i)?i.controls.hasOwnProperty(o)?i.controls[o]:null:eB(i)&&i.at(o)||null}),i}(this,n,".")}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?o_:this.errors?Yy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sf)?sf:this._anyControlsHaveStatus(Yy)?Yy:i_}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Xy(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class kE extends IE{constructor(n=null,e,i){super(DE(e),FE(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xy(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){TE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){TE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Qy extends IE{constructor(n,e,i){super(DE(e),FE(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){iB(this,n),Object.keys(n).forEach(i=>{nB(this,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,o)=>{i.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=tB(e),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&n(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,i)=>((e.enabled||this.disabled)&&(n[i]=e.value),n))}_reduceChildren(n,e){let i=n;return this._forEachChild((o,r)=>{i=e(i,o,r)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class oB extends IE{constructor(n,e,i){super(DE(e),FE(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){iB(this,n),n.forEach((i,o)=>{nB(this,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,o)=>{i.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>tB(n))}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let rB=(()=>{class t extends Ko{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275dir=Qt({type:t,features:[mi]}),t})(),nn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Khe={provide:Ms,useExisting:Nn(()=>Jy),multi:!0};let Jy=(()=>{class t extends Yd{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275dir=Qt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&z("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[Tt([Khe]),mi]}),t})(),cB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({}),t})();const RE=new kn("NgModelWithFormControlWarning"),ege={provide:Gu,useExisting:Nn(()=>s_)};let s_=(()=>{class t extends Gu{constructor(e,i,o,r){super(),this._ngModelWarningConfig=r,this.update=new je,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=EE(0,o)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&qy(i,this,!1),n_(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}SE(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&qy(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(H($r,10),H(ju,10),H(Ms,10),H(RE,8))},t.\u0275dir=Qt({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Tt([ege]),mi,Xt]}),t})();const tge={provide:Ko,useExisting:Nn(()=>Vt)};let Vt=(()=>{class t extends Ko{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new je,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return n_(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){qy(e.control||null,e,!1),TE(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function QO(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(qy(i||null,e),AE(o)&&(n_(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function XO(t,n){ME(t,n)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Uhe(t,n){return Wy(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ME(this.form,this),this._oldForm&&Wy(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(H($r,10),H(ju,10))},t.\u0275dir=Qt({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&z("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Tt([tge]),mi,Xt]}),t})();const nge={provide:Ko,useExisting:Nn(()=>kr)};let kr=(()=>{class t extends rB{constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}_checkParentType(){pB(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(H(Ko,13),H($r,10),H(ju,10))},t.\u0275dir=Qt({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Tt([nge]),mi]}),t})();const ige={provide:Ko,useExisting:Nn(()=>vo)};let vo=(()=>{class t extends Ko{constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zy(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){pB(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(H(Ko,13),H($r,10),H(ju,10))},t.\u0275dir=Qt({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Tt([ige]),mi]}),t})();function pB(t){return!(t instanceof kr||t instanceof Vt||t instanceof vo)}const oge={provide:Gu,useExisting:Nn(()=>Zt)};let Zt=(()=>{class t extends Gu{constructor(e,i,o,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new je,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=EE(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),SE(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return zy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(H(Ko,13),H($r,10),H(ju,10),H(Ms,10),H(RE,8))},t.\u0275dir=Qt({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Tt([oge]),mi,Xt]}),t})();const rge={provide:Ms,useExisting:Nn(()=>ki),multi:!0};function mB(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let ki=(()=>{class t extends Yd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const o=mB(this._getOptionId(e),e);this.setProperty("value",o)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function sge(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275dir=Qt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&z("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Tt([rge]),mi]}),t})(),Vi=(()=>{class t{constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(mB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(H(Di),H(Dr),H(ki,9))},t.\u0275dir=Qt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const age={provide:Ms,useExisting:Nn(()=>OE),multi:!0};function fB(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let OE=(()=>{class t extends Yd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const o=e.map(r=>this._getOptionId(r));i=(r,s)=>{r._setSelected(o.indexOf(s.toString())>-1)}}else i=(o,r)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const o=[],r=i.selectedOptions;if(void 0!==r){const s=r;for(let a=0;a<s.length;a++){const d=this._getOptionValue(s[a].value);o.push(d)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const d=this._getOptionValue(l.value);o.push(d)}}}this.value=o,e(o)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function lge(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275dir=Qt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&z("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Tt([age]),mi]}),t})(),Hi=(()=>{class t{constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(fB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(fB(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(H(Di),H(Dr),H(OE,9))},t.\u0275dir=Qt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();let Kd=(()=>{class t{constructor(){this._validator=Vy}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Vy,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,features:[Xt]}),t})();const dge={provide:$r,useExisting:Nn(()=>Zy),multi:!0};let Zy=(()=>{class t extends Kd{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function gB(t){return"number"==typeof t?t:parseFloat(t)}(e),this.createValidator=e=>SO(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275dir=Qt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Mi("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Tt([dge]),mi]}),t})(),CB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[cB]]}),t})(),vge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[CB]}),t})(),af=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:RE,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[CB]}),t})(),zt=(()=>{class t{group(e,i=null){const o=this._reduceControls(e);let a,r=null,s=null;return null!=i&&(function bge(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(i)?(r=null!=i.validators?i.validators:null,s=null!=i.asyncValidators?i.asyncValidators:null,a=null!=i.updateOn?i.updateOn:void 0):(r=null!=i.validator?i.validator:null,s=null!=i.asyncValidator?i.asyncValidator:null)),new Qy(o,{asyncValidators:s,updateOn:a,validators:r})}control(e,i,o){return new kE(e,i,o)}array(e,i,o){const r=e.map(s=>this._createControl(s));return new oB(r,i,o)}_reduceControls(e){const i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){return AE(e)||Ky(e)||eB(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:af}),t})();function yge(t,n){}function wge(t,n){if(1&t&&(c(0,"button",3),g(1),k(2,yge,0,0,"ng-template",4),u()),2&t){const e=n.$implicit;v("ngbPanelToggle",e),p(1),Be(" ",e.title,""),p(1),v("ngTemplateOutlet",null==e.titleTpl?null:e.titleTpl.templateRef)}}function xge(t,n){}function Cge(t,n){}function Mge(t,n){if(1&t){const e=ye();c(0,"div",8),z("ngbRef",function(o){return W(e),T().$implicit.panelDiv=o}),c(1,"div",9),k(2,Cge,0,0,"ng-template",4),u()()}if(2&t){const e=T().$implicit;pa("id",e.id),Mi("aria-labelledby",e.id+"-header"),p(2),v("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}const Sge=function(t,n){return{$implicit:t,opened:n}};function Ege(t,n){if(1&t&&(c(0,"div")(1,"div",5),k(2,xge,0,0,"ng-template",6),u(),k(3,Mge,3,3,"div",7),u()),2&t){const e=n.$implicit,i=T(),o=hn(1);Al("card "+(e.cardClass||"")),p(1),Al("card-header "+(e.type?"bg-"+e.type:i.type?"bg-"+i.type:"")),Pi("id","",e.id,"-header"),p(1),v("ngTemplateOutlet",(null==e.headerTpl?null:e.headerTpl.templateRef)||o)("ngTemplateOutletContext",fa(8,Sge,e,e.isOpen)),p(1),v("ngIf",!i.destroyOnHide||e.isOpen||e.transitionRunning)}}function Tge(t,n){if(1&t){const e=ye();c(0,"button",1),z("click",function(){return W(e),T().close()}),c(1,"span",2),g(2,"\xd7"),u()()}}const LE=["*"];function Pge(t,n){if(1&t){const e=ye();c(0,"li",6),z("click",function(){const r=W(e).$implicit,s=T();return s.focus(),s.select(r.id,s.NgbSlideEventSource.INDICATOR)}),u()}if(2&t){const e=n.$implicit,i=T();Ht("active",e.id===i.activeId),Mi("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===i.activeId)}}function Dge(t,n){}function Fge(t,n){if(1&t&&(c(0,"div",7)(1,"span",8),uu(2,9),u(),k(3,Dge,0,0,"ng-template",10),u()),2&t){const e=n.$implicit,i=n.index,o=n.count;v("id","slide-"+e.id),p(2),Z2(i+1)(o),function wP(t){!function B$(t,n,e){if(bh>0){const i=t.data[e];aP(t,n,Array.isArray(i)?i:i.update,mc()-bh-1,vh)}vh=0,bh=0}(Ci(),Rt(),t+20)}(2),p(1),v("ngTemplateOutlet",e.tplRef)}}function Age(t,n){if(1&t){const e=ye();c(0,"a",11),z("click",function(){return W(e),T().arrowLeft()}),re(1,"span",12),c(2,"span",8),uu(3,13),u()()}}function Ige(t,n){if(1&t){const e=ye();c(0,"a",14),z("click",function(){return W(e),T().arrowRight()}),re(1,"span",15),c(2,"span",8),uu(3,16),u()()}}const qge=["dialog"],$ge=["ngbNavOutlet",""];function Wge(t,n){}const Yge=function(t){return{$implicit:t}};function Xge(t,n){if(1&t&&(c(0,"div",2),k(1,Wge,0,0,"ng-template",3),u()),2&t){const e=T().$implicit,i=T();v("item",e)("nav",i.nav)("role",i.paneRole),p(1),v("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",Fn(5,Yge,e.active||i.isPanelTransitioning(e)))}}function Kge(t,n){if(1&t&&k(0,Xge,2,7,"div",1),2&t){const e=n.$implicit,i=T();v("ngIf",e.isPanelInDom()||i.isPanelTransitioning(e))}}function Qge(t,n){1&t&&(c(0,"span",9),uu(1,10),u())}function Jge(t,n){1&t&&(c(0,"span",9),uu(1,11),u())}function Zge(t,n){1&t&&(c(0,"span",9),uu(1,12),u())}function e_e(t,n){1&t&&(c(0,"span",9),uu(1,13),u())}function t_e(t,n){1&t&&g(0,"...")}function n_e(t,n){1&t&&(c(0,"span",15),g(1,"(current)"),u())}function i_e(t,n){if(1&t&&(g(0),k(1,n_e,2,0,"span",14)),2&t){const e=n.$implicit,i=n.currentPage;Be(" ",e," "),p(1),v("ngIf",e===i)}}function o_e(t,n){}const r_e=function(t){return{disabled:!0,currentPage:t}};function s_e(t,n){if(1&t&&(c(0,"a",20),k(1,o_e,0,0,"ng-template",8),u()),2&t){const e=T(2).$implicit,i=T(),o=hn(9);p(1),v("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||o)("ngTemplateOutletContext",Fn(2,r_e,e))}}function a_e(t,n){}const l_e=function(t,n,e){return{disabled:t,$implicit:n,currentPage:e}};function c_e(t,n){if(1&t){const e=ye();c(0,"a",21),z("click",function(o){W(e);const r=T().$implicit;return T(2).selectPage(r),o.preventDefault()}),k(1,a_e,0,0,"ng-template",8),u()}if(2&t){const e=T().$implicit,i=T(),o=i.disabled,r=i.$implicit,s=T(),a=hn(11);Mi("tabindex",o?"-1":null)("aria-disabled",o?"true":null),p(1),v("ngTemplateOutlet",(null==s.tplNumber?null:s.tplNumber.templateRef)||a)("ngTemplateOutletContext",H1(4,l_e,o,e,r))}}function u_e(t,n){if(1&t&&(c(0,"li",17),k(1,s_e,2,4,"a",18),k(2,c_e,2,8,"a",19),u()),2&t){const e=n.$implicit,i=T(),o=i.$implicit,r=i.disabled,s=T();Ht("active",e===o)("disabled",s.isEllipsis(e)||r),Mi("aria-current",e===o?"page":null),p(1),v("ngIf",s.isEllipsis(e)),p(1),v("ngIf",!s.isEllipsis(e))}}function d_e(t,n){1&t&&k(0,u_e,3,7,"li",16),2&t&&v("ngForOf",n.pages)}function p_e(t,n){}const jE=function(t,n){return{disabled:t,currentPage:n}};function m_e(t,n){if(1&t){const e=ye();c(0,"li",17)(1,"a",22),z("click",function(o){return W(e),T().selectPage(1),o.preventDefault()}),k(2,p_e,0,0,"ng-template",8),u()()}if(2&t){const e=T(),i=hn(1);Ht("disabled",e.previousDisabled()),p(1),Mi("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),p(1),v("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||i)("ngTemplateOutletContext",fa(6,jE,e.previousDisabled(),e.page))}}function f_e(t,n){}const h_e=function(t){return{disabled:t}};function g_e(t,n){if(1&t){const e=ye();c(0,"li",17)(1,"a",23),z("click",function(o){W(e);const r=T();return r.selectPage(r.page-1),o.preventDefault()}),k(2,f_e,0,0,"ng-template",8),u()()}if(2&t){const e=T(),i=hn(3);Ht("disabled",e.previousDisabled()),p(1),Mi("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),p(1),v("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||i)("ngTemplateOutletContext",Fn(6,h_e,e.previousDisabled()))}}function __e(t,n){}function v_e(t,n){}function b_e(t,n){if(1&t){const e=ye();c(0,"li",17)(1,"a",24),z("click",function(o){W(e);const r=T();return r.selectPage(r.page+1),o.preventDefault()}),k(2,v_e,0,0,"ng-template",8),u()()}if(2&t){const e=T(),i=hn(5);Ht("disabled",e.nextDisabled()),p(1),Mi("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),p(1),v("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||i)("ngTemplateOutletContext",fa(6,jE,e.nextDisabled(),e.page))}}function y_e(t,n){}function w_e(t,n){if(1&t){const e=ye();c(0,"li",17)(1,"a",25),z("click",function(o){W(e);const r=T();return r.selectPage(r.pageCount),o.preventDefault()}),k(2,y_e,0,0,"ng-template",8),u()()}if(2&t){const e=T(),i=hn(7);Ht("disabled",e.nextDisabled()),p(1),Mi("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),p(1),v("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||i)("ngTemplateOutletContext",fa(6,jE,e.nextDisabled(),e.page))}}const x_e=function(t,n,e){return{$implicit:t,pages:n,disabled:e}};function S_e(t,n){1&t&&g(0),2&t&&_t(100===n.fill?"\u2605":"\u2606")}function E_e(t,n){}function T_e(t,n){if(1&t){const e=ye();c(0,"span",2),g(1),u(),c(2,"span",3),z("mouseenter",function(){const r=W(e).index;return T().enter(r+1)})("click",function(){const r=W(e).index;return T().handleClick(r+1)}),k(3,E_e,0,0,"ng-template",4),u()}if(2&t){const e=n.index,i=T(),o=hn(1);p(1),Be("(",e<i.nextRate?"*":" ",")"),p(1),hh("cursor",i.isInteractive()?"pointer":"default"),p(1),v("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||o)("ngTemplateOutletContext",i.contexts[e])}}function k_e(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T().$implicit;Al(T().highlightClass),p(1),_t(e)}}function N_e(t,n){1&t&&g(0),2&t&&_t(T().$implicit)}function R_e(t,n){if(1&t&&(k(0,k_e,2,3,"span",1),k(1,N_e,1,1,"ng-template",null,2,$t)),2&t){const e=n.odd,i=hn(2);v("ngIf",e)("ngIfElse",i)}}function O_e(t,n){if(1&t&&re(0,"ngb-highlight",2),2&t){const i=n.term;v("result",(0,n.formatter)(n.result))("term",i)}}function B_e(t,n){}const L_e=function(t,n,e){return{result:t,term:n,formatter:e}};function j_e(t,n){if(1&t){const e=ye();c(0,"button",3),z("mouseenter",function(){const r=W(e).index;return T().markActive(r)})("click",function(){const r=W(e).$implicit;return T().select(r)}),k(1,B_e,0,0,"ng-template",4),u()}if(2&t){const e=n.$implicit,i=n.index,o=T(),r=hn(1);Ht("active",i===o.activeIdx),v("id",o.id+"-"+i),p(1),v("ngTemplateOutlet",o.resultTemplate||r)("ngTemplateOutletContext",H1(5,L_e,e,o.term,o.formatter))}}function a_(t){return null!=t?`${t}`:""}function GE(t,n,e=0){return Math.max(Math.min(t,n),e)}function MB(t){return"string"==typeof t}function zc(t){return!isNaN(function e0(t){return parseInt(`${t}`,10)}(t))}function Vu(t){return null!=t}function lf(t){return(t||document.body).getBoundingClientRect()}function SB(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){let n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});const EB={animation:!0,transitionTimerDelayMs:5},q_e=()=>{},{transitionTimerDelayMs:$_e}=EB,l_=new Map,ls=(t,n,e,i)=>{let o=i.context||{};const r=l_.get(n);if(r)switch(i.runningTransition){case"continue":return Wd;case"stop":t.run(()=>r.transition$.complete()),o=Object.assign(r.context,o),l_.delete(n)}const s=e(n,i.animation,o)||q_e;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>s()),Mn(void 0).pipe(function U_e(t){return n=>new X(e=>n.subscribe({next:s=>t.run(()=>e.next(s)),error:s=>t.run(()=>e.error(s)),complete:()=>t.run(()=>e.complete())}))}(t));const a=new Oe,l=new Oe,d=a.pipe(function she(...t){return n=>Ly(n,Mn(...t))}(!0));l_.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:o});const h=function z_e(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const w=sr(n,"transitionend").pipe(xr(d),Li(({target:N})=>N===n));vO(_O(h+$_e).pipe(xr(d)),w,l).pipe(xr(d)).subscribe(()=>{l_.delete(n),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()},TB=(t,n,e)=>{let{direction:i,maxHeight:o}=e;const{classList:r}=t;function s(){r.add("collapse"),"show"===i?r.add("show"):r.remove("show")}if(n)return o||(o=function Y_e(t){if("undefined"==typeof navigator)return"0px";const{classList:n}=t,e=n.contains("show");e||n.add("show"),t.style.height="";const i=t.getBoundingClientRect().height+"px";return e||n.remove("show"),i}(t),e.maxHeight=o,t.style.height="show"!==i?o:"0px",r.remove("collapse"),r.remove("collapsing"),r.remove("show"),lf(t),r.add("collapsing")),t.style.height="show"===i?o:"0px",()=>{s(),r.remove("collapsing"),t.style.height=""};s()};let Qd=(()=>{class t{constructor(){this.animation=EB.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),X_e=(()=>{class t{constructor(e){this._ngbConfig=e,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ve(Qd))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),K_e=0,t0=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbPanelHeader",""]]}),t})(),PB=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbPanelTitle",""]]}),t})(),n0=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbPanelContent",""]]}),t})(),c_=(()=>{class t{constructor(){this.disabled=!1,this.id="ngb-panel-"+K_e++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new je,this.hidden=new je}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["ngb-panel"]],contentQueries:function(e,i,o){if(1&e&&(ko(o,PB,4),ko(o,t0,4),ko(o,n0,4)),2&e){let r;bt(r=yt())&&(i.titleTpls=r),bt(r=yt())&&(i.headerTpls=r),bt(r=yt())&&(i.contentTpls=r)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),t})(),Q_e=(()=>{class t{constructor(e){this._El=e,this.ngbRef=new je}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return t.\u0275fac=function(e){return new(e||t)(H(Di))},t.\u0275dir=Qt({type:t,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),t})(),o0=(()=>{class t{constructor(e,i,o){this._ngZone=i,this._changeDetector=o,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new je,this.shown=new je,this.hidden=new je,this.animation=e.animation,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const i=this._findPanelById(e);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){MB(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>{e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(js(1)).subscribe(()=>{this.panels.forEach(e=>{const i=e.panelDiv;i?e.initClassDone||(e.initClassDone=!0,ls(this._ngZone,i,TB,{animation:!1,runningTransition:"continue",context:{direction:e.isOpen?"show":"hide"}})):e.initClassDone=!1})})}_changeOpenState(e,i){if(null!=e&&!e.disabled&&e.isOpen!==i){let o=!1;this.panelChange.emit({panelId:e.id,nextState:i,preventDefault:()=>{o=!0}}),o||(e.isOpen=i,e.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(e,i=!0){this.panels.forEach(o=>{o.id!==e&&o.isOpen&&(o.isOpen=!1,o.transitionRunning=i)})}_findPanelById(e){return this.panels.find(i=>i.id===e)||null}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}_runTransitions(e){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&ls(this._ngZone,i.panelDiv,TB,{animation:e,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide"}}).subscribe(()=>{i.transitionRunning=!1;const{id:r}=i;i.isOpen?(i.shown.emit(),this.shown.emit(r)):(i.hidden.emit(),this.hidden.emit(r))})})}}return t.\u0275fac=function(e){return new(e||t)(H(X_e),H(Fi),H(is))},t.\u0275cmp=He({type:t,selectors:[["ngb-accordion"]],contentQueries:function(e,i,o){if(1&e&&ko(o,c_,4),2&e){let r;bt(r=yt())&&(i.panels=r)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(e,i){2&e&&Mi("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"btn","btn-link",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"card-body"]],template:function(e,i){1&e&&(k(0,wge,3,3,"ng-template",0,1,$t),k(2,Ege,4,11,"ng-template",2)),2&e&&(p(2),v("ngForOf",i.panels))},directives:function(){return[t0,HE,_a,Lt,nt,Q_e]},encapsulation:2}),t})(),HE=(()=>{class t{constructor(e,i){this.accordion=e,this.panel=i}set ngbPanelToggle(e){e&&(this.panel=e)}}return t.\u0275fac=function(e){return new(e||t)(H(o0),H(c_,9))},t.\u0275dir=Qt({type:t,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(e,i){1&e&&z("click",function(){return i.accordion.toggle(i.panel.id)}),2&e&&(ma("disabled",i.panel.disabled),Mi("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),Ht("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),t})(),DB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})();const J_e=({classList:t})=>{t.remove("show")};let Z_e=(()=>{class t{constructor(e){this._ngbConfig=e,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ve(Qd))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),e1e=(()=>{class t{constructor(e,i,o,r){this._renderer=i,this._element=o,this._zone=r,this.closed=new je,this.dismissible=e.dismissible,this.type=e.type,this.animation=e.animation}close(){const e=ls(this._zone,this._element.nativeElement,J_e,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}ngOnChanges(e){const i=e.type;i&&!i.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${i.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${i.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return t.\u0275fac=function(e){return new(e||t)(H(Z_e),H(Dr),H(Di),H(Fi))},t.\u0275cmp=He({type:t,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(e,i){2&e&&Ht("fade",i.animation)("alert-dismissible",i.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],features:[Xt],ngContentSelectors:LE,decls:2,vars:1,consts:function(){let n;return n=$localize`:@@ngb.alert.close:Close`,[["type","button","class","close","aria-label",n,3,"click",4,"ngIf"],["type","button","aria-label",n,1,"close",3,"click"],["aria-hidden","true"]]},template:function(e,i){1&e&&(Dl(),Fs(0),k(1,Tge,3,0,"button",0)),2&e&&(p(1),v("ngIf",i.dismissible))},directives:[nt],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),t})(),FB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})(),Ra=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(e,i){2&e&&Ht("btn",!0)("active",i.active)("disabled",i.disabled)("focus",i.focused)}}),t})(),UE=(()=>{class t{constructor(e,i){this._label=e,this._cd=i,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=o=>{},this.onTouched=()=>{}}set focused(e){this._label.focused=e,e||this.onTouched()}onInputChange(e){const i=e.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(i),this.onTouched(),this.writeValue(i)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._label.disabled=e}writeValue(e){this.checked=e===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(H(Ra),H(is))},t.\u0275dir=Qt({type:t,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(e,i){1&e&&z("change",function(r){return i.onInputChange(r)})("focus",function(){return i.focused=!0})("blur",function(){return i.focused=!1}),2&e&&ma("checked",i.checked)("disabled",i.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[Tt([{provide:Ms,useExisting:Nn(()=>t),multi:!0}])]}),t})(),t1e=0,ec=(()=>{class t{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+t1e++,this.onChange=e=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this.setDisabledState(e)}onRadioChange(e){this.writeValue(e.value),this.onChange(e.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(e){this._radios.add(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e,this._updateRadiosDisabled()}unregister(e){this._radios.delete(e)}writeValue(e){this._value=e,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(e=>e.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(e=>e.updateDisabled())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[Tt([{provide:Ms,useExisting:Nn(()=>t),multi:!0}])]}),t})(),qc=(()=>{class t{constructor(e,i,o,r,s){this._group=e,this._label=i,this._renderer=o,this._element=r,this._cd=s,this._value=null,this._group.register(this),this.updateDisabled()}set value(e){this._value=e;const i=e?e.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",i),this._group.onRadioValueUpdate()}set disabled(e){this._disabled=!1!==e,this.updateDisabled()}set focused(e){this._label&&(this._label.focused=e),e||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(e){this.value!==e&&this._cd.markForCheck(),this._checked=this.value===e,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return t.\u0275fac=function(e){return new(e||t)(H(ec),H(Ra),H(Dr),H(Di),H(is))},t.\u0275dir=Qt({type:t,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(e,i){1&e&&z("change",function(){return i.onChange()})("focus",function(){return i.focused=!0})("blur",function(){return i.focused=!1}),2&e&&ma("checked",i.checked)("disabled",i.disabled)("name",i.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),t})(),AB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({}),t})();var Hu=(()=>(function(t){t.LEFT="left",t.RIGHT="right"}(Hu||(Hu={})),Hu))();const IB=({classList:t})=>t.contains("carousel-item-left")||t.contains("carousel-item-right"),u_=t=>{t.remove("carousel-item-left"),t.remove("carousel-item-right")},r0=t=>{u_(t),t.remove("carousel-item-prev"),t.remove("carousel-item-next")},n1e=(t,n,{direction:e})=>{const{classList:i}=t;return n?(IB(t)?u_(i):(i.add("carousel-item-"+(e===Hu.LEFT?"next":"prev")),lf(t),i.add("carousel-item-"+e)),()=>{r0(i),i.add("active")}):(u_(i),r0(i),void i.add("active"))},i1e=(t,n,{direction:e})=>{const{classList:i}=t;return n?(IB(t)?u_(i):i.add("carousel-item-"+e),()=>{r0(i),i.remove("active")}):(u_(i),r0(i),void i.remove("active"))};let o1e=(()=>{class t{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ve(Qd))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),r1e=0,d_=(()=>{class t{constructor(e){this.tplRef=e,this.id="ngb-slide-"+r1e++,this.slid=new je}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),t})(),Jd=(()=>{class t{constructor(e,i,o,r,s){this._platformId=i,this._ngZone=o,this._cd=r,this._container=s,this.NgbSlideEventSource=Zd,this._destroy$=new Oe,this._interval$=new wr(0),this._mouseHover$=new wr(!1),this._focused$=new wr(!1),this._pauseOnHover$=new wr(!1),this._pauseOnFocus$=new wr(!1),this._pause$=new wr(!1),this._wrap$=new wr(!1),this.slide=new je,this.slid=new je,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Zd.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Zd.ARROW_RIGHT)}ngAfterContentInit(){(function EK(t){return t===QD})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=gE([this.slide.pipe(Ze(i=>i.current),jy(this.activeId)),this._wrap$,this.slides.changes.pipe(jy(null))]).pipe(Ze(([i,o])=>{const r=this.slides.toArray(),s=this._getSlideIdxById(i);return o?r.length>1:s<r.length-1}),Rh());gE([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe(Ze(([i,o,r,s,a,l,d])=>i||o&&r||s&&a||!d?0:l),Rh(),qr(i=>i>0?_O(i,i):yO),xr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Zd.TIMER)))}),this.slides.changes.pipe(xr(this._destroy$)).subscribe(()=>{var e;null===(e=this._transitionIds)||void 0===e||e.forEach(i=>(t=>{var n;null===(n=l_.get(t))||void 0===n||n.complete()})(this._getSlideElement(i))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(js(1)).subscribe(()=>{for(const{id:i}of this.slides){const o=this._getSlideElement(i);i===this.activeId?o.classList.add("active"):o.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,i){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),i)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),Hu.RIGHT,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),Hu.LEFT,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,i,o){const r=this._transitionIds;if(r&&(r[0]!==e||r[1]!==this.activeId))return;let s=this._getSlideById(e);if(s&&s.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:s.id,direction:i,paused:this._pause$.value,source:o});const a={animation:this.animation,runningTransition:"stop",context:{direction:i}},l=[],d=this._getSlideById(this.activeId);if(d){const N=ls(this._ngZone,this._getSlideElement(d.id),i1e,a);N.subscribe(()=>{d.slid.emit({isShown:!1,direction:i,source:o})}),l.push(N)}const h=this.activeId;this.activeId=s.id;const w=this._getSlideById(this.activeId),P=ls(this._ngZone,this._getSlideElement(s.id),n1e,a);P.subscribe(()=>{null==w||w.slid.emit({isShown:!0,direction:i,source:o})}),l.push(P),By(...l).pipe(js(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:h,current:s.id,direction:i,paused:this._pause$.value,source:o})})}this._cd.markForCheck()}_getSlideEventDirection(e,i){return this._getSlideIdxById(e)>this._getSlideIdxById(i)?Hu.RIGHT:Hu.LEFT}_getSlideById(e){return this.slides.find(i=>i.id===e)||null}_getSlideIdxById(e){const i=this._getSlideById(e);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(e){const i=this.slides.toArray(),o=this._getSlideIdxById(e);return o===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[o+1].id}_getPrevSlide(e){const i=this.slides.toArray(),o=this._getSlideIdxById(e);return 0===o?this.wrap?i[i.length-1].id:i[0].id:i[o-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return t.\u0275fac=function(e){return new(e||t)(H(o1e),H(cd),H(Fi),H(is),H(Di))},t.\u0275cmp=He({type:t,selectors:[["ngb-carousel"]],contentQueries:function(e,i,o){if(1&e&&ko(o,d_,4),2&e){let r;bt(r=yt())&&(i.slides=r)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,i){1&e&&z("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&e&&(Mi("aria-activedescendant","slide-"+i.activeId),hh("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let n,e,i;return n=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],n,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(e,i){1&e&&(c(0,"ol",0),k(1,Pge,1,5,"li",1),u(),c(2,"div",2),k(3,Fge,4,4,"div",3),u(),k(4,Age,4,0,"a",4),k(5,Ige,4,0,"a",5)),2&e&&(Ht("sr-only",!i.showNavigationIndicators),p(1),v("ngForOf",i.slides),p(2),v("ngForOf",i.slides),p(1),v("ngIf",i.showNavigationArrows),p(1),v("ngIf",i.showNavigationArrows))},directives:[Lt,_a,nt],encapsulation:2,changeDetection:0}),t})();var Zd=(()=>(function(t){t.TIMER="timer",t.ARROW_LEFT="arrowLeft",t.ARROW_RIGHT="arrowRight",t.INDICATOR="indicator"}(Zd||(Zd={})),Zd))();let kB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})(),NB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({}),t})();var Ui=(()=>(function(t){t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}(Ui||(Ui={})),Ui))();const s0=(t,n)=>!!n&&n.some(e=>e.contains(t)),RB=(t,n)=>!n||null!=function H_e(t,n){return n&&void 0!==t.closest?t.closest(n):null}(t,n),p1e="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function zE(t,n,e,i,o,r,s,a){e&&t.runOutsideAngular((t=>p1e?()=>setTimeout(()=>t(),100):t)(()=>{const d=sr(n,"keydown").pipe(xr(o),Li(P=>P.which===Ui.Escape),un(P=>P.preventDefault())),h=sr(n,"mousedown").pipe(Ze(P=>{const N=P.target;return 2!==P.button&&!s0(N,s)&&("inside"===e?s0(N,r)&&RB(N,a):"outside"===e?!s0(N,r):RB(N,a)||!s0(N,r))}),xr(o)),w=sr(n,"mouseup").pipe(_E(h),Li(([P,N])=>N),xO(0),xr(o));vO([d.pipe(Ze(P=>0)),w.pipe(Ze(P=>1))]).subscribe(P=>t.run(()=>i(P)))}))}const OB=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function BB(t){const n=Array.from(t.querySelectorAll(OB)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const g1e=/\s+/,LB=new class h1e{getAllStyles(n){return window.getComputedStyle(n)}getStyle(n,e){return this.getAllStyles(n)[e]}isStaticPositioned(n){return"static"===(this.getStyle(n,"position")||"static")}offsetParent(n){let e=n.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(n,e=!0){let i,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))i=n.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const r=this.offsetParent(n);i=this.offset(n,!1),r!==document.documentElement&&(o=this.offset(r,!1)),o.top+=r.clientTop,o.left+=r.clientLeft}return i.top-=o.top,i.bottom-=o.top,i.left-=o.left,i.right-=o.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(n,e=!0){const i=n.getBoundingClientRect(),o_top=window.scrollY-document.documentElement.clientTop,o_left=window.scrollX-document.documentElement.clientLeft;let r={height:i.height||n.offsetHeight,width:i.width||n.offsetWidth,top:i.top+o_top,bottom:i.bottom+o_top,left:i.left+o_left,right:i.right+o_left};return e&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}positionElements(n,e,i,o){const[r="top",s="center"]=i.split("-"),a=o?this.offset(n,!1):this.position(n,!1),l=this.getAllStyles(e),d=parseFloat(l.marginTop),h=parseFloat(l.marginBottom),w=parseFloat(l.marginLeft),P=parseFloat(l.marginRight);let N=0,L=0;switch(r){case"top":N=a.top-(e.offsetHeight+d+h);break;case"bottom":N=a.top+a.height;break;case"left":L=a.left-(e.offsetWidth+w+P);break;case"right":L=a.left+a.width}switch(s){case"top":N=a.top;break;case"bottom":N=a.top+a.height-e.offsetHeight;break;case"left":L=a.left;break;case"right":L=a.left+a.width-e.offsetWidth;break;case"center":"top"===r||"bottom"===r?L=a.left+a.width/2-e.offsetWidth/2:N=a.top+a.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(L)}px, ${Math.round(N)}px)`;const U=e.getBoundingClientRect(),q=document.documentElement,Z=window.innerHeight||q.clientHeight,Q=window.innerWidth||q.clientWidth;return U.left>=0&&U.top>=0&&U.right<=Q&&U.bottom<=Z}};function qE(t,n,e,i,o){let r=Array.isArray(e)?e:e.split(g1e);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=n.classList,l=N=>{const[L,U]=N.split("-"),q=[];return o&&(q.push(`${o}-${L}`),U&&q.push(`${o}-${L}-${U}`),q.forEach(Z=>{a.add(Z)})),q};o&&s.forEach(N=>{a.remove(`${o}-${N}`)});let d=r.findIndex(N=>"auto"===N);d>=0&&s.forEach(function(N){null==r.find(L=>-1!==L.search("^"+N))&&r.splice(d++,1,N)});const h=n.style;h.position="absolute",h.top="0",h.left="0",h["will-change"]="transform";let w=null,P=!1;for(w of r){let N=l(w);if(LB.positionElements(t,n,w,i)){P=!0;break}o&&N.forEach(L=>{a.remove(L)})}return P||(w=r[0],l(w),LB.positionElements(t,n,w,i)),w}new Date(1882,10,12),new Date(2174,10,25);let zB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr,vge]]}),t})(),S1e=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),XE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["",8,"navbar"]]}),t})(),KE=(()=>{class t{constructor(e,i){this.elementRef=e,this._renderer=i,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return t.\u0275fac=function(e){return new(e||t)(H(Di),H(Dr))},t.\u0275dir=Qt({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(e,i){2&e&&(ma("tabIndex",i.disabled?-1:0),Ht("disabled",i.disabled))},inputs:{disabled:"disabled"}}),t})(),QE=(()=>{class t{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(H(Nn(()=>f_)),H(Di))},t.\u0275dir=Qt({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,o){if(1&e&&ko(o,KE,4),2&e){let r;bt(r=yt())&&(i.menuItems=r)}},hostVars:5,hostBindings:function(e,i){1&e&&z("keydown.ArrowUp",function(r){return i.dropdown.onKeyDown(r)})("keydown.ArrowDown",function(r){return i.dropdown.onKeyDown(r)})("keydown.Home",function(r){return i.dropdown.onKeyDown(r)})("keydown.End",function(r){return i.dropdown.onKeyDown(r)})("keydown.Enter",function(r){return i.dropdown.onKeyDown(r)})("keydown.Space",function(r){return i.dropdown.onKeyDown(r)})("keydown.Tab",function(r){return i.dropdown.onKeyDown(r)})("keydown.Shift.Tab",function(r){return i.dropdown.onKeyDown(r)}),2&e&&(Mi("x-placement",i.placement),Ht("dropdown-menu",!0)("show",i.dropdown.isOpen()))}}),t})(),u0=(()=>{class t{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(H(Nn(()=>f_)),H(Di))},t.\u0275dir=Qt({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&Mi("aria-expanded",i.dropdown.isOpen())}}),t})(),qB=(()=>{class t extends u0{constructor(e,i){super(e,i)}}return t.\u0275fac=function(e){return new(e||t)(H(Nn(()=>f_)),H(Di))},t.\u0275dir=Qt({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&z("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(r){return i.dropdown.onKeyDown(r)})("keydown.ArrowDown",function(r){return i.dropdown.onKeyDown(r)})("keydown.Home",function(r){return i.dropdown.onKeyDown(r)})("keydown.End",function(r){return i.dropdown.onKeyDown(r)})("keydown.Tab",function(r){return i.dropdown.onKeyDown(r)})("keydown.Shift.Tab",function(r){return i.dropdown.onKeyDown(r)}),2&e&&Mi("aria-expanded",i.dropdown.isOpen())},features:[Tt([{provide:u0,useExisting:Nn(()=>t)}]),mi]}),t})(),f_=(()=>{class t{constructor(e,i,o,r,s,a,l){this._changeDetector=e,this._document=o,this._ngZone=r,this._elementRef=s,this._renderer=a,this._closed$=new Oe,this._bodyContainer=null,this._open=!1,this.openChange=new je,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=r.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(js(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:i,previousValue:o}=e.dropdownClass;this._applyCustomDropdownClass(i,o)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){zE(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const i=e.which,o=this._getMenuElements();let r=-1,s=null;const a=this._isEventFromToggle(e);if(!a&&o.length&&o.forEach((l,d)=>{l.contains(e.target)&&(s=l),l===this._document.activeElement&&(r=d)}),i!==Ui.Space&&i!==Ui.Enter){if(i!==Ui.Tab){if(a||s){if(this.open(),o.length){switch(i){case Ui.ArrowDown:r=Math.min(r+1,o.length-1);break;case Ui.ArrowUp:if(this._isDropup()&&-1===r){r=o.length-1;break}r=Math.max(r-1,0);break;case Ui.Home:r=0;break;case Ui.End:r=o.length-1}o[r].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(OB);e.shiftKey&&e.target===l[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else sr(e.target,"focusout").pipe(js(1)).subscribe(({relatedTarget:l})=>{this._elementRef.nativeElement.contains(l)||this.close()})}}else s&&(!0===this.autoClose||"inside"===this.autoClose)&&sr(s,"click").pipe(js(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?qE(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const o=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,o),e.removeStyle(o,"position"),e.removeStyle(o,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,o=this._menu.nativeElement,r=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(r,"position","absolute"),i.setStyle(o,"position","static"),i.setStyle(r,"z-index","1050"),i.appendChild(r,o),i.appendChild(this._document.body,r)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const o="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;o&&(i&&this._renderer.removeClass(o,i),e&&this._renderer.addClass(o,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const o=this._renderer,r=this._elementRef.nativeElement;o.removeClass(r,"dropup"),o.removeClass(r,"dropdown"),i.placement="static"===this.display?null:e;const s=-1!==e.search("^top")?"dropup":"dropdown";o.addClass(r,s);const a=this._bodyContainer;a&&(o.removeClass(a,"dropup"),o.removeClass(a,"dropdown"),o.addClass(a,s))}}}return t.\u0275fac=function(e){return new(e||t)(H(is),H(S1e),H(io),H(Fi),H(Di),H(Dr),H(XE,8))},t.\u0275dir=Qt({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,o){if(1&e&&(ko(o,QE,5),ko(o,u0,5)),2&e){let r;bt(r=yt())&&(i._menu=r.first),bt(r=yt())&&(i._anchor=r.first)}},hostVars:2,hostBindings:function(e,i){2&e&&Ht("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Xt]}),t})(),$B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({}),t})();class np{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}class WB{constructor(n,e,i,o,r,s){this._type=n,this._injector=e,this._viewContainerRef=i,this._renderer=o,this._ngZone=r,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(n,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(n,e),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:o}=this._windowRef.location,r=this._ngZone.onStable.pipe(js(1),ht(()=>ls(this._ngZone,o,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:r}}close(n=!1){return this._windowRef?ls(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:n,runningTransition:"stop"}).pipe(un(()=>{var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(e=this._contentRef)||void 0===e?void 0:e.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Mn(void 0)}_getContentRef(n,e){if(n){if(n instanceof mo){const i=n.createEmbeddedView(e);return this._applicationRef.attachView(i),new np([i.rootNodes],i)}return new np([[this._renderer.createText(`${n}`)]])}return new np([])}}let E1e=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(js(1)).subscribe(()=>{ls(this._zone,this._el.nativeElement,(e,i)=>{i&&lf(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ls(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(H(Di),H(Fi))},t.\u0275cmp=He({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(Al("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Ht("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();class ar{close(n){}dismiss(n){}}class T1e{constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Oe,this._dismissed=new Oe,this._hidden=new Oe,n.instance.dismissEvent.subscribe(r=>{this.dismiss(r)}),this.result=new Promise((r,s)=>{this._resolve=r,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(xr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(xr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function G_e(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Mn(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),By(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var h_=(()=>(function(t){t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC"}(h_||(h_={})),h_))();let P1e=(()=>{class t{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new Oe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new je,this.shown=new Oe,this.hidden=new Oe}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(js(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=By(ls(this._zone,e,()=>e.classList.remove("show"),i),ls(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};By(ls(this._zone,this._elRef.nativeElement,(r,s)=>{s&&lf(r),r.classList.add("show")},e),ls(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{sr(e,"keydown").pipe(xr(this._closed$),Li(o=>o.which===Ui.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(h_.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;sr(this._dialogEl.nativeElement,"mousedown").pipe(xr(this._closed$),un(()=>i=!1),qr(()=>sr(e,"mouseup").pipe(xr(this._closed$),js(1))),Li(({target:o})=>e===o)).subscribe(()=>{i=!0}),sr(e,"click").pipe(xr(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(h_.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=BB(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ls(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(H(io),H(Di),H(Fi))},t.\u0275cmp=He({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Ft(qge,7),2&e){let o;bt(o=yt())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(Mi("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Al("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Ht("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:LE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(Dl(),c(0,"div",0,1)(2,"div",2),Fs(3),u()()),2&e&&Al("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),D1e=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:r,paddingRight:s}=o;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${a+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=s),o.overflow=r}}}return t.\u0275fac=function(e){return new(e||t)(Ve(io))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),F1e=(()=>{class t{constructor(e,i,o,r,s,a){this._applicationRef=e,this._injector=i,this._document=o,this._scrollBar=r,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new Oe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new je,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const o=sr(n,"focusin").pipe(xr(e),Ze(r=>r.target));sr(n,"keydown").pipe(xr(e),Li(r=>r.which===Ui.Tab),_E(o)).subscribe(([r,s])=>{const[a,l]=BB(n);(s===a||s===n)&&r.shiftKey&&(l.focus(),r.preventDefault()),s===l&&!r.shiftKey&&(a.focus(),r.preventDefault())}),i&&sr(n,"click").pipe(xr(e),_E(o),Ze(r=>r[1])).subscribe(r=>r.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o,r){const s=r.container instanceof HTMLElement?r.container:Vu(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const l=new ar,d=this._getContentRef(e,r.injector||i,o,l,r);let h=!1!==r.backdrop?this._attachBackdrop(e,s):void 0,w=this._attachWindowComponent(e,s,d),P=new T1e(w,d,h,r.beforeDismiss);return this._registerModalRef(P),this._registerWindowCmpt(w),P.hidden.pipe(js(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=N=>{P.close(N)},l.dismiss=N=>{P.dismiss(N)},this._applyWindowOptions(w.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,r),h.changeDetectorRef.detectChanges()),w.changeDetectorRef.detectChanges(),P}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let r=e.resolveComponentFactory(E1e).create(this._injector);return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(e,i,o){let s=e.resolveComponentFactory(P1e).create(this._injector,o.nodes);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,i){this._windowAttributes.forEach(o=>{Vu(i[o])&&(e[o]=i[o])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(o=>{Vu(i[o])&&(e[o]=i[o])})}_getContentRef(e,i,o,r,s){return o?o instanceof mo?this._createFromTemplateRef(o,r):MB(o)?this._createFromString(o):this._createFromComponent(e,i,o,r,s):new np([])}_createFromTemplateRef(e,i){const r=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(r),new np([r.rootNodes],r)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new np([[i]])}_createFromComponent(e,i,o,r,s){const a=e.resolveComponentFactory(o),l=po.create({providers:[{provide:ar,useValue:r}],parent:i}),d=a.create(l),h=d.location.nativeElement;return s.scrollable&&h.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new np([[h]],d.hostView,d)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(Ve(lm),Ve(po),Ve(io),Ve(D1e),Ve(o6),Ve(Fi))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),A1e=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ve(Qd))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jn=(()=>{class t{constructor(e,i,o,r){this._moduleCFR=e,this._injector=i,this._modalStack=o,this._config=r}open(e,i={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(Ve(om),Ve(po),Ve(F1e),Ve(A1e))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),YB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:[jn]}),t})(),I1e=(()=>{class t{constructor(e){this._ngbConfig=e,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ve(Qd))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const XB=t=>Vu(t)&&""!==t;let k1e=0,ip=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbNavContent",""]]}),t})(),Uu=(()=>{class t{constructor(e,i){this.elementRef=i,this.disabled=!1,this.shown=new je,this.hidden=new je,this._nav=e}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Vu(this.domId)||(this.domId="ngb-nav-"+k1e++)}get active(){return this._nav.activeId===this.id}get id(){return XB(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Vu(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return t.\u0275fac=function(e){return new(e||t)(H(Nn(()=>zu)),H(Di))},t.\u0275dir=Qt({type:t,selectors:[["","ngbNavItem",""]],contentQueries:function(e,i,o){if(1&e&&ko(o,ip,4),2&e){let r;bt(r=yt())&&(i.contentTpls=r)}},hostVars:2,hostBindings:function(e,i){2&e&&Ht("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),t})(),zu=(()=>{class t{constructor(e,i,o,r){this.role=e,this._cd=o,this._document=r,this.activeIdChange=new je,this.shown=new je,this.hidden=new je,this.destroy$=new Oe,this.navItemChange$=new Oe,this.navChange=new je,this.animation=i.animation,this.destroyOnHide=i.destroyOnHide,this.orientation=i.orientation,this.roles=i.roles,this.keyboard=i.keyboard}click(e){e.disabled||this._updateActiveId(e.id)}onKeyDown(e){if("tablist"!==this.roles||!this.keyboard)return;const i=e.which,o=this.links.filter(a=>!a.navItem.disabled),{length:r}=o;let s=-1;if(o.forEach((a,l)=>{a.elRef.nativeElement===this._document.activeElement&&(s=l)}),r){switch(i){case Ui.ArrowLeft:if("vertical"===this.orientation)return;s=(s-1+r)%r;break;case Ui.ArrowRight:if("vertical"===this.orientation)return;s=(s+1)%r;break;case Ui.ArrowDown:if("horizontal"===this.orientation)return;s=(s+1)%r;break;case Ui.ArrowUp:if("horizontal"===this.orientation)return;s=(s-1+r)%r;break;case Ui.Home:s=0;break;case Ui.End:s=r-1}"changeWithArrows"===this.keyboard&&this.select(o[s].navItem.id),o[s].elRef.nativeElement.focus(),e.preventDefault()}}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!Vu(this.activeId)){const e=this.items.first?this.items.first.id:null;XB(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}this.items.changes.pipe(xr(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:e}){e&&!e.firstChange&&this._notifyItemChanged(e.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(e,i=!0){if(this.activeId!==e){let o=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{o=!0}}),o||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}_notifyItemChanged(e){this.navItemChange$.next(this._getItemById(e))}_getItemById(e){return this.items&&this.items.find(i=>i.id===e)||null}}return t.\u0275fac=function(e){return new(e||t)(od("role"),H(I1e),H(is),H(io))},t.\u0275dir=Qt({type:t,selectors:[["","ngbNav",""]],contentQueries:function(e,i,o){if(1&e&&(ko(o,Uu,4),ko(o,op,5)),2&e){let r;bt(r=yt())&&(i.items=r),bt(r=yt())&&(i.links=r)}},hostVars:6,hostBindings:function(e,i){1&e&&z("keydown.arrowLeft",function(r){return i.onKeyDown(r)})("keydown.arrowRight",function(r){return i.onKeyDown(r)})("keydown.arrowDown",function(r){return i.onKeyDown(r)})("keydown.arrowUp",function(r){return i.onKeyDown(r)})("keydown.Home",function(r){return i.onKeyDown(r)})("keydown.End",function(r){return i.onKeyDown(r)}),2&e&&(Mi("aria-orientation","vertical"===i.orientation&&"tablist"===i.roles?"vertical":void 0)("role",i.role?i.role:i.roles?"tablist":void 0),Ht("nav",!0)("flex-column","vertical"===i.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[Xt]}),t})(),op=(()=>{class t{constructor(e,i,o,r){this.role=e,this.navItem=i,this.nav=o,this.elRef=r}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(od("role"),H(Uu),H(zu),H(Di))},t.\u0275dir=Qt({type:t,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(e,i){1&e&&z("click",function(r){return i.nav.click(i.navItem),r.preventDefault()}),2&e&&(ma("id",i.navItem.domId),Mi("role",i.role?i.role:i.nav.roles?"tab":void 0)("tabindex",i.navItem.disabled?-1:void 0)("aria-controls",i.navItem.isPanelInDom()?i.navItem.panelDomId:null)("aria-selected",i.navItem.active)("aria-disabled",i.navItem.disabled),Ht("nav-link",!0)("nav-item",i.hasNavItemClass())("active",i.navItem.active)("disabled",i.navItem.disabled))}}),t})();const N1e=({classList:t})=>(t.remove("show"),()=>t.remove("active")),R1e=(t,n)=>{n&&lf(t),t.classList.add("show")};let JE=(()=>{class t{constructor(e){this.elRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(Di))},t.\u0275dir=Qt({type:t,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(e,i){2&e&&(ma("id",i.item.panelDomId),Mi("role",i.role?i.role:i.nav.roles?"tabpanel":void 0)("aria-labelledby",i.item.domId),Ht("fade",i.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),t})(),uf=(()=>{class t{constructor(e,i){this._cd=e,this._ngZone=i,this._activePane=null}isPanelTransitioning(e){var i;return(null===(i=this._activePane)||void 0===i?void 0:i.item)===e}ngAfterViewInit(){var e;this._updateActivePane(),this.nav.navItemChange$.pipe(xr(this.nav.destroy$),jy((null===(e=this._activePane)||void 0===e?void 0:e.item)||null),Rh(),function Che(t){return n=>n.lift(new Mhe(t))}(1)).subscribe(i=>{const o={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?ls(this._ngZone,this._activePane.elRef.nativeElement,N1e,o).subscribe(()=>{var r;const s=null===(r=this._activePane)||void 0===r?void 0:r.item;this._activePane=this._getPaneForItem(i),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),ls(this._ngZone,this._activePane.elRef.nativeElement,R1e,o).subscribe(()=>{i&&(i.shown.emit(),this.nav.shown.emit(i.id))})),s&&(s.hidden.emit(),this.nav.hidden.emit(s.id))}):this._updateActivePane()})}_updateActivePane(){var e,i;this._activePane=this._getActivePane(),null===(e=this._activePane)||void 0===e||e.elRef.nativeElement.classList.add("show"),null===(i=this._activePane)||void 0===i||i.elRef.nativeElement.classList.add("active")}_getPaneForItem(e){return this._panes&&this._panes.find(i=>i.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}}return t.\u0275fac=function(e){return new(e||t)(H(is),H(Fi))},t.\u0275cmp=He({type:t,selectors:[["","ngbNavOutlet",""]],viewQuery:function(e,i){if(1&e&&Ft(JE,5),2&e){let o;bt(o=yt())&&(i._panes=o)}},hostVars:2,hostBindings:function(e,i){2&e&&Ht("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},attrs:$ge,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&k(0,Kge,1,1,"ng-template",0),2&e&&v("ngForOf",i.nav.items)},directives:[Lt,nt,JE,_a],encapsulation:2,changeDetection:0}),t})(),KB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})(),O1e=(()=>{class t{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),QB=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),t})(),JB=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbPaginationFirst",""]]}),t})(),ZB=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbPaginationLast",""]]}),t})(),eL=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbPaginationNext",""]]}),t})(),tL=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbPaginationNumber",""]]}),t})(),nL=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbPaginationPrevious",""]]}),t})(),iL=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(mo))},t.\u0275dir=Qt({type:t,selectors:[["ng-template","ngbPaginationPages",""]]}),t})(),qu=(()=>{class t{constructor(e){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new je(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,i){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,i=this.pageCount,o=Math.floor(this.maxSize/2);return this.page<=o?i=this.maxSize:this.pageCount-this.page<o?e=this.pageCount-this.maxSize:(e=this.page-o-1,i=this.page+(this.maxSize%2==0?o-1:o)),[e,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(e){const i=this.page;this.page=GE(e,this.pageCount,1),this.page!==i&&zc(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),zc(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,o=this.pageCount;[i,o]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,o),this._applyEllipses(i,o)}}}return t.\u0275fac=function(e){return new(e||t)(H(O1e))},t.\u0275cmp=He({type:t,selectors:[["ngb-pagination"]],contentQueries:function(e,i,o){if(1&e&&(ko(o,QB,5),ko(o,JB,5),ko(o,ZB,5),ko(o,eL,5),ko(o,tL,5),ko(o,nL,5),ko(o,iL,5)),2&e){let r;bt(r=yt())&&(i.tplEllipsis=r.first),bt(r=yt())&&(i.tplFirst=r.first),bt(r=yt())&&(i.tplLast=r.first),bt(r=yt())&&(i.tplNext=r.first),bt(r=yt())&&(i.tplNumber=r.first),bt(r=yt())&&(i.tplPrevious=r.first),bt(r=yt())&&(i.tplPages=r.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[Xt],decls:20,vars:12,consts:function(){let n,e,i,o,r,s,a,l;return n=$localize`:@@ngb.pagination.first:`,e=$localize`:@@ngb.pagination.previous:`,i=$localize`:@@ngb.pagination.next:`,o=$localize`:@@ngb.pagination.last:`,r=$localize`:@@ngb.pagination.first-aria:First`,s=$localize`:@@ngb.pagination.previous-aria:Previous`,a=$localize`:@@ngb.pagination.next-aria:Next`,l=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],n,e,i,o,["class","sr-only",4,"ngIf"],[1,"sr-only"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",r,"href","",1,"page-link",3,"click"],["aria-label",s,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"]]},template:function(e,i){if(1&e&&(k(0,Qge,2,0,"ng-template",null,0,$t),k(2,Jge,2,0,"ng-template",null,1,$t),k(4,Zge,2,0,"ng-template",null,2,$t),k(6,e_e,2,0,"ng-template",null,3,$t),k(8,t_e,1,0,"ng-template",null,4,$t),k(10,i_e,2,2,"ng-template",null,5,$t),k(12,d_e,1,1,"ng-template",null,6,$t),c(14,"ul"),k(15,m_e,3,9,"li",7),k(16,g_e,3,8,"li",7),k(17,__e,0,0,"ng-template",8),k(18,b_e,3,9,"li",7),k(19,w_e,3,9,"li",7),u()),2&e){const o=hn(13);p(14),Al("pagination"+(i.size?" pagination-"+i.size:"")),p(1),v("ngIf",i.boundaryLinks),p(1),v("ngIf",i.directionLinks),p(1),v("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||o)("ngTemplateOutletContext",H1(8,x_e,i.page,i.pages,i.disabled)),p(1),v("ngIf",i.directionLinks),p(1),v("ngIf",i.boundaryLinks)}},directives:[nt,Lt,_a],encapsulation:2,changeDetection:0}),t})(),ZE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})();class B1e{constructor(n,e){this.open=n,this.close=e,e||(this.close=n)}isManual(){return"manual"===this.open||"manual"===this.close}}const L1e={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},oL=t=>t>0?xO(t):n=>n;let rL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})(),sL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})(),U1e=(()=>{class t{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rp=(()=>{class t{constructor(e,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new je,this.leave=new je,this.rateChange=new je(!0),this.onChange=o=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case Ui.ArrowDown:case Ui.ArrowLeft:this.update(this.rate-1);break;case Ui.ArrowUp:case Ui.ArrowRight:this.update(this.rate+1);break;case Ui.Home:this.update(0);break;case Ui.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate),e.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,i=!0){const o=GE(e,this.max,0);this.isInteractive()&&this.rate!==o&&(this.rate=o,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((i,o)=>i.fill=Math.round(100*GE(e-o,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(e,i)=>({fill:0,index:i}))}}return t.\u0275fac=function(e){return new(e||t)(H(U1e),H(is))},t.\u0275cmp=He({type:t,selectors:[["ngb-rating"]],contentQueries:function(e,i,o){if(1&e&&ko(o,mo,5),2&e){let r;bt(r=yt())&&(i.starTemplateFromContent=r.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,i){1&e&&z("blur",function(){return i.handleBlur()})("keydown",function(r){return i.handleKeyDown(r)})("mouseleave",function(){return i.reset()}),2&e&&(ma("tabindex",i.disabled?-1:0),Mi("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[Tt([{provide:Ms,useExisting:Nn(()=>t),multi:!0}]),Xt],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(k(0,S_e,1,1,"ng-template",null,0,$t),k(2,T_e,4,5,"ng-template",1)),2&e&&(p(2),v("ngForOf",i.contexts))},directives:[Lt,_a],encapsulation:2,changeDetection:0}),t})(),aL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})(),lL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})(),cL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})(),$1e=(()=>{class t{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Ve(Qd))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),W1e=0,Y1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,i){2&e&&(ma("id",i.id),Al("tooltip"+(i.tooltipClass?" "+i.tooltipClass:"")),Ht("fade",i.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:LE,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(e,i){1&e&&(Dl(),re(0,"div",0),c(1,"div",1),Fs(2),u())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top .arrow,ngb-tooltip-window.bs-tooltip-bottom .arrow{left:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-top-left .arrow,ngb-tooltip-window.bs-tooltip-bottom-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-top-right .arrow,ngb-tooltip-window.bs-tooltip-bottom-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}\n"],encapsulation:2,changeDetection:0}),t})(),uL=(()=>{class t{constructor(e,i,o,r,s,a,l,d,h){this._elementRef=e,this._renderer=i,this._ngZone=a,this._document=l,this._changeDetector=d,this.shown=new je,this.hidden=new je,this._ngbTooltipWindowId="ngb-tooltip-"+W1e++,this._windowRef=null,this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new WB(Y1e,o,r,i,this._ngZone,h),this._zoneSubscription=a.onStable.subscribe(()=>{this._windowRef&&qE(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-tooltip")})}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:o}=this._popupService.open(this._ngbTooltip,e,this.animation);this._windowRef=i,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),zE(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),o.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function H1e(t,n,e,i,o,r,s=0,a=0){const l=function j1e(t,n=L1e){const e=(t||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(r=>r.split(":")).map(r=>{let s=n[r[0]]||r;return new B1e(s[0],s[1])}),o=i.filter(r=>r.isManual());if(o.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===o.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(e);if(1===l.length&&l[0].isManual())return()=>{};const d=function G1e(t,n,e,i){return new X(o=>{const r=[],s=()=>o.next(!0),a=()=>o.next(!1),l=()=>o.next(!i());return e.forEach(d=>{d.open===d.close?r.push(t.listen(n,d.open,l)):r.push(t.listen(n,d.open,s),t.listen(n,d.close,a))}),()=>{r.forEach(d=>d())}})}(t,n,l,i).pipe(function V1e(t,n,e){return i=>{let o=null;const r=i.pipe(Ze(l=>({open:l})),Li(l=>{const d=e();return d===l.open||o&&o.open!==d?(o&&o.open!==l.open&&(o=null),!1):(o=l,!0)}),ra());return Pn(r.pipe(Li(l=>l.open),oL(t)),r.pipe(Li(l=>!l.open),oL(n))).pipe(Li(l=>l===o&&(o=null,l.open!==e())),Ze(l=>l.open))}}(s,a,i)).subscribe(h=>h?o():r());return()=>d.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(H(Di),H(Dr),H(po),H(Is),H($1e),H(Fi),H(io),H(is),H(lm))},t.\u0275dir=Qt({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[Xt]}),t})(),dL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({}),t})(),X1e=(()=>{class t{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=a_(this.result),o=Array.isArray(this.term)?this.term:[this.term],r=d=>this.accentSensitive?d:SB(d),s=o.map(d=>function V_e(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(r(a_(d)))).filter(d=>d),a=this.accentSensitive?i:SB(i),l=s.length?a.split(new RegExp(`(${s.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=l;else{let d=0;this.parts=l.map(h=>i.substring(d,d+=h.length))}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[Xt],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,i){1&e&&k(0,R_e,3,2,"ng-template",0),2&e&&v("ngForOf",i.parts)},directives:[Lt,nt],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),t})(),K1e=(()=>{class t{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=a_,this.selectEvent=new je,this.activeChangeEvent=new je}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(e,i){1&e&&z("mousedown",function(r){return r.preventDefault()}),2&e&&(ma("id",i.id),Al("dropdown-menu show"+(i.popupClass?" "+i.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(k(0,O_e,1,2,"ng-template",null,0,$t),k(2,j_e,2,9,"ng-template",1)),2&e&&(p(2),v("ngForOf",i.results))},directives:[X1e,Lt,_a],encapsulation:2}),t})(),Q1e=(()=>{class t{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const J1e=new kn("live announcer delay",{providedIn:"root",factory:function Z1e(){return 100}});function pL(t,n=!1){let e=t.body.querySelector("#ngb-live");return null==e&&n&&(e=t.createElement("div"),e.setAttribute("id","ngb-live"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.classList.add("sr-only"),t.body.appendChild(e)),e}let eve=(()=>{class t{constructor(e,i){this._document=e,this._delay=i}ngOnDestroy(){const e=pL(this._document);e&&e.parentElement.removeChild(e)}say(e){const i=pL(this._document,!0),o=this._delay;if(null!=i){i.textContent="";const r=()=>i.textContent=e;null===o?r():setTimeout(r,o)}}}return t.\u0275fac=function(e){return new(e||t)(Ve(io),Ve(J1e))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tve=0,$u=(()=>{class t{constructor(e,i,o,r,s,a,l,d,h,w,P){this._elementRef=e,this._renderer=o,this._live=l,this._document=d,this._ngZone=h,this._changeDetector=w,this._subscription=null,this._closed$=new Oe,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new je,this.activeDescendant=null,this.popupId="ngb-typeahead-"+tve++,this._onTouched=()=>{},this._onChange=N=>{},this.container=s.container,this.editable=s.editable,this.focusFirst=s.focusFirst,this.showHint=s.showHint,this.placement=s.placement,this._valueChanges=sr(e.nativeElement,"input").pipe(Ze(N=>N.target.value)),this._resubscribeTypeahead=new wr(null),this._popupService=new WB(K1e,r,i,o,this._ngZone,P),this._zoneSubscription=a.onStable.subscribe(()=>{this.isPopupOpen()&&qE(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:e}){e&&!e.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){this._writeInputValue(this._formatItemForInput(e)),this.showHint&&(this._inputValueBackup=e)}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(e){if(this.isPopupOpen())switch(e.which){case Ui.ArrowDown:e.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Ui.ArrowUp:e.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Ui.Enter:case Ui.Tab:{const i=this._windowRef.instance.getActive();Vu(i)&&(e.preventDefault(),e.stopPropagation(),this._selectResult(i)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:e}=this._popupService.open();this._windowRef=e,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(i=>this._selectResultClosePopup(i)),this._windowRef.instance.activeChangeEvent.subscribe(i=>this.activeDescendant=i),this._windowRef.instance.popupClass=this.popupClass,"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),zE(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(e){let i=!1;this.selectItem.emit({item:e,preventDefault:()=>{i=!0}}),this._resubscribeTypeahead.next(null),i||(this.writeValue(e),this._onChange(e))}_selectResultClosePopup(e){this._selectResult(e),this._closePopup()}_showHint(){var e;if(this.showHint&&(null===(e=this._windowRef)||void 0===e?void 0:e.instance.hasActive())&&null!=this._inputValueBackup){const i=this._inputValueBackup.toLowerCase(),o=this._formatItemForInput(this._windowRef.instance.getActive());i===o.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+o.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,o.length])):this._writeInputValue(o)}}_formatItemForInput(e){return null!=e&&this.inputFormatter?this.inputFormatter(e):a_(e)}_writeInputValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",a_(e))}_subscribeToUserInput(){const e=this._valueChanges.pipe(un(i=>{this._inputValueBackup=this.showHint?i:null,this._onChange(this.editable?i:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>Mn([]));this._subscription=this._resubscribeTypeahead.pipe(qr(()=>e)).subscribe(i=>{i&&0!==i.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=i,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const o=i?i.length:0;this._live.say(0===o?"No results available":`${o} result${1===o?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return t.\u0275fac=function(e){return new(e||t)(H(Di),H(Is),H(Dr),H(po),H(Q1e),H(Fi),H(eve),H(io),H(Fi),H(is),H(lm))},t.\u0275dir=Qt({type:t,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(e,i){1&e&&z("blur",function(){return i.handleBlur()})("keydown",function(r){return i.handleKeyDown(r)}),2&e&&(ma("autocomplete",i.autocomplete),Mi("aria-autocomplete",i.showHint?"both":"list")("aria-activedescendant",i.activeDescendant)("aria-owns",i.isPopupOpen()?i.popupId:null)("aria-expanded",i.isPopupOpen()),Ht("open",i.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",showHint:"showHint",placement:"placement",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[Tt([{provide:Ms,useExisting:Nn(()=>t),multi:!0}]),Xt]}),t})(),mL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})();const nve=[DB,FB,AB,kB,NB,zB,$B,YB,KB,ZE,rL,sL,aL,lL,cL,dL,mL];let e3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[nve,DB,FB,AB,kB,NB,zB,$B,YB,KB,ZE,rL,sL,aL,lL,cL,dL,mL]}),t})();const d0=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function p0(t){return new X(n=>{let e;try{e=t()}catch(o){return void n.error(o)}return(e?Le(e):Oy()).subscribe(n)})}function fL(t,n){let e=!1;return arguments.length>=2&&(e=!0),function(o){return o.lift(new ive(t,n,e))}}class ive{constructor(n,e,i=!1){this.accumulator=n,this.seed=e,this.hasSeed=i}call(n,e){return e.subscribe(new ove(n,this.accumulator,this.seed,this.hasSeed))}}class ove extends y{constructor(n,e,i,o){super(n),this.accumulator=e,this._seed=i,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const e=this.index++;let i;try{i=this.accumulator(this.seed,n,e)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)}}function df(t,n){return ht(t,n,1)}function t3(t){return function(e){return 0===t?Oy():e.lift(new rve(t))}}class rve{constructor(n){if(this.total=n,this.total<0)throw new wO}call(n,e){return e.subscribe(new sve(n,this.total))}}class sve extends y{constructor(n,e){super(n),this.total=e,this.ring=new Array,this.count=0}_next(n){const e=this.ring,i=this.total,o=this.count++;e.length<i?e.push(n):e[o%i]=n}_complete(){const n=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,o=this.ring;for(let r=0;r<i;r++){const s=e++%i;n.next(o[s])}}n.complete()}}function hL(t=cve){return n=>n.lift(new ave(t))}class ave{constructor(n){this.errorFactory=n}call(n,e){return e.subscribe(new lve(n,this.errorFactory))}}class lve extends y{constructor(n,e){super(n),this.errorFactory=e,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(e){n=e}this.destination.error(n)}}}function cve(){return new d0}function gL(t=null){return n=>n.lift(new uve(t))}class uve{constructor(n){this.defaultValue=n}call(n,e){return e.subscribe(new dve(n,this.defaultValue))}}class dve extends y{constructor(n,e){super(n),this.defaultValue=e,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function pf(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Li((o,r)=>t(o,r,i)):R,js(1),e?gL(n):hL(()=>new d0))}class $c{constructor(n,e){this.id=n,this.url=e}}class n3 extends $c{constructor(n,e,i="imperative",o=null){super(n,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class g_ extends $c{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _L extends $c{constructor(n,e,i){super(n,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mve extends $c{constructor(n,e,i){super(n,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fve extends $c{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hve extends $c{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gve extends $c{constructor(n,e,i,o,r){super(n,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _ve extends $c{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vve extends $c{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vL{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bL{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bve{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yve{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wve{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xve{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yL{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ui="primary";class Cve{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mf(t){return new Cve(t)}const wL="ngNavigationCancelingError";function o3(t){const n=Error("NavigationCancelingError: "+t);return n[wL]=!0,n}function Sve(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const o={};for(let r=0;r<i.length;r++){const s=i[r],a=t[r];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function nc(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!xL(t[o],n[o]))return!1;return!0}function xL(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((o,r)=>i[r]===o)}return t===n}function CL(t){return Array.prototype.concat.apply([],t)}function ML(t){return t.length>0?t[t.length-1]:null}function Wr(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function ic(t){return W2(t)?t:mh(t)?Le(Promise.resolve(t)):Mn(t)}const Pve={exact:function TL(t,n,e){if(!ap(t.segments,n.segments)||!m0(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!TL(t.children[i],n.children[i],e))return!1;return!0},subset:PL},SL={exact:function Dve(t,n){return nc(t,n)},subset:function Fve(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>xL(t[e],n[e]))},ignored:()=>!0};function EL(t,n,e){return Pve[e.paths](t.root,n.root,e.matrixParams)&&SL[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function PL(t,n,e){return DL(t,n,n.segments,e)}function DL(t,n,e,i){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!ap(o,e)||n.hasChildren()||!m0(o,e,i))}if(t.segments.length===e.length){if(!ap(t.segments,e)||!m0(t.segments,e,i))return!1;for(const o in n.children)if(!t.children[o]||!PL(t.children[o],n.children[o],i))return!1;return!0}{const o=e.slice(0,t.segments.length),r=e.slice(t.segments.length);return!!(ap(t.segments,o)&&m0(t.segments,o,i)&&t.children[ui])&&DL(t.children[ui],n,r,i)}}function m0(t,n,e){return n.every((i,o)=>SL[e](t[o].parameters,i.parameters))}class sp{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mf(this.queryParams)),this._queryParamMap}toString(){return kve.serialize(this)}}class vi{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Wr(e,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return f0(this)}}class __{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mf(this.parameters)),this._parameterMap}toString(){return NL(this)}}function ap(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}class FL{}class AL{parse(n){const e=new Hve(n);return new sp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${v_(n.root,!0)}`,i=function Ove(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(o=>`${h0(e)}=${h0(o)}`).join("&"):`${h0(e)}=${h0(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams),o="string"==typeof n.fragment?`#${function Nve(t){return encodeURI(t)}(n.fragment)}`:"";return`${e}${i}${o}`}}const kve=new AL;function f0(t){return t.segments.map(n=>NL(n)).join("/")}function v_(t,n){if(!t.hasChildren())return f0(t);if(n){const e=t.children[ui]?v_(t.children[ui],!1):"",i=[];return Wr(t.children,(o,r)=>{r!==ui&&i.push(`${r}:${v_(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ive(t,n){let e=[];return Wr(t.children,(i,o)=>{o===ui&&(e=e.concat(n(i,o)))}),Wr(t.children,(i,o)=>{o!==ui&&(e=e.concat(n(i,o)))}),e}(t,(i,o)=>o===ui?[v_(t.children[ui],!1)]:[`${o}:${v_(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ui]?`${f0(t)}/${e[0]}`:`${f0(t)}/(${e.join("//")})`}}function IL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function h0(t){return IL(t).replace(/%3B/gi,";")}function r3(t){return IL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function g0(t){return decodeURIComponent(t)}function kL(t){return g0(t.replace(/\+/g,"%20"))}function NL(t){return`${r3(t.path)}${function Rve(t){return Object.keys(t).map(n=>`;${r3(n)}=${r3(t[n])}`).join("")}(t.parameters)}`}const Bve=/^[^\/()?;=#]+/;function _0(t){const n=t.match(Bve);return n?n[0]:""}const Lve=/^[^=?&#]+/,Gve=/^[^&#]+/;class Hve{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vi([],{}):new vi([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[ui]=new vi(n,e)),i}parseSegment(){const n=_0(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new __(g0(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=_0(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=_0(this.remaining);o&&(i=o,this.capture(i))}n[g0(e)]=g0(i)}parseQueryParam(n){const e=function jve(t){const n=t.match(Lve);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function Vve(t){const n=t.match(Gve);return n?n[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const o=kL(e),r=kL(i);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(r)}else n[o]=r}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=_0(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let r;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):n&&(r=ui);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s[ui]:new vi([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class RL{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=s3(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=s3(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=a3(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return a3(n,this._root).map(e=>e.value)}}function s3(t,n){if(t===n.value)return n;for(const e of n.children){const i=s3(t,e);if(i)return i}return null}function a3(t,n){if(t===n.value)return[n];for(const e of n.children){const i=a3(t,e);if(i.length)return i.unshift(n),i}return[]}class Wc{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function ff(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class OL extends RL{constructor(n,e){super(n),this.snapshot=e,l3(this,n)}toString(){return this.snapshot.toString()}}function BL(t,n){const e=function Uve(t,n){const s=new v0([],{},{},"",{},ui,n,null,t.root,-1,{});return new jL("",new Wc(s,[]))}(t,n),i=new wr([new __("",{})]),o=new wr({}),r=new wr({}),s=new wr({}),a=new wr(""),l=new Jn(i,o,s,a,r,ui,n,e.root);return l.snapshot=e.root,new OL(new Wc(l,[]),e)}class Jn{constructor(n,e,i,o,r,s,a,l){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ze(n=>mf(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ze(n=>mf(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function LL(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const o=e[i],r=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(r.component)break;i--}}return function zve(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class v0{constructor(n,e,i,o,r,s,a,l,d,h,w){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=d,this._lastPathIndex=h,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jL extends RL{constructor(n,e){super(e),this.url=n,l3(this,e)}toString(){return GL(this._root)}}function l3(t,n){n.value._routerState=t,n.children.forEach(e=>l3(t,e))}function GL(t){const n=t.children.length>0?` { ${t.children.map(GL).join(", ")} } `:"";return`${t.value}${n}`}function c3(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,nc(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),nc(n.params,e.params)||t.params.next(e.params),function Eve(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!nc(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),nc(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function u3(t,n){const e=nc(t.params,n.params)&&function Ave(t,n){return ap(t,n)&&t.every((e,i)=>nc(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||u3(t.parent,n.parent))}function b_(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const o=function $ve(t,n,e){return n.children.map(i=>{for(const o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return b_(t,i,o);return b_(t,i)})}(t,n,e);return new Wc(i,o)}{if(t.shouldAttach(n.value)){const r=t.retrieve(n.value);if(null!==r){const s=r.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>b_(t,a)),s}}const i=function Wve(t){return new Jn(new wr(t.url),new wr(t.params),new wr(t.queryParams),new wr(t.fragment),new wr(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(r=>b_(t,r));return new Wc(i,o)}}function b0(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function y_(t){return"object"==typeof t&&null!=t&&t.outlets}function d3(t,n,e,i,o){let r={};if(i&&Wr(i,(a,l)=>{r[l]=Array.isArray(a)?a.map(d=>`${d}`):`${a}`}),t===n)return new sp(e,r,o);const s=VL(t,n,e);return new sp(s,r,o)}function VL(t,n,e){const i={};return Wr(t.children,(o,r)=>{i[r]=o===n?e:VL(o,n,e)}),new vi(t.segments,i)}class HL{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&b0(i[0]))throw new Error("Root segment cannot have matrix parameters");const o=i.find(y_);if(o&&o!==ML(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class p3{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function UL(t,n,e){if(t||(t=new vi([],{})),0===t.segments.length&&t.hasChildren())return y0(t,n,e);const i=function Zve(t,n,e){let i=0,o=n;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return r;const s=t.segments[o],a=e[i];if(y_(a))break;const l=`${a}`,d=i<e.length-1?e[i+1]:null;if(o>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!qL(l,d,s))return r;i+=2}else{if(!qL(l,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,n,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const r=new vi(t.segments.slice(0,i.pathIndex),{});return r.children[ui]=new vi(t.segments.slice(i.pathIndex),t.children),y0(r,0,o)}return i.match&&0===o.length?new vi(t.segments,{}):i.match&&!t.hasChildren()?m3(t,n,e):i.match?y0(t,0,o):m3(t,n,e)}function y0(t,n,e){if(0===e.length)return new vi(t.segments,{});{const i=function Jve(t){return y_(t[0])?t[0].outlets:{[ui]:t}}(e),o={};return Wr(i,(r,s)=>{"string"==typeof r&&(r=[r]),null!==r&&(o[s]=UL(t.children[s],n,r))}),Wr(t.children,(r,s)=>{void 0===i[s]&&(o[s]=r)}),new vi(t.segments,o)}}function m3(t,n,e){const i=t.segments.slice(0,n);let o=0;for(;o<e.length;){const r=e[o];if(y_(r)){const l=ebe(r.outlets);return new vi(i,l)}if(0===o&&b0(e[0])){i.push(new __(t.segments[n].path,zL(e[0]))),o++;continue}const s=y_(r)?r.outlets[ui]:`${r}`,a=o<e.length-1?e[o+1]:null;s&&a&&b0(a)?(i.push(new __(s,zL(a))),o+=2):(i.push(new __(s,{})),o++)}return new vi(i,{})}function ebe(t){const n={};return Wr(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=m3(new vi([],{}),0,e))}),n}function zL(t){const n={};return Wr(t,(e,i)=>n[i]=`${e}`),n}function qL(t,n,e){return t==e.path&&nc(n,e.parameters)}class nbe{constructor(n,e,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=o}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),c3(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const o=ff(e);n.children.forEach(r=>{const s=r.value.outlet;this.deactivateRoutes(r,o[s],i),delete o[s]}),Wr(o,(r,s)=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(n,e,i){const o=n.value,r=e?e.value:null;if(o===r)if(o.component){const s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,r=ff(n);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],o);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,r=ff(n);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const o=ff(e);n.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new xve(r.value.snapshot))}),n.children.length&&this.forwardEvent(new yve(n.value.snapshot))}activateRoutes(n,e,i){const o=n.value,r=e?e.value:null;if(c3(o),o===r)if(o.component){const s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(o.component){const s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),c3(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=function ibe(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=o,s.resolver=l,s.outlet&&s.outlet.activateWith(o,l),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}}class f3{constructor(n,e){this.routes=n,this.module=e}}function Wu(t){return"function"==typeof t}function lp(t){return t instanceof sp}const w_=Symbol("INITIAL_VALUE");function x_(){return qr(t=>gE(t.map(n=>n.pipe(js(1),jy(w_)))).pipe(fL((n,e)=>{let i=!1;return e.reduce((o,r,s)=>o!==w_?o:(r===w_&&(i=!0),i||!1!==r&&s!==e.length-1&&!lp(r)?o:r),n)},w_),Li(n=>n!==w_),Ze(n=>lp(n)?n:!0===n),js(1)))}class cbe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new C_,this.attachRef=null}}class C_{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const i=this.getOrCreateContext(n);i.outlet=e,this.contexts.set(n,i)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new cbe,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let h3=(()=>{class t{constructor(e,i,o,r,s){this.parentContexts=e,this.location=i,this.resolver=o,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.name=r||ui,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new ube(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(H(C_),H(Is),H(om),od("name"),H(is))},t.\u0275dir=Qt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class ube{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Jn?this.route:n===C_?this.childContexts:this.parent.get(n,e)}}let $L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&re(0,"router-outlet")},directives:[h3],encapsulation:2}),t})();function WL(t,n=""){for(let e=0;e<t.length;e++){const i=t[e];dbe(i,pbe(n,i))}}function dbe(t,n){t.children&&WL(t.children,n)}function pbe(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function g3(t){const n=t.children&&t.children.map(g3),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ui&&(e.component=$L),e}function Oa(t){return t.outlet||ui}function YL(t,n){const e=t.filter(i=>Oa(i)===n);return e.push(...t.filter(i=>Oa(i)!==n)),e}const XL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w0(t,n,e){var i;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},XL):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(n.matcher||Sve)(e,t,n);if(!r)return Object.assign({},XL);const s={};Wr(r.posParams,(l,d)=>{s[d]=l.path});const a=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function x0(t,n,e,i,o="corrected"){if(e.length>0&&function hbe(t,n,e){return e.some(i=>C0(t,n,i)&&Oa(i)!==ui)}(t,e,i)){const s=new vi(n,function fbe(t,n,e,i){const o={};o[ui]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const r of e)if(""===r.path&&Oa(r)!==ui){const s=new vi([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,o[Oa(r)]=s}return o}(t,n,i,new vi(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function gbe(t,n,e){return e.some(i=>C0(t,n,i))}(t,e,i)){const s=new vi(t.segments,function mbe(t,n,e,i,o,r){const s={};for(const a of i)if(C0(t,e,a)&&!o[Oa(a)]){const l=new vi([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===r?t.segments.length:n.length,s[Oa(a)]=l}return Object.assign(Object.assign({},o),s)}(t,n,e,i,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const r=new vi(t.segments,t.children);return r._sourceSegment=t,r._segmentIndexShift=n.length,{segmentGroup:r,slicedSegments:e}}function C0(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function KL(t,n,e,i){return!!(Oa(t)===i||i!==ui&&C0(n,e,t))&&("**"===t.path||w0(n,t,e).matched)}function QL(t,n,e){return 0===n.length&&!t.children[e]}class M0{constructor(n){this.segmentGroup=n||null}}class JL{constructor(n){this.urlTree=n}}function M_(t){return t_(new M0(t))}function ZL(t){return t_(new JL(t))}function _be(t){return t_(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`))}class ybe{constructor(n,e,i,o,r){this.configLoader=e,this.urlSerializer=i,this.urlTree=o,this.config=r,this.allowRedirects=!0,this.ngModule=n.get(_c)}apply(){const n=x0(this.urlTree.root,[],[],this.config).segmentGroup,e=new vi(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ui).pipe(Ze(r=>this.createUrlTree(_3(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(il(r=>{if(r instanceof JL)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof M0?this.noMatchError(r):r}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ui).pipe(Ze(o=>this.createUrlTree(_3(o),n.queryParams,n.fragment))).pipe(il(o=>{throw o instanceof M0?this.noMatchError(o):o}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,i){const o=n.segments.length>0?new vi([],{[ui]:n}):n;return new sp(o,e,i)}expandSegmentGroup(n,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe(Ze(r=>new vi([],r))):this.expandSegment(n,i,e,i.segments,o,!0)}expandChildren(n,e,i){const o=[];for(const r of Object.keys(i.children))"primary"===r?o.unshift(r):o.push(r);return Le(o).pipe(df(r=>{const s=i.children[r],a=YL(e,r);return this.expandSegmentGroup(n,a,s,r).pipe(Ze(l=>({segment:l,outlet:r})))}),fL((r,s)=>(r[s.outlet]=s.segment,r),{}),function pve(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Li((o,r)=>t(o,r,i)):R,t3(1),e?gL(n):hL(()=>new d0))}())}expandSegment(n,e,i,o,r,s){return Le(i).pipe(df(a=>this.expandSegmentAgainstRoute(n,e,i,a,o,r,s).pipe(il(d=>{if(d instanceof M0)return Mn(null);throw d}))),pf(a=>!!a),il((a,l)=>{if(a instanceof d0||"EmptyError"===a.name)return QL(e,o,r)?Mn(new vi([],{})):M_(e);throw a}))}expandSegmentAgainstRoute(n,e,i,o,r,s,a){return KL(o,e,r,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,r,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,o,r,s):M_(e):M_(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,o,r,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,o){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ZL(r):this.lineralizeSegments(i,r).pipe(ht(s=>{const a=new vi(s,{});return this.expandSegment(n,a,e,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,r,s){const{matched:a,consumedSegments:l,remainingSegments:d,positionalParamSegments:h}=w0(e,o,r);if(!a)return M_(e);const w=this.applyRedirectCommands(l,o.redirectTo,h);return o.redirectTo.startsWith("/")?ZL(w):this.lineralizeSegments(o,w).pipe(ht(P=>this.expandSegment(n,e,i,P.concat(d),s,!1)))}matchSegmentAgainstRoute(n,e,i,o,r){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Mn(i._loadedConfig):this.configLoader.load(n.injector,i)).pipe(Ze(w=>(i._loadedConfig=w,new vi(o,{})))):Mn(new vi(o,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=w0(e,i,o);return s?this.getChildConfig(n,i,o).pipe(ht(h=>{const w=h.module,P=h.routes,{segmentGroup:N,slicedSegments:L}=x0(e,a,l,P),U=new vi(N.segments,N.children);if(0===L.length&&U.hasChildren())return this.expandChildren(w,P,U).pipe(Ze(K=>new vi(a,K)));if(0===P.length&&0===L.length)return Mn(new vi(a,{}));const q=Oa(i)===r;return this.expandSegment(w,U,P,L,q?ui:r,!0).pipe(Ze(Q=>new vi(a.concat(Q.segments),Q.children)))})):M_(e)}getChildConfig(n,e,i){return e.children?Mn(new f3(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?Mn(e._loadedConfig):this.runCanLoadGuards(n.injector,e,i).pipe(ht(o=>o?this.configLoader.load(n.injector,e).pipe(Ze(r=>(e._loadedConfig=r,r))):function vbe(t){return t_(o3(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(e))):Mn(new f3([],n))}runCanLoadGuards(n,e,i){const o=e.canLoad;if(!o||0===o.length)return Mn(!0);const r=o.map(s=>{const a=n.get(s);let l;if(function rbe(t){return t&&Wu(t.canLoad)}(a))l=a.canLoad(e,i);else{if(!Wu(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return ic(l)});return Mn(r).pipe(x_(),un(s=>{if(!lp(s))return;const a=o3(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),Ze(s=>!0===s))}lineralizeSegments(n,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return Mn(i);if(o.numberOfChildren>1||!o.children[ui])return _be(n.redirectTo);o=o.children[ui]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreatreUrlTree(n,e,i,o){const r=this.createSegmentGroup(n,e.root,i,o);return new sp(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Wr(n,(o,r)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,o){const r=this.createSegments(n,e.segments,i,o);let s={};return Wr(e.children,(a,l)=>{s[l]=this.createSegmentGroup(n,a,i,o)}),new vi(r,s)}createSegments(n,e,i,o){return e.map(r=>r.path.startsWith(":")?this.findPosParam(n,r,o):this.findOrReturn(r,i))}findPosParam(n,e,i){const o=i[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return o}findOrReturn(n,e){let i=0;for(const o of e){if(o.path===n.path)return e.splice(i),o;i++}return n}}function _3(t){const n={};for(const i of Object.keys(t.children)){const r=_3(t.children[i]);(r.segments.length>0||r.hasChildren())&&(n[i]=r)}return function wbe(t){if(1===t.numberOfChildren&&t.children[ui]){const n=t.children[ui];return new vi(t.segments.concat(n.segments),n.children)}return t}(new vi(t.segments,n))}class ej{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class S0{constructor(n,e){this.component=n,this.route=e}}function Cbe(t,n,e){const i=t._root;return S_(i,n?n._root:null,e,[i.value])}function E0(t,n,e){const i=function Sbe(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(i?i.module.injector:e).get(t)}function S_(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=ff(n);return t.children.forEach(s=>{(function Ebe(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){const l=function Tbe(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!ap(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ap(t.url,n.url)||!nc(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!u3(t,n)||!nc(t.queryParams,n.queryParams);default:return!u3(t,n)}}(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new ej(i)):(r.data=s.data,r._resolvedData=s._resolvedData),S_(t,n,r.component?a?a.children:null:e,i,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new S0(a.outlet.component,s))}else s&&E_(n,a,o),o.canActivateChecks.push(new ej(i)),S_(t,null,r.component?a?a.children:null:e,i,o)})(s,r[s.value.outlet],e,i.concat([s.value]),o),delete r[s.value.outlet]}),Wr(r,(s,a)=>E_(s,e.getContext(a),o)),o}function E_(t,n,e){const i=ff(t),o=t.value;Wr(i,(r,s)=>{E_(r,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new S0(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}class Obe{}function tj(t){return new X(n=>n.error(t))}class Lbe{constructor(n,e,i,o,r,s){this.rootComponentType=n,this.config=e,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const n=x0(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,ui);if(null===e)return null;const i=new v0([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ui,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Wc(i,e),r=new jL(this.url,o);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(n){const e=n.value,i=LL(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,i)}processChildren(n,e){const i=[];for(const r of Object.keys(e.children)){const s=e.children[r],a=YL(n,r),l=this.processSegmentGroup(a,s,r);if(null===l)return null;i.push(...l)}const o=nj(i);return function jbe(t){t.sort((n,e)=>n.value.outlet===ui?-1:e.value.outlet===ui?1:n.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(n,e,i,o){for(const r of n){const s=this.processSegmentAgainstRoute(r,e,i,o);if(null!==s)return s}return QL(e,i,o)?[]:null}processSegmentAgainstRoute(n,e,i,o){if(n.redirectTo||!KL(n,e,i,o))return null;let r,s=[],a=[];if("**"===n.path){const N=i.length>0?ML(i).parameters:{};r=new v0(i,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rj(n),Oa(n),n.component,n,ij(e),oj(e)+i.length,sj(n))}else{const N=w0(e,n,i);if(!N.matched)return null;s=N.consumedSegments,a=N.remainingSegments,r=new v0(s,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rj(n),Oa(n),n.component,n,ij(e),oj(e)+s.length,sj(n))}const l=function Gbe(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(n),{segmentGroup:d,slicedSegments:h}=x0(e,s,a,l.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===h.length&&d.hasChildren()){const N=this.processChildren(l,d);return null===N?null:[new Wc(r,N)]}if(0===l.length&&0===h.length)return[new Wc(r,[])];const w=Oa(n)===o,P=this.processSegment(l,d,h,w?ui:o);return null===P?null:[new Wc(r,P)]}}function Vbe(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function nj(t){const n=[],e=new Set;for(const i of t){if(!Vbe(i)){n.push(i);continue}const o=n.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):n.push(i)}for(const i of e){const o=nj(i.children);n.push(new Wc(i.value,o))}return n.filter(i=>!e.has(i))}function ij(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function oj(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function rj(t){return t.data||{}}function sj(t){return t.resolve||{}}function aj(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function v3(t){return qr(n=>{const e=t(n);return e?Le(e).pipe(Ze(()=>n)):Mn(n)})}class Xbe extends class Ybe{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const b3=new kn("ROUTES");class lj{constructor(n,e,i,o){this.injector=n,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=o}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe(Ze(r=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=r.create(n);return new f3(CL(s.injector.get(b3,void 0,vn.Self|vn.Optional)).map(g3),s)}),il(r=>{throw e._loader$=void 0,r}));return e._loader$=new Ho(o,()=>new Oe).pipe(wi()),e._loader$}loadModuleFactory(n){return ic(n()).pipe(ht(e=>e instanceof TP?Mn(e):Le(this.compiler.compileModuleAsync(e))))}}class Qbe{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function Jbe(t){throw t}function Zbe(t,n,e){return n.parse("/")}function cj(t,n){return Mn(null)}const eye={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tye={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oi=(()=>{class t{constructor(e,i,o,r,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=o,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Oe,this.errorHandler=Jbe,this.malformedUriErrorHandler=Zbe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cj,afterPreactivation:cj},this.urlHandlingStrategy=new Qbe,this.routeReuseStrategy=new Xbe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(_c),this.console=s.get(xY);const w=s.get(Fi);this.isNgZoneEnabled=w instanceof Fi&&Fi.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Tve(){return new sp(new vi([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new lj(s,a,P=>this.triggerEvent(new vL(P)),P=>this.triggerEvent(new bL(P))),this.routerState=BL(this.currentUrlTree,this.rootComponentType),this.transitions=new wr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Li(o=>0!==o.id),Ze(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),qr(o=>{let r=!1,s=!1;return Mn(o).pipe(un(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),qr(a=>{const l=this.browserUrlTree.toString(),d=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return uj(a.source)&&(this.browserUrlTree=a.extractedUrl),Mn(a).pipe(qr(w=>{const P=this.transitions.getValue();return i.next(new n3(w.id,this.serializeUrl(w.extractedUrl),w.source,w.restoredState)),P!==this.transitions.getValue()?Wd:Promise.resolve(w)}),function xbe(t,n,e,i){return qr(o=>function bbe(t,n,e,i,o){return new ybe(t,n,e,i,o).apply()}(t,n,e,o.extractedUrl,i).pipe(Ze(r=>Object.assign(Object.assign({},o),{urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),un(w=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:w.urlAfterRedirects})}),function Hbe(t,n,e,i,o){return ht(r=>function Bbe(t,n,e,i,o="emptyOnly",r="legacy"){try{const s=new Lbe(t,n,e,i,o,r).recognize();return null===s?tj(new Obe):Mn(s)}catch(s){return tj(s)}}(t,n,r.urlAfterRedirects,e(r.urlAfterRedirects),i,o).pipe(Ze(s=>Object.assign(Object.assign({},r),{targetSnapshot:s}))))}(this.rootComponentType,this.config,w=>this.serializeUrl(w),this.paramsInheritanceStrategy,this.relativeLinkResolution),un(w=>{if("eager"===this.urlUpdateStrategy){if(!w.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);this.setBrowserUrl(N,w)}this.browserUrlTree=w.urlAfterRedirects}const P=new fve(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);i.next(P)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:N,source:L,restoredState:U,extras:q}=a,Z=new n3(P,this.serializeUrl(N),L,U);i.next(Z);const Q=BL(N,this.rootComponentType).snapshot;return Mn(Object.assign(Object.assign({},a),{targetSnapshot:Q,urlAfterRedirects:N,extras:Object.assign(Object.assign({},q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Wd}),v3(a=>{const{targetSnapshot:l,id:d,extractedUrl:h,rawUrl:w,extras:{skipLocationChange:P,replaceUrl:N}}=a;return this.hooks.beforePreactivation(l,{navigationId:d,appliedUrlTree:h,rawUrlTree:w,skipLocationChange:!!P,replaceUrl:!!N})}),un(a=>{const l=new hve(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Ze(a=>Object.assign(Object.assign({},a),{guards:Cbe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Pbe(t,n){return ht(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return 0===s.length&&0===r.length?Mn(Object.assign(Object.assign({},e),{guardsResult:!0})):function Dbe(t,n,e,i){return Le(t).pipe(ht(o=>function Rbe(t,n,e,i,o){const r=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return r&&0!==r.length?Mn(r.map(a=>{const l=E0(a,n,o);let d;if(function lbe(t){return t&&Wu(t.canDeactivate)}(l))d=ic(l.canDeactivate(t,n,e,i));else{if(!Wu(l))throw new Error("Invalid CanDeactivate guard");d=ic(l(t,n,e,i))}return d.pipe(pf())})).pipe(x_()):Mn(!0)}(o.component,o.route,e,n,i)),pf(o=>!0!==o,!0))}(s,i,o,t).pipe(ht(a=>a&&function obe(t){return"boolean"==typeof t}(a)?function Fbe(t,n,e,i){return Le(n).pipe(df(o=>Ly(function Ibe(t,n){return null!==t&&n&&n(new bve(t)),Mn(!0)}(o.route.parent,i),function Abe(t,n){return null!==t&&n&&n(new wve(t)),Mn(!0)}(o.route,i),function Nbe(t,n,e){const i=n[n.length-1],r=n.slice(0,n.length-1).reverse().map(s=>function Mbe(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>p0(()=>Mn(s.guards.map(l=>{const d=E0(l,s.node,e);let h;if(function abe(t){return t&&Wu(t.canActivateChild)}(d))h=ic(d.canActivateChild(i,t));else{if(!Wu(d))throw new Error("Invalid CanActivateChild guard");h=ic(d(i,t))}return h.pipe(pf())})).pipe(x_())));return Mn(r).pipe(x_())}(t,o.path,e),function kbe(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Mn(!0);const o=i.map(r=>p0(()=>{const s=E0(r,n,e);let a;if(function sbe(t){return t&&Wu(t.canActivate)}(s))a=ic(s.canActivate(n,t));else{if(!Wu(s))throw new Error("Invalid CanActivate guard");a=ic(s(n,t))}return a.pipe(pf())}));return Mn(o).pipe(x_())}(t,o.route,e))),pf(o=>!0!==o,!0))}(i,r,t,n):Mn(a)),Ze(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),un(a=>{if(lp(a.guardsResult)){const d=o3(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw d.url=a.guardsResult,d}const l=new gve(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Li(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),v3(a=>{if(a.guards.canActivateChecks.length)return Mn(a).pipe(un(l=>{const d=new _ve(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}),qr(l=>{let d=!1;return Mn(l).pipe(function Ube(t,n){return ht(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return Mn(e);let r=0;return Le(o).pipe(df(s=>function zbe(t,n,e,i){return function qbe(t,n,e,i){const o=aj(t);if(0===o.length)return Mn({});const r={};return Le(o).pipe(ht(s=>function $be(t,n,e,i){const o=E0(t,n,i);return ic(o.resolve?o.resolve(n,e):o(n,e))}(t[s],n,e,i).pipe(un(a=>{r[s]=a}))),t3(1),ht(()=>aj(r).length===o.length?Mn(r):Wd))}(t._resolve,t,n,i).pipe(Ze(r=>(t._resolvedData=r,t.data=Object.assign(Object.assign({},t.data),LL(t,e).resolve),null)))}(s.route,i,t,n)),un(()=>r++),t3(1),ht(s=>r===o.length?Mn(e):Wd))})}(this.paramsInheritanceStrategy,this.ngModule.injector),un({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),un(l=>{const d=new vve(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}))}),v3(a=>{const{targetSnapshot:l,id:d,extractedUrl:h,rawUrl:w,extras:{skipLocationChange:P,replaceUrl:N}}=a;return this.hooks.afterPreactivation(l,{navigationId:d,appliedUrlTree:h,rawUrlTree:w,skipLocationChange:!!P,replaceUrl:!!N})}),Ze(a=>{const l=function qve(t,n,e){const i=b_(t,n._root,e?e._root:void 0);return new OL(i,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),un(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>Ze(i=>(new nbe(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),un({next(){r=!0},complete(){r=!0}}),bA(()=>{var a;r||s||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===o.id&&(this.currentNavigation=null)}),il(a=>{if(s=!0,function Mve(t){return t&&t[wL]}(a)){const l=lp(a.url);l||(this.navigated=!0,this.restoreHistory(o,!0));const d=new _L(o.id,this.serializeUrl(o.extractedUrl),a.message);i.next(d),l?setTimeout(()=>{const h=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),w={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uj(o.source)};this.scheduleNavigation(h,"imperative",null,w,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const l=new mve(o.id,this.serializeUrl(o.extractedUrl),a);i.next(l);try{o.resolve(this.errorHandler(a))}catch(d){o.reject(d)}}return Wd}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var o;const r={replaceUrl:!0},s=(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){WL(e),this.config=e.map(g3),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,d=o||this.routerState.root,h=l?this.currentUrlTree.fragment:s;let w=null;switch(a){case"merge":w=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=r||null}return null!==w&&(w=this.removeEmptyProps(w)),function Yve(t,n,e,i,o){if(0===e.length)return d3(n.root,n.root,n.root,i,o);const r=function Xve(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new HL(!0,0,t);let n=0,e=!1;const i=t.reduce((o,r,s)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Wr(r.outlets,(l,d)=>{a[d]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return"string"!=typeof r?[...o,r]:0===s?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,r]},[]);return new HL(e,n,i)}(e);if(r.toRoot())return d3(n.root,n.root,new vi([],{}),i,o);const s=function Kve(t,n,e){if(t.isAbsolute)return new p3(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const r=e.snapshot._urlSegment;return new p3(r,r===n.root,0)}const i=b0(t.commands[0])?0:1;return function Qve(t,n,e){let i=t,o=n,r=e;for(;r>o;){if(r-=o,i=i.parent,!i)throw new Error("Invalid number of '../'");o=i.segments.length}return new p3(i,!1,o-r)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(r,n,t),a=s.processChildren?y0(s.segmentGroup,s.index,r.commands):UL(s.segmentGroup,s.index,r.commands);return d3(n.root,s.segmentGroup,a,i,o)}(d,this.currentUrlTree,e,w,null!=h?h:null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=lp(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function nye(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?Object.assign({},eye):!1===i?Object.assign({},tye):i,lp(e))return EL(this.currentUrlTree,e,o);const r=this.parseUrl(e);return EL(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const r=e[o];return null!=r&&(i[o]=r),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new g_(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,o,r,s){var a,l;if(this.disposed)return Promise.resolve(!1);let d,h,w;s?(d=s.resolve,h=s.reject,w=s.promise):w=new Promise((L,U)=>{d=L,h=U});const P=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),N=o&&o.\u0275routerPageId?o.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):N=0,this.setTransition({id:P,targetPageId:N,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:d,reject:h,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(L=>Promise.reject(L))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",r):this.location.go(o,"",r)}restoreHistory(e,i=!1){var o,r;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===s?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const o=new _L(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){q2()},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function uj(t){return"imperative"!==t}let T_=(()=>{class t{constructor(e,i,o,r,s){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=r,this.el=s,this.commands=null,this.onChanges=new Oe,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,o=this.el.nativeElement;null!==e?i.setAttribute(o,"tabindex",e):i.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:hf(this.skipLocationChange),replaceUrl:hf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:hf(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(H(oi),H(Jn),od("tabindex"),H(Dr),H(Di))},t.\u0275dir=Qt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&z("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Xt]}),t})(),gn=(()=>{class t{constructor(e,i,o){this.router=e,this.route=i,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Oe,this.subscription=e.events.subscribe(r=>{r instanceof g_&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,o,r,s){if(0!==e||i||o||r||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:hf(this.skipLocationChange),replaceUrl:hf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:hf(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(H(oi),H(Jn),H(cm))},t.\u0275dir=Qt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&z("click",function(r){return i.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&e&&Mi("target",i.target)("href",i.href,Yw)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Xt]}),t})();function hf(t){return""===t||!!t}let y3=(()=>{class t{constructor(e,i,o,r,s,a){this.router=e,this.element=i,this.renderer=o,this.cdr=r,this.link=s,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new je,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof g_&&this.update()})}ngAfterContentInit(){Mn(this.links.changes,this.linksWithHrefs.changes,Mn(null)).pipe(En()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=Le(i).pipe(En()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function iye(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&e.isActive(o.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return t.\u0275fac=function(e){return new(e||t)(H(oi),H(Di),H(Dr),H(is),H(T_,8),H(gn,8))},t.\u0275dir=Qt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,o){if(1&e&&(ko(o,T_,5),ko(o,gn,5)),2&e){let r;bt(r=yt())&&(i.links=r),bt(r=yt())&&(i.linksWithHrefs=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Xt]}),t})();class dj{}class pj{preload(n,e){return Mn(null)}}let mj=(()=>{class t{constructor(e,i,o,r){this.router=e,this.injector=o,this.preloadingStrategy=r,this.loader=new lj(o,i,l=>e.triggerEvent(new vL(l)),l=>e.triggerEvent(new bL(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Li(e=>e instanceof g_),df(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(_c);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const r of i)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const s=r._loadedConfig;o.push(this.processRoutes(s.module,s.routes))}else r.loadChildren&&!r.canLoad?o.push(this.preloadConfig(e,r)):r.children&&o.push(this.processRoutes(e,r.children));return Le(o).pipe(En(),Ze(r=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Mn(i._loadedConfig):this.loader.load(e.injector,i)).pipe(ht(r=>(i._loadedConfig=r,this.processRoutes(r.module,r.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Ve(oi),Ve(cD),Ve(po),Ve(dj))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),w3=(()=>{class t{constructor(e,i,o={}){this.router=e,this.viewportScroller=i,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof n3?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof g_&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof yL&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new yL(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){q2()},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const cp=new kn("ROUTER_CONFIGURATION"),fj=new kn("ROUTER_FORROOT_GUARD"),rye=[O6,{provide:FL,useClass:AL},{provide:oi,useFactory:function uye(t,n,e,i,o,r,s={},a,l){const d=new oi(null,t,n,e,i,o,CL(r));return a&&(d.urlHandlingStrategy=a),l&&(d.routeReuseStrategy=l),function dye(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,d),s.enableTracing&&d.events.subscribe(h=>{var w,P;null===(w=console.group)||void 0===w||w.call(console,`Router Event: ${h.constructor.name}`),console.log(h.toString()),console.log(h),null===(P=console.groupEnd)||void 0===P||P.call(console)}),d},deps:[FL,C_,O6,po,cD,b3,cp,[class Kbe{},new au],[class Wbe{},new au]]},C_,{provide:Jn,useFactory:function pye(t){return t.routerState.root},deps:[oi]},mj,pj,class oye{preload(n,e){return e().pipe(il(()=>Mn(null)))}},{provide:cp,useValue:{enableTracing:!1}}];function sye(){return new fD("Router",oi)}let ml=(()=>{class t{constructor(e,i){}static forRoot(e,i){return{ngModule:t,providers:[rye,hj(e),{provide:fj,useFactory:cye,deps:[[oi,new au,new Zf]]},{provide:cp,useValue:i||{}},{provide:cm,useFactory:lye,deps:[pd,[new _1(R6),new au],cp]},{provide:w3,useFactory:aye,deps:[oi,TK,cp]},{provide:dj,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:pj},{provide:fD,multi:!0,useFactory:sye},[x3,{provide:kl,multi:!0,useFactory:mye,deps:[x3]},{provide:gj,useFactory:fye,deps:[x3]},{provide:lD,multi:!0,useExisting:gj}]]}}static forChild(e){return{ngModule:t,providers:[hj(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Ve(fj,8),Ve(oi,8))},t.\u0275mod=On({type:t}),t.\u0275inj=mn({}),t})();function aye(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new w3(t,n,e)}function lye(t,n,e={}){return e.useHash?new fX(t,n):new kD(t,n)}function cye(t){return"guarded"}function hj(t){return[{provide:aH,multi:!0,useValue:t},{provide:b3,multi:!0,useValue:t}]}let x3=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Oe}appInitializer(){return this.injector.get(dX,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const o=new Promise(a=>i=a),r=this.injector.get(oi),s=this.injector.get(cp);return"disabled"===s.initialNavigation?(r.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?Mn(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),r.initialNavigation()):i(!0),o})}bootstrapListener(e){const i=this.injector.get(cp),o=this.injector.get(mj),r=this.injector.get(w3),s=this.injector.get(oi),a=this.injector.get(lm);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),o.setUpPreloading(),r.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(Ve(po))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function mye(t){return t.appInitializer.bind(t)}function fye(t){return t.bootstrapListener.bind(t)}const gj=new kn("Router Initializer");var Yu=(()=>(function(t){t.WRONG_ARTIFACT_TYPE="You can only delete reference artifacts"}(Yu||(Yu={})),Yu))();let T0=(()=>{class t{constructor(e,i){this.metaModelService=e,this.router=i}getName(e,i){var o=this;return Y(function*(){if(i.type!==go.REFERENCE)throw new Error(Yu.WRONG_ARTIFACT_TYPE);return o.metaModelService.getMetaModelApi(e).getName(i.data)})()}create(e,i,o){this.metaModelService.getMetaModelApi(e).create(this.router,i,o)}view(e,i){if(e.type!==go.REFERENCE)throw new Error(Yu.WRONG_ARTIFACT_TYPE);const o=e.data;this.metaModelService.getMetaModelApi(o.type).view(o,this.router,i)}edit(e,i){if(e.type!==go.REFERENCE)throw new Error(Yu.WRONG_ARTIFACT_TYPE);const o=e.data;this.metaModelService.getMetaModelApi(o.type).edit(o,this.router,i)}remove(e){var i=this;return Y(function*(){if(e.type!==go.REFERENCE)throw new Error(Yu.WRONG_ARTIFACT_TYPE);const o=e.data,r=i.metaModelService.getMetaModelApi(o.type);try{yield r.remove(o)}catch(s){if(404!==s.status||"not_found"!==s.name||"deleted"!==s.reason)throw s;console.log(o.id+" ("+o.type+") already deleted")}})()}copy(e){var i=this;return Y(function*(){if(e.type!==go.REFERENCE)throw new Error(Yu.WRONG_ARTIFACT_TYPE);const o=e.data,r=i.metaModelService.getMetaModelApi(o.type);return new Gl(void 0,Object.assign(Object.assign({},e),{data:yield r.copy(o)}))})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Zl),Ve(oi))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),oc=(()=>{class t extends ul{constructor(e){super(e),this.typeName=_r.typeName,this.elementConstructor=_r}}return t.\u0275fac=function(e){return new(e||t)(Ve(rs))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})();var Wi=(()=>(function(t){t.NO_METHOD="The node has no method defined",t.NO_STEPS_LEFT="There are no steps left to be executed in the method",t.NOT_DEFINED="A method with this execution id is not in the todo list",t.NOT_EXECUTING="The execution id is currently not executed",t.NOT_PREPARED="The execution of this step is not yet prepared",t.ALREADY_EXECUTING="This node is currently already executed.",t.ALREADY_PREPARED="The execution of this step is already prepared",t.STEPS_LEFT="There are steps left in this method",t.WRONG_STEP="Trying to finish the wrong step",t.MISSING_OUTPUT="The output artifacts are not correctly mapped",t.MISSING_MODULE="A module is missing",t.MISSING_MODULE_METHOD="A module method is missing",t.MISSING_INPUT_ARTIFACT="The step can not be executed as an input artifact is missing",t.FINISH_TEXTUAL_METHOD="A textual method is automatically finished"}(Wi||(Wi={})),Wi))();let _j=(()=>{class t{constructor(e,i,o){this.artifactDataService=e,this.moduleService=i,this.router=o}addMethod(e,i){return e.addTodoMethod(new hm(void 0,{decision:i,steps:i.method.executionSteps.map(()=>({}))}))}updateMethodDecision(e,i,o){const r=e.getTodoMethod(i);if(null==r)throw new Error(Wi.NOT_DEFINED);r.decision.update(o)}removeMethod(e,i){e.removeTodoMethod(i)}startMethodExecution(e,i){if(null!=e.getRunningMethodByNode(i))throw new Error(Wi.ALREADY_EXECUTING);if(!e.isExecutable(i))throw new Error(Wi.NO_METHOD);return e.addRunningMethodOfProcess(i)}startTodoMethodExecution(e,i){const o=e.getTodoMethod(i);if(null==o)throw new Error(Wi.NOT_DEFINED);e.addRunningMethod(o),e.removeTodoMethod(i)}selectInputArtifacts(e,i,o){const r=e.getRunningMethod(i);if(null==r)throw new Error(Wi.NOT_EXECUTING);r.inputArtifacts=o.map(s=>{var a;if(null==s.artifact||null==s.version)return;const l=e.artifacts[s.artifact],d=l.versions[s.version];return new fx(void 0,{metaModelType:null===(a=l.artifact.metaModel)||void 0===a?void 0:a.type,identifier:l.identifier,artifact:l.artifact,data:d.data,versionInfo:{number:s.version,createdBy:d.createdBy,time:d.time}})})}isExecutionStepPrepared(e,i){const o=e.getRunningMethod(i);return this._isExecutionStepPrepared(o)}_isExecutionStepPrepared(e){if(null==e)throw new Error(Wi.NOT_EXECUTING);if(!e.hasStepsLeft())throw new Error(Wi.NO_STEPS_LEFT);return e.isPrepared()}prepareExecuteStep(e,i){var o=this;return Y(function*(){const r=e.getRunningMethod(i);if(null==r)throw new Error(Wi.NOT_EXECUTING);if(!r.hasStepsLeft())throw new Error(Wi.NO_STEPS_LEFT);if(r.isPrepared())throw new Error(Wi.ALREADY_PREPARED);const s=r.currentStep;let a;if(ho(s)){const d=o.moduleService.getModuleMethod(s.module,s.method);if(null==d)throw new Error(Wi.MISSING_MODULE_METHOD);a=r.getStepArtifacts(r.currentStepNumber,d.input.length)}else a=[];const l=yield o.copyStepArtifacts(a);if(l.some(d=>null==d))throw new Error(Wi.MISSING_INPUT_ARTIFACT);r.setInternalStepArtifacts(l)})()}executeStep(e,i){var o=this;return Y(function*(){const r=e.getRunningMethod(i);if(!o._isExecutionStepPrepared(r)||null==r)throw new Error(Wi.NOT_PREPARED);const s=r.currentStep;if(ho(s)){const a=o.moduleService.getModule(s.module);if(null==a)throw new Error(Wi.MISSING_MODULE);const l=a.methods[s.method],d=a.service,h=r.getInternalStepArtifacts();d.executeMethod(l.name,{router:o.router,runningProcess:e,runningMethod:r,predefinedInput:s.predefinedInput,inputStepArtifacts:h})}else r.finishStepExecution([])})()}finishExecuteStep(e,i,o,r){const s=e.getRunningMethod(i);if(!this._isExecutionStepPrepared(s)||null==s)throw new Error(Wi.NOT_PREPARED);if(s.currentStepNumber!==o)throw new Error(Wi.WRONG_STEP);const a=s.currentStep;if(!ho(a))throw new Error(Wi.FINISH_TEXTUAL_METHOD);{const l=this.moduleService.getModuleMethod(a.module,a.method);if(null==l)throw new Error(Wi.MISSING_MODULE_METHOD);s.finishStepExecution(r.outputArtifactData.map((h,w)=>new fu(void 0,{metaModelType:l.output[w].type,data:h}))),this.router.navigate(["runningprocess","runningprocessview",e._id,"method",i])}}updateOutputArtifacts(e,i,o){const r=e.getRunningMethod(i);if(null==r)throw new Error(Wi.NOT_EXECUTING);r.updateOutputArtifacts(o)}addOutputArtifacts(e,i,o){var r=this;return Y(function*(){const s=e.getRunningMethod(i);if(null==s)throw new Error(Wi.NOT_EXECUTING);if(s.hasStepsLeft())throw new Error(Wi.STEPS_LEFT);const a=s.getProcessOutputArtifacts(),l=yield r.copyStepArtifacts(s.getOutputArtifacts());for(let d=0;d<l.length;d++){const h=l[d],w=o[d];null!=h&&null!=w&&(w.data=h.data)}e.addOutputArtifacts(i,a,o)})()}stopMethodExecution(e,i){var o=this;return Y(function*(){var r;const s=e.getRunningMethod(i);if(null==s)throw new Error(Wi.NOT_EXECUTING);if(s.hasStepsLeft())throw new Error(Wi.STEPS_LEFT);if(!s.hasOutputArtifactsCorrectlyDefined())throw new Error(Wi.MISSING_OUTPUT);yield o.addOutputArtifacts(e,i,null!==(r=s.outputArtifacts)&&void 0!==r?r:[]),yield o.removeUnusedArtifacts(s),e.addExecutedMethod({nodeId:s.nodeId,executionId:s.executionId,methodName:s.methodName,comments:s.comments}),e.removeRunningMethod(i)})()}abortMethodExecution(e,i){var o=this;return Y(function*(){const r=e.getRunningMethod(i);if(null==r)throw new Error(Wi.NOT_EXECUTING);yield o.removeUnusedArtifacts(r),e.removeRunningMethod(i)})()}copyStepArtifacts(e){var i=this;return Y(function*(){return Promise.all(e.map(function(){var o=Y(function*(r){if(null!=r)return new fu(void 0,r.data.type===go.REFERENCE?Object.assign(Object.assign({},r),{data:yield i.artifactDataService.copy(r.data)}):r)});return function(r){return o.apply(this,arguments)}}()))})()}removeUnusedArtifacts(e){var i=this;return Y(function*(){const r=e.getAllStepArtifacts().filter(s=>s.data.type===go.REFERENCE);for(const s of r)yield i.artifactDataService.remove(s.data)})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(T0),Ve(zr),Ve(oi))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})();const C3=JSON.parse('{"name":"Running Business Model Process","uri":"http://localhost/schema/rbmp","prefix":"rbmp","xml":{"tagAlias":"lowerCase"},"types":[{"name":"CurrentFlowNode","extends":["bpmn:FlowNode"],"properties":[{"name":"tokens","type":"Integer","default":0,"isAttr":true},{"name":"executed","type":"Boolean","default":false,"isAttr":true}]},{"name":"WalkedSequenceFlow","extends":["bpmn:SequenceFlow"],"properties":[{"name":"used","type":"Boolean","default":false,"isAttr":true}]}]}');let gye=(()=>{class t extends uE{initModeling(e){return Y(function*(){const i=t.getRunningProcessModeler();return yield i.importXML(e.process.processDiagram),i})()}endModeling(e,i){return Y(function*(){const o=yield i.saveXML();e.process.processDiagram=o.xml,i.destroy()})()}static getRunningProcessModeler(){return new xs({additionalModules:[],moddleExtensions:{bmdl:Ru,rbmp:C3}})}filterNodes(e,i){return e.get("elementRegistry").filter(i)}getNodes(e){return e.get("elementRegistry").filter(i=>this.isNode(i))}getFlows(e){return e.get("elementRegistry").filter(i=>this.isFlow(i))}getStartNode(e){const i=e.get("elementRegistry").find(o=>sg(o)&&Tc(o.parent));if(null==i)throw new Error("Element does not exist");return i}getTokens(e){return e.businessObject.get("tokens")}getIncomingFlows(e){return e.incoming}getTargetFlows(e){let i,o;for(i=e,o=i.outgoing;0===o.length;i=i.parent,o=i.outgoing)if(Tc(i.parent))return[];return o}getTargetNode(e){const i=e.target;return Fm(i)?i.children.find(o=>sg(o)):i}isCommonNode(e){return sg(e)||CC(e)||MC(e)||SC(e)}isExclusiveGateway(e){return MC(e)}isParallelGateway(e){return SC(e)}isExecutable(e){return TC(e)||PC(e)}isSubProcess(e){return Fm(e)}isFlow(e){return EC(e)}isNode(e){return this.isCommonNode(e)||TC(e)||PC(e)}setExecuted(e,i,o=!0){e.get("modeling").updateProperties(i,{executed:o})}setUsed(e,i,o=!0){e.get("modeling").updateProperties(i,{used:o})}updateTokens(e,i,o){const r=e.get("modeling");let s=i;for(;s&&!Tc(i);)r.updateProperties(s,{tokens:this.getTokens(s)+o}),s=s.parent}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})();var na=(()=>(function(t){t.MULTIPLE_OPTIONS="No outgoing flow selected for exclusive gateway.",t.NOT_ENOUGH_TOKENS="Element has not enough tokens to be executed.",t.INCORRECT_NODE="Node can not be used with this method"}(na||(na={})),na))();let vj=(()=>{class t{constructor(e){this.processExecutionModelerService=e}initRunningProcess(e){var i=this;return Y(function*(){const o=yield i.processExecutionModelerService.initModeling(e),r=i.processExecutionModelerService.getStartNode(o);i.processExecutionModelerService.updateTokens(o,r,1),yield i.processExecutionModelerService.endModeling(e,o)})()}moveToNextStep(e,i,o){var r=this;return Y(function*(){const s=yield r.processExecutionModelerService.initModeling(e),a=r.processExecutionModelerService.getNode(s,i);if(!r.processExecutionModelerService.isCommonNode(a)&&e.isExecutable(i))throw new Error(na.INCORRECT_NODE);r._moveToNextStep(s,a,o),yield r.processExecutionModelerService.endModeling(e,s)})()}_moveToNextStep(e,i,o){if(!this.hasEnoughTokens(i))throw new Error(na.NOT_ENOUGH_TOKENS);let r=this.processExecutionModelerService.getTargetFlows(i);if(this.processExecutionModelerService.isExclusiveGateway(i)&&r.length>1&&(null==o||!r.map(s=>s.id).includes(o)))throw new Error(na.MULTIPLE_OPTIONS);this.processExecutionModelerService.isExclusiveGateway(i)&&r.length>1&&null!=o&&(r=[r.find(s=>s.id===o)]),this.processExecutionModelerService.setExecuted(e,i),this.followFlows(e,r),this.processExecutionModelerService.updateTokens(e,i,-this.getMinimumNeededTokens(i))}moveToNextMethod(e,i){var o=this;return Y(function*(){const r=yield o.processExecutionModelerService.initModeling(e),s=o.processExecutionModelerService.getNode(r,i);if(!o.processExecutionModelerService.isExecutable(s)||!e.isExecutable(i))throw new Error(na.INCORRECT_NODE);o.processExecutionModelerService.setExecuted(r,s);const a=o.processExecutionModelerService.getTargetFlows(s);o.followFlows(r,a),o.processExecutionModelerService.updateTokens(r,s,-o.getMinimumNeededTokens(s)),yield o.processExecutionModelerService.endModeling(e,r)})()}fakeExecuteMethod(e,i){var o=this;return Y(function*(){const r=yield o.processExecutionModelerService.initModeling(e),s=o.processExecutionModelerService.getNode(r,i);if(!o.processExecutionModelerService.isExecutable(s)||!e.isExecutable(i))throw new Error(na.INCORRECT_NODE);o.hasEnoughTokens(s)||o.processExecutionModelerService.setExecuted(r,s),yield o.processExecutionModelerService.endModeling(e,r)})()}removeExecutedMethod(e,i){var o=this;return Y(function*(){const r=yield o.processExecutionModelerService.initModeling(e),s=o.processExecutionModelerService.getNode(r,i);if(!o.processExecutionModelerService.isExecutable(s))throw new Error(na.INCORRECT_NODE);o.processExecutionModelerService.setExecuted(r,s,!1),yield o.processExecutionModelerService.endModeling(e,r)})()}setExecution(e,i){var o=this;return Y(function*(){const r=yield o.processExecutionModelerService.initModeling(e);o.processExecutionModelerService.getFlows(r).forEach(d=>o.processExecutionModelerService.setUsed(r,d,!1)),o.processExecutionModelerService.getNodes(r).forEach(d=>{if(o.processExecutionModelerService.isExecutable(d)&&e.isExecutable(d.id)){const h=e.getExecutionsByNodeId(d.id);o.processExecutionModelerService.setExecuted(r,d,h.length>0)}else o.processExecutionModelerService.setExecuted(r,d,!1);o.processExecutionModelerService.getTokens(d)>0&&o.processExecutionModelerService.updateTokens(r,d,-o.processExecutionModelerService.getTokens(d))});const l=o.processExecutionModelerService.getNode(r,i);o.processExecutionModelerService.setExecuted(r,l,!1),o.processExecutionModelerService.updateTokens(r,l,o.getMinimumNeededTokens(l)),yield o._jumpToNextMethod(r,e),yield o.processExecutionModelerService.endModeling(e,r)})()}jumpToNextMethod(e){var i=this;return Y(function*(){const o=yield i.processExecutionModelerService.initModeling(e);i._jumpToNextMethod(o,e),yield i.processExecutionModelerService.endModeling(e,o)})()}_jumpToNextMethod(e,i){const o=new Set,r=s=>!o.has(s.id)&&(this.processExecutionModelerService.isCommonNode(s)||!i.isExecutable(s.id)&&this.processExecutionModelerService.isExecutable(s));for(let s=this._getExecutableNodes(e).filter(r);s.length>0;s=this._getExecutableNodes(e).filter(r))for(const a of s)try{this._moveToNextStep(e,a)}catch(l){if(!(l instanceof Error&&l.message===na.MULTIPLE_OPTIONS))throw l;o.add(a.id)}}followFlows(e,i){i.forEach(r=>this.processExecutionModelerService.setUsed(e,r)),i.map(this.processExecutionModelerService.getTargetNode).forEach(r=>{this.processExecutionModelerService.setExecuted(e,r,!1),this.processExecutionModelerService.updateTokens(e,r,1)})}canExecuteNode(e,i){var o=this;return Y(function*(){const r=yield o.processExecutionModelerService.initModeling(e),s=o.processExecutionModelerService.getNode(r,i);if(!o.processExecutionModelerService.isExecutable(s)||!e.isExecutable(i))throw new Error(na.INCORRECT_NODE);if(!o.hasEnoughTokens(s))throw new Error(na.NOT_ENOUGH_TOKENS);return o.processExecutionModelerService.abortModeling(r),!0})()}getExecutableNodes(e){var i=this;return Y(function*(){if(!e.hasProcess())return[];const o=yield i.processExecutionModelerService.initModeling(e),r=i._getExecutableNodes(o);return i.processExecutionModelerService.abortModeling(o),r})()}getExecutableDecisionNodes(e){var i=this;return Y(function*(){if(!e.hasProcess())return[];const o=yield i.processExecutionModelerService.initModeling(e),r=i.processExecutionModelerService.filterNodes(o,s=>Dm(s)&&i.hasEnoughTokens(s)&&i.processExecutionModelerService.isExclusiveGateway(s)&&i.processExecutionModelerService.getTargetFlows(s).length>1);return i.processExecutionModelerService.abortModeling(o),r})()}_getExecutableNodes(e){return this.processExecutionModelerService.filterNodes(e,i=>Dm(i)&&!this.processExecutionModelerService.isSubProcess(i)&&this.hasEnoughTokens(i))}getMinimumNeededTokens(e){return this.processExecutionModelerService.isParallelGateway(e)||this.processExecutionModelerService.isExecutable(e)?this.processExecutionModelerService.getIncomingFlows(e).length:1}hasEnoughTokens(e){return this.getMinimumNeededTokens(e)<=this.processExecutionModelerService.getTokens(e)}}return t.\u0275fac=function(e){return new(e||t)(Ve(gye))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),to=(()=>{class t extends xa{constructor(e,i,o,r,s,a){super(r),this.artifactDataService=e,this.artifactService=i,this.methodExecutionService=o,this.processExecutionService=s,this.router=a,this.typeName=jh.typeName,this.elementConstructor=jh}getList(){var e=this;return Y(function*(){return e.pouchdbService.find(e.typeName,{selector:{contextChange:!1}})})()}add(e){var i=this;return Y(function*(){const o=new jh(void 0,e);return o.hasProcess()&&(yield i.processExecutionService.initRunningProcess(o),yield i.processExecutionService.jumpToNextMethod(o)),yield i.save(o),o})()}executeStep(e,i,o){var r=this;return Y(function*(){try{if((yield r.getWrite(e._id))._rev!==e._rev)throw new Error("Reload needed, process in database does not fit current process");yield r.processExecutionService.moveToNextStep(e,i,o),yield r.save(e)}finally{r.freeWrite(e._id)}})()}jumpSteps(e){var i=this;return Y(function*(){try{if((yield i.getWrite(e._id))._rev!==e._rev)throw new Error("Reload needed, process in database does not fit current process");yield i.processExecutionService.jumpToNextMethod(e),yield i.save(e)}finally{i.freeWrite(e._id)}})()}startMethodExecution(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(!r.hasProcess())throw new Error("Incorrect process type");if(!(yield o.processExecutionService.canExecuteNode(r,i)))throw new Error("Can not execute node");o.methodExecutionService.startMethodExecution(r,i),yield o.save(r)}finally{o.freeWrite(e)}})()}startTodoMethodExecution(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);o.methodExecutionService.startTodoMethodExecution(r,i),yield o.save(r)}finally{o.freeWrite(e)}})()}executeMethodStep(e,i){var o=this;return Y(function*(){try{if((yield o.getWrite(e._id))._rev!==e._rev)throw new Error("Reload needed, process in database does not fit current process");o.methodExecutionService.isExecutionStepPrepared(e,i)||(yield o.methodExecutionService.prepareExecuteStep(e,i),yield o.save(e),e=yield o.get(e._id)),yield o.methodExecutionService.executeStep(e,i),yield o.save(e)}finally{o.freeWrite(e._id)}})()}finishExecuteStep(e,i){var o=this;return Y(function*(){if(null==e.runningProcessId||null==e.executionId||null==e.step)throw new Error("Step info needs to specify runningProcessId, executionId and stepInfo to be used for finishing an execution step");try{const r=yield o.getWrite(e.runningProcessId);o.methodExecutionService.finishExecuteStep(r,e.executionId,e.step,i),yield o.save(r)}finally{o.freeWrite(e.runningProcessId)}})()}stopMethodExecution(e,i){var o=this;return Y(function*(){var r;try{if((yield o.getWrite(e._id))._rev!==e._rev)throw new Error("Reload needed, process in database does not fit current process");const a=null===(r=e.getRunningMethod(i))||void 0===r?void 0:r.nodeId;yield o.methodExecutionService.stopMethodExecution(e,i),e.hasProcess()&&null!=a&&(yield o.processExecutionService.moveToNextMethod(e,a)),yield o.save(e)}finally{o.freeWrite(e._id)}})()}abortMethodExecution(e,i){var o=this;return Y(function*(){try{if((yield o.getWrite(e._id))._rev!==e._rev)throw new Error("Reload needed, process in database does not fit current process");yield o.methodExecutionService.abortMethodExecution(e,i),yield o.save(e)}finally{o.freeWrite(e._id)}})()}getExecutableElements(e){var i=this;return Y(function*(){return i.processExecutionService.getExecutableNodes(e)})()}getExecutableDecisionNodes(e){var i=this;return Y(function*(){return i.processExecutionService.getExecutableDecisionNodes(e)})()}getExecutableMethods(e){var i=this;return Y(function*(){return(yield i.processExecutionService.getExecutableNodes(e)).filter(s=>e.isExecutable(s.id)).filter(s=>null==e.getRunningMethodByNode(s.id))})()}setInputArtifacts(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e._id);if(s._rev!==e._rev)throw new Error("Reload needed, process in database does not fit current process");r.methodExecutionService.selectInputArtifacts(s,i,o),yield r.save(s)}finally{r.freeWrite(e._id)}})()}updateOutputArtifacts(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e._id);if(s._rev!==e._rev)throw new Error("Reload needed, process in database does not fit current process");r.methodExecutionService.updateOutputArtifacts(s,i,o),yield r.save(s)}finally{r.freeWrite(e._id)}})()}importArtifact(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);r.importArtifact(i),yield o.save(r)}finally{o.freeWrite(e)}})()}setContextChange(e,i,o,r){var s=this;return Y(function*(){try{const a=yield s.getWrite(e);if(!a.hasProcess())throw new Error("Incorrect process type");a.contextChange=!0,a.contextChangeInfo=new Lh(void 0,{comment:i,suggestedDomains:o,suggestedSituationalFactors:r,oldDomains:a.domains,oldSituationalFactors:a.situationalFactors}),yield s.save(a)}finally{s.freeWrite(e)}})()}addMethod(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e),s=o.methodExecutionService.addMethod(r,i);return yield o.save(r),s.executionId}finally{o.freeWrite(e)}})()}updateMethodDecision(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e);r.methodExecutionService.updateMethodDecision(s,i,o),yield r.save(s)}finally{r.freeWrite(e)}})()}removeMethod(e,i){var o=this;return Y(function*(){try{if((yield o.getWrite(e._id))._rev!==e._rev)throw new Error("Reload needed, process in database does not fit current process");o.methodExecutionService.removeMethod(e,i),yield o.save(e)}finally{o.freeWrite(e._id)}})()}delete(e){var i=this;return Y(function*(){const o=yield i.pouchdbService.get(e),r=new jh(o,void 0);r.runningMethods.forEach(s=>i.methodExecutionService.abortMethodExecution(r,s.executionId));for(const s of r.artifacts)for(const a of s.versions)a.data.type===go.REFERENCE&&(yield i.artifactDataService.remove(a.data));yield i.pouchdbService.remove(o)})()}addComment(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e),a=s.getRunningMethod(i);if(null==a)throw new Error("Method with executionId "+i+" not found");a.addComment(o),yield r.save(s)}finally{r.freeWrite(e)}})()}updateComment(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e),a=s.getRunningMethod(i);if(null==a)throw new Error("Method with executionId "+i+" not found");const l=a.getComment(o.id);if(null==l)throw new Error("Comment with id "+o.id+" not found");l.update(o),yield r.save(s)}finally{r.freeWrite(e)}})()}removeComment(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e),a=s.getRunningMethod(i);if(null==a)throw new Error("Method with executionId "+i+" not found");a.removeComment(o),yield r.save(s)}finally{r.freeWrite(e)}})()}renameArtifact(e,i,o){var r=this;return Y(function*(){try{if((yield r.getWrite(e._id))._rev!==e._rev)throw new Error("Reload needed, process in database does not fit current process");e.renameArtifact(i,o),yield r.save(e)}finally{r.freeWrite(e._id)}})()}removeArtifact(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);r.removeArtifact(i),yield o.save(r)}finally{o.freeWrite(e)}})()}addArtifact(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e);s.addOutputArtifact(i,o),yield r.save(s)}finally{r.freeWrite(e)}})()}createInternalArtifact(e,i){if(null==i.metaModel)throw new Error("Artifact is missing a meta model");this.artifactDataService.create(i.metaModel.type,{referenceType:"Process",runningProcessId:e},i._id)}addInternalArtifact(e,i,o){var r=this;return Y(function*(){var s;const a=yield r.artifactService.get(i);if(null==a.metaModel)throw new Error("Artifact is missing a meta model");try{const l=yield r.getWrite(e),d=new bv(void 0,{data:o,isDefinition:!0,artifactName:null!==(s=yield r.artifactDataService.getName(a.metaModel.type,o))&&void 0!==s?s:"Missing name"});l.addOutputArtifact(a,d,!0),yield r.save(l),l.contextChange?yield r.router.navigate(["bmprocess","contextchange",l._id]):yield r.router.navigate(["runningprocess","runningprocessview",l._id])}finally{r.freeWrite(e)}})()}viewInternalArtifact(e,i){var o=this;return Y(function*(){const r=yield o.get(e),s=r.getArtifactVersion(i);if(null==s)throw new Error("Running Process does not contain a version with the versionId");o.artifactDataService.view(s.data,{referenceType:"Process",runningProcessId:r._id,artifactVersionId:s.id})})()}editInternalArtifact(e,i){var o=this;return Y(function*(){try{if((yield o.getWrite(e._id))._rev!==e._rev)throw new Error("Reload needed, process in database does not fit current process");if(-1===e.artifacts.indexOf(i))throw new Error("Artifact is not from the running process");const s=i.getLatestVersion();if(null==s)throw new Error("Artifact without versions");let a;s.editing?a=s:(i.addVersion({createdBy:"added",data:yield o.artifactDataService.copy(s.data),editing:!0}),a=i.getLatestVersion(),yield o.save(e)),o.artifactDataService.edit(a.data,{referenceType:"Process",runningProcessId:e._id,artifactVersionId:a.id})}finally{o.freeWrite(e._id)}})()}finishEditInternalArtifact(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e),s=r.getArtifactVersion(i);if(null==s)throw new Error("Running Process does not contain a version with the versionId");if(!s.editing)throw new Error("Version currently not editable");s.editing=!1,yield o.save(r),r.contextChange?yield o.router.navigate(["bmprocess","contextchange",r._id]):yield o.router.navigate(["runningprocess","runningprocessview",r._id])}finally{o.freeWrite(e)}})()}updateDomains(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(r.hasProcess())throw new Error("Incorrect process type");r._domains=i,yield o.save(r)}finally{o.freeWrite(e)}})()}updateSituationalFactors(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(r.hasProcess())throw new Error("Incorrect process type");r._situationalFactors=i.map(s=>new fo(void 0,s,Fr)),yield o.save(r)}finally{o.freeWrite(e)}})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(T0),Ve(oc),Ve(_j),Ve(rs),Ve(vj),Ve(oi))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})();var jo=(()=>(function(t){t.EXPERT="Method Engineer",t.BUSINESSDEVELOPER="Business Developer"}(jo||(jo={})),jo))();let bj=(()=>{class t{constructor(){this.activatedRole=jo.BUSINESSDEVELOPER}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _ye(t,n){1&t&&(c(0,"span",18),g(1,"(current)"),u())}function vye(t,n){if(1&t&&(c(0,"li",14,15)(2,"a",16),g(3),k(4,_ye,2,0,"span",17),u()()),2&t){const e=hn(1),i=T(2).$implicit;p(2),v("routerLink",i.route),p(1),Be(" ",i.name," "),p(1),v("ngIf",e.isActive)}}function bye(t,n){1&t&&(c(0,"span",18),g(1,"(current)"),u())}function yye(t,n){if(1&t&&(c(0,"a",23,24),g(2),k(3,bye,2,0,"span",17),u()),2&t){const e=n.$implicit,i=hn(1);v("routerLink",e.route),p(2),Be("",e.name," "),p(1),v("ngIf",i.isActive)}}function wye(t,n){if(1&t&&(c(0,"li",19)(1,"a",20),g(2),u(),c(3,"div",21),k(4,yye,4,3,"a",22),u()()),2&t){const e=T(2).$implicit;p(2),Be(" ",e.name," "),p(2),v("ngForOf",e.submenu)}}function xye(t,n){if(1&t&&(St(0),k(1,vye,5,3,"li",12),k(2,wye,5,2,"li",13),Et()),2&t){const e=T().$implicit,i=T();p(1),v("ngIf",!i.isMenuItem(e)),p(1),v("ngIf",i.isMenuItem(e))}}function Cye(t,n){if(1&t&&(St(0),k(1,xye,3,2,"ng-container",11),Et()),2&t){const e=n.$implicit,i=T();p(1),v("ngIf",e.roles.includes(i.currentRole))}}function Mye(t,n){if(1&t&&(c(0,"option",25),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e),p(1),_t(e)}}const Sye=function(){return["/"]};let Eye=(()=>{class t{constructor(e,i,o,r){this.fb=e,this.moduleService=i,this.router=o,this.userService=r,this.navItems=[{name:"Method Enactment",route:["runningprocess"],roles:[jo.BUSINESSDEVELOPER]},{name:"Artifacts",route:["concreteArtifacts"],roles:[jo.BUSINESSDEVELOPER]},{name:"Method Composition",route:["bmprocess"],roles:[jo.EXPERT]},{name:"Method Repository",submenu:[{name:"Method Patterns",route:["process"],roles:[jo.EXPERT]},{name:"Method Building Blocks",route:["methods"],roles:[jo.EXPERT]},{name:"Method Elements",route:["methodElements"],roles:[jo.EXPERT]}],roles:[jo.EXPERT]},{name:"Explanation",route:["explanation"],roles:[jo.EXPERT,jo.BUSINESSDEVELOPER]}],this.navExpanded=!1,this.roleForm=this.fb.group({role:[]})}ngOnInit(){var e;this.roleForm.setValue({role:this.userService.activatedRole}),this.roleSubscription=null===(e=this.roleForm.get("role"))||void 0===e?void 0:e.valueChanges.subscribe(i=>{this.userService.activatedRole=i,this.router.navigate(["/","start"])}),this.merge(this.navItems,this.moduleService.getNavigationItems())}merge(e,i){const o=new Set(e.map(r=>r.name));for(const r of i)if(o.has(r.name)){const s=e.findIndex(l=>l.name===r.name),a=e[s];"submenu"in r&&"submenu"in a?(this.merge(a.submenu,r.submenu),a.roles.concat(r.roles)):e.splice(s,1,r)}else o.add(r.name),e.push(r)}ngOnDestroy(){this.roleSubscription&&this.roleSubscription.unsubscribe()}get roles(){return Object.values(jo)}get currentRole(){return this.userService.activatedRole}isMenuItem(e){return"submenu"in e}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(zr),H(oi),H(bj))},t.\u0275cmp=He({type:t,selectors:[["app-navbar"]],decls:13,vars:8,consts:[[1,"navbar","navbar-expand-xl","fixed-top","navbar-dark","bg-dark"],[1,"navbar-brand","mr-auto","mr-xl-0",3,"routerLink"],["type","button","aria-controls","bmdlNavbar","aria-label","Toggle navigation",1,"navbar-toggler","p-0","border-0",3,"click"],[1,"navbar-toggler-icon"],["id","bmdlNavbar",1,"navbar-collapse","offcanvas-collapse"],[1,"navbar-nav","mr-auto"],[4,"ngFor","ngForOf"],[1,"form-inline","my-2","my-xl-0",3,"formGroup"],["for","roleSelector",1,"mr-2","text-light"],["formControlName","role","id","roleSelector",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["class","nav-item","routerLinkActive","active",4,"ngIf"],["class","nav-item","ngbDropdown","",4,"ngIf"],["routerLinkActive","active",1,"nav-item"],["itemActive","routerLinkActive"],[1,"nav-link","text-nowrap",3,"routerLink"],["class","sr-only",4,"ngIf"],[1,"sr-only"],["ngbDropdown","",1,"nav-item"],["type","button","id","dropdown","ngbDropdownToggle","","role","button",1,"nav-link"],["ngbDropdownMenu","","aria-labelledby","dropdown"],["ngbDropdownItem","","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["ngbDropdownItem","","routerLinkActive","active",3,"routerLink"],["active","routerLinkActive"],[3,"ngValue"]],template:function(e,i){1&e&&(c(0,"nav",0)(1,"a",1),g(2,"SBMD"),u(),c(3,"button",2),z("click",function(){return i.navExpanded=!i.navExpanded}),re(4,"span",3),u(),c(5,"div",4)(6,"ul",5),k(7,Cye,2,1,"ng-container",6),u(),c(8,"form",7)(9,"label",8),g(10,"Role"),u(),c(11,"select",9),k(12,Mye,2,2,"option",10),u()()()()),2&e&&(p(1),v("routerLink",Bt(7,Sye)),p(2),Mi("aria-expanded",i.navExpanded),p(2),Ht("open",i.navExpanded),p(2),v("ngForOf",i.navItems),p(1),v("formGroup",i.roleForm),p(4),v("ngForOf",i.roles))},directives:[XE,gn,Lt,nt,y3,f_,qB,QE,KE,nn,Wt,Vt,ki,Jt,Zt,Vi,Hi],styles:[""]}),t})();function Tye(t,n){1&t&&re(0,"app-navbar")}function Pye(t,n){if(1&t){const e=ye();c(0,"button",7),z("click",function(){return W(e),T(2).logout()}),g(1," Logout "),u()}}function Dye(t,n){1&t&&(c(0,"div"),g(1,"\u2013"),u())}const Fye=function(){return["/","options"]},Aye=function(){return["/"]};function Iye(t,n){if(1&t&&(c(0,"footer",4),k(1,Pye,2,0,"button",5),k(2,Dye,2,0,"div",0),c(3,"a",6),g(4,"Options"),u(),c(5,"div"),g(6,"\u2013"),u(),c(7,"div",6),g(8),u()()),2&t){const e=T();p(1),v("ngIf",!e.isLocalDatabase()),p(1),v("ngIf",!e.isLocalDatabase()),p(1),v("routerLink",Bt(5,Fye)),p(4),v("routerLink",Bt(6,Aye)),p(1),Be(" SBMD v",e.VERSION," ")}}let kye=(()=>{class t{constructor(e,i,o,r,s,a,l,d,h,w){this.authService=e,this.bmProcessService=i,this.canvasDefinitionService=o,this.companyModelService=r,this.developmentMethodService=s,this.domainService=a,this.expertModelService=l,this.pouchdbService=h,this.runningProcessService=w,this.VERSION="1.1.0",d.animation=!1}logout(){this.authService.logout().subscribe()}addDefaultData(){var e=this;return Y(function*(){yield e.pouchdbService.addDefaultData()})()}printDevelopmentMethods(){var e=this;return Y(function*(){const o=(yield e.developmentMethodService.getList()).map(r=>new fd(r,void 0)).map(r=>r.toDb());o.forEach(r=>delete r._rev),console.log(o)})()}printBmProcesses(){var e=this;return Y(function*(){const o=(yield e.bmProcessService.getList()).map(r=>new pm(r,void 0)).map(r=>r.toDb());o.forEach(r=>delete r._rev),console.log(o)})()}printRunningProcesses(){var e=this;return Y(function*(){const o=(yield e.runningProcessService.getList()).map(r=>new jh(r,void 0)).map(r=>r.toDb());o.forEach(r=>delete r._rev),console.log(o)})()}printExpertModels(){var e=this;return Y(function*(){const o=(yield e.expertModelService.getList()).map(r=>new hd(r,void 0)).map(r=>r.toDb());o.forEach(r=>delete r._rev),console.log(o)})()}printCompanyModels(){var e=this;return Y(function*(){const o=(yield e.companyModelService.getAll()).map(r=>new No(r,void 0)).map(r=>r.toDb());o.forEach(r=>delete r._rev),console.log(o)})()}printDomains(){var e=this;return Y(function*(){const o=(yield e.domainService.getList()).map(r=>new _s(r,void 0)).map(r=>r.toDb());o.forEach(r=>delete r._rev),console.log(o)})()}printCanvasDefinitions(){var e=this;return Y(function*(){const o=(yield e.canvasDefinitionService.getList()).map(r=>new fm(r,void 0)).map(r=>r.toDb());o.forEach(r=>delete r._rev),console.log(o)})()}get showNavbar(){return this.authService.isLoggedIn()}isLocalDatabase(){return!0}}return t.\u0275fac=function(e){return new(e||t)(H(xc),H(Na),H(Bu),H(Lo),H(dl),H(e_),H(Cs),H(Qd),H(rs),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-root"]],decls:5,vars:2,consts:[[4,"ngIf"],["id","wrapper",1,"min-vh-100","d-flex","flex-column","align-content-center"],[1,"flex-1"],["class","\n      text-muted\n      container\n      text-center\n      mb-3\n      d-flex\n      align-items-baseline\n      justify-content-center\n    ",4,"ngIf"],[1,"text-muted","container","text-center","mb-3","d-flex","align-items-baseline","justify-content-center"],["type","button","class","btn btn-link",3,"click",4,"ngIf"],["routerLinkActive","active",1,"btn","btn-link",3,"routerLink"],["type","button",1,"btn","btn-link",3,"click"]],template:function(e,i){1&e&&(k(0,Tye,1,0,"app-navbar",0),c(1,"div",1)(2,"div",2),re(3,"router-outlet"),u(),k(4,Iye,9,7,"footer",3),u()),2&e&&(v("ngIf",i.showNavbar),p(4),v("ngIf",i.showNavbar))},directives:[nt,Eye,h3,gn,y3,T_],styles:[""]}),t})();var yj=E(4327);let Nye=(()=>{class t{constructor(e){this.pouchdbService=e}exportDatabase(){var e=this;return Y(function*(){const i=yield e.pouchdbService.getAllDocs(),o=i;return o.docs.forEach(r=>delete r._rev),o.identifier=t.identifier,new Blob([JSON.stringify(i,null,2)],{type:"application/json"})})()}importDatabase(e){var i=this;return Y(function*(){console.log("Load file");const o=yield i.importJson(e);console.log("File loaded"),console.log("Check file");const r=i.convertContentToDocs(o);console.log("File check"),console.log("Delete database"),yield i.pouchdbService.clearDatabase(),console.log("Database deleted"),console.log("Import docs"),yield i.pouchdbService.importDocs(r),console.log("Docs imported"),console.log("Finished")})()}convertContentToDocs(e){if("object"==typeof e&&"identifier"in e&&"docs"in e){const i=e;if(i.identifier===t.identifier)return i.docs}throw new Error("Content has not the correct form. Database not deleted.")}importJson(e){return new Promise((i,o)=>{const r=new FileReader;r.addEventListener("error",()=>{o("Error loading file")}),r.addEventListener("load",s=>{var a;let l=null;try{l=JSON.parse(null===(a=s.target)||void 0===a?void 0:a.result)}catch(d){return void o(d)}i(l)}),r.readAsText(e)})}}return t.identifier="SBMD-v1",t.\u0275fac=function(e){return new(e||t)(Ve(rs))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Rye(t,n){if(1&t&&(c(0,"tr")(1,"th",5),g(2,"Username"),u(),c(3,"td"),g(4),u()()),2&t){const e=T(2);p(4),_t(e.username)}}function Oye(t,n){if(1&t&&(c(0,"tr")(1,"th",5),g(2,"Group"),u(),c(3,"td"),g(4),u()()),2&t){const e=T(2);p(4),_t(e.group)}}function Bye(t,n){if(1&t&&(c(0,"table",4)(1,"tbody"),k(2,Rye,5,1,"tr",3),k(3,Oye,5,1,"tr",3),u()()),2&t){const e=T();p(2),v("ngIf",null!=e.username),p(1),v("ngIf",null!=e.group)}}function Lye(t,n){1&t&&(c(0,"span"),g(1,"Connected to a local database"),u())}let wj=(()=>{class t{constructor(e){this.authService=e}get username(){return this.authService.username}get group(){return this.authService.group}isLocalDatabase(){return true}}return t.\u0275fac=function(e){return new(e||t)(H(xc))},t.\u0275cmp=He({type:t,selectors:[["app-profile"]],decls:5,vars:2,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],["class","table",4,"ngIf"],[4,"ngIf"],[1,"table"],["scope","row"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2,"Profile"),u(),k(3,Bye,4,2,"table",2),k(4,Lye,2,0,"span",3),u()),2&e&&(p(3),v("ngIf",null!=i.username||null!=i.group),p(1),v("ngIf",i.isLocalDatabase()))},directives:[nt],styles:[""]}),t})();function jye(t,n){1&t&&(St(0),g(1," The password must be at least 10 characters long. "),Et())}function Gye(t,n){1&t&&(St(0),g(1," This field is required. "),Et())}function Vye(t,n){1&t&&(c(0,"div",12),g(1," The passwords do not match. "),u())}let Hye=(()=>{class t{constructor(e){this.fb=e,this.changePassword=new je,this.passwordForm=this.fb.group({password:this.fb.control("",[ft.required,ft.minLength(10)]),confirm:this.fb.control("")},{validators:i=>{var o,r;return(null===(o=i.get("password"))||void 0===o?void 0:o.value)!==(null===(r=i.get("confirm"))||void 0===r?void 0:r.value)?{passwordNotConfirmed:!0}:null}})}submitForm(){this.changePassword.emit(this.passwordControl.value),this.passwordForm.reset()}get passwordControl(){return this.passwordForm.get("password")}get confirmControl(){return this.passwordForm.get("confirm")}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-change-password-form"]],outputs:{changePassword:"changePassword"},decls:19,vars:9,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","inputPassword",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","password","id","inputPassword","formControlName","password","aria-describedby","validationPassword",1,"form-control"],["id","validationPassword",1,"invalid-feedback"],[4,"ngIf"],["for","inputConfirm",1,"col-sm-4","col-form-label"],["type","password","id","inputConfirm","formControlName","confirm","aria-describedby","validationConfirm",1,"form-control"],["id","validationConfirm","class","invalid-feedback",4,"ngIf"],[1,"col-sm-12"],["type","submit",1,"btn","btn-dark","btn-sm","btn-block",3,"disabled"],["id","validationConfirm",1,"invalid-feedback"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Password"),u(),c(4,"div",3),re(5,"input",4),c(6,"div",5),k(7,jye,2,0,"ng-container",6),k(8,Gye,2,0,"ng-container",6),u()()(),c(9,"div",1)(10,"label",7),g(11,"Confirm"),u(),c(12,"div",3),re(13,"input",8),k(14,Vye,2,0,"div",9),u()(),c(15,"div",1)(16,"div",10)(17,"button",11),g(18," Change Password "),u()()()()),2&e&&(v("formGroup",i.passwordForm),p(5),Ht("is-invalid",i.passwordControl.invalid&&i.passwordControl.touched),p(2),v("ngIf",i.passwordControl.hasError("minlength")),p(1),v("ngIf",i.passwordControl.hasError("required")),p(5),Ht("is-invalid",i.passwordForm.invalid&&i.confirmControl.touched),p(1),v("ngIf",i.passwordForm.hasError("passwordNotConfirmed")),p(3),v("disabled",!i.passwordForm.valid))},directives:[nn,Wt,Vt,wn,Jt,Zt,nt],styles:[""]}),t})();const Uye=["importModal"];function zye(t,n){if(1&t){const e=ye();c(0,"div",6)(1,"h4",7),g(2,"Import Database"),u(),c(3,"button",8),z("click",function(){return W(e).dismiss()}),c(4,"span",9),g(5,"\xd7"),u()()(),c(6,"div",10)(7,"div",11),g(8," This step will do the following: "),c(9,"ol")(10,"li")(11,"strong"),g(12,"Delete all documents in the current database"),u(),re(13,"br"),g(14," This will remove everything that is in the database. After this step the database is empty. "),c(15,"strong"),g(16,"This can not be undone."),u()(),c(17,"li")(18,"strong"),g(19,"Import the file"),u(),re(20,"br"),g(21," Then the given file will be imported. On any error the database will "),c(22,"strong"),g(23,"remain empty"),u(),g(24,". So please have a backup of the current state. "),u()(),g(25),re(26,"br"),g(27," Again, this step "),c(28,"strong"),g(29,"can not be undone"),u(),g(30,". "),u(),c(31,"div",12)(32,"form",13),z("ngSubmit",function(){return W(e),T().submitForm()}),c(33,"div",14)(34,"label",15),g(35,"File"),u(),c(36,"div",16)(37,"input",17),z("change",function(o){return W(e),T().fileChange(o)}),u(),c(38,"div",18),g(39),u()()(),c(40,"div",14)(41,"label",19),g(42,"Verify"),u(),c(43,"div",16),re(44,"input",20),u()(),c(45,"div",14)(46,"div",21)(47,"button",22),g(48," Reset database and import file into database "),u()()()()()()}if(2&t){const e=T();p(25),Be(' You should be really sure when executing this step. To confirm this step enter "',e.verifyString,'" into the verify input field.'),p(7),v("formGroup",e.form),p(5),Ht("is-invalid",null!=e.importError),p(2),Be(" ",e.importError," "),p(5),Ht("is-invalid",e.verifyControl.invalid),p(3),v("disabled",!e.form.valid)}}function qye(t,n){if(1&t){const e=ye();c(0,"div",3)(1,"h6",4),g(2,"Reset Database"),u(),c(3,"button",5),z("click",function(){return W(e),T().resetDatabase()}),g(4," Reset Database to Default "),u()()}}function $ye(t,n){1&t&&(c(0,"div",11),g(1," Password not changed due to an error. "),u())}function Wye(t,n){1&t&&(c(0,"div",11),g(1," You do not have the permission to change your password. "),u())}function Yye(t,n){if(1&t){const e=ye();c(0,"div",3)(1,"h6",4),g(2,"Change Password"),u(),c(3,"app-change-password-form",23),z("changePassword",function(o){return W(e),T().changePassword(o)}),u(),k(4,$ye,2,0,"div",24),k(5,Wye,2,0,"div",24),u()}if(2&t){const e=T();p(4),v("ngIf",e.passwordChangeError),p(1),v("ngIf",e.passwordChangeForbidden)}}let Xye=(()=>{class t{constructor(e,i,o,r,s){this.authService=e,this.fb=i,this.importExportService=o,this.modalService=r,this.pouchdbService=s,this.passwordChangeError=!1,this.passwordChangeForbidden=!1,this.verifyString="resetDB",this.form=this.fb.group({file:[null,ft.required],verify:["",[ft.required,a=>a.value!==this.verifyString?{notVerified:!0}:null]]})}changePassword(e){this.passwordChangeError=!1,this.passwordChangeForbidden=!1,this.authService.changePassword(e).subscribe(()=>console.log("Password changed."),i=>{console.error(i),console.log("Password NOT changed."),403===i.status?this.passwordChangeForbidden=!0:this.passwordChangeError=!0})}openImportDatabase(){this.modalReference=this.modalService.open(this.importModal,{size:"lg"})}fileChange(e){var i;this.importError=void 0,this.file=null===(i=e.target.files)||void 0===i?void 0:i[0]}submitForm(){var e=this;return Y(function*(){var i;try{yield e.importExportService.importDatabase(e.file)}catch(o){throw e.importError="string"==typeof o?o:o instanceof Error?o.message:"Unknown Error. See browser's console for more info.",o}null===(i=e.modalReference)||void 0===i||i.close()})()}exportDatabase(){var e=this;return Y(function*(){(0,yj.saveAs)(yield e.importExportService.exportDatabase(),"db.json")})()}get username(){return this.authService.username}isLocalDatabase(){return true}resetDatabase(){var e=this;return Y(function*(){console.log("Delete Database"),yield e.pouchdbService.clearDatabase(),console.log("Add default data"),yield e.pouchdbService.addDefaultData()})()}get verifyControl(){return this.form.get("verify")}}return t.\u0275fac=function(e){return new(e||t)(H(xc),H(zt),H(Nye),H(jn),H(rs))},t.\u0275cmp=He({type:t,selectors:[["app-options"]],viewQuery:function(e,i){if(1&e&&Ft(Uye,7),2&e){let o;bt(o=yt())&&(i.importModal=o.first)}},decls:13,vars:2,consts:[["importModal",""],[1,"container"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],["type","button",1,"btn","btn-dark","btn-sm","btn-block",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"alert","alert-danger"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","file",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","file","id","file","aria-describedby","fileErrorDescription","formControlName","file",1,"form-control",3,"change"],["id","fileErrorDescription",1,"invalid-feedback"],["for","inputVerify",1,"col-sm-4","col-form-label"],["type","text","id","inputVerify","formControlName","verify",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"changePassword"],["class","alert alert-danger",4,"ngIf"]],template:function(e,i){1&e&&(k(0,zye,49,8,"ng-template",null,0,$t),c(2,"main",1),re(3,"app-profile"),k(4,qye,5,0,"div",2),c(5,"div",3)(6,"h6",4),g(7,"Database Import/Export"),u(),c(8,"button",5),z("click",function(){return i.openImportDatabase()}),g(9," Import database "),u(),c(10,"button",5),z("click",function(){return i.exportDatabase()}),g(11," Export database "),u()(),k(12,Yye,6,2,"div",2),u()),2&e&&(p(4),v("ngIf",i.isLocalDatabase()),p(8),v("ngIf",null!=i.username&&!i.isLocalDatabase()))},directives:[nn,Wt,Vt,wn,Jt,Zt,wj,nt,Hye],styles:[""]}),t})();function Kye(t,n){1&t&&(c(0,"figure",9),re(1,"img",10),c(2,"figcaption",11),g(3," 1. Create a running method "),u()())}function Qye(t,n){1&t&&(c(0,"figure",9),re(1,"img",12),c(2,"figcaption",11),g(3," 2. Manage the enaction in a kanban board "),u()())}function Jye(t,n){1&t&&(c(0,"figure",9),re(1,"img",13),c(2,"figcaption",11),g(3," 3. Execute building blocks "),u()())}let Zye=(()=>{class t{updateCarousel(e){this.carousel.select(String(e))}updatePagination(e){this.pagination.selectPage(Number(e.current))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-enaction-explanation"]],viewQuery:function(e,i){if(1&e&&(Ft(Jd,5),Ft(qu,5)),2&e){let o;bt(o=yt())&&(i.carousel=o.first),bt(o=yt())&&(i.pagination=o.first)}},decls:30,vars:5,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"mb-0"],[3,"interval","showNavigationArrows","showNavigationIndicators","slide"],["ngbSlide","","id","1"],["ngbSlide","","id","2"],["ngbSlide","","id","3"],["aria-label","Controls for the above images",1,"d-flex","justify-content-center",3,"collectionSize","pageSize","pageChange"],[1,"mt-2"],[1,"figure"],["src","assets/create_running_method.png","alt","Create running method",1,"carousel-image","figure-img"],[1,"figure-caption"],["src","assets/kanban_board.png","alt","Kanban board to manage the enaction",1,"carousel-image","figure-img"],["src","assets/execute_method.png","alt","The building block execution page",1,"carousel-image","figure-img"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2," Explanation of the Situational Business Model Developer (SBMD) "),u(),c(3,"p"),g(4," The Situational Business Model Developer that allows the enaction of situation-specific Business Model Development Methods. It uses the Method Modeler together with the Feature Modeler to support the business modeler in the enaction. The business modeler is guided through the method in a kanban board and also sees the enacted method. "),u(),c(5,"p",2),g(6," Additionally, the Situational Business Model Developer redirects the business developer to the correct locations in the Feature Modeler to support the creation of different canvases, e.g., business model canvas and value proposition canvas. "),u(),c(7,"div",0)(8,"h6",1),g(9,"Execution Steps"),u(),c(10,"ngb-carousel",3),z("slide",function(r){return i.updatePagination(r)}),k(11,Kye,4,0,"ng-template",4),k(12,Qye,4,0,"ng-template",5),k(13,Jye,4,0,"ng-template",6),u(),c(14,"ngb-pagination",7),z("pageChange",function(r){return i.updateCarousel(r)}),u(),c(15,"p",8),g(16,"Information about the execution steps:"),u(),c(17,"ol",2)(18,"li")(19,"strong"),g(20,"Create a running method:"),u(),g(21," In the first step, an business developer has to create a running method by selecting a method to enact and giving it a name. "),u(),c(22,"li")(23,"strong"),g(24,"Manage the enaction in a kanban board:"),u(),g(25," In a kanban board it is visible which building blocks are currently ready to be executed, are executed, and were executed. "),u(),c(26,"li")(27,"strong"),g(28,"Execute building blocks:"),u(),g(29," On a page for the execution of building blocks an overview of a building block is given and the steps to execute are shown. On this page it is also possible to communicate with other stakeholders through comments. "),u()()()()),2&e&&(p(10),v("interval",0)("showNavigationArrows",!1)("showNavigationIndicators",!1),p(4),v("collectionSize",3)("pageSize",1))},directives:[Jd,d_,qu],styles:[""]}),t})();function e0e(t,n){1&t&&(c(0,"figure",10),re(1,"img",11),c(2,"figcaption",12),g(3," 1. Create Method Elements (in Picture: a situational factor) "),u()())}function t0e(t,n){1&t&&(c(0,"figure",10),re(1,"img",13),c(2,"figcaption",12),g(3," 2. Create Method Building Blocks "),u()())}function n0e(t,n){1&t&&(c(0,"figure",10),re(1,"img",14),c(2,"figcaption",12),g(3," 3. Create Method Patterns "),u()())}function i0e(t,n){1&t&&(c(0,"figure",10),re(1,"img",15),c(2,"figcaption",12),g(3," 4. Create Business Model Development Methods "),u()())}let o0e=(()=>{class t{updateCarousel(e){this.carousel.select(String(e))}updatePagination(e){this.pagination.selectPage(Number(e.current))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-method-modeler-explanation"]],viewQuery:function(e,i){if(1&e&&(Ft(Jd,5),Ft(qu,5)),2&e){let o;bt(o=yt())&&(i.carousel=o.first),bt(o=yt())&&(i.pagination=o.first)}},decls:38,vars:5,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"mb-0"],[3,"interval","showNavigationArrows","showNavigationIndicators","slide"],["ngbSlide","","id","1"],["ngbSlide","","id","2"],["ngbSlide","","id","3"],["ngbSlide","","id","4"],["aria-label","Controls for the above images",1,"d-flex","justify-content-center",3,"collectionSize","pageSize","pageChange"],[1,"mt-2"],[1,"figure"],["src","assets/situational-factor.png","alt","Situational factor page",1,"carousel-image","figure-img"],[1,"figure-caption"],["src","assets/building-block.png","alt","Method Building Block page",1,"carousel-image","figure-img"],["src","assets/pattern.png","alt","Method Pattern page",1,"carousel-image","figure-img"],["src","assets/process.png","alt","Business Model Development Method page",1,"carousel-image","figure-img"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2," Explanation of the BMDL Modeler "),u(),c(3,"p"),g(4," The BMDL Method Modeler is a tool to describe situation-specific Business Model Development Methods. Business Model Development Methods can be described by combining Method Patterns and inserting Method Building Blocks into them. Method Patterns and Method Building Blocks are constructed from Method Elements. Method Elements are Artifacts, Situational Factors, Stakeholders, Tools and Types. Types are special, as they are used to determine which Method Building Blocks or Method Patterns can be inserted into activities of Method Patterns. "),u(),c(5,"p",2),g(6," Additionally, Method Building Blocks allow to select abstract list types for input/output Artifacts, Stakeholders and Tools. The user can later decide when developing the Business Model Development Methods, which concrete Method Element to use, e.g. an expert selected the abstract list type Users for stakeholders and the business developer can choose whether these are Customers, Experts or Early Adopters. Furthermore, the tool allows to define that a user is later able to select multiple instances of an abstract list type, e.g., in the example above, Customers and Experts. It is also possible to select between different Groups of input artifacts, output artifacts and Stakeholders. "),u()(),c(7,"div",0)(8,"h6",1),g(9,"Execution Steps"),u(),c(10,"ngb-carousel",3),z("slide",function(r){return i.updatePagination(r)}),k(11,e0e,4,0,"ng-template",4),k(12,t0e,4,0,"ng-template",5),k(13,n0e,4,0,"ng-template",6),k(14,i0e,4,0,"ng-template",7),u(),c(15,"ngb-pagination",8),z("pageChange",function(r){return i.updateCarousel(r)}),u(),c(16,"p",9),g(17,"Information about the execution steps:"),u(),c(18,"ol",2)(19,"li")(20,"strong"),g(21,"Create Method Elements:"),u(),g(22," In the first step, an expert has to create Method Elements that are later used to define Method Building Blocks and Method Patterns. Method Elements are Artifacts, Situational Factors, Stakeholders, Tools and Types. Every Method Element belongs to a list of other Method Elements to group them. Later, when creating Method Building Blocks or Method Patterns, it is possible to reference such an abstract list of Method Elements to allow the user to select a fitting concrete Method Element when defining the Business Model Development Method. Special Method Elements are Types and Situational Factors. Types are used to filter which Method Building Blocks and Method Patterns can be used together and Situational Factors are used to analyze whether the used Method Patterns and Method Building Blocks fit to the development context. Additionally, Situational Factors can define values. In this tool examples for Method Elements are already created. "),u(),c(23,"li")(24,"strong"),g(25,"Create Method Building Blocks:"),u(),g(26," In the second step, an expert can create Method Building Blocks. Method Building Blocks consist of input and output artifacts, involved stakeholders and tools. Additionally, they have types and situational factors. Examples for Method Building Blocks are already defined in this tool. "),u(),c(27,"li")(28,"strong"),g(29,"Create Method Patterns:"),u(),g(30," In the third step, the expert can create Method Patterns. They define the structure of the later Business Model Development Methods. Method Patterns have types. A special type is "),c(31,"i"),g(32,"initialisation"),u(),g(33," that defines that the pattern can be used as a starting point. Additionally, a Method Pattern defines activities. The expert can choose whether only Method Building Blocks or Method Building Blocks and Method Patterns can be inserted into a single activity when the Business Model Development Method is defined. Examples for Method Patterns are already included in this tool. "),u(),c(34,"li")(35,"strong"),g(36,"Create Business Model Development Methods"),u(),g(37," In the last step, a business developer can create Business Model Development Methods. To do this, the business developer first has to choose a Method Pattern as a starting point. Then, it is possible to insert fitting Method Building Blocks or Method Patterns into the activities of the Method Pattern. Additionally, the business developer can use situational factors to define the development context. This context is checked against the internal situational factors of the used Method Patterns and Method Building Blocks and mismatches are reported. Furthermore, the business developer can select per Method Building Block how the Method Building Block should be used, e.g., the business developer can select from lists which tools to use if the Method Building Block was created with an abstract definition. "),u()()()),2&e&&(p(10),v("interval",0)("showNavigationArrows",!1)("showNavigationIndicators",!1),p(5),v("collectionSize",4)("pageSize",1))},directives:[Jd,d_,qu],styles:[""]}),t})();function r0e(t,n){1&t&&(c(0,"figure",8),re(1,"img",9),c(2,"figcaption",10),g(3," 1. Create the canvas building block by following the steps on the canvas building block page "),u()())}function s0e(t,n){1&t&&(c(0,"figure",8),re(1,"img",11),c(2,"figcaption",10),g(3," 2. Create the composed model by merging canvas building blocks "),u()())}function a0e(t,n){1&t&&(c(0,"figure",8),re(1,"img",12),c(2,"figcaption",10),g(3," 3. Derive Business Models when enacting a method "),u()())}let l0e=(()=>{class t{updateCarousel(e){this.carousel.select(String(e))}updatePagination(e){this.pagination.selectPage(Number(e.current))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-feature-modeler-explanation"]],viewQuery:function(e,i){if(1&e&&(Ft(Jd,5),Ft(qu,5)),2&e){let o;bt(o=yt())&&(i.carousel=o.first),bt(o=yt())&&(i.pagination=o.first)}},decls:34,vars:5,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[3,"interval","showNavigationArrows","showNavigationIndicators","slide"],["ngbSlide","","id","1"],["ngbSlide","","id","2"],["ngbSlide","","id","3"],["aria-label","Controls for the above images",1,"d-flex","justify-content-center",3,"collectionSize","pageSize","pageChange"],[1,"mt-2"],[1,"figure"],["src","assets/bmdl_expert.png","alt","Canvas building block page",1,"carousel-image","figure-img"],[1,"figure-caption"],["src","assets/bmdl_company.png","alt","Composed Model page",1,"carousel-image","figure-img"],["src","assets/bmdl_business.png","alt","Business model page",1,"carousel-image","figure-img"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2," Explanation of the Model Engine "),u(),c(3,"p"),g(4," The Model Engine is a tool to describe Business Models through a combination of the Business Model Canvas (BMC) and a Software Product Line (SPL). We call this concept Business Model Decision Line (BMDL), where each feature describes a single business model decision. Features can be ordered in hierarchies and marked as mandatory or optional for the business models. Moreover, there can be Or (at least one sub-feature is selected) and Alternate (exactly one sub-feature is selected) relationships between a parent and a child feature. To refine the business models, cross-tree constraints for requiring and excluding dependencies can be made. "),u(),c(5,"p"),g(6," The current state of the tool allows the creation, import and export of canvas building blocks. The tool guides the user through the different steps to create a canvas building block and can show errors if a canvas building block does not allow the creation of consistent derived business models due to too restrictive constraints. After creating or importing canvas building blocks the user is able to merge these blocks into composed models. "),u(),c(7,"p"),g(8," Canvas building blocks support the creation of patterns and example business models. These patterns and examples can be used in composed models later to compare derived business models with them or to give hints about possible patterns to the user. "),u(),c(9,"p"),g(10," New business model decisions of single business models are synchronized with the corresponding composed model to ensure consistency. Moreover, the conformance of business models can be checked with the composed model and occurring conformance errors are explained. Additionally the tool checks for strengths and weaknesses of the business model and gives hints about patterns and possible supportive features. It is also possible to compare the business model with other business models or to show used patterns. "),u()(),c(11,"div",0)(12,"h6",1),g(13,"Execution Steps"),u(),c(14,"ngb-carousel",2),z("slide",function(r){return i.updatePagination(r)}),k(15,r0e,4,0,"ng-template",3),k(16,s0e,4,0,"ng-template",4),k(17,a0e,4,0,"ng-template",5),u(),c(18,"ngb-pagination",6),z("pageChange",function(r){return i.updateCarousel(r)}),u(),c(19,"p",7),g(20,"Information about the execution steps:"),u(),c(21,"ol")(22,"li")(23,"strong"),g(24,"Create / Import Canvas Building Block:"),u(),g(25," In the first step, the user has to create or import a canvas building block with expert knowledge. If creating such a model the conformance checking process can be supported by defining mandatory and optional features, features that have at least one subfeature (OR), features that have exactly one subfeature (XOR) and creating dependencies (requires, excludes) between the features. To support the hints the tool can give users of the canvas building block, it is possible to define dependencies (supports, hurts) that are later shown as hints, strengths and weaknesses. To support pattern hints it is possible to define patterns as instances of the canvas building block. To give users of the canvas building block examples of possible business models, which they can later use to compare their derived business models with, it is possible to define examples as instances of the canvas building block. "),u(),c(26,"li")(27,"strong"),g(28,"Create Composed Model:"),u(),g(29," In the second step, a method engineer can create a composed model. While creating it the developer selects canvas building blocks that should be merged into the composed model and later merge it manually into the composed model. After that the method engineer can edit the composed model and adapt it. In this step it is also possible to see conflicting requirements that lead to the impossibility to create conform derived business models. "),u(),c(30,"li")(31,"strong"),g(32,"Derive Business Models:"),u(),g(33," In the third step, the business developer can derive different business models from the composed model. Here, he can use the existing features from the composed model or add new business model decisions. These new feature decisions will be added to the composed model to save consistency. Here it also possible to check the conformance between the composed model and the business model. Conformance errors will be explained to support the resolution. It is also possible to show weaknesses (due to hurts cross-tree relation) and strengths (due to supports cross-tree relation), hints about supportive features, hints about patterns and used patterns. Moreover, it is possible to compare with patterns of canvas building blocks. It is also possible to compare the business model with other business models of the same composed model or with examples of the merged canvas building blocks (if merged completely). The corresponding views are automatically accessed, when the business developer enacts a method. "),u()()()),2&e&&(p(14),v("interval",0)("showNavigationArrows",!1)("showNavigationIndicators",!1),p(4),v("collectionSize",3)("pageSize",1))},directives:[Jd,d_,qu],styles:[""]}),t})();function c0e(t,n){1&t&&re(0,"app-enaction-explanation")}function u0e(t,n){1&t&&re(0,"app-method-modeler-explanation")}function d0e(t,n){1&t&&re(0,"app-feature-modeler-explanation")}const p0e=function(){return[]};let m0e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-tool-explanation"]],decls:34,vars:3,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],["ngbNav","",1,"nav-pills","nav-justified"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-1",3,"ngbNavOutlet"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"mt-2"],[1,"mb-0"],["href","https://github.com/SebastianGTTS/situational-business-modeler-developer"]],template:function(e,i){if(1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3,"Tool Explanation"),u()()(),c(4,"main",3)(5,"div",4)(6,"h6",5),g(7,"Explanations"),u(),c(8,"ul",6,7)(10,"li",8)(11,"a",9),g(12,"Enaction"),u(),k(13,c0e,1,0,"ng-template",10),u(),c(14,"li",8)(15,"a",9),g(16,"Method Modeler"),u(),k(17,u0e,1,0,"ng-template",10),u(),c(18,"li",8)(19,"a",9),g(20,"Feature Modeler"),u(),k(21,d0e,1,0,"ng-template",10),u()()(),re(22,"div",11),c(23,"div",4)(24,"h6",12),g(25,"Further Information"),u(),c(26,"p",13),g(27,"Further information and the source code can be accessed through GitHub:"),u(),c(28,"ul",14)(29,"li")(30,"strong"),g(31,"GitHub Repository:"),u(),c(32,"a",15),g(33," https://github.com/SebastianGTTS/situational-business-modeler-developer "),u()()()()()),2&e){const o=hn(9);p(2),v("routerLink",Bt(2,p0e)),p(20),v("ngbNavOutlet",o)}},directives:[gn,zu,Uu,op,ip,Zye,o0e,l0e,uf],styles:[""]}),t})();function f0e(t,n){if(1&t){const e=ye();c(0,"ngb-alert",16),z("closed",function(){return W(e),T().closeAlert()}),g(1," The session has expired, because of inactivity. "),u()}}function h0e(t,n){if(1&t){const e=ye();c(0,"ngb-alert",17),z("closed",function(){return W(e),T().closeAlert()}),g(1," The password has been changed successfully. "),u()}}function g0e(t,n){if(1&t){const e=ye();c(0,"ngb-alert",18),z("closed",function(){return W(e),T().closeAlert()}),g(1," Critical error in database. "),u()}}function _0e(t,n){if(1&t&&(c(0,"small",19),g(1),u()),2&t){const e=T();p(1),_t(e.errorReason)}}let v0e=(()=>{class t{constructor(e,i,o,r,s){this.authService=e,this.fb=i,this.modalService=o,this.route=r,this.router=s,this.form=this.fb.group({username:["",ft.required],password:["",ft.required]}),this.expired=!1,this.passwordChanged=!1,this.dbError=!1}ngOnInit(){this.modalService.dismissAll(),this.querySubscription=this.route.queryParamMap.subscribe(e=>{this.expired=e.has("expired")&&"true"===e.get("expired"),this.passwordChanged=e.has("passwordChanged")&&"true"===e.get("passwordChanged"),this.dbError=e.has("dbError")&&"true"===e.get("dbError")})}ngOnDestroy(){this.loginSubscription&&this.loginSubscription.unsubscribe(),this.querySubscription&&this.querySubscription.unsubscribe()}closeAlert(){var e=this;return Y(function*(){yield e.router.navigate([])})()}login(){var e=this;return Y(function*(){var i,o;e.loginSubscription&&e.loginSubscription.unsubscribe(),e.errorReason=void 0,e.loginSubscription=e.authService.login(null===(i=e.form.get("username"))||void 0===i?void 0:i.value,null===(o=e.form.get("password"))||void 0===o?void 0:o.value).subscribe(()=>e.errorReason=void 0,r=>{console.error(r),null!=r.message&&(e.errorReason=r.message),null!=r.error&&null!=r.error.reason&&(e.errorReason=r.error.reason)})})()}}return t.\u0275fac=function(e){return new(e||t)(H(xc),H(zt),H(jn),H(Jn),H(oi))},t.\u0275cmp=He({type:t,selectors:[["app-login"]],decls:27,vars:6,consts:[["role","main"],["type","warning","class","container",3,"closed",4,"ngIf"],["type","success","class","container",3,"closed",4,"ngIf"],["type","danger","class","container",3,"closed",4,"ngIf"],[1,"m-auto","my-3","p-3","bg-white","rounded","shadow-sm",2,"width","20rem"],[1,"border-bottom","border-gray","pb-2"],[1,"text-muted"],[3,"formGroup","submit"],[1,"form-group"],["for","inputUser"],["id","inputUser","formControlName","username",1,"form-control"],["for","passwordInput"],["type","password","id","passwordInput","aria-describedby","passwordInput","formControlName","password",1,"form-control"],["id","passwordInputHelp",1,"form-text","text-muted"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","text-danger",4,"ngIf"],["type","warning",1,"container",3,"closed"],["type","success",1,"container",3,"closed"],["type","danger",1,"container",3,"closed"],[1,"text-danger"]],template:function(e,i){1&e&&(c(0,"main",0),k(1,f0e,2,0,"ngb-alert",1),k(2,h0e,2,0,"ngb-alert",2),k(3,g0e,2,0,"ngb-alert",3),c(4,"div",4)(5,"h6",5),g(6,"Login"),u(),c(7,"div",6)(8,"form",7),z("submit",function(){return i.login()}),c(9,"div",8)(10,"label",9),g(11,"Username"),u(),re(12,"input",10),u(),c(13,"div",8)(14,"label",11),g(15,"Password"),u(),re(16,"input",12),c(17,"small",13),g(18," This is "),c(19,"strong"),g(20,"not"),u(),g(21," your IMT Password. "),u()(),c(22,"div")(23,"button",14),g(24," Login "),u()(),c(25,"div"),k(26,_0e,2,1,"small",15),u()()()()()),2&e&&(p(1),v("ngIf",i.expired),p(1),v("ngIf",i.passwordChanged),p(1),v("ngIf",i.dbError),p(5),v("formGroup",i.form),p(15),v("disabled",!i.form.valid),p(3),v("ngIf",null!=i.errorReason))},directives:[nt,e1e,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})(),Po=(()=>{class t{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return!!this.authService.isLoggedIn()||(this.authService.redirectTo=i.url,this.router.createUrlTree(["/","login"]))}}return t.\u0275fac=function(e){return new(e||t)(Ve(xc),Ve(oi))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),xj=(()=>{class t{constructor(e,i){this.authService=e,this.router=i}canActivate(){return!this.authService.isLoggedIn()||this.router.createUrlTree(["/"])}}return t.\u0275fac=function(e){return new(e||t)(Ve(xc),Ve(oi))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),b0e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-start-business-developer"]],decls:5,vars:0,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"mb-0"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h2",1),g(2,"Business Developer Role"),u(),c(3,"p",2),g(4," The Business Developer Role is used to enact the defined Business Model Development Methods. "),u()())},styles:[""]}),t})();const y0e=function(){return["/","methodElements"]},w0e=function(){return["/","methods"]},x0e=function(){return["/","process"]},C0e=function(){return["/","bmprocess"]};let M0e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-start-method-engineer"]],decls:20,vars:8,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"mb-0"],[3,"routerLink"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h2",1),g(2,"Method Engineer Role"),u(),c(3,"p"),g(4," The Method Engineer Role is used to define Business Model Development Methods. "),u(),c(5,"p",2),g(6,"The process to do this is separated into multiple steps:"),u(),c(7,"ol",2)(8,"li")(9,"a",3),g(10," Create Method Elements in the Method Repository "),u()(),c(11,"li")(12,"a",3),g(13," Assemble Method Building Blocks from these Method Elements "),u()(),c(14,"li")(15,"a",3),g(16," Create Method Patterns that will be used to connect different Method Building Blocks "),u()(),c(17,"li")(18,"a",3),g(19," Compose Business Model Development Methods by selecting Method Patterns and filling them with Method Building Blocks "),u()()()()),2&e&&(p(9),v("routerLink",Bt(4,y0e)),p(3),v("routerLink",Bt(5,w0e)),p(3),v("routerLink",Bt(6,x0e)),p(3),v("routerLink",Bt(7,C0e)))},directives:[gn],styles:[""]}),t})();function S0e(t,n){1&t&&re(0,"app-profile")}function E0e(t,n){1&t&&re(0,"app-start-business-developer")}function T0e(t,n){1&t&&re(0,"app-start-method-engineer")}const P0e=function(){return["/","explanation"]},D0e=[{path:"",redirectTo:"/start",pathMatch:"full"},{path:"start",canActivate:[Po],component:(()=>{class t{constructor(e){this.userService=e}get currentRole(){return this.userService.activatedRole}get roles(){return jo}isLocalDatabase(){return true}}return t.\u0275fac=function(e){return new(e||t)(H(bj))},t.\u0275cmp=He({type:t,selectors:[["app-start"]],decls:14,vars:5,consts:[["role","main",1,"container"],[4,"ngIf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"mb-0"],[3,"routerLink"]],template:function(e,i){1&e&&(c(0,"main",0),k(1,S0e,1,0,"app-profile",1),c(2,"div",2)(3,"h1",3),g(4," Situational Business Model Developer "),u(),c(5,"p"),g(6," Welcome to the Situational Business Model Developer (SBMD). The SBMD allows the development of business models by taking the context of the company and the product/service into account. "),u(),c(7,"p",4),g(8," A detailed explanation is given "),c(9,"a",5),g(10,"here"),u(),g(11,". "),u()(),k(12,E0e,1,0,"app-start-business-developer",1),k(13,T0e,1,0,"app-start-method-engineer",1),u()),2&e&&(p(1),v("ngIf",!i.isLocalDatabase()),p(8),v("routerLink",Bt(4,P0e)),p(3),v("ngIf",i.currentRole===i.roles.BUSINESSDEVELOPER),p(1),v("ngIf",i.currentRole===i.roles.EXPERT))},directives:[nt,wj,gn,b0e,M0e],styles:[""]}),t})()},{path:"login",component:v0e,canActivate:[xj]},{path:"options",component:Xye,canActivate:[Po]},{path:"explanation",component:m0e,canActivate:[Po]},{path:"**",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-page-not-found"]],decls:5,vars:0,consts:[["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"]],template:function(e,i){1&e&&(c(0,"main",0)(1,"div",1)(2,"h6",2),g(3,"404 Not Found"),u(),g(4," This page does not exist. "),u()())},styles:[""]}),t})()}];let F0e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[ml.forRoot(D0e,{relativeLinkResolution:"legacy"})],ml]}),t})();class Cj{}class Mj{}class Yc{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),r=o.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(o,r),this.headers.has(r)?this.headers.get(r).push(s):this.headers.set(r,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let i=n[e];const o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Yc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Yc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const r=n.value;if(r){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===r.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class A0e{encodeKey(n){return Sj(n)}encodeValue(n){return Sj(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const k0e=/%(\d[a-f0-9])/gi,N0e={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Sj(t){return encodeURIComponent(t).replace(k0e,(n,e)=>{var i;return null!==(i=N0e[e])&&void 0!==i?i:n})}function Ej(t){return`${t}`}class Xu{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new A0e,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function I0e(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const r=o.indexOf("="),[s,a]=-1==r?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,r)),n.decodeValue(o.slice(r+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Xu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(Ej(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(Ej(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class R0e{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function Tj(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Pj(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Dj(t){return"undefined"!=typeof FormData&&t instanceof FormData}class P_{constructor(n,e,i,o){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function O0e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,r=o):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Yc),this.context||(this.context=new R0e),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Xu,this.urlWithParams=e}serializeBody(){return null===this.body?null:Tj(this.body)||Pj(this.body)||Dj(this.body)||function B0e(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Dj(this.body)?null:Pj(this.body)?this.body.type||null:Tj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const i=n.method||this.method,o=n.url||this.url,r=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let d=n.headers||this.headers,h=n.params||this.params;const w=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(d=Object.keys(n.setHeaders).reduce((P,N)=>P.set(N,n.setHeaders[N]),d)),n.setParams&&(h=Object.keys(n.setParams).reduce((P,N)=>P.set(N,n.setParams[N]),h)),new P_(i,o,s,{params:h,headers:d,context:w,reportProgress:l,responseType:r,withCredentials:a})}}var lr=(()=>((lr=lr||{})[lr.Sent=0]="Sent",lr[lr.UploadProgress=1]="UploadProgress",lr[lr.ResponseHeader=2]="ResponseHeader",lr[lr.DownloadProgress=3]="DownloadProgress",lr[lr.Response=4]="Response",lr[lr.User=5]="User",lr))();class M3{constructor(n,e=200,i="OK"){this.headers=n.headers||new Yc,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class S3 extends M3{constructor(n={}){super(n),this.type=lr.ResponseHeader}clone(n={}){return new S3({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class P0 extends M3{constructor(n={}){super(n),this.type=lr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new P0({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Fj extends M3{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function E3(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Aj=(()=>{class t{constructor(e){this.handler=e}request(e,i,o={}){let r;if(e instanceof P_)r=e;else{let l,d;l=o.headers instanceof Yc?o.headers:new Yc(o.headers),o.params&&(d=o.params instanceof Xu?o.params:new Xu({fromObject:o.params})),r=new P_(e,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=Mn(r).pipe(df(l=>this.handler.handle(l)));if(e instanceof P_||"events"===o.observe)return s;const a=s.pipe(Li(l=>l instanceof P0));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(Ze(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ze(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ze(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ze(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Xu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,E3(o,i))}post(e,i,o={}){return this.request("POST",e,E3(o,i))}put(e,i,o={}){return this.request("PUT",e,E3(o,i))}}return t.\u0275fac=function(e){return new(e||t)(Ve(Cj))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();class Ij{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const kj=new kn("HTTP_INTERCEPTORS");let L0e=(()=>{class t{intercept(e,i){return i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const j0e=/^\)\]\}',?\n/;let Nj=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new X(i=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((N,L)=>o.setRequestHeader(N,L.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const N=e.detectContentTypeHeader();null!==N&&o.setRequestHeader("Content-Type",N)}if(e.responseType){const N=e.responseType.toLowerCase();o.responseType="json"!==N?N:"text"}const r=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const N=o.statusText||"OK",L=new Yc(o.getAllResponseHeaders()),U=function G0e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new S3({headers:L,status:o.status,statusText:N,url:U}),s},l=()=>{let{headers:N,status:L,statusText:U,url:q}=a(),Z=null;204!==L&&(Z=void 0===o.response?o.responseText:o.response),0===L&&(L=Z?200:0);let Q=L>=200&&L<300;if("json"===e.responseType&&"string"==typeof Z){const K=Z;Z=Z.replace(j0e,"");try{Z=""!==Z?JSON.parse(Z):null}catch(J){Z=K,Q&&(Q=!1,Z={error:J,text:Z})}}Q?(i.next(new P0({body:Z,headers:N,status:L,statusText:U,url:q||void 0})),i.complete()):i.error(new Fj({error:Z,headers:N,status:L,statusText:U,url:q||void 0}))},d=N=>{const{url:L}=a(),U=new Fj({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:L||void 0});i.error(U)};let h=!1;const w=N=>{h||(i.next(a()),h=!0);let L={type:lr.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(L.total=N.total),"text"===e.responseType&&!!o.responseText&&(L.partialText=o.responseText),i.next(L)},P=N=>{let L={type:lr.UploadProgress,loaded:N.loaded};N.lengthComputable&&(L.total=N.total),i.next(L)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",w),null!==r&&o.upload&&o.upload.addEventListener("progress",P)),o.send(r),i.next({type:lr.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",w),null!==r&&o.upload&&o.upload.removeEventListener("progress",P)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Ve(e7))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const T3=new kn("XSRF_COOKIE_NAME"),P3=new kn("XSRF_HEADER_NAME");class Rj{}let V0e=(()=>{class t{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=UD(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Ve(io),Ve(cd),Ve(T3))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),D3=(()=>{class t{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Ve(Rj),Ve(P3))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),H0e=(()=>{class t{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(kj,[]);this.chain=i.reduceRight((o,r)=>new Ij(o,r),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Ve(Mj),Ve(po))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),U0e=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:D3,useClass:L0e}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:T3,useValue:e.cookieName}:[],e.headerName?{provide:P3,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:[D3,{provide:kj,useExisting:D3,multi:!0},{provide:Rj,useClass:V0e},{provide:T3,useValue:"XSRF-TOKEN"},{provide:P3,useValue:"X-XSRF-TOKEN"}]}),t})(),z0e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:[Aj,{provide:Cj,useClass:H0e},Nj,{provide:Mj,useExisting:Nj}],imports:[[U0e.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();let Y0e=(()=>{class t{constructor(e){this.pouchdbService=e}set redirectTo(e){}get username(){}get group(){}init(){var e=this;return Y(function*(){e.pouchdbService.init("bmdlFeatureModeler"),0===(yield e.pouchdbService.getDatabaseInfo()).doc_count&&(console.log("No docs detected. Adding default data."),yield e.pouchdbService.addDefaultData())})()}isLoggedIn(){return!0}login(){return Mn()}logout(){return Mn()}changePassword(){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)(Ve(rs))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),X0e=(()=>{class t{constructor(e){if(e)throw new Error("DatabaseModule is already loaded. Import it in the AppModule only.")}}return t.\u0275fac=function(e){return new(e||t)(Ve(t,12))},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:[Po,xj,rs,{provide:xc,useClass:Y0e},{provide:kl,useFactory:n=>()=>n.init(),deps:[xc],multi:!0}],imports:[[z0e]]}),t})();const J0e=new class Q0e extends Bl{}(class K0e extends rx{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}schedule(n,e=0){return e>0?super.schedule(n,e):(this.delay=e,this.state=n,this.scheduler.flush(this),this)}execute(n,e){return e>0||this.closed?super.execute(n,e):this._execute(n,e)}requestAsyncId(n,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(n,e,i):n.flush(this)}});class D0 extends y{constructor(n,e,i=0){super(n),this.scheduler=e,this.delay=i}static dispatch(n){const{notification:e,destination:i}=n;e.observe(i),this.unsubscribe()}scheduleMessage(n){this.destination.add(this.scheduler.schedule(D0.dispatch,this.delay,new ewe(n,this.destination)))}_next(n){this.scheduleMessage(Gs.createNext(n))}_error(n){this.scheduleMessage(Gs.createError(n)),this.unsubscribe()}_complete(){this.scheduleMessage(Gs.createComplete()),this.unsubscribe()}}class ewe{constructor(n,e){this.notification=n,this.destination=e}}class Oj extends Oe{constructor(n=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const e=this._events;e.push(n),e.length>this._bufferSize&&e.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new twe(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,r=i.length;let s;if(this.closed)throw new Ae;if(this.isStopped||this.hasError?s=C.EMPTY:(this.observers.push(n),s=new Ge(this,n)),o&&n.add(n=new D0(n,o)),e)for(let a=0;a<r&&!n.closed;a++)n.next(i[a]);else for(let a=0;a<r&&!n.closed;a++)n.next(i[a].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),s}_getNow(){return(this.scheduler||J0e).now()}_trimBufferThenGetEvents(){const n=this._getNow(),e=this._bufferSize,i=this._windowTime,o=this._events,r=o.length;let s=0;for(;s<r&&!(n-o[s].time<i);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&o.splice(0,s),o}}class twe{constructor(n,e){this.time=n,this.value=e}}function awe(t,n){1&t&&re(0,"div",2)}function lwe(t,n){1&t&&re(0,"pre",2)}function cwe(t,n){if(1&t&&(St(0),k(1,awe,1,0,"div",1),k(2,lwe,1,0,"pre",1),Et()),2&t){const e=T();p(1),v("ngIf",!e.preserve),p(1),v("ngIf",e.preserve)}}function uwe(t,n){1&t&&re(0,"div",2)}function dwe(t,n){1&t&&re(0,"pre",2)}function pwe(t,n){if(1&t&&(St(0),k(1,uwe,1,0,"div",1),k(2,dwe,1,0,"pre",1),Et()),2&t){const e=T();p(1),v("ngIf",!e.preserve),p(1),v("ngIf",e.preserve)}}const mwe=[[["","quill-editor-toolbar",""]]],fwe=["[quill-editor-toolbar]"];function hwe(t,n){1&t&&re(0,"div",1)}function gwe(t,n){1&t&&re(0,"pre",1)}const A3={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},D_=(t,n)=>t||n||"html",Gj=new kn("config",{providedIn:"root",factory:()=>({modules:A3})});let I3=(()=>{class t{constructor(e,i){this.config=i,this.quill$=p0(()=>function owe(t,n,e,i){return new(e||(e=Promise))(function(r,s){function a(h){try{d(i.next(h))}catch(w){s(w)}}function l(h){try{d(i.throw(h))}catch(w){s(w)}}function d(h){h.done?r(h.value):function o(r){return r instanceof e?r:new e(function(s){s(r)})}(h.value).then(a,l)}d((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){var o,r;if(!this.Quill){const s=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const a=yield E.e(971).then(E.t.bind(E,9971,19));this.document.addEventListener=s,this.Quill=a.default?a.default:a}return null===(o=this.config.customOptions)||void 0===o||o.forEach(s=>{const a=this.Quill.import(s.import);a.whitelist=s.whitelist,this.Quill.register(a,!0,this.config.suppressGlobalRegisterWarning)}),null===(r=this.config.customModules)||void 0===r||r.forEach(({implementation:s,path:a})=>{this.Quill.register(a,s,this.config.suppressGlobalRegisterWarning)}),this.Quill})).pipe(function nwe(t,n,e){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:n,refCount:!1,scheduler:e},o=>o.lift(function iwe({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let o,s,r=0,a=!1,l=!1;return function(h){let w;r++,!o||a?(a=!1,o=new Oj(t,n,i),w=o.subscribe(this),s=h.subscribe({next(P){o.next(P)},error(P){a=!0,o.error(P)},complete(){l=!0,s=void 0,o.complete()}}),l&&(s=void 0)):w=o.subscribe(this),this.add(()=>{r--,w.unsubscribe(),w=void 0,s&&!l&&e&&0===r&&(s.unsubscribe(),s=void 0,o=void 0)})}}(i))}({bufferSize:1,refCount:!0})),this.document=e.get(io),this.config||(this.config={modules:A3})}getQuill(){return this.quill$}}return t.\u0275fac=function(e){return new(e||t)(Ve(po),Ve(Gj,8))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_we=(()=>{class t{constructor(e,i,o,r,s,a,l,d){this.elementRef=i,this.cd=o,this.domSanitizer=r,this.platformId=s,this.renderer=a,this.zone=l,this.service=d,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new je,this.onEditorChanged=new je,this.onContentChanged=new je,this.onSelectionChanged=new je,this.onFocus=new je,this.onBlur=new je,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(h,w)=>{let P=w.querySelector(".ql-editor").innerHTML;("<p><br></p>"===P||"<div><br></div>"===P)&&(P=this.defaultEmptyValue);let N=P;const L=D_(this.format,this.service.config.format);if("text"===L)N=h.getText();else if("object"===L)N=h.getContents();else if("json"===L)try{N=JSON.stringify(h.getContents())}catch(U){N=h.getText()}return N},this.valueSetter=(h,w)=>{const P=D_(this.format,this.service.config.format);if("html"===P)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(w=this.domSanitizer.sanitize(qi.HTML,w)),h.clipboard.convert(w);if("json"===P)try{return JSON.parse(w)}catch(N){return[{insert:w}]}return w},this.selectionChangeHandler=(h,w,P)=>{const N=!h&&!!this.onModelTouched;!this.onBlur.observers.length&&!this.onFocus.observers.length&&!this.onSelectionChanged.observers.length&&!N||this.zone.run(()=>{null===h?this.onBlur.emit({editor:this.quillEditor,source:P}):null===w&&this.onFocus.emit({editor:this.quillEditor,source:P}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:w,range:h,source:P}),N&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(h,w,P)=>{const N=this.quillEditor.getText(),L=this.quillEditor.getContents();let U=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===U||"<div><br></div>"===U)&&(U=this.defaultEmptyValue);const q=this.trackChanges||this.service.config.trackChanges,Z=("user"===P||q&&"all"===q)&&!!this.onModelChange;!this.onContentChanged.observers.length&&!Z||this.zone.run(()=>{Z&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:L,delta:h,editor:this.quillEditor,html:U,oldDelta:w,source:P,text:N}),this.cd.markForCheck()})},this.editorChangeHandler=(h,w,P,N)=>{if(this.onEditorChanged.observers.length)if("text-change"===h){const L=this.quillEditor.getText(),U=this.quillEditor.getContents();let q=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===q||"<div><br></div>"===q)&&(q=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:U,delta:w,editor:this.quillEditor,event:h,html:q,oldDelta:P,source:N,text:L}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:h,oldRange:P,range:w,source:N}),this.cd.markForCheck()})},this.document=e.get(io)}static normalizeClassNames(e){return e.trim().split(" ").reduce((o,r)=>{const s=r.trim();return s&&o.push(s),o},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){JD(this.platformId)||(this.quillSubscription=this.service.getQuill().subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),o=Object.assign({},this.modules||this.service.config.modules);i?o.toolbar=i:void 0===o.toolbar&&(o.toolbar=A3.toolbar);let r=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===r&&(r="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(P=>{this.renderer.setStyle(this.editorElem,P,this.styles[P])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(P=>{const N=e.import(P.import);N.whitelist=P.whitelist,e.register(N,!0)}),this.customModules.forEach(({implementation:P,path:N})=>{e.register(N,P)});let s=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;s||(s=this.service.config.bounds?this.service.config.bounds:this.document.body);let a=this.debug;!a&&!1!==a&&this.service.config.debug&&(a=this.service.config.debug);let l=this.readOnly;!l&&!1!==this.readOnly&&(l=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let d=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(d=this.service.config.defaultEmptyValue);let h=this.scrollingContainer;!h&&null!==this.scrollingContainer&&(h=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let w=this.formats;if(!w&&void 0===w&&(w=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var P,N,L;if(this.quillEditor=new e(this.editorElem,{bounds:s,debug:a,formats:w,modules:o,placeholder:r,readOnly:l,defaultEmptyValue:d,scrollingContainer:h,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const U=null===(N=null===(P=this.quillEditor)||void 0===P?void 0:P.theme)||void 0===N?void 0:N.tooltip,q=null===(L=null==U?void 0:U.root)||void 0===L?void 0:L.querySelector("input[data-link]");(null==q?void 0:q.dataset)&&(q.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===D_(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const N=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(N,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observers.length||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){var e;this.dispose(),null===(e=this.quillSubscription)||void 0===e||e.unsubscribe(),this.quillSubscription=null}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=e.defaultEmptyValue.currentValue),e.styles){const i=e.styles.currentValue,o=e.styles.previousValue;o&&Object.keys(o).forEach(r=>{this.renderer.removeStyle(this.editorElem,r)}),i&&Object.keys(i).forEach(r=>{this.renderer.setStyle(this.editorElem,r,this.styles[r])})}if(e.classes){const i=e.classes.currentValue,o=e.classes.previousValue;o&&this.removeClasses(o),i&&this.addClasses(i)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){t.normalizeClassNames(e).forEach(i=>{this.renderer.addClass(this.editorElem,i)})}removeClasses(e){t.normalizeClassNames(e).forEach(i=>{this.renderer.removeClass(this.editorElem,i)})}writeValue(e){if(this.filterNull&&null===e||(this.content=e,!this.quillEditor))return;const i=D_(this.format,this.service.config.format),o=this.valueSetter(this.quillEditor,e);if(this.compareValues){const r=this.quillEditor.getContents();if(JSON.stringify(r)===JSON.stringify(o))return}e?"text"===i?this.quillEditor.setText(e):this.quillEditor.setContents(o):this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;const e={};let i=!0;const o=this.quillEditor.getText(),r=this.trimOnValidation?o.trim().length:1===o.length&&0===o.trim().length?0:o.length-1,s=this.quillEditor.getContents().ops,a=s&&1===s.length&&["\n",""].includes(s[0].insert);return this.minLength&&r&&r<this.minLength&&(e.minLengthError={given:r,minLength:this.minLength},i=!1),this.maxLength&&r>this.maxLength&&(e.maxLengthError={given:r,maxLength:this.maxLength},i=!1),this.required&&!r&&a&&(e.requiredError={empty:!0},i=!1),i?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new C,this.subscription.add(sr(this.quillEditor,"selection-change").subscribe(([o,r,s])=>{this.selectionChangeHandler(o,r,s)}));let e=sr(this.quillEditor,"text-change"),i=sr(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(e=e.pipe($i(this.debounceTime)),i=i.pipe($i(this.debounceTime))),this.subscription.add(e.subscribe(([o,r,s])=>{this.textChangeHandler(o,r,s)})),this.subscription.add(i.subscribe(([o,r,s,a])=>{this.editorChangeHandler(o,r,s,a)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return t.\u0275fac=function(e){return new(e||t)(H(po),H(Di),H(is),H(dv),H(cd),H(Dr),H(Fi),H(I3))},t.\u0275dir=Qt({type:t,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[Xt]}),t})(),Vj=(()=>{class t extends _we{constructor(e,i,o,r,s,a,l,d){super(e,i,o,r,s,a,l,d)}}return t.\u0275fac=function(e){return new(e||t)(H(po),H(Di),H(is),H(dv),H(cd),H(Dr),H(Fi),H(I3))},t.\u0275cmp=He({type:t,selectors:[["quill-editor"]],features:[Tt([{multi:!0,provide:Ms,useExisting:Nn(()=>t)},{multi:!0,provide:$r,useExisting:Nn(()=>t)}]),mi],ngContentSelectors:fwe,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(e,i){1&e&&(Dl(mwe),k(0,cwe,3,2,"ng-container",0),Fs(1),k(2,pwe,3,2,"ng-container",0)),2&e&&(v("ngIf","top"!==i.toolbarPosition),p(2),v("ngIf","top"===i.toolbarPosition))},directives:[nt],styles:[":host{display:inline-block}\n"],encapsulation:2}),t})(),k3=(()=>{class t{constructor(e,i,o,r,s,a){this.elementRef=e,this.renderer=i,this.zone=o,this.service=r,this.domSanitizer=s,this.platformId=a,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new je,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(l,d)=>{const h=D_(this.format,this.service.config.format);let w=d;if("text"===h)l.setText(w);else{if("html"===h)([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(d=this.domSanitizer.sanitize(qi.HTML,d)),w=l.clipboard.convert(d);else if("json"===h)try{w=JSON.parse(d)}catch(P){w=[{insert:d}]}l.setContents(w)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(e){!this.quillEditor||e.content&&this.valueSetter(this.quillEditor,e.content.currentValue)}ngAfterViewInit(){JD(this.platformId)||(this.quillSubscription=this.service.getQuill().subscribe(e=>{const i=Object.assign({},this.modules||this.service.config.modules);i.toolbar=!1,this.customOptions.forEach(a=>{const l=e.import(a.import);l.whitelist=a.whitelist,e.register(l,!0)}),this.customModules.forEach(({implementation:a,path:l})=>{e.register(l,a)});let o=this.debug;!o&&!1!==o&&this.service.config.debug&&(o=this.service.config.debug);let r=this.formats;!r&&void 0===r&&(r=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const s=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new e(this.editorElem,{debug:o,formats:r,modules:i,readOnly:!0,strict:this.strict,theme:s})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){var e;null===(e=this.quillSubscription)||void 0===e||e.unsubscribe(),this.quillSubscription=null}}return t.\u0275fac=function(e){return new(e||t)(H(Di),H(Dr),H(Fi),H(I3),H(dv),H(cd))},t.\u0275cmp=He({type:t,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},features:[Xt],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(e,i){1&e&&(k(0,hwe,1,0,"div",0),k(1,gwe,1,0,"pre",0)),2&e&&(v("ngIf",!i.preserve),p(1),v("ngIf",i.preserve))},directives:[nt],styles:[".ql-container.ngx-quill-view{border:0}\n"],encapsulation:2}),t})(),N3=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:Gj,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr]]}),t})(),Hj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr,af,N3,ZE]]}),t})(),A0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[Rr,Hj,e3,af,ml],Rr,e3,af,Hj]}),t})();const Vs=new kn("Element service");let Go=(()=>{class t{constructor(e){this.elementService=e,this._reloading=!1,this.load()}get elements(){return this._elements}get loading(){return null==this.elements}get reloading(){return this._reloading}get noResults(){return null!=this.elements&&0===this.elements.length}add(e){var i=this;return Y(function*(){i._reloading=!0,yield i.elementService.add(e),yield i.load()})()}delete(e){var i=this;return Y(function*(){if(null==i._elements)return;i._reloading=!0;const o=i._elements;yield i.elementService.delete(e),o===i._elements&&(i._elements=i._elements.filter(r=>r._id!==e)),yield i.load()})()}load(){var e=this;return Y(function*(){e._reloading=!0,e._elements=yield e.elementService.getList(),e._reloading=!1})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Vs))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const vwe=[[["","modalTitle",""]],"*"],bwe=["[modalTitle]","*"];let cr=(()=>{class t{constructor(){this.delete=new je,this.dismiss=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-delete-modal"]],outputs:{delete:"delete",dismiss:"dismiss"},ngContentSelectors:bwe,decls:16,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"sr-only"],[1,"modal-body"],[1,"alert","alert-warning"],[1,"modal-footer","d-flex"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger","ml-auto",3,"click"]],template:function(e,i){1&e&&(Dl(vwe),c(0,"div",0)(1,"h4",1),Fs(2),u(),c(3,"button",2),z("click",function(){return i.dismiss.emit()}),c(4,"span",3),g(5,"\xd7"),u(),c(6,"span",4),g(7,"Close Window"),u()()(),c(8,"div",5)(9,"div",6),Fs(10,1),u()(),c(11,"div",7)(12,"button",8),z("click",function(){return i.dismiss.emit()}),g(13," Abort deletion "),u(),c(14,"button",9),z("click",function(){return i.delete.emit()}),g(15," Delete anyway "),u()())},styles:[""]}),t})();const _f=new kn("Search function");function F_(t,n){return n.name.toLowerCase().includes(t)}let vf=(()=>{class t{constructor(e,i){this.fb=e,this.searchFunction=i,this.searchForm=this.fb.group({search:[""]}),this.searchSubscription=this.searchForm.get("search").valueChanges.pipe($i(300)).subscribe(o=>this.search(o))}set items(e){this._items=e,this.search(this.searchForm.value.search)}get filteredResults(){return this._filteredResults}search(e){var i;null!=e?(e=e.toLowerCase(),this._filteredResults=null===(i=this._items)||void 0===i?void 0:i.filter(o=>this.searchFunction(e,o))):this._filteredResults=this._items}ngOnDestroy(){this.searchSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt),Ve(_f))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function ywe(t,n){1&t&&(c(0,"div",5)(1,"span",6),g(2,"Loading..."),u()())}function wwe(t,n){1&t&&(c(0,"div")(1,"div",7)(2,"div",8)(3,"span",6),g(4,"Loading..."),u()()()())}function xwe(t,n){1&t&&(c(0,"div"),Fs(1),u())}function Cwe(t,n){1&t&&(c(0,"form",10)(1,"label",11),g(2,"Search"),u(),re(3,"input",12),u()),2&t&&v("formGroup",T(2).searchForm)}function Mwe(t,n){if(1&t&&(c(0,"div"),k(1,Cwe,4,1,"form",9),Fs(2,1),u()),2&t){const e=T();p(1),v("ngIf",null!=e.searchForm)}}const Swe=[[["","noResults",""]],[["","results",""]]],Ewe=["[noResults]","[results]"];let Ss=(()=>{class t{constructor(e){this.searchService=e,this.loading=!1,this.reloading=!1,this.noResults=!1}get searchForm(){var e;return null===(e=this.searchService)||void 0===e?void 0:e.searchForm}}return t.\u0275fac=function(e){return new(e||t)(H(vf,8))},t.\u0275cmp=He({type:t,selectors:[["app-list-wrapper"]],inputs:{listTitle:"listTitle",loading:"loading",reloading:"reloading",noResults:"noResults"},ngContentSelectors:Ewe,decls:8,vars:5,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"d-flex","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],["class","spinner-border spinner-border-sm ml-auto","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","ml-auto"],[1,"sr-only"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],["class","form-inline",3,"formGroup",4,"ngIf"],[1,"form-inline",3,"formGroup"],["for","search",1,"sr-only"],["formControlName","search","type","text","id","search","placeholder","Search",1,"form-control","mb-2","mr-sm-2"]],template:function(e,i){1&e&&(Dl(Swe),c(0,"div",0)(1,"div",1)(2,"h6",2),g(3),u(),k(4,ywe,3,0,"div",3),u(),k(5,wwe,5,0,"div",4),k(6,xwe,2,0,"div",4),k(7,Mwe,3,1,"div",4),u()),2&e&&(p(3),_t(i.listTitle),p(1),v("ngIf",!i.loading&&i.reloading),p(1),v("ngIf",i.loading),p(1),v("ngIf",!i.loading&&i.noResults),p(1),v("ngIf",!i.loading&&!i.noResults))},directives:[nt,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();var yo=(()=>(function(t){t.WRONG_TYPE="Process must be in context change mode",t.METHOD_ERROR="Method not correctly defined",t.PROCESS_INCOMPLETE="Process is incomplete",t.ARTIFACT_ALREADY_MAPPED="Artifact already has a mapping to an execution",t.NOT_EXECUTABLE="The selected node is not executable"}(yo||(yo={})),yo))();let A_=(()=>{class t extends to{constructor(e,i,o,r,s,a,l,d,h,w,P){super(e,i,l,d,h,P),this.bmProcessDiagramModelerService=o,this.bmProcessDiagramService=r,this.bmProcessService=s,this.developmentMethodService=a,this.processPatternService=w}getList(){var e=this;return Y(function*(){return e.pouchdbService.find(e.typeName,{selector:{contextChange:!0}})})()}saveBmProcessDiagram(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e);if(!s.isContextChange())throw new Error(yo.WRONG_TYPE);s.process.processDiagram=i,null!=o&&(s.process.updateDecisions(o),s.runningMethods=s.runningMethods.filter(a=>null==a.nodeId||a.nodeId in o)),yield r.save(s)}finally{r.freeWrite(e)}})()}updateDomains(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(!r.isContextChange())throw new Error(yo.WRONG_TYPE);r.process.domains=i,yield o.save(r)}finally{o.freeWrite(e)}})()}updateSituationalFactors(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(!r.isContextChange())throw new Error(yo.WRONG_TYPE);r.process.situationalFactors=i.map(s=>new fo(void 0,s,Fr)),yield o.save(r)}finally{o.freeWrite(e)}})()}appendProcessPattern(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e);if(!s.isContextChange())throw new Error(yo.WRONG_TYPE);const a=yield r.processPatternService.get(i);if(!(yield r.processPatternService.isCorrectlyDefined(a)))throw new Error("Process Pattern is not correctly defined");yield r.bmProcessDiagramService.appendProcessPattern(s.process,a,o),yield r.save(s)}finally{r.freeWrite(e)}})()}insertProcessPattern(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e);if(!s.isContextChange())throw new Error(yo.WRONG_TYPE);const a=yield r.processPatternService.get(i);if(!(yield r.processPatternService.isCorrectlyDefined(a)))throw new Error("Process Pattern is not correctly defined");s.process.removeDecision(o),yield r.bmProcessDiagramService.insertProcessPattern(s.process,a,o),yield r.save(s)}finally{r.freeWrite(e)}})()}removeProcessPattern(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(!r.isContextChange())throw new Error(yo.WRONG_TYPE);const s=yield o.bmProcessDiagramService.removeProcessPattern(r.process,i);for(const a of s)yield o.removeDecision(r,a.nodeId,a.decision);yield o.save(r)}finally{o.freeWrite(e)}})()}insertDevelopmentMethod(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e);if(!s.isContextChange())throw new Error(yo.WRONG_TYPE);const a=yield r.developmentMethodService.get(o);if(!r.developmentMethodService.isCorrectlyDefined(a))throw new Error("Method not correctly defined");s.process.addDecision(i,a),yield r.bmProcessDiagramService.insertDevelopmentMethod(s.process,i,a),yield r.save(s)}finally{r.freeWrite(e)}})()}insertDecision(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e);if(!s.isContextChange())throw new Error(yo.WRONG_TYPE);const a=s.contextChangeInfo.getRemovedMethod(o);s.process.decisions[i]=a.decision,yield r.bmProcessDiagramService.insertDevelopmentMethod(s.process,i,a.decision.method),a.executions.forEach(l=>{const d=s.getExecutedMethod(l);null!=d&&(d.nodeId=i,s.getArtifactsOfExecutedMethod(l).forEach(h=>h.versions.forEach(w=>w.createdBy=i)))}),a.executions.length>0&&(yield r.processExecutionService.fakeExecuteMethod(s,i)),s.contextChangeInfo.removeRemovedMethod(o),yield r.save(s)}finally{r.freeWrite(e)}})()}removeDevelopmentMethod(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(!r.isContextChange())throw new Error(yo.WRONG_TYPE);const s=r.process.decisions[i];r.process.removeDecision(i),yield o.bmProcessDiagramService.removeDevelopmentMethod(r.process,i),yield o.removeDecision(r,i,s),yield o.processExecutionService.removeExecutedMethod(r,i),yield o.save(r)}finally{o.freeWrite(e)}})()}removeDecision(e,i,o){var r=this;return Y(function*(){for(let l=e.getRunningMethodByNode(i);null!=l;l=e.getRunningMethodByNode(i))yield r.methodExecutionService.abortMethodExecution(e,l.executionId);const s=e.getExecutionsByNodeId(i);e.contextChangeInfo.addRemovedMethod(new hx(void 0,{executions:s.map(l=>l.executionId),decision:o})),s.forEach(l=>l.nodeId=void 0),e.getArtifactsCreatedByNode(i).forEach(l=>l.versions.forEach(d=>d.createdBy="manual"))})()}removeRemovedMethod(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(!r.isContextChange())throw new Error(yo.WRONG_TYPE);r.contextChangeInfo.removeRemovedMethod(i),yield o.save(r)}finally{o.freeWrite(e)}})()}removeExecutedMethod(e,i){var o=this;return Y(function*(){var r;try{const s=yield o.getWrite(e);if(!s.isContextChange())throw new Error(yo.WRONG_TYPE);const a=null===(r=s.getExecutedMethod(i))||void 0===r?void 0:r.nodeId;s.removeExecutedMethod(i),null!=a&&0===s.getExecutionsByNodeId(a).length&&(yield o.processExecutionService.removeExecutedMethod(s,a)),yield o.save(s)}finally{o.freeWrite(e)}})()}fakeMethodExecution(e,i,o){var r=this;return Y(function*(){try{const s=yield r.getWrite(e);if(!s.isContextChange())throw new Error(yo.WRONG_TYPE);yield r.processExecutionService.fakeExecuteMethod(s,i);const a=md();s.addExecutedMethod({methodName:s.process.decisions[i].method.name,executionId:a,nodeId:i,comments:[]}),o.forEach(l=>{const d=s.artifacts[l.artifact].versions[l.version];if(null!=d.executedBy)throw new Error(yo.ARTIFACT_ALREADY_MAPPED);d.executedBy=a,d.createdBy=i}),yield r.save(s)}finally{r.freeWrite(e)}})()}resetExecutionToPosition(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(!r.isContextChange())throw new Error(yo.WRONG_TYPE);yield o.processExecutionService.setExecution(r,i),yield o.save(r)}finally{o.freeWrite(e)}})()}skipExecution(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(!r.isContextChange())throw new Error(yo.WRONG_TYPE);if(!(yield o.processExecutionService.canExecuteNode(r,i)))throw new Error(yo.NOT_EXECUTABLE);yield o.processExecutionService.moveToNextMethod(r,i),yield o.processExecutionService.jumpToNextMethod(r),0===r.getExecutionsByNodeId(i).length&&(yield o.processExecutionService.removeExecutedMethod(r,i)),yield o.save(r)}finally{o.freeWrite(e)}})()}checkExecution(e){var i=this;return Y(function*(){const o=yield i.get(e);if(!o.isContextChange())throw new Error(yo.WRONG_TYPE);const r=yield i.processExecutionService.getExecutableNodes(o),s=yield i.bmProcessDiagramModelerService.initModeling(o.process),l=new wA(s,o.process.decisions).checkArtifacts(new Set(r.map(d=>d.id)),o.artifacts.map(d=>d.artifact));return i.bmProcessDiagramModelerService.abortModeling(s),l.filter(d=>TC(d.node)||PC(d.node)||CC(d.node))})()}updateStep(e,i){var o=this;return Y(function*(){try{const r=yield o.getWrite(e);if(!r.isContextChange())return;r.contextChangeInfo.step=i,yield o.save(r)}finally{o.freeWrite(e)}})()}finishContextChange(e){var i=this;return Y(function*(){try{let o=yield i.getWrite(e);if(!o.isContextChange())throw new Error(yo.WRONG_TYPE);if(!i.bmProcessService.isComplete(o.process))throw new Error(yo.PROCESS_INCOMPLETE);o.previousContextChanges.push(o.contextChangeInfo),o=o,o.contextChange=!1,o.contextChangeInfo=void 0,yield i.save(o)}finally{i.freeWrite(e)}})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(T0),Ve(oc),Ve(dE),Ve(pE),Ve(Na),Ve(dl),Ve(_j),Ve(rs),Ve(vj),Ve(Ou),Ve(oi))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),dp=(()=>{class t{transform(e){return null!=e.process?e.process.name+" \u2013 "+e.name:e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Tr({name:"runningProcessName",type:t,pure:!0}),t})();const Twe=function(t){return["/","bmprocess","contextchange",t]};function Pwe(t,n){if(1&t&&(c(0,"div")(1,"a",6),g(2,"View"),u()()),2&t){const e=T().$implicit;p(1),v("routerLink",Fn(1,Twe,e._id))}}function Dwe(t,n){if(1&t&&(c(0,"li",4)(1,"div")(2,"span"),g(3),ci(4,"runningProcessName"),u()(),k(5,Pwe,3,3,"div",5),u()),2&t){const e=n.$implicit,i=T();p(3),_t(Io(4,2,e)),p(2),v("ngIf",i.editable)}}let Uj=(()=>{class t{constructor(e){this.listService=e,this.editable=!1}get runningProcessesList(){return this.listService.elements}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(Go))},t.\u0275cmp=He({type:t,selectors:[["app-running-processes-context-list"]],inputs:{editable:"editable"},features:[Tt([Go,{provide:Vs,useExisting:A_}])],decls:5,vars:4,consts:[["listTitle","Running Methods that require a context change",3,"reloading","loading","noResults"],["noResults",""],["results","",1,"list-group"],["class","\n        d-flex\n        list-group-item\n        justify-content-between\n        align-items-baseline\n      ",4,"ngFor","ngForOf"],[1,"d-flex","list-group-item","justify-content-between","align-items-baseline"],[4,"ngIf"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"routerLink"]],template:function(e,i){1&e&&(c(0,"app-list-wrapper",0)(1,"div",1),g(2," There are no running methods that require a context change. "),u(),c(3,"ul",2),k(4,Dwe,6,4,"li",3),u()()),2&e&&(v("reloading",i.reloading)("loading",i.loading)("noResults",i.noResults),p(4),v("ngForOf",i.runningProcessesList))},directives:[Ss,Lt,nt,gn],pipes:[dp],styles:[""]}),t})();const Fwe=["deleteBmProcessModal"];function Awe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",23),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteBmProcess(r.modalBmProcess._id),o()}),c(1,"div",24),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be(" Delete Business Model Development Method ",e.modalBmProcess.name," "),p(1),Be(" You are deleting the business model development method ",e.modalBmProcess.name,". This can not be undone. This action has no effect on running methods. ")}}function Iwe(t,n){1&t&&k(0,Awe,4,2,"app-delete-modal",22),2&t&&v("ngIf",null!=T().modalBmProcess)}const zj=function(t){return["bmprocessview",t]};function kwe(t,n){if(1&t&&(c(0,"a",25),g(1),u()),2&t){const e=n.$implicit;v("routerLink",Fn(2,zj,e._id)),p(1),_t(e.name)}}function Nwe(t,n){if(1&t){const e=ye();c(0,"li",26)(1,"div")(2,"span"),g(3),u()(),c(4,"div")(5,"a",27),g(6,"View"),u(),c(7,"button",28),z("click",function(){const r=W(e).$implicit;return T().openDeleteBmProcessModal(r)}),g(8," Delete "),u()()()}if(2&t){const e=n.$implicit;p(3),_t(e.name),p(2),v("routerLink",Fn(2,zj,e._id))}}const Rwe=function(){return[]};let Owe=(()=>{class t{constructor(e,i,o,r){this.bmProcessDiagramService=e,this.fb=i,this.listService=o,this.modalService=r,this.bmProcessForm=this.fb.group({name:this.fb.control("",ft.required)})}openDeleteBmProcessModal(e){this.modalBmProcess=e,this.modalReference=this.modalService.open(this.deleteBmProcessModal,{size:"lg"})}deleteBmProcess(e){var i=this;return Y(function*(){yield i.listService.delete(e)})()}addBmProcess(e){var i=this;return Y(function*(){yield i.listService.add({name:e.value.name,processDiagram:yield i.bmProcessDiagramService.getEmptyBmProcessDiagram()}),i.bmProcessForm.reset()})()}get bmProcessesList(){return this.listService.elements}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(pE),H(zt),H(Go),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-bm-processes"]],viewQuery:function(e,i){if(1&e&&Ft(Fwe,7),2&e){let o;bt(o=yt())&&(i.deleteBmProcessModal=o.first)}},features:[Tt([Go,{provide:Vs,useExisting:Na}])],decls:30,vars:10,consts:[["deleteBmProcessModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngFor","ngForOf"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Business Model Development Methods",3,"loading","reloading","noResults"],["noResults",""],["results","",1,"list-group"],["class","\n          d-flex\n          list-group-item\n          justify-content-between\n          align-items-baseline\n        ",4,"ngFor","ngForOf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"editable"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],[1,"nav-link",3,"routerLink"],[1,"d-flex","list-group-item","justify-content-between","align-items-baseline"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"routerLink"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"]],template:function(e,i){1&e&&(k(0,Iwe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Business Model Development Methods"),u(),k(6,kwe,2,4,"a",4),u()(),c(7,"main",5)(8,"div",6),g(9," Create Business Model Development Methods from Method Patterns and Method Building Blocks. "),u(),c(10,"app-list-wrapper",7)(11,"div",8),g(12,"No Business Model Development Methods defined."),u(),c(13,"ul",9),k(14,Nwe,9,4,"li",10),u()(),c(15,"div",11)(16,"h6",12),g(17," Add Business Model Development Method "),u(),c(18,"div",13)(19,"form",14),z("ngSubmit",function(){return i.addBmProcess(i.bmProcessForm)}),c(20,"div",15)(21,"label",16),g(22,"Business Model Development Method Name"),u(),c(23,"div",17),re(24,"input",18),u()(),c(25,"div",15)(26,"div",19)(27,"button",20),g(28," Add Business Model Development Method "),u()()()()()(),re(29,"app-running-processes-context-list",21),u()),2&e&&(p(4),v("routerLink",Bt(9,Rwe)),p(2),v("ngForOf",i.bmProcessesList),p(4),v("loading",i.loading)("reloading",i.reloading)("noResults",i.noResults),p(4),v("ngForOf",i.bmProcessesList),p(5),v("formGroup",i.bmProcessForm),p(8),v("disabled",!i.bmProcessForm.valid),p(2),v("editable",!0))},directives:[nt,cr,gn,Lt,Ss,nn,Wt,Vt,wn,Jt,Zt,Uj],styles:[""]}),t})(),Bwe=(()=>{class t{constructor(e,i){this.eventBus=i,e.registerProvider(this)}getContextPadEntries(e){const i={};return((0,te.is)(e,"bpmn:SubProcess")&&(0,te.is)(e.parent,"bpmn:SubProcess")||(0,te.is)(e,"bpmn:Task")||(0,te.is)(e,"bpmn:CallActivity"))&&(i["bmp.showTypes"]={group:"info",className:"fas fa-list font-bpmn-adaption",title:"Show types",action:{click:()=>this.eventBus.fire("bmp.showTypes",e)}}),(0,te.is)(e,"bpmn:SubProcess")&&(i["bmp.showPattern"]={group:"info",className:"fas fa-info-circle font-bpmn-adaption",title:"Show Method Pattern details",action:{click:()=>this.eventBus.fire("bmp.showPattern",e)}},i["bmp.deletePattern"]={group:"edit",className:"far fa-trash-alt font-bpmn-adaption",title:"Delete Method Pattern",action:{click:()=>this.eventBus.fire("bmp.deletePattern",e)}}),((0,te.is)(e,"bpmn:StartEvent")||(0,te.is)(e,"bpmn:SubProcess"))&&0===e.businessObject.get("outgoing").length&&(i["bmp.processPatterns"]={group:"edit",className:"far fa-plus-square font-bpmn-adaption",title:"Add Method Pattern",action:{click:()=>this.eventBus.fire("bmp.processPatterns",e)}}),((0,te.is)(e,"bpmn:Task")||(0,te.is)(e,"bpmn:CallActivity"))&&(i["bmp.selectMethod"]={group:"edit",className:"fas fa-database font-bpmn-adaption",title:"Select Method Building Block",action:{click:()=>this.eventBus.fire("bmp.selectMethod",e)}},e.businessObject.method&&(i["bmp.showMethod"]={group:"edit",className:"fas fa-clipboard-list font-bpmn-adaption",title:"Edit Method Building Block details",action:{click:()=>this.eventBus.fire("bmp.showMethod",e)}},i["bmp.summary"]={group:"info",className:"fas fa-clipboard-check font-bpmn-adaption",title:"Show Method Building Block summary",action:{click:()=>this.eventBus.fire("bmp.summary",e)}},i["bmp.removeMethod"]={group:"edit",className:"far fa-trash-alt font-bpmn-adaption",title:"Remove Method Building Block from task",action:{click:()=>this.eventBus.fire("bmp.removeMethod",e)}})),(0,te.is)(e,"bpmn:CallActivity")&&(i["bmp.selectPattern"]={group:"edit",className:"fas fa-sign-in-alt font-bpmn-adaption",title:"Insert Method Pattern",action:{click:()=>this.eventBus.fire("bmp.selectPattern",e)}}),i}}return t.$inject=["contextPad","eventBus"],t})(),Lwe=(()=>{class t{constructor(e){this.eventBus=e,this.init()}init(){this.eventBus.on("element.dblclick",t.PRIORITY,()=>!1)}}return t.PRIORITY=1500,t.$inject=["eventBus"],t})();const Gwe={__depends__:[Ib,vb,tE,rE],__init__:["bmProcessLabelEditing","bmProcessRuleProvider","contextPadProvider","dropOnFlowBehavior","paletteProvider","taskRenderer"],bmProcessLabelEditing:["type",Lwe],bmProcessRuleProvider:["type",(()=>{class t extends Nc{init(){this.addRule("connection.reconnect",e=>{if(e.connection.businessObject.sourceRef!==e.source.businessObject||e.connection.businessObject.targetRef!==e.target.businessObject)return!1}),this.addRule("elements.move",e=>{if(e.shapes.length>0){const i=e.shapes[0];if(e.target&&e.target!==i.parent)return!1}})}addRule(e,i){super.addRule(e,t.PRIORITY,i)}}return t.PRIORITY=1500,t})()],contextPadProvider:["type",Bwe],dropOnFlowBehavior:["value",null],paletteProvider:["type",class jwe extends Kg{getPaletteEntries(n){const e=super.getPaletteEntries(n);return{"hand-tool":e["hand-tool"],"space-tool":e["space-tool"],"lasso-tool":e["lasso-tool"]}}}],taskRenderer:["type",(()=>{class t extends ol{constructor(e,i,o){super(e,t.HIGH_PRIORITY),this.bpmnRenderer=i,this.textRenderer=o}canRender(e){return(0,te.is)(e,"bpmn:Task")||(0,te.is)(e,"bpmn:CallActivity")}drawShape(e,i){const o=this.bpmnRenderer.drawShape(e,i),r=i.businessObject.get("method");if(r)if(To(LA(e,"text")),Cn(e,this.textRenderer.createText(r.name,{box:i,align:"center-middle",padding:5})),null!=this.process&&null!=this.bmProcessService&&i.id in this.process.decisions){const a=this.process.decisions[i.id];this.bmProcessService.checkDecisionStepArtifacts(a)?a.isComplete()?At(o,{stroke:"green",rx:0,ry:0}):At(o,{stroke:"gray",rx:2,ry:2}):At(o,{stroke:"orange",rx:2,ry:2})}else At(o,{stroke:"green",rx:0,ry:0});else At(o,{stroke:"red"});return o}getShapePath(e){return this.bpmnRenderer.getShapePath(e)}}return t.$inject=["eventBus","bpmnRenderer","textRenderer"],t.HIGH_PRIORITY=1500,t})()]};let R3=(()=>{class t{resizeView(e){const i=yr(e.get("elementRegistry").filter(s=>!(0,te.is)(s,"bpmn:Process"))),o=e.get("canvas"),r=o.viewbox();o.viewbox({x:i.x-160,y:i.y-50,width:r.outer.width,height:r.outer.height})}focusElement(e,i){const o=e.get("elementRegistry").get(i);if(null==o)throw new Error("Element does not exist");const r=o;e.get("selection").select(o);const s=e.get("canvas"),a=s.viewbox();let l=!1;const d=a.width/a.height;a.width<r.width&&(a.width=r.width+600,l=!0),a.height<r.height&&(a.height=r.height+600,l=!0),l&&(a.width<a.height*d?a.width=a.height*d:a.height<1/(d/a.width)&&(a.height=1/(d/a.width))),a.x=r.x-a.width/2+r.width/2,a.y=r.y-a.height/2+r.height/2,s.viewbox(a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),Vwe=(()=>{class t extends R3{getBpmnModeler(){return new xs({additionalModules:[Gwe],moddleExtensions:{bmdl:Ru}})}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Hwe=["canvas"];let qj=(()=>{class t{constructor(e,i){this.bmProcessService=e,this.bmProcessViewerService=i,this.addProcessPattern=new je,this.insertProcessPattern=new je,this.deleteProcessPattern=new je,this.insertDevelopmentMethod=new je,this.removeDevelopmentMethod=new je,this.showTypes=new je,this.showMethodInfo=new je,this.showMethodSummary=new je,this.showProcessPatternInfo=new je,this.modeler=this.bmProcessViewerService.getBpmnModeler()}ngOnInit(){const e=this.modeler.get("eventBus");e.on("bmp.deletePattern",(i,o)=>this.deleteProcessPattern.emit(o)),e.on("bmp.processPatterns",(i,o)=>this.addProcessPattern.emit(o)),e.on("bmp.removeMethod",(i,o)=>this.removeDevelopmentMethod.emit(o)),e.on("bmp.selectMethod",(i,o)=>this.insertDevelopmentMethod.emit(o)),e.on("bmp.selectPattern",(i,o)=>this.insertProcessPattern.emit(o)),e.on("bmp.showTypes",(i,o)=>this.showTypes.emit(o)),e.on("bmp.showMethod",(i,o)=>this.showMethodInfo.emit(o)),e.on("bmp.showPattern",(i,o)=>this.showProcessPatternInfo.emit(o)),e.on("bmp.summary",(i,o)=>this.showMethodSummary.emit(o))}ngOnChanges(e){e.bmProcess&&this.loadBmProcess(e.bmProcess.currentValue,e.bmProcess.firstChange)}ngAfterContentInit(){this.modeler.attachTo(this.canvas.nativeElement)}ngOnDestroy(){this.modeler.destroy()}focus(e){this.bmProcessViewerService.focusElement(this.modeler,e),this.canvas.nativeElement.scrollIntoView({behavior:"smooth"})}loadBmProcess(e,i){var o=this;return Y(function*(){const r=o.modeler.get("taskRenderer");r.process=e,r.bmProcessService=o.bmProcessService,yield o.modeler.importXML(e.processDiagram),i&&o.bmProcessViewerService.resizeView(o.modeler)})()}getDiagramXml(){var e=this;return Y(function*(){return(yield e.modeler.saveXML()).xml})()}diagramChanged(){var e=this;return Y(function*(){return(yield e.modeler.saveXML()).xml!==e.bmProcess.processDiagram})()}}return t.\u0275fac=function(e){return new(e||t)(H(Na),H(Vwe))},t.\u0275cmp=He({type:t,selectors:[["app-bm-process-modeler"]],viewQuery:function(e,i){if(1&e&&Ft(Hwe,7),2&e){let o;bt(o=yt())&&(i.canvas=o.first)}},inputs:{bmProcess:"bmProcess"},outputs:{addProcessPattern:"addProcessPattern",insertProcessPattern:"insertProcessPattern",deleteProcessPattern:"deleteProcessPattern",insertDevelopmentMethod:"insertDevelopmentMethod",removeDevelopmentMethod:"removeDevelopmentMethod",showTypes:"showTypes",showMethodInfo:"showMethodInfo",showMethodSummary:"showMethodSummary",showProcessPatternInfo:"showProcessPatternInfo"},features:[Xt],decls:2,vars:0,consts:[[1,"border",2,"height","500px"],["canvas",""]],template:function(e,i){1&e&&re(0,"div",0,1)},styles:[""]}),t})();function Uwe(t,n){1&t&&re(0,"i",8)}function zwe(t,n){1&t&&re(0,"i",9)}function qwe(t,n){1&t&&re(0,"i",10)}function $we(t,n){if(1&t&&(c(0,"tr")(1,"td"),g(2),u(),c(3,"td"),g(4),u(),c(5,"td"),g(6),u(),c(7,"td"),g(8),u(),c(9,"td",4),k(10,Uwe,1,0,"i",5),k(11,zwe,1,0,"i",6),k(12,qwe,1,0,"i",7),u()()),2&t){const e=n.$implicit;p(2),_t(e.list),p(2),_t(e.name),p(2),_t(e.needed),p(2),_t(e.provided),p(2),v("ngIf",void 0===e.fulfills),p(1),v("ngIf",!1===e.fulfills),p(1),v("ngIf",!0===e.fulfills)}}let I0=(()=>{class t{constructor(e){this.situationalFactorService=e,this.factors=[]}ngOnChanges(e){e.provided&&this.createFactorsMap(),(e.needed||e.provided)&&this.calculateFactors()}calculateFactors(){this.factors=this.needed.map(e=>{const i=this.getProvidedValue(e.factor);let o;return o=i?i===e.value||!!e.factor.ordered&&e.factor.values.indexOf(e.value)<=e.factor.values.indexOf(i):void 0,{list:e.factor.list,name:e.factor.name,needed:e.value,provided:i||"-",fulfills:o}})}createFactorsMap(){this.factorsMap=this.situationalFactorService.createMap(this.provided)}getProvidedValue(e){if(null!=this.factorsMap&&e.list in this.factorsMap){const i=this.factorsMap[e.list][e.name];if(i)return i}}}return t.\u0275fac=function(e){return new(e||t)(H(Hc))},t.\u0275cmp=He({type:t,selectors:[["app-situational-factors-overview"]],inputs:{needed:"needed",provided:"provided"},features:[Xt],decls:14,vars:1,consts:[[1,"table","mb-0"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center"],["class","fas fa-question text-muted",4,"ngIf"],["class","fas fa-times text-danger",4,"ngIf"],["class","fas fa-check text-success",4,"ngIf"],[1,"fas","fa-question","text-muted"],[1,"fas","fa-times","text-danger"],[1,"fas","fa-check","text-success"]],template:function(e,i){1&e&&(c(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),g(4,"List"),u(),c(5,"th",1),g(6,"Situational Factor"),u(),c(7,"th",1),g(8,"Needed Context"),u(),c(9,"th",1),g(10,"Provided by Element"),u(),c(11,"th",2),g(12,"Fulfilled"),u()(),k(13,$we,13,7,"tr",3),u()()),2&e&&(p(13),v("ngForOf",i.factors))},directives:[Lt,nt],styles:[""]}),t})();function Wwe(t,n){if(1&t&&re(0,"app-situational-factors-overview",3),2&t){const e=T();v("provided",e.provided)("needed",e.needed)}}let Ywe=(()=>{class t{constructor(){this.contextSituationalFactors=[],this.selectProcessPattern=new je,this.needed=[],this.provided=[]}ngOnChanges(e){e.contextSituationalFactors&&(this.needed=e.contextSituationalFactors.currentValue.map(o=>o.element)),e.processPattern&&(this.provided=e.processPattern.currentValue.situationalFactors.map(o=>o.element))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-process-pattern-selection-form"]],inputs:{processPattern:"processPattern",contextSituationalFactors:"contextSituationalFactors"},outputs:{selectProcessPattern:"selectProcessPattern"},features:[Xt],decls:8,vars:3,consts:[[1,"d-flex","align-items-baseline"],["type","button",1,"btn","btn-primary","ml-auto","btn-xs",3,"click"],[3,"provided","needed",4,"ngIf"],[3,"provided","needed"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h5"),g(2),u(),c(3,"button",1),z("click",function(){return i.selectProcessPattern.emit(i.processPattern)}),g(4," Select "),u()(),c(5,"p"),g(6),u(),k(7,Wwe,1,2,"app-situational-factors-overview",2)),2&e&&(p(2),_t(i.processPattern.name),p(4),_t(i.processPattern.description),p(1),v("ngIf",i.needed&&i.needed.length>0))},directives:[nt,I0],styles:[""]}),t})();function Xwe(t,n){1&t&&(c(0,"div",6),g(1,"Loading..."),u())}function Kwe(t,n){if(1&t&&(c(0,"div",6),g(1),u()),2&t){const e=T();p(1),Be(" No fitting ",e.itemName,"\n")}}function Qwe(t,n){if(1&t&&(c(0,"div"),g(1),u()),2&t){const e=T();p(1),Xi(" No fitting ",e.itemName," for search ",e.searchForm.value.search,".\n")}}const Jwe=function(t){return{$implicit:t}};function Zwe(t,n){if(1&t&&(c(0,"li",9),za(1,10),u()),2&t){const e=n.$implicit,i=T(2);p(1),v("ngTemplateOutlet",i.content)("ngTemplateOutletContext",Fn(2,Jwe,e))}}function e2e(t,n){if(1&t&&(c(0,"ul",7),k(1,Zwe,2,4,"li",8),u()),2&t){const e=T();p(1),v("ngForOf",e.filteredResults)}}let O3=(()=>{class t{constructor(e){this.searchService=e}ngOnChanges(e){e.items&&(this.searchForm.reset(),this.searchService.items=e.items.currentValue)}get searchForm(){return this.searchService.searchForm}get filteredResults(){return this.searchService.filteredResults}}return t.\u0275fac=function(e){return new(e||t)(H(vf))},t.\u0275cmp=He({type:t,selectors:[["app-search"]],inputs:{heading:"heading",itemName:"itemName",content:"content",items:"items"},features:[Tt([vf]),Xt],decls:10,vars:6,consts:[[1,"form-inline",3,"formGroup"],["for","search",1,"sr-only"],["formControlName","search","type","text","id","search","placeholder","Search",1,"form-control","mb-2","mr-sm-2"],["class","alert alert-info",4,"ngIf"],[4,"ngIf"],["class","list-group shadow-sm",4,"ngIf"],[1,"alert","alert-info"],[1,"list-group","shadow-sm"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(c(0,"form",0)(1,"label",1),g(2,"Search"),u(),re(3,"input",2),u(),c(4,"h5"),g(5),u(),k(6,Xwe,2,0,"div",3),k(7,Kwe,2,1,"div",3),k(8,Qwe,2,2,"div",4),k(9,e2e,2,1,"ul",5)),2&e&&(v("formGroup",i.searchForm),p(5),_t(i.heading),p(1),v("ngIf",null==i.items),p(1),v("ngIf",i.items&&0===i.items.length),p(1),v("ngIf",i.items&&i.items.length>0&&i.filteredResults&&0===i.filteredResults.length),p(1),v("ngIf",i.filteredResults&&i.filteredResults.length>0))},directives:[nn,Wt,Vt,wn,Jt,Zt,nt,Lt,_a],styles:[""]}),t})();function t2e(t,n){if(1&t){const e=ye();c(0,"app-process-pattern-selection-form",2),z("selectProcessPattern",function(o){return W(e),T().selectProcessPattern.emit(o)}),u()}if(2&t){const e=n.$implicit;v("contextSituationalFactors",T().contextSituationalFactors)("processPattern",e)}}let n2e=(()=>{class t{constructor(){this.contextSituationalFactors=[],this.selectProcessPattern=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-process-patterns-selection-form"]],inputs:{processPatterns:"processPatterns",contextSituationalFactors:"contextSituationalFactors"},outputs:{selectProcessPattern:"selectProcessPattern"},features:[Tt([{provide:_f,useValue:F_}])],decls:3,vars:2,consts:[["ref",""],["heading","Method Patterns","itemName","Method Pattern",3,"content","items"],[3,"contextSituationalFactors","processPattern","selectProcessPattern"]],template:function(e,i){if(1&e&&(k(0,t2e,1,2,"ng-template",null,0,$t),re(2,"app-search",1)),2&e){const o=hn(1);p(2),v("content",o)("items",i.processPatterns)}},directives:[Ywe,O3],styles:[""]}),t})();function i2e(t,n){if(1&t&&re(0,"app-situational-factors-overview",3),2&t){const e=T();v("provided",e.provided)("needed",e.needed)}}let o2e=(()=>{class t{constructor(){this.contextSituationalFactors=[],this.selectDevelopmentMethod=new je,this.needed=[],this.provided=[]}ngOnChanges(e){e.contextSituationalFactors&&(this.needed=e.contextSituationalFactors.currentValue.map(o=>o.element)),e.developmentMethod&&(this.provided=e.developmentMethod.currentValue.situationalFactors.map(o=>o.element))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-development-method-selection-form"]],inputs:{developmentMethod:"developmentMethod",contextSituationalFactors:"contextSituationalFactors"},outputs:{selectDevelopmentMethod:"selectDevelopmentMethod"},features:[Xt],decls:8,vars:3,consts:[[1,"d-flex","align-items-baseline"],["type","button",1,"btn","btn-primary","ml-auto","btn-xs",3,"click"],[3,"provided","needed",4,"ngIf"],[3,"provided","needed"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h5"),g(2),u(),c(3,"button",1),z("click",function(){return i.selectDevelopmentMethod.emit(i.developmentMethod)}),g(4," Select "),u()(),c(5,"p"),g(6),u(),k(7,i2e,1,2,"app-situational-factors-overview",2)),2&e&&(p(2),_t(i.developmentMethod.name),p(4),_t(i.developmentMethod.description),p(1),v("ngIf",i.needed&&i.needed.length>0))},directives:[nt,I0],styles:[""]}),t})(),$j=(()=>{class t{constructor(e){this.fb=e,this.searchForm=this.fb.group({search:[""],list:[""],element:[null]}),this.searchSubscription=this.searchForm.valueChanges.pipe($i(300)).subscribe(i=>this.searchFilter(i))}set items(e){this._items=e,this.searchFilter(this.searchForm.value.search)}get filteredResults(){return this._filteredResults}searchFilter(e){var i;this._filteredResults=null!=e?null===(i=this._items)||void 0===i?void 0:i.filter(o=>this.search(o,e.search)&&this.filterList(o,e.list)&&this.filterType(o,e.element)):this._items}search(e,i){return null==i||F_(i.toLowerCase(),e)}filterList(e,i){return null==i||""==i||e.types.some(o=>o.list===i)}filterType(e,i){return null==i||e.types.some(o=>null!=o.element&&o.element._id===i._id)}ngOnDestroy(){this.searchSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),bf=(()=>{class t extends ul{constructor(){super(...arguments),this.typeName=Rl.typeName,this.elementConstructor=Rl}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})();function r2e(t,n){1&t&&(c(0,"div",12)(1,"label",13),re(2,"input",14),g(3," Multiple "),u()())}function s2e(t,n){1&t&&(c(0,"span"),g(1,"This field is required."),u())}function a2e(t,n){1&t&&(c(0,"div",12)(1,"label",13),re(2,"input",15),g(3," Optional "),u()())}function l2e(t,n){if(1&t){const e=ye();c(0,"button",16),z("click",function(){return W(e),T().remove.emit()}),g(1," Remove "),u()}}let k0=(()=>{class t{constructor(e){this.formGroupDirective=e,this.multipleAllowed=!1,this.removeAllowed=!0,this.methodElements=[],this.listNames=[],this.remove=new je,this.subscriptions=[],this.openListInput=new Oe,this.openElementInput=new Oe,this.searchLists=i=>Pn(Ka(i),this.openListInput).pipe(Ze(o=>this.listNames.filter(r=>r.toLowerCase().includes(o.toLowerCase())).slice(0,10))),this.searchElements=i=>Pn(Ka(i),this.openElementInput).pipe(Ze(o=>this.methodElements.filter(r=>(!this.listControl.value||r.list.toLowerCase()===this.listControl.value.toLowerCase())&&r.name.toLowerCase().includes(o.toLowerCase())).slice(0,7)))}ngOnInit(){this.subscriptions.push(this.listControl.valueChanges.pipe(Li(e=>this.elementControl.value&&this.elementControl.value.list!==e),un(()=>this.elementControl.setValue(null))).subscribe()),this.subscriptions.push(this.elementControl.valueChanges.pipe(Li(e=>e&&this.listControl.value!==e.list),un(e=>this.listControl.setValue(e.list))).subscribe()),this.multipleAllowed&&this.subscriptions.push(this.multipleControl.valueChanges.pipe(un(()=>{this.checkElementControl()})).subscribe())}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe();this.openListInput.complete(),this.openElementInput.complete()}checkElementControl(){this.multipleControl.value?(this.elementControl.setValue(null),this.elementControl.disable()):this.elementControl.enable()}formatter(e){return e.name}get listControl(){return this.formGroup.get("list")}get multipleControl(){return this.formGroup.get("multiple")}get elementControl(){return this.formGroup.get("element")}get formGroup(){return this.formGroupDirective.control}}return t.\u0275fac=function(e){return new(e||t)(H(Vt))},t.\u0275cmp=He({type:t,selectors:[["app-method-element-selection-form"]],inputs:{methodElementName:"methodElementName",multipleAllowed:"multipleAllowed",removeAllowed:"removeAllowed",methodElements:"methodElements",listNames:"listNames"},outputs:{remove:"remove"},decls:17,vars:13,consts:[[1,"form-row",3,"formGroup"],[1,"form-group","col"],["for","listInput"],[1,"input-group"],["type","text","formControlName","list","id","listInput","aria-describedby","listInputFeedback",1,"form-control",3,"ngbTypeahead","click","focus"],["class","input-group-append btn-group btn-group-toggle",4,"ngIf"],["id","listInputFeedback",1,"invalid-feedback"],[4,"ngIf"],["for","elementInput"],["type","text","formControlName","element","id","elementInput",1,"form-control",3,"ngbTypeahead","editable","resultFormatter","inputFormatter","click","focus"],[1,"input-group-append"],["class","btn btn-secondary align-self-baseline","type","button",3,"click",4,"ngIf"],[1,"input-group-append","btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn-outline-secondary"],["type","checkbox","formControlName","multiple","ngbButton",""],["type","checkbox","formControlName","optional","ngbButton",""],["type","button",1,"btn","btn-secondary","align-self-baseline",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"div",1)(2,"label",2),g(3,"List"),u(),c(4,"div",3)(5,"input",4),z("click",function(r){return i.openListInput.next(r.target.value)})("focus",function(r){return i.openListInput.next(r.target.value)}),u(),k(6,r2e,4,0,"div",5),u(),c(7,"div",6),k(8,s2e,2,0,"span",7),u()(),c(9,"div",1)(10,"label",8),g(11),u(),c(12,"div",3)(13,"input",9),z("click",function(r){return i.openElementInput.next(r.target.value)})("focus",function(r){return i.openElementInput.next(r.target.value)}),u(),k(14,a2e,4,0,"div",5),c(15,"div",10),k(16,l2e,2,0,"button",11),u()()()()),2&e&&(v("formGroup",i.formGroup),p(5),Ht("is-invalid",i.listControl.invalid),v("ngbTypeahead",i.searchLists),p(1),v("ngIf",i.multipleAllowed),p(2),v("ngIf",i.listControl.hasError("required")),p(3),_t(i.methodElementName),p(2),v("ngbTypeahead",i.searchElements)("editable",!1)("resultFormatter",i.formatter)("inputFormatter",i.formatter),p(1),v("ngIf",i.multipleAllowed),p(2),v("ngIf",i.removeAllowed))},directives:[Wt,Vt,wn,$u,Jt,Zt,nt,Ra,Xd,UE],styles:[""]}),t})();function c2e(t,n){1&t&&(c(0,"div",11),g(1,"Loading..."),u())}function u2e(t,n){if(1&t&&(c(0,"div",11),g(1),u()),2&t){const e=T();p(1),Be(" No fitting ",e.itemName,"\n")}}function d2e(t,n){if(1&t&&(c(0,"div"),g(1),u()),2&t){const e=T();p(1),Be(" No fitting ",e.itemName," for search and selected filters.\n")}}const p2e=function(t){return{$implicit:t}};function m2e(t,n){if(1&t&&(c(0,"li",14),za(1,15),u()),2&t){const e=n.$implicit,i=T(2);p(1),v("ngTemplateOutlet",i.content)("ngTemplateOutletContext",Fn(2,p2e,e))}}function f2e(t,n){if(1&t&&(c(0,"ul",12),k(1,m2e,2,4,"li",13),u()),2&t){const e=T();p(1),v("ngForOf",e.filteredResults)}}let h2e=(()=>{class t{constructor(e,i){this.searchFilterTypeService=e,this.typeService=i,this.types=[],this.typeLists=[]}ngOnInit(){this.loadTypes()}ngOnChanges(e){e.items&&(this.searchForm.reset(),this.searchFilterTypeService.items=e.items.currentValue)}get searchForm(){return this.searchFilterTypeService.searchForm}get filteredResults(){return this.searchFilterTypeService.filteredResults}loadTypes(){var e=this;return Y(function*(){e.types=yield e.typeService.getList(),e.typeLists=[...new Set(e.types.map(i=>i.list))]})()}}return t.\u0275fac=function(e){return new(e||t)(H($j),H(bf))},t.\u0275cmp=He({type:t,selectors:[["app-search-filter-type"]],inputs:{heading:"heading",itemName:"itemName",content:"content",items:"items"},features:[Tt([$j]),Xt],decls:15,vars:9,consts:[[3,"formGroup"],[1,"form-row"],[1,"col","form-row"],[1,"form-group","col"],["for","search"],["formControlName","search","type","text","id","search","placeholder","Search",1,"form-control","mb-2","mr-sm-2"],[1,"col"],["methodElementName","Type",3,"listNames","methodElements","removeAllowed"],["class","alert alert-info",4,"ngIf"],[4,"ngIf"],["class","list-group shadow-sm",4,"ngIf"],[1,"alert","alert-info"],[1,"list-group","shadow-sm"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(c(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),g(5,"Search"),u(),re(6,"input",5),u()(),c(7,"div",6),re(8,"app-method-element-selection-form",7),u()()(),c(9,"h5"),g(10),u(),k(11,c2e,2,0,"div",8),k(12,u2e,2,1,"div",8),k(13,d2e,2,1,"div",9),k(14,f2e,2,1,"ul",10)),2&e&&(v("formGroup",i.searchForm),p(8),v("listNames",i.typeLists)("methodElements",i.types)("removeAllowed",!1),p(2),_t(i.heading),p(1),v("ngIf",null==i.items),p(1),v("ngIf",i.items&&0===i.items.length),p(1),v("ngIf",i.items&&i.items.length>0&&i.filteredResults&&0===i.filteredResults.length),p(1),v("ngIf",i.filteredResults&&i.filteredResults.length>0))},directives:[nn,Wt,Vt,wn,Jt,Zt,k0,nt,Lt,_a],styles:[""]}),t})();function g2e(t,n){if(1&t){const e=ye();c(0,"app-development-method-selection-form",2),z("selectDevelopmentMethod",function(o){return W(e),T().selectDevelopmentMethod.emit(o)}),u()}if(2&t){const e=n.$implicit;v("contextSituationalFactors",T().contextSituationalFactors)("developmentMethod",e)}}function _2e(t,n){if(1&t&&re(0,"app-search",3),2&t){const e=T();v("content",hn(1))("items",e.developmentMethods)}}function v2e(t,n){if(1&t&&re(0,"app-search-filter-type",3),2&t){const e=T();v("content",hn(1))("items",e.developmentMethods)}}let Wj=(()=>{class t{constructor(){this.contextSituationalFactors=[],this.allowTypeFilter=!1,this.selectDevelopmentMethod=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-development-methods-selection-form"]],inputs:{developmentMethods:"developmentMethods",contextSituationalFactors:"contextSituationalFactors",allowTypeFilter:"allowTypeFilter"},outputs:{selectDevelopmentMethod:"selectDevelopmentMethod"},features:[Tt([{provide:_f,useValue:F_}])],decls:4,vars:2,consts:[["ref",""],["heading","Building Blocks","itemName","Method Building Blocks",3,"content","items",4,"ngIf"],[3,"contextSituationalFactors","developmentMethod","selectDevelopmentMethod"],["heading","Building Blocks","itemName","Method Building Blocks",3,"content","items"]],template:function(e,i){1&e&&(k(0,g2e,1,2,"ng-template",null,0,$t),k(2,_2e,1,2,"app-search",1),k(3,v2e,1,2,"app-search-filter-type",1)),2&e&&(p(2),v("ngIf",!i.allowTypeFilter),p(1),v("ngIf",i.allowTypeFilter))},directives:[o2e,nt,O3,h2e],styles:[""]}),t})();const Yi=new kn("Token for updatable components"),N0=new kn("Group Decision Element Constructor");let I_=(()=>{class t{constructor(e,i){this.fb=e,this.elementConstructor=i,this.form=this.fb.group({groupIndex:[void 0,ft.required],elementDecisions:this.fb.array([])}),this.groupChangeSubscription=this.groupIndexControl.valueChanges.pipe(Rh()).subscribe(o=>{var r;if(null!=o){const s=this.createElementDecisionsFormArray(null===(r=this.groups)||void 0===r?void 0:r.groups[o]);null!=s&&this.form.setControl("elementDecisions",s)}else this.form.removeControl("elementDecisions")})}ngOnDestroy(){this.groupChangeSubscription.unsubscribe()}addElement(e,i){const o=this.getElementsFormArray(e);null!=o&&(null==i&&(i=o.length),o.insert(i,this.fb.control(void 0,ft.required)))}removeElement(e,i){const o=this.getElementsFormArray(e);null!=o&&o.removeAt(i)}updateGroups(e){this.groups=e,this.groupIndexControl.setValidators(e.allowNone?null:ft.required),this.groupIndexControl.updateValueAndValidity({emitEvent:!1})}loadForm(e){this.updateGroups(e.groups),this.groupIndexControl.setValue(e.groupIndex,{emitEvent:!1});const i=this.createElementDecisionsFormArray(e.group,e.elementDecisions);null!=i?this.form.setControl("elementDecisions",i):this.form.removeControl("elementDecisions")}createElementDecisionsFormArray(e,i){if(null==e)return;const o=e.items.map((r,s)=>this.createElementDecisionFormGroup(r,null==i?void 0:i[s]));return this.fb.array(o)}createElementDecisionFormGroup(e,i){var o,r;return this.fb.group(e.multiple?null!=i?{elements:this.fb.array(null!==(r=null===(o=i.elements)||void 0===o?void 0:o.map(s=>this.fb.control(s,ft.required)))&&void 0!==r?r:[])}:{elements:this.fb.array([])}:{element:null==i?void 0:i.element})}getGroupDecision(e){if(null==this.groups)throw new Error("Form must be loaded before getting GroupDecisions");return new Ja(void 0,{groupIndex:e.groupIndex,elementDecisions:e.elementDecisions},this.elementConstructor,this.groups)}get groupIndexControl(){return this.form.get("groupIndex")}getElementsFormArray(e){return e.get("elements")}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt),Ve(N0))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function b2e(t,n){if(1&t){const e=ye();c(0,"div",4)(1,"button",5),z("click",function(){return W(e),T().add.emit()}),g(2," + "),u(),c(3,"button",5),z("click",function(){return W(e),T().remove.emit()}),g(4," - "),u()()}}let y2e=(()=>{class t{constructor(){this.methodElements=[],this.add=new je,this.remove=new je,this.openElementInput=new Oe,this.searchElements=e=>Pn(Ka(e),this.openElementInput).pipe(Ze(i=>this.methodElements.filter(o=>o.list.toLowerCase()===this.list.toLowerCase()&&o.name.toLowerCase().includes(i.toLowerCase())).slice(0,7)))}ngOnDestroy(){this.openElementInput.complete()}formatter(e){return e.name}get formControl(){return this.control}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-method-element-info-selection"]],inputs:{control:"control",methodElementName:"methodElementName",index:"index",multiple:"multiple",list:"list",methodElements:"methodElements"},outputs:{add:"add",remove:"remove"},decls:5,vars:13,consts:[[3,"for"],[1,"input-group"],["type","text",1,"form-control",3,"formControl","id","ngbTypeahead","editable","resultFormatter","inputFormatter","click","focus"],["class","input-group-append",4,"ngIf"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","align-self-baseline",3,"click"]],template:function(e,i){1&e&&(c(0,"label",0),g(1),u(),c(2,"div",1)(3,"input",2),z("click",function(r){return i.openElementInput.next(r.target.value)})("focus",function(r){return i.openElementInput.next(r.target.value)}),u(),k(4,b2e,5,0,"div",3),u()),2&e&&(Ht("sr-only",0!==i.index),fh("for","",i.methodElementName,"MultipleInput",i.index,""),p(1),_t(i.methodElementName),p(2),fh("id","",i.methodElementName,"MultipleInput",i.index,""),v("formControl",i.formControl)("ngbTypeahead",i.searchElements)("editable",!1)("resultFormatter",i.formatter)("inputFormatter",i.formatter),p(1),v("ngIf",i.multiple))},directives:[wn,$u,Jt,s_,nt],styles:[""]}),t})(),k_=(()=>{class t{transform(e,i){return i?e+" (optional)":e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Tr({name:"optional",type:t,pure:!0}),t})(),Yj=(()=>{class t{transform(e,i){return i?e+" (multiple)":e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Tr({name:"multiple",type:t,pure:!0}),t})();function w2e(t,n){if(1&t&&(c(0,"label"),g(1),u()),2&t){const e=T(2);p(1),_t(e.methodElementName)}}function x2e(t,n){if(1&t){const e=ye();c(0,"app-method-element-info-selection",8),z("add",function(){return W(e),T(2).add(1)})("remove",function(){return W(e),T(2).remove(0)}),u()}if(2&t){const e=T(2);let i;v("control",null!==(i=e.formElement)&&void 0!==i?i:e.formArray.at(0))("methodElements",e.methodElements)("methodElementName",e.methodElementName)("index",0)("multiple",e.element.multiple)("list",e.element.list)}}function C2e(t,n){if(1&t){const e=ye();c(0,"div")(1,"button",9),z("click",function(){return W(e),T(2).add()}),g(2," + "),u()()}}function M2e(t,n){if(1&t&&(c(0,"div",1),k(1,w2e,2,1,"label",6),k(2,x2e,1,6,"app-method-element-info-selection",7),k(3,C2e,3,0,"div",6),u()),2&t){const e=T();p(1),v("ngIf",null!=e.formArray&&0===e.formArray.length),p(1),v("ngIf",null!=e.formElement||e.formArray.length>0),p(1),v("ngIf",null!=e.formArray&&0===e.formArray.length)}}function S2e(t,n){if(1&t&&(c(0,"div",1)(1,"label",2),g(2),u(),re(3,"input",10),u()),2&t){const e=T();p(1),Pi("for","",e.methodElementName,"elementInputStatic"),p(1),_t(e.methodElementName),p(1),Pi("id","",e.methodElementName,"elementInputStatic"),v("value",e.element.element.name)}}function E2e(t,n){if(1&t){const e=ye();c(0,"div",0),re(1,"div",1),c(2,"div",1)(3,"app-method-element-info-selection",8),z("add",function(){const r=W(e).index;return T(2).add(r+2)})("remove",function(){const r=W(e).index;return T(2).remove(r+1)}),u()()()}if(2&t){const e=n.$implicit,i=n.index,o=T(2);p(3),v("control",e)("methodElements",o.methodElements)("methodElementName",o.methodElementName)("index",i+1)("multiple",o.element.multiple)("list",o.element.list)}}function T2e(t,n){if(1&t&&(St(0),k(1,E2e,4,6,"div",11),Et()),2&t){const e=T();p(1),v("ngForOf",e.formArray.controls.slice(1))}}let P2e=(()=>{class t{constructor(e,i){this.formGroupName=e,this.groupDecisionFormService=i,this.methodElements=[]}add(e){null!=this.formGroup&&this.groupDecisionFormService.addElement(this.formGroup,e)}remove(e){null!=this.formGroup&&this.groupDecisionFormService.removeElement(this.formGroup,e)}get formGroup(){return this.formGroupName?this.formGroupName.control:void 0}get formElement(){var e;return this.element.multiple||null===(e=this.formGroup)||void 0===e?void 0:e.get("element")}get formArray(){var e;return this.element.multiple?null===(e=this.formGroup)||void 0===e?void 0:e.get("elements"):void 0}}return t.\u0275fac=function(e){return new(e||t)(H(kr,8),H(I_))},t.\u0275cmp=He({type:t,selectors:[["app-method-element-info"]],inputs:{methodElementName:"methodElementName",element:"element",methodElements:"methodElements"},decls:11,vars:11,consts:[[1,"form-row"],[1,"form-group","col"],[3,"for"],["readonly","","type","text","id","listInput",1,"form-control-plaintext",3,"value"],["listInput",""],["class","form-group col",4,"ngIf"],[4,"ngIf"],[3,"control","methodElements","methodElementName","index","multiple","list","add","remove",4,"ngIf"],[3,"control","methodElements","methodElementName","index","multiple","list","add","remove"],["type","button",1,"btn","btn-outline-secondary","align-self-baseline",3,"click"],["readonly","","type","text",1,"form-control-plaintext",3,"value","id"],["class","form-row",4,"ngFor","ngForOf"]],template:function(e,i){if(1&e&&(c(0,"div",0)(1,"div",1)(2,"label",2),g(3,"List"),u(),re(4,"input",3,4),ci(6,"optional"),ci(7,"multiple"),u(),k(8,M2e,4,3,"div",5),k(9,S2e,4,4,"div",5),u(),k(10,T2e,2,1,"ng-container",6)),2&e){const o=hn(5);p(2),v("for",o.id),p(2),v("value",As(6,5,As(7,8,i.element.list,i.element.multiple),i.element.optional)),p(4),v("ngIf",null==i.element.element&&null!=i.formGroup),p(1),v("ngIf",null!=i.element.element),p(1),v("ngIf",null!=i.formArray)}},directives:[nt,y2e,Lt],pipes:[k_,Yj],styles:[""]}),t})();function D2e(t,n){if(1&t&&(c(0,"li",5)(1,"ul",6)(2,"li",7)(3,"h5",8),g(4,"None"),u(),c(5,"div",9)(6,"label",10),re(7,"input",11),g(8," Select "),u()()()()()),2&t){const e=T();p(2),Ht("list-group-item-secondary",null!=e.selectedGroup)("list-group-item-primary",null==e.selectedGroup),p(5),v("value",null)}}function F2e(t,n){if(1&t&&(c(0,"li",5),re(1,"app-method-element-info",13),u()),2&t){const e=n.$implicit,i=T(3);p(1),v("element",e)("methodElementName",i.methodElementName)}}function A2e(t,n){if(1&t&&(St(0),k(1,F2e,2,2,"li",3),Et()),2&t){const e=T().$implicit;p(1),v("ngForOf",e.items)}}function I2e(t,n){if(1&t&&(c(0,"li",15),re(1,"app-method-element-info",16),u()),2&t){const e=n.$implicit,i=n.index,o=T(3);p(1),v("formGroupName",i.toString())("element",e)("methodElements",o.methodElements)("methodElementName",o.methodElementName)}}function k2e(t,n){if(1&t&&(St(0),k(1,I2e,2,4,"li",14),Et()),2&t){const e=T().$implicit;p(1),v("ngForOf",e.items)}}function N2e(t,n){if(1&t&&(c(0,"li",5)(1,"ul",6)(2,"li",7)(3,"h5",8),g(4,"Group"),u(),c(5,"div",9)(6,"label",10),re(7,"input",11),g(8," Select "),u()()(),k(9,A2e,2,1,"ng-container",12),k(10,k2e,2,1,"ng-container",12),u()()),2&t){const e=n.index,i=T();p(2),Ht("list-group-item-secondary",i.selectedGroup!==e)("list-group-item-primary",i.selectedGroup===e),p(5),v("value",e),p(2),v("ngIf",i.selectedGroup!==e),p(1),v("ngIf",i.selectedGroup===e)}}function R2e(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}function O2e(t,n){if(1&t&&(c(0,"div",17)(1,"div",18)(2,"button",19),g(3," Update"),k(4,R2e,2,0,"span",12),u()()()),2&t){const e=T();p(2),Ht("btn-dark",!e.changed)("btn-primary",e.changed),v("disabled",!e.form.valid),p(2),v("ngIf",e.changed)}}let yf=(()=>{class t{constructor(e,i){this.fb=e,this.groupDecisionFormService=i,this.methodElements=[],this.submitGroupsForm=new je,this.changed=!1}ngOnInit(){this.changeSubscription=this.form.valueChanges.pipe($i(300),un(e=>{this.changed=!this.form.valid||!this.groupDecision.equals(this.groupDecisionFormService.getGroupDecision(e))})).subscribe()}ngOnChanges(e){if(e.groupDecision){const o=e.groupDecision.currentValue;o.equals(e.groupDecision.previousValue)?this.groupDecisionFormService.updateGroups(o.groups):this.groupDecisionFormService.loadForm(o)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitGroupsForm.emit(this.groupDecisionFormService.getGroupDecision(this.groupDecisionFormService.form.value))}update(){this.changed&&this.form.valid&&this.submitForm()}get selectedGroup(){return this.groupDecisionFormService.groupIndexControl.value}get form(){return this.groupDecisionFormService.form}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(I_))},t.\u0275cmp=He({type:t,selectors:[["app-method-element-group-info"]],inputs:{methodElementName:"methodElementName",groupDecision:"groupDecision",methodElements:"methodElements"},outputs:{submitGroupsForm:"submitGroupsForm"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:5,vars:4,consts:[[3,"formGroup","ngSubmit"],["ngbRadioGroup","","formControlName","groupIndex",1,"form-group","list-group"],["class","list-group-item",4,"ngIf"],["class","list-group-item",4,"ngFor","ngForOf"],["class","form-group row mt-3",4,"ngIf"],[1,"list-group-item"],[1,"list-group","shadow-sm"],[1,"list-group-item","d-flex","align-items-baseline"],[1,"mb-0"],[1,"ml-auto","btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn-primary"],["ngbButton","","type","radio",3,"value"],[4,"ngIf"],[3,"element","methodElementName"],["class","list-group-item","formArrayName","elementDecisions",4,"ngFor","ngForOf"],["formArrayName","elementDecisions",1,"list-group-item"],[3,"formGroupName","element","methodElements","methodElementName"],[1,"form-group","row","mt-3"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"ul",1),k(2,D2e,9,5,"li",2),k(3,N2e,11,7,"li",3),u(),k(4,O2e,5,6,"div",4),u()),2&e&&(v("formGroup",i.form),p(2),v("ngIf",i.groupDecision.groups.allowNone),p(1),v("ngForOf",i.groupDecision.groups.groups),p(1),v("ngIf",i.groupDecision.groups.groups.length>0))},directives:[nn,Wt,Vt,ec,Jt,Zt,nt,Ra,qc,Lt,P2e,vo,kr],styles:[""]}),t})(),B2e=(()=>{class t{constructor(e){this.artifactService=e,this.submitGroupsForm=new je,this.methodElements=[]}ngOnInit(){this.loadMethodElements()}loadMethodElements(){var e=this;return Y(function*(){e.methodElements=yield e.artifactService.getList()})()}update(){this.methodElementGroupInfoComponent.update()}}return t.\u0275fac=function(e){return new(e||t)(H(oc))},t.\u0275cmp=He({type:t,selectors:[["app-artifacts-group-info"]],viewQuery:function(e,i){if(1&e&&Ft(yf,5),2&e){let o;bt(o=yt())&&(i.methodElementGroupInfoComponent=o.first)}},inputs:{groupDecision:"groupDecision"},outputs:{submitGroupsForm:"submitGroupsForm"},features:[Tt([I_,{provide:N0,useValue:_r},{provide:Yi,useExisting:t}])],decls:1,vars:2,consts:[["methodElementName","Artifact",3,"groupDecision","methodElements","submitGroupsForm"]],template:function(e,i){1&e&&(c(0,"app-method-element-group-info",0),z("submitGroupsForm",function(r){return i.submitGroupsForm.emit(r)}),u()),2&e&&v("groupDecision",i.groupDecision)("methodElements",i.methodElements)},directives:[yf],styles:[""]}),t})(),N_=(()=>{class t extends ul{constructor(){super(...arguments),this.typeName=Ol.typeName,this.elementConstructor=Ol}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),L2e=(()=>{class t{constructor(e){this.stakeholderService=e,this.submitGroupsForm=new je,this.methodElements=[]}ngOnInit(){this.loadMethodElements()}loadMethodElements(){var e=this;return Y(function*(){e.methodElements=yield e.stakeholderService.getList()})()}update(){this.methodElementGroupInfoComponent.update()}}return t.\u0275fac=function(e){return new(e||t)(H(N_))},t.\u0275cmp=He({type:t,selectors:[["app-stakeholders-group-info"]],viewQuery:function(e,i){if(1&e&&Ft(yf,5),2&e){let o;bt(o=yt())&&(i.methodElementGroupInfoComponent=o.first)}},inputs:{groupDecision:"groupDecision"},outputs:{submitGroupsForm:"submitGroupsForm"},features:[Tt([I_,{provide:N0,useValue:Ol},{provide:Yi,useExisting:t}])],decls:1,vars:2,consts:[["methodElementName","Stakeholder",3,"groupDecision","methodElements","submitGroupsForm"]],template:function(e,i){1&e&&(c(0,"app-method-element-group-info",0),z("submitGroupsForm",function(r){return i.submitGroupsForm.emit(r)}),u()),2&e&&v("groupDecision",i.groupDecision)("methodElements",i.methodElements)},directives:[yf],styles:[""]}),t})(),R_=(()=>{class t extends ul{constructor(){super(...arguments),this.typeName=Xa.typeName,this.elementConstructor=Xa}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),j2e=(()=>{class t{constructor(e){this.toolService=e,this.submitGroupsForm=new je,this.methodElements=[]}ngOnInit(){this.loadMethodElements()}loadMethodElements(){var e=this;return Y(function*(){e.methodElements=yield e.toolService.getList()})()}update(){this.methodElementGroupInfoComponent.update()}}return t.\u0275fac=function(e){return new(e||t)(H(R_))},t.\u0275cmp=He({type:t,selectors:[["app-tools-group-info"]],viewQuery:function(e,i){if(1&e&&Ft(yf,5),2&e){let o;bt(o=yt())&&(i.methodElementGroupInfoComponent=o.first)}},inputs:{groupDecision:"groupDecision"},outputs:{submitGroupsForm:"submitGroupsForm"},features:[Tt([I_,{provide:N0,useValue:Xa},{provide:Yi,useExisting:t}])],decls:1,vars:2,consts:[["methodElementName","Tool",3,"groupDecision","methodElements","submitGroupsForm"]],template:function(e,i){1&e&&(c(0,"app-method-element-group-info",0),z("submitGroupsForm",function(r){return i.submitGroupsForm.emit(r)}),u()),2&e&&v("groupDecision",i.groupDecision)("methodElements",i.methodElements)},directives:[yf],styles:[""]}),t})(),G2e=(()=>{class t{constructor(e,i){this.fb=e,this.moduleService=i}createForm(e,i){return this.fb.array(i.map((o,r)=>this.createStepDecisionForm(e[r],o)))}createStepDecisionForm(e,i){if(!ho(e))return;const o=this.moduleService.getModuleMethod(e.module,e.method);return null!=o&&null!=o.createDecisionConfigurationForm?o.createDecisionConfigurationForm(i):void 0}getStepDecisions(e){return e}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt),Ve(zr))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wf=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(H(Is))},t.\u0275dir=Qt({type:t,selectors:[["","appConfigurationFormPlaceholder",""]]}),t})();function V2e(t,n){if(1&t&&(c(0,"h6"),g(1),u()),2&t){const e=T();p(1),Xi(" ",e.step.module," \u2013 ",e.step.method,"\n")}}function H2e(t,n){if(1&t&&(c(0,"h6"),g(1),u()),2&t){const e=T();p(1),_t(e.step.name)}}function U2e(t,n){}let z2e=(()=>{class t{constructor(e,i){this.controlContainer=e,this.moduleService=i,this.forceUpdate=new je}ngOnChanges(e){(e.bmProcess||e.step)&&this.initConfiguration(e.step.currentValue)}initConfiguration(e){if(ho(e)){const i=this.moduleService.getModuleMethod(e.module,e.method);if(null!=(null==i?void 0:i.decisionConfigurationFormComponent)&&null!=i.createDecisionConfigurationForm){const o=this.configurationFormHost.viewContainerRef;o.clear();const r=o.createComponent(i.decisionConfigurationFormComponent);r.instance.formGroup=this.formGroup,r.instance.bmProcess=this.bmProcess,r.instance.runningProcess=this.runningProcess,r.instance.predefinedInput=e.predefinedInput,r.instance.contextDomains=this.contextDomains,r.instance.forceUpdate=this.forceUpdate,r.instance.stepDecision=this.stepDecision}}}get formGroup(){return this.controlContainer.control}isMethodExecutionStep(e){return ho(e)}}return t.\u0275fac=function(e){return new(e||t)(H(Ko),H(zr))},t.\u0275cmp=He({type:t,selectors:[["app-method-info-step"]],viewQuery:function(e,i){if(1&e&&Ft(wf,7),2&e){let o;bt(o=yt())&&(i.configurationFormHost=o.first)}},inputs:{bmProcess:"bmProcess",runningProcess:"runningProcess",contextDomains:"contextDomains",step:"step",stepDecision:"stepDecision"},outputs:{forceUpdate:"forceUpdate"},features:[Xt],decls:3,vars:2,consts:[[4,"ngIf"],["appConfigurationFormPlaceholder",""]],template:function(e,i){1&e&&(k(0,V2e,2,2,"h6",0),k(1,H2e,2,1,"h6",0),k(2,U2e,0,0,"ng-template",1)),2&e&&(v("ngIf",i.isMethodExecutionStep(i.step)),p(1),v("ngIf",!i.isMethodExecutionStep(i.step)))},directives:[nt,wf],styles:[""]}),t})();function q2e(t,n){if(1&t){const e=ye();c(0,"li",4)(1,"app-method-info-step",5),z("forceUpdate",function(o){const s=W(e).index;return T().forceUpdate.emit({step:s,stepDecision:o})}),u()()}if(2&t){const e=n.$implicit,i=n.index,o=T();p(1),v("formGroupName",i.toString())("bmProcess",o.bmProcess)("runningProcess",o.runningProcess)("contextDomains",o.contextDomains)("step",e)("stepDecision",o.stepDecisions[i])}}function $2e(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}function W2e(t,n){if(1&t&&(c(0,"div",6)(1,"div",7)(2,"button",8),g(3," Update"),k(4,$2e,2,0,"span",9),u()()()),2&t){const e=T();p(2),Ht("btn-dark",!e.changed)("btn-primary",e.changed),v("disabled",!e.form.valid),p(2),v("ngIf",e.changed)}}let Y2e=(()=>{class t{constructor(e,i,o){this.fb=e,this.methodInfoStepsFormService=i,this.moduleService=o,this.submitStepsForm=new je,this.forceUpdate=new je,this.form=this.fb.group({steps:this.fb.array([])}),this.changed=!1}ngOnInit(){this.changeSubscription=this.form.valueChanges.pipe($i(300),un(e=>this.changed=!this.equalStepDecisions(this.stepDecisions,this.methodInfoStepsFormService.getStepDecisions(e.steps)))).subscribe()}ngOnChanges(e){if(e.stepDecisions){const i=e.stepDecisions.previousValue,o=e.stepDecisions.currentValue;(null==i||!this.equalStepDecisions(i,o))&&this.form.setControl("steps",this.methodInfoStepsFormService.createForm(this.steps,this.stepDecisions))}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitStepsForm.emit(this.methodInfoStepsFormService.getStepDecisions(this.formArray.value))}get formArray(){return this.form.get("steps")}equalStepDecisions(e,i){return null==e&&null==i||null!=e&&null!=i&&e.length===i.length&&e.every((o,r)=>{const s=i[r],a=this.steps[r];if(ho(a)){const l=this.moduleService.getModuleMethod(a.module,a.method);if(null!=l&&l.equalStepDecision)return l.equalStepDecision(o,s)}return!0})}update(){this.changed&&this.form.valid&&this.submitForm()}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(G2e),H(zr))},t.\u0275cmp=He({type:t,selectors:[["app-method-info-steps"]],inputs:{bmProcess:"bmProcess",runningProcess:"runningProcess",contextDomains:"contextDomains",steps:"steps",stepDecisions:"stepDecisions"},outputs:{submitStepsForm:"submitStepsForm",forceUpdate:"forceUpdate"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:4,vars:3,consts:[[3,"formGroup","ngSubmit"],["formArrayName","steps",1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["class","form-group row mt-3",4,"ngIf"],[1,"list-group-item"],[3,"formGroupName","bmProcess","runningProcess","contextDomains","step","stepDecision","forceUpdate"],[1,"form-group","row","mt-3"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"ul",1),k(2,q2e,2,6,"li",2),u(),k(3,W2e,5,6,"div",3),u()),2&e&&(v("formGroup",i.form),p(2),v("ngForOf",i.steps),p(1),v("ngIf",i.steps.length>0))},directives:[nn,Wt,Vt,vo,Lt,z2e,kr,nt],styles:[""]}),t})();function X2e(t,n){if(1&t&&(c(0,"li",8),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function K2e(t,n){if(1&t&&(c(0,"tr")(1,"th",1),g(2,"Situational Factors"),u(),c(3,"td",2),re(4,"app-situational-factors-overview",9),u()()),2&t){const e=T();p(4),v("needed",e.needed)("provided",e.provided)}}function Q2e(t,n){1&t&&(St(0),re(1,"i",10),c(2,"span",11),g(3,"(This part is incomplete)"),u(),Et())}function J2e(t,n){1&t&&(St(0),re(1,"i",10),c(2,"span",11),g(3,"(This part is incomplete)"),u(),Et())}function Z2e(t,n){1&t&&(St(0),re(1,"i",10),c(2,"span",11),g(3,"(This part is incomplete)"),u(),Et())}function e6e(t,n){1&t&&(St(0),re(1,"i",10),c(2,"span",11),g(3,"(This part is incomplete)"),u(),Et())}function t6e(t,n){1&t&&(St(0),re(1,"i",10),c(2,"span",11),g(3,"(This part is incomplete)"),u(),Et())}let Xj=(()=>{class t{constructor(e){this.bmProcessService=e,this.contextSituationalFactors=[],this.updateDecisions=new je,this.needed=[],this.provided=[],this.inputArtifactsComplete=!0,this.outputArtifactsComplete=!0,this.stakeholdersComplete=!0,this.toolsComplete=!0,this.stepsComplete=!0}ngOnChanges(e){if(e.contextSituationalFactors&&(this.needed=e.contextSituationalFactors.currentValue.map(o=>o.element)),e.developmentMethod&&(this.provided=e.developmentMethod.currentValue.situationalFactors.map(o=>o.element.toDb())),e.decision){const i=e.decision.currentValue;this.inputArtifactsComplete=i.inputArtifacts.isComplete(),this.outputArtifactsComplete=i.outputArtifacts.isComplete(),this.stakeholdersComplete=i.stakeholders.isComplete(),this.toolsComplete=i.tools.isComplete(),this.stepsComplete=this.bmProcessService.checkDecisionStepArtifacts(i)}}forceUpdate(e){const i=this.decision.stepDecisions.slice();i[e.step]=e.stepDecision,this.updateDecisions.emit({stepDecisions:i})}update(){for(const e of this.updatable)e.update()}}return t.\u0275fac=function(e){return new(e||t)(H(Na))},t.\u0275cmp=He({type:t,selectors:[["app-method-info"]],viewQuery:function(e,i){if(1&e&&Ft(Yi,5),2&e){let o;bt(o=yt())&&(i.updatable=o)}},inputs:{bmProcess:"bmProcess",runningProcess:"runningProcess",developmentMethod:"developmentMethod",decision:"decision",contextDomains:"contextDomains",contextSituationalFactors:"contextSituationalFactors"},outputs:{updateDecisions:"updateDecisions"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:49,vars:18,consts:[[1,"table","mb-0"],["scope","row"],[1,"show-new-lines"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"groupDecision","submitGroupsForm"],[3,"bmProcess","runningProcess","contextDomains","steps","stepDecisions","submitStepsForm","forceUpdate"],[1,"list-group-item"],[3,"needed","provided"],["ngbTooltip","This part is incomplete","triggers","hover focus click",1,"text-danger","fas","fa-exclamation-circle"],[1,"sr-only"]],template:function(e,i){1&e&&(c(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),g(4,"Building Block Name"),u(),c(5,"td"),g(6),u()(),c(7,"tr")(8,"th",1),g(9,"Building Block Description"),u(),c(10,"td",2),g(11),u()(),c(12,"tr")(13,"th",1),g(14,"Examples"),u(),c(15,"td",2)(16,"ul",3),k(17,X2e,2,1,"li",4),u()()(),k(18,K2e,5,2,"tr",5),c(19,"tr")(20,"th",1),g(21," Input Artifacts "),k(22,Q2e,4,0,"ng-container",5),u(),c(23,"td")(24,"app-artifacts-group-info",6),z("submitGroupsForm",function(r){return i.updateDecisions.emit({inputArtifacts:r})}),u()()(),c(25,"tr")(26,"th",1),g(27," Output Artifacts "),k(28,J2e,4,0,"ng-container",5),u(),c(29,"td")(30,"app-artifacts-group-info",6),z("submitGroupsForm",function(r){return i.updateDecisions.emit({outputArtifacts:r})}),u()()(),c(31,"tr")(32,"th",1),g(33," Involved Stakeholders "),k(34,Z2e,4,0,"ng-container",5),u(),c(35,"td")(36,"app-stakeholders-group-info",6),z("submitGroupsForm",function(r){return i.updateDecisions.emit({stakeholders:r})}),u()()(),c(37,"tr")(38,"th",1),g(39," Tools "),k(40,e6e,4,0,"ng-container",5),u(),c(41,"td")(42,"app-tools-group-info",6),z("submitGroupsForm",function(r){return i.updateDecisions.emit({tools:r})}),u()()(),c(43,"tr")(44,"th",1),g(45," Steps "),k(46,t6e,4,0,"ng-container",5),u(),c(47,"td")(48,"app-method-info-steps",7),z("submitStepsForm",function(r){return i.updateDecisions.emit({stepDecisions:r})})("forceUpdate",function(r){return i.forceUpdate(r)}),u()()()()()),2&e&&(p(6),_t(i.developmentMethod.name),p(5),_t(i.developmentMethod.description),p(6),v("ngForOf",i.developmentMethod.examples),p(1),v("ngIf",i.contextSituationalFactors&&i.contextSituationalFactors.length>0),p(4),v("ngIf",!i.inputArtifactsComplete),p(2),v("groupDecision",i.decision.inputArtifacts),p(4),v("ngIf",!i.outputArtifactsComplete),p(2),v("groupDecision",i.decision.outputArtifacts),p(4),v("ngIf",!i.stakeholdersComplete),p(2),v("groupDecision",i.decision.stakeholders),p(4),v("ngIf",!i.toolsComplete),p(2),v("groupDecision",i.decision.tools),p(4),v("ngIf",!i.stepsComplete),p(2),v("bmProcess",i.bmProcess)("runningProcess",i.runningProcess)("contextDomains",i.contextDomains)("steps",i.decision.method.executionSteps)("stepDecisions",i.decision.stepDecisions))},directives:[Lt,nt,I0,uL,B2e,L2e,j2e,Y2e],styles:[""]}),t})(),O_=(()=>{class t{transform(e){return"List "+e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Tr({name:"list",type:t,pure:!0}),t})();function n6e(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e.name," ")}}function i6e(t,n){if(1&t&&(St(0),g(1),ci(2,"multiple"),ci(3,"list"),c(4,"ul"),k(5,n6e,2,1,"li",6),u(),Et()),2&t){const e=T().$implicit;p(1),Be(" ",As(2,2,Io(3,5,e.selection.list),!0)," "),p(4),v("ngForOf",e.elements)}}function o6e(t,n){if(1&t&&(St(0),g(1),ci(2,"optional"),ci(3,"list"),Et()),2&t){const e=T(2).$implicit;let i;p(1),Xi(" ",As(2,2,(null!==(i=e.selection.element)&&void 0!==i?i:e.element).name,e.selection.optional)," (",Io(3,5,e.selection.list),") ")}}function r6e(t,n){if(1&t&&(St(0),g(1),ci(2,"list"),Et()),2&t){const e=T(2).$implicit;p(1),Be(" (",Io(2,1,e.selection.list),") ")}}function s6e(t,n){if(1&t&&(St(0),k(1,o6e,4,7,"ng-container",3),k(2,r6e,3,3,"ng-container",3),Et()),2&t){const e=T().$implicit;p(1),v("ngIf",null!=e.selection.element||null!=e.element),p(1),v("ngIf",null==e.selection.element&&null==e.element)}}function a6e(t,n){if(1&t&&(c(0,"li"),k(1,i6e,6,7,"ng-container",3),k(2,s6e,3,2,"ng-container",3),u()),2&t){const e=n.$implicit;p(1),v("ngIf",e.selection.multiple),p(1),v("ngIf",!e.selection.multiple)}}function l6e(t,n){if(1&t&&(c(0,"ul"),k(1,a6e,3,2,"li",6),u()),2&t){const e=n.decision,i=T();p(1),v("ngForOf",i.asGroupDecision(e).elementDecisions)}}function c6e(t,n){if(1&t&&(c(0,"li"),re(1,"quill-view",7),u()),2&t){const e=T(3).$implicit;p(1),v("content",e.data.data)}}function u6e(t,n){if(1&t){const e=ye();c(0,"li"),g(1),c(2,"button",8),z("click",function(){W(e);const o=T(3),r=o.index,s=o.$implicit;return T(2)._viewArtifactReference(r,s.data.data)}),g(3," View "),u()()}if(2&t){const e=T(3).index,i=T(2);p(1),Be(" ",i.metaModelDefinitions[e].name," ")}}function d6e(t,n){if(1&t&&(c(0,"ul"),k(1,c6e,2,1,"li",3),k(2,u6e,4,1,"li",3),u()),2&t){const e=T(2).$implicit,i=T(2);p(1),v("ngIf",1===e.data.type),p(1),v("ngIf",2===e.data.type&&null!=i.metaModelDefinitions)}}function p6e(t,n){if(1&t&&(c(0,"li"),g(1),ci(2,"date"),k(3,d6e,3,2,"ul",3),u()),2&t){const e=T().$implicit;p(1),K2(" ",e.identifier," \u2013 ",e.artifact.name," \u2013 Version #",e.versionInfo.number+1," \u2013 ",As(2,5,e.versionInfo.time,"short")," "),p(2),v("ngIf",e.data&&(1===e.data.type||2===e.data.type))}}function m6e(t,n){if(1&t&&(St(0),k(1,p6e,4,8,"li",3),Et()),2&t){const e=n.$implicit;p(1),v("ngIf",null!=e)}}function f6e(t,n){if(1&t&&(c(0,"ul"),k(1,m6e,2,1,"ng-container",6),u()),2&t){const e=T();p(1),v("ngForOf",e.inputArtifacts)}}function h6e(t,n){if(1&t&&(c(0,"tr")(1,"th",4),g(2,"Building Block Name"),u(),c(3,"td"),g(4),u()()),2&t){const e=T();p(4),_t(e.decision.method.name)}}function g6e(t,n){if(1&t&&(c(0,"tr")(1,"th",4),g(2,"Building Block Description"),u(),c(3,"td",9),g(4),u()()),2&t){const e=T();p(4),_t(e.decision.method.description)}}function _6e(t,n){if(1&t&&(c(0,"li",12),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function v6e(t,n){if(1&t&&(c(0,"tr")(1,"th",4),g(2,"Examples"),u(),c(3,"td",9)(4,"ul",10),k(5,_6e,2,1,"li",11),u()()()),2&t){const e=T();p(5),v("ngForOf",e.decision.method.examples)}}function b6e(t,n){1&t&&za(0)}const R0=function(t){return{decision:t}};function y6e(t,n){if(1&t&&(St(0),k(1,b6e,1,0,"ng-container",5),Et()),2&t){const e=T(),i=hn(1);p(1),v("ngTemplateOutlet",i)("ngTemplateOutletContext",Fn(2,R0,e.decision.inputArtifacts))}}function w6e(t,n){1&t&&za(0)}function x6e(t,n){if(1&t&&(St(0),k(1,w6e,1,0,"ng-container",13),Et()),2&t){T();const e=hn(3);p(1),v("ngTemplateOutlet",e)}}function C6e(t,n){1&t&&za(0)}function M6e(t,n){1&t&&za(0)}function S6e(t,n){1&t&&za(0)}let O0=(()=>{class t{constructor(e){this.metaModelService=e,this.showInfo=!0,this.viewArtifactReference=new je}ngOnChanges(e){if(e.inputArtifacts&&null!=e.inputArtifacts.currentValue){const i=e.inputArtifacts.currentValue;this.metaModelDefinitions=[],this.metaModelDefinitions.length=i.length;for(let o=0;o<i.length;o++){const r=i[o];null!=r&&r.data.type===go.REFERENCE&&(this.metaModelDefinitions[o]=this.metaModelService.getMetaModelDefinition(r.data.data.type))}}}_viewArtifactReference(e,i){null!=this.metaModelDefinitions&&this.viewArtifactReference.emit({reference:i,api:this.metaModelDefinitions[e].api})}asGroupDecision(e){return e}}return t.\u0275fac=function(e){return new(e||t)(H(Zl))},t.\u0275cmp=He({type:t,selectors:[["app-development-method-summary"]],inputs:{decision:"decision",inputArtifacts:"inputArtifacts",showInfo:"showInfo"},outputs:{viewArtifactReference:"viewArtifactReference"},features:[Xt],decls:30,vars:17,consts:[["defaultCell",""],["inputArtifactsCell",""],[1,"table","mb-0"],[4,"ngIf"],["scope","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[3,"content"],[1,"btn","btn-xs","btn-secondary",3,"click"],[1,"show-new-lines"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[4,"ngTemplateOutlet"]],template:function(e,i){if(1&e&&(k(0,l6e,2,1,"ng-template",null,0,$t),k(2,f6e,2,1,"ng-template",null,1,$t),c(4,"table",2)(5,"tbody"),k(6,h6e,5,1,"tr",3),k(7,g6e,5,1,"tr",3),k(8,v6e,6,1,"tr",3),c(9,"tr")(10,"th",4),g(11,"Input Artifacts"),u(),c(12,"td"),k(13,y6e,2,4,"ng-container",3),k(14,x6e,2,1,"ng-container",3),u()(),c(15,"tr")(16,"th",4),g(17,"Output Artifacts"),u(),c(18,"td"),k(19,C6e,1,0,"ng-container",5),u()(),c(20,"tr")(21,"th",4),g(22,"Involved Stakeholders"),u(),c(23,"td"),k(24,M6e,1,0,"ng-container",5),u()(),c(25,"tr")(26,"th",4),g(27,"Tools"),u(),c(28,"td"),k(29,S6e,1,0,"ng-container",5),u()()()()),2&e){const o=hn(1);p(6),v("ngIf",i.showInfo),p(1),v("ngIf",i.showInfo),p(1),v("ngIf",i.showInfo&&i.decision.method.examples.length>0),p(5),v("ngIf",!i.inputArtifacts),p(1),v("ngIf",i.inputArtifacts),p(5),v("ngTemplateOutlet",o)("ngTemplateOutletContext",Fn(11,R0,i.decision.outputArtifacts)),p(5),v("ngTemplateOutlet",o)("ngTemplateOutletContext",Fn(13,R0,i.decision.stakeholders)),p(5),v("ngTemplateOutlet",o)("ngTemplateOutletContext",Fn(15,R0,i.decision.tools))}},directives:[Lt,nt,k3,_a],pipes:[Yj,O_,k_,Fh],styles:[""]}),t})();function E6e(t,n){if(1&t&&(c(0,"tr")(1,"th",1),g(2,"Situational Factors"),u(),c(3,"td"),re(4,"app-situational-factors-overview",4),u()()),2&t){const e=T();p(4),v("needed",e.needed)("provided",e.provided)}}let T6e=(()=>{class t{constructor(){this.contextSituationalFactors=[],this.needed=[],this.provided=[]}ngOnChanges(e){e.contextSituationalFactors&&(this.needed=e.contextSituationalFactors.currentValue.map(o=>o.element)),e.processPattern&&(this.provided=e.processPattern.currentValue.situationalFactors.map(o=>o.element.toDb()))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-pattern-info"]],inputs:{processPattern:"processPattern",contextSituationalFactors:"contextSituationalFactors"},features:[Xt],decls:13,vars:3,consts:[[1,"table","mb-0"],["scope","row"],[1,"show-new-lines"],[4,"ngIf"],[3,"needed","provided"]],template:function(e,i){1&e&&(c(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),g(4,"Pattern Name"),u(),c(5,"td"),g(6),u()(),c(7,"tr")(8,"th",1),g(9,"Pattern Description"),u(),c(10,"td",2),g(11),u()(),k(12,E6e,5,2,"tr",3),u()()),2&e&&(p(6),_t(i.processPattern.name),p(5),_t(i.processPattern.description),p(1),v("ngIf",i.contextSituationalFactors&&i.contextSituationalFactors.length>0))},directives:[nt,I0],styles:[""]}),t})();const P6e=["addProcessPatternModal"],D6e=["deleteProcessPatternModal"],F6e=["methodInfoModal"],A6e=["patternInfoModal"],I6e=["selectDevelopmentMethodModal"],k6e=["selectProcessPatternModal"],N6e=["showTypesModal"],R6e=["developmentMethodSummaryModal"];function O6e(t,n){if(1&t){const e=ye();c(0,"div",33)(1,"app-process-patterns-selection-form",34),z("selectProcessPattern",function(o){W(e);const r=T().close,s=T();return s.appendProcessPattern.emit({nodeId:s.modalElement.id,processPattern:o}),r()}),u()()}if(2&t){const e=T(2);p(1),v("processPatterns",e.modalProcessPatterns)("contextSituationalFactors",e.bmProcess.situationalFactors)}}function B6e(t,n){if(1&t){const e=ye();c(0,"div",28)(1,"h4",29),g(2,"Add Method Pattern"),u(),c(3,"button",30),z("click",function(){return W(e).dismiss()}),c(4,"span",31),g(5,"\xd7"),u()()(),k(6,O6e,2,2,"div",32)}if(2&t){const e=T();p(6),v("ngIf",null!=e.modalElement)}}function L6e(t,n){if(1&t){const e=ye();c(0,"app-process-patterns-selection-form",34),z("selectProcessPattern",function(o){W(e);const r=T().close,s=T();return s.insertProcessPattern.emit({nodeId:s.modalElement.id,processPattern:o}),r()}),u()}if(2&t){const e=T(2);v("processPatterns",e.modalProcessPatterns)("contextSituationalFactors",e.bmProcess.situationalFactors)}}function j6e(t,n){if(1&t){const e=ye();c(0,"div",28)(1,"h4",29),g(2,"Select Method Pattern"),u(),c(3,"button",30),z("click",function(){return W(e).dismiss()}),c(4,"span",31),g(5,"\xd7"),u()()(),c(6,"div",33),k(7,L6e,1,2,"app-process-patterns-selection-form",35),u()}if(2&t){const e=T();p(7),v("ngIf",null!=e.modalElement)}}function G6e(t,n){if(1&t&&(c(0,"h4",29),g(1),u()),2&t){const e=T(2);p(1),Be(" Show types of ",e.modalElement.businessObject.name," ")}}function V6e(t,n){1&t&&(c(0,"div",37),g(1," Types are inherited from parent element. "),u())}function H6e(t,n){if(1&t&&(c(0,"span"),g(1),ci(2,"list"),u()),2&t){const e=T().$implicit;p(1),Xi("",e.element.name," (",Io(2,2,e.list),")")}}function U6e(t,n){if(1&t&&(c(0,"span"),g(1),ci(2,"list"),u()),2&t){const e=T().$implicit;p(1),_t(Io(2,1,e.list))}}function z6e(t,n){if(1&t&&(c(0,"li",43),k(1,H6e,3,4,"span",26),k(2,U6e,3,3,"span",26),u()),2&t){const e=n.$implicit;p(1),v("ngIf",e.element),p(1),v("ngIf",!e.element)}}function q6e(t,n){if(1&t&&(c(0,"ul",41),k(1,z6e,3,2,"li",42),u()),2&t){const e=T(4);p(1),v("ngForOf",e.modalElement.businessObject.get("neededType"))}}function $6e(t,n){1&t&&(c(0,"div",37),g(1," No needed types defined for this activity. "),u())}function W6e(t,n){if(1&t&&(c(0,"span"),g(1),ci(2,"list"),u()),2&t){const e=T().$implicit;p(1),Xi("",Io(2,2,e.list)," ",e.element.name,"")}}function Y6e(t,n){if(1&t&&(c(0,"span"),g(1),ci(2,"list"),u()),2&t){const e=T().$implicit;p(1),_t(Io(2,1,e.list))}}function X6e(t,n){if(1&t&&(c(0,"li",43),k(1,W6e,3,4,"span",26),k(2,Y6e,3,3,"span",26),u()),2&t){const e=n.$implicit;p(1),v("ngIf",e.element),p(1),v("ngIf",!e.element)}}function K6e(t,n){if(1&t&&(c(0,"ul",41),k(1,X6e,3,2,"li",42),u()),2&t){const e=T(4);p(1),v("ngForOf",e.modalElement.businessObject.get("forbiddenType"))}}function Q6e(t,n){1&t&&(c(0,"div",37),g(1," No forbidden types defined for this activity. "),u())}function J6e(t,n){if(1&t&&(St(0),c(1,"h5"),g(2,"Needed"),u(),k(3,q6e,2,1,"ul",39),k(4,$6e,2,0,"div",38),c(5,"h5",40),g(6,"Forbidden"),u(),k(7,K6e,2,1,"ul",39),k(8,Q6e,2,0,"div",38),Et()),2&t){const e=T(3);p(3),v("ngIf",e.modalElement.businessObject.get("neededType").length>0),p(1),v("ngIf",0===e.modalElement.businessObject.get("neededType").length),p(3),v("ngIf",e.modalElement.businessObject.get("forbiddenType").length>0),p(1),v("ngIf",0===e.modalElement.businessObject.get("forbiddenType").length)}}function Z6e(t,n){if(1&t&&(c(0,"div",33)(1,"div",37),g(2," Types that are defined for this activity. "),u(),k(3,V6e,2,0,"div",38),k(4,J6e,9,4,"ng-container",26),u()),2&t){const e=T(2);p(3),v("ngIf",e.modalElement.businessObject.inherit),p(1),v("ngIf",!e.modalElement.businessObject.inherit)}}function exe(t,n){if(1&t){const e=ye();c(0,"div",28),k(1,G6e,2,1,"h4",36),c(2,"button",30),z("click",function(){return W(e).dismiss()}),c(3,"span",31),g(4,"\xd7"),u()()(),k(5,Z6e,5,2,"div",32)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalElement),p(4),v("ngIf",null!=e.modalElement)}}function txe(t,n){if(1&t&&(c(0,"h4",29),g(1),u()),2&t){const e=T(2);p(1),Be(" Delete Method Pattern ",e.modalElement.businessObject.name," ")}}function nxe(t,n){if(1&t&&(c(0,"div",47),g(1),u()),2&t){const e=T(2);p(1),Be(" Deleting the Method Pattern ",e.modalElement.businessObject.name,". ")}}function ixe(t,n){if(1&t){const e=ye();c(0,"button",48),z("click",function(){W(e);const o=T().dismiss,r=T();return r.deleteProcessPattern.emit(r.modalElement.id),o()}),g(1," Delete Method Pattern "),u()}}function oxe(t,n){if(1&t){const e=ye();c(0,"div",28),k(1,txe,2,1,"h4",36),c(2,"button",30),z("click",function(){return W(e).dismiss()}),c(3,"span",31),g(4,"\xd7"),u()()(),c(5,"div",33),k(6,nxe,2,1,"div",44),u(),c(7,"div",45),k(8,ixe,2,0,"button",46),u()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalElement),p(5),v("ngIf",null!=e.modalElement),p(2),v("ngIf",null!=e.modalElement)}}function rxe(t,n){if(1&t&&(c(0,"h4",29),g(1),u()),2&t){const e=T(2);p(1),Be(" Select Method Building Block for ",e.modalElement.businessObject.name," ")}}function sxe(t,n){if(1&t){const e=ye();c(0,"app-development-methods-selection-form",50),z("selectDevelopmentMethod",function(o){W(e);const r=T(2);return r.insertDevelopmentMethod.emit({nodeId:r.modalElement.id,developmentMethod:o})}),u()}if(2&t){const e=T(2);v("contextSituationalFactors",e.bmProcess.situationalFactors)("developmentMethods",e.validDevelopmentMethods)}}function axe(t,n){if(1&t){const e=ye();c(0,"div",28),k(1,rxe,2,1,"h4",36),c(2,"button",30),z("click",function(){return W(e).dismiss()}),c(3,"span",31),g(4,"\xd7"),u()()(),c(5,"div",33),k(6,sxe,1,2,"app-development-methods-selection-form",49),u()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalElement),p(5),v("ngIf",null!=e.modalElement)}}function lxe(t,n){if(1&t&&(c(0,"h4",29),g(1),u()),2&t){const e=T(2);p(1),Be(" Overview of Activity ",e.modalElement.businessObject.name," ")}}function cxe(t,n){if(1&t){const e=ye();St(0),c(1,"div",33)(2,"app-method-info",51,52),z("updateDecisions",function(o){return W(e),T(2).updateDecisions(o)}),u()(),c(4,"div",53)(5,"button",54),z("click",function(){return W(e),T().dismiss()}),g(6," Close "),u(),c(7,"button",55),z("click",function(){return W(e),hn(3).update()}),g(8," Update all "),u()(),Et()}if(2&t){const e=T(2);p(2),v("bmProcess",e.bmProcess)("contextDomains",e.bmProcess.domains)("contextSituationalFactors",e.bmProcess.situationalFactors)("developmentMethod",e.modalDevelopmentMethod)("decision",e.bmProcess.decisions[e.modalElement.id])}}function uxe(t,n){if(1&t){const e=ye();c(0,"div",28),k(1,lxe,2,1,"h4",36),c(2,"button",30),z("click",function(){return W(e).dismiss()}),c(3,"span",31),g(4,"\xd7"),u()()(),k(5,cxe,9,5,"ng-container",26)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalElement),p(4),v("ngIf",null!=e.modalElement&&null!=e.modalDevelopmentMethod)}}function dxe(t,n){if(1&t&&(c(0,"h4",29),g(1),u()),2&t){const e=T(2);p(1),Be(" Summary of Activity ",e.modalElement.businessObject.name," ")}}function pxe(t,n){if(1&t&&re(0,"app-development-method-summary",57),2&t){const e=T(2);v("decision",e.bmProcess.decisions[e.modalElement.id])}}function mxe(t,n){if(1&t){const e=ye();c(0,"div",28),k(1,dxe,2,1,"h4",36),c(2,"button",30),z("click",function(){return W(e).dismiss()}),c(3,"span",31),g(4,"\xd7"),u()()(),c(5,"div",33),k(6,pxe,1,1,"app-development-method-summary",56),u()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalElement),p(5),v("ngIf",null!=e.modalElement)}}function fxe(t,n){if(1&t&&(c(0,"h4",29),g(1),u()),2&t){const e=T(3);p(1),Be(" Overview of Activity ",e.modalElement.businessObject.taskName," ")}}function hxe(t,n){if(1&t&&(c(0,"h4",29),g(1),u()),2&t){const e=T(3);p(1),Be(" Overview of Pattern ",e.modalProcessPattern.name," ")}}function gxe(t,n){if(1&t){const e=ye();c(0,"div",28),k(1,fxe,2,1,"h4",36),k(2,hxe,2,1,"h4",36),c(3,"button",30),z("click",function(){return W(e),T().dismiss()}),c(4,"span",31),g(5,"\xd7"),u()()()}if(2&t){const e=T(2);p(1),v("ngIf",e.modalElement.businessObject.taskName),p(1),v("ngIf",!e.modalElement.businessObject.taskName)}}function _xe(t,n){if(1&t&&re(0,"app-pattern-info",60),2&t){const e=T(2);v("contextSituationalFactors",e.bmProcess.situationalFactors)("processPattern",e.modalProcessPattern)}}function vxe(t,n){if(1&t&&(k(0,gxe,6,2,"div",58),c(1,"div",33),k(2,_xe,1,2,"app-pattern-info",59),u()),2&t){const e=T();v("ngIf",null!=e.modalElement&&null!=e.modalProcessPattern),p(2),v("ngIf",null!=e.modalProcessPattern)}}function bxe(t,n){1&t&&(c(0,"div",61),g(1," No errors. This Business Model Development Method can be instantiated. "),u())}function yxe(t,n){1&t&&(c(0,"div",62),g(1," This Business Model Development Method cannot be instantiated. "),u())}const B_=function(){return[]};function wxe(t,n){if(1&t){const e=ye();c(0,"li"),g(1," Method "),c(2,"a",64),z("click",function(){const r=W(e).$implicit;return T(2).focusElement(r.elementId)}),g(3),u(),g(4," is incomplete. "),u()}if(2&t){const e=n.$implicit;p(2),v("routerLink",Bt(2,B_)),p(1),_t(e.name)}}function xxe(t,n){if(1&t&&(c(0,"ul"),k(1,wxe,5,3,"li",63),u()),2&t){const e=T();p(1),v("ngForOf",e.incompleteMethodDecisions)}}function Cxe(t,n){1&t&&(c(0,"div",65),g(1," Loading warnings "),u())}function Mxe(t,n){1&t&&(c(0,"div",72),g(1," There are no warnings about situational factors with a too low value "),u())}function Sxe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function Exe(t,n){if(1&t){const e=ye();c(0,"li"),g(1),c(2,"a",64),z("click",function(){const r=W(e).$implicit;return T(4).focusElement(r.elementId)}),g(3),u(),g(4," has a too low value for the following factors "),c(5,"ul"),k(6,Sxe,2,1,"li",63),u()()}if(2&t){const e=n.$implicit;p(1),Be(" ",e.elementName," "),p(1),v("routerLink",Bt(4,B_)),p(1),_t(e.name),p(3),v("ngForOf",e.situationalFactors)}}function Txe(t,n){if(1&t&&(c(0,"ul"),k(1,Exe,7,5,"li",63),u()),2&t){const e=T(3);p(1),v("ngForOf",e.lowWarnings)}}function Pxe(t,n){if(1&t&&(k(0,Mxe,2,0,"div",71),k(1,Txe,2,1,"ul",26)),2&t){const e=T(2);v("ngIf",0===e.lowWarnings.length),p(1),v("ngIf",e.lowWarnings.length>0)}}function Dxe(t,n){1&t&&(c(0,"div",74),g(1," There are no warnings about situational factors with an incorrect value "),u())}function Fxe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function Axe(t,n){if(1&t){const e=ye();c(0,"li"),g(1),c(2,"a",64),z("click",function(){const r=W(e).$implicit;return T(4).focusElement(r.elementId)}),g(3),u(),g(4," has an incorrect value for the following factors "),c(5,"ul"),k(6,Fxe,2,1,"li",63),u()()}if(2&t){const e=n.$implicit;p(1),Be(" ",e.elementName," "),p(1),v("routerLink",Bt(4,B_)),p(1),_t(e.name),p(3),v("ngForOf",e.situationalFactors)}}function Ixe(t,n){if(1&t&&(c(0,"ul"),k(1,Axe,7,5,"li",63),u()),2&t){const e=T(3);p(1),v("ngForOf",e.incorrectWarnings)}}function kxe(t,n){if(1&t&&(k(0,Dxe,2,0,"div",73),k(1,Ixe,2,1,"ul",26)),2&t){const e=T(2);v("ngIf",0===e.incorrectWarnings.length),p(1),v("ngIf",e.incorrectWarnings.length>0)}}function Nxe(t,n){1&t&&(c(0,"div",74),g(1," There are no warnings about missing artifacts "),u())}function Rxe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e.name," ")}}function Oxe(t,n){if(1&t){const e=ye();c(0,"li"),g(1),c(2,"a",64),z("click",function(){const r=W(e).$implicit;return T(4).focusElement(r.elementId)}),g(3),u(),g(4," is missing the following Artifacts "),c(5,"ul"),k(6,Rxe,2,1,"li",63),u()()}if(2&t){const e=n.$implicit;p(1),Be(" ",e.elementName," "),p(1),v("routerLink",Bt(4,B_)),p(1),_t(e.name),p(3),v("ngForOf",e.artifacts)}}function Bxe(t,n){if(1&t&&(c(0,"ul"),k(1,Oxe,7,5,"li",63),u()),2&t){const e=T(3);p(1),v("ngForOf",e.missingArtifacts)}}function Lxe(t,n){if(1&t&&(k(0,Nxe,2,0,"div",73),k(1,Bxe,2,1,"ul",26)),2&t){const e=T(2);v("ngIf",0===e.missingArtifacts.length),p(1),v("ngIf",e.missingArtifacts.length>0)}}function jxe(t,n){1&t&&(c(0,"div",74),g(1," There are no warnings about unreachable methods or activities "),u())}function Gxe(t,n){if(1&t){const e=ye();c(0,"li"),g(1),c(2,"a",64),z("click",function(){const r=W(e).$implicit;return T(4).focusElement(r.elementId)}),g(3),u(),g(4," can not be reached. "),u()}if(2&t){const e=n.$implicit;p(1),Be(" ",e.elementName," "),p(1),v("routerLink",Bt(3,B_)),p(1),_t(e.name)}}function Vxe(t,n){if(1&t&&(c(0,"ul"),k(1,Gxe,5,4,"li",63),u()),2&t){const e=T(3);p(1),v("ngForOf",e.unreachableActivities)}}function Hxe(t,n){if(1&t&&(k(0,jxe,2,0,"div",73),k(1,Vxe,2,1,"ul",26)),2&t){const e=T(2);v("ngIf",0===e.unreachableActivities.length),p(1),v("ngIf",e.unreachableActivities.length>0)}}function Uxe(t,n){1&t&&(c(0,"ngb-accordion")(1,"ngb-panel",66),k(2,Pxe,2,2,"ng-template",67),u(),c(3,"ngb-panel",68),k(4,kxe,2,2,"ng-template",67),u(),c(5,"ngb-panel",69),k(6,Lxe,2,2,"ng-template",67),u(),c(7,"ngb-panel",70),k(8,Hxe,2,2,"ng-template",67),u()())}let B0=(()=>{class t{constructor(e,i,o,r,s){this.bmProcessDiagramModelerService=e,this.bmProcessService=i,this.developmentMethodService=o,this.modalService=r,this.processPatternService=s,this.saveBmProcess=new je,this.appendProcessPattern=new je,this.insertProcessPattern=new je,this.deleteProcessPattern=new je,this.insertDevelopmentMethod=new je,this.removeDevelopmentMethod=new je,this.lowWarnings=[],this.incorrectWarnings=[],this.isGeneratingWarnings=!1,this.wantsToGenerateWarnings=!1,this.incompleteMethodDecisions=[],this.missingArtifacts=[],this.unreachableActivities=[]}ngOnChanges(e){e.bmProcess&&(this.checkWarnings(),this.checkArtifacts(),this.checkComplete())}openAddProcessPatternModal(e){var i=this;return Y(function*(){i.modalProcessPatterns=void 0,i.modalElement=e,i.modalProcessPatterns=yield i.processPatternService.getSortedValidProcessPatterns([{list:"initialisation"}],[],i.bmProcess.situationalFactors.map(o=>o.element)),i.modalReference=i.modalService.open(i.addProcessPatternModal,{size:"lg"})})()}openShowTypesModal(e){this.modalElement=e,this.modalReference=this.modalService.open(this.showTypesModal,{size:"lg"})}openDeleteProcessPatternModal(e){this.modalElement=e,this.modalReference=this.modalService.open(this.deleteProcessPatternModal,{size:"lg"})}openSelectDevelopmentMethodModal(e){var i=this;return Y(function*(){i.modalElement=e;const o=i.bmProcessDiagramModelerService.getTypesOfActivity(e);i.validDevelopmentMethods=yield i.developmentMethodService.getSortedValidDevelopmentMethods(o.neededType,o.forbiddenType,i.bmProcess.situationalFactors.map(r=>r.element)),i.modalReference=i.modalService.open(i.selectDevelopmentMethodModal,{size:"lg",beforeDismiss:()=>(i.validDevelopmentMethods=void 0,!0)})})()}resetSelectDevelopmentMethodModal(){var e;this.validDevelopmentMethods=void 0,null===(e=this.modalReference)||void 0===e||e.close()}openMethodInfoModal(e){this.modalElement=e,this.modalDevelopmentMethod=this.bmProcess.decisions[e.id].method,this.modalReference=this.modalService.open(this.methodInfoModal,{size:"lg"})}openDevelopmentMethodSummary(e){this.modalElement=e,this.modalReference=this.modalService.open(this.developmentMethodSummaryModal,{size:"lg"})}openProcessPatternInfoModal(e){var i=this;return Y(function*(){i.modalElement=e,i.modalProcessPattern=yield i.processPatternService.get(e.businessObject.get("processPatternId")),i.modalReference=i.modalService.open(i.patternInfoModal,{size:"lg"})})()}openSelectProcessPatternModal(e){var i=this;return Y(function*(){i.modalProcessPatterns=void 0,i.modalElement=e;const o=i.bmProcessDiagramModelerService.getTypesOfActivity(e);i.modalProcessPatterns=yield i.processPatternService.getSortedValidProcessPatterns([...o.neededType,{list:"generic"}],o.forbiddenType,i.bmProcess.situationalFactors.map(r=>r.element)),i.modalReference=i.modalService.open(i.selectProcessPatternModal,{size:"lg"})})()}checkWarnings(){var e=this;return Y(function*(){if(e.isGeneratingWarnings)return void(e.wantsToGenerateWarnings=!0);e.isGeneratingWarnings=!0;const i=[],o=[],r=(d,h,w,P)=>{const{low:N,incorrect:L}=e.bmProcessService.checkMatch(e.bmProcess,P);N.length>0&&i.push({elementName:h,name:w,elementId:d,situationalFactors:N.map(U=>U.factor.name)}),L.length>0&&o.push({elementName:h,name:w,elementId:d,situationalFactors:L.map(U=>U.factor.name)})};Object.keys(e.bmProcess.decisions).forEach(d=>(d=>{const h=e.bmProcess.decisions[d].method;r(d,"Method",h.name,h.situationalFactors.map(w=>w.element))})(d)),(yield e.bmProcessService.getPatterns(e.bmProcess)).forEach(d=>((d,h)=>{r(d,"Pattern",h.name,h.situationalFactors.map(w=>w.element))})(d.nodeId,d.processPattern)),e.wantsToGenerateWarnings||(e.lowWarnings=i,e.incorrectWarnings=o),e.isGeneratingWarnings=!1,e.wantsToGenerateWarnings&&(e.wantsToGenerateWarnings=!1,yield e.checkWarnings())})()}focusElement(e){this.bmProcessModelerComponent.focus(e)}updateDecisions(e){var i=this;return Y(function*(){null!=i.modalElement&&(i.bmProcess.decisions[i.modalElement.id].update(e),yield i.saveDiagram(i.bmProcess.decisions))})()}saveDiagram(e){var i=this;return Y(function*(){const o=yield i.bmProcessModelerComponent.getDiagramXml();i.saveBmProcess.emit(null!=e?{decisions:e,processDiagram:o}:{processDiagram:o})})()}diagramChanged(){var e=this;return Y(function*(){return e.bmProcessModelerComponent.diagramChanged()})()}checkArtifacts(){var e=this;return Y(function*(){const i=yield e.bmProcessService.checkArtifacts(e.bmProcess),o=e.bmProcess.decisions,r=i.map(s=>{const a=s.node,l=a.id;let d,h;return l in o?(d="Method",h=o[l].method.name):a.businessObject.name?(d="Activity",h=a.businessObject.name):(d="Node",h=a.type),{artifacts:s.missingArtifacts,elementId:l,elementName:d,name:h}});e.missingArtifacts=r.filter(s=>null!=s.artifacts),e.unreachableActivities=r.filter(s=>!s.artifacts)})()}checkComplete(){this.incompleteMethodDecisions=Object.entries(this.bmProcess.decisions).filter(([,e])=>!e.isComplete()||!this.bmProcessService.checkDecisionStepArtifacts(e)).map(([e,i])=>({elementId:e,name:i.method.name}))}}return t.\u0275fac=function(e){return new(e||t)(H(dE),H(Na),H(dl),H(jn),H(Ou))},t.\u0275cmp=He({type:t,selectors:[["app-bm-process-edit-diagram"]],viewQuery:function(e,i){if(1&e&&(Ft(qj,5),Ft(P6e,7),Ft(D6e,7),Ft(F6e,7),Ft(A6e,7),Ft(I6e,7),Ft(k6e,7),Ft(N6e,7),Ft(R6e,7)),2&e){let o;bt(o=yt())&&(i.bmProcessModelerComponent=o.first),bt(o=yt())&&(i.addProcessPatternModal=o.first),bt(o=yt())&&(i.deleteProcessPatternModal=o.first),bt(o=yt())&&(i.methodInfoModal=o.first),bt(o=yt())&&(i.patternInfoModal=o.first),bt(o=yt())&&(i.selectDevelopmentMethodModal=o.first),bt(o=yt())&&(i.selectProcessPatternModal=o.first),bt(o=yt())&&(i.showTypesModal=o.first),bt(o=yt())&&(i.developmentMethodSummaryModal=o.first)}},inputs:{bmProcess:"bmProcess"},outputs:{saveBmProcess:"saveBmProcess",appendProcessPattern:"appendProcessPattern",insertProcessPattern:"insertProcessPattern",deleteProcessPattern:"deleteProcessPattern",insertDevelopmentMethod:"insertDevelopmentMethod",removeDevelopmentMethod:"removeDevelopmentMethod"},features:[Xt],decls:66,vars:6,consts:[["addProcessPatternModal",""],["selectProcessPatternModal",""],["showTypesModal",""],["deleteProcessPatternModal",""],["selectDevelopmentMethodModal",""],["methodInfoModal",""],["developmentMethodSummaryModal",""],["patternInfoModal",""],[3,"bmProcess","addProcessPattern","insertProcessPattern","deleteProcessPattern","insertDevelopmentMethod","removeDevelopmentMethod","showMethodInfo","showMethodSummary","showTypes","showProcessPatternInfo"],[1,"container"],[1,"p-3","bg-white","rounded","shadow-sm"],[1,"row"],[1,"col-4"],[1,"fas","fa-list","bpmn-legend-icon"],[1,"fas","fa-clipboard-check","bpmn-legend-icon"],[1,"fas","fa-info-circle","bpmn-legend-icon"],[1,"fas","fa-database","bpmn-legend-icon"],[1,"fas","fa-clipboard-list","bpmn-legend-icon"],[1,"far","fa-trash-alt","bpmn-legend-icon"],[1,"fas","fa-sign-in-alt","bpmn-legend-icon"],[1,"far","fa-plus-square","bpmn-legend-icon"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"btn","btn-primary",3,"click"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],[4,"ngIf"],["class","alert alert-info mb-0",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[3,"processPatterns","contextSituationalFactors","selectProcessPattern"],[3,"processPatterns","contextSituationalFactors","selectProcessPattern",4,"ngIf"],["class","modal-title",4,"ngIf"],[1,"alert","alert-info"],["class","alert alert-info",4,"ngIf"],["class","list-group",4,"ngIf"],[1,"mt-3"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["class","alert alert-warning",4,"ngIf"],[1,"modal-footer"],["class","btn btn-danger btn-block",3,"click",4,"ngIf"],[1,"alert","alert-warning"],[1,"btn","btn-danger","btn-block",3,"click"],[3,"contextSituationalFactors","developmentMethods","selectDevelopmentMethod",4,"ngIf"],[3,"contextSituationalFactors","developmentMethods","selectDevelopmentMethod"],[3,"bmProcess","contextDomains","contextSituationalFactors","developmentMethod","decision","updateDecisions"],["methodInfo",""],[1,"modal-footer","d-flex"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary","ml-auto",3,"click"],[3,"decision",4,"ngIf"],[3,"decision"],["class","modal-header",4,"ngIf"],[3,"contextSituationalFactors","processPattern",4,"ngIf"],[3,"contextSituationalFactors","processPattern"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[3,"routerLink","click"],[1,"alert","alert-info","mb-0"],["title","Low value Warnings"],["ngbPanelContent",""],["title","Incorrect value Warnings"],["title","Missing Artifacts"],["title","Unreachable"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-success"],["class","alert alert-success mb-0",4,"ngIf"],[1,"alert","alert-success","mb-0"]],template:function(e,i){1&e&&(k(0,B6e,7,1,"ng-template",null,0,$t),k(2,j6e,8,1,"ng-template",null,1,$t),k(4,exe,6,2,"ng-template",null,2,$t),k(6,oxe,9,3,"ng-template",null,3,$t),k(8,axe,7,2,"ng-template",null,4,$t),k(10,uxe,6,2,"ng-template",null,5,$t),k(12,mxe,7,2,"ng-template",null,6,$t),k(14,vxe,3,2,"ng-template",null,7,$t),c(16,"app-bm-process-modeler",8),z("addProcessPattern",function(r){return i.openAddProcessPatternModal(r)})("insertProcessPattern",function(r){return i.openSelectProcessPatternModal(r)})("deleteProcessPattern",function(r){return i.openDeleteProcessPatternModal(r)})("insertDevelopmentMethod",function(r){return i.openSelectDevelopmentMethodModal(r)})("removeDevelopmentMethod",function(r){return i.removeDevelopmentMethod.emit(r.id)})("showMethodInfo",function(r){return i.openMethodInfoModal(r)})("showMethodSummary",function(r){return i.openDevelopmentMethodSummary(r)})("showTypes",function(r){return i.openShowTypesModal(r)})("showProcessPatternInfo",function(r){return i.openProcessPatternInfoModal(r)}),u(),c(17,"div",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"strong"),g(22,"Legend:"),u()()(),c(23,"div",11)(24,"div",12),re(25,"i",13),g(26," Show types "),u(),c(27,"div",12),re(28,"i",14),g(29," Show Method Building Block summary "),u(),c(30,"div",12),re(31,"i",15),g(32," Show Method Pattern details "),u()(),c(33,"div",11)(34,"div",12),re(35,"i",16),g(36," Select Method Building Block "),u(),c(37,"div",12),re(38,"i",17),g(39," Edit Method Building Block details "),u(),c(40,"div",12),re(41,"i",18),g(42," Remove Method Building Block from task / Delete Method Pattern "),u()(),c(43,"div",11)(44,"div",12),re(45,"i",19),g(46," Insert Method Pattern "),u(),c(47,"div",12),re(48,"i",20),g(49," Add Method Pattern "),u()()(),c(50,"div",21)(51,"h6",22),g(52,"Controls"),u(),c(53,"button",23),z("click",function(){return i.saveDiagram()}),g(54," Save Diagram "),u()(),c(55,"div",21)(56,"h6",22),g(57,"Errors"),u(),k(58,bxe,2,0,"div",24),k(59,yxe,2,0,"div",25),k(60,xxe,2,1,"ul",26),u(),c(61,"div",21)(62,"h6",22),g(63,"Warnings"),u(),k(64,Cxe,2,0,"div",27),k(65,Uxe,9,0,"ngb-accordion",26),u()()),2&e&&(p(16),v("bmProcess",i.bmProcess),p(42),v("ngIf",0===i.incompleteMethodDecisions.length),p(1),v("ngIf",i.incompleteMethodDecisions.length>0),p(1),v("ngIf",i.incompleteMethodDecisions.length>0),p(4),v("ngIf",i.isGeneratingWarnings),p(1),v("ngIf",!i.isGeneratingWarnings))},directives:[nt,n2e,Lt,Wj,Xj,O0,T6e,qj,gn,o0,c_,n0],pipes:[O_],styles:[".bpmn-legend-icon[_ngcontent-%COMP%]{width:1rem;height:1rem}"]}),t})(),zxe=1;const qxe=Promise.resolve(),L0={};function Kj(t){return t in L0&&(delete L0[t],!0)}const Qj={setImmediate(t){const n=zxe++;return L0[n]=!0,qxe.then(()=>Kj(n)&&t()),n},clearImmediate(t){Kj(t)}},Jj=new class Wxe extends Bl{flush(n){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,o=-1,r=e.length;n=n||e.shift();do{if(i=n.execute(n.state,n.delay))break}while(++o<r&&(n=e.shift()));if(this.active=!1,i){for(;++o<r&&(n=e.shift());)n.unsubscribe();throw i}}}(class $xe extends rx{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n.scheduled||(n.scheduled=Qj.setImmediate(n.flush.bind(n,null))))}recycleAsyncId(n,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(n,e,i);0===n.actions.length&&(Qj.clearImmediate(e),n.scheduled=void 0)}}),B3=Jj;class j0 extends X{constructor(n,e=0,i=B3){super(),this.source=n,this.delayTime=e,this.scheduler=i,(!mE(e)||e<0)&&(this.delayTime=0),(!i||"function"!=typeof i.schedule)&&(this.scheduler=B3)}static create(n,e=0,i=B3){return new j0(n,e,i)}static dispatch(n){const{source:e,subscriber:i}=n;return this.add(e.subscribe(i))}_subscribe(n){return this.scheduler.schedule(j0.dispatch,this.delayTime,{source:this.source,subscriber:n})}}class Xxe{constructor(n,e){this.scheduler=n,this.delay=e}call(n,e){return new j0(e,this.delay,this.scheduler).subscribe(n)}}let Es=(()=>{class t{constructor(e){this.route=e,this._loaded=new Oj(1),this._loadedObservable=this._loaded.asObservable(),this.routeSubscription=this.route.paramMap.pipe(un(()=>this.checkUnsubscribeChangesFeed()),function Yxe(t,n=0){return function(i){return i.lift(new Xxe(t,n))}}(Jj)).subscribe(i=>this.initParams(i))}get loaded(){return this._loadedObservable}set changesFeed(e){this._changesFeed=e}ngOnDestroy(){this.checkUnsubscribeChangesFeed(),this.routeSubscription.unsubscribe(),this._loaded.complete()}checkUnsubscribeChangesFeed(){this._changesFeed&&(this._changesFeed.unsubscribe(),this._changesFeed=void 0)}elementLoaded(){this._loaded.next()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),Zj=(()=>{class t extends Es{constructor(e,i){super(i),this.bmProcessService=e}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.bmProcessService.getChangesFeed(i).subscribe(()=>this.loadBmProcess(i)),this.loadBmProcess(i)):this.bmProcess=void 0}loadBmProcess(e){var i=this;return Y(function*(){i.bmProcess=yield i.bmProcessService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Na),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function Kxe(t,n){if(1&t){const e=ye();c(0,"button",10),z("click",function(){return W(e),T().check()}),g(1," Check "),u()}}let L3=(()=>{class t{constructor(e,i,o){this.activeModal=e,this.modalService=i,this.router=o}dismiss(){this.activeModal.dismiss()}check(){var e=this;return Y(function*(){null!=e.developmentMethod&&(e.modalService.dismissAll(),yield e.router.navigate(["methods","methodview",e.developmentMethod._id]))})()}}return t.\u0275fac=function(e){return new(e||t)(H(ar),H(jn),H(oi))},t.\u0275cmp=He({type:t,selectors:[["app-development-method-incomplete-modal"]],inputs:{developmentMethod:"developmentMethod"},decls:15,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"sr-only"],[1,"modal-body"],[1,"alert","alert-warning"],[1,"modal-footer","d-flex"],["type","button",1,"btn","btn-dark",3,"click"],["type","button","class","btn btn-primary ml-auto",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","ml-auto",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2,"Building Block incomplete"),u(),c(3,"button",2),z("click",function(){return i.dismiss()}),c(4,"span",3),g(5,"\xd7"),u(),c(6,"span",4),g(7,"Close Window"),u()()(),c(8,"div",5)(9,"div",6),g(10," The provided building block is incomplete. Please check it in the building block overview. "),u()(),c(11,"div",7)(12,"button",8),z("click",function(){return i.dismiss()}),g(13,"Close"),u(),k(14,Kxe,2,0,"button",9),u()),2&e&&(p(14),v("ngIf",null!=i.developmentMethod))},directives:[nt],styles:[""]}),t})();function Qxe(t,n){if(1&t){const e=ye();c(0,"button",10),z("click",function(){return W(e),T().check()}),g(1," Check "),u()}}let G0=(()=>{class t{constructor(e,i,o){this.activeModal=e,this.modalService=i,this.router=o}dismiss(){this.activeModal.dismiss()}check(){var e=this;return Y(function*(){null!=e.processPattern&&(e.modalService.dismissAll(),yield e.router.navigate(["process","processview",e.processPattern._id]))})()}}return t.\u0275fac=function(e){return new(e||t)(H(ar),H(jn),H(oi))},t.\u0275cmp=He({type:t,selectors:[["app-process-pattern-incomplete-modal"]],inputs:{processPattern:"processPattern"},decls:15,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"sr-only"],[1,"modal-body"],[1,"alert","alert-warning"],[1,"modal-footer","d-flex"],["type","button",1,"btn","btn-dark",3,"click"],["type","button","class","btn btn-primary ml-auto",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","ml-auto",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2,"Method Pattern incomplete"),u(),c(3,"button",2),z("click",function(){return i.dismiss()}),c(4,"span",3),g(5,"\xd7"),u(),c(6,"span",4),g(7,"Close Window"),u()()(),c(8,"div",5)(9,"div",6),g(10," The provided method pattern has errors. Please check it in the method pattern overview. "),u()(),c(11,"div",7)(12,"button",8),z("click",function(){return i.dismiss()}),g(13,"Close"),u(),k(14,Qxe,2,0,"button",9),u()),2&e&&(p(14),v("ngIf",null!=i.processPattern))},directives:[nt],styles:[""]}),t})(),Jxe=(()=>{class t{constructor(e){this.controlContainer=e,this.domainDefinitions=[],this.remove=new je,this.openDomainInput=new Oe,this.searchDomains=i=>Pn(Ka(i),this.openDomainInput).pipe(Ze(o=>this.domainDefinitions.filter(r=>r.name.toLowerCase().includes(o.toLowerCase())).slice(0,7)))}formatter(e){return e.name}selectItem(e){e.preventDefault(),this.formControl.setValue(new _s(e.item,void 0))}get formControl(){return this.controlContainer.control}}return t.\u0275fac=function(e){return new(e||t)(H(Ko))},t.\u0275cmp=He({type:t,selectors:[["app-domain-selection-form"]],inputs:{domainDefinitions:"domainDefinitions",index:"index"},outputs:{remove:"remove"},decls:9,vars:7,consts:[[1,"form-row"],[1,"form-group","col"],[3,"for"],[1,"input-group"],["type","text",1,"form-control",3,"formControl","id","ngbTypeahead","editable","resultFormatter","inputFormatter","selectItem","click","focus"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary","align-self-baseline",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"div",1)(2,"label",2),g(3,"Domain"),u(),c(4,"div",3)(5,"input",4),z("selectItem",function(r){return i.selectItem(r)})("click",function(r){return i.openDomainInput.next(r.target.value)})("focus",function(r){return i.openDomainInput.next(r.target.value)}),u(),c(6,"div",5)(7,"button",6),z("click",function(){return i.remove.emit()}),g(8," Remove "),u()()()()()),2&e&&(p(2),Pi("for","domainSelection",i.index,""),p(3),Pi("id","domainSelection",i.index,""),v("formControl",i.formControl)("ngbTypeahead",i.searchDomains)("editable",!1)("resultFormatter",i.formatter)("inputFormatter",i.formatter))},directives:[wn,$u,Jt,s_],styles:[""]}),t})();function Zxe(t,n){if(1&t){const e=ye();c(0,"app-domain-selection-form",9),z("remove",function(){const r=W(e).index;return T().remove(r)}),u()}if(2&t){const e=n.index,i=T();v("formGroupName",e.toString())("domainDefinitions",i.domainDefinitions)("index",e)}}function eCe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let eG=(()=>{class t{constructor(e,i){this.domainService=e,this.fb=i,this.submitDomainsForm=new je,this.domainsForm=this.fb.group({domains:this.fb.array([])}),this.changed=!1,this.domainDefinitions=[]}ngOnInit(){this.loadDomains(),this.changeSubscription=this.domainsForm.valueChanges.pipe($i(300),un(e=>this.changed=!va(this.domains,e.domains))).subscribe()}ngOnChanges(e){if(e.domains){const o=e.domains.currentValue;va(e.domains.previousValue,o)||this.loadForm(o)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}add(){this.domainsFormArray.push(this.fb.control(null,ft.required))}remove(e){this.domainsFormArray.removeAt(e)}loadForm(e){const i=e.map(o=>this.fb.control(o,ft.required));this.domainsForm.setControl("domains",this.fb.array(i))}submitForm(){this.submitDomainsForm.emit(this.domainsFormArray)}update(){this.changed&&this.domainsForm.valid&&this.submitForm()}get domainsFormArray(){return this.domainsForm.get("domains")}loadDomains(){var e=this;return Y(function*(){e.domainDefinitions=yield e.domainService.getList()})()}}return t.\u0275fac=function(e){return new(e||t)(H(e_),H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-domains-selection-form"]],inputs:{domains:"domains"},outputs:{submitDomainsForm:"submitDomainsForm"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:11,vars:8,consts:[[3,"formGroup","ngSubmit"],["formArrayName","domains",1,"form-group"],[3,"formGroupName","domainDefinitions","index","remove",4,"ngFor","ngForOf"],[1,"form-group","d-flex"],["type","button",1,"btn","btn-secondary","ml-auto",3,"click"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"],[3,"formGroupName","domainDefinitions","index","remove"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1),k(2,Zxe,1,3,"app-domain-selection-form",2),u(),c(3,"div",3)(4,"button",4),z("click",function(){return i.add()}),g(5," Add Domain "),u()(),c(6,"div",5)(7,"div",6)(8,"button",7),g(9," Update"),k(10,eCe,2,0,"span",8),u()()()()),2&e&&(v("formGroup",i.domainsForm),p(2),v("ngForOf",i.domainsFormArray.controls),p(6),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.domainsForm.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,vo,Lt,Jxe,kr,nt],styles:[""]}),t})();function tCe(t,n){1&t&&(c(0,"span"),g(1,"This field is required."),u())}function nCe(t,n){if(1&t&&(c(0,"option",15),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e),p(1),Be(" ",e," ")}}let iCe=(()=>{class t{constructor(e,i){this.fb=e,this.formGroupDirective=i,this.remove=new je,this.openListInput=new Oe,this.openElementInput=new Oe,this.searchLists=o=>Pn(Ka(o),this.openListInput).pipe(Ze(r=>this.listNames.filter(s=>s.toLowerCase().includes(r.toLowerCase())).slice(0,7))),this.searchElements=o=>Pn(Ka(o),this.openElementInput).pipe(Ze(r=>this.methodElements.filter(s=>(!this.listControl.value||s.list.toLowerCase()===this.listControl.value.toLowerCase())&&s.name.toLowerCase().includes(r.toLowerCase())).slice(0,7)))}ngOnInit(){this.listChangeSubscription=this.listControl.valueChanges.pipe(Li(e=>this.factorControl.value&&this.factorControl.value.list!==e),un(()=>this.elementControl.setValue({factor:null,value:null}))).subscribe(),this.factorChangeSubscription=this.factorControl.valueChanges.pipe(un(()=>this.valueControl.setValue(null)),Li(e=>e&&this.listControl.value!==e.list),un(e=>this.listControl.setValue(e.list))).subscribe()}ngOnDestroy(){null!=this.listChangeSubscription&&this.listChangeSubscription.unsubscribe(),null!=this.factorChangeSubscription&&this.factorChangeSubscription.unsubscribe(),this.openListInput.complete(),this.openElementInput.complete()}selectFactor(e){e.preventDefault(),this.factorControl.setValue(new Nh(e.item,void 0))}get values(){return null==this.factorValue?[]:this.factorValue.values}formatter(e){return e.name}get listControl(){return this.formGroup.get("list")}get elementControl(){return this.formGroup.get("element")}get factorControl(){return this.elementControl.get("factor")}get factorValue(){return this.factorControl.value}get valueControl(){return this.elementControl.get("value")}get formGroup(){return this.formGroupDirective.control}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(Vt))},t.\u0275cmp=He({type:t,selectors:[["app-situational-factor-selection-form"]],inputs:{methodElements:"methodElements",listNames:"listNames"},outputs:{remove:"remove"},decls:21,vars:10,consts:[[1,"form-row",3,"formGroup"],[1,"form-group","col"],["for","listInput"],["type","text","formControlName","list","id","listInput","aria-describedby","listInputFeedback",1,"form-control",3,"ngbTypeahead","click","focus"],["id","listInputFeedback",1,"invalid-feedback"],[4,"ngIf"],["formGroupName","element"],["for","elementInput"],["type","text","formControlName","factor","id","elementInput",1,"form-control",3,"ngbTypeahead","editable","resultFormatter","inputFormatter","selectItem","click","focus"],["for","factorValue"],[1,"input-group"],["formControlName","value","id","factorValue",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary","align-self-baseline",3,"click"],[3,"ngValue"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"div",1)(2,"label",2),g(3,"List"),u(),c(4,"input",3),z("click",function(r){return i.openListInput.next(r.target.value)})("focus",function(r){return i.openListInput.next(r.target.value)}),u(),c(5,"div",4),k(6,tCe,2,0,"span",5),u()(),St(7,6),c(8,"div",1)(9,"label",7),g(10,"Situational Factor"),u(),c(11,"input",8),z("selectItem",function(r){return i.selectFactor(r)})("click",function(r){return i.openElementInput.next(r.target.value)})("focus",function(r){return i.openElementInput.next(r.target.value)}),u()(),c(12,"div",1)(13,"label",9),g(14,"Value"),u(),c(15,"div",10)(16,"select",11),k(17,nCe,2,2,"option",12),u(),c(18,"div",13)(19,"button",14),z("click",function(){return i.remove.emit()}),g(20," Remove "),u()()()(),Et(),u()),2&e&&(v("formGroup",i.formGroup),p(4),Ht("is-invalid",i.listControl.invalid),v("ngbTypeahead",i.searchLists),p(2),v("ngIf",i.listControl.hasError("required")),p(5),v("ngbTypeahead",i.searchElements)("editable",!1)("resultFormatter",i.formatter)("inputFormatter",i.formatter),p(6),v("ngForOf",i.values))},directives:[Wt,Vt,wn,$u,Jt,Zt,nt,kr,ki,Lt,Vi,Hi],styles:[""]}),t})();function oCe(t,n){if(1&t){const e=ye();c(0,"app-method-element-selection-form",5),z("remove",function(){const r=W(e).index;return T().remove(r)}),u()}if(2&t){const e=n.formGroup,i=T();v("formGroup",e)("listNames",i.listNames)("methodElements",i.methodElements)("methodElementName",i.methodElementName)("multipleAllowed",i.multipleAllowed)}}function rCe(t,n){1&t&&za(0)}function sCe(t,n){if(1&t&&(c(0,"div"),k(1,rCe,1,0,"ng-container",6),u()),2&t){const e=n.$implicit,i=n.index,o=T(),r=hn(1);p(1),v("ngTemplateOutlet",o.methodElementFormTemplate?o.methodElementFormTemplate:r)("ngTemplateOutletContext",o.getTemplateContext(e,i))}}let j3=(()=>{class t{constructor(e){this.formArrayName=e,this.methodElementName="Element",this.multipleAllowed=!1,this.methodElements=[],this.listNames=[]}add(){this.formArray.push(this.createFormGroupFactory())}remove(e){this.formArray.removeAt(e)}get formArray(){return this.formArrayName.control}getTemplateContext(e,i){return{formGroup:e,index:i,listNames:this.listNames,methodElements:this.methodElements,methodElementName:this.methodElementName,remove:this.remove.bind(this)}}}return t.\u0275fac=function(e){return new(e||t)(H(vo))},t.\u0275cmp=He({type:t,selectors:[["app-method-elements-selection-form"]],inputs:{methodElementName:"methodElementName",multipleAllowed:"multipleAllowed",methodElements:"methodElements",listNames:"listNames",methodElementFormTemplate:"methodElementFormTemplate",createFormGroupFactory:"createFormGroupFactory"},decls:7,vars:2,consts:[["defaultMethodElementSelectionForm",""],[1,"form-group"],[4,"ngFor","ngForOf"],[1,"form-group","d-flex"],["type","button",1,"btn","btn-secondary","ml-auto",3,"click"],[3,"formGroup","listNames","methodElements","methodElementName","multipleAllowed","remove"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(k(0,oCe,1,5,"ng-template",null,0,$t),c(2,"div",1),k(3,sCe,2,2,"div",2),u(),c(4,"div",3)(5,"button",4),z("click",function(){return i.add()}),g(6),u()()),2&e&&(p(3),v("ngForOf",i.formArray.controls),p(3),Be(" Add ",i.methodElementName," "))},directives:[k0,Wt,Vt,Lt,_a],styles:[""]}),t})();function aCe(t,n){if(1&t){const e=ye();c(0,"app-situational-factor-selection-form",7),z("remove",function(){const o=W(e);return o.remove(o.index)}),u()}if(2&t){const e=n.formGroup,i=T();v("formGroup",e)("methodElements",i.methodElements)("listNames",i.listNames)}}function lCe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let G3=(()=>{class t{constructor(e,i){this.fb=e,this.situationalFactorService=i,this.submitSituationalFactorsForm=new je,this.situationalFactorsForm=this.fb.group({situationalFactors:this.fb.array([])}),this.changed=!1,this.methodElements=[],this.listNames=[],this.createFormGroupFactory=()=>this.fb.group({list:["",ft.required],element:this.fb.group({factor:[null,ft.required],value:[null,ft.required]})})}ngOnInit(){this.loadFactors(),this.changeSubscription=this.situationalFactorsForm.valueChanges.pipe($i(300),un(e=>this.changed=!va(this.situationalFactors,e.situationalFactors))).subscribe()}ngOnChanges(e){if(e.situationalFactors){const o=e.situationalFactors.currentValue;va(e.situationalFactors.previousValue,o)||this.loadForm(o)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitSituationalFactorsForm.emit(this.situationalFactorsForm.get("situationalFactors"))}update(){this.changed&&this.situationalFactorsForm.valid&&this.submitForm()}loadForm(e){const i=e.map(o=>{var r,s;return this.fb.group({list:[o.list,ft.required],element:this.fb.group({factor:[null===(r=o.element)||void 0===r?void 0:r.factor,ft.required],value:[null===(s=o.element)||void 0===s?void 0:s.value,ft.required]})})});this.situationalFactorsForm.setControl("situationalFactors",this.fb.array(i))}loadFactors(){var e=this;return Y(function*(){e.methodElements=yield e.situationalFactorService.getList(),e.listNames=[...new Set(e.methodElements.map(i=>i.list))]})()}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(Hc))},t.\u0275cmp=He({type:t,selectors:[["app-situational-factors-selection-form"]],inputs:{situationalFactors:"situationalFactors"},outputs:{submitSituationalFactorsForm:"submitSituationalFactorsForm"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:9,vars:11,consts:[["situationalFactorSelectionForm",""],[3,"formGroup","ngSubmit"],["formArrayName","situationalFactors","methodElementName","Situational Factor",1,"form-group",3,"createFormGroupFactory","listNames","methodElementFormTemplate","methodElements"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"],[3,"formGroup","methodElements","listNames","remove"]],template:function(e,i){if(1&e&&(k(0,aCe,1,3,"ng-template",null,0,$t),c(2,"form",1),z("ngSubmit",function(){return i.submitForm()}),re(3,"app-method-elements-selection-form",2),c(4,"div",3)(5,"div",4)(6,"button",5),g(7," Update"),k(8,lCe,2,0,"span",6),u()()()()),2&e){const o=hn(1);p(2),v("formGroup",i.situationalFactorsForm),p(1),v("createFormGroupFactory",i.createFormGroupFactory)("listNames",i.listNames)("methodElementFormTemplate",o)("methodElements",i.methodElements),p(3),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.situationalFactorsForm.valid),p(2),v("ngIf",i.changed)}},directives:[iCe,Wt,Vt,nn,j3,vo,nt],styles:[""]}),t})();function cCe(t,n){if(1&t){const e=ye();c(0,"button",10),z("click",function(){return W(e),T().finishInitialization.emit()}),g(1," Finish definition of the context "),u()}}const uCe=["*"];let pp=(()=>{class t{constructor(){this.finishAllowed=!1,this.updateDomains=new je,this.updateSituationalFactors=new je,this.finishInitialization=new je}update(){for(const e of this.updatable)e.update()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-context-edit"]],viewQuery:function(e,i){if(1&e&&Ft(Yi,5),2&e){let o;bt(o=yt())&&(i.updatable=o)}},inputs:{finishAllowed:"finishAllowed",domains:"domains",situationalFactors:"situationalFactors"},outputs:{updateDomains:"updateDomains",updateSituationalFactors:"updateSituationalFactors",finishInitialization:"finishInitialization"},features:[Tt([{provide:Yi,useExisting:t}])],ngContentSelectors:uCe,decls:20,vars:3,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"d-flex","align-items-baseline","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],[1,"border-bottom","border-gray","pb-2"],[1,"alert","alert-info"],[1,"text-muted"],[3,"domains","submitDomainsForm"],[1,"mt-3","p-3","bg-white","rounded","shadow-sm"],[3,"situationalFactors","submitSituationalFactorsForm"],["type","button","class","btn btn-sm btn-block btn-primary mt-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-block","btn-primary","mt-3",3,"click"]],template:function(e,i){1&e&&(Dl(),c(0,"div",0)(1,"div",1)(2,"h6",2),g(3,"Context"),u(),Fs(4),u(),c(5,"div",0)(6,"h6",3),g(7,"Domain"),u(),c(8,"div",4),g(9," Select the domains that are related to your business model. They are later used to select fitting canvas building blocks. "),u(),c(10,"div",5)(11,"app-domains-selection-form",6),z("submitDomainsForm",function(r){return i.updateDomains.emit(r.value)}),u()()(),c(12,"div",7)(13,"h6",3),g(14,"Situational Factors"),u(),c(15,"div",4),g(16," Select situational factors to describe the current situation of your company, problem, market, etc. They are later used to help you to select fitting method patterns and building blocks. "),u(),c(17,"div",5)(18,"app-situational-factors-selection-form",8),z("submitSituationalFactorsForm",function(r){return i.updateSituationalFactors.emit(r.value)}),u()()(),k(19,cCe,2,0,"button",9),u()),2&e&&(p(11),v("domains",i.domains),p(7),v("situationalFactors",i.situationalFactors),p(1),v("ngIf",i.finishAllowed))},directives:[eG,G3,nt],styles:[""]}),t})();const dCe=function(){return[]};function pCe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,dCe)),p(1),_t(e.bmProcess.name)}}function mCe(t,n){1&t&&(c(0,"div",12)(1,"p"),g(2," On this page it is possible to create a Business Model Development Method. You already defined the development context on the bottom of the page, which will later be used to check situational factors. Now start with the definition of the Method by clicking on the start event and then, on the add button to select a Method Pattern as a starting point. "),u(),c(3,"p"),g(4," After that, you can append more patterns when selecting the added Method Pattern or insert Method Patterns into activities by selecting the activity and then selecting the insert icon. This is only possible if the corresponding activity has a plus symbol and is thus a call activity. Otherwise it is only possible to insert Method Building Blocks into the activity by selecting the database icon when an activity is selected. "),u(),c(5,"p",13),g(6," Additionally, it is possible to get an overview of an inserted Method Building Block by selecting the corresponding activity and selecting the info icon. There it is also possible to select which groups of artifacts and stakeholders to use and which concrete Method Elements to use. "),u()())}function fCe(t,n){if(1&t){const e=ye();c(0,"app-bm-process-edit-diagram",14),z("saveBmProcess",function(o){return W(e),T(2).saveBmProcess(o.processDiagram,o.decisions)})("appendProcessPattern",function(o){return W(e),T(2).appendProcessPattern(o.nodeId,o.processPattern)})("insertProcessPattern",function(o){return W(e),T(2).insertProcessPattern(o.nodeId,o.processPattern)})("deleteProcessPattern",function(o){return W(e),T(2).deleteProcessPattern(o)})("insertDevelopmentMethod",function(o){return W(e),T(2).insertDevelopmentMethod(o.nodeId,o.developmentMethod)})("removeDevelopmentMethod",function(o){return W(e),T(2).removeDevelopmentMethod(o)}),u()}2&t&&v("bmProcess",T(2).bmProcess)}function hCe(t,n){1&t&&(c(0,"div",15),g(1," Start by defining the context of your business model. "),u())}function gCe(t,n){if(1&t){const e=ye();c(0,"main",6),k(1,mCe,7,0,"div",7),k(2,fCe,1,1,"app-bm-process-edit-diagram",8),c(3,"div",9),k(4,hCe,2,0,"div",10),c(5,"app-context-edit",11),z("updateDomains",function(o){return W(e),T().updateDomains(o)})("updateSituationalFactors",function(o){return W(e),T().updateSituationalFactors(o)})("finishInitialization",function(){return W(e),T().finishInitialization()}),u()()()}if(2&t){const e=T();p(1),v("ngIf",!e.bmProcess.initial),p(1),v("ngIf",!e.bmProcess.initial),p(2),v("ngIf",e.bmProcess.initial),p(1),v("finishAllowed",e.bmProcess.initial)("domains",e.bmProcess.domains)("situationalFactors",e.bmProcess.situationalFactors)}}const _Ce=function(){return["/","bmprocess"]};let vCe=(()=>{class t{constructor(e,i,o,r,s){this.bmProcessLoaderService=e,this.bmProcessService=i,this.developmentMethodService=o,this.modalService=r,this.processPatternService=s}ngOnInit(){this.bmProcessLoaderService.loaded.subscribe(()=>{null!=this.previousInitial&&this.previousInitial&&!this.bmProcess.initial&&document.body.scrollIntoView({behavior:"smooth"}),this.previousInitial=this.bmProcess.initial})}finishInitialization(){var e=this;return Y(function*(){null!=e.bmProcess&&(yield e.bmProcessService.finishInitialization(e.bmProcess._id))})()}updateDomains(e){var i=this;return Y(function*(){null!=i.bmProcess&&(yield i.bmProcessService.updateDomains(i.bmProcess._id,e))})()}updateSituationalFactors(e){var i=this;return Y(function*(){null!=i.bmProcess&&(yield i.bmProcessService.updateSituationalFactors(i.bmProcess._id,e))})()}saveBmProcess(e,i){var o=this;return Y(function*(){null!=o.bmProcess&&(yield o.bmProcessService.saveBmProcessDiagram(o.bmProcess._id,e,i))})()}appendProcessPattern(e,i){var o=this;return Y(function*(){if(null!=o.bmProcess)try{yield o.bmProcessService.appendProcessPattern(o.bmProcess._id,i._id,e)}catch(r){if(!(r instanceof Error&&"Process Pattern is not correctly defined"===r.message))throw r;{const s=yield o.processPatternService.get(i._id);o.modalService.open(G0).componentInstance.processPattern=s}}})()}insertProcessPattern(e,i){var o=this;return Y(function*(){if(null!=o.bmProcess)try{yield o.bmProcessService.insertProcessPattern(o.bmProcess._id,i._id,e)}catch(r){if(!(r instanceof Error&&"Process Pattern is not correctly defined"===r.message))throw r;{const s=yield o.processPatternService.get(i._id);o.modalService.open(G0).componentInstance.processPattern=s}}})()}deleteProcessPattern(e){var i=this;return Y(function*(){null!=i.bmProcess&&(yield i.bmProcessService.removeProcessPattern(i.bmProcess._id,e))})()}insertDevelopmentMethod(e,i){var o=this;return Y(function*(){if(null!=o.bmProcess)try{yield o.bmProcessService.insertDevelopmentMethod(o.bmProcess._id,e,i._id),o.diagramComponent.resetSelectDevelopmentMethodModal()}catch(r){if(!(r instanceof Error&&"Method not correctly defined"===r.message))throw r;{const s=yield o.developmentMethodService.get(i._id);o.modalService.open(L3).componentInstance.developmentMethod=s}}})()}removeDevelopmentMethod(e){var i=this;return Y(function*(){null!=i.bmProcess&&(yield i.bmProcessService.removeDevelopmentMethod(i.bmProcess._id,e))})()}diagramChanged(){var e=this;return Y(function*(){return null!=e.diagramComponent&&e.diagramComponent.diagramChanged()})()}saveDiagram(){return this.diagramComponent.saveDiagram()}get bmProcess(){return this.bmProcessLoaderService.bmProcess}}return t.\u0275fac=function(e){return new(e||t)(H(Zj),H(Na),H(dl),H(jn),H(Ou))},t.\u0275cmp=He({type:t,selectors:[["app-bm-process"]],viewQuery:function(e,i){if(1&e&&Ft(B0,5),2&e){let o;bt(o=yt())&&(i.diagramComponent=o.first)}},features:[Tt([Zj])],decls:6,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["role","main",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main"],["class","alert alert-info container mt-3","role","alert",4,"ngIf"],[3,"bmProcess","saveBmProcess","appendProcessPattern","insertProcessPattern","deleteProcessPattern","insertDevelopmentMethod","removeDevelopmentMethod",4,"ngIf"],[1,"container"],["class","my-3 alert alert-info",4,"ngIf"],[3,"finishAllowed","domains","situationalFactors","updateDomains","updateSituationalFactors","finishInitialization"],["role","alert",1,"alert","alert-info","container","mt-3"],[1,"mb-0"],[3,"bmProcess","saveBmProcess","appendProcessPattern","insertProcessPattern","deleteProcessPattern","insertDevelopmentMethod","removeDevelopmentMethod"],[1,"my-3","alert","alert-info"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3,"Business Model Development Methods"),u(),k(4,pCe,2,3,"a",3),u()(),k(5,gCe,6,6,"main",4)),2&e&&(p(2),v("routerLink",Bt(3,_Ce)),p(2),v("ngIf",i.bmProcess),p(1),v("ngIf",i.bmProcess))},directives:[gn,nt,B0,pp],styles:[""]}),t})(),V0=(()=>{class t extends Go{constructor(e,i){super(e),this.searchService=i}load(){var e=()=>super.load,i=this;return Y(function*(){yield e().call(i),i.searchService.items=i.elements})()}get filteredElements(){return this.searchService.filteredResults}get searchValue(){var e;return null===(e=this.searchService.searchForm.get("search"))||void 0===e?void 0:e.value}}return t.\u0275fac=function(e){return new(e||t)(Ve(Vs),Ve(vf))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const bCe=[[["","itemTitle",""]],[["","itemDescription",""]],"*"],yCe=["[itemTitle]","[itemDescription]","*"];let L_=(()=>{class t{constructor(){this.delete=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-results-list-item"]],inputs:{viewLink:"viewLink"},outputs:{delete:"delete"},ngContentSelectors:yCe,decls:12,vars:1,consts:[[1,"d-flex","justify-content-between","align-items-baseline"],[1,"mr-3"],[1,"text-muted","small"],[1,"d-flex"],["type","button",1,"btn","btn-dark","btn-xs",3,"routerLink"],["type","button",1,"btn","btn-danger","btn-xs","ml-1",3,"click"]],template:function(e,i){1&e&&(Dl(bCe),c(0,"div",0)(1,"div",1)(2,"span"),Fs(3),u(),c(4,"div",2),Fs(5,1),u(),Fs(6,2),u(),c(7,"div",3)(8,"a",4),g(9," View "),u(),c(10,"button",5),z("click",function(){return i.delete.emit()}),g(11," Delete "),u()()()),2&e&&(p(8),v("routerLink",i.viewLink))},directives:[gn],styles:[""]}),t})();function wCe(t,n){if(1&t&&(St(0),g(1),Et()),2&t){const e=T(2);p(1),Be(" (",e.author.email,") ")}}function xCe(t,n){if(1&t&&(St(0),g(1),Et()),2&t){const e=T(2);p(1),Be(" from ",e.author.company,"")}}function CCe(t,n){if(1&t&&(c(0,"div"),g(1),k(2,wCe,2,1,"ng-container",1),k(3,xCe,2,1,"ng-container",1),u()),2&t){const e=T();p(1),Be(" Author: ",e.author.name," "),p(1),v("ngIf",null!=e.author.email),p(1),v("ngIf",null!=e.author.company)}}function MCe(t,n){if(1&t&&(c(0,"div"),g(1),u()),2&t){const e=T();p(1),Be(" Website: ",e.author.website," ")}}let H0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-author-info"]],inputs:{author:"author"},decls:3,vars:2,consts:[[1,"text-muted","small"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"div",0),k(1,CCe,4,3,"div",1),k(2,MCe,2,1,"div",1),u()),2&e&&(p(1),v("ngIf",null!=i.author&&null!=i.author.name&&""!==i.author.name),p(1),v("ngIf",null!=i.author&&null!=i.author.website))},directives:[nt],styles:[""]}),t})();const SCe=["deleteDevelopmentMethodModal"];function ECe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",21),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteDevelopmentMethod(r.modalDevelopmentMethod._id),o()}),c(1,"div",22),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be(" Delete Method Building Block ",e.modalDevelopmentMethod.name," "),p(1),Be(" You are deleting the method building block ",e.modalDevelopmentMethod.name,". This can not be undone. This action will not delete the method building block from business model development methods that are using it. ")}}function TCe(t,n){1&t&&k(0,ECe,4,2,"app-delete-modal",20),2&t&&v("ngIf",null!=T().modalDevelopmentMethod)}const tG=function(t){return["methodview",t]};function PCe(t,n){if(1&t&&(c(0,"a",23),g(1),u()),2&t){const e=n.$implicit;v("routerLink",Fn(2,tG,e._id)),p(1),_t(e.name)}}function DCe(t,n){if(1&t&&(c(0,"div"),g(1),u()),2&t){const e=T(2);p(1),Be(" No Method Building Blocks found for search: ",e.searchValue,". ")}}function FCe(t,n){if(1&t){const e=ye();c(0,"li",29)(1,"app-results-list-item",30),z("delete",function(){const r=W(e).$implicit;return T(3).openDeleteDevelopmentMethodModal(r)}),St(2,31),g(3),Et(),St(4,32),g(5),Et(),re(6,"app-author-info",33),u()()}if(2&t){const e=n.$implicit;p(1),v("viewLink",Fn(4,tG,e._id)),p(2),Be(" ",e.name," "),p(2),Be(" ",e.description," "),p(1),v("author",e.author)}}function ACe(t,n){if(1&t&&(c(0,"ul",27),k(1,FCe,7,6,"li",28),u()),2&t){const e=T(2);p(1),v("ngForOf",e.developmentMethodsListFiltered)}}function ICe(t,n){if(1&t&&(St(0,24),k(1,DCe,2,1,"div",25),k(2,ACe,2,1,"ul",26),Et()),2&t){const e=T();p(1),v("ngIf",0===e.developmentMethodsListFiltered.length),p(1),v("ngIf",e.developmentMethodsListFiltered.length>0)}}const kCe=function(){return[]};let NCe=(()=>{class t{constructor(e,i,o){this.listService=e,this.fb=i,this.modalService=o,this.developmentMethodForm=this.fb.group({name:this.fb.control("",ft.required)})}openDeleteDevelopmentMethodModal(e){this.modalDevelopmentMethod=e,this.modalReference=this.modalService.open(this.deleteDevelopmentMethodModal,{size:"lg"})}deleteDevelopmentMethod(e){var i=this;return Y(function*(){yield i.listService.delete(e)})()}addDevelopmentMethod(e){var i=this;return Y(function*(){yield i.listService.add({name:e.value.name,author:{}}),i.developmentMethodForm.reset()})()}get developmentMethodsList(){return this.listService.elements}get developmentMethodsListFiltered(){return this.listService.filteredElements}get searchValue(){return this.listService.searchValue}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(V0),H(zt),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-development-methods"]],viewQuery:function(e,i){if(1&e&&Ft(SCe,7),2&e){let o;bt(o=yt())&&(i.deleteDevelopmentMethodModal=o.first)}},features:[Tt([vf,{provide:_f,useValue:F_},V0,{provide:Vs,useExisting:dl}])],decls:28,vars:9,consts:[["deleteDevelopmentMethodModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngFor","ngForOf"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Method Building Blocks",3,"reloading","loading","noResults"],["noResults",""],["results","",4,"ngIf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],[1,"nav-link",3,"routerLink"],["results",""],[4,"ngIf"],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"viewLink","delete"],["itemTitle",""],["itemDescription",""],[3,"author"]],template:function(e,i){1&e&&(k(0,TCe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Method Building Blocks"),u(),k(6,PCe,2,4,"a",4),u()(),c(7,"main",5)(8,"div",6),g(9," Create Method Building Blocks to use them for the Business Model Development Methods "),u(),c(10,"app-list-wrapper",7)(11,"div",8),g(12,"No Method Building Blocks defined."),u(),k(13,ICe,3,2,"ng-container",9),u(),c(14,"div",10)(15,"h6",11),g(16," Add Method Building Block "),u(),c(17,"div",12)(18,"form",13),z("ngSubmit",function(){return i.addDevelopmentMethod(i.developmentMethodForm)}),c(19,"div",14)(20,"label",15),g(21,"Method Building Block Name"),u(),c(22,"div",16),re(23,"input",17),u()(),c(24,"div",14)(25,"div",18)(26,"button",19),g(27," Add Method Building Block "),u()()()()()()()),2&e&&(p(4),v("routerLink",Bt(8,kCe)),p(2),v("ngForOf",i.developmentMethodsList),p(4),v("reloading",i.reloading)("loading",i.loading)("noResults",i.noResults),p(3),v("ngIf",null!=i.developmentMethodsListFiltered),p(5),v("formGroup",i.developmentMethodForm),p(8),v("disabled",!i.developmentMethodForm.valid))},directives:[nt,cr,gn,Lt,Ss,L_,H0,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})(),nG=(()=>{class t extends Es{constructor(e,i){super(i),this.developmentMethodService=e}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.developmentMethodService.getChangesFeed(i).subscribe(()=>this.loadDevelopmentMethod(i)),this.loadDevelopmentMethod(i)):this.developmentMethod=void 0}loadDevelopmentMethod(e){var i=this;return Y(function*(){i.developmentMethod=yield i.developmentMethodService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(dl),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),xf=(()=>{class t{constructor(e){this.fb=e}createMappingsForm(e){return this.fb.array(e.map(i=>this.createMappingForm(i)))}createMappingForm(e){return this.fb.group(null==e?{output:this.fb.control(!1,ft.required),step:this.fb.control(null,ft.required),artifact:this.fb.control(null,ft.required)}:e.output?{output:this.fb.control(!0,ft.required),group:this.fb.control(e.group,ft.required),artifact:this.fb.control(e.artifact,ft.required)}:{output:this.fb.control(!1,ft.required),step:this.fb.control(e.step,ft.required),artifact:this.fb.control(e.artifact,ft.required)})}convertMappingForm(e){var i,o;(null===(i=e.get("output"))||void 0===i?void 0:i.value)?(e.removeControl("step"),e.addControl("group",this.fb.control(null,ft.required))):(e.removeControl("group"),e.addControl("step",this.fb.control(null,ft.required))),null===(o=e.get("artifact"))||void 0===o||o.reset()}removeMappingTo(e,i){e.controls.forEach(o=>{var r,s,a,l,d,h,w,P;!1===(null===(r=o.get("output"))||void 0===r?void 0:r.value)&&(null===(s=o.get("step"))||void 0===s?void 0:s.value)===i?(null===(a=o.get("step"))||void 0===a||a.reset(),null===(l=o.get("artifact"))||void 0===l||l.reset()):!1===(null===(d=o.get("output"))||void 0===d?void 0:d.value)&&(null===(h=o.get("step"))||void 0===h?void 0:h.value)>i&&(null===(w=o.get("step"))||void 0===w||w.setValue((null===(P=o.get("step"))||void 0===P?void 0:P.value)-1,{emitEvent:!1}))})}resetMappingTo(e,i){e.controls.forEach(o=>{var r,s,a;!1===(null===(r=o.get("output"))||void 0===r?void 0:r.value)&&(null===(s=o.get("step"))||void 0===s?void 0:s.value)===i&&(null===(a=o.get("artifact"))||void 0===a||a.reset())})}getMappings(e){return e.map(i=>this.getMapping(i))}getMapping(e){return e.output?{output:e.output,group:e.group,artifact:e.artifact}:{output:e.output,step:e.step,artifact:e.artifact}}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),U0=(()=>{class t{constructor(e,i,o){this.artifactMappingService=e,this.fb=i,this.moduleService=o}createForm(e){return this.fb.array(e.map(i=>this.createExecutionStepForm(i)))}createExecutionStepForm(e){return null==e||ho(e)?this.createMethodExecutionStepForm(e):this.createEmptyExecutionStepForm(e)}createMethodExecutionStepForm(e){let i,o;return null!=e&&(i=this.moduleService.getModule(e.module),o=null==i?void 0:i.methods[e.method]),this.fb.group({isMethod:[!0,ft.required],module:[i,ft.required],method:[o,ft.required],outputMappings:this.createMappingsForm(o,null==e?void 0:e.outputMappings),predefinedInput:this.createPredefinedInputForm(o,null==e?void 0:e.predefinedInput)})}createEmptyExecutionStepForm(e){var i;return this.fb.group({isMethod:[!1,ft.required],name:[null==e?void 0:e.name,ft.required],description:[null!==(i=null==e?void 0:e.description)&&void 0!==i?i:""]})}createMappingsForm(e,i){let o=[];return null!=e&&(o=e.output.map((r,s)=>{let a=[];return i&&s<i.length&&(a=i[s]),this.artifactMappingService.createMappingsForm(a)})),this.fb.array(o)}createPredefinedInputForm(e,i){if(null!=e&&null!=e.createConfigurationForm)return e.createConfigurationForm(i)}addExecutionStep(e){e.push(this.createExecutionStepForm())}executionStepMethodChange(e,i){e.controls.forEach(o=>{const r=o.get("outputMappings");null==r||r.controls.forEach(s=>{this.artifactMappingService.resetMappingTo(s,i)})})}executionStepTypeChange(e,i,o){this.executionStepMethodChange(e,i),e.setControl(i,o?this.createMethodExecutionStepForm():this.createEmptyExecutionStepForm())}removeExecutionStep(e,i){e.controls.forEach(o=>{var r;!0===(null===(r=o.get("isMethod"))||void 0===r?void 0:r.value)&&o.get("outputMappings").controls.forEach(a=>{this.artifactMappingService.removeMappingTo(a,i)})}),e.removeAt(i)}getExecutionSteps(e){return e.map(i=>this.isMethodExecutionStepFormValue(i)?new cx(void 0,{module:i.module.name,method:i.method.name,outputMappings:i.outputMappings.map(o=>this.artifactMappingService.getMappings(o)),predefinedInput:i.predefinedInput}):new lx(void 0,{name:i.name,description:i.description}))}isMethodExecutionStepFormValue(e){return e.isMethod}}return t.\u0275fac=function(e){return new(e||t)(Ve(xf),Ve(zt),Ve(zr))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function RCe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let OCe=(()=>{class t{constructor(e){this.fb=e,this.submitDevelopmentMethodForm=new je,this.form=this.fb.group({name:["",ft.required]}),this.changed=!1}ngOnInit(){this.changeSubscription=this.nameControl.valueChanges.pipe($i(300),un(e=>this.changed=e!==this.developmentMethod.name)).subscribe()}ngOnChanges(e){if(e.developmentMethod){const i=e.developmentMethod.previousValue,o=e.developmentMethod.currentValue;(e.developmentMethod.firstChange||i.name!==o.name)&&this.nameControl.setValue(o.name)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitDevelopmentMethodForm.emit(this.form)}update(){this.changed&&this.form.valid&&this.submitForm()}get nameControl(){return this.form.get("name")}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-development-method-form"]],inputs:{developmentMethod:"developmentMethod"},outputs:{submitDevelopmentMethodForm:"submitDevelopmentMethodForm"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:11,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"div",5)(8,"button",6),g(9," Update"),k(10,RCe,2,0,"span",7),u()()()()),2&e&&(v("formGroup",i.form),p(8),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.form.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,wn,Jt,Zt,nt],styles:[""]}),t})();function BCe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let iG=(()=>{class t{constructor(e,i){this.fb=e,this.typeService=i,this.internalTypes=!1,this.submitTypesForm=new je,this.typesForm=this.fb.group({types:this.fb.array([])}),this.changed=!1,this.methodElements=[],this.listNames=[],this.createFormGroupFactory=()=>this.fb.group({list:["",ft.required],element:null})}ngOnInit(){this.loadTypes(),this.changeSubscription=this.typesForm.valueChanges.pipe($i(300),un(e=>this.changed=!va(this.types,e.types))).subscribe()}ngOnChanges(e){e.types&&(va(e.types.previousValue,e.types.currentValue)||this.loadForm(e.types.currentValue))}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitTypesForm.emit(this.typesForm.get("types"))}update(){this.changed&&this.typesForm.valid&&this.submitForm()}loadForm(e){const i=e.map(o=>this.fb.group({list:[o.list,ft.required],element:o.element}));this.typesForm.setControl("types",this.fb.array(i))}loadTypes(){var e=this;return Y(function*(){e.methodElements=yield e.typeService.getList(),e.listNames=[...new Set(e.methodElements.map(i=>i.list))],e.internalTypes&&e.listNames.push("initialisation","generic")})()}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(bf))},t.\u0275cmp=He({type:t,selectors:[["app-types-selection-form"]],inputs:{types:"types",internalTypes:"internalTypes"},outputs:{submitTypesForm:"submitTypesForm"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:7,vars:10,consts:[[3,"formGroup","ngSubmit"],["formArrayName","types","methodElementName","Type",1,"form-group",3,"createFormGroupFactory","listNames","methodElements"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),re(1,"app-method-elements-selection-form",1),c(2,"div",2)(3,"div",3)(4,"button",4),g(5," Update"),k(6,BCe,2,0,"span",5),u()()()()),2&e&&(v("formGroup",i.typesForm),p(1),v("createFormGroupFactory",i.createFormGroupFactory)("listNames",i.listNames)("methodElements",i.methodElements),p(3),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.typesForm.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,j3,vo,nt],styles:[""]}),t})();function LCe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let j_=(()=>{class t{constructor(e){this.fb=e,this.submitDescriptionForm=new je,this.descriptionForm=this.fb.group({description:this.fb.control("")}),this.changed=!1}ngOnInit(){this.changeSubscription=this.descriptionForm.valueChanges.pipe($i(300),un(e=>this.changed=this.description!==e.description)).subscribe()}ngOnChanges(e){e.description&&this.loadForm(e.description.currentValue)}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitDescriptionForm.emit(this.descriptionForm)}update(){this.changed&&this.descriptionForm.valid&&this.submitForm()}loadForm(e){this.descriptionForm.setValue(e?{description:e}:{description:""})}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-description-form"]],inputs:{description:"description"},outputs:{submitDescriptionForm:"submitDescriptionForm"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:10,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],["for","description"],["formControlName","description","id","description","rows","3",1,"form-control"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Description"),u(),re(4,"textarea",3),u(),c(5,"div",4)(6,"div",5)(7,"button",6),g(8," Update Description"),k(9,LCe,2,0,"span",7),u()()()()),2&e&&(v("formGroup",i.descriptionForm),p(7),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.descriptionForm.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,wn,Jt,Zt,nt],styles:[""]}),t})();function jCe(t,n){if(1&t){const e=ye();St(0),c(1,"button",11),z("click",function(){W(e);const o=T().index;return T().up(o)}),g(2," Up "),u(),c(3,"button",11),z("click",function(){W(e);const o=T().index;return T().down(o)}),g(4," Down "),u(),Et()}if(2&t){const e=T(),i=e.first,o=e.last;p(1),v("disabled",i),p(2),v("disabled",o)}}function GCe(t,n){1&t&&(c(0,"span"),g(1,"This field is required."),u())}function VCe(t,n){1&t&&(c(0,"span"),g(1," The name of the element should consist of letters only and be written in lower case. "),u())}function HCe(t,n){if(1&t){const e=ye();c(0,"div",3)(1,"label",4),g(2),u(),c(3,"div",5),re(4,"input",6),c(5,"div",7),k(6,jCe,5,2,"ng-container",8),c(7,"button",9),z("click",function(){const r=W(e).index;return T().remove(r)}),g(8," Remove "),u()(),c(9,"div",10),k(10,GCe,2,0,"span",8),k(11,VCe,2,0,"span",8),u()()()}if(2&t){const e=n.$implicit,i=T();p(2),_t(i.elementName),p(2),Ht("is-invalid",e.invalid),v("formControl",i.asFormControl(e)),p(2),v("ngIf",i.ordered),p(4),v("ngIf",e.hasError("required")),p(1),v("ngIf",!e.hasError("required")&&e.hasError("lowercase"))}}let z0=(()=>{class t{constructor(e){this.fb=e,this.validators=[ft.required],this.ordered=!1}add(){this.formArray.push(this.fb.control("",this.validators))}up(e){this.changePosition(e,-1)}down(e){this.changePosition(e,1)}changePosition(e,i){const o=this.formArray.controls[e],r=e+i;this.formArray.removeAt(e),this.formArray.insert(r,o)}remove(e){this.formArray.removeAt(e)}asFormControl(e){return e}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-form-array-list"]],inputs:{elementName:"elementName",formArray:"formArray",validators:"validators",ordered:"ordered"},decls:4,vars:2,consts:[["class","form-group row",4,"ngFor","ngForOf"],[1,"d-flex"],["type","button",1,"btn","btn-secondary","ml-auto",3,"click"],[1,"form-group","row"],["for","elementName",1,"col-sm-4","col-form-label"],[1,"col-sm-8","input-group"],["type","text","id","elementName","aria-describedby","elementNameFeedback",1,"form-control",3,"formControl"],[1,"input-group-append"],[4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["id","elementNameFeedback",1,"invalid-feedback"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"]],template:function(e,i){1&e&&(k(0,HCe,12,7,"div",0),c(1,"div",1)(2,"button",2),z("click",function(){return i.add()}),g(3),u()()),2&e&&(v("ngForOf",i.formArray.controls),p(3),Be(" Add ",i.elementName," "))},directives:[Lt,wn,Jt,s_,nt],styles:[""]}),t})();function UCe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let zCe=(()=>{class t{constructor(e){this.fb=e,this.submitExamplesForm=new je,this.examplesForm=this.fb.group({examples:this.fb.array([])}),this.changed=!1}ngOnInit(){this.changeSubscription=this.examplesForm.valueChanges.pipe($i(300),un(e=>this.changed=!this.equalExamples(this.examples,e.examples))).subscribe()}ngOnChanges(e){e.examples&&(this.equalExamples(e.examples.previousValue,e.examples.currentValue)||this.loadForm(e.examples.currentValue))}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitExamplesForm.emit(this.formArray)}update(){this.changed&&this.examplesForm.valid&&this.submitForm()}loadForm(e){const i=e.map(o=>this.fb.control(o,ft.required));this.examplesForm.setControl("examples",this.fb.array(i))}equalExamples(e,i){return null==e&&null==i||null!=e&&null!=i&&e.length===i.length&&e.every((o,r)=>i[r]===o)}get formArray(){return this.examplesForm.get("examples")}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-examples-form"]],inputs:{examples:"examples"},outputs:{submitExamplesForm:"submitExamplesForm"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:8,vars:8,consts:[[3,"formGroup","ngSubmit"],["formArrayName","examples",1,"form-group"],["elementName","Example",3,"formArray"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1),re(2,"app-form-array-list",2),u(),c(3,"div",3)(4,"div",4)(5,"button",5),g(6," Update"),k(7,UCe,2,0,"span",6),u()()()()),2&e&&(v("formGroup",i.examplesForm),p(2),v("formArray",i.formArray),p(3),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.examplesForm.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,vo,z0,nt],styles:[""]}),t})();const q0=new kn("Element Constructor");let mp=(()=>{class t{constructor(e,i){this.fb=e,this.elementConstructor=i,this.form=this.fb.group({allowNone:this.fb.control(!1),groups:this.fb.array([]),defaultGroup:this.fb.control(void 0)})}loadForm(e){this.allowNoneControl.setValue(e.allowNone),this.form.setControl("groups",this.createGroupsFormArray(e)),null!=e.defaultGroupIndex&&this.defaultGroupControl.setValue(e.defaultGroupIndex)}addGroup(){this.groupsControl.push(this.createGroupForm())}removeGroup(e){const i=this.defaultGroupControl.value;e===i&&this.defaultGroupControl.setValue(void 0),e<i&&this.defaultGroupControl.setValue(i-1),this.groupsControl.removeAt(e)}setDefaultGroup(e){this.defaultGroupControl.setValue(e)}unsetDefaultGroup(){this.defaultGroupControl.setValue(void 0)}addItem(e){this.getItemsFormArray(e).push(this.createItemForm())}removeItem(e,i){this.getItemsFormArray(e).removeAt(i)}createGroupsFormArray(e){return this.fb.array(e.groups.map(i=>this.createGroupForm(i)))}createGroupForm(e){return this.fb.group(null==e?{items:this.fb.array([])}:{items:this.fb.array(e.items.map(i=>this.createItemForm(i)))})}createItemForm(e){return this.fb.group(null==e?{list:["",ft.required],element:null,multiple:!1,optional:!1}:{list:[e.list,ft.required],element:{value:e.element,disabled:e.multiple},multiple:e.multiple,optional:e.optional})}getGroups(e){const i=e.groups.map(o=>this.getGroup(o));return new Qa(void 0,{allowNone:e.allowNone,groups:i,defaultGroup:null!=e.defaultGroup?i[e.defaultGroup]:void 0},this.elementConstructor)}getGroup(e){return new ax(void 0,{items:e.items.map(i=>this.getItem(i))},this.elementConstructor)}getItem(e){return new ox(void 0,{list:e.list,element:e.element,multiple:e.multiple,optional:e.optional},this.elementConstructor)}get groupsControl(){return this.form.get("groups")}get defaultGroupControl(){return this.form.get("defaultGroup")}get allowNoneControl(){return this.form.get("allowNone")}getItemsFormArray(e){return e.get("items")}getElementControl(e){return e.get("element")}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt),Ve(q0))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),qCe=(()=>{class t extends mp{constructor(e,i){super(e,_r),this.artifactMappingFormService=i}createItemForm(e){const i=super.createItemForm(e);return i.setControl("mapping",null==e?this.fb.array([]):this.artifactMappingFormService.createMappingsForm(e.mapping)),i.addValidators(o=>{var r;return(null===(r=o.get("optional"))||void 0===r?void 0:r.value)&&o.get("mapping").length>0?{optionalAndMapping:!0}:null}),i}getGroups(e){const i=e.groups.map(o=>this.getGroup(o));return new hv(void 0,{allowNone:e.allowNone,groups:i,defaultGroup:null!=e.defaultGroup?i[e.defaultGroup]:void 0})}getGroup(e){return new w7(void 0,{items:e.items.map(i=>this.getItem(i))})}getItem(e){return new y7(void 0,{list:e.list,element:e.element,multiple:e.multiple,optional:e.optional,mapping:this.artifactMappingFormService.getMappings(e.mapping)})}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt),Ve(xf))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function $Ce(t,n){if(1&t&&(c(0,"option",4),g(1),u()),2&t){const e=T().index;v("ngValue",e),p(1),Be(" #",e+1," ")}}function WCe(t,n){if(1&t&&(St(0),k(1,$Ce,2,2,"option",13),Et()),2&t){const e=n.index,i=T(3);p(1),v("ngIf",null==i.stepNumber||e>i.stepNumber)}}function YCe(t,n){if(1&t&&(St(0),k(1,WCe,2,1,"ng-container",9),Et()),2&t){const e=T(2);p(1),v("ngForOf",e.executionStepsFormValue)}}function XCe(t,n){if(1&t&&(c(0,"option",4),g(1),u()),2&t){const e=T().index;v("ngValue",e),p(1),Be(" #",e+1," ")}}function KCe(t,n){if(1&t&&(St(0),k(1,XCe,2,2,"option",13),Et()),2&t){const e=n.index,i=T(3);p(1),v("ngIf",null==i.stepNumber||e>i.stepNumber)}}function QCe(t,n){if(1&t&&(St(0),k(1,KCe,2,1,"ng-container",9),Et()),2&t){const e=T(2);p(1),v("ngForOf",e.developmentMethod.executionSteps)}}function JCe(t,n){if(1&t&&(St(0),c(1,"div",1)(2,"label",2),g(3,"Step"),u(),c(4,"select",12),k(5,YCe,2,1,"ng-container",5),k(6,QCe,2,1,"ng-container",5),u()(),Et()),2&t){const e=T();p(2),Pi("for","inputStep-",e.stepNumber,""),p(2),Pi("id","inputStep-",e.stepNumber,""),p(1),v("ngIf",null!=e.executionStepsFormValue),p(1),v("ngIf",null==e.executionStepsFormValue)}}function ZCe(t,n){if(1&t&&(c(0,"option",4),g(1),u()),2&t){const e=n.index;v("ngValue",e),p(1),Be(" #",e+1," ")}}function eMe(t,n){if(1&t&&(St(0),c(1,"div",1)(2,"label",2),g(3,"Group"),u(),c(4,"select",14),k(5,ZCe,2,2,"option",15),u()(),Et()),2&t){const e=T();p(2),Pi("for","inputGroup-",e.stepNumber,""),p(2),Pi("id","inputGroup-",e.stepNumber,""),p(1),v("ngForOf",e.developmentMethod.outputArtifacts.groups)}}function tMe(t,n){if(1&t&&(c(0,"option",4),g(1),u()),2&t){const e=T(),i=e.index,o=e.$implicit;v("ngValue",i),p(1),Xi(" #",i+1," ",o.name," ")}}function nMe(t,n){if(1&t&&(St(0),k(1,tMe,2,3,"option",13),Et()),2&t){const e=n.$implicit;p(1),v("ngIf",e.compatible)}}let iMe=(()=>{class t{constructor(e,i,o,r,s){this.artifactMappingService=e,this.executionStepsFormService=i,this.formGroupDirective=o,this.metaModelService=r,this.moduleService=s,this.remove=new je,this.artifacts=[]}ngOnInit(){this.updateSubscriptions(),this.outputChangeSubscription=this.outputControl.valueChanges.pipe(un(()=>{this.artifactMappingService.convertMappingForm(this.formGroup),this.artifacts=[],this.updateSubscriptions()})).subscribe()}ngOnChanges(e){e.developmentMethod?this.updateSubscriptions():e.executionStepsFormValue&&!this.outputControl.value&&null!=this.stepControl.value&&this.updateStepArtifacts(this.stepControl.value)}ngOnDestroy(){null!=this.outputChangeSubscription&&this.outputChangeSubscription.unsubscribe(),null!=this.stepChangeSubscription&&this.stepChangeSubscription.unsubscribe(),null!=this.groupChangeSubscription&&this.groupChangeSubscription.unsubscribe()}updateSubscriptions(){this.stepChangeSubscription&&(this.stepChangeSubscription.unsubscribe(),this.stepChangeSubscription=void 0),this.groupChangeSubscription&&(this.groupChangeSubscription.unsubscribe(),this.groupChangeSubscription=void 0),this.outputControl.value?(null!=this.groupControl.value&&this.updateGroupArtifacts(this.groupControl.value),this.groupChangeSubscription=this.groupControl.valueChanges.pipe(un(e=>this.updateGroupArtifacts(e))).subscribe()):(null!=this.stepControl.value&&this.updateStepArtifacts(this.stepControl.value),this.stepChangeSubscription=this.stepControl.valueChanges.pipe(un(e=>{null==e?this.artifacts=[]:(this.artifactControl.reset(),this.updateStepArtifacts(e))})).subscribe())}updateGroupArtifacts(e){const i=this.developmentMethod.outputArtifacts.groups[e];this.artifacts=null==i?[]:i.items.filter(o=>null!=o.element&&null!=o.element.metaModel).map(o=>o.element).map(o=>({compatible:this.isArtifactCompatible(o),name:o.name}))}isArtifactCompatible(e){var i,o;if((null===(i=e.metaModel)||void 0===i?void 0:i.type)!==this.metaModel.type)return!1;if(null!=this.metaModelData){const r=null===(o=this.metaModelService.getMetaModelDefinition(this.metaModel.type))||void 0===o?void 0:o.api;if(null!=r&&null!=r.compatibleMetaModelData)return r.compatibleMetaModelData(this.metaModelData,e.metaModelData)}return!0}updateStepArtifacts(e){let i=[];if(null!=this.executionStepsFormValue){const o=this.executionStepsFormValue[e];if(this.executionStepsFormService.isMethodExecutionStepFormValue(o)){const r=o.method;null!=r&&(i=r.input)}}else{const o=this.developmentMethod.executionSteps[e];if(ho(o)){const r=this.moduleService.getModuleMethod(o.module,o.method);null!=r&&(i=r.input)}}this.artifacts=i.map(o=>({compatible:o.type===this.metaModel.type,name:o.name}))}get formGroup(){return this.formGroupDirective.control}get outputControl(){return this.formGroup.get("output")}get stepControl(){return this.formGroup.get("step")}get groupControl(){return this.formGroup.get("group")}get artifactControl(){return this.formGroup.get("artifact")}}return t.\u0275fac=function(e){return new(e||t)(H(xf),H(U0),H(Vt),H(Zl),H(zr))},t.\u0275cmp=He({type:t,selectors:[["app-development-method-artifact-mapping"]],inputs:{executionStepsFormValue:"executionStepsFormValue",developmentMethod:"developmentMethod",metaModel:"metaModel",metaModelData:"metaModelData",stepNumber:"stepNumber"},outputs:{remove:"remove"},features:[Xt],decls:20,vars:12,consts:[[1,"form-row",3,"formGroup"],[1,"form-group","col-md"],[3,"for"],["formControlName","output",1,"form-control",3,"id"],[3,"ngValue"],[4,"ngIf"],[1,"form-group","col"],[1,"input-group"],["formControlName","artifact",1,"form-control",3,"id"],[4,"ngFor","ngForOf"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["formControlName","step",1,"form-control",3,"id"],[3,"ngValue",4,"ngIf"],["formControlName","group",1,"form-control",3,"id"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"div",1)(2,"label",2),g(3,"To other step or output"),u(),c(4,"select",3)(5,"option",4),g(6,"Step"),u(),c(7,"option",4),g(8,"Output"),u()()(),k(9,JCe,7,4,"ng-container",5),k(10,eMe,6,3,"ng-container",5),c(11,"div",6)(12,"label",2),g(13,"Artifact"),u(),c(14,"div",7)(15,"select",8),k(16,nMe,2,1,"ng-container",9),u(),c(17,"div",10)(18,"button",11),z("click",function(){return i.remove.emit()}),g(19," Remove "),u()()()()()),2&e&&(v("formGroup",i.formGroup),p(2),Pi("for","selectOutput-",i.stepNumber,""),p(2),Pi("id","selectOutput-",i.stepNumber,""),p(1),v("ngValue",!1),p(2),v("ngValue",!0),p(2),v("ngIf",!i.outputControl.value),p(1),v("ngIf",i.outputControl.value),p(2),Pi("for","inputArtifact-",i.stepNumber,""),p(3),Ht("is-invalid",i.artifactControl.invalid||i.artifactControl.value>=i.artifacts.length||!i.artifacts[i.artifactControl.value].compatible),Pi("id","inputArtifact-",i.stepNumber,""),p(1),v("ngForOf",i.artifacts))},directives:[Wt,Vt,ki,Jt,Zt,Vi,Hi,nt,Lt],styles:[""]}),t})();function oMe(t,n){if(1&t){const e=ye();c(0,"div",3)(1,"app-development-method-artifact-mapping",4),z("remove",function(){const r=W(e).index;return T().removeMapping(r)}),u()()}if(2&t){const e=n.$implicit,i=T();v("formGroup",e),p(1),v("executionStepsFormValue",i.executionStepsFormValue)("developmentMethod",i.developmentMethod)("metaModel",i.metaModel)("metaModelData",i.metaModelData)("stepNumber",i.stepNumber)}}let oG=(()=>{class t{constructor(e,i){this.artifactMappingService=e,this.formArrayName=i}addMapping(){this.formArray.push(this.artifactMappingService.createMappingForm())}removeMapping(e){this.formArray.removeAt(e)}get formArray(){return this.formArrayName.control}}return t.\u0275fac=function(e){return new(e||t)(H(xf),H(vo))},t.\u0275cmp=He({type:t,selectors:[["app-development-method-artifact-mappings"]],inputs:{executionStepsFormValue:"executionStepsFormValue",developmentMethod:"developmentMethod",metaModel:"metaModel",metaModelData:"metaModelData",stepNumber:"stepNumber"},decls:4,vars:1,consts:[[3,"formGroup",4,"ngFor","ngForOf"],[1,"d-flex"],["type","button",1,"ml-auto","btn","btn-primary",3,"click"],[3,"formGroup"],[3,"executionStepsFormValue","developmentMethod","metaModel","metaModelData","stepNumber","remove"]],template:function(e,i){1&e&&(k(0,oMe,2,6,"div",0),c(1,"div",1)(2,"button",2),z("click",function(){return i.addMapping()}),g(3," Add Mapping "),u()()),2&e&&v("ngForOf",i.formArray.controls)},directives:[Lt,Wt,Vt,iMe],styles:[""]}),t})();function rMe(t,n){1&t&&(c(0,"div",8),g(1," An optional artifact can not have mappings. "),u())}function sMe(t,n){if(1&t&&re(0,"app-development-method-artifact-mappings",9),2&t){const e=T().$implicit,i=T();v("developmentMethod",i.developmentMethod)("metaModel",i.getElementValueAsArtifact(e).metaModel)("metaModelData",i.getElementValueAsArtifact(e).metaModelData)}}function aMe(t,n){if(1&t){const e=ye();c(0,"div",0)(1,"app-method-element-selection-form",5),z("remove",function(){const r=W(e).index;return T().removeItem(r)}),u(),k(2,rMe,2,0,"div",6),k(3,sMe,1,3,"app-development-method-artifact-mappings",7),u()}if(2&t){const e=n.$implicit,i=T();v("formGroup",e),p(1),v("listNames",i.listNames)("methodElements",i.methodElements)("methodElementName",i.methodElementName)("multipleAllowed",!0),p(1),v("ngIf",e.hasError("optionalAndMapping")),p(1),v("ngIf",null!=i.developmentMethod&&i.isInternalArtifact(e))}}let lMe=(()=>{class t{constructor(e,i){this.formGroupDirective=e,this.groupsFormService=i,this.methodElements=[],this.listNames=[]}addItem(){this.groupsFormService.addItem(this.groupFormGroup)}removeItem(e){this.groupsFormService.removeItem(this.groupFormGroup,e)}get groupFormGroup(){return this.formGroupDirective.form}get itemFormGroups(){return this.groupsFormService.getItemsFormArray(this.groupFormGroup).controls}isInternalArtifact(e){const i=this.getElementControl(e);return null!=i.value&&i.value.metaModel}getElementValueAsArtifact(e){return this.getElementControl(e).value}getElementControl(e){return this.groupsFormService.getElementControl(e)}}return t.\u0275fac=function(e){return new(e||t)(H(Vt),H(mp))},t.\u0275cmp=He({type:t,selectors:[["app-group-form"]],inputs:{methodElementName:"methodElementName",developmentMethod:"developmentMethod",methodElements:"methodElements",listNames:"listNames"},decls:6,vars:3,consts:[[3,"formGroup"],[1,"form-group"],[3,"formGroup",4,"ngFor","ngForOf"],[1,"form-group","d-flex"],["type","button",1,"btn","btn-secondary","ml-auto",3,"click"],[3,"listNames","methodElements","methodElementName","multipleAllowed","remove"],["class","alert alert-danger",4,"ngIf"],["formArrayName","mapping",3,"developmentMethod","metaModel","metaModelData",4,"ngIf"],[1,"alert","alert-danger"],["formArrayName","mapping",3,"developmentMethod","metaModel","metaModelData"]],template:function(e,i){1&e&&(St(0,0),c(1,"div",1),k(2,aMe,4,7,"div",2),u(),c(3,"div",3)(4,"button",4),z("click",function(){return i.addItem()}),g(5),u()(),Et()),2&e&&(v("formGroup",i.groupFormGroup),p(2),v("ngForOf",i.itemFormGroups),p(3),Be(" Add ",i.methodElementName," "))},directives:[Wt,Vt,Lt,k0,nt,oG,vo],styles:[""]}),t})();function cMe(t,n){if(1&t&&(c(0,"div",10),re(1,"input",11,12),c(3,"label",13),g(4," Allow None "),u()()),2&t){const e=hn(2),i=T();p(1),fh("id","checkboxAllowNone",i.methodElementName,"-",null!=i.developmentMethod?1:0,""),p(2),v("for",e.id)}}function uMe(t,n){1&t&&(c(0,"span"),g(1," (default group)"),u())}function dMe(t,n){if(1&t){const e=ye();c(0,"button",19),z("click",function(){W(e);const o=T().index;return T().setDefaultGroup(o)}),g(1," Set Default "),u()}}function pMe(t,n){if(1&t){const e=ye();c(0,"button",19),z("click",function(){return W(e),T(2).unsetDefaultGroup()}),g(1," Unset Default "),u()}}function mMe(t,n){if(1&t){const e=ye();c(0,"div",14)(1,"div",15)(2,"h6",16),g(3," Group"),k(4,uMe,2,0,"span",9),u(),k(5,dMe,2,0,"button",17),k(6,pMe,2,0,"button",17),u(),re(7,"app-group-form",18),c(8,"div",4)(9,"button",5),z("click",function(){const r=W(e).index;return T().removeGroup(r)}),g(10," Remove OR Group "),u()()()}if(2&t){const e=n.$implicit,i=n.index,o=T();v("formGroup",e),p(4),v("ngIf",o.isDefaultGroup(i)),p(1),v("ngIf",!o.isDefaultGroup(i)),p(1),v("ngIf",o.isDefaultGroup(i)),p(1),v("listNames",o.listNames)("methodElementName",o.methodElementName)("developmentMethod",o.developmentMethod)("methodElements",o.methodElements)}}function fMe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let Ku=(()=>{class t{constructor(e){this.groupsFormService=e,this.methodElements=[],this.listNames=[],this.submitGroupsForm=new je,this.changed=!1}ngOnInit(){this.changeSubscription=this.groupsFormService.form.valueChanges.pipe($i(300),un(e=>this.changed=!this.groups.equals(this.groupsFormService.getGroups(e)))).subscribe()}ngOnChanges(e){if(e.groups){const o=e.groups.currentValue;o.equals(e.groups.previousValue)||this.groupsFormService.loadForm(o)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}addGroup(){this.groupsFormService.addGroup()}removeGroup(e){this.groupsFormService.removeGroup(e)}submitForm(){this.submitGroupsForm.emit(this.groupsFormService.getGroups(this.groupsFormService.form.value))}update(){this.changed&&this.form.valid&&this.submitForm()}setDefaultGroup(e){this.groupsFormService.setDefaultGroup(e)}unsetDefaultGroup(){this.groupsFormService.unsetDefaultGroup()}get form(){return this.groupsFormService.form}get groupFormGroups(){return this.groupsFormService.groupsControl.controls}isDefaultGroup(e){return e===this.groupsFormService.defaultGroupControl.value}}return t.\u0275fac=function(e){return new(e||t)(H(mp))},t.\u0275cmp=He({type:t,selectors:[["app-groups-form"]],inputs:{groups:"groups",methodElementName:"methodElementName",developmentMethod:"developmentMethod",methodElements:"methodElements",listNames:"listNames"},outputs:{submitGroupsForm:"submitGroupsForm"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:12,vars:9,consts:[[3,"formGroup","ngSubmit"],["class","form-check",4,"ngIf"],["formGroupName","groups",1,"form-group"],["class","mt-3 p-3 mb-3 bg-white rounded shadow-sm",3,"formGroup",4,"ngFor","ngForOf"],[1,"form-group","d-flex"],["type","button",1,"btn","btn-secondary","ml-auto",3,"click"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"],[1,"form-check"],["type","checkbox","formControlName","allowNone",1,"form-check-input",3,"id"],["allowNoneInput",""],[1,"form-check-label",3,"for"],[1,"mt-3","p-3","mb-3","bg-white","rounded","shadow-sm",3,"formGroup"],[1,"d-flex","align-items-baseline","justify-content-between","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],["class","btn btn-xs btn-dark","type","button",3,"click",4,"ngIf"],[1,"form-group",3,"listNames","methodElementName","developmentMethod","methodElements"],["type","button",1,"btn","btn-xs","btn-dark",3,"click"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),k(1,cMe,5,3,"div",1),c(2,"div",2),k(3,mMe,11,8,"div",3),u(),c(4,"div",4)(5,"button",5),z("click",function(){return i.addGroup()}),g(6," Add OR Group "),u()(),c(7,"div",6)(8,"div",7)(9,"button",8),g(10," Update"),k(11,fMe,2,0,"span",9),u()()()()),2&e&&(v("formGroup",i.form),p(1),v("ngIf",i.groupFormGroups.length>0),p(2),v("ngForOf",i.groupFormGroups),p(6),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.form.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,nt,Xd,Jt,Zt,kr,Lt,lMe],styles:[""]}),t})(),hMe=(()=>{class t{constructor(e){this.artifactService=e,this.submitArtifactsForm=new je,this.methodElements=[],this.listNames=[]}ngOnInit(){this.loadMethodElements()}submitForm(e){this.submitArtifactsForm.emit(e)}update(){this.groupsFormComponent.update()}loadMethodElements(){var e=this;return Y(function*(){e.methodElements=yield e.artifactService.getList(),e.listNames=[...new Set(e.methodElements.map(i=>i.list))]})()}}return t.\u0275fac=function(e){return new(e||t)(H(oc))},t.\u0275cmp=He({type:t,selectors:[["app-artifacts-mapping-selection-form"]],viewQuery:function(e,i){if(1&e&&Ft(Ku,5),2&e){let o;bt(o=yt())&&(i.groupsFormComponent=o.first)}},inputs:{artifacts:"artifacts",developmentMethod:"developmentMethod"},outputs:{submitArtifactsForm:"submitArtifactsForm"},features:[Tt([{provide:mp,useClass:qCe},{provide:Yi,useExisting:t}])],decls:1,vars:4,consts:[["methodElementName","Artifact",3,"listNames","methodElements","groups","developmentMethod","submitGroupsForm"]],template:function(e,i){1&e&&(c(0,"app-groups-form",0),z("submitGroupsForm",function(r){return i.submitForm(r)}),u()),2&e&&v("listNames",i.listNames)("methodElements",i.methodElements)("groups",i.artifacts)("developmentMethod",i.developmentMethod)},directives:[Ku],styles:[""]}),t})(),gMe=(()=>{class t{constructor(e,i){this.artifactMappingFormService=e,this.artifactService=i,this.submitArtifactsForm=new je,this.methodElements=[],this.listNames=[]}ngOnInit(){this.loadMethodElements()}update(){this.groupsFormComponent.update()}loadMethodElements(){var e=this;return Y(function*(){e.methodElements=yield e.artifactService.getList(),e.listNames=[...new Set(e.methodElements.map(i=>i.list))]})()}}return t.\u0275fac=function(e){return new(e||t)(H(xf),H(oc))},t.\u0275cmp=He({type:t,selectors:[["app-artifacts-selection-form"]],viewQuery:function(e,i){if(1&e&&Ft(Ku,5),2&e){let o;bt(o=yt())&&(i.groupsFormComponent=o.first)}},inputs:{artifacts:"artifacts"},outputs:{submitArtifactsForm:"submitArtifactsForm"},features:[Tt([mp,{provide:q0,useValue:_r},{provide:Yi,useExisting:t}])],decls:1,vars:3,consts:[["methodElementName","Artifact",3,"listNames","methodElements","groups","submitGroupsForm"]],template:function(e,i){1&e&&(c(0,"app-groups-form",0),z("submitGroupsForm",function(r){return i.submitArtifactsForm.emit(r)}),u()),2&e&&v("listNames",i.listNames)("methodElements",i.methodElements)("groups",i.artifacts)},directives:[Ku],styles:[""]}),t})(),_Me=(()=>{class t{constructor(e){this.stakeholderService=e,this.submitStakeholdersForm=new je,this.methodElements=[],this.listNames=[]}ngOnInit(){this.loadStakeholders()}update(){this.groupsFormComponent.update()}loadStakeholders(){var e=this;return Y(function*(){e.methodElements=yield e.stakeholderService.getList(),e.listNames=[...new Set(e.methodElements.map(i=>i.list))]})()}}return t.\u0275fac=function(e){return new(e||t)(H(N_))},t.\u0275cmp=He({type:t,selectors:[["app-stakeholders-selection-form"]],viewQuery:function(e,i){if(1&e&&Ft(Ku,5),2&e){let o;bt(o=yt())&&(i.groupsFormComponent=o.first)}},inputs:{stakeholders:"stakeholders"},outputs:{submitStakeholdersForm:"submitStakeholdersForm"},features:[Tt([mp,{provide:q0,useValue:Ol},{provide:Yi,useExisting:t}])],decls:1,vars:3,consts:[["methodElementName","Stakeholder",3,"listNames","methodElements","groups","submitGroupsForm"]],template:function(e,i){1&e&&(c(0,"app-groups-form",0),z("submitGroupsForm",function(r){return i.submitStakeholdersForm.emit(r)}),u()),2&e&&v("listNames",i.listNames)("methodElements",i.methodElements)("groups",i.stakeholders)},directives:[Ku],styles:[""]}),t})(),vMe=(()=>{class t{constructor(e,i){this.moduleService=e,this.toolService=i,this.submitToolsForm=new je,this.methodElements=[],this.listNames=[]}ngOnInit(){this.loadTools()}update(){this.groupsFormComponent.update()}loadTools(){var e=this;return Y(function*(){const i=yield e.toolService.getList();e.methodElements=i.concat(e.moduleService.modules.map(o=>new Xa(void 0,{name:o.name,list:o.list}).toDb())),e.listNames=[...new Set(e.methodElements.map(o=>o.list).concat(e.moduleService.modules.map(o=>o.list)))]})()}}return t.\u0275fac=function(e){return new(e||t)(H(zr),H(R_))},t.\u0275cmp=He({type:t,selectors:[["app-tools-selection-form"]],viewQuery:function(e,i){if(1&e&&Ft(Ku,5),2&e){let o;bt(o=yt())&&(i.groupsFormComponent=o.first)}},inputs:{tools:"tools"},outputs:{submitToolsForm:"submitToolsForm"},features:[Tt([mp,{provide:q0,useValue:Xa},{provide:Yi,useExisting:t}])],decls:1,vars:3,consts:[["methodElementName","Tool",3,"listNames","methodElements","groups","submitGroupsForm"]],template:function(e,i){1&e&&(c(0,"app-groups-form",0),z("submitGroupsForm",function(r){return i.submitToolsForm.emit(r)}),u()),2&e&&v("listNames",i.listNames)("methodElements",i.methodElements)("groups",i.tools)},directives:[Ku],styles:[""]}),t})(),bMe=(()=>{class t{constructor(e){this.controlContainer=e,this.remove=new je}get formGroup(){return this.controlContainer.control}get nameControl(){return this.formGroup.get("name")}}return t.\u0275fac=function(e){return new(e||t)(H(Ko))},t.\u0275cmp=He({type:t,selectors:[["app-development-method-empty-execution-step"]],inputs:{stepNumber:"stepNumber"},outputs:{remove:"remove"},decls:12,vars:7,consts:[[1,"text-muted",3,"formGroup"],[1,"form-group"],[3,"for"],["type","text","formControlName","name",1,"form-control",3,"id"],["formControlName","description","rows","3",1,"form-control",3,"id"],[1,"d-flex"],[1,"btn","btn-dark","ml-auto",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"div",1)(2,"label",2),g(3,"Name"),u(),re(4,"input",3),u(),c(5,"div",1)(6,"label",2),g(7,"Description"),u(),re(8,"textarea",4),u(),c(9,"div",5)(10,"button",6),z("click",function(){return i.remove.emit()}),g(11,"Remove"),u()()()),2&e&&(v("formGroup",i.formGroup),p(2),Pi("for","nameInputStep",i.stepNumber,""),p(2),Ht("is-invalid",i.nameControl.invalid),Pi("id","nameInputStep",i.stepNumber,""),p(2),Pi("for","descriptionInputStep",i.stepNumber,""),p(2),Pi("id","descriptionInputStep",i.stepNumber,""))},directives:[Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();function yMe(t,n){1&t&&(c(0,"div",12),g(1," The used module is not defined in Tools! "),u())}function wMe(t,n){if(1&t&&(c(0,"div",12),g(1),u()),2&t){const e=T();p(1),Be(" ",e.stepError," ")}}function xMe(t,n){1&t&&(c(0,"h5"),g(1," Predefined Values "),u())}function CMe(t,n){}function MMe(t,n){1&t&&(c(0,"div"),g(1," No input for this artifact defined "),u())}function SMe(t,n){1&t&&(c(0,"div"),g(1," You need to define either one step before this step that provides the artifact or there is at least one mapping from each input artifact group to this artifact. "),u())}function EMe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),R1(" ",e.isStep?"Step":"Input Group"," #",e.index+1," Artifact #",e.artifact+1," ")}}function TMe(t,n){if(1&t&&(c(0,"div"),g(1," Input from: "),c(2,"ul"),k(3,EMe,2,3,"li",16),u()()),2&t){const e=T().index,i=T(2);p(3),v("ngForOf",i.artifactInputs[e].inputs)}}function PMe(t,n){if(1&t&&(c(0,"li",15)(1,"b"),g(2),u(),k(3,MMe,2,0,"div",8),k(4,SMe,2,0,"div",8),k(5,TMe,4,1,"div",8),u()),2&t){const e=n.$implicit,i=n.index,o=T(2);p(1),Ht("text-danger",!o.artifactInputs[i].complete),p(1),_t(e.name),p(1),v("ngIf",0===o.artifactInputs[i].inputs.length),p(1),v("ngIf",o.artifactInputs[i].inputs.length>0&&!o.artifactInputs[i].complete),p(1),v("ngIf",o.artifactInputs[i].inputs.length>0)}}function DMe(t,n){if(1&t&&(St(0),c(1,"h5"),g(2,"Input Artifacts"),u(),c(3,"ul",13),k(4,PMe,6,6,"li",14),u(),Et()),2&t){const e=T();p(4),v("ngForOf",e.selectedMethod.input)}}function FMe(t,n){if(1&t&&(c(0,"li",15)(1,"b"),g(2),u(),re(3,"app-development-method-artifact-mappings",18),u()),2&t){const e=n.$implicit,i=n.index,o=T(2);p(2),_t(e.name),p(1),pa("formArrayName",i),v("executionStepsFormValue",o.executionStepsFormValue)("developmentMethod",o.developmentMethod)("metaModel",e)("stepNumber",o.stepNumber)}}function AMe(t,n){if(1&t&&(St(0),c(1,"h5"),g(2,"Output Artifacts"),u(),c(3,"ul",17),k(4,FMe,4,6,"li",14),u(),Et()),2&t){const e=T();p(4),v("ngForOf",e.selectedMethod.output)}}let IMe=(()=>{class t{constructor(e,i,o,r,s,a){this.artifactMappingService=e,this.developmentMethodService=i,this.executionStepsFormService=o,this.fb=r,this.formGroupDirective=s,this.moduleService=a,this.modules=[],this.methods=[],this.artifactInputs=[],this.remove=new je,this.moduleDefinedInTools=!0,this.openModuleInput=new Oe,this.openMethodInput=new Oe,this.searchModule=l=>Pn(Ka(l),this.openModuleInput).pipe(Ze(d=>this.modules.filter(h=>h.name.toLowerCase().includes(d.toLowerCase())).slice(0,7))),this.searchMethod=l=>Pn(Ka(l),this.openMethodInput).pipe(Ze(d=>this.methods.filter(h=>h.name.toLowerCase().includes(d.toLowerCase())).slice(0,8)))}ngOnInit(){null!=this.moduleControl.value&&this.initMethods(this.moduleControl.value),null!=this.selectedMethod&&this.initConfiguration(this.selectedMethod),this.moduleChangeSubscription=this.moduleControl.valueChanges.pipe(un(()=>this.methodControl.setValue(null)),un(()=>this.methods=[]),un(e=>this.updateModuleDefinedInTools(e)),Li(e=>e),un(e=>this.initMethods(e))).subscribe(),this.methodChangeSubscription=this.methodControl.valueChanges.pipe(un(()=>this.outputArtifactsControl.clear()),un(()=>this.clearConfiguration()),un(()=>this.executionStepsFormService.executionStepMethodChange(this.formGroup.parent,this.stepNumber)),Li(e=>e),un(()=>this.selectedMethod.output.forEach(()=>this.outputArtifactsControl.push(this.fb.array([])))),un(e=>this.initConfiguration(e)),un(()=>this.calculateInput())).subscribe()}ngOnChanges(e){if(e.developmentMethod){const o=e.developmentMethod.currentValue.getAllToolNames();this.modules=this.moduleService.modules.filter(r=>o.has(r.name)),this.updateModuleDefinedInTools(this.moduleControl.value),this.updateStepError()}(e.developmentMethod||e.stepNumber)&&this.calculateInput()}ngOnDestroy(){this.moduleChangeSubscription&&this.moduleChangeSubscription.unsubscribe(),this.openModuleInput.complete(),this.openMethodInput.complete()}updateModuleDefinedInTools(e){this.moduleDefinedInTools=null==e||this.developmentMethod.getAllToolNames().has(e.name)}updateStepError(){var e,i;if(null!=this.selectedMethod&&null!=this.selectedMethod.isMethodCorrectlyDefined&&this.formGroup.valid){const o=this.developmentMethod.checkStepInputArtifacts(this.stepNumber,this.selectedMethod.input.length),r=null===(e=this.formGroup.get("predefinedInput"))||void 0===e?void 0:e.value,a=(null===(i=this.formGroup.get("outputMappings"))||void 0===i?void 0:i.value).map(l=>this.artifactMappingService.getMappings(l).map(d=>new dm(void 0,d)));this.stepError=this.selectedMethod.isMethodCorrectlyDefined(this.developmentMethod,o,r,a)?void 0:null!=this.selectedMethod.getHelpTextForMethodCorrectlyDefined?this.selectedMethod.getHelpTextForMethodCorrectlyDefined(this.developmentMethod,o,r,a):"The module reports an error in this execution step."}else this.stepError=void 0}initMethods(e){this.methods=Object.values(e.methods)}initConfiguration(e){if(null!=e.configurationFormComponent&&null!=e.createConfigurationForm){this.formGroup.contains("predefinedInput")||this.formGroup.addControl("predefinedInput",this.executionStepsFormService.createPredefinedInputForm(e,void 0));const i=this.configurationFormHost.viewContainerRef;i.clear(),i.createComponent(e.configurationFormComponent).instance.formGroup=this.predefinedInputControl}}clearConfiguration(){this.configurationFormHost.viewContainerRef.clear(),this.formGroup.removeControl("predefinedInput")}calculateInput(){this.artifactInputs=null!=this.selectedMethod?this.developmentMethod.checkStepInputArtifacts(this.stepNumber,this.selectedMethod.input.length).map(e=>({complete:this.developmentMethodService.hasInputArtifactForStepArtifact(this.developmentMethod,this.stepNumber,e),inputs:e})):[]}formatter(e){return e.name}get moduleControl(){return this.formGroup.get("module")}get methodControl(){return this.formGroup.get("method")}get outputArtifactsControl(){return this.formGroup.get("outputMappings")}get predefinedInputControl(){return this.formGroup.get("predefinedInput")}get formGroup(){return this.formGroupDirective.control}get selectedMethod(){return this.methodControl.value}}return t.\u0275fac=function(e){return new(e||t)(H(xf),H(dl),H(U0),H(zt),H(Vt),H(zr))},t.\u0275cmp=He({type:t,selectors:[["app-development-method-select-execution-step"]],viewQuery:function(e,i){if(1&e&&Ft(wf,7),2&e){let o;bt(o=yt())&&(i.configurationFormHost=o.first)}},inputs:{executionStepsFormValue:"executionStepsFormValue",developmentMethod:"developmentMethod",stepNumber:"stepNumber"},outputs:{remove:"remove"},features:[Xt],decls:19,vars:18,consts:[[1,"text-muted",3,"formGroup"],["class","alert alert-danger my-3",4,"ngIf"],[1,"form-row"],[1,"form-group","col"],["for","moduleInput"],["type","text","formControlName","module","id","moduleInput",1,"form-control",3,"ngbTypeahead","editable","resultFormatter","inputFormatter","click","focus"],["for","methodInput"],["type","text","formControlName","method","id","methodInput",1,"form-control",3,"ngbTypeahead","editable","resultFormatter","inputFormatter","click","focus"],[4,"ngIf"],["appConfigurationFormPlaceholder",""],[1,"d-flex"],[1,"btn","btn-dark","ml-auto",3,"click"],[1,"alert","alert-danger","my-3"],[1,"list-group","mb-3"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[4,"ngFor","ngForOf"],["formArrayName","outputMappings",1,"list-group","mb-3"],[3,"executionStepsFormValue","developmentMethod","formArrayName","metaModel","stepNumber"]],template:function(e,i){1&e&&(c(0,"div",0),k(1,yMe,2,0,"div",1),k(2,wMe,2,1,"div",1),c(3,"div",2)(4,"div",3)(5,"label",4),g(6,"Module"),u(),c(7,"input",5),z("click",function(r){return i.openModuleInput.next(r.target.value)})("focus",function(r){return i.openModuleInput.next(r.target.value)}),u()(),c(8,"div",3)(9,"label",6),g(10,"Method"),u(),c(11,"input",7),z("click",function(r){return i.openMethodInput.next(r.target.value)})("focus",function(r){return i.openMethodInput.next(r.target.value)}),u()()(),k(12,xMe,2,0,"h5",8),k(13,CMe,0,0,"ng-template",9),k(14,DMe,5,1,"ng-container",8),k(15,AMe,5,1,"ng-container",8),c(16,"div",10)(17,"button",11),z("click",function(){return i.remove.emit()}),g(18,"Remove"),u()()()),2&e&&(v("formGroup",i.formGroup),p(1),v("ngIf",!i.moduleDefinedInTools),p(1),v("ngIf",null!=i.stepError),p(5),Ht("is-invalid",i.moduleControl.invalid),v("ngbTypeahead",i.searchModule)("editable",!1)("resultFormatter",i.formatter)("inputFormatter",i.formatter),p(4),Ht("is-invalid",i.methodControl.invalid),v("ngbTypeahead",i.searchMethod)("editable",!1)("resultFormatter",i.formatter)("inputFormatter",i.formatter),p(1),v("ngIf",null!=i.selectedMethod&&null!=i.selectedMethod.configurationFormComponent),p(2),v("ngIf",null!=i.selectedMethod&&i.selectedMethod.input.length>0),p(1),v("ngIf",i.selectedMethod&&i.selectedMethod.output.length>0))},directives:[Wt,Vt,nt,wn,$u,Jt,Zt,wf,Lt,vo,oG],styles:[""]}),t})();function kMe(t,n){if(1&t){const e=ye();c(0,"app-development-method-empty-execution-step",17),z("remove",function(){W(e);const o=T().index;return T(2).removeStep(o)}),u()}if(2&t){const e=T(),o=e.index;v("formGroup",e.$implicit)("stepNumber",o)}}function NMe(t,n){if(1&t){const e=ye();c(0,"app-development-method-select-execution-step",18),z("remove",function(){W(e);const o=T().index;return T(2).removeStep(o)}),u()}if(2&t){const e=T(),i=e.$implicit,o=e.index,r=T(2);v("executionStepsFormValue",r.formArray.value)("formGroup",i)("developmentMethod",r.developmentMethod)("stepNumber",o)}}function RMe(t,n){if(1&t){const e=ye();c(0,"li",10)(1,"div",11)(2,"h5"),g(3),u(),c(4,"div",12)(5,"label",13)(6,"input",14),z("click",function(){const r=W(e).index;return T(2).changeStep(r,!1)}),u(),g(7," Text "),u(),c(8,"label",13)(9,"input",14),z("click",function(){const r=W(e).index;return T(2).changeStep(r,!0)}),u(),g(10," Method "),u()()(),k(11,kMe,1,2,"app-development-method-empty-execution-step",15),k(12,NMe,1,4,"app-development-method-select-execution-step",16),u()}if(2&t){const e=n.$implicit,i=n.index;let o,r;v("formGroupName",i),p(3),Be("Step #",i+1,""),p(3),v("value",!1),p(3),v("value",!0),p(2),v("ngIf",!(null!=(o=e.get("isMethod"))&&o.value)),p(1),v("ngIf",null==(r=e.get("isMethod"))?null:r.value)}}function OMe(t,n){if(1&t&&(c(0,"ul",8),k(1,RMe,13,6,"li",9),u()),2&t){const e=T();p(1),v("ngForOf",e.formArray.controls)}}function BMe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let LMe=(()=>{class t{constructor(e,i,o){this.executionStepsFormService=e,this.fb=i,this.moduleService=o,this.submitExecutionStepsSelectionForm=new je,this.executionStepsSelectionForm=this.fb.group({steps:this.fb.array([])}),this.changed=!1}ngOnInit(){this.changeSubscription=this.executionStepsSelectionForm.valueChanges.pipe($i(300),un(e=>this.changed=!this.executionStepsSelectionForm.valid||!this.equalExecutionSteps(this.developmentMethod.executionSteps,this.executionStepsFormService.getExecutionSteps(e.steps)))).subscribe()}ngOnChanges(e){if(e.developmentMethod){const i=e.developmentMethod.previousValue,o=e.developmentMethod.currentValue;(null==i||!this.equalExecutionSteps(i.executionSteps,o.executionSteps))&&this.loadForm(o.executionSteps)}}ngOnDestroy(){this.changeSubscription&&this.changeSubscription.unsubscribe()}addStep(){this.executionStepsFormService.addExecutionStep(this.formArray)}changeStep(e,i){this.executionStepsFormService.executionStepTypeChange(this.formArray,e,i)}removeStep(e){this.executionStepsFormService.removeExecutionStep(this.formArray,e)}loadForm(e){this.executionStepsSelectionForm.setControl("steps",this.executionStepsFormService.createForm(e))}submitForm(){this.submitExecutionStepsSelectionForm.emit(this.formArray)}update(){this.changed&&this.executionStepsSelectionForm.valid&&this.submitForm()}equalExecutionSteps(e,i){return!!va(e,i)&&e.every((o,r)=>{if(!ho(o))return!0;if(null!=o.module&&null!=o.method){const s=this.moduleService.getModuleMethod(o.module,o.method);return null==(null==s?void 0:s.equalPredefinedInput)||s.equalPredefinedInput(o.predefinedInput,i[r].predefinedInput)}return!1})}get formArray(){return this.executionStepsSelectionForm.get("steps")}}return t.\u0275fac=function(e){return new(e||t)(H(U0),H(zt),H(zr))},t.\u0275cmp=He({type:t,selectors:[["app-development-method-select-execution-steps"]],inputs:{developmentMethod:"developmentMethod"},outputs:{submitExecutionStepsSelectionForm:"submitExecutionStepsSelectionForm"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:10,vars:8,consts:[[3,"formGroup","ngSubmit"],["formArrayName","steps","class","list-group mb-3",4,"ngIf"],[1,"d-flex","mb-3"],["type","button",1,"btn","btn-primary","ml-auto",3,"click"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"],["formArrayName","steps",1,"list-group","mb-3"],["class","list-group-item",3,"formGroupName",4,"ngFor","ngForOf"],[1,"list-group-item",3,"formGroupName"],[1,"d-flex","align-items-baseline"],["role","group","ngbRadioGroup","","name","textualOrMethod","formControlName","isMethod",1,"ml-auto","btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn-primary"],["ngbButton","","type","radio",3,"value","click"],[3,"formGroup","stepNumber","remove",4,"ngIf"],[3,"executionStepsFormValue","formGroup","developmentMethod","stepNumber","remove",4,"ngIf"],[3,"formGroup","stepNumber","remove"],[3,"executionStepsFormValue","formGroup","developmentMethod","stepNumber","remove"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),k(1,OMe,2,1,"ul",1),c(2,"div",2)(3,"button",3),z("click",function(){return i.addStep()}),g(4," Add execution step "),u()(),c(5,"div",4)(6,"div",5)(7,"button",6),g(8," Update"),k(9,BMe,2,0,"span",7),u()()()()),2&e&&(v("formGroup",i.executionStepsSelectionForm),p(1),v("ngIf",i.formArray.controls.length>0),p(6),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.executionStepsSelectionForm.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,nt,vo,Lt,kr,ec,Jt,Zt,Ra,qc,bMe,IMe],styles:[""]}),t})();function jMe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let G_=(()=>{class t{constructor(e){this.fb=e,this.submitAuthorForm=new je,this.authorForm=this.fb.group({name:"",company:"",email:["",ft.email],website:""}),this.changed=!1}ngOnInit(){null==this.author&&this.loadForm(),this.changeSubscription=this.authorForm.valueChanges.pipe($i(300),un(e=>this.changed=null!=this.author&&!this.author.equals(e))).subscribe()}ngOnChanges(e){e.author&&(e.author.currentValue.equals(e.author.previousValue)||this.loadForm(e.author.currentValue))}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitAuthorForm.emit(this.authorForm)}update(){this.changed&&this.authorForm.valid&&this.submitForm()}loadForm(e=new Ks(void 0,{})){this.authorForm.patchValue(e)}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-author-form"]],inputs:{author:"author"},outputs:{submitAuthorForm:"submitAuthorForm"},features:[Tt([{provide:Yi,useExisting:t}]),Xt],decls:28,vars:9,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],["for","company",1,"col-sm-4","col-form-label"],["type","text","formControlName","company","id","company",1,"form-control"],["for","email",1,"col-sm-4","col-form-label"],["type","email","formControlName","email","id","email","aria-describedby","eMailErrorDescription",1,"form-control"],["id","eMailErrorDescription",1,"invalid-feedback"],["for","website",1,"col-sm-4","col-form-label"],["type","url","formControlName","website","id","website",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){if(1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8,"Company"),u(),c(9,"div",3),re(10,"input",6),u()(),c(11,"div",1)(12,"label",7),g(13,"Email"),u(),c(14,"div",3),re(15,"input",8),c(16,"div",9),g(17," Email is not valid. "),u()()(),c(18,"div",1)(19,"label",10),g(20,"Website"),u(),c(21,"div",3),re(22,"input",11),u()(),c(23,"div",1)(24,"div",12)(25,"button",13),g(26," Update Author Info"),k(27,jMe,2,0,"span",14),u()()()()),2&e){let o;v("formGroup",i.authorForm),p(15),Ht("is-invalid",null==(o=i.authorForm.get("email"))?null:o.hasError("email")),p(10),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.authorForm.valid),p(2),v("ngIf",i.changed)}},directives:[nn,Wt,Vt,wn,Jt,Zt,nt],styles:[""]}),t})();const GMe=function(){return[]};function VMe(t,n){if(1&t&&(c(0,"a",8),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,GMe)),p(1),Be(" ",e.developmentMethod.name," ")}}function HMe(t,n){1&t&&(c(0,"div",33),g(1," This Method Building Block has errors. "),u())}function UMe(t,n){1&t&&(c(0,"div",34),g(1," This Method Building Block is correctly defined. "),u())}function zMe(t,n){1&t&&(St(0),re(1,"i",35),c(2,"span",36),g(3,"(Error in this part)"),u(),Et())}function qMe(t,n){1&t&&(St(0),re(1,"i",35),c(2,"span",36),g(3,"(Error in this part)"),u(),Et())}function $Me(t,n){if(1&t){const e=ye();c(0,"main",9)(1,"div",10)(2,"p"),g(3," Create a Method Building Block to insert it later into activities of Method Patterns. A Method Building Block needs at least a Type to be inserted into an activity of a Method Pattern. "),u(),c(4,"p"),g(5," It is possible to only select a value for the list input field and let the second input field empty. Then the Business Developer can decide later, when creating the Business Model Development Method, which concrete element to use. Additionally, it is possible to select multiple to define that a Business Developer will be able to select multiple concrete elements. "),u(),c(6,"p",11),g(7," Artifacts and Stakeholders allow the creation of different groups. Later, when creating the Business Model Development Method, one group can be chosen to be used. "),u()(),k(8,HMe,2,0,"div",12),k(9,UMe,2,0,"div",13),c(10,"div",14)(11,"h6",15),g(12,"Method Building Block"),u(),c(13,"div",16)(14,"app-development-method-form",17),z("submitDevelopmentMethodForm",function(o){return W(e),T().updateDevelopmentMethodValue(o.value)}),u()()(),c(15,"div",14)(16,"h6",15),g(17,"Types"),u(),c(18,"div",16)(19,"app-types-selection-form",18),z("submitTypesForm",function(o){return W(e),T().updateDevelopmentMethodValue({types:o.value})}),u()()(),c(20,"div",14)(21,"h6",15),g(22,"Situational Factors"),u(),c(23,"div",16)(24,"app-situational-factors-selection-form",19),z("submitSituationalFactorsForm",function(o){return W(e),T().updateDevelopmentMethodValue({situationalFactors:o.value})}),u()()(),c(25,"div",14)(26,"h6",15),g(27,"Description"),u(),c(28,"div",16)(29,"app-description-form",20),z("submitDescriptionForm",function(o){return W(e),T().updateDevelopmentMethod(o)}),u()()(),c(30,"div",14)(31,"h6",15),g(32,"Examples"),u(),c(33,"div",16)(34,"app-examples-form",21),z("submitExamplesForm",function(o){return W(e),T().updateDevelopmentMethodValue({examples:o.value})}),u()()(),c(35,"div",14)(36,"div",22)(37,"h6",23),g(38,"Input Artifacts"),u(),k(39,zMe,4,0,"ng-container",24),u(),c(40,"div",25)(41,"app-artifacts-mapping-selection-form",26),z("submitArtifactsForm",function(o){return W(e),T().updateDevelopmentMethodValue({inputArtifacts:o})}),u()()(),c(42,"div",14)(43,"h6",15),g(44,"Output Artifacts"),u(),c(45,"div",25)(46,"app-artifacts-selection-form",27),z("submitArtifactsForm",function(o){return W(e),T().updateDevelopmentMethodValue({outputArtifacts:o})}),u()()(),c(47,"div",14)(48,"h6",15),g(49,"Stakeholders"),u(),c(50,"div",16)(51,"app-stakeholders-selection-form",28),z("submitStakeholdersForm",function(o){return W(e),T().updateDevelopmentMethodValue({stakeholders:o})}),u()()(),c(52,"div",14)(53,"h6",15),g(54,"Tools"),u(),c(55,"div",16)(56,"app-tools-selection-form",29),z("submitToolsForm",function(o){return W(e),T().updateDevelopmentMethodValue({tools:o})}),u()()(),c(57,"div",14)(58,"div",22)(59,"h6",23),g(60,"Execution steps"),u(),k(61,qMe,4,0,"ng-container",24),u(),c(62,"div",25)(63,"div",30),g(64," The modules must first be added in the tools before they can be selected here. "),u(),c(65,"app-development-method-select-execution-steps",31),z("submitExecutionStepsSelectionForm",function(o){return W(e),T().updateExecutionSteps(o)}),u()()(),c(66,"div",14)(67,"h6",15),g(68,"Edit Author Information"),u(),c(69,"div",16)(70,"app-author-form",32),z("submitAuthorForm",function(o){return W(e),T().updateDevelopmentMethodValue({author:o.value})}),u()()()()}if(2&t){const e=T();p(8),v("ngIf",!e.correctlyDefined),p(1),v("ngIf",e.correctlyDefined),p(5),v("developmentMethod",e.developmentMethod),p(5),v("types",e.developmentMethod.types),p(5),v("situationalFactors",e.developmentMethod.situationalFactors),p(5),v("description",e.developmentMethod.description),p(5),v("examples",e.developmentMethod.examples),p(5),v("ngIf",!e.inputArtifactsCorrectlyDefined),p(2),v("artifacts",e.developmentMethod.inputArtifacts)("developmentMethod",e.developmentMethod),p(5),v("artifacts",e.developmentMethod.outputArtifacts),p(5),v("stakeholders",e.developmentMethod.stakeholders),p(5),v("tools",e.developmentMethod.tools),p(5),v("ngIf",!e.executionStepsCorrectlyDefined),p(4),v("developmentMethod",e.developmentMethod),p(5),v("author",e.developmentMethod.author)}}const WMe=function(){return["/","methods"]};let YMe=(()=>{class t{constructor(e,i,o){this.developmentMethodLoaderService=e,this.developmentMethodService=i,this.executionStepsFormService=o,this.correctlyDefined=!0,this.inputArtifactsCorrectlyDefined=!0,this.executionStepsCorrectlyDefined=!0}ngOnInit(){this.developmentMethodLoaderService.loaded.subscribe(()=>{null!=this.developmentMethod?(this.correctlyDefined=this.developmentMethodService.isCorrectlyDefined(this.developmentMethod),this.inputArtifactsCorrectlyDefined=this.developmentMethodService.isInputArtifactsCorrectlyDefined(this.developmentMethod),this.executionStepsCorrectlyDefined=this.developmentMethodService.isExecutionStepsCorrectlyDefined(this.developmentMethod)):(this.correctlyDefined=!0,this.inputArtifactsCorrectlyDefined=!0,this.executionStepsCorrectlyDefined=!0)})}updateExecutionSteps(e){var i=this;return Y(function*(){const o=i.executionStepsFormService.getExecutionSteps(e.value);yield i.updateDevelopmentMethodValue({executionSteps:o})})()}updateDevelopmentMethod(e){var i=this;return Y(function*(){yield i.updateDevelopmentMethodValue(e.value)})()}updateDevelopmentMethodValue(e){var i=this;return Y(function*(){null!=i.developmentMethod&&(yield i.developmentMethodService.update(i.developmentMethod._id,e))})()}update(){for(const e of this.updatable)e.update()}get developmentMethod(){return this.developmentMethodLoaderService.developmentMethod}}return t.\u0275fac=function(e){return new(e||t)(H(nG),H(dl),H(U0))},t.\u0275cmp=He({type:t,selectors:[["app-development-method"]],viewQuery:function(e,i){if(1&e&&Ft(Yi,5),2&e){let o;bt(o=yt())&&(i.updatable=o)}},features:[Tt([nG,{provide:Yi,useExisting:t}])],decls:10,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"fixed-bottom","d-flex"],[1,"ml-auto","p-3","bg-white","rounded","shadow-sm"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],["role","alert",1,"alert","alert-info","mt-3"],[1,"mb-0"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"developmentMethod","submitDevelopmentMethodForm"],[3,"types","submitTypesForm"],[3,"situationalFactors","submitSituationalFactorsForm"],[3,"description","submitDescriptionForm"],[3,"examples","submitExamplesForm"],[1,"d-flex","align-items-baseline","justify-content-between","border-bottom","border-gray"],[1,"pb-2","mb-0"],[4,"ngIf"],[1,"pt-3"],[3,"artifacts","developmentMethod","submitArtifactsForm"],[3,"artifacts","submitArtifactsForm"],[3,"stakeholders","submitStakeholdersForm"],[3,"tools","submitToolsForm"],[1,"alert","alert-info"],[3,"developmentMethod","submitExecutionStepsSelectionForm"],[3,"author","submitAuthorForm"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-danger","fas","fa-exclamation-circle"],[1,"sr-only"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3," Method Building Blocks "),u(),k(4,VMe,2,3,"a",3),u()(),k(5,$Me,71,16,"main",4),c(6,"div",5)(7,"div",6)(8,"button",7),z("click",function(){return i.update()}),g(9," Update all "),u()()()),2&e&&(p(2),v("routerLink",Bt(3,WMe)),p(2),v("ngIf",i.developmentMethod),p(1),v("ngIf",i.developmentMethod))},directives:[gn,nt,OCe,iG,G3,j_,zCe,hMe,gMe,_Me,vMe,LMe,G_],styles:[""]}),t})();const XMe=["deleteProcessPatternModal"];function KMe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",21),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteProcessPattern(r.modalProcessPattern._id),o()}),c(1,"div",22),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be("Delete Method Pattern ",e.modalProcessPattern.name,""),p(1),Be(" You are deleting the method pattern ",e.modalProcessPattern.name,". This can not be undone. This action will not delete the method pattern from business model development methods that are using it. ")}}function QMe(t,n){1&t&&k(0,KMe,4,2,"app-delete-modal",20),2&t&&v("ngIf",null!=T().modalProcessPattern)}const rG=function(t){return["processview",t]};function JMe(t,n){if(1&t&&(c(0,"a",23),g(1),u()),2&t){const e=n.$implicit;v("routerLink",Fn(2,rG,e._id)),p(1),_t(e.name)}}function ZMe(t,n){if(1&t&&(c(0,"div"),g(1),u()),2&t){const e=T(2);p(1),Be(" No Method Patterns found for search: ",e.searchValue,". ")}}function eSe(t,n){if(1&t){const e=ye();c(0,"li",29)(1,"app-results-list-item",30),z("delete",function(){const r=W(e).$implicit;return T(3).openDeleteProcessPatternModal(r)}),St(2,31),g(3),Et(),St(4,32),g(5),Et(),re(6,"app-author-info",33),u()()}if(2&t){const e=n.$implicit;p(1),v("viewLink",Fn(4,rG,e._id)),p(2),Be(" ",e.name," "),p(2),Be(" ",e.description," "),p(1),v("author",e.author)}}function tSe(t,n){if(1&t&&(c(0,"ul",27),k(1,eSe,7,6,"li",28),u()),2&t){const e=T(2);p(1),v("ngForOf",e.processPatternListFiltered)}}function nSe(t,n){if(1&t&&(St(0,24),k(1,ZMe,2,1,"div",25),k(2,tSe,2,1,"ul",26),Et()),2&t){const e=T();p(1),v("ngIf",0===e.processPatternListFiltered.length),p(1),v("ngIf",e.processPatternListFiltered.length>0)}}const iSe=function(){return[]};let oSe=(()=>{class t{constructor(e,i,o,r){this.fb=e,this.listService=i,this.modalService=o,this.processPatternDiagramService=r,this.processPatternForm=this.fb.group({name:["",ft.required]})}openDeleteProcessPatternModal(e){this.modalProcessPattern=e,this.modalReference=this.modalService.open(this.deleteProcessPatternModal,{size:"lg"})}deleteProcessPattern(e){var i=this;return Y(function*(){yield i.listService.delete(e)})()}addProcessPattern(e){var i=this;return Y(function*(){yield i.listService.add({name:e.value.name,pattern:yield i.processPatternDiagramService.getEmptyProcessPatternDiagram()}),i.processPatternForm.reset()})()}get processPatternList(){return this.listService.elements}get processPatternListFiltered(){return this.listService.filteredElements}get searchValue(){return this.listService.searchValue}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(V0),H(jn),H(fO))},t.\u0275cmp=He({type:t,selectors:[["app-process-patterns"]],viewQuery:function(e,i){if(1&e&&Ft(XMe,7),2&e){let o;bt(o=yt())&&(i.deleteProcessPatternModal=o.first)}},features:[Tt([vf,{provide:_f,useValue:F_},V0,{provide:Vs,useExisting:Ou}])],decls:28,vars:9,consts:[["deleteProcessPatternModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngFor","ngForOf"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Method Patterns",3,"reloading","loading","noResults"],["noResults",""],["results","",4,"ngIf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],[1,"nav-link",3,"routerLink"],["results",""],[4,"ngIf"],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"viewLink","delete"],["itemTitle",""],["itemDescription",""],[3,"author"]],template:function(e,i){1&e&&(k(0,QMe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Method Patterns"),u(),k(6,JMe,2,4,"a",4),u()(),c(7,"main",5)(8,"div",6),g(9," Create Method Patterns to use them for the Business Model Development Methods "),u(),c(10,"app-list-wrapper",7)(11,"div",8),g(12,"No Method Patterns defined."),u(),k(13,nSe,3,2,"ng-container",9),u(),c(14,"div",10)(15,"h6",11),g(16,"Add Method Pattern"),u(),c(17,"div",12)(18,"form",13),z("ngSubmit",function(){return i.addProcessPattern(i.processPatternForm)}),c(19,"div",14)(20,"label",15),g(21,"Method Pattern Name"),u(),c(22,"div",16),re(23,"input",17),u()(),c(24,"div",14)(25,"div",18)(26,"button",19),g(27," Add Method Pattern "),u()()()()()()()),2&e&&(p(4),v("routerLink",Bt(8,iSe)),p(2),v("ngForOf",i.processPatternList),p(4),v("reloading",i.reloading)("loading",i.loading)("noResults",i.noResults),p(3),v("ngIf",null!=i.processPatternListFiltered),p(5),v("formGroup",i.processPatternForm),p(8),v("disabled",!i.processPatternForm.valid))},directives:[nt,cr,gn,Lt,Ss,L_,H0,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})(),rSe=(()=>{class t{constructor(e,i){this.eventBus=i,e.registerProvider(this)}getContextPadEntries(e){return(0,te.is)(e,"bpmn:Activity")?{"bmdl.types":{group:"edit",className:"bpmn-icon-service "+(e.businessObject.get("neededType").length>0||e.businessObject.inherit?"text-success":"text-danger"),title:"Manage types",action:{click:()=>this.eventBus.fire("bmdl.types",e.businessObject)}}}:{}}}return t.$inject=["contextPad","eventBus"],t})();const cSe={__depends__:[Ib,vb,tE,rE],__init__:["bmProcessPatternsContextPad","paletteProvider","replaceMenuProvider"],bmProcessPatternsContextPad:["type",rSe],contextPadProvider:["type",class sSe extends zb{getContextPadEntries(n){const e=super.getContextPadEntries(n);return delete e["append.intermediate-event"],e}}],paletteProvider:["type",class aSe extends Kg{getPaletteEntries(n){const e=["hand-tool","lasso-tool","space-tool","global-connect-tool","create.start-event","create.end-event","create.exclusive-gateway","create.task","tool-separator"],i=super.getPaletteEntries(n),o={};for(const r of e)o[r]=i[r];return o}}],replaceMenuProvider:["type",class lSe extends Fa{_createEntries(n,e){const i=new Set(["bpmn:StartEvent","bpmn:EndEvent","bpmn:ExclusiveGateway","bpmn:ParallelGateway","bpmn:Task","bpmn:CallActivity"]);return e=e.filter(o=>i.has(o.target.eventDefinitionType?o.target.eventDefinitionType:o.target.type)),super._createEntries(n,e)}_createSequenceFlowEntries(){return[]}_getLoopEntries(){return[]}}]};let uSe=(()=>{class t extends R3{constructor(e){super(),this.processPatternLinterService=e}getBpmnModeler(){return new xs({linting:{bpmnlint:this.processPatternLinterService.getBpmnLinter()},additionalModules:[cSe,dO],moddleExtensions:{bmdl:Ru}})}setTypesOfActivity(e,i,o,r,s){const a=e.get("moddle"),l=e.get("modeling"),h=e.get("elementRegistry").get(i);null!=h&&l.updateProperties(h,{inherit:o,neededType:r.map(w=>sG(a,w)),forbiddenType:s.map(w=>sG(a,w))})}}return t.\u0275fac=function(e){return new(e||t)(Ve(pO))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function sG(t,n){return t.create("bmdl:Type",{list:n.list,element:n.element?t.create("bmdl:MethodElement",{_id:n.element._id,name:n.element.name}):void 0})}const $0=function(){return[]};function dSe(t,n){if(1&t&&re(0,"app-method-elements-selection-form",11),2&t){const e=T();let i,o;v("createFormGroupFactory",e.createFormGroupFactory)("listNames",null!==(i=e.listNames)&&void 0!==i?i:Bt(3,$0))("methodElements",null!==(o=e.methodElements)&&void 0!==o?o:Bt(4,$0))}}function pSe(t,n){if(1&t&&re(0,"app-method-elements-selection-form",12),2&t){const e=T();let i,o;v("createFormGroupFactory",e.createFormGroupFactory)("listNames",null!==(i=e.listNames)&&void 0!==i?i:Bt(3,$0))("methodElements",null!==(o=e.methodElements)&&void 0!==o?o:Bt(4,$0))}}let mSe=(()=>{class t{constructor(e,i){this.fb=e,this.typeService=i,this.submitTypesForm=new je,this.typesForm=this.fb.group({inherit:this.fb.control(!1,ft.required),neededType:this.fb.array([]),forbiddenType:this.fb.array([])}),this.createFormGroupFactory=()=>this.fb.group({list:["",ft.required],element:null})}ngOnInit(){this.loadTypes()}ngOnChanges(e){e.types&&this.loadForm(e.types.currentValue)}submitForm(){this.submitTypesForm.emit(this.typesForm)}loadForm(e){var i;const o=a=>this.fb.group({list:[a.list,ft.required],element:a.element}),r=e.neededType.map(o),s=e.forbiddenType.map(o);e.inherit&&(null===(i=this.typesForm.get("inherit"))||void 0===i||i.setValue(e.inherit)),this.typesForm.setControl("neededType",this.fb.array(r)),this.typesForm.setControl("forbiddenType",this.fb.array(s))}loadTypes(){var e=this;return Y(function*(){e.methodElements=yield e.typeService.getList(),e.listNames=[...new Set(e.methodElements.map(i=>i.list))]})()}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(bf))},t.\u0275cmp=He({type:t,selectors:[["app-process-pattern-types-form"]],inputs:{types:"types"},outputs:{submitTypesForm:"submitTypesForm"},features:[Xt],decls:17,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"alert","alert-info"],[1,"form-group"],["ngbRadioGroup","","name","inherit","formControlName","inherit",1,"btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn-primary"],["ngbButton","","type","radio",3,"value"],["class","form-group","formArrayName","neededType","methodElementName","Needed Type",3,"createFormGroupFactory","listNames","methodElements",4,"ngIf"],["class","form-group","formArrayName","forbiddenType","methodElementName","Forbidden Type",3,"createFormGroupFactory","listNames","methodElements",4,"ngIf"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-dark","btn-block",3,"disabled"],["formArrayName","neededType","methodElementName","Needed Type",1,"form-group",3,"createFormGroupFactory","listNames","methodElements"],["formArrayName","forbiddenType","methodElementName","Forbidden Type",1,"form-group",3,"createFormGroupFactory","listNames","methodElements"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1),g(2," Inherit types from parent to create generic patterns. "),u(),c(3,"div",2)(4,"div",3)(5,"label",4),re(6,"input",5),g(7," Inherit types "),u(),c(8,"label",4),re(9,"input",5),g(10," Do not inherit types "),u()()(),k(11,dSe,1,5,"app-method-elements-selection-form",6),k(12,pSe,1,5,"app-method-elements-selection-form",7),c(13,"div",8)(14,"div",9)(15,"button",10),g(16," Update Types "),u()()()()),2&e&&(v("formGroup",i.typesForm),p(6),v("value",!0),p(3),v("value",!1),p(2),v("ngIf",!i.typesForm.value.inherit),p(1),v("ngIf",!i.typesForm.value.inherit),p(3),v("disabled",!i.typesForm.valid))},directives:[nn,Wt,Vt,ec,Jt,Zt,Ra,qc,nt,j3,vo],styles:[""]}),t})();const fSe=["canvas"],hSe=["manageTypesModal"];function gSe(t,n){if(1&t&&(c(0,"h4",29),g(1),u()),2&t){const e=T(2);p(1),Be(" Manage types of activity ",e.modalTask.name," ")}}function _Se(t,n){if(1&t){const e=ye();c(0,"app-process-pattern-types-form",30),z("submitTypesForm",function(o){return W(e),T(2).updateTypes(o)}),u()}2&t&&v("types",T(2).modalTask)}function vSe(t,n){if(1&t){const e=ye();c(0,"div",22),k(1,gSe,2,1,"h4",23),c(2,"button",24),z("click",function(){return W(e).dismiss()}),c(3,"span",25),g(4,"\xd7"),u()()(),c(5,"div",26)(6,"div",27),k(7,_Se,1,1,"app-process-pattern-types-form",28),u()()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalTask),p(6),v("ngIf",null!=e.modalTask)}}let aG=(()=>{class t{constructor(e,i,o){this.fb=e,this.modalService=i,this.processPatternModelerService=o,this.saveProcessPattern=new je,this.modeler=this.processPatternModelerService.getBpmnModeler()}ngOnInit(){this.modeler.get("eventBus").on("bmdl.types",(e,i)=>this.openManageTypesModal(i)),null!=this.processPattern&&this.loadProcessPattern(this.processPattern,!0)}ngOnChanges(e){e.processPattern&&this.modeler&&this.loadProcessPattern(e.processPattern.currentValue,e.processPattern.firstChange)}ngAfterContentInit(){this.modeler.attachTo(this.canvas.nativeElement)}ngOnDestroy(){this.modeler.destroy()}saveDiagram(){return this.modeler.saveXML().then(e=>this.saveProcessPattern.emit(e.xml))}toggleLinter(){this.modeler.get("linting").toggle()}openManageTypesModal(e){this.modalTask={id:e.id,name:e.name,inherit:e.get("inherit"),neededType:e.get("neededType"),forbiddenType:e.get("forbiddenType")},this.modalReference=this.modalService.open(this.manageTypesModal,{size:"lg"})}updateTypes(e){var i=this;return Y(function*(){var o;null!=i.modalTask&&(i.processPatternModelerService.setTypesOfActivity(i.modeler,i.modalTask.id,e.value.inherit,e.value.neededType,e.value.forbiddenType),null===(o=i.modalReference)||void 0===o||o.close(),yield i.saveDiagram())})()}loadProcessPattern(e,i){var o=this;return Y(function*(){e.pattern?o.modeler.importXML(e.pattern).then(()=>{i&&o.processPatternModelerService.resizeView(o.modeler)}).catch(r=>console.log("LoadProcessPattern: "+r)):yield o.modeler.createDiagram()})()}diagramChanged(){return this.modeler.saveXML().then(e=>{var i;return e.xml!==(null===(i=this.processPattern)||void 0===i?void 0:i.pattern)})}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(jn),H(uSe))},t.\u0275cmp=He({type:t,selectors:[["app-process-pattern-diagram"]],viewQuery:function(e,i){if(1&e&&(Ft(fSe,7),Ft(hSe,7)),2&e){let o;bt(o=yt())&&(i.canvas=o.first),bt(o=yt())&&(i.manageTypesModal=o.first)}},inputs:{processPattern:"processPattern"},outputs:{saveProcessPattern:"saveProcessPattern"},features:[Xt],decls:55,vars:0,consts:[["manageTypesModal",""],[1,"border",2,"height","500px"],["canvas",""],[1,"container"],[1,"p-3","bg-white","rounded","shadow-sm"],[1,"row"],[1,"col-4"],[1,"bpmn-icon-end-event-none","bpmn-legend-icon"],[1,"bpmn-icon-gateway-none","bpmn-legend-icon"],[1,"bpmn-icon-task","bpmn-legend-icon"],[1,"bpmn-icon-screw-wrench","bpmn-legend-icon"],[1,"bpmn-icon-trash","bpmn-legend-icon"],[1,"bpmn-icon-service","bpmn-legend-icon"],[1,"bpmn-icon-connection-multi","bpmn-legend-icon"],[1,"bpmn-icon-text-annotation","bpmn-legend-icon"],[1,"bpmn-icon-hand-tool","bpmn-legend-icon"],[1,"bpmn-icon-lasso-tool","bpmn-legend-icon"],[1,"bpmn-icon-space-tool","bpmn-legend-icon"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"btn","btn-primary","mr-1",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-muted","pt-3"],[3,"types","submitTypesForm",4,"ngIf"],[1,"modal-title"],[3,"types","submitTypesForm"]],template:function(e,i){1&e&&(k(0,vSe,8,2,"ng-template",null,0,$t),re(2,"div",1,2),c(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"strong"),g(9,"Legend:"),u()()(),c(10,"div",5)(11,"div",6),re(12,"i",7),g(13," Create/Append EndEvent "),u(),c(14,"div",6),re(15,"i",8),g(16," Create/Append Gateway "),u(),c(17,"div",6),re(18,"i",9),g(19," Create/Append Task "),u()(),c(20,"div",5)(21,"div",6),re(22,"i",10),g(23," Change type of BPMN element "),u(),c(24,"div",6),re(25,"i",11),g(26," Remove "),u(),c(27,"div",6),re(28,"i",12),g(29," Manage Types of task "),u()(),c(30,"div",5)(31,"div",6),re(32,"i",13),g(33," Add Connection "),u(),c(34,"div",6),re(35,"i",14),g(36," Add Annotation "),u(),re(37,"div",6),u(),c(38,"div",5)(39,"div",6),re(40,"i",15),g(41," Hand Tool to move the diagram "),u(),c(42,"div",6),re(43,"i",16),g(44," Lasso Tool to select multiple elements "),u(),c(45,"div",6),re(46,"i",17),g(47," Space Tool to create/remove space between elements "),u()()(),c(48,"div",18)(49,"h6",19),g(50,"Controls"),u(),c(51,"button",20),z("click",function(){return i.toggleLinter()}),g(52," Toggle Linter "),u(),c(53,"button",21),z("click",function(){return i.saveDiagram()}),g(54," Save Diagram "),u()()())},directives:[nt,mSe],styles:[".bpmn-legend-icon[_ngcontent-%COMP%]{font-size:1.5rem}"]}),t})(),lG=(()=>{class t extends Es{constructor(e,i){super(i),this.processPatternService=e}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.processPatternService.getChangesFeed(i).subscribe(()=>this.loadProcessPattern(i)),this.loadProcessPattern(i)):this.processPattern=void 0}loadProcessPattern(e){var i=this;return Y(function*(){i.processPattern=yield i.processPatternService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Ou),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function bSe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let ySe=(()=>{class t{constructor(e){this.fb=e,this.submitProcessPatternForm=new je,this.form=this.fb.group({name:["",ft.required]}),this.changed=!1}ngOnInit(){this.changeSubscription=this.nameControl.valueChanges.pipe($i(300),un(e=>this.changed=e!==this.processPattern.name)).subscribe()}ngOnChanges(e){if(e.processPattern){const i=e.processPattern.previousValue,o=e.processPattern.currentValue;(e.processPattern.firstChange||i.name!==o.name)&&this.nameControl.setValue(o.name)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitProcessPatternForm.emit(this.form)}get nameControl(){return this.form.get("name")}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-process-pattern-form"]],inputs:{processPattern:"processPattern"},outputs:{submitProcessPatternForm:"submitProcessPatternForm"},features:[Xt],decls:11,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"div",5)(8,"button",6),g(9," Update"),k(10,bSe,2,0,"span",7),u()()()()),2&e&&(v("formGroup",i.form),p(8),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.form.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,wn,Jt,Zt,nt],styles:[""]}),t})();const wSe=function(){return[]};function xSe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,wSe)),p(1),Be(" ",e.processPattern.name," ")}}function CSe(t,n){1&t&&(c(0,"div",22),g(1," This Method Pattern has errors. (only updates after saving) "),u())}function MSe(t,n){1&t&&(c(0,"div",23),g(1," This Method Pattern is correctly defined. "),u())}function SSe(t,n){1&t&&(St(0),re(1,"i",24),c(2,"span",25),g(3,"(Warning in this part: You cannot use this method pattern without specifying types)"),u(),Et())}function ESe(t,n){if(1&t){const e=ye();c(0,"main")(1,"div",6)(2,"p"),g(3," Create a Method Pattern by using activities as placeholders for Method Building Blocks. Call activities are placeholders for both Method Building Blocks and other Method Patterns. Name processes and activities as you like and define needed and forbidden types on them. "),u(),c(4,"p"),g(5," A later selected Method Building Block or Method Pattern must have at least one type that is in the needed types and must not have any type that is in the forbidden types to be inserted into the placeholder. "),u(),c(6,"p")(7,"strong"),g(8,"Important:"),u(),g(9," Select a type for an activity through the gear icon that is shown if an activity is selected. If the gear icon is red, no type is selected. If it is green, a type is selected. "),u(),c(10,"p",7),g(11," There is also a linter that can be activated by clicking on the text in the bottom center of the diagram. "),u()(),k(12,CSe,2,0,"div",8),k(13,MSe,2,0,"div",9),c(14,"app-process-pattern-diagram",10),z("saveProcessPattern",function(o){return W(e),T().save(o)}),u(),c(15,"div",11)(16,"div",12)(17,"h6",13),g(18,"Method Pattern"),u(),c(19,"div",14)(20,"app-process-pattern-form",15),z("submitProcessPatternForm",function(o){return W(e),T().updateProcessPatternValue(o.value)}),u()()(),c(21,"div",12)(22,"div",16)(23,"h6",17),g(24,"Types"),u(),k(25,SSe,4,0,"ng-container",4),u(),c(26,"div",14)(27,"app-types-selection-form",18),z("submitTypesForm",function(o){return W(e),T().updateProcessPatternValue({types:o.value})}),u()()(),c(28,"div",12)(29,"h6",13),g(30,"Situational Factors"),u(),c(31,"div",14)(32,"app-situational-factors-selection-form",19),z("submitSituationalFactorsForm",function(o){return W(e),T().updateProcessPatternValue({situationalFactors:o.value})}),u()()(),c(33,"div",12)(34,"h6",13),g(35,"Description"),u(),c(36,"div",14)(37,"app-description-form",20),z("submitDescriptionForm",function(o){return W(e),T().updateProcessPatternValue({description:o.value.description})}),u()()(),c(38,"div",12)(39,"h6",13),g(40," Edit Author Information "),u(),c(41,"div",14)(42,"app-author-form",21),z("submitAuthorForm",function(o){return W(e),T().updateProcessPatternValue({author:o.value})}),u()()()()()}if(2&t){const e=T();p(12),v("ngIf",!e.correctlyDefined),p(1),v("ngIf",e.correctlyDefined),p(1),v("processPattern",e.processPattern),p(6),v("processPattern",e.processPattern),p(5),v("ngIf",!e.typesCorrectlyDefined),p(2),v("internalTypes",!0)("types",e.processPattern.types),p(5),v("situationalFactors",e.processPattern.situationalFactors),p(5),v("description",e.processPattern.description),p(5),v("author",e.processPattern.author)}}const TSe=function(){return["/","process"]};let PSe=(()=>{class t{constructor(e,i){this.processPatternLoaderService=e,this.processPatternService=i,this.correctlyDefined=!0,this.typesCorrectlyDefined=!0}ngOnInit(){var e=this;this.processPatternLoaderService.loaded.subscribe(Y(function*(){null!=e.processPattern?(e.correctlyDefined=yield e.processPatternService.isCorrectlyDefined(e.processPattern),e.typesCorrectlyDefined=e.processPattern.types.length>0):(e.correctlyDefined=!0,e.typesCorrectlyDefined=!0)}))}save(e){var i=this;return Y(function*(){null!=i.processPattern&&(yield i.processPatternService.update(i.processPattern._id,{pattern:e}))})()}updateProcessPatternValue(e){var i=this;return Y(function*(){null!=i.processPattern&&(yield i.processPatternService.update(i.processPattern._id,e))})()}diagramChanged(){return this.diagramComponent.diagramChanged()}saveDiagram(){return this.diagramComponent.saveDiagram()}get processPattern(){return this.processPatternLoaderService.processPattern}}return t.\u0275fac=function(e){return new(e||t)(H(lG),H(Ou))},t.\u0275cmp=He({type:t,selectors:[["app-process-pattern"]],viewQuery:function(e,i){if(1&e&&Ft(aG,5),2&e){let o;bt(o=yt())&&(i.diagramComponent=o.first)}},features:[Tt([lG])],decls:6,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","alert",1,"alert","alert-info","container","mt-3"],[1,"mb-0"],["class","alert alert-danger container",4,"ngIf"],["class","alert alert-success container",4,"ngIf"],[3,"processPattern","saveProcessPattern"],[1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"processPattern","submitProcessPatternForm"],[1,"d-flex","align-items-baseline","justify-content-between","border-bottom","border-gray"],[1,"pb-2","mb-0"],[3,"internalTypes","types","submitTypesForm"],[3,"situationalFactors","submitSituationalFactorsForm"],[3,"description","submitDescriptionForm"],[3,"author","submitAuthorForm"],[1,"alert","alert-danger","container"],[1,"alert","alert-success","container"],["ngbTooltip","You cannot use this method pattern without specifying types","triggers","hover focus click",1,"text-warning","fas","fa-exclamation-circle"],[1,"sr-only"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3," Method Patterns "),u(),k(4,xSe,2,3,"a",3),u()(),k(5,ESe,43,10,"main",4)),2&e&&(p(2),v("routerLink",Bt(3,TSe)),p(2),v("ngIf",i.processPattern),p(1),v("ngIf",i.processPattern))},directives:[gn,nt,aG,ySe,uL,iG,G3,j_,G_],styles:[""]}),t})(),cG=(()=>{class t{constructor(e){this.activeModal=e}close(){this.activeModal.dismiss()}leave(){this.activeModal.close(!1)}saveChanges(){this.activeModal.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-confirm-leave-modal"]],decls:12,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2,"You have unsaved changes in the diagram"),u()(),c(3,"div",2),g(4," You can stay on this page, discard them or save them.\n"),u(),c(5,"div",3)(6,"button",4),z("click",function(){return i.close()}),g(7," Close "),u(),c(8,"button",4),z("click",function(){return i.leave()}),g(9," Leave without saving "),u(),c(10,"button",5),z("click",function(){return i.saveChanges()}),g(11," Save changes "),u()())},styles:[""]}),t})(),V3=(()=>{class t{constructor(e){this.modalService=e}canDeactivate(e){var i=this;return Y(function*(){if(!(yield e.diagramChanged()))return!0;{const r=i.modalService.open(cG,{size:"lg"});try{return(yield r.result)&&(yield e.saveDiagram()),!0}catch(s){return!1}}})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function DSe(t,n){if(1&t){const e=ye();c(0,"li",7)(1,"div")(2,"span"),g(3),u()(),c(4,"div")(5,"a",8),g(6," View "),u(),c(7,"button",9),z("click",function(){const r=W(e).$implicit;return T(2).deleteElement.emit(r)}),g(8," Delete "),u()()()}if(2&t){const e=n.$implicit,i=T(2);p(3),_t(e.name),p(2),v("routerLink",i.getRouterLink(e))}}function FSe(t,n){if(1&t&&(c(0,"div",3)(1,"h6",4),g(2),u(),c(3,"ul",5),k(4,DSe,9,2,"li",6),u()()),2&t){const e=n.$implicit;p(2),_t(e.listName),p(2),v("ngForOf",e.elements)}}let V_=(()=>{class t{constructor(){this.getRouterLink=e=>["detail",e._id],this.deleteElement=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-method-element-list"]],inputs:{listTitle:"listTitle",elementLists:"elementLists",getRouterLink:"getRouterLink"},outputs:{deleteElement:"deleteElement"},decls:4,vars:4,consts:[[3,"listTitle","loading","noResults"],["noResults",""],["results","","class","my-3 p-3 bg-white rounded shadow-sm",4,"ngFor","ngForOf"],["results","",1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"list-group"],["class","\n          d-flex\n          list-group-item\n          justify-content-between\n          align-items-baseline\n        ",4,"ngFor","ngForOf"],[1,"d-flex","list-group-item","justify-content-between","align-items-baseline"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"routerLink"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"]],template:function(e,i){1&e&&(c(0,"app-list-wrapper",0)(1,"div",1),g(2,"No elements defined."),u(),k(3,FSe,5,2,"div",2),u()),2&e&&(v("listTitle",i.listTitle)("loading",null==i.elementLists)("noResults",null!=i.elementLists&&0===i.elementLists.length),p(3),v("ngForOf",i.elementLists))},directives:[Ss,Lt,gn],styles:[""]}),t})();function ASe(t,n){1&t&&(c(0,"div",2)(1,"label",10),g(2,"Name"),u(),c(3,"div",4),re(4,"input",11),u()())}function ISe(t,n){1&t&&(c(0,"div",12)(1,"label",13),g(2,"Description"),u(),re(3,"textarea",14),u())}function kSe(t,n){1&t&&(c(0,"button",15),g(1," Add "),u()),2&t&&v("disabled",!T().methodElementForm.valid)}function NSe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}function RSe(t,n){if(1&t&&(c(0,"button",16),g(1," Update"),k(2,NSe,2,0,"span",17),u()),2&t){const e=T();Ht("btn-dark",!e.changed)("btn-primary",e.changed),v("disabled",!e.methodElementForm.valid),p(2),v("ngIf",e.changed)}}let Xc=(()=>{class t{constructor(e){this.fb=e,this.listNames=[],this.submitMethodElementForm=new je,this.methodElementForm=this.fb.group({name:["",ft.required],list:["",ft.required],description:[""]}),this.changed=!1,this.openListInput=new Oe,this.searchLists=i=>Pn(Ka(i),this.openListInput).pipe(Ze(o=>this.listNames.filter(r=>r.toLowerCase().includes(o.toLowerCase())).slice(0,10)))}ngOnInit(){this.changeSubscription=this.methodElementForm.valueChanges.pipe($i(300),un(e=>this.changed=null!=this.methodElement&&!this.equals(this.methodElement,e))).subscribe()}ngOnChanges(e){if(e.methodElement){const o=e.methodElement.currentValue;this.equals(o,e.methodElement.previousValue)||this.loadForm(o)}}ngOnDestroy(){this.changeSubscription&&this.changeSubscription.unsubscribe(),this.openListInput.complete()}loadForm(e){this.methodElementForm.patchValue(e)}equals(e,i){return null==e&&null==i||null!=e&&null!=i&&e.list===i.list&&e.description===i.description}submitForm(){this.submitMethodElementForm.emit(this.methodElementForm),null==this.methodElement&&this.methodElementForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-method-element-form"]],inputs:{methodElement:"methodElement",listNames:"listNames"},outputs:{submitMethodElementForm:"submitMethodElementForm"},features:[Xt],decls:12,vars:6,consts:[[3,"formGroup","ngSubmit"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","list",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","list","id","list",1,"form-control",3,"ngbTypeahead","click","focus"],["class","form-group",4,"ngIf"],[1,"col-sm-12"],["type","submit","class","btn btn-sm btn-dark btn-block",3,"disabled",4,"ngIf"],["type","submit","class","btn btn-sm btn-block",3,"btn-dark","btn-primary","disabled",4,"ngIf"],["for","name",1,"col-sm-4","col-form-label"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"form-group"],["for","description"],["formControlName","description","id","description","rows","3",1,"form-control"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),k(1,ASe,5,0,"div",1),c(2,"div",2)(3,"label",3),g(4,"List"),u(),c(5,"div",4)(6,"input",5),z("click",function(r){return i.openListInput.next(r.target.value)})("focus",function(r){return i.openListInput.next(r.target.value)}),u()()(),k(7,ISe,4,0,"div",6),c(8,"div",2)(9,"div",7),k(10,kSe,2,1,"button",8),k(11,RSe,3,6,"button",9),u()()()),2&e&&(v("formGroup",i.methodElementForm),p(1),v("ngIf",!i.methodElement),p(5),v("ngbTypeahead",i.searchLists),p(1),v("ngIf",i.methodElement),p(3),v("ngIf",!i.methodElement),p(1),v("ngIf",i.methodElement))},directives:[nn,Wt,Vt,nt,wn,Jt,Zt,$u],styles:[""]}),t})();const OSe=["deleteSituationalFactorModal"];function BSe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",12),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteSituationalFactor(r.modalSituationalFactor._id),o()}),c(1,"div",13),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be(" Delete Situational Factor ",e.modalSituationalFactor.name," "),p(1),Be(" You are deleting the situational factor ",e.modalSituationalFactor.name,". This can not be undone. This action will not delete the situational factor from method building blocks that are using it. ")}}function LSe(t,n){1&t&&k(0,BSe,4,2,"app-delete-modal",11),2&t&&v("ngIf",null!=T().modalSituationalFactor)}const jSe=function(){return[]};let GSe=(()=>{class t{constructor(e,i){this.situationalFactorService=e,this.modalService=i,this.listNames=[]}ngOnInit(){this.loadSituationalFactors()}loadSituationalFactors(){var e=this;return Y(function*(){e.elementLists=yield e.situationalFactorService.getLists(),e.listNames=e.elementLists.map(i=>i.listName)})()}openDeleteSituationalFactorModal(e){this.modalSituationalFactor=e,this.modalReference=this.modalService.open(this.deleteSituationalFactorModal,{size:"lg"})}deleteSituationalFactor(e){var i=this;return Y(function*(){yield i.situationalFactorService.delete(e),yield i.loadSituationalFactors()})()}addSituationalFactor(e){var i=this;return Y(function*(){yield i.situationalFactorService.add(e.value),yield i.loadSituationalFactors()})()}}return t.\u0275fac=function(e){return new(e||t)(H(Hc),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-situational-factors"]],viewQuery:function(e,i){if(1&e&&Ft(OSe,7),2&e){let o;bt(o=yt())&&(i.deleteSituationalFactorModal=o.first)}},decls:15,vars:4,consts:[["deleteSituationalFactorModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Situational Factors",3,"elementLists","deleteElement"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"listNames","submitMethodElementForm"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""]],template:function(e,i){1&e&&(k(0,LSe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Situational Factors"),u()()(),c(6,"main",4)(7,"div",5),g(8," Create situational Factors to use them for the definition of the context and in Method Building Blocks "),u(),c(9,"app-method-element-list",6),z("deleteElement",function(r){return i.openDeleteSituationalFactorModal(r)}),u(),c(10,"div",7)(11,"h6",8),g(12,"Add Situational Factor"),u(),c(13,"div",9)(14,"app-method-element-form",10),z("submitMethodElementForm",function(r){return i.addSituationalFactor(r)}),u()()()()),2&e&&(p(4),v("routerLink",Bt(3,jSe)),p(5),v("elementLists",i.elementLists),p(5),v("listNames",i.listNames))},directives:[nt,cr,gn,V_,Xc],styles:[""]}),t})(),rc=(()=>{class t extends Es{constructor(e,i){super(i),this.methodElementService=e,this.listNames=[]}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.methodElementService.getChangesFeed(i).subscribe(()=>this.loadMethodElement(i)),this.loadMethodElement(i)):(this.methodElement=void 0,this.listNames=[])}loadMethodElement(e){var i=this;return Y(function*(){i.methodElement=yield i.methodElementService.get(e),i.listNames=(yield i.methodElementService.getLists()).map(o=>o.listName),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(ul),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function VSe(t,n){1&t&&(c(0,"span"),g(1," from low to high"),u())}function HSe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let USe=(()=>{class t{constructor(e){this.fb=e,this.submitSituationalFactorForm=new je,this.form=this.fb.group({list:["",ft.required],values:this.fb.array([])}),this.changed=!1,this.openListInput=new Oe,this.searchLists=i=>Pn(Ka(i),this.openListInput).pipe(Ze(o=>this.listNames.filter(r=>r.toLowerCase().includes(o.toLowerCase())).slice(0,10)))}ngOnInit(){this.changeSubscription=this.form.valueChanges.pipe($i(300),un(e=>this.changed=!this.equals(this.situationalFactor,e))).subscribe()}ngOnChanges(e){if(e.situationalFactor){const o=e.situationalFactor.currentValue;this.equals(o,e.situationalFactor.previousValue)||this.loadForm(o)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe(),this.openListInput.complete()}equals(e,i){return null==e&&null==i||null!=e&&null!=i&&e.list===i.list&&mv(e.values,i.values)}loadForm(e){this.form.patchValue(e),this.valuesFormArray.clear(),e.values.forEach((i,o)=>this.valuesFormArray.setControl(o,this.fb.control(i,ft.required)))}submitForm(){this.submitSituationalFactorForm.emit(this.form)}get valuesFormArray(){return this.form.get("values")}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-situational-factor-form"]],inputs:{situationalFactor:"situationalFactor",listNames:"listNames"},outputs:{submitSituationalFactorForm:"submitSituationalFactorForm"},features:[Xt],decls:17,vars:11,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","listName",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["formControlName","list","type","text","id","listName",1,"form-control",3,"ngbTypeahead","click","focus"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[4,"ngIf"],["formArrayName","values",1,"form-group"],["elementName","Value",3,"formArray","ordered"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"List Name"),u(),c(4,"div",3)(5,"input",4),z("click",function(r){return i.openListInput.next(r.target.value)})("focus",function(r){return i.openListInput.next(r.target.value)}),u()()(),c(6,"div",5)(7,"h6",6),g(8," Values"),k(9,VSe,2,0,"span",7),u(),c(10,"div",8),re(11,"app-form-array-list",9),u()(),c(12,"div",1)(13,"div",10)(14,"button",11),g(15," Update"),k(16,HSe,2,0,"span",7),u()()()()),2&e&&(v("formGroup",i.form),p(5),v("ngbTypeahead",i.searchLists),p(4),v("ngIf",i.situationalFactor.ordered),p(2),v("formArray",i.valuesFormArray)("ordered",i.situationalFactor.ordered),p(3),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.form.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,wn,$u,Jt,Zt,nt,vo,z0],styles:[""]}),t})();const zSe=function(){return[]};function qSe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,zSe)),p(1),_t(e.situationalFactor.name)}}function $Se(t,n){if(1&t){const e=ye();c(0,"main",6)(1,"div",7),g(2," Create a situational factor and define its values. Additionally, it is possible to specify whether the values are ordered. If the values are ordered, a lower value will include the higher values. "),u(),c(3,"div",8)(4,"h6",9),g(5,"Situational Factor"),u(),c(6,"div",10)(7,"app-situational-factor-form",11),z("submitSituationalFactorForm",function(o){return W(e),T().updateSituationalFactor(o)}),u()()(),c(8,"div",8)(9,"h6",12),g(10," Situational Factor Values Ordered "),u(),c(11,"div",13)(12,"form",14)(13,"div",15)(14,"label",16),re(15,"input",17),g(16," unordered "),u(),c(17,"label",16),re(18,"input",17),g(19," ordered "),u()()()()(),c(20,"div",8)(21,"h6",12),g(22," Situational Factor Description "),u(),c(23,"div",13)(24,"app-description-form",18),z("submitDescriptionForm",function(o){return W(e),T().updateSituationalFactor(o)}),u()()()()}if(2&t){const e=T();p(7),v("situationalFactor",e.situationalFactor)("listNames",e.listNames),p(5),v("formGroup",e.orderedForm),p(3),v("value",!1),p(3),v("value",!0),p(6),v("description",e.situationalFactor.description)}}const WSe=function(){return["/","situationalFactors"]};let YSe=(()=>{class t{constructor(e,i,o){this.fb=e,this.situationalFactorLoaderService=i,this.situationalFactorService=o,this.orderedForm=this.fb.group({ordered:[!1,ft.required]})}ngOnInit(){this.situationalFactorLoaderService.loaded.subscribe(()=>{this.orderedForm.patchValue(this.situationalFactor,{emitEvent:!1})}),this.orderedSubscription=this.orderedForm.valueChanges.subscribe(e=>this.updateSituationalFactorValue(e))}ngOnDestroy(){null!=this.orderedSubscription&&this.orderedSubscription.unsubscribe()}updateSituationalFactor(e){var i=this;return Y(function*(){yield i.updateSituationalFactorValue(e.value)})()}updateSituationalFactorValue(e){var i=this;return Y(function*(){null!=i.situationalFactor&&(yield i.situationalFactorService.update(i.situationalFactor._id,e))})()}get situationalFactor(){return this.situationalFactorLoaderService.methodElement}get listNames(){return this.situationalFactorLoaderService.listNames}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(rc),H(Hc))},t.\u0275cmp=He({type:t,selectors:[["app-situational-factor"]],features:[Tt([rc,{provide:ul,useExisting:Hc}])],decls:6,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],[1,"container"],["role","alert",1,"alert","alert-info","mt-3"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"text-muted"],[3,"situationalFactor","listNames","submitSituationalFactorForm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup"],["ngbRadioGroup","","name","ordered","formControlName","ordered",1,"btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn-primary"],["ngbButton","","type","radio",3,"value"],[3,"description","submitDescriptionForm"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3,"Situational Factors"),u(),k(4,qSe,2,3,"a",3),u()(),k(5,$Se,25,6,"main",4)),2&e&&(p(2),v("routerLink",Bt(3,WSe)),p(2),v("ngIf",i.situationalFactor),p(1),v("ngIf",i.situationalFactor))},directives:[gn,nt,USe,nn,Wt,Vt,ec,Jt,Zt,Ra,qc,j_],styles:[""]}),t})();const XSe=["deleteArtifactModal"];function KSe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",12),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.delete(r.modalArtifact._id),o()}),c(1,"div",13),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be("Delete Artifact ",e.modalArtifact.name,""),p(1),Be(" You are deleting the artifact ",e.modalArtifact.name,". This can not be undone. This action will not delete the artifact from method building blocks that are using it. ")}}function QSe(t,n){1&t&&k(0,KSe,4,2,"app-delete-modal",11),2&t&&v("ngIf",null!=T().modalArtifact)}const JSe=function(){return[]};let ZSe=(()=>{class t{constructor(e,i){this.artifactService=e,this.modalService=i,this.listNames=[]}ngOnInit(){this.load()}load(){var e=this;return Y(function*(){e.elementLists=yield e.artifactService.getLists(),e.listNames=e.elementLists.map(i=>i.listName)})()}openDeleteArtifactModal(e){this.modalArtifact=e,this.modalReference=this.modalService.open(this.deleteArtifactModal,{size:"lg"})}delete(e){var i=this;return Y(function*(){yield i.artifactService.delete(e),yield i.load()})()}add(e){var i=this;return Y(function*(){yield i.artifactService.add(e.value),yield i.load()})()}}return t.\u0275fac=function(e){return new(e||t)(H(oc),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-artifacts"]],viewQuery:function(e,i){if(1&e&&Ft(XSe,7),2&e){let o;bt(o=yt())&&(i.deleteArtifactModal=o.first)}},decls:15,vars:4,consts:[["deleteArtifactModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Artifacts",3,"elementLists","deleteElement"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"listNames","submitMethodElementForm"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""]],template:function(e,i){1&e&&(k(0,QSe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Artifacts"),u()()(),c(6,"main",4)(7,"div",5),g(8," Create Artifacts to use them for the definition of Method Fragments "),u(),c(9,"app-method-element-list",6),z("deleteElement",function(r){return i.openDeleteArtifactModal(r)}),u(),c(10,"div",7)(11,"h6",8),g(12,"Add Artifact"),u(),c(13,"div",9)(14,"app-method-element-form",10),z("submitMethodElementForm",function(r){return i.add(r)}),u()()()()),2&e&&(p(4),v("routerLink",Bt(3,JSe)),p(5),v("elementLists",i.elementLists),p(5),v("listNames",i.listNames))},directives:[nt,cr,gn,V_,Xc],styles:[""]}),t})();function eEe(t,n){if(1&t){const e=ye();c(0,"div",7)(1,"label",11),g(2,"Meta Model"),u(),c(3,"div",12)(4,"input",13),z("click",function(o){return W(e),T().openMetaModelInput.next(o.target.value)})("focus",function(o){return W(e),T().openMetaModelInput.next(o.target.value)}),u()()()}if(2&t){const e=T();p(4),Ht("is-invalid",e.metaModelControl.invalid),v("ngbTypeahead",e.searchMetaModel)("editable",!1)("resultFormatter",e.formatter)("inputFormatter",e.formatter)}}function tEe(t,n){}function nEe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let iEe=(()=>{class t{constructor(e,i){this.fb=e,this.metaModelService=i,this.submitArtifactForm=new je,this.definitionForm=this.fb.group({internalArtifact:this.fb.control(!1,ft.required),metaModel:this.fb.control(null)},{validators:o=>{var r,s;return(null===(r=o.get("internalArtifact"))||void 0===r?void 0:r.value)&&!(null===(s=o.get("metaModel"))||void 0===s?void 0:s.value)?{requiredMetaModel:!0}:null}}),this.changed=!1,this.openMetaModelInput=new Oe,this.searchMetaModel=o=>Pn(Ka(o),this.openMetaModelInput).pipe(Ze(r=>this.metaModels.filter(s=>s.name.toLowerCase().includes(r.toLowerCase())).slice(0,7)))}ngOnInit(){null!=this.metaModel&&this.initConfiguration(this.metaModelService.getMetaModelDefinition(this.metaModel.type),this.artifact.metaModelData),this.changeSubscription=this.definitionForm.valueChanges.pipe($i(300),un(e=>this.changed=!this.equals(this.artifact,e))).subscribe(),this.changeMetaModelSubscription=this.metaModelControl.valueChanges.pipe(un(()=>this.updateMetaModelData())).subscribe(),this.internalArtifactSubscription=this.internalArtifactControl.valueChanges.pipe(Li(e=>!e),un(()=>this.metaModelControl.setValue(null))).subscribe()}ngOnChanges(e){if(e.artifact){const o=e.artifact.currentValue;this.equals(o,e.artifact.previousValue)||this.definitionForm.patchValue(o)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe(),null!=this.changeMetaModelSubscription&&this.changeMetaModelSubscription.unsubscribe(),null!=this.internalArtifactSubscription&&this.internalArtifactSubscription.unsubscribe(),this.openMetaModelInput.complete()}updateMetaModelData(){null==this.metaModel?this.clearConfiguration():this.initConfiguration(this.metaModelService.getMetaModelDefinition(this.metaModel.type))}initConfiguration(e,i){if(null!=e){const o=e.api;if(null!=o.getMetaModelDataComponent&&null!=o.createMetaModelDataForm&&null!=o.equalMetaModelData){const r=o.createMetaModelDataForm(i);this.definitionForm.setControl("metaModelData",r);const s=this.configurationFormHost.viewContainerRef;s.clear(),s.createComponent(o.getMetaModelDataComponent()).instance.formGroup=r}}}clearConfiguration(){this.configurationFormHost.viewContainerRef.clear(),this.definitionForm.removeControl("metaModelData")}formatter(e){return e.name}equals(e,i){if(null==e&&null==i)return!0;if(null==e||null==i||e.internalArtifact!==i.internalArtifact||!this.equalsMetaModel(e.metaModel,i.metaModel))return!1;if(null!=e.metaModel){const o=this.metaModelService.getMetaModelApi(e.metaModel.type);if(null!=o.equalMetaModelData)return o.equalMetaModelData(e.metaModelData,i.metaModelData)}return!0}equalsMetaModel(e,i){return null==e&&null==i||null!=e&&null!=i&&e.name===i.name&&e.type===i.type}submitForm(){this.submitArtifactForm.emit(this.definitionForm)}get metaModels(){return this.metaModelService.metaModels}get internalArtifactControl(){return this.definitionForm.get("internalArtifact")}get metaModel(){return this.metaModelControl.value}get metaModelControl(){return this.definitionForm.get("metaModel")}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(Zl))},t.\u0275cmp=He({type:t,selectors:[["app-artifact-definition-form"]],viewQuery:function(e,i){if(1&e&&Ft(wf,7),2&e){let o;bt(o=yt())&&(i.configurationFormHost=o.first)}},inputs:{artifact:"artifact"},outputs:{submitArtifactForm:"submitArtifactForm"},features:[Xt],decls:16,vars:10,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],["ngbRadioGroup","","name","internalArtifact","formControlName","internalArtifact",1,"btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn-primary"],["ngbButton","","type","radio",3,"value"],["class","form-group row",4,"ngIf"],["appConfigurationFormPlaceholder",""],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"],["for","metaModel",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","metaModel","id","metaModel",1,"form-control",3,"ngbTypeahead","editable","resultFormatter","inputFormatter","click","focus"]],template:function(e,i){if(1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"div",2)(3,"label",3),re(4,"input",4),g(5," Internal Artifact "),u(),c(6,"label",3),re(7,"input",4),g(8," External Artifact "),u()()(),k(9,eEe,5,6,"div",5),k(10,tEe,0,0,"ng-template",6),c(11,"div",7)(12,"div",8)(13,"button",9),g(14," Update"),k(15,nEe,2,0,"span",10),u()()()()),2&e){let o;v("formGroup",i.definitionForm),p(4),v("value",!0),p(3),v("value",!1),p(2),v("ngIf",null==(o=i.definitionForm.get("internalArtifact"))?null:o.value),p(4),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.definitionForm.valid),p(2),v("ngIf",i.changed)}},directives:[nn,Wt,Vt,ec,Jt,Zt,Ra,qc,nt,wn,$u,wf],styles:[""]}),t})();const oEe=function(){return[]};function rEe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,oEe)),p(1),_t(e.artifact.name)}}function sEe(t,n){if(1&t){const e=ye();c(0,"main",6)(1,"div",7),g(2," Update an Artifact and define its values. "),u(),c(3,"div",8)(4,"h6",9),g(5,"Artifact"),u(),c(6,"div",10)(7,"app-method-element-form",11),z("submitMethodElementForm",function(o){return W(e),T().updateValue(o.value)}),u()()(),c(8,"div",8)(9,"h6",9),g(10,"Definition"),u(),c(11,"div",10)(12,"app-artifact-definition-form",12),z("submitArtifactForm",function(o){return W(e),T().updateValue(o.value)}),u()()()()}if(2&t){const e=T();p(7),v("methodElement",e.artifact)("listNames",e.listNames),p(5),v("artifact",e.artifact)}}const aEe=function(){return["/","artifacts"]};let lEe=(()=>{class t{constructor(e,i){this.artifactLoaderService=e,this.artifactService=i}updateValue(e){var i=this;return Y(function*(){null!=i.artifact&&(yield i.artifactService.update(i.artifact._id,e))})()}get artifact(){return this.artifactLoaderService.methodElement}get listNames(){return this.artifactLoaderService.listNames}}return t.\u0275fac=function(e){return new(e||t)(H(rc),H(oc))},t.\u0275cmp=He({type:t,selectors:[["app-artifact"]],features:[Tt([rc,{provide:ul,useExisting:oc}])],decls:6,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],[1,"container"],["role","alert",1,"alert","alert-info","mt-3"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"text-muted"],[3,"methodElement","listNames","submitMethodElementForm"],[3,"artifact","submitArtifactForm"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3,"Artifacts"),u(),k(4,rEe,2,3,"a",3),u()(),k(5,sEe,13,3,"main",4)),2&e&&(p(2),v("routerLink",Bt(3,aEe)),p(2),v("ngIf",i.artifact),p(1),v("ngIf",i.artifact))},directives:[gn,nt,Xc,iEe],styles:[""]}),t})();const cEe=["deleteStakeholderModal"];function uEe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",12),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.delete(r.modalStakeholder._id),o()}),c(1,"div",13),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be("Delete Stakeholder ",e.modalStakeholder.name,""),p(1),Be(" You are deleting the stakeholder ",e.modalStakeholder.name,". This can not be undone. This action will not delete the stakeholder from method building blocks that are using it. ")}}function dEe(t,n){1&t&&k(0,uEe,4,2,"app-delete-modal",11),2&t&&v("ngIf",null!=T().modalStakeholder)}const pEe=function(){return[]};let mEe=(()=>{class t{constructor(e,i){this.modalService=e,this.stakeholderService=i,this.listNames=[]}ngOnInit(){this.load()}load(){this.stakeholderService.getLists().then(e=>{this.elementLists=e,this.listNames=this.elementLists.map(i=>i.listName)}).catch(e=>console.log("Load: "+e))}openDeleteStakeholderModal(e){this.modalStakeholder=e,this.modalReference=this.modalService.open(this.deleteStakeholderModal,{size:"lg"})}delete(e){this.stakeholderService.delete(e).then(()=>this.load()).catch(i=>console.log("Delete: "+i))}add(e){this.stakeholderService.add(e.value).then(()=>this.load()).catch(i=>console.log("Add: "+i))}}return t.\u0275fac=function(e){return new(e||t)(H(jn),H(N_))},t.\u0275cmp=He({type:t,selectors:[["app-stakeholders"]],viewQuery:function(e,i){if(1&e&&Ft(cEe,7),2&e){let o;bt(o=yt())&&(i.deleteStakeholderModal=o.first)}},decls:15,vars:4,consts:[["deleteStakeholderModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Stakeholders",3,"elementLists","deleteElement"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"listNames","submitMethodElementForm"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""]],template:function(e,i){1&e&&(k(0,dEe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Stakeholders"),u()()(),c(6,"main",4)(7,"div",5),g(8," Create Stakeholders to use them for the definition of Method Fragments "),u(),c(9,"app-method-element-list",6),z("deleteElement",function(r){return i.openDeleteStakeholderModal(r)}),u(),c(10,"div",7)(11,"h6",8),g(12,"Add Stakeholder"),u(),c(13,"div",9)(14,"app-method-element-form",10),z("submitMethodElementForm",function(r){return i.add(r)}),u()()()()),2&e&&(p(4),v("routerLink",Bt(3,pEe)),p(5),v("elementLists",i.elementLists),p(5),v("listNames",i.listNames))},directives:[nt,cr,gn,V_,Xc],styles:[""]}),t})();const fEe=function(){return[]};function hEe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,fEe)),p(1),_t(e.stakeholder.name)}}function gEe(t,n){if(1&t){const e=ye();c(0,"main",6)(1,"div",7),g(2," Update a Stakeholder and define its values. "),u(),c(3,"div",8)(4,"h6",9),g(5,"Stakeholder"),u(),c(6,"div",10)(7,"app-method-element-form",11),z("submitMethodElementForm",function(o){return W(e),T().updateValue(o.value)}),u()()()()}if(2&t){const e=T();p(7),v("methodElement",e.stakeholder)("listNames",e.listNames)}}const _Ee=function(){return["/","stakeholders"]};let vEe=(()=>{class t{constructor(e,i){this.stakeholderLoaderService=e,this.stakeholderService=i}updateValue(e){var i=this;return Y(function*(){null!=i.stakeholder&&(yield i.stakeholderService.update(i.stakeholder._id,e))})()}get stakeholder(){return this.stakeholderLoaderService.methodElement}get listNames(){return this.stakeholderLoaderService.listNames}}return t.\u0275fac=function(e){return new(e||t)(H(rc),H(N_))},t.\u0275cmp=He({type:t,selectors:[["app-stakeholder"]],features:[Tt([rc,{provide:ul,useExisting:N_}])],decls:6,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],[1,"container"],["role","alert",1,"alert","alert-info","mt-3"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"text-muted"],[3,"methodElement","listNames","submitMethodElementForm"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3,"Stakeholders"),u(),k(4,hEe,2,3,"a",3),u()(),k(5,gEe,8,2,"main",4)),2&e&&(p(2),v("routerLink",Bt(3,_Ee)),p(2),v("ngIf",i.stakeholder),p(1),v("ngIf",i.stakeholder))},directives:[gn,nt,Xc],styles:[""]}),t})();const bEe=["deleteToolModal"];function yEe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",15),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.delete(r.modalTool._id),o()}),c(1,"div",16),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be("Delete Tool ",e.modalTool.name,""),p(1),Be(" You are deleting the tool ",e.modalTool.name,". This can not be undone. This action will not delete the tool from method building blocks that are using it. ")}}function wEe(t,n){1&t&&k(0,yEe,4,2,"app-delete-modal",14),2&t&&v("ngIf",null!=T().modalTool)}function xEe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),_t(e)}}function CEe(t,n){if(1&t&&(c(0,"li",21)(1,"h6"),g(2),u(),g(3," Methods: "),c(4,"ul"),k(5,xEe,2,1,"li",22),u()()),2&t){const e=n.$implicit;p(2),_t(e.name),p(3),v("ngForOf",e.methodNames)}}function MEe(t,n){if(1&t&&(c(0,"div",17)(1,"h6",18),g(2),u(),c(3,"ul",19),k(4,CEe,6,2,"li",20),u()()),2&t){const e=n.$implicit;p(2),_t(e.listName),p(2),v("ngForOf",e.elements)}}const SEe=function(){return[]};let EEe=(()=>{class t{constructor(e,i,o){this.modalService=e,this.moduleService=i,this.toolService=o,this.listNames=[]}ngOnInit(){this.load(),this.moduleLists=this.moduleService.getLists()}load(){this.toolService.getLists().then(e=>{this.elementLists=e,this.listNames=this.elementLists.map(i=>i.listName)}).catch(e=>console.log("Load: "+e))}openDeleteToolModal(e){this.modalTool=e,this.modalReference=this.modalService.open(this.deleteToolModal,{size:"lg"})}delete(e){this.toolService.delete(e).then(()=>this.load()).catch(i=>console.log("Delete: "+i))}add(e){this.toolService.add(e.value).then(()=>this.load()).catch(i=>console.log("Add: "+i))}}return t.\u0275fac=function(e){return new(e||t)(H(jn),H(zr),H(R_))},t.\u0275cmp=He({type:t,selectors:[["app-tools"]],viewQuery:function(e,i){if(1&e&&Ft(bEe,7),2&e){let o;bt(o=yt())&&(i.deleteToolModal=o.first)}},decls:19,vars:7,consts:[["deleteToolModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Tools",3,"elementLists","deleteElement"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"listNames","submitMethodElementForm"],["listTitle","Loaded Modules",3,"loading","noResults"],["noResults",""],["results","","class","my-3 p-3 bg-white rounded shadow-sm",4,"ngFor","ngForOf"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],["results","",1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(k(0,wEe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Tools"),u()()(),c(6,"main",4)(7,"div",5),g(8," Create Tools to use them for the definition of Method Fragments "),u(),c(9,"app-method-element-list",6),z("deleteElement",function(r){return i.openDeleteToolModal(r)}),u(),c(10,"div",7)(11,"h6",8),g(12,"Add Tool"),u(),c(13,"div",9)(14,"app-method-element-form",10),z("submitMethodElementForm",function(r){return i.add(r)}),u()()(),c(15,"app-list-wrapper",11)(16,"div",12),g(17,"No modules loaded."),u(),k(18,MEe,5,2,"div",13),u()()),2&e&&(p(4),v("routerLink",Bt(6,SEe)),p(5),v("elementLists",i.elementLists),p(5),v("listNames",i.listNames),p(1),v("loading",null==i.moduleLists)("noResults",null!=i.moduleLists&&0===i.moduleLists.length),p(3),v("ngForOf",i.moduleLists))},directives:[nt,cr,gn,V_,Xc,Ss,Lt],styles:[""]}),t})();const TEe=function(){return[]};function PEe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,TEe)),p(1),_t(e.tool.name)}}function DEe(t,n){if(1&t){const e=ye();c(0,"main",6)(1,"div",7),g(2," Update a Tool and define its values. "),u(),c(3,"div",8)(4,"h6",9),g(5,"Tool"),u(),c(6,"div",10)(7,"app-method-element-form",11),z("submitMethodElementForm",function(o){return W(e),T().updateValue(o.value)}),u()()()()}if(2&t){const e=T();p(7),v("methodElement",e.tool)("listNames",e.listNames)}}const FEe=function(){return["/","tools"]};let AEe=(()=>{class t{constructor(e,i){this.toolLoaderService=e,this.toolService=i}updateValue(e){var i=this;return Y(function*(){null!=i.tool&&(yield i.toolService.update(i.tool._id,e))})()}get tool(){return this.toolLoaderService.methodElement}get listNames(){return this.toolLoaderService.listNames}}return t.\u0275fac=function(e){return new(e||t)(H(rc),H(R_))},t.\u0275cmp=He({type:t,selectors:[["app-tool"]],features:[Tt([rc,{provide:ul,useExisting:R_}])],decls:6,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],[1,"container"],["role","alert",1,"alert","alert-info","mt-3"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"text-muted"],[3,"methodElement","listNames","submitMethodElementForm"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3,"Tools"),u(),k(4,PEe,2,3,"a",3),u()(),k(5,DEe,8,2,"main",4)),2&e&&(p(2),v("routerLink",Bt(3,FEe)),p(2),v("ngIf",i.tool),p(1),v("ngIf",i.tool))},directives:[gn,nt,Xc],styles:[""]}),t})();const IEe=["deleteTypeModal"];function kEe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",12),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.delete(r.modalType._id),o()}),c(1,"div",13),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be("Delete Type ",e.modalType.name,""),p(1),Be(" You are deleting the type ",e.modalType.name,". This can not be undone. This action will not delete the type from method building blocks that are using it. ")}}function NEe(t,n){1&t&&k(0,kEe,4,2,"app-delete-modal",11),2&t&&v("ngIf",null!=T().modalType)}const REe=function(){return[]};let OEe=(()=>{class t{constructor(e,i){this.modalService=e,this.typeService=i,this.listNames=[]}ngOnInit(){this.load()}load(){var e=this;return Y(function*(){e.elementLists=yield e.typeService.getLists(),e.listNames=e.elementLists.map(i=>i.listName)})()}openDeleteTypeModal(e){this.modalType=e,this.modalReference=this.modalService.open(this.deleteTypeModal,{size:"lg"})}delete(e){var i=this;return Y(function*(){yield i.typeService.delete(e),yield i.load()})()}add(e){var i=this;return Y(function*(){yield i.typeService.add(e.value),yield i.load()})()}}return t.\u0275fac=function(e){return new(e||t)(H(jn),H(bf))},t.\u0275cmp=He({type:t,selectors:[["app-types"]],viewQuery:function(e,i){if(1&e&&Ft(IEe,7),2&e){let o;bt(o=yt())&&(i.deleteTypeModal=o.first)}},decls:15,vars:4,consts:[["deleteTypeModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Types",3,"elementLists","deleteElement"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"listNames","submitMethodElementForm"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""]],template:function(e,i){1&e&&(k(0,NEe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Types"),u()()(),c(6,"main",4)(7,"div",5),g(8," Create Types to use them for the definition of Method Fragments "),u(),c(9,"app-method-element-list",6),z("deleteElement",function(r){return i.openDeleteTypeModal(r)}),u(),c(10,"div",7)(11,"h6",8),g(12,"Add Type"),u(),c(13,"div",9)(14,"app-method-element-form",10),z("submitMethodElementForm",function(r){return i.add(r)}),u()()()()),2&e&&(p(4),v("routerLink",Bt(3,REe)),p(5),v("elementLists",i.elementLists),p(5),v("listNames",i.listNames))},directives:[nt,cr,gn,V_,Xc],styles:[""]}),t})();const BEe=function(){return[]};function LEe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,BEe)),p(1),_t(e.type.name)}}function jEe(t,n){if(1&t){const e=ye();c(0,"main",6)(1,"div",7),g(2," Update a Type and define its values. "),u(),c(3,"div",8)(4,"h6",9),g(5,"Type"),u(),c(6,"div",10)(7,"app-method-element-form",11),z("submitMethodElementForm",function(o){return W(e),T().updateValue(o.value)}),u()()()()}if(2&t){const e=T();p(7),v("methodElement",e.type)("listNames",e.listNames)}}const GEe=function(){return["/","types"]};let VEe=(()=>{class t{constructor(e,i){this.typeLoaderService=e,this.typeService=i}updateValue(e){var i=this;return Y(function*(){null!=i.type&&(yield i.typeService.update(i.type._id,e))})()}get type(){return this.typeLoaderService.methodElement}get listNames(){return this.typeLoaderService.listNames}}return t.\u0275fac=function(e){return new(e||t)(H(rc),H(bf))},t.\u0275cmp=He({type:t,selectors:[["app-type"]],features:[Tt([rc,{provide:ul,useExisting:bf}])],decls:6,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],[1,"container"],["role","alert",1,"alert","alert-info","mt-3"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"text-muted"],[3,"methodElement","listNames","submitMethodElementForm"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3,"Types"),u(),k(4,LEe,2,3,"a",3),u()(),k(5,jEe,8,2,"main",4)),2&e&&(p(2),v("routerLink",Bt(3,GEe)),p(2),v("ngIf",i.type),p(1),v("ngIf",i.type))},directives:[gn,nt,Xc],styles:[""]}),t})();const HEe=["deleteProcessModal"],UEe=["errorProcessModal"];function zEe(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T(3);p(1),Be(", which executes the method ",e.modalRunningProcess.process.name,"")}}function qEe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",29),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteRunningProcess(r.modalRunningProcess._id),o()}),c(1,"div",30),g(2),ci(3,"runningProcessName"),u(),g(4),k(5,zEe,2,1,"span",31),g(6,". By deleting this running method all corresponding models are deleted too. This can not be undone. "),u()}if(2&t){const e=T(2);p(2),Be(" Delete Running Method ",Io(3,3,e.modalRunningProcess)," "),p(2),Be(" You are deleting the running method ",e.modalRunningProcess.name,""),p(1),v("ngIf",null!=e.modalRunningProcess.process)}}function $Ee(t,n){1&t&&k(0,qEe,7,5,"app-delete-modal",28),2&t&&v("ngIf",null!=T().modalRunningProcess)}function WEe(t,n){if(1&t){const e=ye();c(0,"div",34)(1,"h4",35),g(2),u(),c(3,"button",36),z("click",function(){return W(e),T().dismiss()}),c(4,"span",37),g(5,"\xd7"),u(),c(6,"span",38),g(7,"Close Window"),u()()()}if(2&t){const e=T(2);p(2),Be(" Error instantiating Method ",e.modalBmProcess.name," ")}}const YEe=function(t){return["/","bmprocess","bmprocessview",t]};function XEe(t,n){if(1&t){const e=ye();c(0,"div",39)(1,"div",40),g(2," This Business Model Development Method cannot be instantiated, because it is not completely defined. The method engineer first has to define it completely. More information is available in the error panel on the "),c(3,"a",41),z("click",function(){return W(e),T().dismiss()}),g(4,"Business Model Development Method composition page"),u(),g(5,". "),u()()}if(2&t){const e=T(2);p(3),v("routerLink",Fn(1,YEe,e.modalBmProcess._id))}}function KEe(t,n){if(1&t&&(k(0,WEe,8,1,"div",32),k(1,XEe,6,3,"div",33)),2&t){const e=T();v("ngIf",null!=e.modalBmProcess),p(1),v("ngIf",null!=e.modalBmProcess)}}const uG=function(t){return["runningprocessview",t]};function QEe(t,n){if(1&t&&(c(0,"a",42),g(1),ci(2,"runningProcessName"),u()),2&t){const e=n.$implicit;v("routerLink",Fn(4,uG,e._id)),p(1),Be(" ",Io(2,2,e)," ")}}function JEe(t,n){if(1&t){const e=ye();c(0,"li",43)(1,"div")(2,"span"),g(3),ci(4,"runningProcessName"),u()(),c(5,"div")(6,"a",44),g(7,"View"),u(),c(8,"button",45),z("click",function(){const r=W(e).$implicit;return T().openDeleteProcessModal(r)}),g(9," Delete "),u()()()}if(2&t){const e=n.$implicit;p(3),_t(Io(4,2,e)),p(3),v("routerLink",Fn(4,uG,e._id))}}function ZEe(t,n){if(1&t&&(c(0,"option",21),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e),p(1),Be(" ",e.name," ")}}const e3e=function(){return[]};let t3e=(()=>{class t{constructor(e,i,o,r){this.bmProcessService=e,this.fb=i,this.listService=o,this.modalService=r,this.addRunningProcessForm=this.fb.group({name:["",ft.required],process:[null]}),this.processes=[]}ngOnInit(){this.loadProcesses()}addRunningProcess(){var e=this;return Y(function*(){let i;if(null==e.processControl.value)i=void 0;else if(i=new pm(e.processControl.value,void 0),!e.bmProcessService.isComplete(i))return e.modalBmProcess=i,void(e.modalReference=e.modalService.open(e.errorProcessModal,{size:"lg"}));yield e.listService.add({process:i,name:e.nameControl.value}),e.addRunningProcessForm.reset()})()}loadProcesses(){var e=this;return Y(function*(){e.processes=yield e.bmProcessService.getList()})()}openDeleteProcessModal(e){var i=this;return Y(function*(){i.modalRunningProcess=e,i.modalReference=i.modalService.open(i.deleteProcessModal,{size:"lg"})})()}deleteRunningProcess(e){var i=this;return Y(function*(){yield i.listService.delete(e)})()}get processControl(){return this.addRunningProcessForm.get("process")}get nameControl(){return this.addRunningProcessForm.get("name")}get runningProcessesList(){return this.listService.elements}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(Na),H(zt),H(Go),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-running-processes"]],viewQuery:function(e,i){if(1&e&&(Ft(HEe,7),Ft(UEe,7)),2&e){let o;bt(o=yt())&&(i.deleteProcessModal=o.first),bt(o=yt())&&(i.errorProcessModal=o.first)}},features:[Tt([Go,{provide:Vs,useExisting:to}])],decls:43,vars:15,consts:[["deleteProcessModal",""],["errorProcessModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngFor","ngForOf"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["routerLink","/bmprocess"],["listTitle","Running Methods",3,"reloading","loading","noResults"],["noResults",""],["results","",1,"list-group"],["class","\n          d-flex\n          list-group-item\n          justify-content-between\n          align-items-baseline\n        ",4,"ngFor","ngForOf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","processSelector",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","processSelector","formControlName","process",1,"form-control"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","name",1,"col-sm-4","col-form-label"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],[4,"ngIf"],["class","modal-header",4,"ngIf"],["class","modal-body",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"sr-only"],[1,"modal-body"],[1,"alert","alert-danger"],[3,"routerLink","click"],[1,"nav-link",3,"routerLink"],[1,"d-flex","list-group-item","justify-content-between","align-items-baseline"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"routerLink"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"]],template:function(e,i){1&e&&(k(0,$Ee,1,1,"ng-template",null,0,$t),k(2,KEe,2,2,"ng-template",null,1,$t),c(4,"div",2)(5,"nav",3)(6,"a",4),g(7,"Running Methods"),u(),k(8,QEe,3,6,"a",5),u()(),c(9,"main",6)(10,"div",7),g(11," A list of all methods that are currently executed. To create such a method create a "),c(12,"a",8),g(13,"Business Model Development Method"),u(),g(14," and add the method to the running methods in the form below. "),u(),c(15,"app-list-wrapper",9)(16,"div",10),g(17,"No running methods available."),u(),c(18,"ul",11),k(19,JEe,10,6,"li",12),u()(),c(20,"div",13)(21,"h6",14),g(22,"Add Running Method"),u(),c(23,"div",15)(24,"form",16),z("ngSubmit",function(){return i.addRunningProcess()}),c(25,"div",17)(26,"label",18),g(27,"Method"),u(),c(28,"div",19)(29,"select",20)(30,"option",21),g(31," No Method \u2013 Lightweight Execution "),u(),k(32,ZEe,2,2,"option",22),u()()(),c(33,"div",17)(34,"label",23),g(35,"Name"),u(),c(36,"div",19),re(37,"input",24),u()(),c(38,"div",25)(39,"div",26)(40,"button",27),g(41," Add "),u()()()()()(),re(42,"app-running-processes-context-list"),u()),2&e&&(p(6),v("routerLink",Bt(14,e3e)),p(2),v("ngForOf",i.runningProcessesList),p(7),v("reloading",i.reloading)("loading",i.loading)("noResults",i.noResults),p(4),v("ngForOf",i.runningProcessesList),p(5),v("formGroup",i.addRunningProcessForm),p(5),Ht("is-invalid",i.processControl.invalid&&i.processControl.touched),p(1),v("ngValue",null),p(2),v("ngForOf",i.processes),p(5),Ht("is-invalid",i.nameControl.invalid&&i.nameControl.touched),p(3),v("disabled",!i.addRunningProcessForm.valid))},directives:[nt,cr,gn,Lt,Ss,nn,Wt,Vt,ki,Jt,Zt,Vi,Hi,wn,Uj],pipes:[dp],styles:[""]}),t})();const dG={__depends__:[vb,LM],__init__:["runningProcessViewRenderer"],runningProcessViewRenderer:["type",(()=>{class t extends ol{constructor(e,i,o){super(e,t.HIGH_PRIORITY),this.bpmnRenderer=i,this.textRenderer=o}canRender(e){return(0,te.is)(e,"bpmn:FlowNode")||(0,te.is)(e,"bpmn:SequenceFlow")}drawShape(e,i){const o=this.bpmnRenderer.drawShape(e,i),r=i.businessObject.get("method");return r&&(To(LA(e,"text")),Cn(e,this.textRenderer.createText(r.name,{box:i,align:"center-middle",padding:5})),At(o,{rx:0,ry:0})),i.businessObject.get("tokens")>0?At(o,{stroke:"red"}):null!=this.unreachable&&this.unreachable.has(i.id)?At(o,{stroke:"orange",rx:2,ry:2}):null!=this.missingArtifacts&&this.missingArtifacts.has(i.id)?At(o,{stroke:"gray",rx:2,ry:2}):i.businessObject.get("executed")&&At(o,{stroke:"green"}),o}drawConnection(e,i){const o=this.bpmnRenderer.drawConnection(e,i);return i.businessObject.get("used")&&At(o,{stroke:"green"}),o}getShapePath(e){return this.bpmnRenderer.getShapePath(e)}}return t.$inject=["eventBus","bpmnRenderer","textRenderer"],t.HIGH_PRIORITY=1500,t})()]};let H3=(()=>{class t extends R3{getBpmnViewer(){return new Nd({additionalModules:[dG],moddleExtensions:{bmdl:Ru,rbmp:C3}})}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const n3e=["canvas"];let W0=(()=>{class t{constructor(e){this.runningProcessViewerService=e,this.startExecution=new je,this.fakeExecution=new je,this.skipExecution=new je,this.viewer=this.runningProcessViewerService.getBpmnViewer()}ngOnInit(){const e=this.viewer.get("eventBus");e.on("bmp.startExecution",(i,o)=>this.startExecution.emit(o.id)),e.on("bmp.fakeExecution",(i,o)=>this.fakeExecution.emit(o.id)),e.on("bmp.skipExecution",(i,o)=>this.skipExecution.emit(o.id)),null!=this.runningProcess&&(this.setUnreachable(),this.setMissingArtifacts(),this.loadBmProcess(this.runningProcess,!0))}ngOnChanges(e){if(null!=this.viewer&&(e.runningProcess&&this.loadBmProcess(e.runningProcess.currentValue,e.runningProcess.firstChange),e.unreachable&&this.setUnreachable(),e.missingArtifacts&&this.setMissingArtifacts(),e.missingArtifacts||e.unreachable)){const i=this.viewer.get("elementRegistry").filter(o=>Dm(o));this.viewer.get("eventBus").fire("elements.changed",{elements:i})}}ngAfterContentInit(){this.viewer.attachTo(this.canvas.nativeElement)}ngOnDestroy(){this.viewer.destroy()}focus(e){this.runningProcessViewerService.focusElement(this.viewer,e),this.canvas.nativeElement.scrollIntoView({behavior:"smooth"})}getSelectedFlowNode(){const e=this.viewer.get("selection").get()[0];if(Dm(e))return e}getSelectedFlow(){const e=this.viewer.get("selection").get()[0];if(EC(e))return e}loadBmProcess(e,i){var o=this;return Y(function*(){yield o.viewer.importXML(e.process.processDiagram),i&&o.runningProcessViewerService.resizeView(o.viewer)})()}setUnreachable(){this.viewer.get("runningProcessViewRenderer").unreachable=this.unreachable}setMissingArtifacts(){this.viewer.get("runningProcessViewRenderer").missingArtifacts=this.missingArtifacts}}return t.\u0275fac=function(e){return new(e||t)(H(H3))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-viewer"]],viewQuery:function(e,i){if(1&e&&Ft(n3e,7),2&e){let o;bt(o=yt())&&(i.canvas=o.first)}},inputs:{runningProcess:"runningProcess",unreachable:"unreachable",missingArtifacts:"missingArtifacts"},outputs:{startExecution:"startExecution",fakeExecution:"fakeExecution",skipExecution:"skipExecution"},features:[Xt],decls:2,vars:0,consts:[[1,"border",2,"height","500px"],["canvas",""]],template:function(e,i){1&e&&re(0,"div",0,1)},styles:[""]}),t})(),H_=(()=>{class t extends Es{constructor(e,i){super(i),this.runningProcessService=e,this.error=!1}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.runningProcessService.getChangesFeed(i).subscribe(()=>this.loadRunningProcess(i)),this.loadRunningProcess(i)):this.runningProcess=void 0}loadRunningProcess(e){var i=this;return Y(function*(){try{i.runningProcess=yield i.runningProcessService.get(e)}catch(o){const r=o;return i.runningProcess=void 0,i.error=!0,i.errorStatus=r.status,i.errorReason=r.reason,void console.error(o)}i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(to),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function i3e(t,n){if(1&t){const e=ye();c(0,"div",8)(1,"div",9),g(2," Request a context change from the method engineer. First, comment why and what changes are necessary. "),u(),c(3,"app-description-form",10),z("submitDescriptionForm",function(o){return W(e),T().updateComment(o.value.description)}),u(),c(4,"div",9),g(5," Here you can provide suggestions for the context change. "),u(),c(6,"app-context-edit",11),z("updateDomains",function(o){return W(e),T().updateSuggestedDomains(o)})("updateSituationalFactors",function(o){return W(e),T().updateSuggestedSituationalFactors(o)}),u()()}if(2&t){const e=T();p(3),v("description",e.contextChangeSuggestions.comment),p(3),v("domains",e.contextChangeSuggestions.domains)("situationalFactors",e.contextChangeSuggestions.situationalFactors)}}let o3e=(()=>{class t{constructor(e){this.activeModal=e,this.requestContextChange=new je}ngOnInit(){this.contextChangeSuggestions={comment:"",domains:this.domains,situationalFactors:this.situationalFactors}}ngOnDestroy(){this.requestContextChange.complete()}submit(){this.update(),this.requestContextChange.emit(this.contextChangeSuggestions)}update(){for(const e of this.updatable)e.update()}updateComment(e){null!=this.contextChangeSuggestions&&(this.contextChangeSuggestions.comment=e)}updateSuggestedDomains(e){null!=this.contextChangeSuggestions&&(this.contextChangeSuggestions.domains=e)}updateSuggestedSituationalFactors(e){null!=this.contextChangeSuggestions&&(this.contextChangeSuggestions.situationalFactors=e.map(i=>new fo(void 0,i,Fr)))}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-context-change-modal"]],viewQuery:function(e,i){if(1&e&&Ft(Yi,5),2&e){let o;bt(o=yt())&&(i.updatable=o)}},inputs:{domains:"domains",situationalFactors:"situationalFactors"},outputs:{requestContextChange:"requestContextChange"},features:[Tt([{provide:Yi,useExisting:t}])],decls:11,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-baseline"],[1,"btn","btn-primary",3,"click"],[1,"modal-body"],[1,"alert","alert-info"],[3,"description","submitDescriptionForm"],[3,"domains","situationalFactors","updateDomains","updateSituationalFactors"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2,"Request context change"),u(),c(3,"button",2),z("click",function(){return i.dismiss()}),c(4,"span",3),g(5,"\xd7"),u()()(),k(6,i3e,7,3,"div",4),c(7,"div",5)(8,"div",6)(9,"button",7),z("click",function(){return i.submit()}),g(10," Update all and request context change "),u()()()),2&e&&(p(6),v("ngIf",null!=i.contextChangeSuggestions))},directives:[nt,j_,pp],styles:[""]}),t})(),fp=(()=>{class t{constructor(e,i){this.artifactDataService=e,this.pouchdbService=i}add(e){var i=this;return Y(function*(){const o=new mu(void 0,e);return yield i.pouchdbService.post(o),o})()}view(e,i){var o=this;return Y(function*(){const r=yield o.get(e),s=r.getVersion(i);if(null==s)throw new Error("Artifact does not contain a version with the versionId");o.artifactDataService.edit(s.data,{referenceType:"Artifact",artifactId:r._id,versionId:s.id})})()}edit(e){var i=this;return Y(function*(){const o=yield i.get(e),r=o.getLatestVersion();if(null==r)throw new Error("Artifact without versions");let s;r.editing?s=r:(o.addVersion({createdBy:"added",data:yield i.artifactDataService.copy(r.data),editing:!0}),s=o.getLatestVersion(),yield i.save(o)),i.artifactDataService.edit(s.data,{referenceType:"Artifact",artifactId:o._id,versionId:s.id})})()}updateIdentifier(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.identifier=i,yield o.save(r)})()}export(e,i,o){var r=this;return Y(function*(){return(i=yield r.copy(i)).identifier=e,i.versions.forEach(s=>{s.createdBy="imported",s.executedBy=void 0,null==s.importName&&(s.importName=o)}),yield r.add(i),i})()}getList(){var e=this;return Y(function*(){return e.pouchdbService.find(mu.typeName,{selector:{}})})()}get(e){var i=this;return Y(function*(){return new mu(yield i.pouchdbService.get(e),void 0)})()}getChangesFeed(e){return this.pouchdbService.getChangesFeed(e)}delete(e){var i=this;return Y(function*(){const o=yield i.get(e);for(const r of o.versions)r.data.type===go.REFERENCE&&(yield i.artifactDataService.remove(r.data));yield i.pouchdbService.remove(o)})()}save(e){var i=this;return Y(function*(){yield i.pouchdbService.put(e)})()}copy(e){var i=this;return Y(function*(){const o=new mu(void 0,e);return o.resetDatabaseState(),o.versions=yield Promise.all(o.versions.map(function(){var r=Y(function*(s){return s.data.type===go.REFERENCE?new vv(void 0,Object.assign(Object.assign({},s),{data:yield i.artifactDataService.copy(s.data)})):s});return function(s){return r.apply(this,arguments)}}())),o})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(T0),Ve(rs))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:Eo}),t})(),Y0=(()=>{class t{constructor(e){this.fb=e}createForm(e,i){const o=this.fb.group({outputArtifacts:this.fb.array([])});let r;return r=e.map(null!=i?(s,a)=>this.createOutputArtifactMappingControl(i[a],s.optional):s=>this.createOutputArtifactMappingControl(void 0,s.optional)),o.setControl("outputArtifacts",this.fb.array(r)),o}createOutputArtifactMappingControl(e,i){return this.fb.group({isDefinition:this.fb.control(e?e.isDefinition:!!i&&void 0,i?void 0:ft.required),artifact:this.fb.control(null==e?void 0:e.artifact),artifactName:this.fb.control(null==e?void 0:e.artifactName),data:this.fb.control((null==e?void 0:e.data.type)===go.STRING?e.data.data:"")},{validators:o=>{var r,s,a,l,d;return null==(null===(r=o.get("isDefinition"))||void 0===r?void 0:r.value)?null:(null===(s=o.get("isDefinition"))||void 0===s?void 0:s.value)?(null===(a=o.get("artifactName"))||void 0===a?void 0:a.value)?null:{requiredName:!0}:null===(null===(l=o.get("artifact"))||void 0===l?void 0:l.value)||void 0===(null===(d=o.get("artifact"))||void 0===d?void 0:d.value)?{requiredArtifact:!0}:null}})}get(e){return e.map(i=>this.getOutputArtifactMappingControl(i))}getOutputArtifactMappingControl(e){if(null!=e.isDefinition)return new bv(void 0,{isDefinition:e.isDefinition,artifact:e.artifact,artifactName:e.artifactName,data:{data:e.data,type:go.STRING}})}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function r3e(t,n){if(1&t&&(c(0,"h4",6),g(1),u()),2&t){const e=T();p(1),R1(" Version #",e.versionNumber," of ",e.artifact.identifier," \u2013 ",e.artifact.artifact.name," ")}}function s3e(t,n){if(1&t&&(St(0),c(1,"h5"),g(2,"Note"),u(),re(3,"quill-view",7),Et()),2&t){const e=T();p(3),v("content",e.version.data.data)}}function a3e(t,n){if(1&t){const e=ye();c(0,"button",10),z("click",function(){return W(e),T(2).editArtifactVersion.emit()}),g(1," Edit "),u()}}function l3e(t,n){if(1&t){const e=ye();St(0),c(1,"h5"),g(2,"Reference"),u(),g(3," This version points on another object in the database. "),c(4,"button",8),z("click",function(){return W(e),T().viewArtifactVersion.emit()}),g(5," View "),u(),k(6,a3e,2,0,"button",9),Et()}if(2&t){const e=T();p(6),v("ngIf",e.version.editing||e.isLatestVersion)}}let pG=(()=>{class t{constructor(){this.dismiss=new je,this.viewArtifactVersion=new je,this.editArtifactVersion=new je}get versionNumber(){if(null!=this.artifact&&null!=this.version)return this.artifact.getVersionNumber(this.version)+1}get isStringType(){var e;return(null===(e=this.version)||void 0===e?void 0:e.data.type)===go.STRING}get isReferenceType(){var e;return(null===(e=this.version)||void 0===e?void 0:e.data.type)===go.REFERENCE}get isLatestVersion(){var e;return this.versionNumber===(null===(e=this.artifact)||void 0===e?void 0:e.versions.length)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-concrete-artifact-show-version-modal"]],inputs:{artifact:"artifact",version:"version"},outputs:{dismiss:"dismiss",viewArtifactVersion:"viewArtifactVersion",editArtifactVersion:"editArtifactVersion"},decls:8,vars:3,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-title"],[3,"content"],[1,"btn","btn-xs","btn-primary",3,"click"],["class","ml-2 btn btn-xs btn-secondary",3,"click",4,"ngIf"],[1,"ml-2","btn","btn-xs","btn-secondary",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0),k(1,r3e,2,3,"h4",1),c(2,"button",2),z("click",function(){return i.dismiss.emit()}),c(3,"span",3),g(4,"\xd7"),u()()(),c(5,"div",4),k(6,s3e,4,1,"ng-container",5),k(7,l3e,7,1,"ng-container",5),u()),2&e&&(p(1),v("ngIf",null!=i.artifact&&null!=i.version),p(5),v("ngIf",null!=i.version&&i.isStringType),p(1),v("ngIf",null!=i.version&&i.isReferenceType))},directives:[nt,k3],styles:[""]}),t})();function c3e(t,n){if(1&t){const e=ye();c(0,"form",2),z("ngSubmit",function(){return W(e),T().submitForm()}),c(1,"div",3)(2,"label",4),g(3,"Name"),u(),c(4,"div",5),re(5,"input",6),u()(),c(6,"div",7)(7,"button",8),g(8," Export Artifact "),u()()()}if(2&t){const e=T();v("formGroup",e.form),p(7),v("disabled",!e.form.valid)}}let u3e=(()=>{class t{constructor(e){this.fb=e,this.submitArtifactExportForm=new je}ngOnChanges(e){if(e.artifact){const i=e.artifact.currentValue,o=e.artifact.previousValue;(e.artifact.firstChange||i.identifier!==o.identifier)&&(this.form=this.fb.group({identifier:i.identifier}))}}submitForm(){this.submitArtifactExportForm.emit(this.form)}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-artifact-export-form"]],inputs:{artifact:"artifact"},outputs:{submitArtifactExportForm:"submitArtifactExportForm"},features:[Xt],decls:3,vars:1,consts:[[1,"alert","alert-info"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","identifier",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","identifier","formControlName","identifier",1,"form-control"],[1,"form-group"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"]],template:function(e,i){1&e&&(c(0,"div",0),g(1," Export the artifact to add it to the artifacts list and import it in other methods.\n"),u(),k(2,c3e,9,2,"form",1)),2&e&&(p(2),v("ngIf",null!=i.form))},directives:[nt,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();function d3e(t,n){if(1&t&&(c(0,"div",4)(1,"div",5),g(2,"Artifact Meta Model"),u(),c(3,"div",6),g(4),u()()),2&t){const e=T().$implicit;p(4),Be(" ",e.artifact.metaModel.name," ")}}function p3e(t,n){if(1&t){const e=ye();c(0,"div",2)(1,"h5"),g(2),u(),c(3,"button",3),z("click",function(){const r=W(e).$implicit;return T().selectArtifact.emit(r)}),g(4," Select "),u()(),c(5,"div",4)(6,"div",5),g(7,"Artifact Type"),u(),c(8,"div",6),g(9),u()(),k(10,d3e,5,1,"div",7)}if(2&t){const e=n.$implicit;p(2),_t(e.identifier),p(7),Be(" ",e.artifact.name," "),p(1),v("ngIf",e.artifact.internalArtifact)}}let m3e=(()=>{class t{constructor(e){this.concreteArtifactService=e,this.selectArtifact=new je}ngOnInit(){this.loadArtifacts()}loadArtifacts(){var e=this;return Y(function*(){e.artifacts=yield e.concreteArtifactService.getList()})()}}return t.\u0275fac=function(e){return new(e||t)(H(fp))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-artifact-import-form"]],outputs:{selectArtifact:"selectArtifact"},features:[Tt([{provide:_f,useValue:(n,e)=>e.identifier.toLowerCase().includes(n)}])],decls:3,vars:2,consts:[["ref",""],["heading","Artifacts","itemName","Artifact",3,"content","items"],[1,"d-flex","align-items-baseline"],["type","button",1,"btn","btn-primary","ml-auto","btn-xs",3,"click"],[1,"row"],[1,"col-sm-4"],[1,"col-sm-8"],["class","row",4,"ngIf"]],template:function(e,i){if(1&e&&(k(0,p3e,11,3,"ng-template",null,0,$t),re(2,"app-search",1)),2&e){const o=hn(1);p(2),v("content",o)("items",i.artifacts)}},directives:[nt,O3],styles:[""]}),t})();function f3e(t,n){if(1&t){const e=ye();c(0,"form",1),z("ngSubmit",function(){return W(e),T().submitForm()}),c(1,"div",2)(2,"label",3),g(3,"Name"),u(),c(4,"div",4),re(5,"input",5),u()(),c(6,"div",6)(7,"button",7),g(8," Rename artifact "),u()()()}if(2&t){const e=T();v("formGroup",e.form),p(7),v("disabled",!e.form.valid)}}let h3e=(()=>{class t{constructor(e){this.fb=e,this.submitArtifactExportForm=new je}ngOnChanges(e){if(e.artifact){const i=e.artifact.currentValue,o=e.artifact.previousValue;(e.artifact.firstChange||i.identifier!==o.identifier)&&(this.form=this.fb.group({identifier:i.identifier}))}}submitForm(){this.submitArtifactExportForm.emit(this.form)}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-artifact-rename-form"]],inputs:{artifact:"artifact"},outputs:{submitArtifactExportForm:"submitArtifactExportForm"},features:[Xt],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","identifier",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","identifier","formControlName","identifier",1,"form-control"],[1,"form-group"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"]],template:function(e,i){1&e&&k(0,f3e,9,2,"form",0),2&e&&v("ngIf",null!=i.form)},directives:[nt,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();function g3e(t,n){1&t&&(c(0,"label",5),re(1,"input",6),g(2," Optional "),u()),2&t&&(p(1),v("value",null))}function _3e(t,n){if(1&t&&(c(0,"option",14),g(1),u()),2&t){const e=T(),o=e.$implicit;v("ngValue",e.index),p(1),Be(" ",o.identifier," ")}}function v3e(t,n){if(1&t&&(St(0),k(1,_3e,2,2,"option",13),Et()),2&t){const e=n.$implicit,i=T(2);p(1),v("ngIf",e.artifact._id===i.artifact._id)}}function b3e(t,n){if(1&t){const e=ye();c(0,"div",15)(1,"button",16),z("click",function(){W(e);const o=T(2);return o.loadData(o.artifactControl.value)}),g(2," Load "),u()()}if(2&t){const e=T(2);p(1),v("disabled",null==e.artifactControl.value)}}function y3e(t,n){if(1&t&&(c(0,"div",2)(1,"label",8),g(2,"Artifact"),u(),c(3,"div",9)(4,"select",10),k(5,v3e,2,1,"ng-container",11),u(),k(6,b3e,3,1,"div",12),u()()),2&t){const e=T();p(5),v("ngForOf",e.processArtifacts),p(1),v("ngIf",!e.artifact.internalArtifact)}}function w3e(t,n){if(1&t){const e=ye();c(0,"div",15)(1,"button",19),z("click",function(){return W(e),T(2).setDefaultName()}),g(2," Set default name "),u()()}}function x3e(t,n){if(1&t&&(c(0,"div",2)(1,"label",17),g(2,"Name"),u(),c(3,"div",9),re(4,"input",18),k(5,w3e,3,0,"div",12),u()()),2&t){const e=T();p(5),v("ngIf",e.artifact.internalArtifact)}}function C3e(t,n){1&t&&(c(0,"div",2)(1,"label",20),g(2,"Note"),u(),re(3,"quill-editor",21),u()),2&t&&(p(3),v("classes","quill-lg-box"))}let mG=(()=>{class t{constructor(e,i){this.controlContainer=e,this.metaModelService=i}ngOnInit(){var e=this;this.artifactIsDefinitionChangeSubscription=this.definitionControl.valueChanges.subscribe(function(){var i=Y(function*(o){o&&!e.artifactNameControl.value&&(yield e.setDefaultName())});return function(o){return i.apply(this,arguments)}}()),this.artifactSelectionChangeSubscription=this.artifactControl.valueChanges.subscribe(i=>this.loadData(i))}ngOnDestroy(){null!=this.artifactIsDefinitionChangeSubscription&&this.artifactIsDefinitionChangeSubscription.unsubscribe(),null!=this.artifactSelectionChangeSubscription&&this.artifactSelectionChangeSubscription.unsubscribe()}loadData(e){const i=this.processArtifacts[e];this.dataControl.setValue(i.versions[i.versions.length-1].data.data)}setDefaultName(){var e=this;return Y(function*(){if(null!=e.internalArtifact&&e.internalArtifact.data.type===go.REFERENCE){const o=yield e.metaModelService.getMetaModelApi(e.internalArtifact.metaModelType).getName(e.internalArtifact.data.data);null!=o&&e.artifactNameControl.setValue(o)}})()}get formGroup(){return this.controlContainer.control}get definitionControl(){return this.formGroup.get("isDefinition")}get artifactNameControl(){return this.formGroup.get("artifactName")}get artifactControl(){return this.formGroup.get("artifact")}get dataControl(){return this.formGroup.get("data")}get showNotes(){if(this.artifact.internalArtifact)return!1;const e=this.formGroup.value;return null!=e.isDefinition&&(!!e.isDefinition||null!=e.artifact)}get artifact(){return this.artifactOptional.element}get isOptional(){return this.artifactOptional.optional}}return t.\u0275fac=function(e){return new(e||t)(H(Ko),H(Zl))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-select-output-artifact"]],inputs:{artifactOptional:"artifactOptional",internalArtifact:"internalArtifact",processArtifacts:"processArtifacts"},decls:17,vars:14,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm",3,"formGroup"],[1,"border-bottom","border-gray","pb-2"],[1,"form-group"],["ngbRadioGroup","","name","selectIsDefinition","formControlName","isDefinition",1,"btn-group","btn-group-toggle"],["ngbButtonLabel","","class","btn-primary",4,"ngIf"],["ngbButtonLabel","",1,"btn-primary"],["ngbButton","","type","radio",3,"value"],["class","form-group",4,"ngIf"],["for","artifact"],[1,"input-group"],["id","artifact","formControlName","artifact",1,"form-control"],[4,"ngFor","ngForOf"],["class","input-group-append",4,"ngIf"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],["for","name"],["id","name","formControlName","artifactName",1,"form-control"],["type","button",1,"btn","btn-outline-primary",3,"click"],["for","externalOutputArtifactData"],["id","externalOutputArtifactData","formControlName","data",3,"classes"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2),ci(3,"optional"),ci(4,"list"),u(),c(5,"div",2)(6,"div",3),k(7,g3e,3,1,"label",4),c(8,"label",5),re(9,"input",6),g(10," Merge "),u(),c(11,"label",5),re(12,"input",6),g(13," New Artifact "),u()()(),k(14,y3e,7,2,"div",7),k(15,x3e,6,1,"div",7),k(16,C3e,4,1,"div",7),u()),2&e&&(v("formGroup",i.formGroup),p(2),Xi(" ",As(3,9,i.artifact.name,i.isOptional)," (",Io(4,12,i.artifact.list),") "),p(5),v("ngIf",i.isOptional),p(2),v("value",!1),p(3),v("value",!0),p(2),v("ngIf",null!=i.definitionControl.value&&!i.definitionControl.value),p(1),v("ngIf",null!=i.definitionControl.value&&i.definitionControl.value),p(1),v("ngIf",i.showNotes))},directives:[Wt,Vt,ec,Jt,Zt,nt,Ra,qc,ki,Lt,Vi,Hi,wn,Vj],pipes:[k_,O_],styles:[""]}),t})();function M3e(t,n){if(1&t&&(c(0,"div",8),re(1,"app-running-process-select-output-artifact",9),u()),2&t){const e=T(2);p(1),v("processArtifacts",e.processArtifacts)("artifactOptional",e.artifactOptional)}}function S3e(t,n){if(1&t){const e=ye();c(0,"div",6)(1,"button",10),z("click",function(){W(e);const o=T(2);return o.createArtifact.emit(o.selectedArtifact)}),g(2," Create Artifact "),u()()}}function E3e(t,n){if(1&t){const e=ye();c(0,"form",1),z("ngSubmit",function(){return W(e),T().submitForm()}),c(1,"div",2),re(2,"app-method-element-selection-form",3),u(),k(3,M3e,2,2,"div",4),k(4,S3e,3,0,"div",5),c(5,"div",6)(6,"button",7),g(7," Add Artifact "),u()()()}if(2&t){const e=T();v("formGroup",e.form),p(1),v("formGroup",e.artifactFormGroup),p(1),v("listNames",e.listNames)("methodElements",e.methodElements)("removeAllowed",!1),p(1),v("ngIf",null!=e.selectedArtifact&&null!=e.artifactOptional&&!e.selectedArtifact.internalArtifact),p(1),v("ngIf",null!=e.selectedArtifact&&e.selectedArtifact.internalArtifact),p(2),v("disabled",!e.form.valid)}}let T3e=(()=>{class t{constructor(e,i,o){this.artifactService=e,this.fb=i,this.outputArtifactMappingFormService=o,this.addArtifact=new je,this.createArtifact=new je,this.form=this.fb.group({artifact:this.fb.group({list:["",ft.required],element:[null,ft.required]}),data:this.outputArtifactMappingFormService.createOutputArtifactMappingControl()}),this.methodElements=[],this.listNames=[]}ngOnInit(){this.loadMethodElements()}submitForm(){const e=this.outputArtifactMappingFormService.getOutputArtifactMappingControl(this.dataFormGroup.value),i=this.selectedArtifact;null!=i&&null!=e&&this.addArtifact.emit({artifact:i,output:e})}loadMethodElements(){var e=this;return Y(function*(){e.methodElements=yield e.artifactService.getList(),e.listNames=[...new Set(e.methodElements.map(i=>i.list))]})()}get artifactFormGroup(){return this.form.get("artifact")}get selectedArtifact(){var e;return null===(e=this.artifactFormGroup.get("element"))||void 0===e?void 0:e.value}get artifactOptional(){if(null!=this.selectedArtifact)return{optional:!1,element:this.selectedArtifact}}get dataFormGroup(){return this.form.get("data")}}return t.\u0275fac=function(e){return new(e||t)(H(oc),H(zt),H(Y0))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-artifact-add-form"]],inputs:{processArtifacts:"processArtifacts"},outputs:{addArtifact:"addArtifact",createArtifact:"createArtifact"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"formGroup"],["methodElementName","Artifact",3,"listNames","methodElements","removeAllowed"],["formGroupName","data",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],["formGroupName","data"],[3,"processArtifacts","artifactOptional"],["type","button",1,"btn","btn-sm","btn-primary","btn-block",3,"click"]],template:function(e,i){1&e&&k(0,E3e,8,8,"form",0),2&e&&v("ngIf",null!=i.form)},directives:[nt,nn,Wt,Vt,k0,kr,mG],styles:[""]}),t})();const P3e=["artifactShowVersionModal"],D3e=["artifactExportModal"],F3e=["artifactImportModal"],A3e=["artifactRenameModal"],I3e=["artifactRemoveModal"],k3e=["addArtifactModal"];function N3e(t,n){if(1&t){const e=ye();c(0,"app-concrete-artifact-show-version-modal",7),z("viewArtifactVersion",function(){const r=W(e).dismiss,s=T();return s.viewArtifactVersion.emit(s.modalArtifactVersion),r()})("editArtifactVersion",function(){const r=W(e).dismiss,s=T();return s.editArtifact.emit(s.modalArtifact),r()})("dismiss",function(){return W(e).dismiss()}),u()}if(2&t){const e=T();v("artifact",e.modalArtifact)("version",e.modalArtifactVersion)}}function R3e(t,n){if(1&t){const e=ye();c(0,"app-running-process-artifact-export-form",14),z("submitArtifactExportForm",function(o){W(e);const r=T().close,s=T();return s.exportArtifact.emit({identifier:o.value.identifier,artifact:s.modalArtifact}),r()}),u()}2&t&&v("artifact",T(2).modalArtifact)}function O3e(t,n){if(1&t){const e=ye();c(0,"div",8)(1,"h4",9),g(2,"Export Artifact"),u(),c(3,"button",10),z("click",function(){return W(e).dismiss()}),c(4,"span",11),g(5,"\xd7"),u()()(),c(6,"div",12),k(7,R3e,1,1,"app-running-process-artifact-export-form",13),u()}if(2&t){const e=T();p(7),v("ngIf",null!=e.modalArtifact)}}function B3e(t,n){if(1&t){const e=ye();c(0,"div",8)(1,"h4",9),g(2,"Import Artifact"),u(),c(3,"button",10),z("click",function(){return W(e).dismiss()}),c(4,"span",11),g(5,"\xd7"),u()()(),c(6,"div",12)(7,"app-running-process-artifact-import-form",15),z("selectArtifact",function(o){const s=W(e).close;return T().importArtifact.emit(o._id),s()}),u()()}}function L3e(t,n){if(1&t&&(c(0,"h4",9),g(1),u()),2&t){const e=T(2);p(1),Xi(" Rename Artifact ",e.modalArtifact.identifier," \u2013 ",e.modalArtifact.artifact.name," ")}}function j3e(t,n){if(1&t){const e=ye();c(0,"app-running-process-artifact-rename-form",14),z("submitArtifactExportForm",function(o){W(e);const r=T().close,s=T();return s.renameArtifact.emit({identifier:o.value.identifier,artifact:s.modalArtifact}),r()}),u()}2&t&&v("artifact",T(2).modalArtifact)}function G3e(t,n){if(1&t){const e=ye();c(0,"div",8),k(1,L3e,2,2,"h4",16),c(2,"button",10),z("click",function(){return W(e).dismiss()}),c(3,"span",11),g(4,"\xd7"),u()()(),c(5,"div",12),k(6,j3e,1,1,"app-running-process-artifact-rename-form",13),u()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalArtifact),p(5),v("ngIf",null!=e.modalArtifact)}}function V3e(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",18),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.removeArtifact.emit(r.modalArtifact),o()}),c(1,"div",19),g(2,"Remove artifact"),u(),g(3),u()}if(2&t){const e=T(2);p(3),Be(" This will remove the artifact ",e.modalArtifact.identifier," with all versions. This cannot be undone. ")}}function H3e(t,n){1&t&&k(0,V3e,4,1,"app-delete-modal",17),2&t&&v("ngIf",null!=T().modalArtifact)}function U3e(t,n){if(1&t){const e=ye();c(0,"div",8)(1,"h4",9),g(2,"Add Artifact"),u(),c(3,"button",10),z("click",function(){return W(e).dismiss()}),c(4,"span",11),g(5,"\xd7"),u()()(),c(6,"div",12)(7,"app-running-process-artifact-add-form",20),z("addArtifact",function(o){const s=W(e).close;return T().addArtifact.emit(o),s()})("createArtifact",function(o){const s=W(e).close;return T().createArtifact.emit(o),s()}),u()()}if(2&t){const e=T();p(7),v("processArtifacts",e.runningProcess.artifacts)}}function z3e(t,n){if(1&t){const e=ye();c(0,"button",28),z("click",function(){return W(e),T(2).openAddArtifactModal()}),g(1," Add Artifact "),u()}}function q3e(t,n){if(1&t){const e=ye();c(0,"button",29),z("click",function(){return W(e),T(2).openArtifactImportModal()}),g(1," Import Artifact "),u()}}function $3e(t,n){1&t&&(c(0,"div",30),g(1," There are no artifacts "),u())}function W3e(t,n){if(1&t){const e=ye();c(0,"div",37)(1,"div",38),z("click",function(){W(e);const o=T().$implicit;return T(3).openArtifactRenameModal(o.artifact)}),g(2," Rename "),u(),c(3,"div",38),z("click",function(){W(e);const o=T().$implicit;return T(3).openArtifactExportModal(o.artifact)}),g(4," Export "),u(),c(5,"div",39),z("click",function(){W(e);const o=T().$implicit;return T(3).openArtifactRemoveModal(o.artifact)}),g(6," Remove "),u()()}}const fG=function(){return[]};function Y3e(t,n){if(1&t){const e=ye();c(0,"a",41),z("click",function(){W(e);const o=T().$implicit;return T(5).focusNode.emit(o.createdBy)}),g(1),u()}if(2&t){const e=T().$implicit,i=T(5);v("routerLink",Bt(2,fG)),p(1),Be(" ",i.runningProcess.process.decisions[e.createdBy].method.name," ")}}function X3e(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T().$implicit,i=T(5);p(1),Be(" ",i.runningProcess.getExecutedMethod(e.executedBy).methodName," ")}}function K3e(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T().$implicit;p(1),Be(" Imported from ",e.importName," ")}}function Q3e(t,n){1&t&&(c(0,"span"),g(1," (editable)"),u())}function J3e(t,n){if(1&t&&(c(0,"span"),g(1,"Added manually"),k(2,Q3e,2,0,"span",36),u()),2&t){const e=T().$implicit;p(2),v("ngIf",e.editing)}}function Z3e(t,n){1&t&&(c(0,"span"),g(1," Missing Method "),u())}function e4e(t,n){1&t&&(c(0,"span"),g(1," Missing Process "),u())}function t4e(t,n){if(1&t){const e=ye();c(0,"li")(1,"a",41),z("click",function(){const r=W(e).$implicit,s=T(2).$implicit;return T(3).openArtifactShowVersionModal(s.artifact,r)}),g(2),u(),g(3," \u2013 "),k(4,Y3e,2,3,"a",42),k(5,X3e,2,1,"span",36),k(6,K3e,2,1,"span",36),k(7,J3e,3,1,"span",36),k(8,Z3e,2,0,"span",36),k(9,e4e,2,0,"span",36),g(10),ci(11,"date"),u()}if(2&t){const e=n.$implicit,i=T(2).$implicit,o=T(3);p(1),v("routerLink",Bt(12,fG)),p(1),Be("Version #",i.artifact.getVersionNumber(e)+1,""),p(2),v("ngIf","manual"!==e.createdBy&&"imported"!==e.createdBy&&o.runningProcess.hasProcess()&&null!=o.runningProcess.process.decisions[e.createdBy]),p(1),v("ngIf","manual"===e.createdBy),p(1),v("ngIf","imported"===e.createdBy),p(1),v("ngIf","added"===e.createdBy),p(1),v("ngIf","manual"!==e.createdBy&&"imported"!==e.createdBy&&"added"!==e.createdBy&&o.runningProcess.hasProcess()&&null==o.runningProcess.process.decisions[e.createdBy]),p(1),v("ngIf","manual"!==e.createdBy&&"imported"!==e.createdBy&&"added"!==e.createdBy&&!o.runningProcess.hasProcess()),p(1),Be(" \u2013 ",As(11,9,e.time,"short")," ")}}function n4e(t,n){if(1&t&&(c(0,"ul"),k(1,t4e,12,13,"li",40),u()),2&t){const e=T().$implicit;p(1),v("ngForOf",e.versions)}}function i4e(t,n){if(1&t&&(c(0,"li",33)(1,"div",34)(2,"div"),g(3),u(),k(4,W3e,7,0,"div",35),u(),k(5,n4e,2,1,"ul",36),u()),2&t){const e=n.$implicit,i=T(3);p(3),Xi(" ",e.artifact.identifier," \u2013 ",e.artifact.artifact.name," "),p(1),v("ngIf",i.allowChanges),p(1),v("ngIf",e.versions.length>0)}}function o4e(t,n){if(1&t&&(c(0,"ul",31),k(1,i4e,6,4,"li",32),u()),2&t){const e=T(2);p(1),v("ngForOf",e._artifactVersions)}}function r4e(t,n){if(1&t&&(c(0,"div",21)(1,"div",22)(2,"h6",23),g(3,"Artifacts"),u(),k(4,z3e,2,0,"button",24),k(5,q3e,2,0,"button",25),u(),k(6,$3e,2,0,"div",26),k(7,o4e,2,1,"ul",27),u()),2&t){const e=T();p(4),v("ngIf",e.allowChanges),p(1),v("ngIf",e.allowChanges),p(1),v("ngIf",0===e._artifactVersions.length),p(1),v("ngIf",e._artifactVersions.length>0)}}let U3=(()=>{class t{constructor(e){this.modalService=e,this.allowChanges=!0,this.importArtifact=new je,this.exportArtifact=new je,this.renameArtifact=new je,this.addArtifact=new je,this.createArtifact=new je,this.focusNode=new je,this.viewArtifactVersion=new je,this.editArtifact=new je,this.removeArtifact=new je}ngOnChanges(e){(e.runningProcess||e.artifactVersions)&&(this._artifactVersions=null!=this.artifactVersions?this.artifactVersions:this.runningProcess.artifacts.map(i=>({artifact:i,versions:i.versions})))}openAddArtifactModal(){this.modalReference=this.modalService.open(this.addArtifactModal,{size:"lg"})}openArtifactExportModal(e){this.modalArtifact=e,this.modalReference=this.modalService.open(this.artifactExportModal,{size:"lg"})}openArtifactImportModal(){this.modalReference=this.modalService.open(this.artifactImportModal,{size:"lg"})}openArtifactRenameModal(e){this.modalArtifact=e,this.modalReference=this.modalService.open(this.artifactRenameModal,{size:"lg"})}openArtifactRemoveModal(e){this.modalArtifact=e,this.modalReference=this.modalService.open(this.artifactRemoveModal,{size:"lg"})}openArtifactShowVersionModal(e,i){this.modalArtifact=e,this.modalArtifactVersion=i,this.modalReference=this.modalService.open(this.artifactShowVersionModal,{size:"lg"})}}return t.\u0275fac=function(e){return new(e||t)(H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-artifacts"]],viewQuery:function(e,i){if(1&e&&(Ft(P3e,7),Ft(D3e,7),Ft(F3e,7),Ft(A3e,7),Ft(I3e,7),Ft(k3e,7)),2&e){let o;bt(o=yt())&&(i.artifactShowVersionModal=o.first),bt(o=yt())&&(i.artifactExportModal=o.first),bt(o=yt())&&(i.artifactImportModal=o.first),bt(o=yt())&&(i.artifactRenameModal=o.first),bt(o=yt())&&(i.artifactRemoveModal=o.first),bt(o=yt())&&(i.addArtifactModal=o.first)}},inputs:{runningProcess:"runningProcess",artifactVersions:"artifactVersions",allowChanges:"allowChanges"},outputs:{importArtifact:"importArtifact",exportArtifact:"exportArtifact",renameArtifact:"renameArtifact",addArtifact:"addArtifact",createArtifact:"createArtifact",focusNode:"focusNode",viewArtifactVersion:"viewArtifactVersion",editArtifact:"editArtifact",removeArtifact:"removeArtifact"},features:[Xt],decls:13,vars:1,consts:[["artifactShowVersionModal",""],["artifactExportModal",""],["artifactImportModal",""],["artifactRenameModal",""],["artifactRemoveModal",""],["addArtifactModal",""],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[3,"artifact","version","viewArtifactVersion","editArtifactVersion","dismiss"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"artifact","submitArtifactExportForm",4,"ngIf"],[3,"artifact","submitArtifactExportForm"],[3,"selectArtifact"],["class","modal-title",4,"ngIf"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],[3,"processArtifacts","addArtifact","createArtifact"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"d-flex","align-items-baseline","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],["class","ml-auto btn btn-xs btn-dark",3,"click",4,"ngIf"],["class","ml-1 btn btn-xs btn-dark",3,"click",4,"ngIf"],["class","alert alert-info mb-0",4,"ngIf"],["class","list-group",4,"ngIf"],[1,"ml-auto","btn","btn-xs","btn-dark",3,"click"],[1,"ml-1","btn","btn-xs","btn-dark",3,"click"],[1,"alert","alert-info","mb-0"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex"],["class","ml-auto",4,"ngIf"],[4,"ngIf"],[1,"ml-auto"],[1,"btn","btn-dark","btn-xs","mr-1",3,"click"],[1,"btn","btn-dark","btn-xs",3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink","click"],[3,"routerLink","click",4,"ngIf"]],template:function(e,i){1&e&&(k(0,N3e,1,2,"ng-template",null,0,$t),k(2,O3e,8,1,"ng-template",null,1,$t),k(4,B3e,8,0,"ng-template",null,2,$t),k(6,G3e,7,2,"ng-template",null,3,$t),k(8,H3e,1,1,"ng-template",null,4,$t),k(10,U3e,8,1,"ng-template",null,5,$t),k(12,r4e,8,4,"div",6)),2&e&&(p(12),v("ngIf",null!=i._artifactVersions))},directives:[pG,nt,u3e,m3e,h3e,cr,T3e,Lt,gn],pipes:[Fh],styles:[""]}),t})();function s4e(t,n){1&t&&(St(0),g(1,"Add comment"),Et())}function a4e(t,n){1&t&&(St(0),g(1,"Edit comment"),Et())}let l4e=(()=>{class t{constructor(e,i){this.authService=e,this.fb=i,this.comment=void 0,this.submitCommentForm=new je,this.commentForm=this.fb.group({userName:["",ft.required],title:["",ft.required],comment:["",ft.required]})}ngOnInit(){null==this.comment&&null!=this.authService.username&&(this.userNameControl.disable(),this.userNameControl.setValue(this.authService.username),this.userNameChangeSubscription=this.commentForm.get("userName").valueChanges.pipe(Li(e=>(null==e||""===e)&&null!=this.authService.username),un(()=>this.userNameControl.setValue(this.authService.username))).subscribe())}ngOnChanges(e){e.comment&&(this.commentForm.patchValue(e.comment.currentValue),this.userNameControl.disable())}ngOnDestroy(){null!=this.userNameChangeSubscription&&this.userNameChangeSubscription.unsubscribe()}submit(){this.submitCommentForm.emit(this.commentForm)}get userNameControl(){return this.commentForm.get("userName")}}return t.\u0275fac=function(e){return new(e||t)(H(xc),H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-method-comment-form"]],inputs:{comment:"comment"},outputs:{submitCommentForm:"submitCommentForm"},features:[Xt],decls:21,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","userName",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","userName","id","userName",1,"form-control"],["for","title",1,"col-sm-4","col-form-label"],["type","text","formControlName","title","id","title",1,"form-control"],["for","comment",1,"col-sm-4"],["formControlName","comment","id","comment",3,"classes"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submit()}),c(1,"div",1)(2,"label",2),g(3,"User"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8,"Title"),u(),c(9,"div",3),re(10,"input",6),u()(),c(11,"div",1)(12,"label",7),g(13,"Comment"),u(),c(14,"div",3),re(15,"quill-editor",8),u()(),c(16,"div",1)(17,"div",9)(18,"button",10),k(19,s4e,2,0,"ng-container",11),k(20,a4e,2,0,"ng-container",11),u()()()()),2&e&&(v("formGroup",i.commentForm),p(15),v("classes","quill-lg-box"),p(3),v("disabled",!i.commentForm.valid),p(1),v("ngIf",null==i.comment),p(1),v("ngIf",null!=i.comment))},directives:[nn,Wt,Vt,wn,Jt,Zt,Vj,nt],styles:[""]}),t})();const c4e=["editCommentModal"];function u4e(t,n){if(1&t&&(c(0,"h4",13),g(1),u()),2&t){const e=T(2);p(1),Be(" Edit comment ",e.modalComment.title," ")}}function d4e(t,n){if(1&t){const e=ye();c(0,"app-running-process-method-comment-form",14),z("submitCommentForm",function(o){return W(e),T(2)._updateComment(o)}),u()}2&t&&v("comment",T(2).modalComment)}function p4e(t,n){if(1&t){const e=ye();c(0,"div",6),k(1,u4e,2,1,"h4",7),c(2,"button",8),z("click",function(){return W(e).dismiss()}),c(3,"span",9),g(4,"\xd7"),u()()(),c(5,"div",10)(6,"div",11),k(7,d4e,1,1,"app-running-process-method-comment-form",12),u()()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalComment),p(6),v("ngIf",null!=e.modalComment)}}function m4e(t,n){1&t&&(c(0,"div"),g(1,"No comments"),u())}function f4e(t,n){if(1&t){const e=ye();c(0,"div")(1,"button",22),z("click",function(){W(e);const o=T().$implicit;return T(2)._editComment(o)}),g(2," Edit "),u(),c(3,"button",23),z("click",function(){W(e);const o=T().$implicit;return T(2).removeComment.emit(o.id)}),g(4," Delete "),u()()}}function h4e(t,n){if(1&t&&(c(0,"li",17)(1,"div",18)(2,"small"),g(3),u(),k(4,f4e,5,0,"div",3),u(),c(5,"h5",19),g(6),u(),c(7,"p",20),re(8,"quill-view",21),u(),c(9,"small"),g(10),ci(11,"date"),u()()),2&t){const e=n.$implicit,i=T(2);p(3),Be("Created by ",e.userName,""),p(1),v("ngIf",i.editable),p(2),_t(e.title),p(2),v("content",e.comment),p(2),_t(As(11,5,e.time,"short"))}}function g4e(t,n){if(1&t&&(c(0,"ul",15),k(1,h4e,12,8,"li",16),u()),2&t){const e=T();p(1),v("ngForOf",e.comments)}}function _4e(t,n){if(1&t){const e=ye();c(0,"div",1)(1,"h6",2),g(2,"Add comment"),u(),c(3,"div",24)(4,"app-running-process-method-comment-form",25),z("submitCommentForm",function(o){return W(e),T()._addComment(o)}),u()()()}}let Ts=(()=>{class t{constructor(e){this.modalService=e,this.editable=!0,this.addComment=new je,this.updateComment=new je,this.removeComment=new je}_addComment(e){this.addComment.emit(new Bh(void 0,e.getRawValue())),e.reset()}_editComment(e){this.modalComment=e,this.modalReference=this.modalService.open(this.editCommentModal,{size:"lg"})}_updateComment(e){var i,o;null===(i=this.modalComment)||void 0===i||i.update(e.value),this.updateComment.emit(this.modalComment),null===(o=this.modalReference)||void 0===o||o.close()}}return t.\u0275fac=function(e){return new(e||t)(H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-method-comments"]],viewQuery:function(e,i){if(1&e&&Ft(c4e,7),2&e){let o;bt(o=yt())&&(i.editCommentModal=o.first)}},inputs:{comments:"comments",editable:"editable"},outputs:{addComment:"addComment",updateComment:"updateComment",removeComment:"removeComment"},decls:8,vars:3,consts:[["editCommentModal",""],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[4,"ngIf"],["class","list-group",4,"ngIf"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-muted"],[3,"comment","submitCommentForm",4,"ngIf"],[1,"modal-title"],[3,"comment","submitCommentForm"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","w-100","justify-content-between"],[1,"border-bottom","pb-2"],[1,"show-new-lines","mb-1"],[3,"content"],["type","button",1,"btn","btn-warning","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"],[1,"text-muted","pt-3"],[3,"submitCommentForm"]],template:function(e,i){1&e&&(k(0,p4e,8,2,"ng-template",null,0,$t),c(2,"div",1)(3,"h6",2),g(4,"Comments"),u(),k(5,m4e,2,0,"div",3),k(6,g4e,2,1,"ul",4),u(),k(7,_4e,5,0,"div",5)),2&e&&(p(5),v("ngIf",0===i.comments.length),p(1),v("ngIf",i.comments.length>0),p(1),v("ngIf",i.editable))},directives:[nt,l4e,Lt,k3],pipes:[Fh],styles:[""]}),t})();function v4e(t,n){if(1&t){const e=ye();c(0,"button",20),z("click",function(){W(e);const o=T().$implicit;return T().viewNode.emit(o.nodeId)}),g(1," Show development step in process "),u()}}function b4e(t,n){if(1&t){const e=ye();c(0,"button",18),z("click",function(){W(e);const o=T().$implicit;return T().editTodo.emit(o.executionId)}),g(1," Edit "),u()}}function y4e(t,n){if(1&t){const e=ye();c(0,"button",21),z("click",function(){W(e);const o=T().$implicit;return T().removeTodo.emit(o.executionId)}),g(1," Remove "),u()}}function w4e(t,n){if(1&t){const e=ye();c(0,"div",12)(1,"div",13)(2,"div",14),g(3),u(),k(4,v4e,2,0,"button",15),c(5,"button",16),z("click",function(){const r=W(e).$implicit;return T()._showInfo(r)}),g(6," Info "),u(),k(7,b4e,2,0,"button",17),c(8,"button",18),z("click",function(){const r=W(e).$implicit;return T()._startExecution(r)}),g(9," Start "),u(),k(10,y4e,2,0,"button",19),u()()}if(2&t){const e=n.$implicit;p(3),_t(e.methodName),p(1),v("ngIf",e.nodeId),p(3),v("ngIf",null==e.nodeId),p(3),v("ngIf",null==e.nodeId)}}function x4e(t,n){if(1&t){const e=ye();c(0,"ngb-pagination",22),z("pageChange",function(o){return W(e),T().todoPage=o}),u()}if(2&t){const e=T();v("collectionSize",e.todo.length)("page",e.todoPage)("pageSize",e.todoPageSize)}}function C4e(t,n){if(1&t){const e=ye();c(0,"button",20),z("click",function(){W(e);const o=T().$implicit;return T().viewNode.emit(o.nodeId)}),g(1," Show development step in process "),u()}}function M4e(t,n){if(1&t){const e=ye();c(0,"div",12)(1,"div",13)(2,"div",14),g(3),u(),k(4,C4e,2,0,"button",15),c(5,"button",16),z("click",function(){const r=W(e).$implicit;return T()._showInfo(r)}),g(6," Info "),u(),c(7,"button",23),z("click",function(){const r=W(e).$implicit;return T().viewExecution.emit(r.executionId)}),g(8," View Execution "),u()()()}if(2&t){const e=n.$implicit;p(3),_t(e.methodName),p(1),v("ngIf",e.nodeId)}}function S4e(t,n){if(1&t){const e=ye();c(0,"ngb-pagination",22),z("pageChange",function(o){return W(e),T().doingPage=o}),u()}if(2&t){const e=T();v("collectionSize",e.doing.length)("page",e.doingPage)("pageSize",e.doingPageSize)}}function E4e(t,n){if(1&t){const e=ye();c(0,"button",20),z("click",function(){W(e);const o=T().$implicit;return T().viewNode.emit(o.nodeId)}),g(1," Show development step in process "),u()}}function T4e(t,n){if(1&t){const e=ye();c(0,"div",12)(1,"div",13)(2,"div",14),g(3),u(),k(4,E4e,2,0,"button",15),c(5,"button",20),z("click",function(){const r=W(e).$implicit;return T().viewArtifacts.emit(r.executionId)}),g(6," View created artifact versions "),u(),c(7,"button",20),z("click",function(){const r=W(e).$implicit;return T().viewComments.emit(r.executionId)}),g(8," View Comments "),u()()()}if(2&t){const e=n.$implicit;p(3),_t(e.methodName),p(1),v("ngIf",e.nodeId)}}function P4e(t,n){if(1&t){const e=ye();c(0,"ngb-pagination",22),z("pageChange",function(o){return W(e),T().donePage=o}),u()}if(2&t){const e=T();v("collectionSize",e.done.length)("page",e.donePage)("pageSize",e.donePageSize)}}let D4e=(()=>{class t{constructor(){this.addTodo=new je,this.editTodo=new je,this.removeTodo=new je,this.viewNode=new je,this.showNodeInfo=new je,this.showExecutionInfo=new je,this.startNodeExecution=new je,this.startExecution=new je,this.viewExecution=new je,this.viewArtifacts=new je,this.viewComments=new je,this.todoPage=1,this.todoPageSize=4,this.doingPage=1,this.doingPageSize=4,this.donePage=1,this.donePageSize=4}_showInfo(e){e.executionId?this.showExecutionInfo.emit(e.executionId):e.nodeId&&this.showNodeInfo.emit(e.nodeId)}_startExecution(e){e.executionId?this.startExecution.emit(e.executionId):e.nodeId&&this.startNodeExecution.emit(e.nodeId)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-kanban-board"]],inputs:{todo:"todo",doing:"doing",done:"done"},outputs:{addTodo:"addTodo",editTodo:"editTodo",removeTodo:"removeTodo",viewNode:"viewNode",showNodeInfo:"showNodeInfo",showExecutionInfo:"showExecutionInfo",startNodeExecution:"startNodeExecution",startExecution:"startExecution",viewExecution:"viewExecution",viewArtifacts:"viewArtifacts",viewComments:"viewComments"},decls:27,vars:18,consts:[[1,"row","min-height-200-px"],[1,"col","border-right"],[1,"d-flex","justify-content-center"],[1,"flex-1"],[1,"text-center","ml-auto","mr-auto"],[1,"d-flex","flex-1"],[1,"btn","btn-xs","btn-primary","ml-auto",3,"click"],[1,"d-flex","flex-column","align-items-center"],["class","card text-center w-75 my-2",4,"ngFor","ngForOf"],["class","mt-3",3,"collectionSize","page","pageSize","pageChange",4,"ngIf"],[1,"text-center"],[1,"col"],[1,"card","text-center","w-75","my-2"],[1,"card-body"],[1,"card-title","font-weight-bold"],["class","btn btn-xs btn-dark mr-1 mb-1",3,"click",4,"ngIf"],[1,"btn","btn-xs","btn-info","mr-1","mb-1",3,"click"],["class","btn btn-xs btn-warning mr-1 mb-1",3,"click",4,"ngIf"],[1,"btn","btn-xs","btn-warning","mr-1","mb-1",3,"click"],["class","btn btn-xs btn-secondary mb-1",3,"click",4,"ngIf"],[1,"btn","btn-xs","btn-dark","mr-1","mb-1",3,"click"],[1,"btn","btn-xs","btn-secondary","mb-1",3,"click"],[1,"mt-3",3,"collectionSize","page","pageSize","pageChange"],[1,"btn","btn-xs","btn-warning","mb-1",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2),re(3,"div",3),c(4,"h6",4),g(5,"TODO"),u(),c(6,"div",5)(7,"button",6),z("click",function(){return i.addTodo.emit()}),g(8," Add "),u()()(),c(9,"div",7),k(10,w4e,11,4,"div",8),ci(11,"slice"),k(12,x4e,1,3,"ngb-pagination",9),u()(),c(13,"div",1)(14,"h6",10),g(15,"Doing"),u(),c(16,"div",7),k(17,M4e,9,2,"div",8),ci(18,"slice"),k(19,S4e,1,3,"ngb-pagination",9),u()(),c(20,"div",11)(21,"h6",10),g(22,"Done"),u(),c(23,"div",7),k(24,T4e,9,2,"div",8),ci(25,"slice"),k(26,P4e,1,3,"ngb-pagination",9),u()()()),2&e&&(p(10),v("ngForOf",U1(11,6,i.todo,(i.todoPage-1)*i.todoPageSize,i.todoPage*i.todoPageSize)),p(2),v("ngIf",i.todo.length>i.todoPageSize),p(5),v("ngForOf",U1(18,10,i.doing,(i.doingPage-1)*i.doingPageSize,i.doingPage*i.doingPageSize)),p(2),v("ngIf",i.doing.length>i.doingPageSize),p(5),v("ngForOf",U1(25,14,i.done,(i.donePage-1)*i.donePageSize,i.donePage*i.donePageSize)),p(2),v("ngIf",i.done.length>i.donePageSize))},directives:[Lt,nt,qu],pipes:[KD],styles:[""]}),t})(),F4e=(()=>{class t{constructor(e){this.runningProcessService=e,this.addTodo=new je,this.editTodo=new je,this.removeTodo=new je,this.viewNode=new je,this.showInfo=new je,this.startNodeExecution=new je,this.startExecution=new je,this.viewExecution=new je,this.viewArtifacts=new je,this.viewComments=new je,this.todo=[],this.doing=[],this.done=[]}ngOnChanges(e){e.runningProcess&&this.updateBoard(e.runningProcess.currentValue)}_showNodeInfo(e){this.runningProcess.hasProcess()&&this.showInfo.emit(this.runningProcess.process.decisions[e])}_showExecutionInfo(e){const i=this.runningProcess.getTodoMethod(e),o=this.runningProcess.getRunningMethod(e);let r;i?r=i.decision:o&&(r=o.decision),this.showInfo.emit(r)}updateBoard(e){var i=this;return Y(function*(){i.todo=yield i.getTodoList(e),i.doing=i.getDoingList(e),i.done=i.getDoneList(e)})()}getTodoList(e){var i=this;return Y(function*(){const o=[];return o.push(...e.todoMethods),o.push(...(yield i.runningProcessService.getExecutableMethods(e)).map(r=>({nodeId:r.id,methodName:e.process.decisions[r.id].method.name}))),o})()}getDoingList(e){return e.runningMethods}getDoneList(e){return e.executedMethods.slice().reverse()}}return t.\u0275fac=function(e){return new(e||t)(H(to))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-kanban-board"]],inputs:{runningProcess:"runningProcess"},outputs:{addTodo:"addTodo",editTodo:"editTodo",removeTodo:"removeTodo",viewNode:"viewNode",showInfo:"showInfo",startNodeExecution:"startNodeExecution",startExecution:"startExecution",viewExecution:"viewExecution",viewArtifacts:"viewArtifacts",viewComments:"viewComments"},features:[Xt],decls:1,vars:3,consts:[[3,"todo","doing","done","addTodo","editTodo","removeTodo","viewNode","showNodeInfo","showExecutionInfo","startNodeExecution","startExecution","viewExecution","viewArtifacts","viewComments"]],template:function(e,i){1&e&&(c(0,"app-kanban-board",0),z("addTodo",function(r){return i.addTodo.emit(r)})("editTodo",function(r){return i.editTodo.emit(r)})("removeTodo",function(r){return i.removeTodo.emit(r)})("viewNode",function(r){return i.viewNode.emit(r)})("showNodeInfo",function(r){return i._showNodeInfo(r)})("showExecutionInfo",function(r){return i._showExecutionInfo(r)})("startNodeExecution",function(r){return i.startNodeExecution.emit(r)})("startExecution",function(r){return i.startExecution.emit(r)})("viewExecution",function(r){return i.viewExecution.emit(r)})("viewArtifacts",function(r){return i.viewArtifacts.emit(r)})("viewComments",function(r){return i.viewComments.emit(r)}),u()),2&e&&v("todo",i.todo)("doing",i.doing)("done",i.done)},directives:[D4e],styles:[""]}),t})();const A4e=["infoModal"],I4e=["multipleOptionsInfoModal"],k4e=["notCompletelyDefinedModal"],N4e=["selectMethodModal"],R4e=["methodConfigurationModal"],O4e=["methodArtifactsModal"],B4e=["commentsModal"];function L4e(t,n){1&t&&re(0,"app-development-method-summary",16),2&t&&v("decision",T(2).modalDecision)}function j4e(t,n){if(1&t){const e=ye();c(0,"div",10)(1,"h4",11),g(2,"Building Block Info"),u(),c(3,"button",12),z("click",function(){return W(e).dismiss()}),c(4,"span",13),g(5,"\xd7"),u()()(),c(6,"div",14),k(7,L4e,1,1,"app-development-method-summary",15),u()}if(2&t){const e=T();p(7),v("ngIf",null!=e.modalDecision)}}function G4e(t,n){if(1&t){const e=ye();c(0,"div",10)(1,"h4",11),g(2,"Execution Error"),u(),c(3,"button",12),z("click",function(){return W(e).dismiss()}),c(4,"span",13),g(5,"\xd7"),u()()(),c(6,"div",14),g(7," You need to select one of the outgoing flows of the exclusive gateway to specify which path should be taken for the execution. "),u()}}function V4e(t,n){if(1&t&&(c(0,"h4",11),g(1),u()),2&t){const e=T(2);p(1),Be(" Can not execute method ",e.modalToDoMethod.decision.method.name," ")}}function H4e(t,n){if(1&t){const e=ye();c(0,"div",19)(1,"div",20)(2,"button",21),z("click",function(){W(e);const o=T().dismiss,r=T();return o(),r.editToDoMethod(r.modalToDoMethod.executionId)}),g(3," Edit method "),u()()()}}function U4e(t,n){if(1&t){const e=ye();c(0,"div",10),k(1,V4e,2,1,"h4",17),c(2,"button",12),z("click",function(){return W(e).dismiss()}),c(3,"span",13),g(4,"\xd7"),u()()(),c(5,"div",14),g(6," You need to completely define the method before executing it. Edit the method to define it completely. "),u(),k(7,H4e,4,0,"div",18)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalToDoMethod),p(6),v("ngIf",null!=e.modalToDoMethod)}}function z4e(t,n){if(1&t){const e=ye();c(0,"app-development-methods-selection-form",23),z("selectDevelopmentMethod",function(o){return W(e),T(2).addToDoMethod(o)}),u()}if(2&t){const e=T(2);v("allowTypeFilter",!0)("contextSituationalFactors",e.runningProcess.situationalFactors)("developmentMethods",e.modalDevelopmentMethods)}}function q4e(t,n){if(1&t){const e=ye();c(0,"div",10)(1,"h4",11),g(2,"Select Method Building Block to add to TODO"),u(),c(3,"button",12),z("click",function(){return W(e).dismiss()}),c(4,"span",13),g(5,"\xd7"),u()()(),c(6,"div",14),k(7,z4e,1,3,"app-development-methods-selection-form",22),u()}if(2&t){const e=T();p(7),v("ngIf",null!=e.runningProcess)}}function $4e(t,n){if(1&t&&(c(0,"h4",11),g(1),u()),2&t){const e=T(2);p(1),Be(" Configure Building Block ",e.modalToDoMethod.decision.method.name," ")}}function W4e(t,n){if(1&t){const e=ye();St(0),c(1,"div",14)(2,"app-method-info",25,26),z("updateDecisions",function(o){return W(e),T(2).updateDecision(o)}),u()(),c(4,"div",27)(5,"button",28),z("click",function(){return W(e),T().dismiss()}),g(6,"Close"),u(),c(7,"button",29),z("click",function(){W(e);const o=hn(3),r=T().dismiss;return o.update(),r()}),g(8," Update all and finish editing "),u()(),Et()}if(2&t){const e=T(2);p(2),v("runningProcess",e.runningProcess)("contextDomains",e.runningProcess.domains)("contextSituationalFactors",e.runningProcess.situationalFactors)("developmentMethod",e.modalToDoMethod.decision.method)("decision",e.modalToDoMethod.decision)}}function Y4e(t,n){if(1&t){const e=ye();c(0,"div",10),k(1,$4e,2,1,"h4",17),c(2,"button",12),z("click",function(){return W(e).dismiss()}),c(3,"span",13),g(4,"\xd7"),u()()(),k(5,W4e,9,5,"ng-container",24)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalToDoMethod),p(4),v("ngIf",null!=e.runningProcess&&null!=e.modalToDoMethod)}}function X4e(t,n){if(1&t&&(c(0,"h4",11),g(1),u()),2&t){const e=T(2);p(1),Be(" Artifacts of ",e.modalRunningMethodInfo.methodName," ")}}function K4e(t,n){if(1&t){const e=ye();c(0,"div",14)(1,"app-running-process-artifacts",31),z("focusNode",function(o){W(e);const r=T().dismiss;return T().focus(o),r()})("editArtifact",function(o){W(e);const r=T().dismiss;return T().editArtifact(o),r()})("viewArtifactVersion",function(o){W(e);const r=T().dismiss;return T().viewArtifactVersion(o),r()}),u()()}if(2&t){const e=T(2);p(1),v("runningProcess",e.runningProcess)("artifactVersions",e.modalRunningMethodInfoArtifacts)("allowChanges",!1)}}function Q4e(t,n){if(1&t){const e=ye();c(0,"div",10),k(1,X4e,2,1,"h4",17),c(2,"button",12),z("click",function(){return W(e).dismiss()}),c(3,"span",13),g(4,"\xd7"),u()()(),k(5,K4e,2,3,"div",30)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalRunningMethodInfo),p(4),v("ngIf",null!=e.modalRunningMethodInfoArtifacts&&null!=e.runningProcess)}}function J4e(t,n){if(1&t&&(c(0,"h4",11),g(1),u()),2&t){const e=T(2);p(1),Be(" Comments of ",e.modalRunningMethodInfo.methodName," ")}}function Z4e(t,n){1&t&&re(0,"app-running-process-method-comments",33),2&t&&v("comments",T(2).modalRunningMethodInfo.comments)("editable",!1)}function e5e(t,n){if(1&t){const e=ye();c(0,"div",10),k(1,J4e,2,1,"h4",17),c(2,"button",12),z("click",function(){return W(e).dismiss()}),c(3,"span",13),g(4,"\xd7"),u()()(),c(5,"div",14),k(6,Z4e,1,2,"app-running-process-method-comments",32),u()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalRunningMethodInfo),p(5),v("ngIf",null!=e.modalRunningMethodInfo)}}const t5e=function(){return[]};function n5e(t,n){if(1&t&&(c(0,"nav",34)(1,"a",35),g(2),ci(3,"runningProcessName"),u()()),2&t){const e=T();p(1),v("routerLink",Bt(4,t5e)),p(1),_t(Io(3,2,e.runningProcess))}}const i5e=function(){return["/","runningprocess"]};function o5e(t,n){if(1&t&&(c(0,"main",36)(1,"div",37)(2,"p"),g(3),u(),c(4,"p",38)(5,"a",39),g(6,"Go back to overview of running methods"),u()()()()),2&t){const e=T();p(3),Be(" This running method does not exist. Reason: ",e.runningProcessLoaderService.errorReason,". "),p(2),v("routerLink",Bt(2,i5e))}}function r5e(t,n){1&t&&re(0,"app-running-process-viewer",48),2&t&&v("runningProcess",T(2).runningProcess)}function s5e(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T().$implicit;p(1),Be(" ",e.businessObject.name,"")}}function a5e(t,n){if(1&t){const e=ye();c(0,"li",51)(1,"div",52)(2,"h5"),g(3," Exclusive Gateway"),k(4,s5e,2,1,"span",24),u(),c(5,"div",20)(6,"button",53),z("click",function(){const r=W(e).$implicit;return T(3).focus(r.id)}),g(7," View "),u(),c(8,"button",54),z("click",function(){const r=W(e).$implicit;return T(3).executeStep(r.id)}),g(9," Next Step "),u()()()()}if(2&t){const e=n.$implicit;p(4),v("ngIf",e.businessObject&&e.businessObject.name)}}function l5e(t,n){if(1&t&&(c(0,"div",43)(1,"h6",44),g(2,"Decision"),u(),c(3,"ul",49),k(4,a5e,10,1,"li",50),u()()),2&t){const e=T(2);p(4),v("ngForOf",e.decisions)}}function c5e(t,n){if(1&t){const e=ye();c(0,"button",59),z("click",function(){return W(e),T(3).openRequestContextChangeModal()}),g(1," Request context change "),u()}}function u5e(t,n){if(1&t&&(c(0,"li",51),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e.name," ")}}function d5e(t,n){if(1&t&&(c(0,"li",51),g(1),u()),2&t){const e=n.$implicit;p(1),Xi(" ",e.element.factor.name,": ",e.element.value," ")}}function p5e(t,n){if(1&t&&(c(0,"div",43)(1,"div",55)(2,"h6",56),g(3,"Context"),u(),k(4,c5e,2,0,"button",57),u(),c(5,"div",43)(6,"h6",44),g(7,"Domain"),u(),c(8,"ul",49),k(9,u5e,2,1,"li",50),u()(),c(10,"div",58)(11,"h6",44),g(12,"Situational Factors"),u(),c(13,"ul",49),k(14,d5e,2,2,"li",50),u()()()),2&t){const e=T(2);p(4),v("ngIf",e.runningProcess.hasProcess()),p(5),v("ngForOf",e.runningProcess.domains),p(5),v("ngForOf",e.runningProcess.situationalFactors)}}function m5e(t,n){if(1&t){const e=ye();c(0,"app-context-edit",60),z("updateDomains",function(o){return W(e),T(2).updateDomains(o)})("updateSituationalFactors",function(o){return W(e),T(2).updateSituationalFactors(o)}),u()}if(2&t){const e=T(2);v("domains",e.runningProcess.domains)("situationalFactors",e.runningProcess.situationalFactors)}}function f5e(t,n){if(1&t){const e=ye();c(0,"main",36),k(1,r5e,1,1,"app-running-process-viewer",40),c(2,"div",41),k(3,l5e,5,1,"div",42),c(4,"div",43)(5,"h6",44),g(6,"Kanban Board"),u(),c(7,"app-running-process-kanban-board",45),z("addTodo",function(){return W(e),T().openSelectMethodModal()})("editTodo",function(o){return W(e),T().editToDoMethod(o)})("removeTodo",function(o){return W(e),T().removeMethod(o)})("viewNode",function(o){return W(e),T().focus(o)})("showInfo",function(o){return W(e),T().openInfoModal(o)})("startNodeExecution",function(o){return W(e),T().startNodeExecution(o)})("startExecution",function(o){return W(e),T().startExecution(o)})("viewExecution",function(o){return W(e),T().viewExecution(o)})("viewArtifacts",function(o){return W(e),T().viewArtifacts(o)})("viewComments",function(o){return W(e),T().openCommentsModal(o)}),u()(),c(8,"app-running-process-artifacts",46),z("focusNode",function(o){return W(e),T().focus(o)})("importArtifact",function(o){return W(e),T().importArtifact(o)})("exportArtifact",function(o){return W(e),T().exportArtifact(o.identifier,o.artifact)})("renameArtifact",function(o){return W(e),T().renameArtifact(o.identifier,o.artifact)})("viewArtifactVersion",function(o){return W(e),T().viewArtifactVersion(o)})("editArtifact",function(o){return W(e),T().editArtifact(o)})("addArtifact",function(o){return W(e),T().addArtifact(o.artifact,o.output)})("createArtifact",function(o){return W(e),T().createArtifact(o)})("removeArtifact",function(o){return W(e),T().removeArtifact(o)}),u(),k(9,p5e,15,3,"div",42),k(10,m5e,1,2,"app-context-edit",47),u()()}if(2&t){const e=T();p(1),v("ngIf",e.runningProcess.hasProcess()),p(2),v("ngIf",e.decisions.length>0),p(4),v("runningProcess",e.runningProcess),p(1),v("runningProcess",e.runningProcess),p(1),v("ngIf",e.runningProcess.hasProcess()),p(1),v("ngIf",!e.runningProcess.hasProcess())}}let h5e=(()=>{class t{constructor(e,i,o,r,s,a,l,d,h,w){this.bmProcessService=e,this.concreteArtifactService=i,this.developmentMethodService=o,this.metaModelService=r,this.modalService=s,this.outputArtifactMappingFormService=a,this.route=l,this.router=d,this.runningProcessLoaderService=h,this.runningProcessService=w,this.decisions=[]}ngOnInit(){this.runningProcessLoaderService.loaded.subscribe(()=>this.afterReload(this.runningProcess))}viewArtifactVersion(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessService.viewInternalArtifact(i.runningProcess._id,e.id))})()}editArtifact(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessService.editInternalArtifact(i.runningProcess,e))})()}openInfoModal(e){this.modalDecision=e,this.modalReference=this.modalService.open(this.infoModal,{size:"lg"})}openSelectMethodModal(){var e=this;return Y(function*(){null!=e.runningProcess&&(e.modalReference=e.modalService.open(e.selectMethodModal,{size:"lg",beforeDismiss:()=>(e.modalDevelopmentMethods=void 0,!0)}),e.modalDevelopmentMethods=yield e.developmentMethodService.getSortedList(e.runningProcess.situationalFactors.map(i=>i.element)))})()}addToDoMethod(e){var i=this;return Y(function*(){var o,r;if(null!=i.runningProcess){const s=new fd(e,void 0);if(!i.developmentMethodService.isCorrectlyDefined(s))return void(i.modalService.open(L3).componentInstance.developmentMethod=s);i.modalDevelopmentMethods=void 0,null===(o=i.modalReference)||void 0===o||o.close(),yield null===(r=i.modalReference)||void 0===r?void 0:r.result;const a=new yc(void 0,{method:s}),l=yield i.runningProcessService.addMethod(i.runningProcess._id,a),d=yield i.runningProcessService.get(i.runningProcess._id);i.modalToDoMethod=d.getTodoMethod(l),i.modalReference=i.modalService.open(i.methodConfigurationModal,{size:"lg"})}})()}editToDoMethod(e){var i;this.modalToDoMethod=null===(i=this.runningProcess)||void 0===i?void 0:i.getTodoMethod(e),this.modalReference=this.modalService.open(this.methodConfigurationModal,{size:"lg"})}updateDecision(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.modalToDoMethod&&(yield i.runningProcessService.updateMethodDecision(i.runningProcess._id,i.modalToDoMethod.executionId,e))})()}executeStep(e){var i=this;return Y(function*(){if(null!=i.runningProcess&&i.runningProcess.hasProcess()){const o=i.runningProcessViewer.getSelectedFlow();try{yield i.runningProcessService.executeStep(i.runningProcess,e,o?o.id:void 0);const r=yield i.runningProcessService.get(i.runningProcess._id);yield i.runningProcessService.jumpSteps(r)}catch(r){r.message===na.MULTIPLE_OPTIONS?(i.focus(e),i.modalReference=i.modalService.open(i.multipleOptionsInfoModal,{size:"lg"})):console.log(r)}}})()}removeMethod(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessService.removeMethod(i.runningProcess,e))})()}viewExecution(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.router.navigate(["runningprocess","runningprocessview",i.runningProcess._id,"method",e]))})()}viewArtifacts(e){var i,o;this.modalRunningMethodInfo=null===(i=this.runningProcess)||void 0===i?void 0:i.getExecutedMethod(e),this.modalRunningMethodInfoArtifacts=null===(o=this.runningProcess)||void 0===o?void 0:o.getArtifactsOfExecutedMethod(e),this.modalReference=this.modalService.open(this.methodArtifactsModal,{size:"lg"})}focus(e){this.runningProcessViewer.focus(e)}startNodeExecution(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessService.startMethodExecution(i.runningProcess._id,e))})()}startExecution(e){var i=this;return Y(function*(){if(null!=i.runningProcess){const o=i.runningProcess.getTodoMethod(e);if(null!=o){if(!o.decision.isComplete()||!i.bmProcessService.checkDecisionStepArtifacts(o.decision))return i.modalToDoMethod=o,void(i.modalReference=i.modalService.open(i.notCompletelyDefinedModal,{size:"lg"}));yield i.runningProcessService.startTodoMethodExecution(i.runningProcess._id,e)}}})()}openCommentsModal(e){null!=this.runningProcess&&(this.modalRunningMethodInfo=this.runningProcess.getMethod(e),this.modalReference=this.modalService.open(this.commentsModal,{size:"lg"}))}exportArtifact(e,i){var o=this;return Y(function*(){null!=o.runningProcess&&(i=yield o.concreteArtifactService.export(e,i,o.runningProcess.name),yield o.router.navigate(["/","concreteArtifacts","detail",i._id]))})()}importArtifact(e){var i=this;return Y(function*(){if(null!=i.runningProcess){const o=yield i.concreteArtifactService.get(e),r=yield i.concreteArtifactService.copy(o);yield i.runningProcessService.importArtifact(i.runningProcess._id,r)}})()}renameArtifact(e,i){var o=this;return Y(function*(){null!=o.runningProcess&&(yield o.runningProcessService.renameArtifact(o.runningProcess,i,e))})()}removeArtifact(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessService.removeArtifact(i.runningProcess._id,e._id))})()}addArtifact(e,i){var o=this;return Y(function*(){null!=o.runningProcess&&(yield o.runningProcessService.addArtifact(o.runningProcess._id,e,i))})()}createArtifact(e){null!=this.runningProcess&&this.runningProcessService.createInternalArtifact(this.runningProcess._id,e)}openRequestContextChangeModal(){var e=this;return Y(function*(){if(null!=e.runningProcess){const i=e.modalService.open(o3e,{size:"lg"});e.modalReference=i;const o=i.componentInstance;o.domains=e.runningProcess.domains,o.situationalFactors=e.runningProcess.situationalFactors,o.requestContextChange.subscribe(r=>{e.requestContextChange(r.comment,r.domains,r.situationalFactors),i.close()})}})()}requestContextChange(e,i,o){var r=this;return Y(function*(){null!=r.runningProcess&&r.runningProcess.hasProcess()&&(yield r.runningProcessService.setContextChange(r.runningProcess._id,e,i,o),yield r.router.navigate(["/","runningprocess"]))})()}updateDomains(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessService.updateDomains(i.runningProcess._id,e))})()}updateSituationalFactors(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessService.updateSituationalFactors(i.runningProcess._id,e))})()}afterReload(e){var i=this;return Y(function*(){i.decisions=yield i.runningProcessService.getExecutableDecisionNodes(e),null!=i.modalToDoMethod&&(i.modalToDoMethod=e.getTodoMethod(i.modalToDoMethod.executionId))})()}get runningProcess(){return this.runningProcessLoaderService.runningProcess}}return t.\u0275fac=function(e){return new(e||t)(H(Na),H(fp),H(dl),H(Zl),H(jn),H(Y0),H(Jn),H(oi),H(H_),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-running-process"]],viewQuery:function(e,i){if(1&e&&(Ft(W0,5),Ft(A4e,7),Ft(I4e,7),Ft(k4e,7),Ft(N4e,7),Ft(R4e,7),Ft(O4e,7),Ft(B4e,7)),2&e){let o;bt(o=yt())&&(i.runningProcessViewer=o.first),bt(o=yt())&&(i.infoModal=o.first),bt(o=yt())&&(i.multipleOptionsInfoModal=o.first),bt(o=yt())&&(i.notCompletelyDefinedModal=o.first),bt(o=yt())&&(i.selectMethodModal=o.first),bt(o=yt())&&(i.methodConfigurationModal=o.first),bt(o=yt())&&(i.methodArtifactsModal=o.first),bt(o=yt())&&(i.commentsModal=o.first)}},features:[Tt([H_])],decls:18,vars:3,consts:[["infoModal",""],["multipleOptionsInfoModal",""],["notCompletelyDefinedModal",""],["selectMethodModal",""],["methodConfigurationModal",""],["methodArtifactsModal",""],["commentsModal",""],[1,"nav-scroller","bg-white","shadow-sm"],["class","nav nav-underline",4,"ngIf"],["role","main",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"decision",4,"ngIf"],[3,"decision"],["class","modal-title",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-baseline"],[1,"btn","btn-primary",3,"click"],[3,"allowTypeFilter","contextSituationalFactors","developmentMethods","selectDevelopmentMethod",4,"ngIf"],[3,"allowTypeFilter","contextSituationalFactors","developmentMethods","selectDevelopmentMethod"],[4,"ngIf"],[3,"runningProcess","contextDomains","contextSituationalFactors","developmentMethod","decision","updateDecisions"],["methodInfo",""],[1,"modal-footer","d-flex","align-items-baseline"],[1,"btn","btn-secondary",3,"click"],[1,"ml-auto","btn","btn-primary",3,"click"],["class","modal-body",4,"ngIf"],[3,"runningProcess","artifactVersions","allowChanges","focusNode","editArtifact","viewArtifactVersion"],[3,"comments","editable",4,"ngIf"],[3,"comments","editable"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main"],[1,"alert","alert-info","container","my-3"],[1,"mb-0"],[3,"routerLink"],[3,"runningProcess",4,"ngIf"],[1,"container"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[3,"runningProcess","addTodo","editTodo","removeTodo","viewNode","showInfo","startNodeExecution","startExecution","viewExecution","viewArtifacts","viewComments"],[3,"runningProcess","focusNode","importArtifact","exportArtifact","renameArtifact","viewArtifactVersion","editArtifact","addArtifact","createArtifact","removeArtifact"],[3,"domains","situationalFactors","updateDomains","updateSituationalFactors",4,"ngIf"],[3,"runningProcess"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-between","align-items-baseline"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-xs",3,"click"],[1,"d-flex","align-items-baseline","justify-content-between","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],["class","btn btn-xs btn-dark",3,"click",4,"ngIf"],[1,"mt-3","p-3","bg-white","rounded","shadow-sm"],[1,"btn","btn-xs","btn-dark",3,"click"],[3,"domains","situationalFactors","updateDomains","updateSituationalFactors"]],template:function(e,i){1&e&&(k(0,j4e,8,1,"ng-template",null,0,$t),k(2,G4e,8,0,"ng-template",null,1,$t),k(4,U4e,8,2,"ng-template",null,2,$t),k(6,q4e,8,1,"ng-template",null,3,$t),k(8,Y4e,6,2,"ng-template",null,4,$t),k(10,Q4e,6,2,"ng-template",null,5,$t),k(12,e5e,7,2,"ng-template",null,6,$t),c(14,"div",7),k(15,n5e,4,5,"nav",8),u(),k(16,o5e,7,3,"main",9),k(17,f5e,11,6,"main",9)),2&e&&(p(15),v("ngIf",i.runningProcess),p(1),v("ngIf",i.runningProcessLoaderService.error&&404===i.runningProcessLoaderService.errorStatus),p(1),v("ngIf",i.runningProcess))},directives:[nt,O0,Wj,Xj,U3,Ts,gn,W0,Lt,F4e,pp],pipes:[dp],styles:[""]}),t})(),hG=(()=>{class t extends H_{constructor(e,i){super(e,i),this.loaded.subscribe(()=>this.loadRunningMethod())}initParams(e){var i;this.executionId=null!==(i=e.get("executionId"))&&void 0!==i?i:void 0,super.initParams(e)}loadRunningMethod(){var e;this.runningMethod=null===(e=this.runningProcess)||void 0===e?void 0:e.getRunningMethod(this.executionId)}}return t.\u0275fac=function(e){return new(e||t)(Ve(to),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function g5e(t,n){1&t&&(c(0,"div",3),g(1,"Loading..."),u())}function _5e(t,n){if(1&t){const e=ye();St(0),c(1,"div",3),g(2," This building block has no input artifacts. "),u(),c(3,"div",4)(4,"button",5),z("click",function(){return W(e),T().nextStep()}),g(5," Confirm "),u()(),Et()}}function v5e(t,n){1&t&&(c(0,"option",17),g(1," None "),u()),2&t&&v("ngValue",null)}function b5e(t,n){if(1&t&&(c(0,"option",17),g(1),u()),2&t){const e=T(),o=e.$implicit;v("ngValue",e.index),p(1),Be(" ",o.identifier," ")}}function y5e(t,n){if(1&t&&(St(0),k(1,b5e,2,2,"option",15),Et()),2&t){const e=n.$implicit,i=T().$implicit;p(1),v("ngIf",e.artifact._id===i.element._id)}}function w5e(t,n){if(1&t&&(c(0,"div",10)(1,"h6",11),g(2),ci(3,"optional"),ci(4,"list"),u(),c(5,"div",12)(6,"label",13),g(7,"Artifact"),u(),c(8,"select",14),k(9,v5e,2,1,"option",15),k(10,y5e,2,1,"ng-container",16),u()()()),2&t){const e=n.$implicit,i=n.index,o=T(2);pa("formGroupName",i),p(2),Xi(" Artifact Type: ",As(3,5,e.element.name,e.optional)," (",Io(4,8,e.element.list),") "),p(7),v("ngIf",e.optional),p(1),v("ngForOf",o.runningProcess.artifacts)}}function x5e(t,n){if(1&t){const e=ye();c(0,"form",6),z("ngSubmit",function(){return W(e),T().submitForm()}),c(1,"div",7),k(2,w5e,11,10,"div",8),u(),c(3,"div",4)(4,"button",9),g(5," Confirm "),u()()()}if(2&t){const e=T();v("formGroup",e.form),p(2),v("ngForOf",e.inputArtifacts),p(2),v("disabled",!e.form.valid)}}let C5e=(()=>{class t{constructor(e){this.fb=e,this.selectInputArtifacts=new je,this.form=this.fb.group({inputArtifacts:this.fb.array([])})}ngOnChanges(e){e.decision&&(this.inputArtifacts=e.decision.currentValue.inputArtifacts.getSelectedElementsOptional(),this.loadForm(this.inputArtifacts))}loadForm(e){const i=e.map(o=>this.fb.group({artifact:this.fb.control(null,o.optional?void 0:ft.required)}));this.form.setControl("inputArtifacts",this.fb.array(i))}submitForm(){this.selectInputArtifacts.emit(this.formArray)}nextStep(){this.selectInputArtifacts.emit(this.fb.array([]))}get formArray(){return this.form.get("inputArtifacts")}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-select-input-artifacts"]],inputs:{runningProcess:"runningProcess",decision:"decision"},outputs:{selectInputArtifacts:"selectInputArtifacts"},features:[Xt],decls:3,vars:3,consts:[["class","alert alert-info",4,"ngIf"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-info"],[1,"d-flex"],["type","button",1,"btn","btn-block","btn-primary",3,"click"],[3,"formGroup","ngSubmit"],["formArrayName","inputArtifacts"],["class","my-3 p-3 bg-white rounded shadow-sm",3,"formGroupName",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-block","btn-primary",3,"disabled"],[1,"my-3","p-3","bg-white","rounded","shadow-sm",3,"formGroupName"],[1,"border-bottom","border-gray","pb-2"],[1,"form-group"],["for","artifact"],["id","artifact","formControlName","artifact",1,"form-control"],[3,"ngValue",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,i){1&e&&(k(0,g5e,2,0,"div",0),k(1,_5e,6,0,"ng-container",1),k(2,x5e,6,3,"form",2)),2&e&&(v("ngIf",null==i.inputArtifacts),p(1),v("ngIf",null!=i.inputArtifacts&&0===i.inputArtifacts.length),p(1),v("ngIf",null!=i.inputArtifacts&&i.inputArtifacts.length>0))},directives:[nt,nn,Wt,Vt,vo,Lt,kr,ki,Jt,Zt,Vi,Hi],pipes:[k_,O_],styles:[""]}),t})();function M5e(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T().$implicit;p(1),Xi("",e.module," \u2013 ",e.method,"")}}function S5e(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T().$implicit;p(1),_t(e.name)}}function E5e(t,n){1&t&&(c(0,"span",12),g(1," (step already executed)"),u())}function T5e(t,n){1&t&&(c(0,"span",12),g(1," (step to execute)"),u())}function P5e(t,n){if(1&t&&(c(0,"p",7)(1,"span",13),g(2),u()()),2&t){const e=T().index,i=T();p(2),_t(i.getDescription(e))}}function D5e(t,n){if(1&t&&(c(0,"li",5)(1,"div",6)(2,"h5",7),g(3),u(),c(4,"div",8)(5,"h5"),k(6,M5e,2,2,"span",9),k(7,S5e,2,1,"span",9),k(8,E5e,2,0,"span",10),k(9,T5e,2,0,"span",10),u(),k(10,P5e,3,1,"p",11),u()()()),2&t){const e=n.$implicit,i=n.index,o=T();p(2),Ht("text-success",i<o.currentStepNumber)("text-warning",i===o.currentStepNumber)("m-0",!o.hasDescription(i)),p(1),Be(" ",i+1,". "),p(2),Ht("text-success",i<o.currentStepNumber)("text-warning",i===o.currentStepNumber)("m-0",!o.hasDescription(i)),p(1),v("ngIf",o.isMethodExecutionStep(e)),p(1),v("ngIf",!o.isMethodExecutionStep(e)),p(1),v("ngIf",i<o.currentStepNumber),p(1),v("ngIf",i===o.currentStepNumber),p(1),v("ngIf",o.hasDescription(i))}}function F5e(t,n){if(1&t){const e=ye();c(0,"button",14),z("click",function(){return W(e),T().executeStep.emit()}),g(1," Execute next step "),u()}}let A5e=(()=>{class t{constructor(e){this.moduleService=e,this.executeStep=new je,this.executionStepMethods=[]}ngOnChanges(e){e.executionSteps&&(this.executionStepMethods=e.executionSteps.currentValue.map(o=>{if(this.isMethodExecutionStep(o))return this.moduleService.getModuleMethod(o.module,o.method)}))}hasDescription(e){var i;const o=this.executionSteps[e];if(this.isMethodExecutionStep(o)){const r=null===(i=this.executionStepMethods[e])||void 0===i?void 0:i.description;return null!=r&&""!=r}return""!=o.description}getDescription(e){var i,o;const r=this.executionSteps[e];return this.isMethodExecutionStep(r)?null!==(o=null===(i=this.executionStepMethods[e])||void 0===i?void 0:i.description)&&void 0!==o?o:"":r.description}isMethodExecutionStep(e){return ho(e)}}return t.\u0275fac=function(e){return new(e||t)(H(zr))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-method-execution-steps"]],inputs:{executionSteps:"executionSteps",currentStepNumber:"currentStepNumber",hasStepsLeft:"hasStepsLeft"},outputs:{executeStep:"executeStep"},features:[Xt],decls:6,vars:2,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["class","btn btn-block btn-primary mt-3",3,"click",4,"ngIf"],[1,"list-group-item"],[1,"d-flex"],[1,"mb-0"],[1,"ml-2"],[4,"ngIf"],["class","sr-only",4,"ngIf"],["class","mb-0",4,"ngIf"],[1,"sr-only"],[1,"show-new-lines"],[1,"btn","btn-block","btn-primary","mt-3",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2,"Execution Steps"),u(),c(3,"ul",2),k(4,D5e,11,18,"li",3),u(),k(5,F5e,2,0,"button",4),u()),2&e&&(p(4),v("ngForOf",i.executionSteps),p(1),v("ngIf",i.hasStepsLeft))},directives:[Lt,nt],styles:[""]}),t})();function I5e(t,n){1&t&&(St(0),c(1,"div",2),g(2," This building block has no output artifacts. "),u(),Et())}function k5e(t,n){if(1&t&&re(0,"app-running-process-select-output-artifact",8),2&t){const e=n.$implicit,i=n.index,o=T(2);pa("formGroupName",i),v("artifactOptional",e)("internalArtifact",o.internalOutputArtifacts[i])("processArtifacts",o.runningProcess.artifacts)}}function N5e(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}function R5e(t,n){if(1&t){const e=ye();c(0,"form",3),z("ngSubmit",function(){return W(e),T().submitForm()}),c(1,"div",4),k(2,k5e,1,4,"app-running-process-select-output-artifact",5),u(),c(3,"div",6)(4,"button",7),g(5," Update Artifacts"),k(6,N5e,2,0,"span",0),u()()()}if(2&t){const e=T();v("formGroup",e.form),p(2),v("ngForOf",e.outputArtifacts),p(2),Ht("btn-dark",!e.changed)("btn-primary",e.changed),v("disabled",!e.form.valid),p(2),v("ngIf",e.changed)}}let O5e=(()=>{class t{constructor(e,i){this.fb=e,this.outputArtifactMappingFormService=i,this.updateOutputArtifacts=new je,this.outputArtifacts=[],this.internalOutputArtifacts=[],this.changed=!1}ngOnChanges(e){let i=!1;if(e.runningMethod){const o=e.runningMethod.previousValue,r=e.runningMethod.currentValue;(null==o||!this.equals(o.outputArtifacts,r.outputArtifacts))&&(i=!0)}(e.decision||i)&&(this.outputArtifacts=e.decision.currentValue.outputArtifacts.getSelectedElementsOptional(),this.internalOutputArtifacts=this.runningMethod.getOutputArtifacts(),this.loadForm(this.outputArtifacts,this.runningMethod.outputArtifacts))}ngOnDestroy(){null!=this.changeSubscription&&(this.changeSubscription.unsubscribe(),this.changeSubscription=void 0)}loadForm(e,i){null!=this.changeSubscription&&(this.changeSubscription.unsubscribe(),this.changeSubscription=void 0),this.form=this.outputArtifactMappingFormService.createForm(e,i),this.changed=null==i,this.changeSubscription=this.formArray.valueChanges.pipe($i(300),un(o=>this.changed=!this.equals(this.outputArtifactMappingFormService.get(o),this.runningMethod.outputArtifacts))).subscribe()}submitForm(){this.updateOutputArtifacts.emit(this.formArray)}get formArray(){return this.form.get("outputArtifacts")}showNotes(e,i){if(e.internalArtifact)return!1;const o=this.formArray.at(i).value;return!!o.isDefinition||null!=o.artifact}equals(e,i){return fv(e,i,(o,r)=>{if(null==o&&null==r)return!0;if(null==o||null==r||o.isDefinition!==r.isDefinition||o.data.type!==r.data.type)return!1;if(o.isDefinition){if(o.artifactName!==r.artifactName)return!1}else if(o.artifact!==r.artifact)return!1;return o.data.type!==go.STRING||o.data.data===r.data.data})}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(Y0))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-select-output-artifacts"]],inputs:{runningProcess:"runningProcess",runningMethod:"runningMethod",decision:"decision"},outputs:{updateOutputArtifacts:"updateOutputArtifacts"},features:[Xt],decls:2,vars:2,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-info"],[3,"formGroup","ngSubmit"],["formArrayName","outputArtifacts"],[3,"formGroupName","artifactOptional","internalArtifact","processArtifacts",4,"ngFor","ngForOf"],[1,"d-flex"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[3,"formGroupName","artifactOptional","internalArtifact","processArtifacts"]],template:function(e,i){1&e&&(k(0,I5e,3,0,"ng-container",0),k(1,R5e,7,8,"form",1)),2&e&&(v("ngIf",0===i.outputArtifacts.length),p(1),v("ngIf",i.outputArtifacts.length>0))},directives:[nt,nn,Wt,Vt,vo,Lt,mG,kr],styles:[""]}),t})();const B5e=function(){return[]};function L5e(t,n){if(1&t&&(c(0,"a",6),g(1),u()),2&t){const e=T(2);v("routerLink",Bt(2,B5e)),p(1),Be(" ",e.runningMethod.methodName," ")}}const gG=function(t){return["/","runningprocess","runningprocessview",t]};function j5e(t,n){if(1&t&&(c(0,"nav",3)(1,"a",4),g(2),ci(3,"runningProcessName"),u(),k(4,L5e,2,3,"a",5),u()),2&t){const e=T();p(1),v("routerLink",Fn(5,gG,e.runningProcess._id)),p(1),Be(" ",Io(3,3,e.runningProcess)," "),p(2),v("ngIf",e.runningMethod)}}const G5e=function(){return["/","runningprocess"]};function V5e(t,n){if(1&t&&(c(0,"main",7)(1,"div",8)(2,"p"),g(3),u(),c(4,"p",9)(5,"a",10),g(6," Go back to overview of running methods "),u()()()()),2&t){const e=T();p(3),Be("This running method does not exist. Reason: ",e.errorReason,"."),p(2),v("routerLink",Bt(2,G5e))}}function H5e(t,n){if(1&t&&(c(0,"main",7)(1,"div",8)(2,"p"),g(3,"This development step does not exist or is not executed."),u(),c(4,"p",9)(5,"a",10),g(6," Go back to kanban board of running method "),u()()()()),2&t){const e=T();p(5),v("routerLink",Fn(1,gG,e.runningProcess._id))}}function U5e(t,n){1&t&&(c(0,"span",24),g(1," (active)"),u())}function z5e(t,n){1&t&&(c(0,"span",24),g(1," (active)"),u())}function q5e(t,n){if(1&t&&(c(0,"li",18),g(1," Execute Development Step"),k(2,z5e,2,0,"span",19),u()),2&t){const e=T(2);Ht("active",e.getStateExecution()===e.getState())("disabled",e.getState()>e.getStateExecution()),Mi("aria-disabled",e.getState()>e.getStateExecution()),p(2),v("ngIf",e.getStateExecution()===e.getState())}}function $5e(t,n){1&t&&(c(0,"span",24),g(1," (active)"),u())}function W5e(t,n){if(1&t){const e=ye();c(0,"div",12)(1,"h6",25),g(2,"Input Mapping"),u(),c(3,"app-running-process-select-input-artifacts",26),z("selectInputArtifacts",function(o){return W(e),T(2).selectInputArtifacts(o)}),u()()}if(2&t){const e=T(2);p(3),v("decision",e.runningMethod.decision)("runningProcess",e.runningProcess)}}function Y5e(t,n){if(1&t){const e=ye();c(0,"div",12)(1,"h6",25),g(2,"Development Step Overview"),u(),c(3,"app-development-method-summary",27),z("viewArtifactReference",function(o){return W(e),T(2).viewArtifactReference(o.reference,o.api)}),u()()}if(2&t){const e=T(2);p(3),v("decision",e.runningMethod.decision)("inputArtifacts",e.runningMethod.inputArtifacts)}}function X5e(t,n){if(1&t){const e=ye();c(0,"app-running-process-method-execution-steps",28),z("executeStep",function(){return W(e),T(2).executeMethodStep()}),u()}if(2&t){const e=T(2);v("executionSteps",e.runningMethod.decision.method.executionSteps)("currentStepNumber",e.runningMethod.currentStepNumber)("hasStepsLeft",e.runningMethod.hasStepsLeft())}}function K5e(t,n){if(1&t){const e=ye();c(0,"div",12)(1,"h6",25),g(2,"Output Mapping"),u(),c(3,"app-running-process-select-output-artifacts",29),z("updateOutputArtifacts",function(o){return W(e),T(2).updateOutputArtifacts(o)}),u()()}if(2&t){const e=T(2);p(3),v("runningProcess",e.runningProcess)("runningMethod",e.runningMethod)("decision",e.runningMethod.decision)}}function Q5e(t,n){if(1&t){const e=ye();c(0,"div",12)(1,"h6",25),g(2,"Finish execution"),u(),c(3,"button",30),z("click",function(){return W(e),T(2).finishExecution()}),g(4," Finish execution "),u()()}if(2&t){const e=T(2);p(3),v("disabled",!e.runningMethod.hasOutputArtifactsCorrectlyDefined())}}function J5e(t,n){if(1&t){const e=ye();c(0,"main",7)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h6",14),g(5,"Steps"),u(),c(6,"button",15),z("click",function(){return W(e),T().abortMethodExecution()}),g(7," Abort development step execution "),u()(),c(8,"div",16)(9,"ul",17)(10,"li",18),g(11," Select input artifacts"),k(12,U5e,2,0,"span",19),u(),k(13,q5e,3,6,"li",20),c(14,"li",18),g(15," Create/Merge output artifacts"),k(16,$5e,2,0,"span",19),u()()()(),k(17,W5e,4,2,"div",21),k(18,Y5e,4,2,"div",21),k(19,X5e,1,3,"app-running-process-method-execution-steps",22),k(20,K5e,4,3,"div",21),k(21,Q5e,5,1,"div",21),c(22,"div",12)(23,"app-running-process-method-comments",23),z("addComment",function(o){return W(e),T().addComment(o)})("updateComment",function(o){return W(e),T().updateComment(o)})("removeComment",function(o){return W(e),T().removeComment(o)}),u()()()()}if(2&t){const e=T();p(10),Ht("active",e.getStateInputSelection()===e.getState())("disabled",e.getState()>e.getStateInputSelection()),Mi("aria-disabled",e.getState()>e.getStateInputSelection()),p(2),v("ngIf",e.getStateInputSelection()===e.getState()),p(1),v("ngIf",e.runningMethod.hasSteps()),p(1),Ht("active",e.getStateOutputSelection()===e.getState())("disabled",e.getState()>e.getStateOutputSelection()),Mi("aria-disabled",e.getState()>e.getStateOutputSelection()),p(2),v("ngIf",e.getStateOutputSelection()===e.getState()),p(1),v("ngIf",e.getStateInputSelection()===e.getState()),p(1),v("ngIf",e.getState()>e.getStateInputSelection()),p(1),v("ngIf",e.getStateExecution()<=e.getState()&&e.runningMethod.hasSteps()),p(1),v("ngIf",e.getStateExecution()<=e.getState()),p(1),v("ngIf",e.getStateOutputSelection()===e.getState()),p(2),v("comments",e.runningMethod.comments)}}var sc=(()=>(function(t){t[t.LOADING=0]="LOADING",t[t.INPUT_SELECTION=1]="INPUT_SELECTION",t[t.EXECUTION=2]="EXECUTION",t[t.OUTPUT_SELECTION=3]="OUTPUT_SELECTION"}(sc||(sc={})),sc))();let Z5e=(()=>{class t{constructor(e,i,o,r,s){this.outputArtifactMappingFormService=e,this.route=i,this.router=o,this.runningMethodLoaderService=r,this.runningProcessService=s}selectInputArtifacts(e){var i=this;return Y(function*(){if(null!=i.runningProcess&&null!=i.runningMethod){const o=e.value,r=s=>{var a;return{artifact:null!==(a=s.artifact)&&void 0!==a?a:void 0,version:null!=i.runningProcess&&null!=s.artifact?i.runningProcess.artifacts[s.artifact].versions.length-1:void 0}};yield i.runningProcessService.setInputArtifacts(i.runningProcess,i.runningMethod.executionId,o.map(r))}})()}executeMethodStep(){var e=this;return Y(function*(){null!=e.runningProcess&&null!=e.runningMethod&&(yield e.runningProcessService.executeMethodStep(e.runningProcess,e.runningMethod.executionId))})()}updateOutputArtifacts(e){var i=this;return Y(function*(){if(null!=i.runningProcess&&null!=i.runningMethod){const o=i.outputArtifactMappingFormService.get(e.value);yield i.runningProcessService.updateOutputArtifacts(i.runningProcess,i.runningMethod.executionId,o)}})()}finishExecution(){var e=this;return Y(function*(){if(null!=e.runningProcess&&null!=e.runningMethod){let i=e.runningProcess;yield e.runningProcessService.stopMethodExecution(i,e.runningMethod.executionId),i=yield e.runningProcessService.get(i._id),i.hasProcess()&&(yield e.runningProcessService.jumpSteps(i)),yield e.router.navigate(["runningprocess","runningprocessview",i._id])}})()}abortMethodExecution(){var e=this;return Y(function*(){null!=e.runningProcess&&null!=e.runningMethod&&(yield e.runningProcessService.abortMethodExecution(e.runningProcess,e.runningMethod.executionId),yield e.router.navigate(["runningprocess","runningprocessview",e.runningProcess._id]))})()}addComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.addComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}updateComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.updateComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}removeComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.removeComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}viewArtifactReference(e,i){null!=this.runningProcess&&null!=this.runningMethod&&i.view(e,this.router,{referenceType:"Method",runningProcessId:this.runningProcess._id,executionId:this.runningMethod.executionId})}getState(){return null!=this.runningMethod?null==this.runningMethod.inputArtifacts?sc.INPUT_SELECTION:this.runningMethod.hasStepsLeft()?sc.EXECUTION:sc.OUTPUT_SELECTION:sc.LOADING}getStateInputSelection(){return sc.INPUT_SELECTION}getStateExecution(){return sc.EXECUTION}getStateOutputSelection(){return sc.OUTPUT_SELECTION}get error(){return this.runningMethodLoaderService.error}get errorStatus(){return this.runningMethodLoaderService.errorStatus}get errorReason(){return this.runningMethodLoaderService.errorReason}get runningProcess(){return this.runningMethodLoaderService.runningProcess}get runningMethod(){return this.runningMethodLoaderService.runningMethod}isMethodExecutionStep(e){return ho(e)}}return t.\u0275fac=function(e){return new(e||t)(H(Y0),H(Jn),H(oi),H(hG),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-method"]],features:[Tt([hG])],decls:5,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],["class","nav nav-underline",4,"ngIf"],["role","main",4,"ngIf"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main"],[1,"alert","alert-info","container","my-3"],[1,"mb-0"],[3,"routerLink"],[1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"d-flex","align-items-baseline","justify-content-between","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"d-flex"],[1,"list-group","list-group-horizontal","ml-auto","mr-auto"],[1,"list-group-item"],["class","sr-only",4,"ngIf"],["class","list-group-item",3,"active","disabled",4,"ngIf"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[3,"executionSteps","currentStepNumber","hasStepsLeft","executeStep",4,"ngIf"],[3,"comments","addComment","updateComment","removeComment"],[1,"sr-only"],[1,"border-bottom","border-gray","pb-2"],[3,"decision","runningProcess","selectInputArtifacts"],[3,"decision","inputArtifacts","viewArtifactReference"],[3,"executionSteps","currentStepNumber","hasStepsLeft","executeStep"],[3,"runningProcess","runningMethod","decision","updateOutputArtifacts"],["type","button",1,"btn","btn-primary","btn-block",3,"disabled","click"]],template:function(e,i){1&e&&(c(0,"div",0),k(1,j5e,5,7,"nav",1),u(),k(2,V5e,7,3,"main",2),k(3,H5e,7,3,"main",2),k(4,J5e,24,19,"main",2)),2&e&&(p(1),v("ngIf",i.runningProcess),p(1),v("ngIf",i.error&&404===i.errorStatus),p(1),v("ngIf",null!=i.runningProcess&&null==i.runningMethod),p(1),v("ngIf",null!=i.runningProcess&&null!=i.runningMethod))},directives:[nt,gn,C5e,O0,A5e,O5e,Ts],pipes:[dp],styles:[""]}),t})();const eTe=["deleteDomainModal"];function tTe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",21),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteDomain(r.modalDomain),o()}),c(1,"div",22),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be("Delete Domain ",e.modalDomain.name,""),p(1),Be(" You are deleting the domain ",e.modalDomain.name,". This can not be undone. This action will not delete the domain from models that are using it. ")}}function nTe(t,n){1&t&&k(0,tTe,4,2,"app-delete-modal",20),2&t&&v("ngIf",null!=T().modalDomain)}function iTe(t,n){if(1&t){const e=ye();c(0,"li",23)(1,"div"),g(2),u(),c(3,"div")(4,"a",24),g(5," View "),u(),c(6,"button",25),z("click",function(){const r=W(e).$implicit;return T().openDeleteDomainModal(r)}),g(7," Delete "),u()()()}if(2&t){const e=n.$implicit,i=T();p(2),_t(e.name),p(2),v("routerLink",i.getRouterLink(e))}}const oTe=function(){return[]};let rTe=(()=>{class t{constructor(e,i,o){this.fb=e,this.listService=i,this.modalService=o,this.domainForm=this.fb.group({name:["",ft.required]})}addDomain(){var e=this;return Y(function*(){yield e.listService.add(e.domainForm.value),e.domainForm.reset()})()}openDeleteDomainModal(e){this.modalDomain=e,this.modalReference=this.modalService.open(this.deleteDomainModal,{size:"lg"})}deleteDomain(e){var i=this;return Y(function*(){yield i.listService.delete(e._id)})()}getRouterLink(e){return["/","domains","detail",e._id]}get domains(){return this.listService.elements}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(Go),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-domains"]],viewQuery:function(e,i){if(1&e&&Ft(eTe,7),2&e){let o;bt(o=yt())&&(i.deleteDomainModal=o.first)}},features:[Tt([Go,{provide:Vs,useExisting:e_}])],decls:28,vars:8,consts:[["deleteDomainModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Domains",3,"loading","reloading","noResults"],["noResults",""],["results","",1,"list-group"],["class","\n          d-flex\n          list-group-item\n          justify-content-between\n          align-items-baseline\n        ",4,"ngFor","ngForOf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],[1,"d-flex","list-group-item","justify-content-between","align-items-baseline"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"routerLink"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"]],template:function(e,i){1&e&&(k(0,nTe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Domains"),u()()(),c(6,"main",4)(7,"div",5),g(8," Create Domains to use them for canvas building blocks. "),u(),c(9,"app-list-wrapper",6)(10,"div",7),g(11,"No domains defined."),u(),c(12,"ul",8),k(13,iTe,8,2,"li",9),u()(),c(14,"div",10)(15,"h6",11),g(16,"Add Domain"),u(),c(17,"div",12)(18,"form",13),z("ngSubmit",function(){return i.addDomain()}),c(19,"div",14)(20,"label",15),g(21,"Name"),u(),c(22,"div",16),re(23,"input",17),u()(),c(24,"div",14)(25,"div",18)(26,"button",19),g(27," Add "),u()()()()()()()),2&e&&(p(4),v("routerLink",Bt(7,oTe)),p(5),v("loading",i.loading)("reloading",i.reloading)("noResults",i.noResults),p(4),v("ngForOf",i.domains),p(5),v("formGroup",i.domainForm),p(8),v("disabled",!i.domainForm.valid))},directives:[nt,cr,gn,Ss,Lt,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})(),_G=(()=>{class t extends Es{constructor(e,i){super(i),this.domainService=e}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.domainService.getChangesFeed(i).subscribe(()=>this.loadDomain(i)),this.loadDomain(i)):this.domain=void 0}loadDomain(e){var i=this;return Y(function*(){i.domain=yield i.domainService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(e_),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const sTe=function(){return["/","domains"]},aTe=function(){return[]};function lTe(t,n){if(1&t&&(c(0,"nav",3)(1,"a",4),g(2,"Domains"),u(),c(3,"a",5),g(4),u()()),2&t){const e=T();p(1),v("routerLink",Bt(3,sTe)),p(2),v("routerLink",Bt(4,aTe)),p(1),_t(e.domain.name)}}function cTe(t,n){if(1&t){const e=ye();c(0,"main",6)(1,"div",7),g(2," Update a Domain and define its values. "),u(),c(3,"div",8)(4,"h6",9),g(5,"Domain"),u(),c(6,"div",10)(7,"app-description-form",11),z("submitDescriptionForm",function(o){return W(e),T().updateDescription(o.value)}),u()()()()}if(2&t){const e=T();p(7),v("description",e.domain.description)}}let uTe=(()=>{class t{constructor(e,i){this.domainLoaderService=e,this.domainService=i}updateDescription(e){var i=this;return Y(function*(){null!=i.domain&&(yield i.domainService.update(i.domain._id,e))})()}get domain(){return this.domainLoaderService.domain}}return t.\u0275fac=function(e){return new(e||t)(H(_G),H(e_))},t.\u0275cmp=He({type:t,selectors:[["app-domain"]],features:[Tt([_G])],decls:3,vars:2,consts:[[1,"nav-scroller","bg-white","shadow-sm"],["class","nav nav-underline",4,"ngIf"],["class","container",4,"ngIf"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],[1,"nav-link","active",3,"routerLink"],[1,"container"],["role","alert",1,"alert","alert-info","mt-3"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"text-muted"],[3,"description","submitDescriptionForm"]],template:function(e,i){1&e&&(c(0,"div",0),k(1,lTe,5,5,"nav",1),u(),k(2,cTe,8,1,"main",2)),2&e&&(p(1),v("ngIf",i.domain),p(1),v("ngIf",i.domain))},directives:[nt,gn,j_],styles:[""]}),t})();function dTe(t,n){if(1&t&&(c(0,"a",8)(1,"div"),g(2),u(),c(3,"div",9)(4,"div",10),g(5,"View"),u()()()),2&t){const e=n.$implicit;v("routerLink",e.route),p(2),_t(e.name)}}const pTe=function(){return[]};let mTe=(()=>{class t{constructor(){this.methodElementLinks=[{name:"Artifacts",route:["/","artifacts"]},{name:"Situational Factors",route:["/","situationalFactors"]},{name:"Stakeholders",route:["/","stakeholders"]},{name:"Tools",route:["/","tools"]},{name:"Types",route:["/","types"]},{name:"Domains",route:["/","domains"]}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-method-elements"]],decls:10,vars:3,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[1,"my-3","alert","alert-info"],["listTitle","Method Elements"],["results","",1,"list-group"],["class","list-group-item list-group-item-action d-flex",3,"routerLink",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","d-flex",3,"routerLink"],[1,"ml-auto"],[1,"btn","btn-dark","btn-xs"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3,"Method Elements"),u()()(),c(4,"main",3)(5,"div",4),g(6," All method elements, except for tasks, are defined in the presented sections. Tasks are directly defined while creating method building blocks. "),u(),c(7,"app-list-wrapper",5)(8,"div",6),k(9,dTe,6,2,"a",7),u()()()),2&e&&(p(2),v("routerLink",Bt(2,pTe)),p(7),v("ngForOf",i.methodElementLinks))},directives:[gn,Ss,Lt],styles:[""]}),t})();const fTe=["deleteArtifactModal"];function hTe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",11),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteArtifact(r.modalArtifact),o()}),c(1,"div",12),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be("Delete Artifact ",e.modalArtifact.identifier,""),p(1),Be(" You are deleting the concrete artifact ",e.modalArtifact.identifier,". This can not be undone. ")}}function gTe(t,n){1&t&&k(0,hTe,4,2,"app-delete-modal",10),2&t&&v("ngIf",null!=T().modalArtifact)}function _Te(t,n){if(1&t){const e=ye();c(0,"li",13)(1,"div")(2,"span"),g(3),u()(),c(4,"div")(5,"a",14),g(6," View "),u(),c(7,"button",15),z("click",function(){const r=W(e).$implicit;return T().openDeleteArtifactModal(r)}),g(8," Delete "),u()()()}if(2&t){const e=n.$implicit,i=T();p(3),Xi(" ",e.identifier," \u2013 ",e.artifact.name," "),p(2),v("routerLink",i.getRouterLink(e))}}const vTe=function(){return[]};let bTe=(()=>{class t{constructor(e,i){this.listService=e,this.modalService=i}openDeleteArtifactModal(e){this.modalArtifact=e,this.modalReference=this.modalService.open(this.deleteArtifactModal,{size:"lg"})}deleteArtifact(e){var i=this;return Y(function*(){yield i.listService.delete(e._id)})()}getRouterLink(e){return["detail",e._id]}get artifacts(){return this.listService.elements}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(Go),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-concrete-artifacts"]],viewQuery:function(e,i){if(1&e&&Ft(fTe,7),2&e){let o;bt(o=yt())&&(i.deleteArtifactModal=o.first)}},features:[Tt([Go,{provide:Vs,useExisting:fp}])],decls:14,vars:6,consts:[["deleteArtifactModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Concrete Artifacts",3,"reloading","loading","noResults"],["noResults",""],["results","",1,"list-group"],["class","\n          d-flex\n          list-group-item\n          justify-content-between\n          align-items-baseline\n        ",4,"ngFor","ngForOf"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],[1,"d-flex","list-group-item","justify-content-between","align-items-baseline"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"routerLink"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"]],template:function(e,i){1&e&&(k(0,gTe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Concrete Artifacts"),u()()(),c(6,"main",4)(7,"div",5),g(8," Artifacts that can be imported into running methods. "),u(),c(9,"app-list-wrapper",6)(10,"div",7),g(11,"No artifacts available."),u(),c(12,"ul",8),k(13,_Te,9,3,"li",9),u()()()),2&e&&(p(4),v("routerLink",Bt(5,vTe)),p(5),v("reloading",i.reloading)("loading",i.loading)("noResults",i.noResults),p(4),v("ngForOf",i.artifacts))},directives:[nt,cr,gn,Ss,Lt],styles:[""]}),t})(),vG=(()=>{class t extends Es{constructor(e,i){super(i),this.concreteArtifactService=e}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.concreteArtifactService.getChangesFeed(i).subscribe(()=>this.loadArtifact(i)),this.loadArtifact(i)):this.artifact=void 0}loadArtifact(e){var i=this;return Y(function*(){i.artifact=yield i.concreteArtifactService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(fp),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function yTe(t,n){if(1&t&&(c(0,"div",1)(1,"label",12),g(2,"Artifact Meta Model"),u(),c(3,"div",3),re(4,"input",13),u()()),2&t){const e=T();p(4),pa("value",e.artifact.artifact.metaModel.name)}}function wTe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let xTe=(()=>{class t{constructor(e){this.fb=e,this.submitArtifactForm=new je,this.artifactForm=this.fb.group({identifier:["",ft.required]}),this.changed=!1}ngOnInit(){this.changeSubscription=this.artifactForm.valueChanges.pipe($i(300),un(e=>this.changed=this.artifact.identifier!==e.identifier)).subscribe()}ngOnChanges(e){if(e.artifact){const i=e.artifact.currentValue;this.equalArtifacts(e.artifact.previousValue,i)||this.loadForm(i)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitArtifactForm.emit(this.artifactForm)}loadForm(e){this.artifactForm.setValue(e?{identifier:e.identifier}:{identifier:""})}equalArtifacts(e,i){return null==e&&null==i||null!=e&&null!=i&&e.identifier===i.identifier}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-concrete-artifact-form"]],inputs:{artifact:"artifact"},outputs:{submitArtifactForm:"submitArtifactForm"},features:[Xt],decls:17,vars:9,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","identifier",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","identifier","formControlName","identifier",1,"form-control"],["for","artifactName",1,"col-sm-4","col-form-label"],["type","text","readonly","","id","artifactName",1,"form-control-plaintext",3,"value"],["class","form-group form-row",4,"ngIf"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"],["for","artifactMetaModel",1,"col-sm-4","col-form-label"],["type","text","readonly","","id","artifactMetaModel",1,"form-control-plaintext",3,"value"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8,"Artifact Type"),u(),c(9,"div",3),re(10,"input",6),u()(),k(11,yTe,5,1,"div",7),c(12,"div",8)(13,"div",9)(14,"button",10),g(15," Update Artifact"),k(16,wTe,2,0,"span",11),u()()()()),2&e&&(v("formGroup",i.artifactForm),p(10),pa("value",i.artifact.artifact.name),p(1),v("ngIf",i.artifact.artifact.internalArtifact),p(3),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.artifactForm.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,wn,Jt,Zt,nt],styles:[""]}),t})();const CTe=["showArtifactVersionModal"];function MTe(t,n){if(1&t){const e=ye();c(0,"app-concrete-artifact-show-version-modal",4),z("viewArtifactVersion",function(){return W(e),T().viewArtifactVersion()})("editArtifactVersion",function(){return W(e),T().editArtifactVersion()})("dismiss",function(){return W(e).dismiss()}),u()}if(2&t){const e=T();v("artifact",e.artifact)("version",e.modalVersion)}}const STe=function(){return["/","concreteArtifacts"]},bG=function(){return[]};function ETe(t,n){if(1&t&&(c(0,"nav",5)(1,"a",6),g(2," Concrete Artifacts "),u(),c(3,"a",7),g(4),u()()),2&t){const e=T();p(1),v("routerLink",Bt(3,STe)),p(2),v("routerLink",Bt(4,bG)),p(1),_t(e.artifact.identifier)}}function TTe(t,n){if(1&t){const e=ye();c(0,"li",16)(1,"a",17),z("click",function(){const r=W(e).$implicit;return T(3).openShowArtifactVersionModal(r)}),g(2),u(),g(3),ci(4,"date"),u()}if(2&t){const e=n.$implicit,i=n.index;p(1),v("routerLink",Bt(7,bG)),p(1),Be(" Version #",i+1," "),p(1),Xi(" \u2013 Imported from ",e.importName," \u2013 ",As(4,4,e.time,"short")," ")}}function PTe(t,n){if(1&t&&(c(0,"ul",14),k(1,TTe,5,8,"li",15),u()),2&t){const e=T(2);p(1),v("ngForOf",e.artifact.versions)}}function DTe(t,n){if(1&t){const e=ye();c(0,"main",8)(1,"div",9),g(2," Update an artifact and view it. "),u(),c(3,"div",10)(4,"h6",11),g(5,"Artifact"),u(),c(6,"app-concrete-artifact-form",12),z("submitArtifactForm",function(o){return W(e),T().updateIdentifier(o.value.identifier)}),u()(),c(7,"div",10)(8,"h6",11),g(9,"Versions"),u(),k(10,PTe,2,1,"ul",13),u()()}if(2&t){const e=T();p(6),v("artifact",e.artifact),p(4),v("ngIf",e.artifact.versions.length>0)}}let FTe=(()=>{class t{constructor(e,i,o){this.concreteArtifactLoaderService=e,this.concreteArtifactService=i,this.modalService=o}updateIdentifier(e){var i=this;return Y(function*(){null!=i.artifact&&(yield i.concreteArtifactService.updateIdentifier(i.artifact._id,e))})()}openShowArtifactVersionModal(e){this.modalVersion=e,this.modalReference=this.modalService.open(this.showArtifactVersionModal,{size:"lg"})}viewArtifactVersion(){var e=this;return Y(function*(){var i;null!=e.modalVersion&&null!=e.artifact&&(null===(i=e.modalReference)||void 0===i||i.close(),yield e.concreteArtifactService.view(e.artifact._id,e.modalVersion.id))})()}editArtifactVersion(){var e=this;return Y(function*(){var i;null!=e.artifact&&(null===(i=e.modalReference)||void 0===i||i.close(),yield e.concreteArtifactService.edit(e.artifact._id))})()}get artifact(){return this.concreteArtifactLoaderService.artifact}}return t.\u0275fac=function(e){return new(e||t)(H(vG),H(fp),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-concrete-artifact"]],viewQuery:function(e,i){if(1&e&&Ft(CTe,7),2&e){let o;bt(o=yt())&&(i.showArtifactVersionModal=o.first)}},features:[Tt([vG])],decls:5,vars:2,consts:[["showArtifactVersionModal",""],[1,"nav-scroller","bg-white","shadow-sm"],["class","nav nav-underline",4,"ngIf"],["class","container",4,"ngIf"],[3,"artifact","version","viewArtifactVersion","editArtifactVersion","dismiss"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],[1,"nav-link","active",3,"routerLink"],[1,"container"],["role","alert",1,"alert","alert-info","mt-3"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[3,"artifact","submitArtifactForm"],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"routerLink","click"]],template:function(e,i){1&e&&(k(0,MTe,1,2,"ng-template",null,0,$t),c(2,"div",1),k(3,ETe,5,5,"nav",2),u(),k(4,DTe,11,2,"main",3)),2&e&&(p(3),v("ngIf",i.artifact),p(1),v("ngIf",i.artifact))},directives:[pG,nt,gn,xTe,Lt],pipes:[Fh],styles:[""]}),t})();function ATe(t,n){if(1&t&&(c(0,"li",11),g(1),re(2,"app-running-process-artifacts",15),u()),2&t){const e=n.$implicit,i=n.index,o=T(3);p(1),Be(" Execution #",i+1," "),p(1),v("runningProcess",o.runningProcess)("artifactVersions",e.artifacts)("allowChanges",!1)}}function ITe(t,n){if(1&t){const e=ye();c(0,"li",11)(1,"div",12)(2,"h5"),g(3),u(),c(4,"button",13),z("click",function(){const r=W(e).$implicit;return T(2).insertDevelopmentMethodDecision.emit(r)}),g(5," Select "),u()(),re(6,"app-development-method-summary",14),c(7,"ul",9),k(8,ATe,3,4,"li",10),u()()}if(2&t){const e=n.$implicit,i=n.index,o=T(2);p(3),Be("Decision #",i+1,""),p(3),v("decision",e.decision)("showInfo",!1),p(2),v("ngForOf",o.removedMethodMapping[e.id].executions)}}function kTe(t,n){if(1&t&&(c(0,"div",7)(1,"div",8),g(2),u(),c(3,"ul",9),k(4,ITe,9,4,"li",10),u()()),2&t){const e=T();p(2),Be(" There are already decisions for the building block ",e.developmentMethod.name,", please select one or create a new building block decision "),p(2),v("ngForOf",e.removedMethods)}}let NTe=(()=>{class t{constructor(e){this.activeModal=e,this.insertDevelopmentMethodDecision=new je,this.insertDevelopmentMethodNew=new je}ngOnChanges(e){e.removedMethods&&this.calculateRemovedMethodMapping()}ngOnDestroy(){this.insertDevelopmentMethodDecision.complete(),this.insertDevelopmentMethodNew.complete()}onAllInputsSet(){this.calculateRemovedMethodMapping()}calculateRemovedMethodMapping(){const e={};for(const i of this.removedMethods)e[i.id]={executions:i.executions.map(o=>{const r=this.runningProcess.getExecutedMethod(o);if(null==r)throw new Error("Missing executed method");return{info:r,artifacts:this.runningProcess.getArtifactsOfExecutedMethod(o)}})};this.removedMethodMapping=e}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-context-edit-select-decision-modal"]],inputs:{runningProcess:"runningProcess",developmentMethod:"developmentMethod",removedMethods:"removedMethods"},outputs:{insertDevelopmentMethodDecision:"insertDevelopmentMethodDecision",insertDevelopmentMethodNew:"insertDevelopmentMethodNew"},features:[Xt],decls:10,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],[1,"modal-body"],[1,"alert","alert-info"],[1,"list-group","shadow-sm"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","align-items-baseline"],["type","button",1,"btn","btn-primary","ml-auto","btn-xs",3,"click"],[3,"decision","showInfo"],[3,"runningProcess","artifactVersions","allowChanges"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2),u(),c(3,"button",2),z("click",function(){return i.dismiss()}),c(4,"span",3),g(5,"\xd7"),u()()(),k(6,kTe,5,2,"div",4),c(7,"div",5)(8,"button",6),z("click",function(){return i.insertDevelopmentMethodNew.emit()}),g(9," Create new decision "),u()()),2&e&&(p(2),Be("Select Decision for ",i.developmentMethod.name,""),p(4),v("ngIf",null!=i.removedMethodMapping))},directives:[nt,Lt,O0,U3],styles:[""]}),t})();function RTe(t,n){1&t&&(St(0),g(1," No removed Methods. "),Et())}function OTe(t,n){if(1&t){const e=ye();c(0,"li",10)(1,"div",11),g(2),c(3,"button",12),z("click",function(){const r=W(e).$implicit;return T(2).removeRemovedMethod(r.id)}),g(4," Delete "),u()()()}if(2&t){const e=n.$implicit;p(2),Be(" ",e.decision.method.name," ")}}function BTe(t,n){if(1&t&&(c(0,"ul",8),k(1,OTe,5,1,"li",9),u()),2&t){const e=T();p(1),v("ngForOf",e.runningProcess.contextChangeInfo.removedMethods)}}let yG=(()=>{class t{constructor(e,i,o,r){this.developmentMethodService=e,this.modalService=i,this.processPatternService=o,this.runningProcessContextService=r}saveBmProcess(e,i){var o=this;return Y(function*(){null!=o.runningProcess&&(yield o.runningProcessContextService.saveBmProcessDiagram(o.runningProcess._id,e,i))})()}updateDomains(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessContextService.updateDomains(i.runningProcess._id,e))})()}updateSituationalFactors(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessContextService.updateSituationalFactors(i.runningProcess._id,e))})()}appendProcessPattern(e,i){var o=this;return Y(function*(){if(null!=o.runningProcess)try{yield o.runningProcessContextService.appendProcessPattern(o.runningProcess._id,i._id,e)}catch(r){if(!(r instanceof Error&&"Process Pattern is not correctly defined"===r.message))throw r;{const s=yield o.processPatternService.get(i._id);o.modalService.open(G0).componentInstance.processPattern=s}}})()}insertProcessPattern(e,i){var o=this;return Y(function*(){if(null!=o.runningProcess)try{yield o.runningProcessContextService.insertProcessPattern(o.runningProcess._id,i._id,e)}catch(r){if(!(r instanceof Error&&"Process Pattern is not correctly defined"===r.message))throw r;{const s=yield o.processPatternService.get(i._id);o.modalService.open(G0).componentInstance.processPattern=s}}})()}deleteProcessPattern(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessContextService.removeProcessPattern(i.runningProcess._id,e))})()}insertDevelopmentMethod(e,i){var o=this;return Y(function*(){if(null!=o.diagramComponent){const r=o.runningProcess.contextChangeInfo.getRemovedMethods(i._id);if(r.length>0){const s=o.modalService.open(NTe,{size:"lg"}),a=s.componentInstance;return a.runningProcess=o.runningProcess,a.developmentMethod=i,a.removedMethods=r,a.onAllInputsSet(),a.insertDevelopmentMethodNew.subscribe(()=>{o._insertDevelopmentMethod(e,i),s.close()}),a.insertDevelopmentMethodDecision.subscribe(l=>{o.runningProcessContextService.insertDecision(o.runningProcess._id,e,l.id),s.close()}),void o.diagramComponent.resetSelectDevelopmentMethodModal()}yield o._insertDevelopmentMethod(e,i)}})()}_insertDevelopmentMethod(e,i){var o=this;return Y(function*(){if(null!=o.diagramComponent)try{yield o.runningProcessContextService.insertDevelopmentMethod(o.runningProcess._id,e,i._id),o.diagramComponent.resetSelectDevelopmentMethodModal()}catch(r){if(!(r instanceof Error&&r.message===yo.METHOD_ERROR))throw r;{const s=yield o.developmentMethodService.get(i._id);o.modalService.open(L3).componentInstance.developmentMethod=s}}})()}removeDevelopmentMethod(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessContextService.removeDevelopmentMethod(i.runningProcess._id,e))})()}removeRemovedMethod(e){var i=this;return Y(function*(){yield i.runningProcessContextService.removeRemovedMethod(i.runningProcess._id,e)})()}update(){var e=this;return Y(function*(){e.contextEditComponent.update(),yield e.saveDiagram()})()}diagramChanged(){var e=this;return Y(function*(){return null!=e.diagramComponent&&e.diagramComponent.diagramChanged()})()}saveDiagram(){var e=this;return Y(function*(){var i;return null===(i=e.diagramComponent)||void 0===i?void 0:i.saveDiagram()})()}}return t.\u0275fac=function(e){return new(e||t)(H(dl),H(jn),H(Ou),H(A_))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-context-edit"]],viewQuery:function(e,i){if(1&e&&(Ft(B0,5),Ft(pp,5)),2&e){let o;bt(o=yt())&&(i.diagramComponent=o.first),bt(o=yt())&&(i.contextEditComponent=o.first)}},inputs:{runningProcess:"runningProcess"},features:[Tt([{provide:Yi,useExisting:t}])],decls:9,vars:5,consts:[[3,"bmProcess","saveBmProcess","appendProcessPattern","insertProcessPattern","deleteProcessPattern","insertDevelopmentMethod","removeDevelopmentMethod"],[1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"d-flex","align-items-baseline","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],[4,"ngIf"],["class","list-group",4,"ngIf"],[3,"domains","situationalFactors","updateDomains","updateSituationalFactors"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-between","align-items-baseline"],[1,"btn","btn-dark","btn-xs",3,"click"]],template:function(e,i){1&e&&(c(0,"app-bm-process-edit-diagram",0),z("saveBmProcess",function(r){return i.saveBmProcess(r.processDiagram,r.decisions)})("appendProcessPattern",function(r){return i.appendProcessPattern(r.nodeId,r.processPattern)})("insertProcessPattern",function(r){return i.insertProcessPattern(r.nodeId,r.processPattern)})("deleteProcessPattern",function(r){return i.deleteProcessPattern(r)})("insertDevelopmentMethod",function(r){return i.insertDevelopmentMethod(r.nodeId,r.developmentMethod)})("removeDevelopmentMethod",function(r){return i.removeDevelopmentMethod(r)}),u(),c(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),g(5,"Removed Methods"),u()(),k(6,RTe,2,0,"ng-container",5),k(7,BTe,2,1,"ul",6),u(),c(8,"app-context-edit",7),z("updateDomains",function(r){return i.updateDomains(r)})("updateSituationalFactors",function(r){return i.updateSituationalFactors(r)}),u()()),2&e&&(v("bmProcess",i.runningProcess.process),p(6),v("ngIf",0===i.runningProcess.contextChangeInfo.removedMethods.length),p(1),v("ngIf",i.runningProcess.contextChangeInfo.removedMethods.length>0),p(1),v("domains",i.runningProcess.process.domains)("situationalFactors",i.runningProcess.process.situationalFactors))},directives:[B0,nt,Lt,pp],styles:[""]}),t})();function LTe(t,n){if(1&t&&(c(0,"span",9)(1,"del"),g(2),c(3,"span",10),g(4," (removed)"),u()()()),2&t){const e=T().$implicit;p(2),_t(e.domain.name)}}function jTe(t,n){if(1&t&&(c(0,"span",11)(1,"ins"),g(2),c(3,"span",10),g(4," (added)"),u()()()),2&t){const e=T().$implicit;p(2),_t(e.domain.name)}}function GTe(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T().$implicit;p(1),_t(e.domain.name)}}function VTe(t,n){if(1&t&&(c(0,"li",5),k(1,LTe,5,1,"span",6),k(2,jTe,5,1,"span",7),k(3,GTe,2,1,"span",8),u()),2&t){const e=n.$implicit,i=T(2);p(1),v("ngIf",e.status===i.status.REMOVED),p(1),v("ngIf",e.status===i.status.ADDED),p(1),v("ngIf",null==e.status)}}function HTe(t,n){if(1&t&&(c(0,"ul",3),k(1,VTe,4,3,"li",4),u()),2&t){const e=T();p(1),v("ngForOf",e.combinedList)}}var Cf=(()=>(function(t){t[t.ADDED=0]="ADDED",t[t.REMOVED=1]="REMOVED"}(Cf||(Cf={})),Cf))();let wG=(()=>{class t{ngOnChanges(e){(e.domains||e.newDomains)&&this.generateCombinedList()}generateCombinedList(){if(null==this.newDomains)this.combinedList=this.domains.map(e=>({domain:e}));else{const e=new Set(this.newDomains.map(o=>o._id)),i=new Set;this.combinedList=[];for(const o of this.domains)i.add(o._id),e.has(o._id)?this.combinedList.push({domain:o}):this.combinedList.push({domain:o,status:Cf.REMOVED});for(const o of this.newDomains)i.has(o._id)||this.combinedList.push({domain:o,status:Cf.ADDED})}}get status(){return Cf}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-domains-list"]],inputs:{domains:"domains",newDomains:"newDomains"},features:[Xt],decls:4,vars:1,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],[4,"ngIf"],[1,"text-danger"],[1,"sr-only"],[1,"text-success"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2,"Domain"),u(),k(3,HTe,2,1,"ul",2),u()),2&e&&(p(3),v("ngIf",null!=i.combinedList))},directives:[nt,Lt],styles:[""]}),t})();function UTe(t,n){if(1&t&&(c(0,"span",9)(1,"del"),g(2),c(3,"span",10),g(4," (removed)"),u()()()),2&t){const e=T().$implicit;p(2),Xi("",e.factorName,": ",e.factorValue,"")}}function zTe(t,n){if(1&t&&(c(0,"span",11)(1,"ins"),g(2),c(3,"span",10),g(4," (added)"),u()()()),2&t){const e=T().$implicit;p(2),Xi("",e.factorName,": ",e.factorValue,"")}}function qTe(t,n){if(1&t&&(c(0,"span"),g(1),c(2,"del",9),g(3),c(4,"span",10),g(5," (removed)"),u()(),c(6,"span"),g(7,"\u2192"),u(),c(8,"ins",11),g(9),c(10,"span",10),g(11," (added)"),u()()()),2&t){const e=T().$implicit;p(1),Be("",e.factorName,": "),p(2),Be(" ",e.factorValue,""),p(6),_t(e.newFactorValue)}}function $Te(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T().$implicit;p(1),Xi("",e.factorName,": ",e.factorValue,"")}}function WTe(t,n){if(1&t&&(c(0,"li",5),k(1,UTe,5,2,"span",6),k(2,zTe,5,2,"span",7),k(3,qTe,12,3,"span",8),k(4,$Te,2,2,"span",8),u()),2&t){const e=n.$implicit,i=T(2);p(1),v("ngIf",e.status===i.status.REMOVED),p(1),v("ngIf",e.status===i.status.ADDED),p(1),v("ngIf",e.status===i.status.CHANGED),p(1),v("ngIf",null==e.status)}}function YTe(t,n){if(1&t&&(c(0,"ul",3),k(1,WTe,5,4,"li",4),u()),2&t){const e=T();p(1),v("ngForOf",e.combinedList)}}var hp=(()=>(function(t){t[t.ADDED=0]="ADDED",t[t.REMOVED=1]="REMOVED",t[t.CHANGED=2]="CHANGED"}(hp||(hp={})),hp))();let xG=(()=>{class t{constructor(e){this.situationalFactorService=e}ngOnChanges(e){(e.situationalFactors||e.newSituationalFactors)&&this.generateCombinedList()}generateCombinedList(){var e;if(null==this.newSituationalFactors)this.combinedList=this.situationalFactors.map(i=>({factorName:i.element.factor.name,factorValue:i.element.value}));else{const i=this.situationalFactorService.createMap(this.newSituationalFactors.map(r=>r.element)),o=new Set;this.combinedList=[];for(const r of this.situationalFactors){const s=r.element;o.add(s.factor._id);const a=null===(e=i[s.factor.list])||void 0===e?void 0:e[s.factor.name];this.combinedList.push(null!=a?a===s.value?{factorName:s.factor.name,factorValue:s.value}:{factorName:s.factor.name,factorValue:s.value,newFactorValue:a,status:hp.CHANGED}:{factorName:s.factor.name,factorValue:s.value,status:hp.REMOVED})}for(const r of this.newSituationalFactors){const s=r.element;o.has(s.factor._id)||this.combinedList.push({factorName:s.factor.name,factorValue:s.value,status:hp.ADDED})}}}get status(){return hp}}return t.\u0275fac=function(e){return new(e||t)(H(Hc))},t.\u0275cmp=He({type:t,selectors:[["app-situational-factors-list"]],inputs:{situationalFactors:"situationalFactors",newSituationalFactors:"newSituationalFactors"},features:[Xt],decls:4,vars:1,consts:[[1,"mt-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],[4,"ngIf"],[1,"text-danger"],[1,"sr-only"],[1,"text-success"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2,"Situational Factors"),u(),k(3,YTe,2,1,"ul",2),u()),2&e&&(p(3),v("ngIf",null!=i.combinedList))},directives:[nt,Lt],styles:[""]}),t})(),CG=(()=>{class t{constructor(e){this.runningProcessContextService=e}update(){this.contextEdit.update()}updateDomains(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessContextService.updateDomains(i.runningProcess._id,e))})()}updateSituationalFactors(e){var i=this;return Y(function*(){null!=i.runningProcess&&(yield i.runningProcessContextService.updateSituationalFactors(i.runningProcess._id,e))})()}applySuggestion(){var e=this;return Y(function*(){null!=e.runningProcess&&(yield e.runningProcessContextService.updateDomains(e.runningProcess._id,e.runningProcess.contextChangeInfo.suggestedDomains),yield e.runningProcessContextService.updateSituationalFactors(e.runningProcess._id,e.runningProcess.contextChangeInfo.suggestedSituationalFactors))})()}}return t.\u0275fac=function(e){return new(e||t)(H(A_))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-context-view"]],viewQuery:function(e,i){if(1&e&&Ft(pp,5),2&e){let o;bt(o=yt())&&(i.contextEdit=o.first)}},inputs:{runningProcess:"runningProcess"},features:[Tt([{provide:Yi,useExisting:t}])],decls:15,vars:7,consts:[[1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"mb-0"],[1,"show-new-lines"],[3,"domains","newDomains"],[3,"situationalFactors","newSituationalFactors"],[3,"domains","situationalFactors","updateDomains","updateSituationalFactors"],[1,"ml-auto","btn","btn-primary","btn-xs",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"div",1)(2,"h6",2),g(3," Request from business developer "),u(),c(4,"div",1)(5,"h6",2),g(6,"Comment"),u(),c(7,"p",3)(8,"span",4),g(9),u()()(),re(10,"app-domains-list",5)(11,"app-situational-factors-list",6),u(),c(12,"app-context-edit",7),z("updateDomains",function(r){return i.updateDomains(r)})("updateSituationalFactors",function(r){return i.updateSituationalFactors(r)}),c(13,"button",8),z("click",function(){return i.applySuggestion()}),g(14," Take over from business developer's suggestion "),u()()()),2&e&&(p(9),_t(i.runningProcess.contextChangeInfo.comment),p(1),v("domains",i.runningProcess.contextChangeInfo.oldDomains)("newDomains",i.runningProcess.contextChangeInfo.suggestedDomains),p(1),v("situationalFactors",i.runningProcess.contextChangeInfo.oldSituationalFactors)("newSituationalFactors",i.runningProcess.contextChangeInfo.suggestedSituationalFactors),p(1),v("domains",i.runningProcess.domains)("situationalFactors",i.runningProcess.situationalFactors))},directives:[wG,xG,pp],styles:[""]}),t})();const XTe={__depends__:[Ib],__init__:["contextPadProvider"],contextPadProvider:["type",(()=>{class t{constructor(e,i){this.eventBus=i,e.registerProvider(this)}getContextPadEntries(e){const i={};return(0,te.is)(e,"bpmn:FlowNode")&&!(0,te.is)(e,"bpmn:SubProcess")&&(i["bmp.startExecution"]={group:"edit",className:"fas fa-play-circle font-bpmn-adaption",title:"Start execution here",action:{click:()=>this.eventBus.fire("bmp.startExecution",e)}}),((0,te.is)(e,"bpmn:Task")||(0,te.is)(e,"bpmn:CallActivity"))&&null!=e.businessObject.method&&(i["bmp.fakeExecution"]={group:"edit",className:"fas fa-plus-circle font-bpmn-adaption",title:"Fake execution of development step",action:{click:()=>this.eventBus.fire("bmp.fakeExecution",e)}},e.businessObject.get("tokens")>0&&(i["bmp.skipExecution"]={group:"edit",className:"fas fa-arrow-circle-right font-bpmn-adaption",title:"Skip execution of development step",action:{click:()=>this.eventBus.fire("bmp.skipExecution",e)}})),i}}return t.$inject=["contextPad","eventBus"],t})()]};let KTe=(()=>{class t extends H3{getBpmnViewer(){return new Nd({additionalModules:[dG,XTe],moddleExtensions:{bmdl:Ru,rbmp:C3}})}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function QTe(t,n){1&t&&(c(0,"option",22),g(1," None "),u()),2&t&&v("ngValue",null)}function JTe(t,n){if(1&t&&(c(0,"option",22),g(1),u()),2&t){const e=T(),o=e.$implicit;v("ngValue",e.index),p(1),Be(" ",o.identifier," ")}}function ZTe(t,n){if(1&t&&(St(0),k(1,JTe,2,2,"option",18),Et()),2&t){const e=n.$implicit,i=T().$implicit;p(1),v("ngIf",e.artifact._id===i.element._id)}}function e8e(t,n){if(1&t&&(c(0,"option",22),g(1),u()),2&t){const e=T(),i=e.index,o=e.$implicit,r=T(2).index,s=T(2);v("ngValue",i),p(1),Be(" Version #",s.getArtifact(r).getVersionNumber(o)+1," ")}}function t8e(t,n){if(1&t&&(St(0),k(1,e8e,2,2,"option",18),Et()),2&t){const e=n.$implicit;p(1),v("ngIf",null==e.executedBy)}}function n8e(t,n){if(1&t&&(St(0),k(1,t8e,2,1,"ng-container",19),Et()),2&t){const e=T().index,i=T(2);p(1),v("ngForOf",i.getArtifact(e).versions)}}function i8e(t,n){if(1&t&&(c(0,"div",12)(1,"h6",13),g(2),ci(3,"optional"),ci(4,"list"),u(),c(5,"div",14)(6,"div",15)(7,"label",16),g(8,"Artifact"),u(),c(9,"select",17),k(10,QTe,2,1,"option",18),k(11,ZTe,2,1,"ng-container",19),u()(),c(12,"div",15)(13,"label",16),g(14,"Version"),u(),c(15,"select",20),k(16,n8e,2,1,"ng-container",21),u()()()()),2&t){const e=n.$implicit,i=n.index,o=T(2);pa("formGroupName",i),p(2),Xi(" Artifact Type: ",As(3,6,e.element.name,e.optional)," (",Io(4,9,e.element.list),") "),p(8),v("ngIf",e.optional),p(1),v("ngForOf",o.artifacts),p(5),v("ngIf",null!=o.getArtifactIndex(i))}}function o8e(t,n){if(1&t){const e=ye();c(0,"form",7),z("ngSubmit",function(){return W(e),T().submitForm()}),c(1,"div",8),k(2,i8e,17,11,"div",9),u(),c(3,"div",10)(4,"button",11),g(5," Add fake execution "),u()()()}if(2&t){const e=T();v("formGroup",e.form),p(2),v("ngForOf",e.outputArtifacts),p(2),v("disabled",!e.form.valid)}}let r8e=(()=>{class t{constructor(e,i){this.activeModal=e,this.fb=i,this.addFakeExecution=new je,this.form=this.fb.group({outputArtifacts:this.fb.array([])}),this.outputArtifacts=[]}ngOnChanges(e){e.methodDecision&&(this.outputArtifacts=e.methodDecision.currentValue.outputArtifacts.getSelectedElementsOptional(),this.loadForm(this.outputArtifacts))}onAllInputsSet(){this.outputArtifacts=this.methodDecision.outputArtifacts.getSelectedElementsOptional(),this.loadForm(this.outputArtifacts)}loadForm(e){const i=e.map(o=>this.fb.group({artifact:this.fb.control(null,o.optional?void 0:ft.required),version:this.fb.control(null,o.optional?void 0:ft.required)},{validators:r=>{var s,a;return null!=(null===(s=r.get("artifact"))||void 0===s?void 0:s.value)&&null==(null===(a=r.get("version"))||void 0===a?void 0:a.value)?{versionNotSelected:!0}:null}}));this.form.setControl("outputArtifacts",this.fb.array(i))}submitForm(){this.addFakeExecution.emit(this.formArray.value)}dismiss(){this.activeModal.dismiss()}getArtifactIndex(e){var i;return null===(i=this.formArray.at(e).get("artifact"))||void 0===i?void 0:i.value}getArtifact(e){return this.artifacts[this.getArtifactIndex(e)]}get formArray(){return this.form.get("outputArtifacts")}}return t.\u0275fac=function(e){return new(e||t)(H(ar),H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-context-fake-execute-modal"]],inputs:{artifacts:"artifacts",methodDecision:"methodDecision"},outputs:{addFakeExecution:"addFakeExecution"},features:[Xt],decls:10,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"alert","alert-info"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["formArrayName","outputArtifacts"],["class","my-3 p-3 bg-white rounded shadow-sm",3,"formGroupName",4,"ngFor","ngForOf"],[1,"d-flex"],["type","submit",1,"btn","btn-block","btn-primary",3,"disabled"],[1,"my-3","p-3","bg-white","rounded","shadow-sm",3,"formGroupName"],[1,"border-bottom","border-gray","pb-2"],[1,"form-row"],[1,"form-group","col"],["for","artifact"],["id","artifact","formControlName","artifact",1,"form-control"],[3,"ngValue",4,"ngIf"],[4,"ngFor","ngForOf"],["id","version","formControlName","version",1,"form-control"],[4,"ngIf"],[3,"ngValue"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2,"Fake execute development step"),u(),c(3,"button",2),z("click",function(){return i.dismiss()}),c(4,"span",3),g(5,"\xd7"),u()()(),c(6,"div",4)(7,"div",5),g(8," Select the output artifacts of this development step. You can only select artifacts that are added manually or imported. "),u(),k(9,o8e,6,3,"form",6),u()),2&e&&(p(9),v("ngIf",null!=i.methodDecision.outputArtifacts.elementDecisions&&i.methodDecision.outputArtifacts.elementDecisions.length>0))},directives:[nt,nn,Wt,Vt,vo,Lt,kr,ki,Jt,Zt,Vi,Hi],pipes:[k_,O_],styles:[""]}),t})();const s8e=["commentsModal"],a8e=["removeExecutedMethodModal"],l8e=["methodArtifactsModal"];function c8e(t,n){if(1&t&&(c(0,"h4",26),g(1),u()),2&t){const e=T(2);p(1),Be(" Artifacts of ",e.modalRunningMethodInfo.methodName," ")}}function u8e(t,n){if(1&t){const e=ye();c(0,"div",27)(1,"app-running-process-artifacts",28),z("focusNode",function(o){W(e);const r=T().dismiss;return T().focus(o),r()})("editArtifact",function(o){W(e);const r=T().dismiss;return T().editArtifact(o),r()})("viewArtifactVersion",function(o){W(e);const r=T().dismiss;return T().viewArtifactVersion(o),r()}),u()()}if(2&t){const e=T(2);p(1),v("runningProcess",e.runningProcess)("artifactVersions",e.modalRunningMethodInfoArtifacts)("allowChanges",!1)}}function d8e(t,n){if(1&t){const e=ye();c(0,"div",21),k(1,c8e,2,1,"h4",22),c(2,"button",23),z("click",function(){return W(e).dismiss()}),c(3,"span",24),g(4,"\xd7"),u()()(),k(5,u8e,2,3,"div",25)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalRunningMethodInfo),p(4),v("ngIf",null!=e.modalRunningMethodInfoArtifacts&&null!=e.runningProcess)}}function p8e(t,n){if(1&t&&(c(0,"h4",26),g(1),u()),2&t){const e=T(2);p(1),Be(" Comments of ",e.modalRunningMethodInfo.methodName," ")}}function m8e(t,n){1&t&&re(0,"app-running-process-method-comments",30),2&t&&v("comments",T(2).modalRunningMethodInfo.comments)("editable",!1)}function f8e(t,n){if(1&t){const e=ye();c(0,"div",21),k(1,p8e,2,1,"h4",22),c(2,"button",23),z("click",function(){return W(e).dismiss()}),c(3,"span",24),g(4,"\xd7"),u()()(),c(5,"div",27),k(6,m8e,1,2,"app-running-process-method-comments",29),u()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalRunningMethodInfo),p(5),v("ngIf",null!=e.modalRunningMethodInfo)}}function h8e(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",32),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.removeExecutedMethod(r.modalRunningMethodInfo.executionId),o()}),c(1,"div",33),g(2,"Remove development step's execution"),u(),g(3),u()}if(2&t){const e=T(2);p(3),Be(" This will remove this execution of the development step ",e.modalRunningMethodInfo.methodName," and map all affected artifacts to be manually added. ")}}function g8e(t,n){1&t&&k(0,h8e,4,1,"app-delete-modal",31),2&t&&v("ngIf",null!=T().modalRunningMethodInfo)}function _8e(t,n){1&t&&(c(0,"div"),g(1," No executed development steps. "),u())}function v8e(t,n){if(1&t){const e=ye();c(0,"button",40),z("click",function(){W(e);const o=T().$implicit;return T(2).focus(o.nodeId)}),g(1," Show "),u()}}function b8e(t,n){if(1&t){const e=ye();c(0,"li",36)(1,"div",37),g(2),c(3,"div",38),k(4,v8e,2,0,"button",39),c(5,"button",40),z("click",function(){const r=W(e).$implicit;return T(2).viewArtifacts(r.executionId)}),g(6," View artifacts "),u(),c(7,"button",40),z("click",function(){const r=W(e).$implicit;return T(2).openCommentsModal(r.executionId)}),g(8," View comments "),u(),c(9,"button",41),z("click",function(){const r=W(e).$implicit;return T(2).openRemoveExecutionModal(r.executionId)}),g(10," Remove execution "),u()()()()}if(2&t){const e=n.$implicit;p(2),Be(" ",e.methodName," "),p(2),v("ngIf",null!=e.nodeId)}}function y8e(t,n){if(1&t&&(c(0,"ul",34),k(1,b8e,11,2,"li",35),u()),2&t){const e=T();p(1),v("ngForOf",e.runningProcess.executedMethods)}}function w8e(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e.name," ")}}const x8e=function(){return[]};function C8e(t,n){if(1&t){const e=ye();c(0,"li"),g(1," Method "),c(2,"a",43),z("click",function(){const r=W(e).$implicit;return T(2).focus(r.elementId)}),g(3),u(),g(4," may be missing the following Artifacts "),c(5,"ul"),k(6,w8e,2,1,"li",42),u()()}if(2&t){const e=n.$implicit;p(2),v("routerLink",Bt(3,x8e)),p(1),_t(e.name),p(3),v("ngForOf",e.artifacts)}}function M8e(t,n){if(1&t&&(c(0,"ul"),k(1,C8e,7,4,"li",42),u()),2&t){const e=T();p(1),v("ngForOf",e.missingArtifacts)}}let S8e=(()=>{class t{constructor(e,i,o,r){this.concreteArtifactService=e,this.modalService=i,this.router=o,this.runningProcessContextService=r,this.missingArtifacts=[]}ngOnChanges(e){e.runningProcess&&this.checkArtifacts()}startExecution(e){var i=this;return Y(function*(){yield i.runningProcessContextService.resetExecutionToPosition(i.runningProcess._id,e)})()}openFakeExecuteModal(e){var i=this;this.modalReference=this.modalService.open(r8e,{size:"lg"});const o=this.modalReference.componentInstance;o.artifacts=this.runningProcess.artifacts,o.methodDecision=this.runningProcess.process.decisions[e],o.addFakeExecution.subscribe(function(){var r=Y(function*(s){var a;yield i.runningProcessContextService.fakeMethodExecution(i.runningProcess._id,e,s.filter(l=>null!=l.artifact)),null===(a=i.modalReference)||void 0===a||a.close()});return function(s){return r.apply(this,arguments)}}()),o.onAllInputsSet()}skipExecution(e){var i=this;return Y(function*(){yield i.runningProcessContextService.skipExecution(i.runningProcess._id,e)})()}focus(e){this.viewer.focus(e)}viewArtifacts(e){var i,o;this.modalRunningMethodInfo=null===(i=this.runningProcess)||void 0===i?void 0:i.getExecutedMethod(e),this.modalRunningMethodInfoArtifacts=null===(o=this.runningProcess)||void 0===o?void 0:o.getArtifactsOfExecutedMethod(e),this.modalReference=this.modalService.open(this.methodArtifactsModal,{size:"lg"})}openCommentsModal(e){this.modalRunningMethodInfo=this.runningProcess.getMethod(e),this.modalReference=this.modalService.open(this.commentsModal,{size:"lg"})}openRemoveExecutionModal(e){this.modalRunningMethodInfo=this.runningProcess.getMethod(e),this.modalReference=this.modalService.open(this.removeExecutedMethodModal,{size:"lg"})}removeExecutedMethod(e){var i=this;return Y(function*(){yield i.runningProcessContextService.removeExecutedMethod(i.runningProcess._id,e)})()}exportArtifact(e,i){var o=this;return Y(function*(){i=yield o.concreteArtifactService.export(e,i,o.runningProcess.name),yield o.router.navigate(["/","concreteArtifacts","detail",i._id])})()}importArtifact(e){var i=this;return Y(function*(){const o=yield i.concreteArtifactService.get(e),r=yield i.concreteArtifactService.copy(o);yield i.runningProcessContextService.importArtifact(i.runningProcess._id,r)})()}renameArtifact(e,i){var o=this;return Y(function*(){yield o.runningProcessContextService.renameArtifact(o.runningProcess,i,e)})()}removeArtifact(e){var i=this;return Y(function*(){yield i.runningProcessContextService.removeArtifact(i.runningProcess._id,e._id)})()}addArtifact(e,i){var o=this;return Y(function*(){yield o.runningProcessContextService.addArtifact(o.runningProcess._id,e,i)})()}createArtifact(e){this.runningProcessContextService.createInternalArtifact(this.runningProcess._id,e)}editArtifact(e){var i=this;return Y(function*(){yield i.runningProcessContextService.editInternalArtifact(i.runningProcess,e)})()}viewArtifactVersion(e){var i=this;return Y(function*(){yield i.runningProcessContextService.viewInternalArtifact(i.runningProcess._id,e.id)})()}checkArtifacts(){var e=this;return Y(function*(){const i=yield e.runningProcessContextService.checkExecution(e.runningProcess._id);e.unreachableNodeIds=new Set(i.filter(o=>null===o.missingArtifacts).map(o=>o.node.id)),e.missingArtifactsNodeIds=new Set(i.filter(o=>null!=o.missingArtifacts).map(o=>o.node.id)),e.missingArtifacts=i.filter(o=>null!=o.missingArtifacts&&o.node.id in e.runningProcess.process.decisions).map(o=>({elementId:o.node.id,name:e.runningProcess.process.decisions[o.node.id].method.name,artifacts:o.missingArtifacts}))})()}}return t.\u0275fac=function(e){return new(e||t)(H(fp),H(jn),H(oi),H(A_))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-context-run"]],viewQuery:function(e,i){if(1&e&&(Ft(s8e,7),Ft(a8e,7),Ft(l8e,7),Ft(W0,5)),2&e){let o;bt(o=yt())&&(i.commentsModal=o.first),bt(o=yt())&&(i.removeExecutedMethodModal=o.first),bt(o=yt())&&(i.methodArtifactsModal=o.first),bt(o=yt())&&(i.viewer=o.first)}},inputs:{runningProcess:"runningProcess"},features:[Tt([{provide:H3,useExisting:KTe}]),Xt],decls:46,vars:7,consts:[["methodArtifactsModal",""],["commentsModal",""],["removeExecutedMethodModal",""],[3,"runningProcess","unreachable","missingArtifacts","startExecution","fakeExecution","skipExecution"],[1,"container"],[1,"p-3","bg-white","rounded","shadow-sm"],[1,"row"],[1,"col-4"],[1,"far","fa-square","bpmn-legend-icon","text-success"],[1,"far","fa-square","bpmn-legend-icon","text-danger"],[1,"offset-4","col-4"],[1,"far","fa-square","bpmn-legend-icon","text-warning"],[1,"far","fa-square","bpmn-legend-icon","text-muted"],[1,"fas","fa-play-circle","bpmn-legend-icon"],[1,"fas","fa-plus-circle","bpmn-legend-icon"],[1,"fas","fa-arrow-circle-right","bpmn-legend-icon"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[4,"ngIf"],["class","list-group mb-0",4,"ngIf"],[3,"runningProcess","focusNode","addArtifact","importArtifact","createArtifact","exportArtifact","renameArtifact","editArtifact","viewArtifactVersion","removeArtifact"],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"modal-title"],[1,"modal-body"],[3,"runningProcess","artifactVersions","allowChanges","focusNode","editArtifact","viewArtifactVersion"],[3,"comments","editable",4,"ngIf"],[3,"comments","editable"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],[1,"list-group","mb-0"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","align-items-baseline"],[1,"ml-auto"],["class","btn btn-xs btn-dark mr-1",3,"click",4,"ngIf"],[1,"btn","btn-xs","btn-dark","mr-1",3,"click"],[1,"btn","btn-xs","btn-dark",3,"click"],[4,"ngFor","ngForOf"],[3,"routerLink","click"]],template:function(e,i){1&e&&(k(0,d8e,6,2,"ng-template",null,0,$t),k(2,f8e,7,2,"ng-template",null,1,$t),k(4,g8e,1,1,"ng-template",null,2,$t),c(6,"app-running-process-viewer",3),z("startExecution",function(r){return i.startExecution(r)})("fakeExecution",function(r){return i.openFakeExecuteModal(r)})("skipExecution",function(r){return i.skipExecution(r)}),u(),c(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"strong"),g(12,"Legend:"),u()(),c(13,"div",7),re(14,"i",8),g(15," Executed node "),u(),c(16,"div",7),re(17,"i",9),g(18," Currently executing node "),u()(),c(19,"div",6)(20,"div",10),re(21,"i",11),g(22," Unreachable node "),u(),c(23,"div",7),re(24,"i",12),g(25," Missing artifacts for node "),u()(),c(26,"div",6)(27,"div",7),re(28,"i",13),g(29," Start execution here "),u(),c(30,"div",7),re(31,"i",14),g(32," Fake execution of development step "),u(),c(33,"div",7),re(34,"i",15),g(35," Skip execution of development step "),u()()(),c(36,"div",16)(37,"h6",17),g(38,"Executed development steps"),u(),k(39,_8e,2,0,"div",18),k(40,y8e,2,1,"ul",19),u(),c(41,"app-running-process-artifacts",20),z("focusNode",function(r){return i.focus(r)})("addArtifact",function(r){return i.addArtifact(r.artifact,r.output)})("importArtifact",function(r){return i.importArtifact(r)})("createArtifact",function(r){return i.createArtifact(r)})("exportArtifact",function(r){return i.exportArtifact(r.identifier,r.artifact)})("renameArtifact",function(r){return i.renameArtifact(r.identifier,r.artifact)})("editArtifact",function(r){return i.editArtifact(r)})("viewArtifactVersion",function(r){return i.viewArtifactVersion(r)})("removeArtifact",function(r){return i.removeArtifact(r)}),u(),c(42,"div",16)(43,"h6",17),g(44,"Missing Artifacts"),u(),k(45,M8e,2,1,"ul",18),u()()),2&e&&(p(6),v("runningProcess",i.runningProcess)("unreachable",i.unreachableNodeIds)("missingArtifacts",i.missingArtifactsNodeIds),p(33),v("ngIf",0===i.runningProcess.executedMethods.length),p(1),v("ngIf",i.runningProcess.executedMethods.length>0),p(1),v("runningProcess",i.runningProcess),p(4),v("ngIf",i.missingArtifacts.length>0))},directives:[nt,U3,Ts,cr,W0,Lt,gn],styles:[".bpmn-legend-icon[_ngcontent-%COMP%]{width:1rem;height:1rem}"]}),t})(),E8e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-running-process-context-finish"]],inputs:{runningProcess:"runningProcess"},decls:17,vars:9,consts:[[1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"mb-0"],[1,"show-new-lines"],[3,"domains","newDomains"],[3,"situationalFactors","newSituationalFactors"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"div",1)(2,"h6",2),g(3," Changes compared to the request from the business developer "),u(),c(4,"div",1)(5,"h6",2),g(6,"Comment"),u(),c(7,"p",3)(8,"span",4),g(9),u()()(),re(10,"app-domains-list",5)(11,"app-situational-factors-list",6),u(),c(12,"div",1)(13,"h6",2),g(14," Changes compared to the previous method "),u(),re(15,"app-domains-list",5)(16,"app-situational-factors-list",6),u()()),2&e&&(p(9),_t(i.runningProcess.contextChangeInfo.comment),p(1),v("domains",i.runningProcess.contextChangeInfo.suggestedDomains)("newDomains",i.runningProcess.domains),p(1),v("situationalFactors",i.runningProcess.contextChangeInfo.suggestedSituationalFactors)("newSituationalFactors",i.runningProcess.situationalFactors),p(4),v("domains",i.runningProcess.contextChangeInfo.oldDomains)("newDomains",i.runningProcess.domains),p(1),v("situationalFactors",i.runningProcess.contextChangeInfo.oldSituationalFactors)("newSituationalFactors",i.runningProcess.situationalFactors))},directives:[wG,xG],styles:[""]}),t})();const T8e=["errorProcessModal"],P8e=["nav"],MG=function(){return[]};function D8e(t,n){if(1&t){const e=ye();c(0,"div",23)(1,"h4",24),g(2,"Error instantiating Method"),u(),c(3,"button",25),z("click",function(){return W(e).dismiss()}),c(4,"span",26),g(5,"\xd7"),u(),c(6,"span",27),g(7,"Close Window"),u()()(),c(8,"div",28)(9,"div",29),g(10," This Business Model Development Method cannot be instantiated, because it is not completely defined. You first have to define it completely. More information is available in the error panel in the "),c(11,"a",30),z("click",function(){const r=W(e).dismiss;return T().goToEdit(),r()}),g(12,"Edit step"),u(),g(13,". As long as this Business Model Development Method is not completely defined, you cannot finish the context change. "),u()()}2&t&&(p(11),v("routerLink",Bt(2,MG))("queryParamsHandling","preserve"))}function F8e(t,n){if(1&t&&(c(0,"a",31),g(1),u()),2&t){const e=T();v("routerLink",Bt(3,MG)),p(1),Xi("Context Change: ",e.runningProcess.process.name," \u2013 ",e.runningProcess.name,"")}}function A8e(t,n){1&t&&g(0," View the request from the business developer and adapt the context accordingly. ")}function I8e(t,n){1&t&&g(0," Edit the method to fit it to the new context. ")}function k8e(t,n){1&t&&g(0," Adapt the enaction of the method. Re-Run some methods and set the pointer for the current execution. ")}function N8e(t,n){1&t&&g(0," Re-check whether the requests from the business developer are fulfilled. Additionally, check whether the method is valid. After that, finish the context change and give the method back to the business developer. ")}function R8e(t,n){1&t&&re(0,"app-running-process-context-view",34),2&t&&v("runningProcess",T(2).runningProcess)}function O8e(t,n){1&t&&re(0,"app-running-process-context-edit",34),2&t&&v("runningProcess",T(2).runningProcess)}function B8e(t,n){1&t&&re(0,"app-running-process-context-run",34),2&t&&v("runningProcess",T(2).runningProcess)}function L8e(t,n){1&t&&re(0,"app-running-process-context-finish",34),2&t&&v("runningProcess",T(2).runningProcess)}function j8e(t,n){if(1&t){const e=ye();c(0,"div",7)(1,"h6",8),g(2,"Next"),u(),c(3,"button",35),z("click",function(){return W(e),T(2).nextStep()}),g(4," Update all and next step "),u()()}}function G8e(t,n){if(1&t){const e=ye();c(0,"div",7)(1,"h6",8),g(2,"Finish"),u(),c(3,"button",35),z("click",function(){return W(e),T(2).finishContextChange()}),g(4," Finish context change "),u()()}}function V8e(t,n){if(1&t&&(St(0),k(1,R8e,1,1,"app-running-process-context-view",32),k(2,O8e,1,1,"app-running-process-context-edit",32),k(3,B8e,1,1,"app-running-process-context-run",32),k(4,L8e,1,1,"app-running-process-context-finish",32),c(5,"div",6),k(6,j8e,5,0,"div",33),k(7,G8e,5,0,"div",33),u(),Et()),2&t){T();const e=hn(15),i=hn(20),o=hn(25),r=hn(30);p(1),v("ngIf",e.active),p(1),v("ngIf",i.active),p(1),v("ngIf",o.active),p(1),v("ngIf",r.active),p(2),v("ngIf",!r.active),p(1),v("ngIf",r.active)}}const H8e=function(){return["/","bmprocess"]},U8e=[{path:"bmprocess",canActivate:[Po],children:[{path:"",component:Owe},{path:"bmprocessview/:id",component:vCe,canDeactivate:[V3]},{path:"contextchange/:id",component:(()=>{class t{constructor(e,i,o,r,s){this.fb=e,this.modalService=i,this.router=o,this.runningProcessContextService=r,this.runningProcessLoaderService=s}ngOnInit(){this.firstLoad=this.runningProcessLoaderService.loaded.subscribe(()=>this.afterLoad())}ngOnDestroy(){null!=this.runningProcess&&this.runningProcessContextService.updateStep(this.runningProcess._id,this.stepNav.activeId)}nextStep(){var e,i;switch(this.stepNav.activeId){case"stepView":null===(e=this.runningProcessContextViewComponent)||void 0===e||e.update(),this.stepNav.select("stepEdit");break;case"stepEdit":null===(i=this.runningProcessContextEditComponent)||void 0===i||i.update(),this.stepNav.select("stepRun");break;case"stepRun":this.stepNav.select("stepFinish")}window.scroll({top:0,left:0})}navChange(e){var i=this;return Y(function*(){if(e.preventDefault(),yield i.diagramChanged()){const o=i.modalService.open(cG,{size:"lg"});try{(yield o.result)&&(yield i.saveDiagram())}catch(r){return}}i.stepNav.select(e.nextId)})()}finishContextChange(){var e=this;return Y(function*(){if(null!=e.runningProcess)try{yield e.runningProcessContextService.finishContextChange(e.runningProcess._id),yield e.router.navigate(["/","bmprocess"])}catch(i){if(!(i instanceof Error&&i.message===yo.PROCESS_INCOMPLETE))throw i;e.modalReference=e.modalService.open(e.errorProcessModal,{size:"lg"})}})()}goToEdit(){this.stepNav.select("stepEdit"),window.scroll({top:0,left:0})}get runningProcess(){return this.runningProcessLoaderService.runningProcess}diagramChanged(){var e=this;return Y(function*(){return null!=e.runningProcessContextEditComponent&&e.runningProcessContextEditComponent.diagramChanged()})()}saveDiagram(){var e=this;return Y(function*(){var i;return null===(i=e.runningProcessContextEditComponent)||void 0===i?void 0:i.saveDiagram()})()}afterLoad(){var e;null!=this.runningProcess&&null!=this.runningProcess.contextChangeInfo.step&&this.stepNav.select(this.runningProcess.contextChangeInfo.step),null===(e=this.firstLoad)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(jn),H(oi),H(A_),H(H_))},t.\u0275cmp=He({type:t,selectors:[["app-running-process-context"]],viewQuery:function(e,i){if(1&e&&(Ft(T8e,7),Ft(P8e,5),Ft(CG,5),Ft(yG,5)),2&e){let o;bt(o=yt())&&(i.errorProcessModal=o.first),bt(o=yt())&&(i.stepNav=o.first),bt(o=yt())&&(i.runningProcessContextViewComponent=o.first),bt(o=yt())&&(i.runningProcessContextEditComponent=o.first)}},features:[Tt([H_])],decls:36,vars:5,consts:[["errorProcessModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["role","main"],[1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],["ngbNav","",1,"nav-pills","nav-justified",3,"navChange"],["nav","ngbNav"],["ngbNavItem","stepView"],["stepView","ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","stepEdit"],["stepEdit","ngbNavItem"],["ngbNavItem","stepRun"],["stepRun","ngbNavItem"],["ngbNavItem","stepFinish"],["stepFinish","ngbNavItem"],[1,"mt-1",3,"ngbNavOutlet"],[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"sr-only"],[1,"modal-body"],[1,"alert","alert-danger"],[3,"routerLink","queryParamsHandling","click"],[1,"nav-link","active",3,"routerLink"],[3,"runningProcess",4,"ngIf"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[3,"runningProcess"],["type","submit",1,"btn","btn-sm","btn-block","btn-primary","mt-3",3,"click"]],template:function(e,i){if(1&e&&(k(0,D8e,14,3,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Business Model Development Methods"),u(),k(6,F8e,2,4,"a",4),u()(),c(7,"main",5)(8,"div",6)(9,"div",7)(10,"h6",8),g(11,"Steps"),u(),c(12,"ul",9,10),z("navChange",function(r){return i.navChange(r)}),c(14,"li",11,12)(16,"a",13),g(17,"1. Adapt context"),u(),k(18,A8e,1,0,"ng-template",14),u(),c(19,"li",15,16)(21,"a",13),g(22,"2. Edit method"),u(),k(23,I8e,1,0,"ng-template",14),u(),c(24,"li",17,18)(26,"a",13),g(27,"3. Adapt enaction"),u(),k(28,k8e,1,0,"ng-template",14),u(),c(29,"li",19,20)(31,"a",13),g(32,"4. Finish context change"),u(),k(33,N8e,1,0,"ng-template",14),u()(),re(34,"div",21),u()(),k(35,V8e,8,6,"ng-container",22),u()),2&e){const o=hn(13);p(4),v("routerLink",Bt(4,H8e)),p(2),v("ngIf",i.runningProcess),p(28),v("ngbNavOutlet",o),p(1),v("ngIf",null!=i.runningProcess)}},directives:[gn,nt,zu,Uu,op,ip,uf,CG,yG,S8e,E8e],styles:[""]}),t})(),canDeactivate:[V3]}]},{path:"concreteArtifacts",canActivate:[Po],children:[{path:"",component:bTe},{path:"detail/:id",component:FTe}]},{path:"methods",canActivate:[Po],children:[{path:"",component:NCe},{path:"methodview/:id",component:YMe}]},{path:"process",canActivate:[Po],children:[{path:"",component:oSe},{path:"processview/:id",component:PSe,canDeactivate:[V3]}]},{path:"domains",canActivate:[Po],children:[{path:"",component:rTe},{path:"detail/:id",component:uTe}]},{path:"methodElements",component:mTe,canActivate:[Po]},{path:"artifacts",canActivate:[Po],children:[{path:"",component:ZSe},{path:"detail/:id",component:lEe}]},{path:"situationalFactors",canActivate:[Po],children:[{path:"",component:GSe},{path:"detail/:id",component:YSe}]},{path:"stakeholders",canActivate:[Po],children:[{path:"",component:mEe},{path:"detail/:id",component:vEe}]},{path:"tools",canActivate:[Po],children:[{path:"",component:EEe},{path:"detail/:id",component:AEe}]},{path:"types",canActivate:[Po],children:[{path:"",component:OEe},{path:"detail/:id",component:VEe}]},{path:"runningprocess",canActivate:[Po],children:[{path:"",component:t3e},{path:"runningprocessview/:id",children:[{path:"",component:h5e},{path:"method/:executionId",component:Z5e}]}]}];let z8e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[ml.forChild(U8e)],ml]}),t})(),q8e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[z8e,A0,N3]]}),t})();class Qu{constructor(n,e,i){var o,r,s,a,l;let d;if(this.description="",this.subexperiments=[],this.artifacts=[],this.parent=i,this.level=this.parent?this.parent.level+1:1,null!=n)d=n,this.subexperiments=n.subexperiments.map(h=>new Qu(h,void 0,this));else{if(null==e)throw new Error("Either entry or init must be provided.");d=e,this.subexperiments=null!==(r=null===(o=e.subexperiments)||void 0===o?void 0:o.map(h=>new Qu(void 0,h,this)))&&void 0!==r?r:this.subexperiments}this.id=d.id,this.name=d.name,this.description=null!==(s=d.description)&&void 0!==s?s:this.description,this.artifacts=null!==(l=null===(a=d.artifacts)||void 0===a?void 0:a.slice())&&void 0!==l?l:this.artifacts}update(n){Object.assign(this,n)}addSubexperiment(n){const e=new Qu(void 0,n,this);return this.subexperiments.push(e),e}removeSubexperiment(n){this.subexperiments=this.subexperiments.filter(e=>e.id!==n)}getExperimentList(){return[this,...this.subexperiments.map(n=>n.getExperimentList()).reduce((n,e)=>n.concat(e),[])]}getExperiment(n){const e=this.getExperimentList().find(i=>i.id===n);if(null==e)throw new Error("Experiment with id "+n+" does not exist");return e}toDb(){return{id:this.id,name:this.name,description:this.description,subexperiments:this.subexperiments.map(n=>n.toDb()),artifacts:this.artifacts}}getExperimentId(n){return Oh(n,this.getExperimentList().map(e=>e.id))}getExperimentDefinitionId(){let n=this;for(;null!=n.parent;)n=n.parent;return n.id}}let X0=(()=>{class t extends gs{constructor(e,i){if(super(e,i,t.typeName),null!=e)this.author=new Ks(e.author,void 0),this.experiment=new Qu(e.experiment,void 0,void 0);else{if(null==i)throw new Error("Either entry or init must be provided.");this.author=new Ks(void 0,i.author),this.experiment=new Qu(void 0,i.experiment,void 0)}}updateAuthor(e){this.author.update(e)}addExperiment(e,i){const o=this.experiment.getExperiment(i);return null==e.id&&(e.id=this.experiment.getExperimentId(e.name)),o.addSubexperiment(e)}updateExperiment(e,i,o){const r=this.experiment.getExperiment(e),s=r.parent;if(r.update(o),null==s&&null!=i)throw new Error("Can not move root experiment");if(null!=s&&null==i)throw new Error("Can not move to root experiment");if(null!=s&&s.id!==i){const a=this.experiment.getExperiment(i);s.removeSubexperiment(e),a.addSubexperiment(r)}}removeExperiment(e){const i=this.experiment.getExperiment(e);if(null==i.parent)throw new Error("Can not remove the root experiment");i.parent.removeSubexperiment(i.id)}toDb(){return Object.assign(Object.assign({},super.toDb()),{author:this.author.toDb(),experiment:this.experiment.toDb()})}}return t.typeName="ExperimentDefinition",t})();var fl=(()=>(function(t){t.VALIDATED="validated",t.DISAPPROVED="disapproved",t.UNTESTED="untested"}(fl||(fl={})),fl))(),gp=(()=>(function(t){t.AND="and",t.OR="or"}(gp||(gp={})),gp))();class Ju{constructor(n,e,i){var o,r,s,a;let l;if(this.state=fl.UNTESTED,this.subhypothesesConnections=gp.OR,this.subhypotheses=[],this.parent=i,this.level=this.parent?this.parent.level+1:1,null!=n)l=n,this.subhypotheses=n.subhypotheses.map(d=>new Ju(d,void 0,this));else{if(null==e)throw new Error("Either entry or init must be provided.");l=e,this.subhypotheses=null!==(r=null===(o=e.subhypotheses)||void 0===o?void 0:o.map(d=>new Ju(void 0,d,this)))&&void 0!==r?r:this.subhypotheses}this.id=l.id,this.name=l.name,this.state=null!==(s=l.state)&&void 0!==s?s:this.state,this.evidenceScore=l.evidenceScore,this.priority=l.priority,this.subhypothesesConnections=null!==(a=l.subhypothesesConnections)&&void 0!==a?a:this.subhypothesesConnections,this.validate()}update(n){Object.assign(this,n)}validate(){if(null!=this.evidenceScore&&(this.evidenceScore<1||this.evidenceScore>5))throw new Error("Hypothesis: evidenceScore should be between 1 and 5");if(this.priority<1||this.priority>5)throw new Error("Hypothesis: priority should be between 1 and 5")}toDb(){return{id:this.id,name:this.name,state:this.state,evidenceScore:this.evidenceScore,priority:this.priority,subhypothesesConnections:this.subhypothesesConnections,subhypotheses:this.subhypotheses.map(n=>n.toDb())}}addSubhypothesis(n){const e=new Ju(void 0,n,this);return this.subhypotheses.push(e),e}removeSubhypothesis(n){this.subhypotheses=this.subhypotheses.filter(e=>e.id!==n)}applyExperimentResult(n){(null==this.evidenceScore||this.evidenceScore<=n.evidence)&&(this.evidenceScore=n.evidence,this.state=n.approved?fl.VALIDATED:fl.DISAPPROVED,this.applyExperimentResultToParents())}applyExperimentResultToParents(){let n=this,e=this.evidenceScore,i=this.parent;for(;null!=i;){if(i.subhypothesesConnections===gp.OR){if(!(null==i.evidenceScore||i.evidenceScore<=e))return;i.evidenceScore=e,i.state=n.state}else{const o=i.subhypotheses.every(s=>s.state===fl.VALIDATED),r=i.subhypotheses.some(s=>s.state===fl.DISAPPROVED);if(o){const s=Math.min(...i.subhypotheses.map(a=>a.evidenceScore));if(!(null==i.evidenceScore||i.evidenceScore<=s))return;i.evidenceScore=s,i.state=fl.VALIDATED}else{if(!r)return;{const s=Math.max(...i.subhypotheses.filter(a=>a.state===fl.DISAPPROVED).map(a=>a.evidenceScore));if(!(null==i.evidenceScore||i.evidenceScore<=s))return;i.evidenceScore=s,i.state=fl.DISAPPROVED}}}n=i,e=i.evidenceScore,i=i.parent}}getHypothesisList(){return[this,...this.subhypotheses.map(n=>n.getHypothesisList()).reduce((n,e)=>n.concat(e),[])]}}class z3{constructor(n,e){const i=null!=n?n:e;if(null==i)throw new Error("Either entry or init must be provided.");this.experimentDefinitionId=i.experimentDefinitionId,this.experimentId=i.experimentId,this.hypothesisId=i.hypothesisId,this.metric=i.metric}toDb(){return{experimentDefinitionId:this.experimentDefinitionId,experimentId:this.experimentId,hypothesisId:this.hypothesisId,metric:this.metric}}}class Mf extends Qu{constructor(n,e,i){var o,r;let s;if(super(n,e,i),this.subexperiments=[],null!=n)s=n,this.subexperiments=n.subexperiments.map(a=>new Mf(a,void 0,this));else{if(null==e)throw new Error("Either entry or init must be provided.");s=e,this.subexperiments=null!==(r=null===(o=e.subexperiments)||void 0===o?void 0:o.map(a=>new Mf(void 0,a,this)))&&void 0!==r?r:this.subexperiments}this.maxEvidence=s.maxEvidence,this.costs=s.costs,this.validate()}update(n){Object.assign(this,n)}validate(){if(null!=this.maxEvidence&&(this.maxEvidence<1||this.maxEvidence>5))throw new Error("ExperimentUsed: maxEvidence should be between 1 and 5");if(null!=this.costs&&(this.costs<1||this.costs>5))throw new Error("ExperimentUsed: costs should be between 1 and 5")}toDb(){return Object.assign(Object.assign({},super.toDb()),{maxEvidence:this.maxEvidence,costs:this.costs,subexperiments:this.subexperiments.map(n=>n.toDb())})}}class Sf{constructor(n,e,i){var o,r,s,a,l,d;let h;if(this.hypotheses=[],this.usedExperiments={},this.mappings=[],this.adaptions=[],this.parent=i,null!=n)h=n,this.hypotheses=n.hypotheses.map(w=>new Ju(w,void 0,void 0)),Object.entries(n.usedExperiments).forEach(([w,P])=>this.usedExperiments[w]=new Mf(P,void 0,void 0)),this.mappings=n.mappings.map(w=>new z3(w,void 0)),this.adaptions=n.adaptions.map(w=>new Sf(w,void 0,this));else{if(null==e)throw new Error("Either entry or init must be provided.");h=e,this.hypotheses=null!==(r=null===(o=e.hypotheses)||void 0===o?void 0:o.map(w=>new Ju(void 0,w,void 0)))&&void 0!==r?r:this.hypotheses,null!=e.usedExperiments&&Object.entries(e.usedExperiments).forEach(([w,P])=>this.usedExperiments[w]=new Mf(void 0,P,void 0)),this.mappings=null!==(a=null===(s=e.mappings)||void 0===s?void 0:s.map(w=>new z3(void 0,w)))&&void 0!==a?a:this.mappings,this.adaptions=null!==(d=null===(l=e.adaptions)||void 0===l?void 0:l.map(w=>new Sf(void 0,w,this)))&&void 0!==d?d:this.adaptions}this.id=h.id,this.name=h.name}get usedExperimentsList(){return Object.values(this.usedExperiments)}update(n){Object.assign(this,n)}removeAdaption(n){this.adaptions=this.adaptions.filter(e=>e.id!==n)}getLatestAdaption(){const n=this.adaptions.length;return 0===n?this:this.adaptions[n-1].getLatestAdaption()}addHypothesis(n,e){return null==n.id&&(n.id=Oh(n.name,this.getHypothesisList().map(i=>i.id))),null!=e?this.getHypothesis(e).addSubhypothesis(n):this.addRootHypothesis(n)}addRootHypothesis(n){const e=new Ju(void 0,n,void 0);return this.hypotheses.push(e),e}updateHypothesis(n,e,i){const o=this.getHypothesis(n),r=o.parent;if(o.update(i),null==r&&null!=e){const s=this.getHypothesis(e);this.removeRootHypothesis(n),s.addSubhypothesis(o)}else if(null!=r&&null==e)r.removeSubhypothesis(n),this.addRootHypothesis(o);else if(null!=r&&null!=e&&r.id!==e){const s=this.getHypothesis(e);r.removeSubhypothesis(n),s.addSubhypothesis(o)}}removeHypothesis(n){const e=this.getHypothesis(n),i=new Set(e.getHypothesisList().map(o=>o.id));e.parent?e.parent.removeSubhypothesis(e.id):this.removeRootHypothesis(n),this.mappings=this.mappings.filter(o=>!i.has(o.hypothesisId))}removeRootHypothesis(n){this.hypotheses=this.hypotheses.filter(e=>e.id!==n)}getHypothesis(n){const e=this.getHypothesisList().find(i=>i.id===n);if(!e)throw new Error("Hypothesis with id "+n+" does not exist");return e}getHypothesisList(){return this.hypotheses.map(n=>n.getHypothesisList()).reduce((n,e)=>n.concat(e),[])}addExperimentDefinition(n){this.usedExperiments[n._id]=new Mf(void 0,Object.assign(Object.assign({},n.experiment),{id:n._id}),void 0)}removeExperimentDefinition(n){delete this.usedExperiments[n],this.mappings=this.mappings.filter(e=>e.experimentDefinitionId!==n)}updateExperiment(n,e,i){this.usedExperiments[n].getExperiment(e).update(i)}addMapping(n){const e=new z3(void 0,n);if(this.getHypothesis(e.hypothesisId),this.usedExperiments[e.experimentDefinitionId].getExperiment(n.experimentId),this.mappings.find(i=>i.experimentDefinitionId===e.experimentDefinitionId&&i.experimentId===e.experimentId&&i.hypothesisId===e.hypothesisId))throw new Error("Mapping already defined");this.mappings.push(e)}removeMapping(n,e,i){this.mappings=this.mappings.filter(o=>o.experimentDefinitionId!==n||o.experimentId!==e||o.hypothesisId!==i)}getHypothesisMappingsMap(){const n={};return this.getHypothesisList().forEach(i=>n[i.id]=[]),this.mappings.forEach(i=>{n[i.hypothesisId].push({experiment:this.usedExperiments[i.experimentDefinitionId].getExperiment(i.experimentId),metric:i.metric})}),n}executeExperiment(n,e,i){const o=new Sf(void 0,Object.assign(Object.assign({},this),{id:String(Date.now()),name:this.getHypoMoMapAdaptionName(),adaptions:[]}),this);return i.forEach(r=>{o.getHypothesis(r.hypothesisId).applyExperimentResult(r)}),o.mappings=o.mappings.filter(r=>{if(r.experimentDefinitionId!==n||r.experimentId!==e){const s=o.getHypothesis(r.hypothesisId),a=o.usedExperiments[r.experimentDefinitionId].getExperiment(r.experimentId);if(null==s.evidenceScore||s.evidenceScore<=a.maxEvidence)return!0}return!1}),this.adaptions.push(o),o}getHypoMoMapAdaptionName(){const e=/^(.+) - Adaption #([0-9]+)([a-z]*)$/.exec(this.name);if(e){const i=parseInt(e[2],10);return e[1]+" - Adaption #"+(i+1)+e[3]+this.getAdaptionBranch()}return this.name+" - Adaption #1"+this.getAdaptionBranch()}getAdaptionBranch(){if(this.adaptions.length>0){const n="a".charCodeAt(0);return this.adaptions.length>26?" - Adaption #1":String.fromCharCode(n+(this.adaptions.length-1))}return""}toDb(){const n={};return Object.entries(this.usedExperiments).forEach(([e,i])=>n[e]=i.toDb()),{id:this.id,name:this.name,hypotheses:this.hypotheses.map(e=>e.toDb()),usedExperiments:n,mappings:this.mappings.map(e=>e.toDb()),adaptions:this.adaptions.map(e=>e.toDb())}}}let Ef=(()=>{class t extends gs{constructor(e,i){if(super(e,i,t.typeName),null!=e)this.rootHypoMoMap=new Sf(e.rootHypoMoMap,void 0,void 0);else{if(null==i)throw new Error("Either entry or init must be provided.");this.rootHypoMoMap=new Sf(void 0,i.rootHypoMoMap,void 0)}}getHypoMoMapList(){const e=[this.rootHypoMoMap],i=[];let o=e.pop();for(;null!=o;)i.push(o),e.push(...o.adaptions.slice().reverse()),o=e.pop();return i}getHypoMoMap(e){return this.getHypoMoMapList().find(i=>i.id===e)}getLatestHypoMoMap(){return this.rootHypoMoMap.getLatestAdaption()}deleteHypoMoMap(e){const i=this.getHypoMoMap(e);if(null==i)throw new Error("HypoMoMap does not exist.");if(null==i.parent)throw new Error("Can not remove root HypoMoMap.");i.parent.removeAdaption(e)}toDb(){return Object.assign(Object.assign({},super.toDb()),{rootHypoMoMap:this.rootHypoMoMap.toDb()})}}return t.typeName="HypoMoMapTree",t})(),hl=(()=>{class t extends xa{constructor(){super(...arguments),this.typeName=Ef.typeName,this.elementConstructor=Ef}addByName(e){var i=this;return Y(function*(){const o=new Ef(void 0,i.getHypoMoMapTree(e));return yield i.save(o),o})()}getHypoMoMapTree(e){return{rootHypoMoMap:{name:e,id:String(Date.now())}}}updateHypoMoMap(e,i,o){var r=this;return Y(function*(){const s=yield r.get(e);s.getHypoMoMap(i).update(o),yield r.save(s)})()}deleteHypoMoMap(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.deleteHypoMoMap(i),yield o.save(r)})()}addHypothesis(e,i,o,r){var s=this;return Y(function*(){const a=yield s.get(e);a.getHypoMoMap(i).addHypothesis(o,r),yield s.save(a)})()}updateHypothesis(e,i,o,r,s){var a=this;return Y(function*(){const l=yield a.get(e);l.getHypoMoMap(i).updateHypothesis(o,r,s),yield a.save(l)})()}removeHypothesis(e,i,o){var r=this;return Y(function*(){const s=yield r.get(e);s.getHypoMoMap(i).removeHypothesis(o),yield r.save(s)})()}addExperimentDefinition(e,i,o){var r=this;return Y(function*(){const s=yield r.get(e);s.getHypoMoMap(i).addExperimentDefinition(o),yield r.save(s)})()}removeExperimentDefinition(e,i,o){var r=this;return Y(function*(){const s=yield r.get(e);s.getHypoMoMap(i).removeExperimentDefinition(o),yield r.save(s)})()}updateExperiment(e,i,o,r,s){var a=this;return Y(function*(){const l=yield a.get(e);l.getHypoMoMap(i).updateExperiment(o,r,s),yield a.save(l)})()}addMapping(e,i,o){var r=this;return Y(function*(){const s=yield r.get(e);s.getHypoMoMap(i).addMapping(o),yield r.save(s)})()}removeMapping(e,i,o,r,s){var a=this;return Y(function*(){const l=yield a.get(e);l.getHypoMoMap(i).removeMapping(o,r,s),yield a.save(l)})()}executeExperiment(e,i,o,r,s){var a=this;return Y(function*(){const l=yield a.get(e);l.getHypoMoMap(i).executeExperiment(o,r,s),yield a.save(l)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),SG=(()=>{class t{constructor(e){this.hypoMoMapTreeService=e}create(e,i,o){null==this.createMethod?console.warn("No module to create HypoMoMaps added"):this.createMethod(e,i,o)}edit(e,i,o){null==this.editMethod?console.warn("No module to edit HypoMoMaps added"):this.editMethod(e,i,o)}copy(e){var i=this;return Y(function*(){const o=yield i.hypoMoMapTreeService.get(e.id);return o.resetDatabaseState(),yield i.hypoMoMapTreeService.add(o),{id:o._id,type:Ef.typeName}})()}getName(e){var i=this;return Y(function*(){return(yield i.hypoMoMapTreeService.get(e.id)).rootHypoMoMap.name})()}remove(e){var i=this;return Y(function*(){yield i.hypoMoMapTreeService.delete(e.id)})()}view(e,i,o){null==this.viewMethod?console.warn("No module to view HypoMoMaps added"):this.viewMethod(e,i,o)}}return t.\u0275fac=function(e){return new(e||t)(Ve(hl))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),q3=(()=>{class t{constructor(e,i){this.hypoMoMapMetaModelApiService=e,this.metaModelService=i,this.hypoMoMapMetaModelIdentifier={name:"HypoMoMap",type:Ef.typeName}}init(){const e=Object.assign(Object.assign({},this.hypoMoMapMetaModelIdentifier),{api:this.hypoMoMapMetaModelApiService});this.metaModelService.registerMetaModel(e),console.log("Registered HypoMoMap Meta Model")}registerCreateMethod(e){this.hypoMoMapMetaModelApiService.createMethod=e}registerEditMethod(e){this.hypoMoMapMetaModelApiService.editMethod=e}registerViewMethod(e){this.hypoMoMapMetaModelApiService.viewMethod=e}}return t.\u0275fac=function(e){return new(e||t)(Ve(SG),Ve(Zl))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),EG=(()=>{class t{constructor(e){if(e)throw new Error("HypoMoMapMetaModelModule is already loaded. Import it in the AppModule only.")}}return t.\u0275fac=function(e){return new(e||t)(Ve(t,12))},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:[SG,q3,hl,{provide:kl,useFactory:n=>()=>n.init(),deps:[q3],multi:!0}]}),t})(),Tf=(()=>{class t extends xa{constructor(){super(...arguments),this.typeName=X0.typeName,this.elementConstructor=X0}getExperimentDefinitionInit(e){return{author:{},experiment:{id:"root",name:e}}}getExperimentsList(e=[]){var i=this;return Y(function*(){return i.pouchdbService.find(X0.typeName,{selector:{$not:{_id:{$in:e}}}})})()}updateExperimentDefinitionAuthor(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.updateAuthor(i),yield o.save(r)})()}addExperiment(e,i,o){var r=this;return Y(function*(){const s=yield r.get(e);s.addExperiment(i,o),yield r.save(s)})()}updateExperiment(e,i,o,r){var s=this;return Y(function*(){const a=yield s.get(e);a.updateExperiment(i,o,r),yield s.save(a)})()}removeExperiment(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.removeExperiment(i),yield o.save(r)})()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Ei(t)))(i||t)}}(),t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:EG}),t})();const $8e=["deleteExperimentModal"];function W8e(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",22),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteExperiment(r.modalExperiment._id),o()}),c(1,"div",23),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be("Delete Experiment ",e.modalExperiment.name,""),p(1),Be(" You are deleting the experiment ",e.modalExperiment.name,". This can not be undone. This action will not delete the experiment from HypoMoMaps that are using it. ")}}function Y8e(t,n){1&t&&k(0,W8e,4,2,"app-delete-modal",21),2&t&&v("ngIf",null!=T().modalExperiment)}const TG=function(t){return[t]};function X8e(t,n){if(1&t&&(c(0,"a",24),g(1),u()),2&t){const e=n.$implicit;v("routerLink",Fn(2,TG,e._id)),p(1),_t(e.experiment.name)}}function K8e(t,n){if(1&t){const e=ye();c(0,"li",25)(1,"app-results-list-item",26),z("delete",function(){const r=W(e).$implicit;return T().openDeleteExperimentModal(r)}),St(2,27),g(3),Et(),St(4,28),g(5),Et(),re(6,"app-author-info",29),u()()}if(2&t){const e=n.$implicit;p(1),v("viewLink",Fn(4,TG,e._id)),p(2),Be(" ",e.experiment.name," "),p(2),Be(" ",e.experiment.description," "),p(1),v("author",e.author)}}const Q8e=function(){return[]};let J8e=(()=>{class t{constructor(e,i,o,r){this.experimentRepoService=e,this.fb=i,this.listService=o,this.modalService=r,this.experimentForm=this.fb.group({name:this.fb.control("",ft.required)})}openDeleteExperimentModal(e){this.modalExperiment=e,this.modalReference=this.modalService.open(this.deleteExperimentModal,{size:"lg"})}deleteExperiment(e){var i=this;return Y(function*(){yield i.listService.delete(e)})()}addExperiment(e){var i=this;return Y(function*(){yield i.listService.add(i.experimentRepoService.getExperimentDefinitionInit(e.value.name)),i.experimentForm.reset()})()}get experimentsList(){return this.listService.elements}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(Tf),H(zt),H(Go),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-experiments"]],viewQuery:function(e,i){if(1&e&&Ft($8e,7),2&e){let o;bt(o=yt())&&(i.deleteExperimentModal=o.first)}},features:[Tt([Go,{provide:Vs,useExisting:Tf}])],decls:29,vars:9,consts:[["deleteExperimentModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngFor","ngForOf"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Experiments",3,"reloading","loading","noResults"],["noResults",""],["results","",1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],[1,"nav-link",3,"routerLink"],[1,"list-group-item"],[3,"viewLink","delete"],["itemTitle",""],["itemDescription",""],[3,"author"]],template:function(e,i){1&e&&(k(0,Y8e,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Experiments"),u(),k(6,X8e,2,4,"a",4),u()(),c(7,"main",5)(8,"div",6),g(9," Create experiments to use them later in HypoMoMaps "),u(),c(10,"app-list-wrapper",7)(11,"div",8),g(12,"No experiments defined."),u(),c(13,"ul",9),k(14,K8e,7,6,"li",10),u()(),c(15,"div",11)(16,"h6",12),g(17,"Add Experiment"),u(),c(18,"div",13)(19,"form",14),z("ngSubmit",function(){return i.addExperiment(i.experimentForm)}),c(20,"div",15)(21,"label",16),g(22,"Experiment Name"),u(),c(23,"div",17),re(24,"input",18),u()(),c(25,"div",15)(26,"div",19)(27,"button",20),g(28," Add Experiment "),u()()()()()()()),2&e&&(p(4),v("routerLink",Bt(8,Q8e)),p(2),v("ngForOf",i.experimentsList),p(4),v("reloading",i.reloading)("loading",i.loading)("noResults",i.noResults),p(4),v("ngForOf",i.experimentsList),p(5),v("formGroup",i.experimentForm),p(8),v("disabled",!i.experimentForm.valid))},directives:[nt,cr,gn,Lt,Ss,L_,H0,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})(),PG=(()=>{class t extends Es{constructor(e,i){super(i),this.experimentRepoService=e}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.experimentRepoService.getChangesFeed(i).subscribe(()=>this.loadExperimentDefinition(i)),this.loadExperimentDefinition(i)):this.experimentDefinition=void 0}loadExperimentDefinition(e){var i=this;return Y(function*(){i.experimentDefinition=yield i.experimentRepoService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Tf),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function Z8e(t,n){if(1&t&&(c(0,"option",13),g(1),u()),2&t){const e=n.$implicit;v("disabled",T(2).disabledSubexperiments.includes(e.id))("ngValue",e.id),p(1),Xi(" ","-".repeat(e.level)," ",e.name," ")}}function ePe(t,n){if(1&t&&(c(0,"div",1)(1,"label",10),g(2,"Subexperiment of"),u(),c(3,"div",3)(4,"select",11),k(5,Z8e,2,4,"option",12),u()()()),2&t){const e=T();p(5),v("ngForOf",e.experimentList)}}let tPe=(()=>{class t{constructor(e){this.fb=e,this.submitButtonText="Update Experiment",this.submitExperimentForm=new je,this.disabledSubexperiments=[],this.experimentForm=this.fb.group({name:["",ft.required],description:"",subexperimentOf:[void 0]})}ngOnInit(){null==this.experiment&&this.loadForm()}ngOnChanges(e){e.experiment&&this.loadForm(e.experiment.currentValue)}submitForm(){this.submitExperimentForm.emit(this.experimentForm),this.loadForm()}loadForm(e){var i,o,r;this.disabledSubexperiments=null!==(i=null==e?void 0:e.getExperimentList().map(s=>s.id).filter(s=>s))&&void 0!==i?i:[],this.experimentForm=this.fb.group({name:[null!==(o=null==e?void 0:e.name)&&void 0!==o?o:"",ft.required],description:null!==(r=null==e?void 0:e.description)&&void 0!==r?r:"",subexperimentOf:(null==e?void 0:e.parent)?e.parent.id:void 0})}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-experiment-form"]],inputs:{experiment:"experiment",experimentList:"experimentList",submitButtonText:"submitButtonText"},outputs:{submitExperimentForm:"submitExperimentForm"},features:[Xt],decls:16,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],["for","description",1,"col-sm-4","col-form-label"],["type","text","formControlName","description","id","description",1,"form-control"],["class","form-group row",4,"ngIf"],[1,"col-sm-12"],["type","submit",1,"btn","btn-dark","btn-block",3,"disabled"],["for","subexperimentOf",1,"col-sm-4","col-form-label"],["id","subexperimentOf","formControlName","subexperimentOf",1,"form-control"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Experiment Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8,"Experiment Description"),u(),c(9,"div",3),re(10,"input",6),u()(),k(11,ePe,6,1,"div",7),c(12,"div",1)(13,"div",8)(14,"button",9),g(15),u()()()()),2&e&&(v("formGroup",i.experimentForm),p(11),v("ngIf",null==i.experiment||null!=i.experiment.parent),p(3),v("disabled",!i.experimentForm.valid),p(1),Be(" ",i.submitButtonText," "))},directives:[nn,Wt,Vt,wn,Jt,Zt,nt,ki,Lt,Vi,Hi],styles:[""]}),t})(),nPe=(()=>{class t{constructor(e){this.fb=e,this.submitManageArtifactsForm=new je,this.manageArtifactsForm=this.fb.group({artifacts:this.fb.array([])})}ngOnChanges(e){e.experiment&&this.loadForm(e.experiment.currentValue)}submitForm(){this.submitManageArtifactsForm.emit(this.manageArtifactsForm)}get artifacts(){return this.manageArtifactsForm.get("artifacts")}loadForm(e){var i;this.manageArtifactsForm.setControl("artifacts",this.fb.array(null!==(i=null==e?void 0:e.artifacts.map(o=>this.fb.control(o,ft.required)))&&void 0!==i?i:[]))}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-manage-artifacts-form"]],inputs:{experiment:"experiment"},outputs:{submitManageArtifactsForm:"submitManageArtifactsForm"},features:[Xt],decls:7,vars:3,consts:[[3,"formGroup","ngSubmit"],["formArrayName","artifacts",1,"form-group"],["elementName","Artifact",3,"formArray"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-dark","btn-block",3,"disabled"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1),re(2,"app-form-array-list",2),u(),c(3,"div",3)(4,"div",4)(5,"button",5),g(6," Update Artifacts "),u()()()()),2&e&&(v("formGroup",i.manageArtifactsForm),p(2),v("formArray",i.artifacts),p(3),v("disabled",!i.manageArtifactsForm.valid))},directives:[nn,Wt,Vt,vo,z0],styles:[""]}),t})();function iPe(t,n){if(1&t&&(c(0,"small",9),g(1),u()),2&t){const e=T().$implicit;p(1),Be(" ",e.description,"")}}function oPe(t,n){if(1&t){const e=ye();c(0,"app-experiment-tree",10),z("manageArtifacts",function(o){return W(e),T(2).manageArtifacts.emit(o)})("addExperiment",function(o){return W(e),T(2).addExperiment.emit(o)})("updateExperiment",function(o){return W(e),T(2).updateExperiment.emit(o)})("deleteExperiment",function(o){return W(e),T(2).deleteExperiment.emit(o)}),u()}2&t&&v("experiments",T().$implicit.subexperiments)}function rPe(t,n){if(1&t){const e=ye();c(0,"li",2)(1,"div"),g(2),k(3,iPe,2,1,"small",3),u(),c(4,"div")(5,"button",4),z("click",function(){const r=W(e).$implicit;return T().manageArtifacts.emit(r.id)}),g(6," Manage Artifacts "),u(),c(7,"button",5),z("click",function(){const r=W(e).$implicit;return T().addExperiment.emit(r.id)}),g(8," Add "),u(),c(9,"button",6),z("click",function(){const r=W(e).$implicit;return T().updateExperiment.emit(r.id)}),g(10," Update "),u(),c(11,"button",7),z("click",function(){const r=W(e).$implicit;return T().deleteExperiment.emit(r.id)}),g(12," Delete "),u()(),k(13,oPe,1,1,"app-experiment-tree",8),u()}if(2&t){const e=n.$implicit;p(2),Be(" ",e.name," "),p(1),v("ngIf",e.description),p(8),Ht("invisible",null==e.parent),p(2),v("ngIf",e.subexperiments.length>0)}}let sPe=(()=>{class t{constructor(){this.manageArtifacts=new je,this.addExperiment=new je,this.updateExperiment=new je,this.deleteExperiment=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-experiment-tree"]],inputs:{experiments:"experiments"},outputs:{manageArtifacts:"manageArtifacts",addExperiment:"addExperiment",updateExperiment:"updateExperiment",deleteExperiment:"deleteExperiment"},decls:2,vars:1,consts:[[1,"list-group"],["class","\n      d-flex\n      flex-wrap\n      list-group-item\n      justify-content-between\n      align-items-center\n    ",4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap","list-group-item","justify-content-between","align-items-center"],["class","text-muted",4,"ngIf"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-warning","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"],["class","mt-2 w-100",3,"experiments","manageArtifacts","addExperiment","updateExperiment","deleteExperiment",4,"ngIf"],[1,"text-muted"],[1,"mt-2","w-100",3,"experiments","manageArtifacts","addExperiment","updateExperiment","deleteExperiment"]],template:function(e,i){1&e&&(c(0,"ul",0),k(1,rPe,14,5,"li",1),u()),2&e&&(p(1),v("ngForOf",i.experiments))},directives:[Lt,nt,t],styles:[""]}),t})();const aPe=["addExperimentModal"],lPe=["confirmDeleteModal"],cPe=["manageArtifactsModal"],uPe=["updateExperimentModal"];function dPe(t,n){if(1&t&&(c(0,"h4",12),g(1),u()),2&t){const e=T(2);p(1),Be(" ",e.modalExperiment.name," ")}}function pPe(t,n){if(1&t){const e=ye();c(0,"div",13)(1,"div",14)(2,"app-experiment-form",15),z("submitExperimentForm",function(o){return W(e),T(2).updateExperiment(o)}),u()()()}if(2&t){const e=T(2);p(2),v("experiment",e.modalExperiment)("experimentList",e.experimentList)}}function mPe(t,n){if(1&t){const e=ye();c(0,"div",7),k(1,dPe,2,1,"h4",8),c(2,"button",9),z("click",function(){return W(e).dismiss()}),c(3,"span",10),g(4,"\xd7"),u()()(),k(5,pPe,3,2,"div",11)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalExperiment),p(4),v("ngIf",null!=e.modalExperiment&&null!=e.experimentList)}}function fPe(t,n){if(1&t){const e=ye();c(0,"div",13)(1,"div",14)(2,"app-experiment-form",16),z("submitExperimentForm",function(o){return W(e),T(2).addExperiment(o)}),u()()()}if(2&t){const e=T(2);p(2),v("experiment",e.modalExperiment)("experimentList",e.experimentList)}}function hPe(t,n){if(1&t){const e=ye();c(0,"div",7)(1,"h4",12),g(2,"Add Experiment"),u(),c(3,"button",9),z("click",function(){return W(e).dismiss()}),c(4,"span",10),g(5,"\xd7"),u()()(),k(6,fPe,3,2,"div",11)}if(2&t){const e=T();p(6),v("ngIf",null!=e.modalExperiment&&null!=e.experimentList)}}function gPe(t,n){if(1&t&&(c(0,"h4",19),g(1),u()),2&t){const e=T(2);p(1),Be(" ",e.modalExperiment.name," ")}}function _Pe(t,n){if(1&t&&(c(0,"div",13)(1,"div",20)(2,"p"),g(3),u()()()),2&t){const e=T(2);p(3),Be(' You are trying to remove the experiment "',e.modalExperiment.name,'". Please keep in mind that you are removing also all subexperiments. ')}}function vPe(t,n){if(1&t){const e=ye();c(0,"div",21)(1,"button",22),z("click",function(){W(e);const o=T(2);return o.removeExperiment(o.modalExperiment.id)}),g(2," Delete Experiment "),u()()}}function bPe(t,n){if(1&t){const e=ye();c(0,"div",7),k(1,gPe,2,1,"h4",17),c(2,"button",9),z("click",function(){return W(e).dismiss()}),c(3,"span",10),g(4,"\xd7"),u()()(),k(5,_Pe,4,1,"div",11),k(6,vPe,3,0,"div",18)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalExperiment),p(4),v("ngIf",null!=e.modalExperiment),p(1),v("ngIf",null!=e.modalExperiment)}}function yPe(t,n){if(1&t&&(c(0,"h4",12),g(1),u()),2&t){const e=T(2);p(1),Be(" Manage Artifacts of ",e.modalExperiment.name," ")}}function wPe(t,n){if(1&t){const e=ye();c(0,"div",13)(1,"div",14)(2,"app-manage-artifacts-form",23),z("submitManageArtifactsForm",function(o){return W(e),T(2).updateExperiment(o)}),u()()()}if(2&t){const e=T(2);p(2),v("experiment",e.modalExperiment)}}function xPe(t,n){if(1&t){const e=ye();c(0,"div",7),k(1,yPe,2,1,"h4",8),c(2,"button",9),z("click",function(){return W(e).dismiss()}),c(3,"span",10),g(4,"\xd7"),u()()(),k(5,wPe,3,1,"div",11)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalExperiment),p(4),v("ngIf",null!=e.modalExperiment)}}const CPe=function(){return["/","hypomomaps","experiments"]},MPe=function(){return[]};function SPe(t,n){if(1&t&&(c(0,"nav",24)(1,"a",25),g(2,"Experiments"),u(),c(3,"a",26),g(4),u()()),2&t){const e=T();p(1),v("routerLink",Bt(3,CPe)),p(2),v("routerLink",Bt(4,MPe)),p(1),_t(e.experimentDefinition.experiment.name)}}const EPe=function(t){return[t]};function TPe(t,n){if(1&t){const e=ye();c(0,"main",27)(1,"div",28)(2,"h6",29),g(3,"Experiment Tree"),u(),c(4,"div",30)(5,"app-experiment-tree",31),z("manageArtifacts",function(o){return W(e),T().openManageArtifactsModal(o)})("addExperiment",function(o){return W(e),T().openAddExperimentModal(o)})("updateExperiment",function(o){return W(e),T().openUpdateExperimentModal(o)})("deleteExperiment",function(o){return W(e),T().openDeleteExperimentModal(o)}),u()()(),c(6,"div",28)(7,"h6",29),g(8,"Edit Author Information"),u(),c(9,"div",14)(10,"app-author-form",32),z("submitAuthorForm",function(o){return W(e),T().updateAuthor(o.value)}),u()()()()}if(2&t){const e=T();p(5),v("experiments",Fn(2,EPe,e.experimentDefinition.experiment)),p(5),v("author",e.experimentDefinition.author)}}let PPe=(()=>{class t{constructor(e,i,o){this.experimentDefinitionLoaderService=e,this.experimentRepoService=i,this.modalService=o}ngOnInit(){this.experimentDefinitionLoaderService.loaded.subscribe(()=>{this.experimentList=null==this.experimentDefinition?void 0:this.experimentDefinition.experiment.getExperimentList()})}updateAuthor(e){var i=this;return Y(function*(){null!=i.experimentDefinition&&(yield i.experimentRepoService.updateExperimentDefinitionAuthor(i.experimentDefinition._id,e))})()}openAddExperimentModal(e){null!=this.experimentDefinition&&(this.modalExperiment=new Qu(void 0,{name:"",id:""},this.experimentDefinition.experiment.getExperiment(e)),this.modalReference=this.modalService.open(this.addExperimentModal,{size:"lg"}))}addExperiment(e){var i=this;return Y(function*(){var o,r;null!=i.experimentDefinition&&(yield i.experimentRepoService.addExperiment(i.experimentDefinition._id,e.value,null===(o=e.get("subexperimentOf"))||void 0===o?void 0:o.value),null===(r=i.modalReference)||void 0===r||r.close())})()}openUpdateExperimentModal(e){null!=this.experimentDefinition&&(this.modalExperiment=this.experimentDefinition.experiment.getExperiment(e),this.modalReference=this.modalService.open(this.updateExperimentModal,{size:"lg"}))}updateExperiment(e){var i=this;return Y(function*(){var o,r;null!=i.experimentDefinition&&null!=i.modalExperiment&&(yield i.experimentRepoService.updateExperiment(i.experimentDefinition._id,i.modalExperiment.id,null!=e.get("subexperimentOf")?null===(o=e.get("subexperimentOf"))||void 0===o?void 0:o.value:null!=i.modalExperiment.parent?i.modalExperiment.parent.id:void 0,e.value),null===(r=i.modalReference)||void 0===r||r.close())})()}openDeleteExperimentModal(e){null!=this.experimentDefinition&&(this.modalExperiment=this.experimentDefinition.experiment.getExperiment(e),this.modalReference=this.modalService.open(this.confirmDeleteModal,{size:"lg"}))}removeExperiment(e){var i=this;return Y(function*(){var o;null!=i.experimentDefinition&&(yield i.experimentRepoService.removeExperiment(i.experimentDefinition._id,e),null===(o=i.modalReference)||void 0===o||o.close())})()}openManageArtifactsModal(e){null!=this.experimentDefinition&&(this.modalExperiment=this.experimentDefinition.experiment.getExperiment(e),this.modalReference=this.modalService.open(this.manageArtifactsModal,{size:"lg"}))}get experimentDefinition(){return this.experimentDefinitionLoaderService.experimentDefinition}}return t.\u0275fac=function(e){return new(e||t)(H(PG),H(Tf),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-experiment-definition"]],viewQuery:function(e,i){if(1&e&&(Ft(aPe,7),Ft(lPe,7),Ft(cPe,7),Ft(uPe,7)),2&e){let o;bt(o=yt())&&(i.addExperimentModal=o.first),bt(o=yt())&&(i.confirmDeleteModal=o.first),bt(o=yt())&&(i.manageArtifactsModal=o.first),bt(o=yt())&&(i.updateExperimentModal=o.first)}},features:[Tt([PG])],decls:11,vars:2,consts:[["updateExperimentModal",""],["addExperimentModal",""],["confirmDeleteModal",""],["manageArtifactsModal",""],[1,"nav-scroller","bg-white","shadow-sm"],["class","nav nav-underline",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"modal-title"],[1,"modal-body"],[1,"text-muted","pt-3"],[3,"experiment","experimentList","submitExperimentForm"],["submitButtonText","Add Experiment",3,"experiment","experimentList","submitExperimentForm"],["class","modal-title","id","modal-basic-title",4,"ngIf"],["class","modal-footer",4,"ngIf"],["id","modal-basic-title",1,"modal-title"],["role","alert",1,"alert","alert-warning"],[1,"modal-footer"],["type","button",1,"btn","btn-block","btn-danger",3,"click"],[3,"experiment","submitManageArtifactsForm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"mt-1"],[3,"experiments","manageArtifacts","addExperiment","updateExperiment","deleteExperiment"],[3,"author","submitAuthorForm"]],template:function(e,i){1&e&&(k(0,mPe,6,2,"ng-template",null,0,$t),k(2,hPe,7,1,"ng-template",null,1,$t),k(4,bPe,7,3,"ng-template",null,2,$t),k(6,xPe,6,2,"ng-template",null,3,$t),c(8,"div",4),k(9,SPe,5,5,"nav",5),u(),k(10,TPe,11,4,"main",6)),2&e&&(p(9),v("ngIf",i.experimentDefinition),p(1),v("ngIf",i.experimentDefinition))},directives:[nt,tPe,nPe,gn,sPe,G_],styles:[""]}),t})(),Wn=(()=>{class t{constructor(e,i){this.route=e,this.runningProcessService=i,this.errorLoading=!1,this._loaded=new Oe,this._loadedObservable=this._loaded.asObservable(),this.querySubscription=this.route.queryParamMap.subscribe(o=>{var r,s,a;this.artifactVersionId=null!==(r=o.get("artifactVersionId"))&&void 0!==r?r:void 0;const l=o.get("step"),d=null!=l?+l:void 0;this.stepInfo={step:null!=d?d:void 0,runningProcessId:null!==(s=o.get("runningProcessId"))&&void 0!==s?s:void 0,executionId:null!==(a=o.get("executionId"))&&void 0!==a?a:void 0},this.checkUnsubscribeChangesFeed(),null!=this.stepInfo.runningProcessId&&(this.changesFeed=this.runningProcessService.getChangesFeed(this.stepInfo.runningProcessId).subscribe(()=>this.loadProcessInfo()),this.loadProcessInfo())})}get loaded(){return this._loadedObservable}ngOnDestroy(){this.checkUnsubscribeChangesFeed(),this.querySubscription.unsubscribe(),this._loaded.complete()}isInitialized(){return null!=this.runningProcess}isCorrectStep(){var e,i;return(null===(e=this.runningMethod)||void 0===e?void 0:e.currentStepNumber)===(null===(i=this.stepInfo)||void 0===i?void 0:i.step)}get queryParams(){var e;return{step:null!=(null===(e=this.stepInfo)||void 0===e?void 0:e.step)?this.stepInfo.step:void 0,runningProcessId:this.runningProcess?this.runningProcess._id:void 0,executionId:null!=this.runningMethod?this.runningMethod.executionId:void 0,artifactVersionId:this.artifactVersionId}}loadProcessInfo(){var e=this;return Y(function*(){if(null==e.stepInfo)throw new Error("Step Info is null");try{if(null==e.stepInfo.runningProcessId)throw new Error("runningProcessId is undefined");e.runningProcess=yield e.runningProcessService.get(e.stepInfo.runningProcessId)}catch(i){return console.error(i),e.errorLoading=!0,e.runningProcess=void 0,void(e.runningMethod=void 0)}e.runningMethod=e.runningProcess.getRunningMethod(e.stepInfo.executionId),null==e.runningMethod?(e.errorLoading=!0,e.runningMethod=void 0):e._loaded.next()})()}checkUnsubscribeChangesFeed(){null!=this.changesFeed&&(this.changesFeed.unsubscribe(),this.changesFeed=void 0)}}return t.\u0275fac=function(e){return new(e||t)(Ve(Jn),Ve(to))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),Pf=(()=>{class t{constructor(e){this.runningProcessService=e}resolveCreateHypoMoMapManually(e,i,o){var r=this;return Y(function*(){yield r.runningProcessService.addInternalArtifact(e,o,r.getHypoMoMapData(i))})()}resolveEditHypoMoMapManually(e,i){var o=this;return Y(function*(){yield o.runningProcessService.finishEditInternalArtifact(e,i)})()}resolve(e,i){var o=this;return Y(function*(){const r=o.getHypoMoMapData(i);yield o.runningProcessService.finishExecuteStep(e,{outputArtifactData:[r]})})()}getHypoMoMapData(e){return new Gl(void 0,{data:{id:e,type:Ef.typeName},type:go.REFERENCE})}}return t.\u0275fac=function(e){return new(e||t)(Ve(to))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),K0=(()=>{class t{constructor(e,i){this.route=e,this.concreteArtifactService=i,this._loaded=new Oe,this._loadedObservable=this._loaded.asObservable(),this.querySubscription=this.route.queryParamMap.subscribe(o=>{var r;const s=o.get("artifactId"),a=null!==(r=o.get("artifactVersionId"))&&void 0!==r?r:void 0;null!=s?this.loadArtifact(s,a):(this.artifact=void 0,this.version=void 0)})}get loaded(){return this._loadedObservable}ngOnDestroy(){this.querySubscription.unsubscribe(),this._loaded.complete()}loadArtifact(e,i){var o=this;return Y(function*(){o.artifact=yield o.concreteArtifactService.get(e),o.version=null!=i?o.artifact.getVersion(i):void 0,o._loaded.next()})()}get queryParams(){var e,i;return{artifactId:null===(e=this.artifact)||void 0===e?void 0:e._id,artifactVersionId:null===(i=this.version)||void 0===i?void 0:i.id}}}return t.\u0275fac=function(e){return new(e||t)(Ve(Jn),Ve(fp))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const DPe=function(t){return["/","runningprocess","runningprocessview",t]};function FPe(t,n){if(1&t&&(c(0,"a",5),g(1),ci(2,"runningProcessName"),u()),2&t){const e=T(2);v("routerLink",Fn(4,DPe,e.runningProcess._id)),p(1),Be(" ",Io(2,2,e.runningProcess)," ")}}const APe=function(){return["/","bmprocess"]};function IPe(t,n){1&t&&(c(0,"a",5),g(1,"Business Model Development Methods"),u()),2&t&&v("routerLink",Bt(1,APe))}const kPe=function(t){return["/","bmprocess","contextchange",t]};function NPe(t,n){if(1&t&&(c(0,"a",5),g(1),ci(2,"runningProcessName"),u()),2&t){const e=T(2);v("routerLink",Fn(4,kPe,e.runningProcess._id)),p(1),Be(" Context Change: ",Io(2,2,e.runningProcess)," ")}}const RPe=function(t,n){return["/","runningprocess","runningprocessview",t,"method",n]};function OPe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T(2);v("routerLink",fa(2,RPe,e.runningProcess._id,e.runningMethod.executionId)),p(1),Be(" ",e.runningMethod.methodName," ")}}const DG=function(){return[]};function BPe(t,n){if(1&t&&(c(0,"nav",2),k(1,FPe,3,6,"a",3),k(2,IPe,2,2,"a",3),k(3,NPe,3,6,"a",3),k(4,OPe,2,5,"a",3),Fs(5),c(6,"a",4),g(7),u()()),2&t){const e=T();let i;p(1),v("ngIf",!e.runningProcess.contextChange),p(1),v("ngIf",e.runningProcess.contextChange),p(1),v("ngIf",e.runningProcess.contextChange),p(1),v("ngIf",null!=e.runningMethod),p(2),v("routerLink",Bt(7,DG))("queryParams",e.queryParams),p(1),Be(" ",null!==(i=e.apiName)&&void 0!==i?i:"Step"," ")}}const FG=function(t){return["/","concreteArtifacts","detail",t]};function LPe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T(2);v("routerLink",Fn(2,FG,e.artifact._id)),p(1),Be(" Version #",e.artifactVersion+1," ")}}const jPe=function(){return["/","concreteArtifacts"]};function GPe(t,n){if(1&t&&(c(0,"nav",2)(1,"a",5),g(2," Concrete Artifacts "),u(),c(3,"a",5),g(4),u(),k(5,LPe,2,4,"a",3),c(6,"a",4),g(7),u()()),2&t){const e=T();let i;p(1),v("routerLink",Bt(7,jPe)),p(2),v("routerLink",Fn(8,FG,e.artifact._id)),p(1),Be(" ",e.artifact.identifier," "),p(1),v("ngIf",null!=e.artifactVersion),p(1),v("routerLink",Bt(10,DG))("queryParams",e.artifactQueryParams),p(1),Be(" ",null!==(i=e.apiName)&&void 0!==i?i:"Step"," ")}}const VPe=["*"];let ur=(()=>{class t{constructor(e,i){this.processApiService=e,this.artifactApiService=i}get runningProcess(){return this.processApiService.runningProcess}get runningMethod(){return this.processApiService.runningMethod}get artifact(){var e;return null===(e=this.artifactApiService)||void 0===e?void 0:e.artifact}get artifactVersion(){var e,i,o;if(null!=(null===(e=this.artifactApiService)||void 0===e?void 0:e.version))return null===(i=this.artifact)||void 0===i?void 0:i.getVersionNumber(null===(o=this.artifactApiService)||void 0===o?void 0:o.version)}get queryParams(){return this.processApiService.queryParams}get artifactQueryParams(){var e;return null===(e=this.artifactApiService)||void 0===e?void 0:e.queryParams}}return t.\u0275fac=function(e){return new(e||t)(H(Wn),H(K0,8))},t.\u0275cmp=He({type:t,selectors:[["app-api-navigation"]],inputs:{apiName:"apiName"},ngContentSelectors:VPe,decls:3,vars:2,consts:[[1,"nav-scroller","bg-white","shadow-sm"],["class","nav nav-underline",4,"ngIf"],[1,"nav","nav-underline"],["class","nav-link",3,"routerLink",4,"ngIf"],[1,"nav-link","active",3,"routerLink","queryParams"],[1,"nav-link",3,"routerLink"]],template:function(e,i){1&e&&(Dl(),c(0,"div",0),k(1,BPe,8,8,"nav",1),k(2,GPe,8,11,"nav",1),u()),2&e&&(p(1),v("ngIf",null!=i.runningProcess),p(1),v("ngIf",null!=i.artifact))},directives:[nt,gn],pipes:[dp],styles:[""]}),t})();const HPe=function(){return["/","runningprocess"]};function UPe(t,n){1&t&&(c(0,"main",1)(1,"div",2)(2,"p"),g(3,"The running method can not be loaded."),u(),c(4,"p",3)(5,"a",4),g(6,"Go back to overview of running methods"),u()()()()),2&t&&(p(5),v("routerLink",Bt(1,HPe)))}const zPe=function(t){return["/","runningprocess","runningprocessview",t]};function qPe(t,n){if(1&t&&(c(0,"main",1)(1,"div",2)(2,"p"),g(3," Selected development step is currently not executed or has been canceled. "),u(),c(4,"p",3)(5,"a",4),g(6," Go back to kanban board of running method "),u()()()()),2&t){const e=T();p(5),v("routerLink",Fn(1,zPe,e.runningProcess._id))}}function $Pe(t,n){1&t&&(c(0,"p"),g(1," This step cannot be executed yet, because the previous step has not been completed. "),u())}function WPe(t,n){1&t&&(c(0,"p"),g(1," Step already executed. "),u())}const YPe=function(t,n){return["/","runningprocess","runningprocessview",t,"method",n]};function XPe(t,n){if(1&t&&(c(0,"main",1)(1,"div",2),k(2,$Pe,2,0,"p",5),k(3,WPe,2,0,"p",5),c(4,"p",3)(5,"a",4),g(6," Go back to development step overview "),u()()()()),2&t){const e=T();p(2),v("ngIf",null!=e.stepInfo&&null!=e.stepInfo.step&&e.stepInfo.step>e.runningMethod.currentStepNumber),p(1),v("ngIf",null!=e.stepInfo&&null!=e.stepInfo.step&&e.stepInfo.step<e.runningMethod.currentStepNumber),p(2),v("routerLink",fa(3,YPe,e.runningProcess._id,e.runningMethod.executionId))}}let cs=(()=>{class t{constructor(e){this.processApiService=e}get runningProcess(){return this.processApiService.runningProcess}get runningMethod(){return this.processApiService.runningMethod}get stepInfo(){return this.processApiService.stepInfo}get errorLoading(){return this.processApiService.errorLoading}get isCorrectStep(){return this.processApiService.isCorrectStep()}}return t.\u0275fac=function(e){return new(e||t)(H(Wn))},t.\u0275cmp=He({type:t,selectors:[["app-step-errors"]],decls:3,vars:3,consts:[["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"alert","alert-info","my-3"],[1,"mb-0"],[3,"routerLink"],[4,"ngIf"]],template:function(e,i){1&e&&(k(0,UPe,7,2,"main",0),k(1,qPe,7,3,"main",0),k(2,XPe,7,6,"main",0)),2&e&&(v("ngIf",null==i.runningProcess&&i.errorLoading),p(1),v("ngIf",null==i.runningMethod&&null!=i.runningProcess&&i.errorLoading),p(1),v("ngIf",null!=i.runningProcess&&null!=i.runningMethod&&!i.isCorrectStep))},directives:[nt,gn],styles:[""]}),t})();function KPe(t,n){1&t&&re(0,"app-step-errors")}function QPe(t,n){if(1&t){const e=ye();c(0,"main",3)(1,"div",4)(2,"h6",5),g(3,"Create HypoMoMap"),u(),c(4,"div",6)(5,"form",7),z("ngSubmit",function(){return W(e),T().submit()}),c(6,"div",8)(7,"label",9),g(8,"Name"),u(),c(9,"div",10),re(10,"input",11),u()(),c(11,"div",8)(12,"div",12)(13,"button",13),g(14," Create HypoMoMap "),u()()()()()()()}if(2&t){const e=T();p(5),v("formGroup",e.form),p(5),Ht("is-invalid",e.nameControl.invalid),p(3),v("disabled",!e.form.valid)}}let AG=(()=>{class t{constructor(e,i,o,r,s){this.fb=e,this.hypoMoMapResolveService=i,this.hypoMoMapTreeService=o,this.processApiService=r,this.route=s,this.form=this.fb.group({name:["",ft.required]})}submit(){var e=this;return Y(function*(){const i=e.route.snapshot.paramMap.get("id");if(null!=i){if(null!=e.processApiService.runningProcess){const o=yield e.hypoMoMapTreeService.addByName(e.nameControl.value);yield e.hypoMoMapResolveService.resolveCreateHypoMoMapManually(e.processApiService.runningProcess._id,o._id,i)}}else if(null!=e.processApiService.stepInfo){const o=yield e.hypoMoMapTreeService.addByName(e.nameControl.value);yield e.hypoMoMapResolveService.resolve(e.processApiService.stepInfo,o._id)}})()}get runningMethod(){return this.processApiService.runningMethod}isCorrectStep(){return this.processApiService.isCorrectStep()}get nameControl(){return this.form.get("name")}isManually(){var e;return null==(null===(e=this.processApiService.stepInfo)||void 0===e?void 0:e.step)}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(Pf),H(hl),H(Wn),H(Jn))},t.\u0275cmp=He({type:t,selectors:[["app-create-hypo-mo-map"]],features:[Tt([Wn])],decls:3,vars:2,consts:[["apiName","Create HypoMoMap"],[4,"ngIf"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0),k(1,KPe,1,0,"app-step-errors",1),k(2,QPe,15,4,"main",2)),2&e&&(p(1),v("ngIf",!i.isManually()),p(1),v("ngIf",i.isManually()||null!=i.runningMethod&&i.isCorrectStep()))},directives:[ur,nt,cs,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})(),JPe=(()=>{class t extends Es{constructor(e,i){super(i),this.hypoMoMapTreeService=e}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.hypoMoMapTreeService.getChangesFeed(i).subscribe(()=>this.loadHypoMoMapTree(i)),this.loadHypoMoMapTree(i)):this.hypoMoMapTree=void 0}loadHypoMoMapTree(e){var i=this;return Y(function*(){i.hypoMoMapTree=yield i.hypoMoMapTreeService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(hl),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),ac=(()=>{class t extends JPe{constructor(e,i){super(e,i),this.loaded.subscribe(()=>{var o;this.hypoMoMap=null===(o=this.hypoMoMapTree)||void 0===o?void 0:o.getHypoMoMap(this.versionId)})}initParams(e){var i;this.versionId=null!==(i=e.get("versionId"))&&void 0!==i?i:void 0,super.initParams(e)}}return t.\u0275fac=function(e){return new(e||t)(Ve(hl),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function Df(t){return class n extends t{addComment(i){var o=this;return Y(function*(){null!=o.runningProcess&&null!=o.runningMethod&&(yield o.runningProcessService.addComment(o.runningProcess._id,o.runningMethod.executionId,i))})()}updateComment(i){var o=this;return Y(function*(){null!=o.runningProcess&&null!=o.runningMethod&&(yield o.runningProcessService.updateComment(o.runningProcess._id,o.runningMethod.executionId,i))})()}removeComment(i){var o=this;return Y(function*(){null!=o.runningProcess&&null!=o.runningMethod&&(yield o.runningProcessService.removeComment(o.runningProcess._id,o.runningMethod.executionId,i))})()}}}function Ff(t){return class n extends t{get runningProcess(){return this.processApiService.runningProcess}get runningMethod(){return this.processApiService.runningMethod}isCorrectStep(){return this.processApiService.isCorrectStep()}}}function ZPe(t,n){if(1&t&&(c(0,"option",16),g(1),u()),2&t){const e=n.$implicit;v("disabled",T().disabledSubhypotheses.includes(e.id))("ngValue",e.id),p(1),Xi(" ","-".repeat(e.level)," ",e.name," ")}}function eDe(t,n){1&t&&re(0,"i",19)}function tDe(t,n){1&t&&re(0,"i",20)}function nDe(t,n){if(1&t&&(k(0,eDe,1,0,"i",17),k(1,tDe,1,0,"i",18)),2&t){const e=n.fill;v("ngIf",100===e),p(1),v("ngIf",100!==e)}}let iDe=(()=>{class t{constructor(e){this.fb=e,this.submitButtonText="Update Hypothesis",this.submitHypothesisForm=new je,this.disabledSubhypotheses=[],this.hypothesisForm=this.fb.group({name:["",ft.required],priority:1,subhypothesesConnections:[gp.OR,ft.required],subhypothesisOf:null})}ngOnInit(){null==this.hypothesis&&this.loadForm()}ngOnChanges(e){e.hypothesis&&this.loadForm(e.hypothesis.currentValue)}submitForm(){this.submitHypothesisForm.emit(this.hypothesisForm),this.loadForm()}loadForm(e){var i,o,r,s;this.disabledSubhypotheses=null!==(i=null==e?void 0:e.getHypothesisList().map(a=>a.id).filter(a=>a))&&void 0!==i?i:[],this.hypothesisForm=this.fb.group({name:[null!==(o=null==e?void 0:e.name)&&void 0!==o?o:"",ft.required],priority:null!==(r=null==e?void 0:e.priority)&&void 0!==r?r:1,subhypothesesConnections:[null!==(s=null==e?void 0:e.subhypothesesConnections)&&void 0!==s?s:gp.OR,ft.required],subhypothesisOf:(null==e?void 0:e.parent)?e.parent.id:null})}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-hypothesis-form"]],inputs:{hypothesis:"hypothesis",hypothesisList:"hypothesisList",submitButtonText:"submitButtonText"},outputs:{submitHypothesisForm:"submitHypothesisForm"},features:[Xt],decls:34,vars:9,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],["for","subhypothesisOf",1,"col-sm-4","col-form-label"],["id","subhypothesisOf","formControlName","subhypothesisOf",1,"form-control"],[3,"ngValue"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],["for","priority",1,"col-sm-4","col-form-label"],["priorityIcon",""],["id","priority","formControlName","priority",1,"rating",3,"starTemplate","max"],["for","subhypothesesConnections",1,"col-sm-4","col-form-label"],["id","subhypothesesConnections","formControlName","subhypothesesConnections",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-dark","btn-block",3,"disabled"],[3,"disabled","ngValue"],["class","fa fa-square",4,"ngIf"],["class","far fa-square",4,"ngIf"],[1,"fa","fa-square"],[1,"far","fa-square"]],template:function(e,i){if(1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Hypothesis Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8,"Subhypothesis of"),u(),c(9,"div",3)(10,"select",6)(11,"option",7),g(12,"root"),u(),k(13,ZPe,2,4,"option",8),u()()(),c(14,"div",1)(15,"label",9),g(16,"Priority"),u(),c(17,"div",3),k(18,nDe,2,2,"ng-template",null,10,$t),re(20,"ngb-rating",11),u()(),c(21,"div",1)(22,"label",12),g(23,"Subhypotheses Connections"),u(),c(24,"div",3)(25,"select",13)(26,"option",7),g(27,"AND"),u(),c(28,"option",7),g(29,"OR"),u()()()(),c(30,"div",1)(31,"div",14)(32,"button",15),g(33),u()()()()),2&e){const o=hn(19);v("formGroup",i.hypothesisForm),p(11),v("ngValue",null),p(2),v("ngForOf",i.hypothesisList),p(7),v("starTemplate",o)("max",5),p(6),v("ngValue","and"),p(2),v("ngValue","or"),p(4),v("disabled",!i.hypothesisForm.valid),p(1),Be(" ",i.submitButtonText," ")}},directives:[nn,Wt,Vt,wn,Jt,Zt,ki,Vi,Hi,Lt,nt,rp],styles:[""]}),t})();function oDe(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T();p(1),_t(e.hypothesis.name)}}function rDe(t,n){1&t&&(c(0,"span"),g(1,"Add Hypothesis"),u())}function sDe(t,n){if(1&t){const e=ye();c(0,"div",6)(1,"div",7)(2,"app-hypothesis-form",8),z("submitHypothesisForm",function(o){return W(e),T().updateHypothesis.emit(o)}),u()()()}if(2&t){const e=T();p(2),v("hypothesis",e.hypothesis)("hypothesisList",e.hypothesisList)("submitButtonText",e.add?"Add Hypothesis":"Update Hypothesis")}}let $3=(()=>{class t{constructor(e){this.activeModal=e,this.updateHypothesis=new je}ngOnDestroy(){this.updateHypothesis.complete()}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-hypothesis-modal"]],inputs:{add:"add",hypothesis:"hypothesis",hypothesisList:"hypothesisList"},outputs:{updateHypothesis:"updateHypothesis"},decls:8,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[1,"text-muted","pt-3"],[3,"hypothesis","hypothesisList","submitButtonText","submitHypothesisForm"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),k(2,oDe,2,1,"span",2),k(3,rDe,2,0,"span",2),u(),c(4,"button",3),z("click",function(){return i.dismiss()}),c(5,"span",4),g(6,"\xd7"),u()()(),k(7,sDe,3,3,"div",5)),2&e&&(p(2),v("ngIf",null!=i.hypothesis&&!i.add),p(1),v("ngIf",i.add),p(4),v("ngIf",(i.add||null!=i.hypothesis)&&null!=i.hypothesisList))},directives:[nt,iDe],styles:[""]}),t})();function aDe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",1),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T();return o.removeHypothesis.emit(o.hypothesis.id)}),c(1,"div",2),g(2),u(),g(3),u()}if(2&t){const e=T();p(2),_t(e.hypothesis.name),p(1),Be(' You are trying to remove the hypothesis "',e.hypothesis.name,'". Please keep in mind that you are also removing all subhypotheses.\n')}}let IG=(()=>{class t{constructor(e){this.activeModal=e,this.removeHypothesis=new je}ngOnDestroy(){this.removeHypothesis.complete()}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-hypothesis-delete-modal"]],inputs:{hypothesis:"hypothesis"},outputs:{removeHypothesis:"removeHypothesis"},decls:1,vars:1,consts:[[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""]],template:function(e,i){1&e&&k(0,aDe,4,2,"app-delete-modal",0),2&e&&v("ngIf",null!=i.hypothesis)},directives:[nt,cr],styles:[""]}),t})();function kG(t){return class n extends t{openAddHypothesisModal(i){if(null!=this.hypoMoMap){let o;o=null!=i?new Ju(void 0,{name:"",id:"",priority:1},this.hypoMoMap.getHypothesis(i)):void 0,this.modalReference=this.modalService.open($3,{size:"lg"});const r=this.modalReference.componentInstance;r.add=!0,r.hypothesis=o,r.hypothesisList=this.hypothesisList,r.updateHypothesis.subscribe(s=>{this.addHypothesis(s)})}}addHypothesis(i){var o=this;return Y(function*(){var r,s,a;if(null!=o.hypoMoMapTree&&null!=o.hypoMoMap){const l=null!==(s=null===(r=i.get("subhypothesisOf"))||void 0===r?void 0:r.value)&&void 0!==s?s:void 0;yield o.hypoMoMapTreeService.addHypothesis(o.hypoMoMapTree._id,o.hypoMoMap.id,i.value,l),null===(a=o.modalReference)||void 0===a||a.close()}})()}openUpdateHypothesisModal(i){if(null!=this.hypoMoMap){const o=this.hypoMoMap.getHypothesis(i);this.modalReference=this.modalService.open($3,{size:"lg"});const r=this.modalReference.componentInstance;r.add=!1,r.hypothesis=o,r.hypothesisList=this.hypothesisList,r.updateHypothesis.subscribe(s=>{this.updateHypothesis(o,s)})}}updateHypothesis(i,o){var r=this;return Y(function*(){var s,a,l;if(null!=r.hypoMoMapTree&&null!=r.hypoMoMap){const d=null!==(a=null===(s=o.get("subhypothesisOf"))||void 0===s?void 0:s.value)&&void 0!==a?a:void 0;yield r.hypoMoMapTreeService.updateHypothesis(r.hypoMoMapTree._id,r.hypoMoMap.id,i.id,d,o.value),null===(l=r.modalReference)||void 0===l||l.close()}})()}openDeleteHypothesisModal(i){if(null!=this.hypoMoMap){const o=this.hypoMoMap.getHypothesis(i);this.modalReference=this.modalService.open(IG,{size:"lg"});const r=this.modalReference.componentInstance;r.hypothesis=o,r.removeHypothesis.subscribe(s=>{this.removeHypothesis(s)})}}removeHypothesis(i){var o=this;return Y(function*(){var r;null!=o.hypoMoMapTree&&null!=o.hypoMoMap&&(yield o.hypoMoMapTreeService.removeHypothesis(o.hypoMoMapTree._id,o.hypoMoMap.id,i),null===(r=o.modalReference)||void 0===r||r.close())})()}onLoaded(){var i;null===(i=super.onLoaded)||void 0===i||i.call(this);const o=this.modalReference;null!=o&&null!=o.componentInstance&&(o.componentInstance instanceof $3?this.updateHypothesisModal(o):o.componentInstance instanceof IG&&this.updateHypothesisDeleteModal(o))}updateHypothesisModal(i){var o;const r=i.componentInstance;if(null!=r.hypothesis){const s=r.hypothesis.id;try{r.hypothesis=null===(o=this.hypoMoMap)||void 0===o?void 0:o.getHypothesis(s)}catch(a){if(!(a instanceof Error&&a.message==="Hypothesis with id "+s+" does not exist"))throw a;i.dismiss()}}r.hypothesisList=this.hypothesisList}updateHypothesisDeleteModal(i){var o;const r=i.componentInstance;if(null!=r.hypothesis){const s=r.hypothesis.id;try{r.hypothesis=null===(o=this.hypoMoMap)||void 0===o?void 0:o.getHypothesis(s)}catch(a){if(!(a instanceof Error&&a.message==="Hypothesis with id "+s+" does not exist"))throw a;i.dismiss()}}}}}function lDe(t,n){if(1&t&&(c(0,"div"),re(1,"ngb-rating",5),u()),2&t){const e=T();p(1),v("max",5)("readonly",!0)("rate",e.hypothesis.evidenceScore)}}function cDe(t,n){1&t&&(St(0),re(1,"i",6),c(2,"span",7),g(3,"validated"),u(),Et())}function uDe(t,n){1&t&&(St(0),re(1,"i",8),c(2,"span",7),g(3,"disapproved"),u(),Et())}function dDe(t,n){1&t&&(St(0),re(1,"i",9),c(2,"span",7),g(3,"untested"),u(),Et())}function pDe(t,n){1&t&&(St(0),re(1,"i",10),c(2,"span",7),g(3,"and"),u(),Et())}function mDe(t,n){1&t&&(St(0),re(1,"i",11),c(2,"span",7),g(3,"or"),u(),Et())}function fDe(t,n){1&t&&re(0,"i",14)}function hDe(t,n){1&t&&re(0,"i",15)}function gDe(t,n){if(1&t&&(k(0,fDe,1,0,"i",12),k(1,hDe,1,0,"i",13)),2&t){const e=n.fill;v("ngIf",100===e),p(1),v("ngIf",100!==e)}}let W3=(()=>{class t{constructor(){this.showEvidence=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-hypothesis-info"]],inputs:{hypothesis:"hypothesis",showEvidence:"showEvidence"},decls:16,vars:11,consts:[[4,"ngIf"],[1,"d-flex"],[1,"mr-1"],["priorityIcon",""],["title","Priority",3,"starTemplate","max","readonly","rate"],["title","Evidence Score",3,"max","readonly","rate"],["aria-hidden","true","title","validated",1,"fa","fa-check"],[1,"sr-only"],["aria-hidden","true","title","disapproved",1,"fa","fa-times"],["aria-hidden","true","title","untested",1,"fa","fa-question"],["aria-hidden","true","title","and",1,"fas","fa-chevron-circle-up"],["aria-hidden","true","title","or",1,"fas","fa-chevron-up"],["class","fa fa-square",4,"ngIf"],["class","far fa-square",4,"ngIf"],[1,"fa","fa-square"],[1,"far","fa-square"]],template:function(e,i){if(1&e&&(c(0,"div"),k(1,lDe,2,3,"div",0),c(2,"div",1)(3,"div",2),k(4,cDe,4,0,"ng-container",0),k(5,uDe,4,0,"ng-container",0),k(6,dDe,4,0,"ng-container",0),u(),c(7,"div",2),g(8),u(),c(9,"div"),k(10,pDe,4,0,"ng-container",0),k(11,mDe,4,0,"ng-container",0),u()(),c(12,"div"),k(13,gDe,2,2,"ng-template",null,3,$t),re(15,"ngb-rating",4),u()()),2&e){const o=hn(14);p(1),v("ngIf",i.showEvidence),p(3),v("ngIf","validated"===i.hypothesis.state),p(1),v("ngIf","disapproved"===i.hypothesis.state),p(1),v("ngIf","untested"===i.hypothesis.state),p(2),Be(" ",i.hypothesis.name," "),p(2),v("ngIf","and"===i.hypothesis.subhypothesesConnections),p(1),v("ngIf","or"===i.hypothesis.subhypothesesConnections),p(4),v("starTemplate",o)("max",5)("readonly",!0)("rate",i.hypothesis.priority)}},directives:[nt,rp],styles:[""]}),t})();function _De(t,n){if(1&t&&(c(0,"small",5),g(1),u()),2&t){const e=T();p(1),Be(" ",e.experiment.description,"")}}function vDe(t,n){if(1&t&&(c(0,"div"),g(1),u()),2&t){const e=T();p(1),Be("Metric: ",e.metric,"")}}function bDe(t,n){1&t&&re(0,"i",8)}function yDe(t,n){1&t&&re(0,"i",9)}function wDe(t,n){if(1&t&&(k(0,bDe,1,0,"i",6),k(1,yDe,1,0,"i",7)),2&t){const e=n.fill;v("ngIf",100===e),p(1),v("ngIf",100!==e)}}let Q0=(()=>{class t{constructor(){this.showDescription=!0,this.metric=void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-experiment-info"]],inputs:{experiment:"experiment",showDescription:"showDescription",metric:"metric"},decls:11,vars:10,consts:[["title","Max Evidence",3,"max","readonly","rate"],["class","text-muted",4,"ngIf"],[4,"ngIf"],["costsIcon",""],["title","Costs",3,"starTemplate","max","readonly","rate"],[1,"text-muted"],["class","fas fa-circle",4,"ngIf"],["class","far fa-circle",4,"ngIf"],[1,"fas","fa-circle"],[1,"far","fa-circle"]],template:function(e,i){if(1&e&&(c(0,"div")(1,"div"),re(2,"ngb-rating",0),u(),c(3,"div"),g(4),k(5,_De,2,1,"small",1),u(),k(6,vDe,2,1,"div",2),c(7,"div"),k(8,wDe,2,2,"ng-template",null,3,$t),re(10,"ngb-rating",4),u()()),2&e){const o=hn(9);p(2),v("max",5)("readonly",!0)("rate",i.experiment.maxEvidence),p(2),Be(" ",i.experiment.name," "),p(1),v("ngIf",i.showDescription&&i.experiment.description),p(1),v("ngIf",null!=i.metric),p(4),v("starTemplate",o)("max",5)("readonly",!0)("rate",i.experiment.costs)}},directives:[rp,nt],styles:[""]}),t})();function xDe(t,n){if(1&t){const e=ye();c(0,"button",10),z("click",function(){W(e);const o=T().$implicit;return T().addExperiment.emit(o.id)}),g(1," Add Experiment "),u()}}function CDe(t,n){if(1&t){const e=ye();c(0,"button",11),z("click",function(){W(e);const o=T().$implicit;return T().showMappings.emit(o.id)}),g(1," Show mappings "),u()}}function MDe(t,n){if(1&t){const e=ye();c(0,"button",10),z("click",function(){W(e);const o=T().$implicit;return T().addHypothesis.emit(o.id)}),g(1," Add "),u()}}function SDe(t,n){if(1&t){const e=ye();c(0,"button",12),z("click",function(){W(e);const o=T().$implicit;return T().updateHypothesis.emit(o.id)}),g(1," Update "),u()}}function EDe(t,n){if(1&t){const e=ye();c(0,"button",13),z("click",function(){W(e);const o=T().$implicit;return T().deleteHypothesis.emit(o.id)}),g(1," Delete "),u()}}function TDe(t,n){if(1&t&&(c(0,"li",16),re(1,"app-experiment-info",17),u()),2&t){const e=n.$implicit;p(1),v("experiment",e.experiment)("metric",e.metric)("showDescription",!1)}}function PDe(t,n){if(1&t&&(c(0,"ul",14),k(1,TDe,2,3,"li",15),u()),2&t){const e=T().$implicit,i=T();p(1),v("ngForOf",i.hypothesisExperimentMap[e.id])}}function DDe(t,n){if(1&t){const e=ye();c(0,"app-hypothesis-tree",18),z("addExperiment",function(o){return W(e),T(2).addExperiment.emit(o)})("showMappings",function(o){return W(e),T(2).showMappings.emit(o)})("addHypothesis",function(o){return W(e),T(2).addHypothesis.emit(o)})("updateHypothesis",function(o){return W(e),T(2).updateHypothesis.emit(o)})("deleteHypothesis",function(o){return W(e),T(2).deleteHypothesis.emit(o)}),u()}if(2&t){const e=T().$implicit,i=T();v("hypotheses",e.subhypotheses)("hypothesisExperimentMap",i.hypothesisExperimentMap)("processPhase",i.processPhase)}}function FDe(t,n){if(1&t&&(c(0,"li",2),re(1,"app-hypothesis-info",3),c(2,"div"),k(3,xDe,2,0,"button",4),k(4,CDe,2,0,"button",5),k(5,MDe,2,0,"button",4),k(6,SDe,2,0,"button",6),k(7,EDe,2,0,"button",7),u(),k(8,PDe,2,1,"ul",8),k(9,DDe,1,3,"app-hypothesis-tree",9),u()),2&t){const e=n.$implicit,i=T();p(1),v("hypothesis",e)("showEvidence","stepAdaption"===i.processPhase),p(2),v("ngIf","stepMap"===i.processPhase),p(1),v("ngIf","stepMap"===i.processPhase),p(1),v("ngIf","stepInit"===i.processPhase),p(1),v("ngIf","stepInit"===i.processPhase),p(1),v("ngIf","stepInit"===i.processPhase),p(1),v("ngIf","stepMap"===i.processPhase||"stepView"===i.processPhase),p(1),v("ngIf",e.subhypotheses.length>0)}}let U_=(()=>{class t{constructor(){this.hypothesisExperimentMap={},this.addExperiment=new je,this.showMappings=new je,this.addHypothesis=new je,this.updateHypothesis=new je,this.deleteHypothesis=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-hypothesis-tree"]],inputs:{hypotheses:"hypotheses",hypothesisExperimentMap:"hypothesisExperimentMap",processPhase:"processPhase"},outputs:{addExperiment:"addExperiment",showMappings:"showMappings",addHypothesis:"addHypothesis",updateHypothesis:"updateHypothesis",deleteHypothesis:"deleteHypothesis"},decls:2,vars:1,consts:[[1,"list-group","shadow-sm"],["class","\n      d-flex\n      flex-wrap\n      list-group-item\n      justify-content-between\n      align-items-center\n    ",4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap","list-group-item","justify-content-between","align-items-center"],[3,"hypothesis","showEvidence"],["type","button","class","btn btn-primary btn-xs mr-1",3,"click",4,"ngIf"],["type","button","class","btn btn-dark btn-xs mr-1",3,"click",4,"ngIf"],["type","button","class","btn btn-warning btn-xs mr-1",3,"click",4,"ngIf"],["type","button","class","btn btn-danger btn-xs",3,"click",4,"ngIf"],["class","list-group list-group-horizontal w-100 overflow-auto",4,"ngIf"],["class","mt-2 w-100",3,"hypotheses","hypothesisExperimentMap","processPhase","addExperiment","showMappings","addHypothesis","updateHypothesis","deleteHypothesis",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-warning","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"],[1,"list-group","list-group-horizontal","w-100","overflow-auto"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"experiment","metric","showDescription"],[1,"mt-2","w-100",3,"hypotheses","hypothesisExperimentMap","processPhase","addExperiment","showMappings","addHypothesis","updateHypothesis","deleteHypothesis"]],template:function(e,i){1&e&&(c(0,"ul",0),k(1,FDe,10,9,"li",1),u()),2&e&&(p(1),v("ngForOf",i.hypotheses))},directives:[Lt,W3,nt,Q0,t],styles:[""]}),t})();function ADe(t,n){1&t&&re(0,"i",13)}function IDe(t,n){1&t&&re(0,"i",14)}function kDe(t,n){if(1&t&&(k(0,ADe,1,0,"i",11),k(1,IDe,1,0,"i",12)),2&t){const e=n.fill;v("ngIf",100===e),p(1),v("ngIf",100!==e)}}function NDe(t,n){1&t&&(c(0,"div",1),re(1,"ngb-rating",15),g(2," Evidence Score "),u()),2&t&&(p(1),v("max",5)("readonly",!0)("rate",3))}let z_=(()=>{class t{constructor(){this.showEvidenceScore=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-hypothesis-tree-legend"]],inputs:{showEvidenceScore:"showEvidenceScore"},decls:41,vars:5,consts:[[1,"row"],[1,"col-3"],["aria-hidden","true","title","untested",1,"fa","fa-question"],[1,"sr-only"],["aria-hidden","true","title","validated",1,"fa","fa-check"],["aria-hidden","true","title","disapproved",1,"fa","fa-times"],["aria-hidden","true","title","and",1,"fas","fa-chevron-circle-up"],["aria-hidden","true","title","or",1,"fas","fa-chevron-up"],["priorityIcon",""],[3,"starTemplate","max","readonly","rate"],["class","col-3",4,"ngIf"],["class","fa fa-square",4,"ngIf"],["class","far fa-square",4,"ngIf"],[1,"fa","fa-square"],[1,"far","fa-square"],[3,"max","readonly","rate"]],template:function(e,i){if(1&e&&(c(0,"div",0)(1,"div",1)(2,"strong"),g(3,"Legend:"),u()(),c(4,"div",1),re(5,"i",2),c(6,"span",3),g(7,"untested"),u(),g(8," Untested "),u(),c(9,"div",1),re(10,"i",4),c(11,"span",3),g(12,"validated"),u(),g(13," Validated "),u(),c(14,"div",1),re(15,"i",5),c(16,"span",3),g(17,"disapproved"),u(),g(18," Disapproved "),u()(),c(19,"div",0),re(20,"div",1)(21,"div",1),c(22,"div",1),re(23,"i",6),c(24,"span",3),g(25,"and"),u(),g(26," And "),u(),c(27,"div",1),re(28,"i",7),c(29,"span",3),g(30,"or"),u(),g(31," Or "),u()(),c(32,"div",0),re(33,"div",1)(34,"div",1),c(35,"div",1),k(36,kDe,2,2,"ng-template",null,8,$t),re(38,"ngb-rating",9),g(39," Priority "),u(),k(40,NDe,3,3,"div",10),u()),2&e){const o=hn(37);p(38),v("starTemplate",o)("max",5)("readonly",!0)("rate",3),p(2),v("ngIf",i.showEvidenceScore)}},directives:[nt,rp],styles:[""]}),t})();function RDe(t,n){if(1&t){const e=ye();c(0,"main",2)(1,"div",3),g(2," Create the Hypotheses Lake by creating hypotheses. "),u(),c(3,"div",4)(4,"div",5)(5,"h6",6),g(6,"Hypothesis Tree"),u(),c(7,"button",7),z("click",function(){return W(e),T().openAddHypothesisModal()}),g(8," Add Hypothesis "),u()(),c(9,"div",8)(10,"app-hypothesis-tree",9),z("addHypothesis",function(o){return W(e),T().openAddHypothesisModal(o)})("updateHypothesis",function(o){return W(e),T().openUpdateHypothesisModal(o)})("deleteHypothesis",function(o){return W(e),T().openDeleteHypothesisModal(o)}),u()(),c(11,"div",8),re(12,"app-hypothesis-tree-legend"),u()(),c(13,"div",4)(14,"app-running-process-method-comments",10),z("addComment",function(o){return W(e),T().addComment(o)})("updateComment",function(o){return W(e),T().updateComment(o)})("removeComment",function(o){return W(e),T().removeComment(o)}),u()(),c(15,"div",4)(16,"h6",11),g(17,"Finish editing"),u(),c(18,"button",12),z("click",function(){return W(e),T().finish()}),g(19," Finish editing "),u()()()}if(2&t){const e=T();p(10),v("hypotheses",e.hypoMoMap.hypotheses)("processPhase","stepInit"),p(4),v("comments",e.runningMethod.comments)}}let BDe=(()=>{class t extends(function ODe(){return kG(Ff(Df(um)))}()){constructor(e,i,o,r,s,a){super(),this.processApiService=e,this.runningProcessService=i,this.hypoMoMapLoaderService=o,this.hypoMoMapResolveService=r,this.hypoMoMapTreeService=s,this.modalService=a}ngOnInit(){this.hypoMoMapLoaderService.loaded.subscribe(()=>{var e;this.hypothesisList=null===(e=this.hypoMoMap)||void 0===e?void 0:e.getHypothesisList(),this.onLoaded()})}finish(){var e=this;return Y(function*(){null!=e.processApiService.stepInfo&&null!=e.hypoMoMapTree&&(yield e.hypoMoMapResolveService.resolve(e.processApiService.stepInfo,e.hypoMoMapTree._id))})()}get hypoMoMapTree(){return this.hypoMoMapLoaderService.hypoMoMapTree}get hypoMoMap(){return this.hypoMoMapLoaderService.hypoMoMap}}return t.\u0275fac=function(e){return new(e||t)(H(Wn),H(to),H(ac),H(Pf),H(hl),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-add-hypotheses"]],features:[Tt([Wn,ac]),mi],decls:3,vars:1,consts:[["apiName","Add Hypotheses"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"my-3","alert","alert-info"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"d-flex","align-items-baseline","justify-content-between","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"mt-1"],[3,"hypotheses","processPhase","addHypothesis","updateHypothesis","deleteHypothesis"],[3,"comments","addComment","updateComment","removeComment"],[1,"border-bottom","border-gray","pb-2"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0)(1,"app-step-errors"),k(2,RDe,20,3,"main",1)),2&e&&(p(2),v("ngIf",null!=i.hypoMoMap&&null!=i.runningMethod&&i.isCorrectStep()))},directives:[ur,cs,nt,U_,z_,Ts],styles:[""]}),t})();function LDe(t,n){if(1&t&&(c(0,"option",14),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e),p(1),Be(" ",e.experiment.name," ")}}let NG=(()=>{class t{constructor(e,i){this.activeModal=e,this.fb=i,this.addExperiment=new je,this.formGroup=this.fb.group({experiment:[null,ft.required]})}ngOnDestroy(){this.addExperiment.complete()}dismiss(){this.activeModal.dismiss()}get experimentControl(){return this.formGroup.get("experiment")}get selectedExperiment(){var e;return null!==(e=this.experimentControl.value)&&void 0!==e?e:void 0}}return t.\u0275fac=function(e){return new(e||t)(H(ar),H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-experiment-add-modal"]],inputs:{experiments:"experiments"},outputs:{addExperiment:"addExperiment"},decls:19,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","experimentSelector",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","experimentSelector","formControlName","experiment",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"ngValue"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2,"Add Experiment"),u(),c(3,"button",2),z("click",function(){return i.dismiss()}),c(4,"span",3),g(5,"\xd7"),u()()(),c(6,"div",4)(7,"div",5)(8,"form",6),z("ngSubmit",function(){return i.addExperiment.emit(i.selectedExperiment)}),c(9,"div",7)(10,"label",8),g(11,"Experiment Definition"),u(),c(12,"div",9)(13,"select",10),k(14,LDe,2,2,"option",11),u()()(),c(15,"div",7)(16,"div",12)(17,"button",13),g(18," Add Experiment "),u()()()()()()),2&e&&(p(8),v("formGroup",i.formGroup),p(6),v("ngForOf",i.experiments),p(3),v("disabled",!i.formGroup.valid))},directives:[nn,Wt,Vt,ki,Jt,Zt,Lt,Vi,Hi],styles:[""]}),t})();function jDe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",1),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T();return o.removeExperiment.emit(o.experiment.id)}),c(1,"div",2),g(2),u(),g(3),u()}if(2&t){const e=T();p(2),Be("Remove Experiment ",e.experiment.name,""),p(1),Be(' You are trying to remove the experiment "',e.experiment.name,'". Please keep in mind that you are removing also all mappings to hypotheses.\n')}}let RG=(()=>{class t{constructor(e){this.activeModal=e,this.removeExperiment=new je}ngOnDestroy(){this.removeExperiment.complete()}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-experiment-delete-modal"]],inputs:{experiment:"experiment"},outputs:{removeExperiment:"removeExperiment"},decls:1,vars:1,consts:[[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""]],template:function(e,i){1&e&&k(0,jDe,4,2,"app-delete-modal",0),2&e&&v("ngIf",null!=i.experiment)},directives:[nt,cr],styles:[""]}),t})();function GDe(t,n){1&t&&re(0,"i",12)}function VDe(t,n){1&t&&re(0,"i",13)}function HDe(t,n){if(1&t&&(k(0,GDe,1,0,"i",10),k(1,VDe,1,0,"i",11)),2&t){const e=n.fill;v("ngIf",100===e),p(1),v("ngIf",100!==e)}}let UDe=(()=>{class t{constructor(e){this.fb=e,this.submitEvidenceCostsForm=new je,this.evidenceCostsForm=this.fb.group({maxEvidence:[void 0,ft.required],costs:[void 0,ft.required]})}ngOnInit(){null==this.experiment&&this.loadForm()}ngOnChanges(e){e.experiment&&this.loadForm(e.experiment.currentValue)}submitForm(){this.submitEvidenceCostsForm.emit(this.evidenceCostsForm),this.loadForm()}loadForm(e){this.evidenceCostsForm=this.fb.group({maxEvidence:[null==e?void 0:e.maxEvidence,ft.required],costs:[null==e?void 0:e.costs,ft.required]})}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-evidence-costs-form"]],inputs:{experiment:"experiment"},outputs:{submitEvidenceCostsForm:"submitEvidenceCostsForm"},features:[Xt],decls:17,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","maxEvidence",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","maxEvidence","formControlName","maxEvidence",1,"rating",3,"max"],["for","costs",1,"col-sm-4","col-form-label"],["costsIcon",""],["id","costs","formControlName","costs",1,"rating",3,"starTemplate","max"],[1,"col-sm-12"],["type","submit",1,"btn","btn-dark","btn-block",3,"disabled"],["class","fas fa-circle",4,"ngIf"],["class","far fa-circle",4,"ngIf"],[1,"fas","fa-circle"],[1,"far","fa-circle"]],template:function(e,i){if(1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Maximum Evidence"),u(),c(4,"div",3),re(5,"ngb-rating",4),u()(),c(6,"div",1)(7,"label",5),g(8,"Costs"),u(),c(9,"div",3),k(10,HDe,2,2,"ng-template",null,6,$t),re(12,"ngb-rating",7),u()(),c(13,"div",1)(14,"div",8)(15,"button",9),g(16," Set maximum Evidence and Costs "),u()()()()),2&e){const o=hn(11);v("formGroup",i.evidenceCostsForm),p(5),v("max",5),p(7),v("starTemplate",o)("max",5),p(3),v("disabled",!i.evidenceCostsForm.valid)}},directives:[nn,Wt,Vt,rp,Jt,Zt,nt],styles:[""]}),t})();function zDe(t,n){if(1&t&&(c(0,"h4",5),g(1),u()),2&t){const e=T();p(1),Be(" Set maximum Evidence and Costs of ",e.experiment.name," ")}}function qDe(t,n){if(1&t){const e=ye();c(0,"div",6)(1,"div",7)(2,"app-evidence-costs-form",8),z("submitEvidenceCostsForm",function(o){return W(e),T()._setEvidenceCosts(o)}),u()()()}if(2&t){const e=T();p(2),v("experiment",e.experiment)}}let OG=(()=>{class t{constructor(e){this.activeModal=e,this.setEvidenceCosts=new je}ngOnDestroy(){this.setEvidenceCosts.complete()}dismiss(){this.activeModal.dismiss()}_setEvidenceCosts(e){null!=this.experiment&&this.setEvidenceCosts.emit({experimentDefinitionId:this.experiment.getExperimentDefinitionId(),experimentId:this.experiment.id,experiment:e})}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-experiment-evidence-costs-modal"]],inputs:{experiment:"experiment"},outputs:{setEvidenceCosts:"setEvidenceCosts"},decls:6,vars:2,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"modal-title"],[1,"modal-body"],[1,"text-muted","pt-3"],[3,"experiment","submitEvidenceCostsForm"]],template:function(e,i){1&e&&(c(0,"div",0),k(1,zDe,2,1,"h4",1),c(2,"button",2),z("click",function(){return i.dismiss()}),c(3,"span",3),g(4,"\xd7"),u()()(),k(5,qDe,3,1,"div",4)),2&e&&(p(1),v("ngIf",null!=i.experiment),p(4),v("ngIf",null!=i.experiment))},directives:[nt,UDe],styles:[""]}),t})();function $De(t,n){if(1&t&&(c(0,"option",15),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e.id),p(1),Be(" ",e.name," ")}}function WDe(t,n){if(1&t&&(c(0,"option",15),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e.id),p(1),Xi(" ","-".repeat(e.level)," ",e.name," ")}}function YDe(t,n){if(1&t&&(c(0,"option",15),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e.id),p(1),Xi(" ","-".repeat(e.level)," ",e.name," ")}}function XDe(t,n){1&t&&(c(0,"div",16),g(1," Mapping already defined "),u())}let KDe=(()=>{class t{constructor(e){this.fb=e,this.submitMappingForm=new je,this.currentSubexperimentsList=[],this.mappingForm=this.fb.group({experimentDefinitionId:[null,ft.required],experimentId:[null,ft.required],hypothesisId:[null,ft.required],metric:[null,ft.required]})}ngOnInit(){var e;this.mappingFormSubscription=null===(e=this.mappingForm.get("experimentDefinitionId"))||void 0===e?void 0:e.valueChanges.subscribe(i=>i?this.currentSubexperimentsList=this.experimentList[i].getExperimentList():null),null==this.mapping?this.loadForm():this.loadForm(this.mapping)}ngOnChanges(e){e.mapping&&!e.mapping.isFirstChange()&&this.loadForm(e.mapping.currentValue)}ngOnDestroy(){null!=this.mappingFormSubscription&&this.mappingFormSubscription.unsubscribe()}get experimentDefinitionList(){return Object.values(this.experimentList)}submitForm(){this.submitMappingForm.emit(this.mappingForm)}loadForm(e){this.mappingForm.reset({experimentDefinitionId:null==e?void 0:e.experimentDefinitionId,experimentId:null==e?void 0:e.experimentId,hypothesisId:null==e?void 0:e.hypothesisId,metric:null==e?void 0:e.metric})}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-mapping-form"]],inputs:{mapping:"mapping",experimentList:"experimentList",hypothesisList:"hypothesisList"},outputs:{submitMappingForm:"submitMappingForm"},features:[Xt],decls:29,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","experimentDefinitionId",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","experimentDefinitionId","formControlName","experimentDefinitionId",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],["for","experimentId",1,"col-sm-4","col-form-label"],["id","experimentId","formControlName","experimentId",1,"form-control"],["for","hypothesisId",1,"col-sm-4","col-form-label"],["id","hypothesisId","formControlName","hypothesisId",1,"form-control"],["for","metric",1,"col-sm-4","col-form-label"],["type","text","formControlName","metric","id","metric",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-dark","btn-block",3,"disabled"],["class","alert alert-info mb-0 mt-2",4,"ngIf"],[3,"ngValue"],[1,"alert","alert-info","mb-0","mt-2"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Experiment Definition"),u(),c(4,"div",3)(5,"select",4),k(6,$De,2,2,"option",5),u()()(),c(7,"div",1)(8,"label",6),g(9,"Experiment"),u(),c(10,"div",3)(11,"select",7),k(12,WDe,2,3,"option",5),u()()(),c(13,"div",1)(14,"label",8),g(15,"Hypothesis"),u(),c(16,"div",3)(17,"select",9),k(18,YDe,2,3,"option",5),u()()(),c(19,"div",1)(20,"label",10),g(21,"Metric"),u(),c(22,"div",3),re(23,"input",11),u()(),c(24,"div",1)(25,"div",12)(26,"button",13),g(27," Add Mapping "),u(),k(28,XDe,2,0,"div",14),u()()()),2&e&&(v("formGroup",i.mappingForm),p(6),v("ngForOf",i.experimentDefinitionList),p(6),v("ngForOf",i.currentSubexperimentsList),p(6),v("ngForOf",i.hypothesisList),p(8),v("disabled",!i.mappingForm.valid),p(2),v("ngIf",i.mappingForm.hasError("alreadyDefined")))},directives:[nn,Wt,Vt,ki,Jt,Zt,Lt,Vi,Hi,wn,nt],styles:[""]}),t})();function QDe(t,n){if(1&t){const e=ye();c(0,"div",5)(1,"div",6)(2,"app-mapping-form",7),z("submitMappingForm",function(o){return W(e),T().addMapping.emit(o)}),u()()()}if(2&t){const e=T();p(2),v("mapping",e.mapping)("experimentList",e.hypoMoMap.usedExperiments)("hypothesisList",e.hypothesisList)}}let Y3=(()=>{class t{constructor(e){this.activeModal=e,this.addMapping=new je}ngOnDestroy(){this.addMapping.complete()}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-mapping-add-modal"]],inputs:{hypoMoMap:"hypoMoMap",hypothesisList:"hypothesisList",mapping:"mapping"},outputs:{addMapping:"addMapping"},decls:7,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[1,"text-muted","pt-3"],[3,"mapping","experimentList","hypothesisList","submitMappingForm"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2,"Add mapping"),u(),c(3,"button",2),z("click",function(){return i.dismiss()}),c(4,"span",3),g(5,"\xd7"),u()()(),k(6,QDe,3,3,"div",4)),2&e&&(p(6),v("ngIf",null!=i.hypoMoMap&&null!=i.hypothesisList))},directives:[nt,KDe],styles:[""]}),t})();function JDe(t,n){if(1&t&&(c(0,"h4",5),g(1),u()),2&t){const e=T();p(1),Be(" ",e.hypothesis.name," ")}}function ZDe(t,n){1&t&&(c(0,"div",10),g(1," This hypothesis has no mappings. "),u())}function e7e(t,n){if(1&t){const e=ye();c(0,"li",11),re(1,"app-experiment-info",12),c(2,"button",13),z("click",function(){const r=W(e).$implicit,s=T(2);return s.removeMapping.emit({hypothesisId:s.hypothesis.id,experimentId:r.experiment.id,experimentDefinitionId:r.experiment.getExperimentDefinitionId()})}),g(3," Remove "),u()()}if(2&t){const e=n.$implicit;p(1),v("experiment",e.experiment)("metric",e.metric)}}function t7e(t,n){if(1&t&&(c(0,"div",6),k(1,ZDe,2,0,"div",7),c(2,"ul",8),k(3,e7e,4,2,"li",9),u()()),2&t){const e=T();p(1),v("ngIf",0===e.mappings.length),p(2),v("ngForOf",e.mappings)}}let BG=(()=>{class t{constructor(e){this.activeModal=e,this.removeMapping=new je}ngOnDestroy(){this.removeMapping.complete()}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-hypothesis-mappings-modal"]],inputs:{hypothesis:"hypothesis",mappings:"mappings"},outputs:{removeMapping:"removeMapping"},decls:6,vars:2,consts:[[1,"modal-header"],["class","modal-title","id","modal-basic-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],["class","alert alert-info","role","alert",4,"ngIf"],[1,"list-group","inner",2,"margin","5px"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-info"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[3,"experiment","metric"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0),k(1,JDe,2,1,"h4",1),c(2,"button",2),z("click",function(){return i.dismiss()}),c(3,"span",3),g(4,"\xd7"),u()()(),k(5,t7e,4,2,"div",4)),2&e&&(p(1),v("ngIf",null!=i.hypothesis),p(4),v("ngIf",null!=i.hypothesis&&null!=i.mappings))},directives:[nt,Lt,Q0],styles:[""]}),t})();function n7e(t,n){if(1&t&&(c(0,"h4",5),g(1),u()),2&t){const e=T();p(1),Be(" ",e.experiment.name," ")}}function i7e(t,n){1&t&&(c(0,"div",10),g(1," This experiment has no mappings. "),u())}function o7e(t,n){if(1&t){const e=ye();c(0,"li",11),re(1,"app-hypothesis-info",12),c(2,"button",13),z("click",function(){const r=W(e).$implicit,s=T(2);return s.removeMapping.emit({hypothesisId:r.hypothesis.id,experimentId:s.experiment.id,experimentDefinitionId:s.experiment.getExperimentDefinitionId()})}),g(3," Remove "),u()()}if(2&t){const e=n.$implicit;p(1),v("hypothesis",e.hypothesis)}}function r7e(t,n){if(1&t&&(c(0,"div",6),k(1,i7e,2,0,"div",7),c(2,"ul",8),k(3,o7e,4,1,"li",9),u()()),2&t){const e=T();p(1),v("ngIf",0===e.mappings.length),p(2),v("ngForOf",e.mappings)}}let LG=(()=>{class t{constructor(e){this.activeModal=e,this.removeMapping=new je}ngOnDestroy(){this.removeMapping.complete()}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-experiment-mappings-modal"]],inputs:{experiment:"experiment",mappings:"mappings"},outputs:{removeMapping:"removeMapping"},decls:6,vars:2,consts:[[1,"modal-header"],["class","modal-title","id","modal-basic-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],["class","alert alert-info","role","alert",4,"ngIf"],[1,"list-group","inner",2,"margin","5px"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-info"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[3,"hypothesis"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0),k(1,n7e,2,1,"h4",1),c(2,"button",2),z("click",function(){return i.dismiss()}),c(3,"span",3),g(4,"\xd7"),u()()(),k(5,r7e,4,2,"div",4)),2&e&&(p(1),v("ngIf",null!=i.experiment),p(4),v("ngIf",null!=i.experiment&&null!=i.mappings))},directives:[nt,Lt,W3],styles:[""]}),t})();function s7e(t,n){if(1&t&&(c(0,"h4",5),g(1),u()),2&t){const e=T();p(1),Be(" Artifacts of ",e.experiment.name," ")}}function a7e(t,n){1&t&&(c(0,"div",9),g(1," This experiment has no artifacts. "),u())}function l7e(t,n){if(1&t&&(c(0,"li",12),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function c7e(t,n){if(1&t&&(c(0,"ul",10),k(1,l7e,2,1,"li",11),u()),2&t){const e=T(2);p(1),v("ngForOf",e.experiment.artifacts)}}function u7e(t,n){if(1&t&&(c(0,"div",6),k(1,a7e,2,0,"div",7),k(2,c7e,2,1,"ul",8),u()),2&t){const e=T();p(1),v("ngIf",0===e.experiment.artifacts.length),p(1),v("ngIf",e.experiment.artifacts.length>0)}}let jG=(()=>{class t{constructor(e){this.activeModal=e}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-artifacts-show-modal"]],inputs:{experiment:"experiment"},decls:6,vars:2,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"modal-title"],[1,"modal-body"],["class","alert alert-info","role","alert",4,"ngIf"],["class","list-group",4,"ngIf"],["role","alert",1,"alert","alert-info"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(e,i){1&e&&(c(0,"div",0),k(1,s7e,2,1,"h4",1),c(2,"button",2),z("click",function(){return i.dismiss()}),c(3,"span",3),g(4,"\xd7"),u()()(),k(5,u7e,3,2,"div",4)),2&e&&(p(1),v("ngIf",null!=i.experiment),p(4),v("ngIf",null!=i.experiment))},directives:[nt,Lt],styles:[""]}),t})();function GG(t){return class n extends t{openAddExperimentModal(){var i=this;return Y(function*(){if(null!=i.hypoMoMap){const o=yield i.experimentRepoService.getExperimentsList(Object.keys(i.hypoMoMap.usedExperiments));i.modalReference=i.modalService.open(NG,{size:"lg"});const r=i.modalReference.componentInstance;r.experiments=o,r.addExperiment.subscribe(s=>{i.addExperiment(s)})}})()}addExperiment(i){var o=this;return Y(function*(){var r;null!=o.hypoMoMapTree&&null!=o.hypoMoMap&&(yield o.hypoMoMapTreeService.addExperimentDefinition(o.hypoMoMapTree._id,o.hypoMoMap.id,new X0(i,void 0)),null===(r=o.modalReference)||void 0===r||r.close())})()}openRemoveExperimentModal(i){if(null!=this.hypoMoMap){this.modalReference=this.modalService.open(RG,{size:"lg"});const o=this.modalReference.componentInstance;o.experiment=this.hypoMoMap.usedExperiments[i],o.removeExperiment.subscribe(r=>{this.removeExperiment(r)})}}removeExperiment(i){var o=this;return Y(function*(){var r;null!=o.hypoMoMapTree&&null!=o.hypoMoMap&&(yield o.hypoMoMapTreeService.removeExperimentDefinition(o.hypoMoMapTree._id,o.hypoMoMap.id,i),null===(r=o.modalReference)||void 0===r||r.close())})()}openEvidenceCostsModal(i,o){if(null!=this.hypoMoMap){const s=this.hypoMoMap.usedExperiments[i].getExperiment(o);this.modalReference=this.modalService.open(OG,{size:"lg"});const a=this.modalReference.componentInstance;a.experiment=s,a.setEvidenceCosts.subscribe(l=>{this.setEvidenceCosts(l.experimentDefinitionId,l.experimentId,l.experiment)})}}setEvidenceCosts(i,o,r){var s=this;return Y(function*(){var a;null!=s.hypoMoMapTree&&null!=s.hypoMoMap&&(yield s.hypoMoMapTreeService.updateExperiment(s.hypoMoMapTree._id,s.hypoMoMap.id,i,o,r.value),null===(a=s.modalReference)||void 0===a||a.close())})()}openAddHypothesisToExperimentModal(i,o){this.modalReference=this.modalService.open(Y3,{size:"lg"});const r=this.modalReference.componentInstance;r.hypoMoMap=this.hypoMoMap,r.hypothesisList=this.hypothesisList,r.mapping={experimentDefinitionId:i,experimentId:o},r.addMapping.subscribe(s=>{this.addMapping(s)})}openAddExperimentToHypothesisModal(i){this.modalReference=this.modalService.open(Y3,{size:"lg"});const o=this.modalReference.componentInstance;o.hypoMoMap=this.hypoMoMap,o.hypothesisList=this.hypothesisList,o.mapping={hypothesisId:i},o.addMapping.subscribe(r=>{this.addMapping(r)})}addMapping(i){var o=this;return Y(function*(){var r;if(null!=o.hypoMoMapTree&&null!=o.hypoMoMap)try{yield o.hypoMoMapTreeService.addMapping(o.hypoMoMapTree._id,o.hypoMoMap.id,i.value),null===(r=o.modalReference)||void 0===r||r.close()}catch(s){if("Mapping already defined"!==s.message)throw s;i.setErrors({alreadyDefined:!0})}})()}openShowMappingsHypothesisModal(i){if(null!=this.hypoMoMap){const o=this.hypoMoMap;this.modalReference=this.modalService.open(BG,{size:"lg"});const r=this.modalReference.componentInstance;r.hypothesis=o.getHypothesis(i),r.mappings=o.mappings.filter(s=>s.hypothesisId===i).map(s=>({experiment:o.usedExperiments[s.experimentDefinitionId].getExperiment(s.experimentId),metric:s.metric})),r.removeMapping.subscribe(s=>{this.removeMapping(s.experimentDefinitionId,s.experimentId,s.hypothesisId)})}}openShowMappingsExperimentModal(i,o){if(null!=this.hypoMoMap){const r=this.hypoMoMap,a=this.hypoMoMap.usedExperiments[i].getExperiment(o);this.modalReference=this.modalService.open(LG,{size:"lg"});const l=this.modalReference.componentInstance;l.experiment=a,l.mappings=r.mappings.filter(d=>d.experimentDefinitionId===i&&d.experimentId===o).map(d=>({hypothesis:r.getHypothesis(d.hypothesisId),metric:d.metric})),l.removeMapping.subscribe(d=>{this.removeMapping(d.experimentDefinitionId,d.experimentId,d.hypothesisId)})}}removeMapping(i,o,r){var s=this;return Y(function*(){var a;null!=s.hypoMoMapTree&&null!=s.hypoMoMap&&(yield s.hypoMoMapTreeService.removeMapping(s.hypoMoMapTree._id,s.hypoMoMap.id,i,o,r),null===(a=s.modalReference)||void 0===a||a.close())})()}openShowArtifactsModal(i,o){if(null!=this.hypoMoMap){const s=this.hypoMoMap.usedExperiments[i].getExperiment(o);this.modalReference=this.modalService.open(jG,{size:"lg"}),this.modalReference.componentInstance.experiment=s}}onLoaded(){var i;null===(i=super.onLoaded)||void 0===i||i.call(this);const o=this.modalReference;null!=o&&null!=o.componentInstance&&(o.componentInstance instanceof NG?this.updateExperimentAddModal(o):o.componentInstance instanceof RG?this.updateExperimentDeleteModal(o):o.componentInstance instanceof OG?this.updateExperimentEvidenceCostsModal(o):o.componentInstance instanceof Y3?this.updateMappingAddModalComponent(o):o.componentInstance instanceof BG?this.updateHypothesisMappingsModal(o):o.componentInstance instanceof LG?this.updateExperimentMappingsModal(o):o.componentInstance instanceof jG&&this.updateArtifactsShowModal(o))}updateExperimentAddModal(i){var o=this;return Y(function*(){null!=o.hypoMoMap&&(i.componentInstance.experiments=yield o.experimentRepoService.getExperimentsList(Object.keys(o.hypoMoMap.usedExperiments)))})()}updateExperimentDeleteModal(i){const o=i.componentInstance;null!=this.hypoMoMap&&null!=o.experiment&&(o.experiment=this.hypoMoMap.usedExperiments[o.experiment.id],null==o.experiment&&i.dismiss())}updateExperimentEvidenceCostsModal(i){const o=i.componentInstance,r=this.getExperiment(o.experiment);null==r?i.dismiss():o.experiment=r}updateMappingAddModalComponent(i){const o=i.componentInstance;o.hypoMoMap=this.hypoMoMap,o.hypothesisList=this.hypothesisList}updateHypothesisMappingsModal(i){if(null!=this.hypoMoMap){const o=this.hypoMoMap,r=i.componentInstance,s=this.getHypothesis(r.hypothesis);if(null==s)i.dismiss();else{const a=s.id;r.hypothesis=s,r.mappings=o.mappings.filter(l=>l.hypothesisId===a).map(l=>({experiment:o.usedExperiments[l.experimentDefinitionId].getExperiment(l.experimentId),metric:l.metric}))}}}updateExperimentMappingsModal(i){if(null!=this.hypoMoMap){const o=this.hypoMoMap,r=i.componentInstance,s=this.getExperiment(r.experiment);if(null==s)i.dismiss();else{const a=s.getExperimentDefinitionId(),l=s.id;r.experiment=s,r.mappings=o.mappings.filter(d=>d.experimentDefinitionId===a&&d.experimentId===l).map(d=>({hypothesis:o.getHypothesis(d.hypothesisId),metric:d.metric}))}}}updateArtifactsShowModal(i){const o=i.componentInstance,r=this.getExperiment(o.experiment);null==r?i.dismiss():o.experiment=r}getHypothesis(i){if(null!=this.hypoMoMap&&null!=i){const o=i.id;try{return this.hypoMoMap.getHypothesis(o)}catch(r){if(r instanceof Error&&r.message==="Hypothesis with id "+o+" does not exist")return}}}getExperiment(i){if(null!=this.hypoMoMap&&null!=i){const o=i.getExperimentDefinitionId(),r=i.id,s=this.hypoMoMap.usedExperiments[o];try{const a=null==s?void 0:s.getExperiment(r);if(null!=a)return a}catch(a){if(a instanceof Error&&a.message==="Experiment with id "+r+" does not exist")return;throw a}}}}}function d7e(t,n){if(1&t){const e=ye();c(0,"button",9),z("click",function(){W(e);const o=T().$implicit;return T().addHypothesis.emit({experimentDefinitionId:o.getExperimentDefinitionId(),experimentId:o.id})}),g(1," Add Hypothesis "),u()}}function p7e(t,n){if(1&t){const e=ye();c(0,"button",9),z("click",function(){W(e);const o=T().$implicit;return T().setCostAndScore.emit({experimentDefinitionId:o.getExperimentDefinitionId(),experimentId:o.id})}),g(1," Set Costs and maximum Evidence "),u()}}function m7e(t,n){if(1&t){const e=ye();c(0,"button",10),z("click",function(){W(e);const o=T().$implicit;return T().setCostAndScore.emit({experimentDefinitionId:o.getExperimentDefinitionId(),experimentId:o.id})}),g(1," Update Costs and maximum Evidence "),u()}}function f7e(t,n){if(1&t){const e=ye();c(0,"button",11),z("click",function(){W(e);const o=T().$implicit;return T().showMappings.emit({experimentDefinitionId:o.getExperimentDefinitionId(),experimentId:o.id})}),g(1," Show Mappings "),u()}}function h7e(t,n){if(1&t){const e=ye();c(0,"button",11),z("click",function(){W(e);const o=T().$implicit;return T().showArtifacts.emit({experimentDefinitionId:o.getExperimentDefinitionId(),experimentId:o.id})}),g(1," Show Artifacts "),u()}}function g7e(t,n){if(1&t){const e=ye();c(0,"button",12),z("click",function(){W(e);const o=T().$implicit;return T().deleteExperiment.emit(o.id)}),g(1," Delete "),u()}}function _7e(t,n){if(1&t){const e=ye();c(0,"app-used-experiment-tree",13),z("addHypothesis",function(o){return W(e),T(2).addHypothesis.emit(o)})("setCostAndScore",function(o){return W(e),T(2).setCostAndScore.emit(o)})("showMappings",function(o){return W(e),T(2).showMappings.emit(o)})("showArtifacts",function(o){return W(e),T(2).showArtifacts.emit(o)}),u()}if(2&t){const e=T().$implicit;v("editable",T().editable)("usedExperiments",e.subexperiments)}}function v7e(t,n){if(1&t&&(c(0,"li",2),re(1,"app-experiment-info",3),c(2,"div"),k(3,d7e,2,0,"button",4),k(4,p7e,2,0,"button",4),k(5,m7e,2,0,"button",5),k(6,f7e,2,0,"button",6),k(7,h7e,2,0,"button",6),k(8,g7e,2,0,"button",7),u(),k(9,_7e,1,2,"app-used-experiment-tree",8),u()),2&t){const e=n.$implicit,i=T();p(1),v("experiment",e),p(2),v("ngIf",e.costs&&e.maxEvidence&&i.editable),p(1),v("ngIf",(!e.costs||!e.maxEvidence)&&i.editable),p(1),v("ngIf",e.costs&&e.maxEvidence&&i.editable),p(1),v("ngIf",e.costs&&e.maxEvidence&&i.editable),p(1),v("ngIf",i.editable),p(1),v("ngIf",1===e.level&&i.editable),p(1),v("ngIf",e.subexperiments.length>0)}}let X3=(()=>{class t{constructor(){this.editable=!0,this.addHypothesis=new je,this.setCostAndScore=new je,this.showMappings=new je,this.showArtifacts=new je,this.deleteExperiment=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-used-experiment-tree"]],inputs:{editable:"editable",usedExperiments:"usedExperiments"},outputs:{addHypothesis:"addHypothesis",setCostAndScore:"setCostAndScore",showMappings:"showMappings",showArtifacts:"showArtifacts",deleteExperiment:"deleteExperiment"},decls:2,vars:1,consts:[[1,"list-group"],["class","\n      d-flex\n      flex-wrap\n      list-group-item\n      justify-content-between\n      align-items-center\n    ",4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap","list-group-item","justify-content-between","align-items-center"],[3,"experiment"],["type","button","class","btn btn-primary btn-xs mr-1",3,"click",4,"ngIf"],["type","button","class","btn btn-secondary btn-xs mr-1",3,"click",4,"ngIf"],["type","button","class","btn btn-dark btn-xs mr-1",3,"click",4,"ngIf"],["type","button","class","btn btn-danger btn-xs",3,"click",4,"ngIf"],["class","mt-2 w-100",3,"editable","usedExperiments","addHypothesis","setCostAndScore","showMappings","showArtifacts",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-secondary","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"],[1,"mt-2","w-100",3,"editable","usedExperiments","addHypothesis","setCostAndScore","showMappings","showArtifacts"]],template:function(e,i){1&e&&(c(0,"ul",0),k(1,v7e,10,8,"li",1),u()),2&e&&(p(1),v("ngForOf",i.usedExperiments))},directives:[Lt,Q0,nt,t],styles:[""]}),t})();function b7e(t,n){1&t&&re(0,"i",7)}function y7e(t,n){1&t&&re(0,"i",8)}function w7e(t,n){if(1&t&&(k(0,b7e,1,0,"i",5),k(1,y7e,1,0,"i",6)),2&t){const e=n.fill;v("ngIf",100===e),p(1),v("ngIf",100!==e)}}let K3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-used-experiment-tree-legend"]],decls:13,vars:7,consts:[[1,"row"],[1,"col-3"],[3,"max","readonly","rate"],["costsIcon",""],[3,"starTemplate","max","readonly","rate"],["class","fas fa-circle",4,"ngIf"],["class","far fa-circle",4,"ngIf"],[1,"fas","fa-circle"],[1,"far","fa-circle"]],template:function(e,i){if(1&e&&(c(0,"div",0)(1,"div",1)(2,"strong"),g(3,"Legend:"),u()(),re(4,"div",1),c(5,"div",1),re(6,"ngb-rating",2),g(7," Maximum evidence "),u(),c(8,"div",1),k(9,w7e,2,2,"ng-template",null,3,$t),re(11,"ngb-rating",4),g(12," Costs "),u()()),2&e){const o=hn(10);p(6),v("max",5)("readonly",!0)("rate",3),p(5),v("starTemplate",o)("max",5)("readonly",!0)("rate",3)}},directives:[rp,nt],styles:[""]}),t})();function x7e(t,n){if(1&t){const e=ye();c(0,"main",2)(1,"div",3)(2,"p"),g(3," Map experiments and hypotheses to later execute experiments and validate the corresponding hypotheses. "),u(),c(4,"ul",4)(5,"li"),g(6,"Add experiments at the bottom of the page"),u(),c(7,"li"),g(8,"Set costs and maximum evidence of the experiments"),u(),c(9,"li"),g(10,"Map the experiments and hypotheses"),u()()(),c(11,"div",5)(12,"div",6)(13,"h6",7),g(14,"Hypothesis Tree"),u()(),c(15,"div",8)(16,"app-hypothesis-tree",9),z("addExperiment",function(o){return W(e),T().openAddExperimentToHypothesisModal(o)})("showMappings",function(o){return W(e),T().openShowMappingsHypothesisModal(o)}),u()(),c(17,"div",8),re(18,"app-hypothesis-tree-legend"),u()(),c(19,"div",5)(20,"div",6)(21,"h6",7),g(22,"Experiment Tree"),u(),c(23,"button",10),z("click",function(){return W(e),T().openAddExperimentModal()}),g(24," Add Experiment "),u()(),c(25,"app-used-experiment-tree",11),z("addHypothesis",function(o){return W(e),T().openAddHypothesisToExperimentModal(o.experimentDefinitionId,o.experimentId)})("setCostAndScore",function(o){return W(e),T().openEvidenceCostsModal(o.experimentDefinitionId,o.experimentId)})("showMappings",function(o){return W(e),T().openShowMappingsExperimentModal(o.experimentDefinitionId,o.experimentId)})("showArtifacts",function(o){return W(e),T().openShowArtifactsModal(o.experimentDefinitionId,o.experimentId)})("deleteExperiment",function(o){return W(e),T().openRemoveExperimentModal(o)}),u(),c(26,"div",8),re(27,"app-used-experiment-tree-legend"),u()(),c(28,"div",5)(29,"app-running-process-method-comments",12),z("addComment",function(o){return W(e),T().addComment(o)})("updateComment",function(o){return W(e),T().updateComment(o)})("removeComment",function(o){return W(e),T().removeComment(o)}),u()(),c(30,"div",5)(31,"h6",13),g(32,"Finish editing"),u(),c(33,"button",14),z("click",function(){return W(e),T().finish()}),g(34," Finish editing "),u()()()}if(2&t){const e=T();p(16),v("hypotheses",e.hypoMoMap.hypotheses)("processPhase","stepMap")("hypothesisExperimentMap",e.hypothesisExperimentMap),p(9),v("usedExperiments",e.hypoMoMap.usedExperimentsList),p(4),v("comments",e.runningMethod.comments)}}let M7e=(()=>{class t extends(function C7e(){return GG(Ff(Df(um)))}()){constructor(e,i,o,r,s,a,l){super(),this.experimentRepoService=e,this.hypoMoMapLoaderService=i,this.hypoMoMapResolveService=o,this.hypoMoMapTreeService=r,this.modalService=s,this.processApiService=a,this.runningProcessService=l,this.hypothesisExperimentMap={}}ngOnInit(){this.hypoMoMapLoaderService.loaded.subscribe(()=>{null!=this.hypoMoMap?(this.hypothesisList=this.hypoMoMap.getHypothesisList(),this.hypothesisExperimentMap=this.hypoMoMap.getHypothesisMappingsMap()):(this.hypothesisList=void 0,this.hypothesisExperimentMap={}),this.onLoaded()})}finish(){var e=this;return Y(function*(){null!=e.processApiService.stepInfo&&null!=e.hypoMoMapTree&&(yield e.hypoMoMapResolveService.resolve(e.processApiService.stepInfo,e.hypoMoMapTree._id))})()}get hypoMoMapTree(){return this.hypoMoMapLoaderService.hypoMoMapTree}get hypoMoMap(){return this.hypoMoMapLoaderService.hypoMoMap}}return t.\u0275fac=function(e){return new(e||t)(H(Tf),H(ac),H(Pf),H(hl),H(jn),H(Wn),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-add-experiments"]],features:[Tt([Wn,ac]),mi],decls:3,vars:1,consts:[["apiName","Add Experiments"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"my-3","alert","alert-info"],[1,"mb-0"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"d-flex","align-items-baseline","justify-content-between","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],[1,"mt-1"],[3,"hypotheses","processPhase","hypothesisExperimentMap","addExperiment","showMappings"],[1,"btn","btn-primary","btn-sm",3,"click"],[3,"usedExperiments","addHypothesis","setCostAndScore","showMappings","showArtifacts","deleteExperiment"],[3,"comments","addComment","updateComment","removeComment"],[1,"border-bottom","border-gray","pb-2"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0)(1,"app-step-errors"),k(2,x7e,35,5,"main",1)),2&e&&(p(2),v("ngIf",null!=i.hypoMoMap&&null!=i.runningMethod))},directives:[ur,cs,nt,U_,z_,X3,K3,Ts],styles:[""]}),t})();const S7e=["experimentOverviewModal"];function E7e(t,n){if(1&t&&(c(0,"h4",11),g(1),u()),2&t){const e=T(2);p(1),Be(" Execute experiment ",e.modalExperiment.name," ")}}function T7e(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function P7e(t,n){if(1&t&&(c(0,"div",17)(1,"div"),g(2,"Artifacts:"),u(),c(3,"ul"),k(4,T7e,2,1,"li",22),u()()),2&t){const e=T(3);p(4),v("ngForOf",e.modalExperiment.artifacts)}}function D7e(t,n){if(1&t&&(c(0,"tr",23)(1,"td",24),re(2,"app-hypothesis-info",25),u(),c(3,"td",24),g(4),u(),c(5,"td",24),re(6,"ngb-rating",26),u(),c(7,"td",27)(8,"div",28)(9,"label",29),re(10,"input",30),g(11," Approved "),u(),c(12,"label",29),re(13,"input",30),g(14," Disapproved "),u()()()()),2&t){const e=n.$implicit,i=n.index,o=T(3);pa("formGroupName",i),p(2),v("hypothesis",e.hypothesis)("showEvidence",!0),p(2),_t(e.metric),p(2),v("max",o.modalExperiment.maxEvidence),p(4),v("value",!0),p(3),v("value",!1)}}function F7e(t,n){if(1&t&&(c(0,"div",12)(1,"div",13),g(2," Select evidence gain for every hypothesis and whether the hypothesis is approved or disapproved. "),u(),c(3,"div",14)(4,"div",15),g(5,"Selected Experiment:"),u(),re(6,"app-experiment-info",16),u(),k(7,P7e,5,1,"div",4),c(8,"div",17)(9,"form",18)(10,"table",19)(11,"thead")(12,"tr")(13,"th",20),g(14,"Hypothesis"),u(),c(15,"th",20),g(16,"Metric"),u(),c(17,"th",20),g(18,"Evidence"),u(),re(19,"th",20),u()(),c(20,"tbody"),k(21,D7e,15,7,"tr",21),u()()()()()),2&t){const e=T(2);p(6),v("experiment",e.modalExperiment),p(1),v("ngIf",e.modalExperiment.artifacts.length>0),p(2),v("formGroup",e.experimentExecutionForm),p(12),v("ngForOf",e.modalHypothesisMappings)}}function A7e(t,n){if(1&t){const e=ye();c(0,"div",31)(1,"button",32),z("click",function(){W(e);const o=T(2);return o.submitExecuteExperiment(o.experimentExecutionForm)}),g(2," Execute experiment "),u()()}if(2&t){const e=T(2);p(1),v("disabled",!e.experimentExecutionForm.valid)}}function I7e(t,n){if(1&t){const e=ye();c(0,"div",5),k(1,E7e,2,1,"h4",6),c(2,"button",7),z("click",function(){return W(e).dismiss()}),c(3,"span",8),g(4,"\xd7"),u()()(),k(5,F7e,22,4,"div",9),k(6,A7e,3,1,"div",10)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalExperiment),p(4),v("ngIf",null!=e.modalExperiment&&null!=e.experimentExecutionForm),p(1),v("ngIf",null!=e.experimentExecutionForm)}}function k7e(t,n){1&t&&(c(0,"div",33),g(1," There are no mappings left.\n"),u())}function N7e(t,n){1&t&&(c(0,"form",18)(1,"div",34)(2,"p"),g(3," You can choose between three different methods to choose an experiment to execute: "),u(),c(4,"ul")(5,"li"),g(6," Highest Priority: Finds the hypothesis with the highest priority and you can select a corresponding experiment to execute. "),u(),c(7,"li"),g(8," Best Estimated Ratio: Calculates the hypotheses evidence gain for every experiment divided by the costs of the experiment. The hypotheses evidence gain is the maximum evidence gain that the experiment can bring through its execution. This is calculated by summing up the differences between the maximum evidence of the experiment and the current evidence of every connected hypothesis. "),u(),c(9,"li"),g(10," Best Discounted Ratio: Like Best Estimated Ratio, but the hypotheses evidence gain is weighted per hypothesis with one fifth of the priority of the hypothesis. "),u()()(),c(11,"div",35)(12,"label",29),re(13,"input",36),g(14," Highest Priority "),u(),c(15,"label",29),re(16,"input",37),g(17," Best Estimated Ratio "),u(),c(18,"label",29),re(19,"input",38),g(20," Best Discounted Ratio "),u()()()),2&t&&v("formGroup",T().methodForm)}function R7e(t,n){if(1&t&&(c(0,"div",39)(1,"div",15),g(2,"Selected Hypothesis:"),u(),re(3,"app-hypothesis-info",40),u()),2&t){const e=T();p(3),v("hypothesis",e.selectedHypothesis)}}function O7e(t,n){if(1&t){const e=ye();c(0,"li",43),re(1,"app-experiment-info",44),c(2,"div")(3,"button",45),z("click",function(){const r=W(e).$implicit;return T(2).openExperimentOverview(r)}),g(4," Select "),u()()()}if(2&t){const e=n.$implicit;p(1),v("experiment",e)}}function B7e(t,n){if(1&t&&(c(0,"div",17)(1,"div"),g(2,"Possible Experiments:"),u(),c(3,"ul",41),k(4,O7e,5,1,"li",42),u()()),2&t){const e=T();p(4),v("ngForOf",e.possibleExperiments)}}function L7e(t,n){if(1&t){const e=ye();c(0,"tr")(1,"td"),re(2,"app-experiment-info",44),u(),c(3,"td",24),g(4),ci(5,"number"),u(),c(6,"td",27)(7,"button",45),z("click",function(){const r=W(e).$implicit;return T(2).openExperimentOverview(r.experiment)}),g(8," Select "),u()()()}if(2&t){const e=n.$implicit;p(2),v("experiment",e.experiment),p(2),_t(As(5,2,e.ratio,"1.2-2"))}}function j7e(t,n){if(1&t&&(c(0,"div",17)(1,"div"),g(2,"Possible Experiments:"),u(),c(3,"table",46)(4,"thead")(5,"tr")(6,"th",20),g(7,"Experiment"),u(),c(8,"th",20),g(9,"Ratio"),u(),re(10,"th",20),u()(),c(11,"tbody"),k(12,L7e,9,5,"tr",22),u()()()),2&t){const e=T();p(12),v("ngForOf",e.possibleExperimentsWithRatio)}}var Af=(()=>(function(t){t.HIGHESTPRIORITY="highestPriority",t.ESTIMATEDRATIO="estimatedRatio",t.DISCOUNTEDRATIO="discountedRatio"}(Af||(Af={})),Af))();let VG=(()=>{class t{constructor(e,i){this.fb=e,this.modalService=i,this.executeExperiment=new je,this.methodForm=this.fb.group({method:[null,ft.required]}),this.possibleExperiments=[],this.possibleExperimentsWithRatio=[]}ngOnInit(){var e;this.methodFormSubscription=null===(e=this.methodForm.get("method"))||void 0===e?void 0:e.valueChanges.subscribe(()=>this.selectExperiments())}ngOnChanges(e){e.hypoMoMap&&this.selectExperiments()}ngOnDestroy(){null!=this.methodFormSubscription&&this.methodFormSubscription.unsubscribe()}selectExperiments(){var e;this.possibleExperiments=[],this.selectedHypothesis=void 0,this.possibleExperimentsWithRatio=[];const i=null===(e=this.methodForm.get("method"))||void 0===e?void 0:e.value;i===Af.HIGHESTPRIORITY?this.selectHighestPriority():i===Af.ESTIMATEDRATIO?this.selectBestEstimatedRatio():i===Af.DISCOUNTEDRATIO&&this.selectBestDiscountedRatio()}selectHighestPriority(){if(null!=this.hypoMoMap){const e=this.hypoMoMap,i=new Set(e.mappings.map(s=>s.hypothesisId)),o=e.getHypothesisList().filter(s=>i.has(s.id)),r=this.getHighestPriority(o);this.selectedHypothesis=r,this.possibleExperiments=e.mappings.filter(s=>s.hypothesisId===(null==r?void 0:r.id)).map(s=>e.usedExperiments[s.experimentDefinitionId].getExperiment(s.experimentId))}}getHighestPriority(e){let i;for(const o of e)o.priority>(null!=i?i.priority:0)&&(i=o);return i}selectBestEstimatedRatio(){const i=this.getExperimentsWithHypotheses().map(o=>{const r=o.hypotheses.map(s=>o.experiment.maxEvidence-(s.evidenceScore?s.evidenceScore:0)).filter(s=>s>0).reduce((s,a)=>s+a,0)/o.experiment.costs;return{experiment:o.experiment,ratio:r}});this.possibleExperimentsWithRatio=i.sort((o,r)=>r.ratio-o.ratio)}selectBestDiscountedRatio(){const i=this.getExperimentsWithHypotheses().map(o=>{const r=o.hypotheses.map(s=>s.priority/5*(o.experiment.maxEvidence-(s.evidenceScore?s.evidenceScore:0))).filter(s=>s>0).reduce((s,a)=>s+a,0)/o.experiment.costs;return{experiment:o.experiment,ratio:r}});this.possibleExperimentsWithRatio=i.sort((o,r)=>r.ratio-o.ratio)}getExperimentsWithHypotheses(){if(null==this.hypoMoMap)throw new Error("HypoMoMap is not defined");const e=this.hypoMoMap;return Object.values(e.usedExperiments).reduce((o,r)=>o.concat(r.getExperimentList()),[]).map(o=>{const r=o.getExperimentDefinitionId(),s=e.mappings.filter(a=>a.experimentDefinitionId===r&&a.experimentId===o.id);return{experiment:o,mappings:s}}).filter(o=>o.mappings.length>0).map(o=>({experiment:o.experiment,hypotheses:o.mappings.map(r=>e.getHypothesis(r.hypothesisId))}))}openExperimentOverview(e){if(null!=this.hypoMoMap){const i=this.hypoMoMap;this.modalExperiment=e;const o=e.getExperimentDefinitionId();this.modalHypothesisMappings=i.mappings.filter(r=>r.experimentDefinitionId===o&&r.experimentId===e.id).map(r=>({hypothesis:i.getHypothesis(r.hypothesisId),metric:r.metric})),this.experimentExecutionForm=this.fb.group({hypotheses:this.fb.array(this.modalHypothesisMappings.map(()=>this.fb.group({evidence:[void 0,ft.required],approved:[void 0,ft.required]})))}),this.modalReference=this.modalService.open(this.experimentOverviewModal,{size:"lg"})}}submitExecuteExperiment(e){var i;if(null!=this.modalExperiment&&null!=this.modalHypothesisMappings){const o=this.modalHypothesisMappings,r=e.value.hypotheses.map((s,a)=>Object.assign(Object.assign({},s),{hypothesisId:o[a].hypothesis.id}));this.executeExperiment.emit({experimentDefinitionId:this.modalExperiment.getExperimentDefinitionId(),experimentId:this.modalExperiment.id,results:r}),null===(i=this.modalReference)||void 0===i||i.close()}}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-experiment-chooser"]],viewQuery:function(e,i){if(1&e&&Ft(S7e,7),2&e){let o;bt(o=yt())&&(i.experimentOverviewModal=o.first)}},inputs:{hypoMoMap:"hypoMoMap"},outputs:{executeExperiment:"executeExperiment"},features:[Xt],decls:7,vars:5,consts:[["experimentOverviewModal",""],["class","alert alert-info mb-0",4,"ngIf"],[3,"formGroup",4,"ngIf"],["class","mt-2 d-flex align-items-center",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"modal-title"],[1,"modal-body"],["role","alert",1,"alert","alert-info"],[1,"d-flex","align-items-center"],[1,"mr-1"],[1,"border","rounded","p-2",3,"experiment"],[1,"mt-2"],[3,"formGroup"],["formArrayName","hypotheses",1,"table"],["scope","col"],[3,"formGroupName",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"align-middle"],[3,"hypothesis","showEvidence"],["formControlName","evidence",3,"max"],[1,"align-middle","text-right"],["ngbRadioGroup","","name","radioApproved","formControlName","approved",1,"btn-group","btn-group-sm","btn-group-toggle"],["ngbButtonLabel","",1,"btn-primary"],["ngbButton","","type","radio",3,"value"],[1,"modal-footer"],["type","button",1,"btn","btn-block","btn-primary",3,"disabled","click"],[1,"alert","alert-info","mb-0"],["role","alert",1,"my-3","alert","alert-info"],["ngbRadioGroup","","name","radioMethod","formControlName","method",1,"btn-group","btn-group-toggle"],["ngbButton","","type","radio","value","highestPriority"],["ngbButton","","type","radio","value","estimatedRatio"],["ngbButton","","type","radio","value","discountedRatio"],[1,"mt-2","d-flex","align-items-center"],[1,"border","rounded","p-2",3,"hypothesis"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[3,"experiment"],["type","button",1,"btn","btn-primary","btn-xs",3,"click"],[1,"table","mt-1"]],template:function(e,i){1&e&&(k(0,I7e,7,3,"ng-template",null,0,$t),k(2,k7e,2,0,"div",1),k(3,N7e,21,1,"form",2),k(4,R7e,4,1,"div",3),k(5,B7e,5,1,"div",4),k(6,j7e,13,1,"div",4)),2&e&&(p(2),v("ngIf",null!=i.hypoMoMap&&0===i.hypoMoMap.mappings.length),p(1),v("ngIf",null!=i.hypoMoMap&&i.hypoMoMap.mappings.length>0),p(1),v("ngIf",i.selectedHypothesis),p(1),v("ngIf",i.possibleExperiments&&i.possibleExperiments.length>0),p(1),v("ngIf",i.possibleExperimentsWithRatio&&i.possibleExperimentsWithRatio.length>0))},directives:[nt,Q0,Lt,nn,Wt,Vt,vo,kr,W3,rp,Jt,Zt,ec,Ra,qc],pipes:[Y6],styles:[""]}),t})();function G7e(t,n){if(1&t){const e=ye();c(0,"main",2)(1,"div",3),g(2," Validate Hypotheses by executing experiments. "),u(),c(3,"div",4)(4,"h6",5),g(5,"Choose experiment"),u(),c(6,"app-experiment-chooser",6),z("executeExperiment",function(o){return W(e),T().executeExperiment(o.experimentDefinitionId,o.experimentId,o.results)}),u()(),c(7,"div",4)(8,"div",7)(9,"h6",8),g(10,"Hypothesis Tree"),u()(),c(11,"div",9),re(12,"app-hypothesis-tree",10),u(),c(13,"div",9),re(14,"app-hypothesis-tree-legend",11),u()(),c(15,"div",4)(16,"app-running-process-method-comments",12),z("addComment",function(o){return W(e),T().addComment(o)})("updateComment",function(o){return W(e),T().updateComment(o)})("removeComment",function(o){return W(e),T().removeComment(o)}),u()(),c(17,"div",4)(18,"h6",5),g(19,"Finish"),u(),c(20,"button",13),z("click",function(){return W(e),T().finish()}),g(21," Finish "),u()()()}if(2&t){const e=T();p(6),v("hypoMoMap",e.hypoMoMap),p(6),v("hypotheses",e.hypoMoMap.hypotheses)("processPhase","stepAdaption"),p(2),v("showEvidenceScore",!0),p(2),v("comments",e.runningMethod.comments)}}let H7e=(()=>{class t extends(function V7e(){return Df(Ff(um))}()){constructor(e,i,o,r,s,a,l){super(),this.hypoMoMapLoaderService=e,this.hypoMoMapResolveService=i,this.hypoMoMapTreeService=o,this.processApiService=r,this.route=s,this.router=a,this.runningProcessService=l}ngOnInit(){this.hypoMoMapLoaderService.loaded.subscribe(()=>{null!=this.hypoMoMapTree&&null!=this.hypoMoMap&&this.hypoMoMap.id!=this.hypoMoMapTree.getLatestHypoMoMap().id&&this.router.navigate(["hypomomaps","hypomomaps",this.hypoMoMapTree._id,"version",this.hypoMoMapTree.getLatestHypoMoMap().id,"execute"],{queryParamsHandling:"preserve"})})}finish(){var e=this;return Y(function*(){null!=e.processApiService.stepInfo&&null!=e.hypoMoMapTree&&(yield e.hypoMoMapResolveService.resolve(e.processApiService.stepInfo,e.hypoMoMapTree._id))})()}executeExperiment(e,i,o){var r=this;return Y(function*(){if(null!=r.hypoMoMapTree&&null!=r.hypoMoMap){yield r.hypoMoMapTreeService.executeExperiment(r.hypoMoMapTree._id,r.hypoMoMap.id,e,i,o);const a=(yield r.hypoMoMapTreeService.get(r.hypoMoMapTree._id)).getHypoMoMap(r.hypoMoMap.id);if(null!=a){const l=r.hypoMoMapTree._id,d=a.adaptions[a.adaptions.length-1].id;yield r.router.navigate(["hypomomaps","hypomomaps",l,"version",d,"execute"],{queryParamsHandling:"preserve"})}}})()}get hypoMoMapTree(){return this.hypoMoMapLoaderService.hypoMoMapTree}get hypoMoMap(){return this.hypoMoMapLoaderService.hypoMoMap}}return t.\u0275fac=function(e){return new(e||t)(H(ac),H(Pf),H(hl),H(Wn),H(Jn),H(oi),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-execute-experiments"]],features:[Tt([Wn,ac]),mi],decls:3,vars:1,consts:[["apiName","Execute Experiments"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"my-3","alert","alert-info"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[3,"hypoMoMap","executeExperiment"],[1,"d-flex","align-items-baseline","justify-content-between","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],[1,"mt-1"],[3,"hypotheses","processPhase"],[3,"showEvidenceScore"],[3,"comments","addComment","updateComment","removeComment"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0)(1,"app-step-errors"),k(2,G7e,22,5,"main",1)),2&e&&(p(2),v("ngIf",null!=i.hypoMoMap&&null!=i.runningMethod))},directives:[ur,cs,nt,VG,U_,z_,Ts],styles:[""]}),t})();function U7e(t,n){1&t&&re(0,"app-step-errors")}function z7e(t,n){1&t&&g(0," Create the Hypotheses Lake by creating hypotheses. ")}function q7e(t,n){1&t&&(c(0,"p"),g(1," Map experiments and hypotheses to later execute experiments and validate the corresponding hypotheses. "),u(),c(2,"ul")(3,"li"),g(4,"Add experiments at the bottom of the page"),u(),c(5,"li"),g(6,"Set costs and maximum evidence of the experiments"),u(),c(7,"li"),g(8,"Map the experiments and hypotheses"),u()())}function $7e(t,n){1&t&&(c(0,"p"),g(1,"Validate Hypotheses by executing experiments."),u(),c(2,"p"),g(3," To add new hypotheses to the HypoMoMap after the execution of an experiment, select step one again and add the hypotheses there. Then, map the new hypotheses in step two and come back to this step to execute experiments again. "),u())}function W7e(t,n){if(1&t){const e=ye();c(0,"div",4)(1,"h6",5),g(2,"Choose experiment"),u(),c(3,"app-experiment-chooser",25),z("executeExperiment",function(o){return W(e),T(2).executeExperiment(o.experimentDefinitionId,o.experimentId,o.results)}),u()()}if(2&t){const e=T(2);p(3),v("hypoMoMap",e.hypoMoMap)}}function Y7e(t,n){if(1&t){const e=ye();c(0,"div",4)(1,"div",18)(2,"h6",19),g(3,"Experiment Tree"),u(),c(4,"button",20),z("click",function(){return W(e),T(2).openAddExperimentModal()}),g(5," Add Experiment "),u()(),c(6,"app-used-experiment-tree",26),z("addHypothesis",function(o){return W(e),T(2).openAddHypothesisToExperimentModal(o.experimentDefinitionId,o.experimentId)})("setCostAndScore",function(o){return W(e),T(2).openEvidenceCostsModal(o.experimentDefinitionId,o.experimentId)})("showMappings",function(o){return W(e),T(2).openShowMappingsExperimentModal(o.experimentDefinitionId,o.experimentId)})("showArtifacts",function(o){return W(e),T(2).openShowArtifactsModal(o.experimentDefinitionId,o.experimentId)})("deleteExperiment",function(o){return W(e),T(2).openRemoveExperimentModal(o)}),u(),c(7,"div",21),re(8,"app-used-experiment-tree-legend"),u()()}if(2&t){const e=T(2);p(6),v("usedExperiments",e.hypoMoMap.usedExperimentsList)}}function X7e(t,n){if(1&t){const e=ye();c(0,"div",4)(1,"app-running-process-method-comments",27),z("addComment",function(o){return W(e),T(2).addComment(o)})("updateComment",function(o){return W(e),T(2).updateComment(o)})("removeComment",function(o){return W(e),T(2).removeComment(o)}),u()()}if(2&t){const e=T(2);p(1),v("comments",e.runningMethod.comments)}}function K7e(t,n){if(1&t){const e=ye();c(0,"main",3)(1,"div",4)(2,"h6",5),g(3,"Steps"),u(),c(4,"ul",6,7)(6,"li",8,9)(8,"a",10),g(9,"1. Initialisation"),u(),k(10,z7e,1,0,"ng-template",11),u(),c(11,"li",12,13)(13,"a",10),g(14,"2. Map experiments"),u(),k(15,q7e,9,0,"ng-template",11),u(),c(16,"li",14,15)(18,"a",10),g(19,"3. Adaption"),u(),k(20,$7e,4,0,"ng-template",11),u()(),re(21,"div",16),u(),k(22,W7e,4,1,"div",17),c(23,"div",4)(24,"div",18)(25,"h6",19),g(26,"Hypothesis Tree"),u(),c(27,"button",20),z("click",function(){return W(e),T().openAddHypothesisModal()}),g(28," Add Hypothesis "),u()(),c(29,"div",21)(30,"app-hypothesis-tree",22),z("addExperiment",function(o){return W(e),T().openAddExperimentToHypothesisModal(o)})("showMappings",function(o){return W(e),T().openShowMappingsHypothesisModal(o)})("addHypothesis",function(o){return W(e),T().openAddHypothesisModal(o)})("updateHypothesis",function(o){return W(e),T().openUpdateHypothesisModal(o)})("deleteHypothesis",function(o){return W(e),T().openDeleteHypothesisModal(o)}),u()(),c(31,"div",21),re(32,"app-hypothesis-tree-legend",23),u()(),k(33,Y7e,9,1,"div",17),k(34,X7e,2,1,"div",17),c(35,"div",4)(36,"h6",5),g(37,"Finish editing"),u(),c(38,"button",24),z("click",function(){return W(e),T().finish()}),g(39," Finish editing "),u()()()}if(2&t){const e=hn(5),i=hn(7),o=hn(12),r=hn(17),s=T();p(21),v("ngbNavOutlet",e),p(1),v("ngIf",r.active),p(5),Ht("invisible",!i.active),p(3),v("hypotheses",s.hypoMoMap.hypotheses)("hypothesisExperimentMap",s.hypothesisExperimentMap)("processPhase",e.activeId),p(2),v("showEvidenceScore",r.active),p(1),v("ngIf",o.active),p(1),v("ngIf",null!=s.runningMethod)}}let J7e=(()=>{class t extends(function Q7e(){return GG(kG(Df(Ff(um))))}()){constructor(e,i,o,r,s,a,l,d){super(),this.experimentRepoService=e,this.hypoMoMapLoaderService=i,this.hypoMoMapResolveService=o,this.hypoMoMapTreeService=r,this.modalService=s,this.processApiService=a,this.router=l,this.runningProcessService=d,this.hypothesisExperimentMap={}}ngOnInit(){this.hypoMoMapLoaderService.loaded.subscribe(()=>{if(this.hypoMoMap=this.hypoMoMapLoaderService.hypoMoMap,this.hypoMoMapTree=this.hypoMoMapLoaderService.hypoMoMapTree,null!=this.hypoMoMap){if(null!=this.hypoMoMapTree&&this.hypoMoMap.id!=this.hypoMoMapTree.getLatestHypoMoMap().id)return void this.router.navigate(["hypomomaps","hypomomaps",this.hypoMoMapTree._id,"version",this.hypoMoMapTree.getLatestHypoMoMap().id,"edit"],{queryParamsHandling:"preserve"});this.hypothesisList=this.hypoMoMap.getHypothesisList(),this.hypothesisExperimentMap=this.hypoMoMap.getHypothesisMappingsMap()}else this.hypothesisList=void 0,this.hypothesisExperimentMap={};this.onLoaded()})}finish(){var e=this;return Y(function*(){null!=e.hypoMoMapTree&&null!=e.processApiService.stepInfo&&null!=e.processApiService.stepInfo.step?yield e.hypoMoMapResolveService.resolve(e.processApiService.stepInfo,e.hypoMoMapTree._id):null!=e.runningProcess&&null!=e.processApiService.artifactVersionId&&(yield e.hypoMoMapResolveService.resolveEditHypoMoMapManually(e.runningProcess._id,e.processApiService.artifactVersionId))})()}executeExperiment(e,i,o){var r=this;return Y(function*(){if(null!=r.hypoMoMapTree&&null!=r.hypoMoMap){yield r.hypoMoMapTreeService.executeExperiment(r.hypoMoMapTree._id,r.hypoMoMap.id,e,i,o);const a=(yield r.hypoMoMapTreeService.get(r.hypoMoMapTree._id)).getHypoMoMap(r.hypoMoMap.id);if(null!=a){const l=r.hypoMoMapTree._id,d=a.adaptions[a.adaptions.length-1].id;yield r.router.navigate(["hypomomaps","hypomomaps",l,"version",d,"edit"],{queryParamsHandling:"preserve"})}}})()}isManually(){var e;return null==(null===(e=this.processApiService.stepInfo)||void 0===e?void 0:e.step)}}return t.\u0275fac=function(e){return new(e||t)(H(Tf),H(ac),H(Pf),H(hl),H(jn),H(Wn),H(oi),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-edit-hypo-mo-map"]],features:[Tt([Wn,ac]),mi],decls:3,vars:2,consts:[["apiName","Edit HypoMoMap"],[4,"ngIf"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],["ngbNav","",1,"nav-pills","nav-justified"],["nav","ngbNav"],["ngbNavItem","stepInit"],["stepInit","ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","stepMap"],["stepMap","ngbNavItem"],["ngbNavItem","stepAdaption"],["stepAdaption","ngbNavItem"],[1,"mt-1",3,"ngbNavOutlet"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"d-flex","align-items-baseline","justify-content-between","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"mt-1"],[3,"hypotheses","hypothesisExperimentMap","processPhase","addExperiment","showMappings","addHypothesis","updateHypothesis","deleteHypothesis"],[3,"showEvidenceScore"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"],[3,"hypoMoMap","executeExperiment"],[3,"usedExperiments","addHypothesis","setCostAndScore","showMappings","showArtifacts","deleteExperiment"],[3,"comments","addComment","updateComment","removeComment"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0),k(1,U7e,1,0,"app-step-errors",1),k(2,K7e,40,10,"main",2)),2&e&&(p(1),v("ngIf",!i.isManually()),p(1),v("ngIf",(i.isManually()||null!=i.runningMethod&&i.isCorrectStep())&&null!=i.hypoMoMap))},directives:[ur,nt,cs,zu,Uu,op,ip,uf,VG,U_,z_,X3,K3,Ts],styles:[""]}),t})();function Z7e(t,n){1&t&&re(0,"app-step-errors")}function eFe(t,n){if(1&t){const e=ye();c(0,"div",4)(1,"app-running-process-method-comments",12),z("addComment",function(o){return W(e),T(2).addComment(o)})("updateComment",function(o){return W(e),T(2).updateComment(o)})("removeComment",function(o){return W(e),T(2).removeComment(o)}),u()()}if(2&t){const e=T(2);p(1),v("comments",e.runningMethod.comments)}}function tFe(t,n){if(1&t){const e=ye();c(0,"div",4)(1,"h6",13),g(2,"Finish editing"),u(),c(3,"button",14),z("click",function(){return W(e),T(2).finish()}),g(4," Finish viewing "),u()()}}function nFe(t,n){if(1&t&&(c(0,"main",3)(1,"div",4)(2,"div",5)(3,"h6",6),g(4,"Hypothesis Tree"),u()(),c(5,"div",7),re(6,"app-hypothesis-tree",8),u(),c(7,"div",7),re(8,"app-hypothesis-tree-legend",9),u()(),c(9,"div",4)(10,"div",5)(11,"h6",6),g(12,"Experiment Tree"),u()(),re(13,"app-used-experiment-tree",10),c(14,"div",7),re(15,"app-used-experiment-tree-legend"),u()(),k(16,eFe,2,1,"div",11),k(17,tFe,5,0,"div",11),u()),2&t){const e=T();p(6),v("hypotheses",e.hypoMoMap.hypotheses)("hypothesisExperimentMap",e.hypothesisMappingsMap)("processPhase","stepView"),p(2),v("showEvidenceScore",!0),p(5),v("editable",!1)("usedExperiments",e.hypoMoMap.usedExperimentsList),p(3),v("ngIf",null!=e.runningMethod),p(1),v("ngIf",!e.isManually())}}const oFe=[{path:"hypomomaps",canActivate:[Po],children:[{path:"artifact/:id/create",component:AG},{path:"experiments",children:[{path:"",component:J8e},{path:":id",component:PPe}]},{path:"hypomomaps",children:[{path:"create",component:AG},{path:":id",children:[{path:"version/:versionId",children:[{path:"hypotheses",component:BDe},{path:"experiments",component:M7e},{path:"execute",component:H7e},{path:"edit",component:J7e},{path:"view",component:(()=>{class t extends(function iFe(){return Df(Ff(um))}()){constructor(e,i,o,r){super(),this.hypoMoMapLoaderService=e,this.hypoMoMapResolveService=i,this.processApiService=o,this.runningProcessService=r,this.hypothesisMappingsMap={}}ngOnInit(){this.hypoMoMapLoaderService.loaded.subscribe(()=>{this.hypothesisMappingsMap=null!=this.hypoMoMap?this.hypoMoMap.getHypothesisMappingsMap():{}})}finish(){var e=this;return Y(function*(){null!=e.hypoMoMapLoaderService.hypoMoMapTree&&null!=e.processApiService.stepInfo&&null!=e.processApiService.stepInfo.step&&(yield e.hypoMoMapResolveService.resolve(e.processApiService.stepInfo,e.hypoMoMapLoaderService.hypoMoMapTree._id))})()}isManually(){var e;return null==(null===(e=this.processApiService.stepInfo)||void 0===e?void 0:e.step)}get hypoMoMap(){return this.hypoMoMapLoaderService.hypoMoMap}}return t.\u0275fac=function(e){return new(e||t)(H(ac),H(Pf),H(Wn),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-view-hypo-mo-map"]],features:[Tt([Wn,ac]),mi],decls:3,vars:2,consts:[["apiName","View HypoMoMap"],[4,"ngIf"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"d-flex","align-items-baseline","justify-content-between","border-bottom","border-gray","mb-2"],[1,"pb-2","mb-0"],[1,"mt-1"],[3,"hypotheses","hypothesisExperimentMap","processPhase"],[3,"showEvidenceScore"],[3,"editable","usedExperiments"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[3,"comments","addComment","updateComment","removeComment"],[1,"border-bottom","border-gray","pb-2"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0),k(1,Z7e,1,0,"app-step-errors",1),k(2,nFe,18,8,"main",2)),2&e&&(p(1),v("ngIf",!i.isManually()),p(1),v("ngIf",(i.isManually()||null!=i.runningMethod&&i.isCorrectStep())&&null!=i.hypoMoMap))},directives:[ur,nt,cs,U_,z_,X3,K3,Ts],styles:[""]}),t})()}]}]}]}]}];let rFe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[ml.forChild(oFe)],ml]}),t})();class Q3{constructor(n,e,i,o,r){this.list=n,this.name=e,this.methods=Object.fromEntries(i.map(s=>[s.name,s])),this.navigation=r,this.service=o}get methodNames(){return Object.keys(this.methods)}}function Kc(t){let n;switch(t.referenceType){case"Process":n={runningProcessId:t.runningProcessId,artifactVersionId:t.artifactVersionId};break;case"Method":n={runningProcessId:t.runningProcessId,executionId:t.executionId};break;case"Artifact":n={artifactId:t.artifactId,artifactVersionId:t.versionId}}return n}let sFe=(()=>{class t{constructor(e){this.hypoMoMapTreeService=e}createHypoMoMap(e){const i=this.getStepInfo(e);e.router.navigate(["hypomomaps","hypomomaps","create"],{queryParams:i})}addHypotheses(e){var i=this;return Y(function*(){const o=i.getStepInfo(e),r=e.inputStepArtifacts[0].data.data,s=yield i.hypoMoMapTreeService.get(r.id);yield e.router.navigate(["hypomomaps","hypomomaps",r.id,"version",s.getLatestHypoMoMap().id,"hypotheses"],{queryParams:o})})()}addExperiments(e){var i=this;return Y(function*(){const o=i.getStepInfo(e),r=e.inputStepArtifacts[0].data.data,s=yield i.hypoMoMapTreeService.get(r.id);yield e.router.navigate(["hypomomaps","hypomomaps",r.id,"version",s.getLatestHypoMoMap().id,"experiments"],{queryParams:o})})()}executeExperiments(e){var i=this;return Y(function*(){const o=i.getStepInfo(e),r=e.inputStepArtifacts[0].data.data,s=yield i.hypoMoMapTreeService.get(r.id);yield e.router.navigate(["hypomomaps","hypomomaps",r.id,"version",s.getLatestHypoMoMap().id,"execute"],{queryParams:o})})()}editHypoMoMap(e){var i=this;return Y(function*(){const o=i.getStepInfo(e),r=e.inputStepArtifacts[0].data.data,s=yield i.hypoMoMapTreeService.get(r.id);yield e.router.navigate(["hypomomaps","hypomomaps",r.id,"version",s.getLatestHypoMoMap().id,"edit"],{queryParams:o})})()}viewHypoMoMap(e){var i=this;return Y(function*(){const o=i.getStepInfo(e),r=e.inputStepArtifacts[0].data.data,s=yield i.hypoMoMapTreeService.get(r.id);yield e.router.navigate(["hypomomaps","hypomomaps",r.id,"version",s.getLatestHypoMoMap().id,"view"],{queryParams:o})})()}executeMethod(e,i){switch(e){case"createHypoMoMap":this.createHypoMoMap(i);break;case"addHypotheses":this.addHypotheses(i);break;case"addExperiments":this.addExperiments(i);break;case"executeExperiments":this.executeExperiments(i);break;case"editHypoMoMap":this.editHypoMoMap(i);break;case"viewHypoMoMap":this.viewHypoMoMap(i)}}getStepInfo(e){return{step:e.runningMethod.currentStepNumber,executionId:e.runningMethod.executionId,runningProcessId:e.runningProcess._id}}}return t.\u0275fac=function(e){return new(e||t)(Ve(hl))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aFe=(()=>{class t{constructor(e,i,o,r,s){this.fb=e,this.moduleService=i,this.hypoMoMapApiService=o,this.hypoMoMapMetaModelService=r,this.hypoMoMapTreeService=s}init(){const e=new Q3("HypoMoMap Tools","HypoMoMap Module",this.getMethods(),this.hypoMoMapApiService,[{name:"Experiments",route:["hypomomaps","experiments"],roles:[jo.EXPERT]}]);this.moduleService.registerModule(e),console.log("Registered HypoMoMap Module"),this.hypoMoMapMetaModelService.registerCreateMethod(this.createHypoMoMapInstance),console.log("Registered HypoMoMap Module as create method for HypoMoMaps"),this.hypoMoMapMetaModelService.registerEditMethod(this.editHypoMoMap),console.log("Registered HypoMoMap Module as edit method for HypoMoMaps"),this.hypoMoMapMetaModelService.registerViewMethod(this.viewHypoMoMap),console.log("Registered HypoMoMap Module as view method for HypoMoMaps")}getMethods(){return[{name:"createHypoMoMap",description:"Creates an empty HypoMoMap",input:[],output:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier]},{name:"addHypotheses",description:"Add hypotheses to a HypoMoMap",input:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier],output:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier]},{name:"addExperiments",description:"Add experiments to a HypoMoMap and create mappings to the hypotheses",input:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier],output:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier]},{name:"executeExperiments",description:"Execute experiments of a HypoMoMap",input:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier],output:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier]},{name:"editHypoMoMap",description:"Edit a HypoMoMap",input:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier],output:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier]},{name:"viewHypoMoMap",description:"View a HypoMoMap",input:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier],output:[this.hypoMoMapMetaModelService.hypoMoMapMetaModelIdentifier]}]}createHypoMoMapInstance(e,i,o){return Y(function*(){const r=Kc(i);yield e.navigate(["hypomomaps","artifact",o,"create"],{queryParams:r})})()}viewHypoMoMap(e,i,o){var r=this;return Y(function*(){const s=Kc(o),a=yield r.hypoMoMapTreeService.get(e.id);yield i.navigate(["hypomomaps","hypomomaps",e.id,"version",a.getLatestHypoMoMap().id,"view"],{queryParams:s})})()}editHypoMoMap(e,i,o){var r=this;return Y(function*(){const s=Kc(o),a=yield r.hypoMoMapTreeService.get(e.id);yield i.navigate(["hypomomaps","hypomomaps",e.id,"version",a.getLatestHypoMoMap().id,"edit"],{queryParams:s})})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt),Ve(zr),Ve(sFe),Ve(q3),Ve(hl))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lFe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:[{provide:kl,useFactory:n=>()=>n.init(),deps:[aFe],multi:!0}],imports:[[rFe,A0]]}),t})();function cFe(t,n){if(1&t&&(c(0,"option",7),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e._id),p(1),Be(" ",e.name," ")}}function uFe(t,n){1&t&&(c(0,"option"),g(1,"Loading..."),u())}let dFe=(()=>{class t{constructor(e){this.canvasDefinitionService=e}ngOnInit(){this.loadCanvasDefinitions()}loadCanvasDefinitions(){var e=this;return Y(function*(){e.canvasDefinitions=yield e.canvasDefinitionService.getList()})()}get definitionControl(){return this.formGroup.get("definitionId")}}return t.\u0275fac=function(e){return new(e||t)(H(Bu))},t.\u0275cmp=He({type:t,selectors:[["app-select-canvas-definition"]],decls:8,vars:5,consts:[[3,"formGroup"],[1,"form-group","row"],["for","definitionSelector",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","definitionSelector","formControlName","definitionId",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngValue"]],template:function(e,i){1&e&&(St(0,0),c(1,"div",1)(2,"label",2),g(3,"Canvas Model"),u(),c(4,"div",3)(5,"select",4),k(6,cFe,2,2,"option",5),k(7,uFe,2,0,"option",6),u()()(),Et()),2&e&&(v("formGroup",i.formGroup),p(5),Ht("is-invalid",i.definitionControl.invalid&&i.definitionControl.touched),p(1),v("ngForOf",i.canvasDefinitions),p(1),v("ngIf",null==i.canvasDefinitions))},directives:[Wt,Vt,ki,Jt,Zt,Lt,Vi,Hi,nt],styles:[""]}),t})(),J3=(()=>{class t{constructor(e,i){this.companyModelService=e,this.fb=i}create(e,i,o){null==this.createMethod?console.warn("No module for the creation of canvas models added"):this.createMethod(e,i,o)}edit(e,i,o){null==this.editMethod?console.warn("No module for editing of canvas models added"):this.editMethod(e,i,o)}view(e,i,o){null==this.viewMethod?console.warn("No module for viewing of canvas models added"):this.viewMethod(e,i,o)}getName(e){var i=this;return Y(function*(){const o=yield i.companyModelService.get(e.id);if(o.instances.length>0)return o.instances[0].name})()}copy(e){var i=this;return Y(function*(){const o=yield i.companyModelService.get(e.id);return o.resetDatabaseState(),o.createdByMethod=!0,yield i.companyModelService.save(o),Object.assign(Object.assign({},e),{id:o._id,type:No.typeName})})()}remove(e){var i=this;return Y(function*(){yield i.companyModelService.delete(e.id)})()}getMetaModelDataComponent(){return dFe}createMetaModelDataForm(e){return this.fb.group({definitionId:[e?e.definitionId:null,ft.required]})}equalMetaModelData(e,i){return null==e&&null==i||null!=e&&null!=i&&e.definitionId===i.definitionId}compatibleMetaModelData(e,i){return this.equalMetaModelData(e,i)}}return t.\u0275fac=function(e){return new(e||t)(Ve(Lo),Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),Z3=(()=>{class t{constructor(e,i){this.canvasMetaModelApiService=e,this.metaModelService=i}init(){this.metaModelService.registerMetaModel({name:"Canvas",type:No.typeName,api:this.canvasMetaModelApiService}),console.log("Registered Canvas Meta Model")}registerCreateMethod(e){this.canvasMetaModelApiService.createMethod=e}registerEditMethod(e){this.canvasMetaModelApiService.editMethod=e}registerViewMethod(e){this.canvasMetaModelApiService.viewMethod=e}}return t.\u0275fac=function(e){return new(e||t)(Ve(J3),Ve(Zl))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),pFe=(()=>{class t{constructor(e){if(e)throw new Error("CanvasMetaModelModule is already loaded. Import it in the AppModule only.")}}return t.\u0275fac=function(e){return new(e||t)(Ve(t,12))},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:[Z3,J3,{provide:kl,useFactory:n=>()=>n.init(),deps:[Z3],multi:!0}],imports:[[d7,af]]}),t})(),J0=(()=>{class t{constructor(e,i){this.companyModelService=e,this.expertModelService=i}selectExpertModel(e,i){var o=this;return Y(function*(){const r=yield o.companyModelService.get(e);r.addExpertModel(i),yield o.companyModelService.save(r)})()}unselectExpertModel(e,i){var o=this;return Y(function*(){const r=yield o.companyModelService.get(e);r.removeExpertModel(i),yield o.companyModelService.save(r)})()}getSelectedExpertModels(e){var i=this;return Y(function*(){const o=yield i.companyModelService.get(e);return i.expertModelService.getList({_id:{$in:Object.keys(o.expertModelTraces)}})})()}getUnselectedExpertModels(e){var i=this;return Y(function*(){const o=yield i.companyModelService.get(e),r=a=>{const l=[];return a.rows.forEach(d=>d.filter(h=>!h.isSpacer).forEach(h=>{null!=h.id&&l.push(h.id)})),l},s=r(o.definition);return(yield i.expertModelService.getList({$not:{_id:{$in:Object.keys(o.expertModelTraces)}}})).filter(a=>{const l=r(a.$definition);return l.length===s.length&&l.every(d=>s.includes(d))})})()}addFeatureMerge(e,i,o,r,s){var a=this;return Y(function*(){const l=yield a.expertModelService.get(r),d=yield a.companyModelService.get(e),h=d.addFeature(i,o);d.addExpertModelTrace(l,s,h.id),yield a.companyModelService.save(d)})()}addAllSubfeaturesMerge(e,i,o){var r=this;return Y(function*(){const s=yield r.expertModelService.get(i),a=yield r.companyModelService.get(e);let l;l=null!=o?s.getFeature(o).getAllSubfeatures():Object.values(s.getFeatureMap()),l.filter(d=>!a.expertModelTraces[i].expertFeatureIdMap[d.id]).forEach(d=>{const h=a.addFeature({name:d.name,description:d.description,type:d.type,subfeatureConnections:d.subfeatureConnections},a.expertModelTraces[i].expertFeatureIdMap[d.parent.id]);a.addExpertModelTrace(s,d.id,h.id)}),yield r.companyModelService.save(a)})()}addTrace(e,i,o,r){var s=this;return Y(function*(){const a=yield s.expertModelService.get(o),l=yield s.companyModelService.get(e);l.addExpertModelTrace(a,r,i),yield s.companyModelService.save(l)})()}deleteTrace(e,i,o){var r=this;return Y(function*(){const s=yield r.companyModelService.get(e);s.removeTrace(i,o),yield r.companyModelService.save(s)})()}updateFeature(e,i,o,r){var s=this;return Y(function*(){const a=yield s.companyModelService.get(e);a.updateFeature(i,r,o),yield s.companyModelService.save(a)})()}deleteFeature(e,i){var o=this;return Y(function*(){const r=yield o.companyModelService.get(e);r.removeFeature(i),yield o.companyModelService.save(r)})()}addRelationship(e,i,o,r){var s=this;return Y(function*(){const a=yield s.companyModelService.get(e);a.addRelationship(i,o,r),yield s.companyModelService.save(a)})()}removeRelationship(e,i,o,r){var s=this;return Y(function*(){const a=yield s.companyModelService.get(e);a.removeRelationship(i,o,r),yield s.companyModelService.save(a)})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Lo),Ve(Cs))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mFe(t,n){if(1&t){const e=ye();c(0,"li",15)(1,"span"),g(2),u(),c(3,"span")(4,"button",16),z("click",function(){const r=W(e).$implicit;return T(2).mergeExpertModel(r._id)}),g(5," Merge"),u(),g(6,"\xa0 "),c(7,"button",17),z("click",function(){const r=W(e).$implicit;return T(2).viewExpertModel(r._id)}),g(8," View"),u(),g(9,"\xa0 "),c(10,"button",18),z("click",function(){const r=W(e).$implicit;return T(2).unselectExpertModel(r._id)}),g(11," Unselect "),u()()()}if(2&t){const e=n.$implicit;p(2),_t(e.name)}}function fFe(t,n){if(1&t&&(c(0,"ul",13),k(1,mFe,12,1,"li",14),u()),2&t){const e=T();p(1),v("ngForOf",e.selectedExpertModelList)}}function hFe(t,n){if(1&t&&(c(0,"option",19),g(1),u()),2&t){const e=n.$implicit;v("value",e._id),p(1),Be(" ",e.name," ")}}let gFe=(()=>{class t{constructor(e,i,o,r,s){this.expertModelService=e,this.fb=i,this.mergeService=o,this.router=r,this.route=s,this.selectedExpertModelForm=this.fb.group({expertModelId:[null,ft.required]}),this.unselectedExpertModelList=[]}ngOnInit(){this.routeSubscription=this.route.paramMap.subscribe(e=>{var i;this.companyModelId=null!==(i=e.get("companyModelId"))&&void 0!==i?i:void 0,null!=this.companyModelId&&this.loadExpertModels(this.companyModelId)})}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}selectExpertModel(){var e=this;return Y(function*(){null!=e.companyModelId&&(yield e.mergeService.selectExpertModel(e.companyModelId,e.selectedExpertModelForm.value.expertModelId),e.selectedExpertModelForm.reset(),yield e.loadExpertModels(e.companyModelId))})()}unselectExpertModel(e){var i=this;return Y(function*(){null!=i.companyModelId&&(yield i.mergeService.unselectExpertModel(i.companyModelId,e),yield i.loadExpertModels(i.companyModelId))})()}viewExpertModel(e){var i=this;return Y(function*(){yield i.router.navigate(["/expertModels",e])})()}mergeExpertModel(e){var i=this;return Y(function*(){i.router.navigate(["/merge",i.companyModelId,e])})()}loadExpertModels(e){var i=this;return Y(function*(){yield i.loadSelectedExpertModels(e),yield i.loadUnselectedExpertModels(e)})()}loadSelectedExpertModels(e){var i=this;return Y(function*(){i.selectedExpertModelList=yield i.mergeService.getSelectedExpertModels(e)})()}loadUnselectedExpertModels(e){var i=this;return Y(function*(){i.unselectedExpertModelList=yield i.mergeService.getUnselectedExpertModels(e)})()}}return t.\u0275fac=function(e){return new(e||t)(H(Cs),H(zt),H(J0),H(oi),H(Jn))},t.\u0275cmp=He({type:t,selectors:[["app-merge-expert-models"]],decls:20,vars:4,consts:[[1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],["class","list-group inner","style","margin: 5px",4,"ngIf"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","expertModelSelector",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","expertModelSelector","formControlName","expertModelId",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[1,"list-group","inner",2,"margin","5px"],["class","\n          d-flex\n          list-group-item\n          justify-content-between\n          align-items-center\n        ",4,"ngFor","ngForOf"],[1,"d-flex","list-group-item","justify-content-between","align-items-center"],["type","button",1,"btn","btn-warning","btn-xs",3,"click"],["type","button",1,"btn","btn-dark","btn-xs",3,"click"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"],[3,"value"]],template:function(e,i){1&e&&(c(0,"main",0)(1,"div",1)(2,"h6",2),g(3," Selected Canvas Building Blocks "),u(),k(4,fFe,2,1,"ul",3),u(),c(5,"div",1)(6,"h6",2),g(7," Select Canvas Building Block "),u(),c(8,"div",4)(9,"form",5),z("ngSubmit",function(){return i.selectExpertModel()}),c(10,"div",6)(11,"label",7),g(12,"Canvas Building Block"),u(),c(13,"div",8)(14,"select",9),k(15,hFe,2,2,"option",10),u()()(),c(16,"div",6)(17,"div",11)(18,"button",12),g(19," Add Canvas Building Block "),u()()()()()()()),2&e&&(p(4),v("ngIf",i.selectedExpertModelList),p(5),v("formGroup",i.selectedExpertModelForm),p(6),v("ngForOf",i.unselectedExpertModelList),p(3),v("disabled",!i.selectedExpertModelForm.valid))},directives:[nt,Lt,nn,Wt,Vt,ki,Jt,Zt,Vi,Hi],styles:[""]}),t})(),HG=(()=>{class t{constructor(){this.closeModal=new je,this.deletionResult=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-delete-feature-confirm"]],inputs:{feature:"feature"},outputs:{closeModal:"closeModal",deletionResult:"deletionResult"},decls:17,vars:2,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","alert",1,"alert","alert-warning"],[1,"modal-footer"],["type","button",1,"btn","btn-block","btn-warning",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2),u(),c(3,"button",2),z("click",function(){return i.closeModal.emit()}),c(4,"span",3),g(5,"\xd7"),u()()(),c(6,"div",4)(7,"div",5)(8,"p"),g(9),u(),c(10,"p"),g(11,"Moreover, the feature is also removed from all business canvases."),u(),c(12,"p"),g(13," Additionally all traces to canvas building blocks of this feature will be deleted. "),u()()(),c(14,"div",6)(15,"button",7),z("click",function(){return i.deletionResult.emit(i.feature.id)}),g(16," Delete Feature "),u()()),2&e&&(p(2),_t(i.feature.name),p(7),Be(' You are trying to remove the feature "',i.feature.name,'". Please keep in mind that you are removing also all subfeatures together with the corresponding dependencies. '))},styles:[""]}),t})();function _Fe(t,n){if(1&t&&(c(0,"option",19),g(1),u()),2&t){const e=n.$implicit,i=T(2);v("disabled",i.disabledSubfeatures.includes(e.id)||i.enabledSubfeatures&&!i.enabledSubfeatures.includes(e.id))("ngValue",e.id),p(1),Be(" ",e.levelname," ")}}function vFe(t,n){1&t&&(c(0,"div",20),g(1," Disabled, because this feature has a trace to a canvas building block "),u())}function bFe(t,n){if(1&t&&(c(0,"div",1)(1,"label",15),g(2,"Subfeature of"),u(),c(3,"div",3)(4,"select",16),k(5,_Fe,2,3,"option",17),u(),k(6,vFe,2,0,"div",18),u()()),2&t){const e=T();let i;p(5),v("ngForOf",e.featureList),p(1),v("ngIf",null==(i=e.featureForm.get("subfeatureOf"))?null:i.disabled)}}let UG=(()=>{class t{constructor(e){this.fb=e,this.disabledSubfeatures=[],this.submitButtonText="Update Feature",this.submitFeatureForm=new je,this.featureForm=this.fb.group({name:["",ft.required],description:"",type:wc.OPTIONAL,subfeatureConnections:void 0,subfeatureOf:[void 0,ft.required]})}ngOnInit(){null==this.feature&&this.loadForm()}ngOnChanges(e){e.feature&&this.loadForm(e.feature.currentValue)}submitForm(){this.submitFeatureForm.emit(this.featureForm),this.loadForm()}loadForm(e){var i,o,r,s,a,l,d;this.featureForm=this.fb.group({name:[null!==(i=null==e?void 0:e.name)&&void 0!==i?i:"",ft.required],description:null!==(o=null==e?void 0:e.description)&&void 0!==o?o:"",type:null!==(r=null==e?void 0:e.type)&&void 0!==r?r:wc.OPTIONAL,subfeatureConnections:null!==(s=null==e?void 0:e.subfeatureConnections)&&void 0!==s?s:void 0,subfeatureOf:[(null==e?void 0:e.parent)?e.parent.id:null===(a=this.featureList[0])||void 0===a?void 0:a.id,ft.required]}),Object.keys(null!==(l=null==e?void 0:e.expertModelTrace)&&void 0!==l?l:{}).length>0&&(null===(d=this.featureForm.get("subfeatureOf"))||void 0===d||d.disable())}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-feature-form"]],inputs:{feature:"feature",featureList:"featureList",disabledSubfeatures:"disabledSubfeatures",enabledSubfeatures:"enabledSubfeatures",submitButtonText:"submitButtonText"},outputs:{submitFeatureForm:"submitFeatureForm"},features:[Xt],decls:36,vars:11,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control",3,"readonly"],["for","description",1,"col-sm-4","col-form-label"],["type","text","formControlName","description","id","description",1,"form-control",3,"readonly"],["class","form-group row",4,"ngIf"],["for","type",1,"col-sm-4","col-form-label"],["id","type","formControlName","type",1,"form-control"],[3,"ngValue"],["for","subfeatureConnections",1,"col-sm-4","col-form-label"],["id","subfeatureConnections","formControlName","subfeatureConnections",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-dark","btn-block",3,"disabled"],["for","subfeatureOf",1,"col-sm-4","col-form-label"],["id","subfeatureOf","formControlName","subfeatureOf",1,"form-control"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],["class","mt-1",4,"ngIf"],[3,"disabled","ngValue"],[1,"mt-1"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Feature Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8,"Feature Description"),u(),c(9,"div",3),re(10,"input",6),u()(),k(11,bFe,7,2,"div",7),c(12,"div",1)(13,"label",8),g(14,"Mandatory Feature"),u(),c(15,"div",3)(16,"select",9)(17,"option",10),g(18,"Yes"),u(),c(19,"option",10),g(20,"No"),u()()()(),c(21,"div",1)(22,"label",11),g(23,"Subfeature Connections"),u(),c(24,"div",3)(25,"select",12)(26,"option",10),g(27,"None"),u(),c(28,"option",10),g(29,"XOR"),u(),c(30,"option",10),g(31,"OR"),u()()()(),c(32,"div",1)(33,"div",13)(34,"button",14),g(35),u()()()()),2&e&&(v("formGroup",i.featureForm),p(5),v("readonly",i.feature&&null==i.feature.parent),p(5),v("readonly",i.feature&&null==i.feature.parent),p(1),v("ngIf",null==i.feature||null!=i.feature.parent),p(6),v("ngValue","mandatory"),p(2),v("ngValue","optional"),p(7),v("ngValue",null),p(2),v("ngValue","xor"),p(2),v("ngValue","or"),p(4),v("disabled",!i.featureForm.valid),p(1),Be(" ",i.submitButtonText," "))},directives:[nn,Wt,Vt,wn,Jt,Zt,nt,ki,Lt,Vi,Hi],styles:[""]}),t})();function yFe(t,n){1&t&&(c(0,"div",8),g(1," There are no dependencies left to remove. "),u())}function wFe(t,n){if(1&t){const e=ye();c(0,"button",14),z("click",function(){W(e);const o=T().$implicit,r=T(2).$implicit;return T().add(r.type,o.id)}),g(1," Add "),u()}}function xFe(t,n){if(1&t){const e=ye();c(0,"button",14),z("click",function(){W(e);const o=T().$implicit,r=T(2).$implicit;return T().remove(r.type,o.id)}),g(1," Delete "),u()}}function CFe(t,n){if(1&t&&(c(0,"li",10),g(1),k(2,wFe,2,0,"button",13),k(3,xFe,2,0,"button",13),u()),2&t){const e=n.$implicit,i=T(2).$implicit,o=T();p(1),Be(" ",e.name," "),p(1),v("ngIf",o.companyModel&&o.relationshipDoesNotExistInCompanyModel(i.type,e.id)),p(1),v("ngIf",!o.companyModel)}}function MFe(t,n){if(1&t&&(c(0,"li",10),re(1,"i",11),g(2),c(3,"ul",6),k(4,CFe,4,3,"li",12),u()()),2&t){const e=T().$implicit;p(2),Be(" ",e.name,": "),p(2),v("ngForOf",e.features)}}function SFe(t,n){if(1&t&&(St(0),k(1,MFe,5,2,"li",9),Et()),2&t){const e=n.$implicit;p(1),v("ngIf",0!==e.features.length)}}let zG=(()=>{class t{constructor(){this.closeModal=new je,this.addRelationshipOnCompanyModel=new je,this.removeRelationship=new je,this.relationships=[]}ngOnChanges(e){e.feature&&this.load(e.feature.currentValue)}add(e,i){null!=this.companyModel&&this.addRelationshipOnCompanyModel.emit({type:e,fromFeatureId:this.feature.id,toFeatureId:this.companyModel.expertModelTraces[this.featureModel._id].expertFeatureIdMap[i]})}remove(e,i){this.removeRelationship.emit({type:e,fromFeatureId:this.feature.id,toFeatureId:i})}load(e){this.relationships=[],this.tracedFeature=void 0;const i=this.featureModel.getFeatureMap();if(this.featureModel.definition.relationshipTypes.forEach(r=>this.loadRelationship(r,r,e.relationships.getRelationships(r),i)),this.companyModel){const r=this.companyModel.expertModelTraces[this.featureModel._id].expertFeatureIdMap[this.feature.id];r&&(this.tracedFeature=this.companyModel.getFeature(r))}}loadRelationship(e,i,o,r){this.relationships.push({name:e,type:i,features:o.map(s=>r[s])})}relationshipDoesNotExistInCompanyModel(e,i){if(null!=this.companyModel&&null!=this.tracedFeature){const o=this.companyModel.expertModelTraces[this.featureModel._id].expertFeatureIdMap[i];if(o)return!this.tracedFeature.relationships.hasRelationship(e,o)}return!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-cross-tree-relationship-modal"]],inputs:{featureModel:"featureModel",feature:"feature",companyModel:"companyModel"},outputs:{closeModal:"closeModal",addRelationshipOnCompanyModel:"addRelationshipOnCompanyModel",removeRelationship:"removeRelationship"},features:[Xt],decls:10,vars:3,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","alert alert-info","role","alert",4,"ngIf"],[1,"list-group","inner",2,"margin","5px"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-info"],["class","list-group-item justify-content-between align-items-center",4,"ngIf"],[1,"list-group-item","justify-content-between","align-items-center"],[1,"fa","fa-arrow-right"],["class","list-group-item justify-content-between align-items-center",4,"ngFor","ngForOf"],["type","button","class","btn btn-warning btn-xs bottom-right",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning","btn-xs","bottom-right",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2),u(),c(3,"button",2),z("click",function(){return i.closeModal.emit()}),c(4,"span",3),g(5,"\xd7"),u()()(),c(6,"div",4),k(7,yFe,2,0,"div",5),c(8,"ul",6),k(9,SFe,2,1,"ng-container",7),u()()),2&e&&(p(2),_t(i.feature.name),p(5),v("ngIf",i.feature.relationships.hasNoRelationships()),p(2),v("ngForOf",i.relationships))},directives:[nt,Lt],styles:[""]}),t})();function EFe(t,n){if(1&t){const e=ye();c(0,"button",8),z("click",function(){return W(e),T().deleteTrace.emit()}),g(1," Delete "),u()}}let TFe=(()=>{class t{constructor(){this.closeModal=new je,this.deleteTrace=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-trace-modal"]],inputs:{feature:"feature",tracedFeature:"tracedFeature"},outputs:{closeModal:"closeModal",deleteTrace:"deleteTrace"},decls:14,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group","inner",2,"margin","5px"],[1,"list-group-item","justify-content-between","align-items-center"],["type","button","class","btn btn-danger btn-xs bottom-right",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-xs","bottom-right",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2),u(),c(3,"button",2),z("click",function(){return i.closeModal.emit()}),c(4,"span",3),g(5,"\xd7"),u()()(),c(6,"div",4)(7,"ul",5)(8,"li",6),g(9," Connected to: "),c(10,"ul",5)(11,"li",6),g(12),k(13,EFe,2,0,"button",7),u()()()()()),2&e&&(p(2),_t(i.feature.name),p(10),Be(" ",i.tracedFeature.name," "),p(1),v("ngIf",null!=i.feature.parent))},directives:[nt],styles:[""]}),t})();function PFe(t,n){1&t&&(St(0),re(1,"i",13),c(2,"span",14),g(3,"mandatory"),u(),Et())}function DFe(t,n){1&t&&(St(0),re(1,"i",15),c(2,"span",14),g(3,"optional"),u(),Et())}function FFe(t,n){if(1&t&&(c(0,"small",16),g(1),u()),2&t){const e=T().$implicit;p(1),_t(e.description)}}function AFe(t,n){1&t&&(St(0),re(1,"i",17),c(2,"span",14),g(3,"or subfeatures"),u(),Et())}function IFe(t,n){1&t&&(St(0),re(1,"i",18),c(2,"span",14),g(3,"xor subfeatures"),u(),Et())}function kFe(t,n){if(1&t){const e=ye();c(0,"button",19),z("click",function(){W(e);const o=T().$implicit;return T(2).openDependencies.emit(o.id)}),g(1," Show Dependencies "),u()}}function NFe(t,n){if(1&t){const e=ye();c(0,"button",20),z("click",function(){W(e);const o=T().$implicit;return T(2).addTrace.emit(o.id)}),g(1," Add "),u()}}function RFe(t,n){if(1&t){const e=ye();c(0,"button",20),z("click",function(){W(e);const o=T().$implicit;return T(2).selectFeature.emit(o.id)}),g(1," Select "),u()}}function OFe(t,n){if(1&t){const e=ye();c(0,"button",20),z("click",function(){W(e);const o=T().$implicit;return T(2).addAll.emit(o.id)}),g(1," Add all "),u()}}function BFe(t,n){if(1&t){const e=ye();c(0,"button",21),z("click",function(){W(e);const o=T().$implicit;return T(2).openTrace.emit(o.id)}),g(1," Show Trace "),u()}}function LFe(t,n){1&t&&(St(0),re(1,"i",22),c(2,"span",14),g(3,"(Merged)"),u(),Et())}function jFe(t,n){1&t&&(St(0),re(1,"i",23),c(2,"span",14),g(3,"(Unmerged)"),u(),Et())}function GFe(t,n){if(1&t){const e=ye();c(0,"li",3)(1,"div",4)(2,"div",5)(3,"div",6),k(4,PFe,4,0,"ng-container",7),k(5,DFe,4,0,"ng-container",7),u(),c(6,"div",6),g(7),k(8,FFe,2,1,"small",8),u(),c(9,"div"),k(10,AFe,4,0,"ng-container",7),k(11,IFe,4,0,"ng-container",7),u()(),c(12,"div"),k(13,kFe,2,0,"button",9),k(14,NFe,2,0,"button",10),k(15,RFe,2,0,"button",10),k(16,OFe,2,0,"button",10),k(17,BFe,2,0,"button",11),k(18,LFe,4,0,"ng-container",7),k(19,jFe,4,0,"ng-container",7),u()(),c(20,"app-merge-tree",12),z("openDependencies",function(o){return W(e),T(2).openDependencies.emit(o)})("addTrace",function(o){return W(e),T(2).addTrace.emit(o)})("selectFeature",function(o){return W(e),T(2).selectFeature.emit(o)})("addAll",function(o){return W(e),T(2).addAll.emit(o)})("openTrace",function(o){return W(e),T(2).openTrace.emit(o)}),u()()}if(2&t){const e=n.$implicit,i=T(2);p(4),v("ngIf","mandatory"===e.type),p(1),v("ngIf","optional"===e.type),p(2),Be(" ",e.name," "),p(1),v("ngIf",e.description),p(2),v("ngIf","or"===e.subfeatureConnections),p(1),v("ngIf","xor"===e.subfeatureConnections),p(2),v("ngIf",!e.relationships.hasNoRelationships()),p(1),v("ngIf",!i.trace.expertFeatureIdMap[e.id]&&e.parent&&i.trace.expertFeatureIdMap[e.parent.id]),p(1),v("ngIf",!i.trace.expertFeatureIdMap[e.id]&&e.parent&&i.trace.expertFeatureIdMap[e.parent.id]),p(1),v("ngIf",i.trace.expertFeatureIdMap[e.id]),p(1),v("ngIf",i.trace.expertFeatureIdMap[e.id]),p(1),v("ngIf",i.trace.expertFeatureIdMap[e.id]),p(1),v("ngIf",!i.trace.expertFeatureIdMap[e.id]),p(1),v("features",e.subfeatures)("trace",i.trace)}}function VFe(t,n){if(1&t&&(c(0,"ul",1),k(1,GFe,21,15,"li",2),u()),2&t){const e=T();p(1),v("ngForOf",e.asList(e.features))}}let HFe=(()=>{class t{constructor(){this.addTrace=new je,this.selectFeature=new je,this.openDependencies=new je,this.addAll=new je,this.openTrace=new je}asList(e){return Object.values(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-merge-tree"]],inputs:{features:"features",trace:"trace"},outputs:{addTrace:"addTrace",selectFeature:"selectFeature",openDependencies:"openDependencies",addAll:"addAll",openTrace:"openTrace"},decls:1,vars:1,consts:[["class","list-group inner","style","margin: 5px",4,"ngIf"],[1,"list-group","inner",2,"margin","5px"],["class","list-group-item justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","justify-content-between","align-items-center"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"mr-1"],[4,"ngIf"],["class","text-muted",4,"ngIf"],["type","button","class","btn btn-dark btn-xs mr-1",3,"click",4,"ngIf"],["type","button","class","btn btn-warning btn-xs mr-1",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-xs mr-1",3,"click",4,"ngIf"],[3,"features","trace","openDependencies","addTrace","selectFeature","addAll","openTrace"],["aria-hidden","true","title","mandatory",1,"fa","fa-circle"],[1,"sr-only"],["aria-hidden","true","title","optional",1,"fa","fa-circle-o"],[1,"text-muted"],["aria-hidden","true","title","or subfeatures",1,"fa","fa-caret-up"],["aria-hidden","true","title","xor subfeatures",1,"fa","fa-angle-up"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-warning","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-xs","mr-1",3,"click"],["aria-hidden","true","title","Merged",1,"fa","fa-check"],["aria-hidden","true","title","Unmerged",1,"fa","fa-exclamation-triangle"]],template:function(e,i){1&e&&k(0,VFe,2,1,"ul",0),2&e&&v("ngIf",i.features)},directives:[nt,Lt,t],styles:[""]}),t})();function UFe(t,n){1&t&&(St(0),re(1,"i",16),c(2,"span",17),g(3,"mandatory"),u(),Et())}function zFe(t,n){1&t&&(St(0),re(1,"i",18),c(2,"span",17),g(3,"optional"),u(),Et())}function qFe(t,n){if(1&t&&(c(0,"button",19),g(1),u()),2&t){const e=T(2).$implicit;p(1),Be(" ",e.name," ")}}function $Fe(t,n){if(1&t&&(c(0,"button",20),g(1),u()),2&t){const e=T(2).$implicit;p(1),Be(" ",e.name," ")}}function WFe(t,n){if(1&t&&(c(0,"small",21),g(1),u()),2&t){const e=T(2).$implicit;p(1),_t(e.description)}}function YFe(t,n){1&t&&(St(0),re(1,"i",22),c(2,"span",17),g(3,"or subfeatures"),u(),Et())}function XFe(t,n){1&t&&(St(0),re(1,"i",23),c(2,"span",17),g(3,"xor subfeatures"),u(),Et())}function KFe(t,n){if(1&t){const e=ye();c(0,"button",24),z("click",function(){W(e);const o=T(2).$implicit;return T(2).openDependencies.emit(o.id)}),g(1," Show Dependencies "),u()}}function QFe(t,n){if(1&t){const e=ye();c(0,"button",25),z("click",function(){W(e);const o=T(2).$implicit;return T(2).openTrace.emit(o.id)}),g(1," Show Trace "),u()}}function JFe(t,n){if(1&t){const e=ye();c(0,"button",26),z("click",function(){W(e);const o=T(2).$implicit;return T(2).deleteFeature.emit(o.id)}),g(1," Delete "),u()}}function ZFe(t,n){if(1&t){const e=ye();c(0,"div",6)(1,"div",7),k(2,UFe,4,0,"ng-container",8),k(3,zFe,4,0,"ng-container",8),k(4,qFe,2,1,"button",9),k(5,$Fe,2,1,"button",10),k(6,WFe,2,1,"small",11),k(7,YFe,4,0,"ng-container",8),k(8,XFe,4,0,"ng-container",8),u(),c(9,"div"),k(10,KFe,2,0,"button",12),k(11,QFe,2,0,"button",13),c(12,"button",14),z("click",function(){W(e);const o=T().$implicit;return T(2).updateFeature.emit(o.id)}),g(13," Update "),u(),k(14,JFe,2,0,"button",15),u()()}if(2&t){const e=T().$implicit,i=T(2);p(2),v("ngIf","mandatory"===e.type),p(1),v("ngIf","optional"===e.type),p(1),v("ngIf",i.asList(e.subfeatures).length>0),p(1),v("ngIf",0===i.asList(e.subfeatures).length),p(1),v("ngIf",e.description),p(1),v("ngIf","or"===e.subfeatureConnections),p(1),v("ngIf","xor"===e.subfeatureConnections),p(2),v("ngIf",!e.relationships.hasNoRelationships()),p(1),v("ngIf",e.expertModelTrace[i.expertModelId]),p(3),v("ngIf",null!=e.parent)}}function eAe(t,n){if(1&t){const e=ye();c(0,"app-merge-into-tree",27),z("openDependencies",function(o){return W(e),T(3).openDependencies.emit(o)})("openTrace",function(o){return W(e),T(3).openTrace.emit(o)})("updateFeature",function(o){return W(e),T(3).updateFeature.emit(o)})("deleteFeature",function(o){return W(e),T(3).deleteFeature.emit(o)}),u()}if(2&t){const e=T().$implicit,i=T(2);v("features",e.subfeatures)("expertModelId",i.expertModelId)("openPanels",i.openPanels)}}function tAe(t,n){1&t&&(c(0,"ngb-panel",3),k(1,ZFe,15,10,"ng-template",4),k(2,eAe,1,3,"ng-template",5),u()),2&t&&v("id",n.$implicit.fixId)}function nAe(t,n){if(1&t){const e=ye();c(0,"ngb-accordion",1),z("panelChange",function(o){return W(e),T().panelChange(o.panelId,o.nextState)}),k(1,tAe,3,1,"ngb-panel",2),u()}if(2&t){const e=T();v("activeIds",e.openPanels),p(1),v("ngForOf",e.asList(e.features))}}let iAe=(()=>{class t{constructor(){this.openTrace=new je,this.openDependencies=new je,this.updateFeature=new je,this.deleteFeature=new je}panelChange(e,i){i&&!this.openPanels.includes(e)?this.openPanels.push(e):!i&&this.openPanels.includes(e)&&this.openPanels.splice(this.openPanels.indexOf(e),1)}asList(e){return Object.values(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-merge-into-tree"]],inputs:{expertModelId:"expertModelId",features:"features",openPanels:"openPanels"},outputs:{openTrace:"openTrace",openDependencies:"openDependencies",updateFeature:"updateFeature",deleteFeature:"deleteFeature"},decls:1,vars:1,consts:[["class","list-group inner","style","margin: 5px",3,"activeIds","panelChange",4,"ngIf"],[1,"list-group","inner",2,"margin","5px",3,"activeIds","panelChange"],["class","list-group-item justify-content-between align-items-center",3,"id",4,"ngFor","ngForOf"],[1,"list-group-item","justify-content-between","align-items-center",3,"id"],["ngbPanelHeader",""],["ngbPanelContent",""],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-baseline"],[4,"ngIf"],["class","btn btn-link p-0 mr-1","ngbPanelToggle","",4,"ngIf"],["class","btn p-0 mr-1",4,"ngIf"],["class","text-muted mr-1",4,"ngIf"],["type","button","class","btn btn-dark btn-xs mr-1",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-xs mr-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning","btn-xs","mr-1",3,"click"],["type","button","class","btn btn-danger btn-xs mr-1",3,"click",4,"ngIf"],["aria-hidden","true","title","mandatory",1,"fa","fa-circle","mr-1"],[1,"sr-only"],["aria-hidden","true","title","optional",1,"fa","fa-circle-o","mr-1"],["ngbPanelToggle","",1,"btn","btn-link","p-0","mr-1"],[1,"btn","p-0","mr-1"],[1,"text-muted","mr-1"],["aria-hidden","true","title","or subfeatures",1,"fa","fa-caret-up"],["aria-hidden","true","title","xor subfeatures",1,"fa","fa-angle-up"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-danger","btn-xs","mr-1",3,"click"],[3,"features","expertModelId","openPanels","openDependencies","openTrace","updateFeature","deleteFeature"]],template:function(e,i){1&e&&k(0,nAe,2,2,"ngb-accordion",0),2&e&&v("ngIf",i.features)},directives:[nt,o0,Lt,c_,t0,HE,n0,t],styles:[""]}),t})();const oAe=["dependencyModal"],rAe=["mergeModal"],sAe=["addAllModal"],aAe=["updateModal"],lAe=["traceModal"],cAe=["selectModal"],uAe=["deleteModal"];function dAe(t,n){if(1&t){const e=ye();c(0,"app-delete-feature-confirm",12),z("deletionResult",function(o){return W(e),T(2).deleteFeature(o)})("closeModal",function(){return W(e),T(2).closeModal()}),u()}2&t&&v("feature",T(2).modalFeature)}function pAe(t,n){1&t&&k(0,dAe,1,1,"app-delete-feature-confirm",11),2&t&&v("ngIf",null!=T().modalFeature)}function mAe(t,n){if(1&t&&(c(0,"h4",20),g(1),u()),2&t){const e=T(2);p(1),Be(" ",e.modalFeature.name," ")}}const Z0=function(){return[]};function fAe(t,n){if(1&t){const e=ye();c(0,"app-feature-form",21),z("submitFeatureForm",function(o){return W(e),T(2).updateFeature(o)}),u()}if(2&t){const e=T(2);let i;v("feature",e.modalFeature)("disabledSubfeatures",null!==(i=e.modalSubfeatureIds)&&void 0!==i?i:Bt(3,Z0))("featureList",e.companyFeatureList)}}function hAe(t,n){if(1&t){const e=ye();c(0,"div",13),k(1,mAe,2,1,"h4",14),c(2,"button",15),z("click",function(){return W(e),T().closeModal()}),c(3,"span",16),g(4,"\xd7"),u()()(),c(5,"div",17)(6,"div",18),k(7,fAe,1,4,"app-feature-form",19),u()()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalFeature),p(6),v("ngIf",null!=e.modalFeature)}}function gAe(t,n){if(1&t){const e=ye();c(0,"app-cross-tree-relationship-modal",23),z("addRelationshipOnCompanyModel",function(o){return W(e),T(2).addDependency(o.type,o.fromFeatureId,o.toFeatureId)})("closeModal",function(){return W(e),T(2).closeModal()})("removeRelationship",function(o){return W(e),T(2).deleteDependency(o.type,o.fromFeatureId,o.toFeatureId)}),u()}if(2&t){const e=T(2);v("feature",e.modalFeature)("featureModel",e.modalFeatureModel)("companyModel",e.modalFeatureModel._id===e.expertModel._id?e.companyModel:void 0)}}function _Ae(t,n){if(1&t&&k(0,gAe,1,3,"app-cross-tree-relationship-modal",22),2&t){const e=T();v("ngIf",null!=e.modalFeature&&null!=e.modalFeatureModel&&null!=e.expertModel)}}function vAe(t,n){if(1&t){const e=ye();c(0,"app-trace-modal",25),z("closeModal",function(){return W(e),T(2).closeModal()})("deleteTrace",function(){return W(e),T(2).deleteTrace()}),u()}if(2&t){const e=T(2);v("feature",e.modalFeature)("tracedFeature",e.modalTracedFeature)}}function bAe(t,n){if(1&t&&k(0,vAe,1,2,"app-trace-modal",24),2&t){const e=T();v("ngIf",null!=e.modalFeature&&null!=e.modalTracedFeature)}}function yAe(t,n){if(1&t&&(c(0,"h4",20),g(1),u()),2&t){const e=T(2);p(1),Be(" ",e.modalFeature.name," ")}}function wAe(t,n){if(1&t){const e=ye();c(0,"app-feature-form",27),z("submitFeatureForm",function(o){return W(e),T(2).mergeFeature(o)}),u()}if(2&t){const e=T(2);v("feature",e.modalFeature)("featureList",e.companyFeatureList)("enabledSubfeatures",e.modalSubfeatureIds)}}function xAe(t,n){if(1&t){const e=ye();c(0,"div",13),k(1,yAe,2,1,"h4",14),c(2,"button",15),z("click",function(){return W(e),T().closeModal()}),c(3,"span",16),g(4,"\xd7"),u()()(),c(5,"div",17)(6,"div",18),k(7,wAe,1,3,"app-feature-form",26),u()()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalFeature),p(6),v("ngIf",null!=e.modalFeature)}}function CAe(t,n){if(1&t){const e=ye();c(0,"div",13)(1,"h4",20),g(2),u(),c(3,"button",15),z("click",function(){return W(e),T().closeModal()}),c(4,"span",16),g(5,"\xd7"),u()()(),c(6,"div",17)(7,"div",28),g(8),u()(),c(9,"div",29)(10,"button",30),z("click",function(){W(e);const o=T();return o.addAll(null==o.modalFeature?null:o.modalFeature.id)}),g(11," Add all "),u()()}if(2&t){const e=T();p(2),Be(" Add all subfeatures of ",e.modalFeature?e.modalFeature.name:"the model"," "),p(6),Be(" This will add all subfeatures of ",e.modalFeature?e.modalFeature.name:"the model"," to the composed model as new features if they are not merged yet. ")}}function MAe(t,n){if(1&t&&(c(0,"h4",20),g(1),u()),2&t){const e=T(2);p(1),Be(" ",e.modalFeature.name," ")}}function SAe(t,n){if(1&t&&(c(0,"option",40),g(1),u()),2&t){const e=n.$implicit;v("disabled",!T(3).modalSubfeatureIds.includes(e.id))("ngValue",e.id),p(1),Be(" ",e.levelname," ")}}function EAe(t,n){if(1&t){const e=ye();c(0,"div",17)(1,"div",18)(2,"form",32),z("ngSubmit",function(){return W(e),T(2).mergeIntoSelected()}),c(3,"div",33)(4,"label",34),g(5,"Select feature"),u(),c(6,"div",35)(7,"select",36),k(8,SAe,2,3,"option",37),u()()(),c(9,"div",33)(10,"div",38)(11,"button",39),g(12," Merge Feature "),u()()()()()()}if(2&t){const e=T(2);p(2),v("formGroup",e.modalSelectFeatureForm),p(6),v("ngForOf",e.companyFeatureList),p(3),v("disabled",!e.modalSelectFeatureForm.valid)}}function TAe(t,n){if(1&t){const e=ye();c(0,"div",13),k(1,MAe,2,1,"h4",14),c(2,"button",15),z("click",function(){return W(e),T().closeModal()}),c(3,"span",16),g(4,"\xd7"),u()()(),k(5,EAe,13,3,"div",31)}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalFeature),p(4),v("ngIf",null!=e.modalSelectFeatureForm&&null!=e.modalSubfeatureIds)}}const e4=function(t){return{id:t}};function PAe(t,n){if(1&t){const e=ye();c(0,"app-merge-tree",45),z("addTrace",function(o){return W(e),T(2).openMergeModal(o)})("openDependencies",function(o){return W(e),T(2).openDependenciesModalExpertModel(o)})("selectFeature",function(o){return W(e),T(2).openSelectModal(o)})("addAll",function(o){return W(e),T(2).openAddAllModal(o)})("openTrace",function(o){return W(e),T(2).openExpertTraceModal(o)}),u()}if(2&t){const e=T().id,i=T();v("features",Fn(2,e4,i.expertModel.features[e]))("trace",i.companyModel.expertModelTraces[i.expertModel._id])}}function DAe(t,n){if(1&t){const e=ye();c(0,"app-merge-into-tree",46),z("openDependencies",function(o){return W(e),T(2).openDependenciesModalCompanyModel(o)})("openTrace",function(o){return W(e),T(2).openTraceModal(o)})("updateFeature",function(o){return W(e),T(2).openUpdateFeatureModal(o)})("deleteFeature",function(o){return W(e),T(2).openDeleteFeatureModal(o)}),u()}if(2&t){const e=T().id,i=T();let o;v("expertModelId",i.expertModel._id)("openPanels",null!==(o=i.companyOpenPanels)&&void 0!==o?o:Bt(3,Z0))("features",Fn(4,e4,i.companyModel.features[e]))}}function FAe(t,n){if(1&t&&(c(0,"div",41)(1,"div",42),k(2,PAe,1,4,"app-merge-tree",43),u(),c(3,"div",42),k(4,DAe,1,6,"app-merge-into-tree",44),u()()),2&t){const e=T();p(2),v("ngIf",null!=e.expertModel&&null!=e.companyModel),p(2),v("ngIf",null!=e.expertModel&&null!=e.companyModel)}}const AAe=function(){return["/","bmprocess"]};function IAe(t,n){1&t&&(c(0,"a",51),g(1,"Business Model Development Methods"),u()),2&t&&v("routerLink",Bt(1,AAe))}const kAe=function(t){return["/","bmprocess","bmprocessview",t]};function NAe(t,n){if(1&t&&(c(0,"a",51),g(1),u()),2&t){const e=T(2);v("routerLink",Fn(2,kAe,e.bmProcess._id)),p(1),Be(" ",e.bmProcess.name," ")}}const RAe=function(t){return["/","runningprocess","runningprocessview",t]};function OAe(t,n){if(1&t&&(c(0,"a",51),g(1),ci(2,"runningProcessName"),u()),2&t){const e=T(2);v("routerLink",Fn(4,RAe,e.runningProcess._id)),p(1),Be(" ",Io(2,2,e.runningProcess)," ")}}const BAe=function(t){return["/","companyModels",t,"select"]},qG=function(t,n){return{bmProcessId:t,runningProcessId:n}};function LAe(t,n){if(1&t&&(c(0,"a",52),g(1),u()),2&t){const e=T(2);v("routerLink",Fn(3,BAe,e.companyModel._id))("queryParams",fa(5,qG,null==e.bmProcess?null:e.bmProcess._id,null==e.runningProcess?null:e.runningProcess._id)),p(1),Be(" ",e.companyModel.name," ")}}function jAe(t,n){if(1&t&&(c(0,"a",53),g(1),u()),2&t){const e=T(2);v("routerLink",Bt(3,Z0))("queryParams",fa(4,qG,null==e.bmProcess?null:e.bmProcess._id,null==e.runningProcess?null:e.runningProcess._id)),p(1),Be(" Merge ",e.expertModel.name," ")}}function GAe(t,n){if(1&t&&(c(0,"nav",47),k(1,IAe,2,2,"a",48),k(2,NAe,2,4,"a",48),k(3,OAe,3,6,"a",48),k(4,LAe,2,8,"a",49),k(5,jAe,2,7,"a",50),u()),2&t){const e=T();p(1),v("ngIf",null!=e.bmProcess),p(1),v("ngIf",null!=e.bmProcess),p(1),v("ngIf",null!=e.runningProcess),p(1),v("ngIf",e.companyModel),p(1),v("ngIf",e.companyModel&&e.expertModel)}}const VAe=function(t){return["/","companyModels",t]};function HAe(t,n){if(1&t&&(c(0,"a",51),g(1),u()),2&t){const e=T(2);v("routerLink",Fn(2,VAe,e.companyModel._id)),p(1),Be(" ",e.companyModel.name," ")}}function UAe(t,n){if(1&t&&(c(0,"a",55),g(1),u()),2&t){const e=T(2);v("routerLink",Bt(2,Z0)),p(1),Be(" Merge ",e.expertModel.name," ")}}const zAe=function(){return["/","companyModels"]};function qAe(t,n){if(1&t&&(c(0,"nav",47)(1,"a",51),g(2," Composed Models "),u(),k(3,HAe,2,4,"a",48),k(4,UAe,2,3,"a",54),u()),2&t){const e=T();p(1),v("routerLink",Bt(3,zAe)),p(2),v("ngIf",e.companyModel),p(1),v("ngIf",e.companyModel&&e.expertModel)}}function $Ae(t,n){1&t&&(c(0,"div",69),g(1," Not all features are merged yet. "),u())}function WAe(t,n){1&t&&(c(0,"div",70),g(1," All features are merged. "),u())}function YAe(t,n){1&t&&za(0)}function XAe(t,n){if(1&t&&(St(0),k(1,YAe,1,0,"ng-container",71),Et()),2&t){const e=n.$implicit;T(2);const i=hn(15);p(1),v("ngTemplateOutlet",i)("ngTemplateOutletContext",Fn(2,e4,e))}}function KAe(t,n){if(1&t){const e=ye();c(0,"main",56)(1,"div",57)(2,"h6",58),g(3,"Merge Feature Tree"),u(),c(4,"div",59)(5,"p"),g(6," Merge all features from the canvas building block on the left into the composed model on the right. This can be done in three different ways: "),u(),c(7,"ul")(8,"li"),g(9," Add all: Add all subfeatures that are not yet merged to the composed model. "),u(),c(10,"li"),g(11," Add: Add the feature to the composed model. Opens a pre filled feature form to adjust the feature. "),u(),c(12,"li"),g(13," Select: Select the corresponding feature in the composed model. This just creates a trace. "),u()()(),k(14,$Ae,2,0,"div",60),k(15,WAe,2,0,"div",61),c(16,"button",62),z("click",function(){return W(e),T().openAddAllModal(void 0)}),g(17," Add all "),u(),k(18,XAe,2,4,"ng-container",63),c(19,"div",41)(20,"div",64)(21,"strong"),g(22,"Legend:"),u()(),c(23,"div",64),re(24,"i",65),g(25," Mandatory Feature"),u(),c(26,"div",64),re(27,"i",66),g(28," Optional Feature"),u()(),c(29,"div",41)(30,"div",64),g(31,"\xa0"),u(),c(32,"div",64),re(33,"i",67),g(34," Or"),u(),c(35,"div",64),re(36,"i",68),g(37," Alternative (Xor)"),u()()()()}if(2&t){const e=T();p(14),v("ngIf",!e.isFullyMerged),p(1),v("ngIf",e.isFullyMerged),p(3),v("ngForOf",e.asKeys(e.companyModel.features))}}let QAe=(()=>{class t{constructor(e,i,o,r,s,a,l,d){this.bmProcessService=e,this.fb=i,this.mergeService=o,this.modalService=r,this.companyModelService=s,this.expertModelService=a,this.route=l,this.runningProcessService=d,this.extraNav=!1,this.companyFeatureList=[],this.isFullyMerged=!1}ngOnInit(){this.querySubscription=this.route.queryParamMap.subscribe(e=>{const i=e.get("bmProcessId");null!=i?(this.extraNav=!0,this.loadBmProcess(i)):this.bmProcess=void 0;const o=e.get("runningProcessId");null!=o?(this.extraNav=!0,this.loadRunningProcess(o)):this.runningProcess=void 0,null==i&&null==o&&(this.extraNav=!1)}),this.paramSubscription=this.route.paramMap.subscribe(e=>{var i,o;this.companyModelId=null!==(i=e.get("companyModelId"))&&void 0!==i?i:void 0,this.expertModelId=null!==(o=e.get("expertModelId"))&&void 0!==o?o:void 0,this.loadModels()})}ngOnDestroy(){null!=this.querySubscription&&this.querySubscription.unsubscribe(),null!=this.paramSubscription&&this.paramSubscription.unsubscribe()}loadBmProcess(e){var i=this;return Y(function*(){i.bmProcess=yield i.bmProcessService.get(e)})()}loadRunningProcess(e){var i=this;return Y(function*(){i.runningProcess=yield i.runningProcessService.get(e)})()}loadModels(){var e=this;return Y(function*(){yield Promise.all([e.loadExpertModel(),e.loadCompanyModel()]),e.isFullyMerged=e.checkIsFullyMerged()})()}loadExpertModel(){var e=this;return Y(function*(){null!=e.expertModelId&&(e.expertModel=yield e.expertModelService.get(e.expertModelId))})()}loadCompanyModel(){var e=this;return Y(function*(){if(null!=e.companyModelId){const i=yield e.companyModelService.get(e.companyModelId);null==e.companyOpenPanels&&(e.companyOpenPanels=Object.values(i.features).reduce((o,r)=>(o.push(r.fixId),o.push(...r.getAllSubfeatures().filter(s=>Object.values(s.subfeatures).length>0).map(s=>s.fixId)),o),[])),e.companyModel=i,e.companyFeatureList=i.getFeatureList()}})()}openDependenciesModalExpertModel(e){null!=this.expertModel&&this.openDependenciesModal(this.expertModel,e)}openDependenciesModalCompanyModel(e){null!=this.companyModel&&this.openDependenciesModal(this.companyModel,e)}openDependenciesModal(e,i){const o=e.getFeature(i);this.modalFeatureModel=e,this.modalFeature=o,this.modalReference=this.modalService.open(this.dependencyModal,{size:"lg"})}openTraceModal(e){null!=this.companyModel&&null!=this.expertModel&&(this.modalFeatureModel=this.companyModel,this.modalFeature=this.companyModel.getFeature(e),this.modalTracedFeature=this.expertModel.getFeature(this.modalFeature.expertModelTrace[this.expertModel._id]),this.modalReference=this.modalService.open(this.traceModal,{size:"lg"}))}openExpertTraceModal(e){null!=this.companyModel&&null!=this.expertModel&&(this.modalFeatureModel=this.expertModel,this.modalFeature=this.expertModel.getFeature(e),this.modalTracedFeature=this.companyModel.getFeature(this.companyModel.expertModelTraces[this.expertModel._id].expertFeatureIdMap[e]),this.modalReference=this.modalService.open(this.traceModal,{size:"lg"}))}openMergeModal(e){if(null!=this.companyModel&&null!=this.expertModel){const i=this.expertModel.getFeature(e);if(null==i.parent)return;const o=this.companyModel.expertModelTraces[this.expertModel._id].expertFeatureIdMap[i.parent.id];this.modalSubfeatureIds=this.companyModel.getFeature(o).getAllSubfeatures().map(s=>s.id),this.modalSubfeatureIds.push(o),this.modalFeature=new jl(void 0,i,i.id,new jl(void 0,{name:""},this.companyModel.expertModelTraces[this.expertModel._id].expertFeatureIdMap[i.parent.id],void 0)),this.modalReference=this.modalService.open(this.mergeModal,{size:"lg"})}}openAddAllModal(e){var i;this.modalFeature=e?null===(i=this.expertModel)||void 0===i?void 0:i.getFeature(e):void 0,this.modalReference=this.modalService.open(this.addAllModal,{size:"lg"})}openSelectModal(e){if(null!=this.expertModel&&null!=this.companyModel){if(this.modalFeature=this.expertModel.getFeature(e),null==this.modalFeature.parent)return;this.modalSubfeatureIds=this.companyModel.getFeature(this.companyModel.expertModelTraces[this.expertModel._id].expertFeatureIdMap[this.modalFeature.parent.id]).getAllSubfeatures().map(o=>o.id);const i=Object.values(this.companyModel.expertModelTraces[this.expertModel._id].expertFeatureIdMap);this.modalSubfeatureIds=this.modalSubfeatureIds.filter(o=>!i.includes(o)),this.modalSelectFeatureForm=this.fb.group({feature:null}),this.modalReference=this.modalService.open(this.selectModal,{size:"lg"})}}openDeleteFeatureModal(e){var i;this.modalFeature=null===(i=this.companyModel)||void 0===i?void 0:i.getFeature(e),this.modalReference=this.modalService.open(this.deleteModal,{size:"lg"})}openUpdateFeatureModal(e){if(null!=this.companyModel){const i=this.companyModel.getFeature(e);this.modalFeature=i,this.modalSubfeatureIds=i.getAllSubfeatures().map(o=>o.id),this.modalSubfeatureIds.push(i.id),this.modalReference=this.modalService.open(this.updateModal,{size:"lg"})}}closeModal(){var e=this;return Y(function*(){var i;null===(i=e.modalReference)||void 0===i||i.close(),e.modalFeature=void 0,yield e.loadModels()})()}mergeFeature(e){var i=this;return Y(function*(){var o;null!=i.companyModelId&&null!=i.expertModelId&&null!=i.modalFeature&&(yield i.mergeService.addFeatureMerge(i.companyModelId,e.value,null===(o=e.get("subfeatureOf"))||void 0===o?void 0:o.value,i.expertModelId,i.modalFeature.id),yield i.closeModal())})()}addAll(e){var i=this;return Y(function*(){null!=i.companyModelId&&null!=i.expertModelId&&(yield i.mergeService.addAllSubfeaturesMerge(i.companyModelId,i.expertModelId,e),yield i.closeModal())})()}mergeIntoSelected(){var e=this;return Y(function*(){var i;null!=e.companyModelId&&null!=e.expertModelId&&null!=e.modalFeature&&(yield e.mergeService.addTrace(e.companyModelId,null===(i=e.modalSelectFeatureForm)||void 0===i?void 0:i.value.feature,e.expertModelId,e.modalFeature.id),yield e.closeModal())})()}deleteTrace(){var e=this;return Y(function*(){e.modalFeatureModel===e.companyModel?yield e.deleteCompanyTrace():yield e.deleteExpertTrace()})()}deleteCompanyTrace(){var e=this;return Y(function*(){null!=e.companyModelId&&null!=e.expertModelId&&null!=e.modalFeature&&(yield e.mergeService.deleteTrace(e.companyModelId,e.modalFeature.id,e.expertModelId),yield e.closeModal())})()}deleteExpertTrace(){var e=this;return Y(function*(){null!=e.companyModelId&&null!=e.expertModelId&&null!=e.modalTracedFeature&&(yield e.mergeService.deleteTrace(e.companyModelId,e.modalTracedFeature.id,e.expertModelId),yield e.closeModal())})()}deleteFeature(e){var i=this;return Y(function*(){null!=i.companyModelId&&(yield i.mergeService.deleteFeature(i.companyModelId,e),yield i.closeModal())})()}addDependency(e,i,o){var r=this;return Y(function*(){null!=r.companyModelId&&(yield r.mergeService.addRelationship(r.companyModelId,e,i,o),yield r.closeModal())})()}deleteDependency(e,i,o){var r=this;return Y(function*(){null!=r.companyModelId&&null!=r.companyModel&&null!=r.modalFeature&&(yield r.mergeService.removeRelationship(r.companyModelId,e,i,o),yield r.loadModels(),r.modalFeature=r.companyModel.getFeature(r.modalFeature.id))})()}updateFeature(e){var i=this;return Y(function*(){var o;null!=i.companyModelId&&null!=i.modalFeature&&(yield i.mergeService.updateFeature(i.companyModelId,i.modalFeature.id,e.value,null===(o=e.get("subfeatureOf"))||void 0===o?void 0:o.value),yield i.closeModal())})()}asKeys(e){return Object.keys(e)}checkIsFullyMerged(){return null!=this.expertModel&&null!=this.companyModel&&this.expertModel.getFeatureList().every(e=>{var i;return null!=this.expertModel&&!!(null===(i=this.companyModel)||void 0===i?void 0:i.expertModelTraces[this.expertModel._id].expertFeatureIdMap[e.id])})}}return t.\u0275fac=function(e){return new(e||t)(H(Na),H(zt),H(J0),H(jn),H(Lo),H(Cs),H(Jn),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-merge-model-view"]],viewQuery:function(e,i){if(1&e&&(Ft(oAe,7),Ft(rAe,7),Ft(sAe,7),Ft(aAe,7),Ft(lAe,7),Ft(cAe,7),Ft(uAe,7)),2&e){let o;bt(o=yt())&&(i.dependencyModal=o.first),bt(o=yt())&&(i.mergeModal=o.first),bt(o=yt())&&(i.addAllModal=o.first),bt(o=yt())&&(i.updateModal=o.first),bt(o=yt())&&(i.traceModal=o.first),bt(o=yt())&&(i.selectModal=o.first),bt(o=yt())&&(i.deleteModal=o.first)}},decls:20,vars:3,consts:[["deleteModal",""],["updateModal",""],["dependencyModal",""],["traceModal",""],["mergeModal",""],["addAllModal",""],["selectModal",""],["featurerow",""],[1,"nav-scroller","bg-white","shadow-sm"],["class","nav nav-underline",4,"ngIf"],["role","main",4,"ngIf"],[3,"feature","deletionResult","closeModal",4,"ngIf"],[3,"feature","deletionResult","closeModal"],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-muted","pt-3"],[3,"feature","disabledSubfeatures","featureList","submitFeatureForm",4,"ngIf"],[1,"modal-title"],[3,"feature","disabledSubfeatures","featureList","submitFeatureForm"],[3,"feature","featureModel","companyModel","addRelationshipOnCompanyModel","closeModal","removeRelationship",4,"ngIf"],[3,"feature","featureModel","companyModel","addRelationshipOnCompanyModel","closeModal","removeRelationship"],[3,"feature","tracedFeature","closeModal","deleteTrace",4,"ngIf"],[3,"feature","tracedFeature","closeModal","deleteTrace"],["submitButtonText","Merge Feature",3,"feature","featureList","enabledSubfeatures","submitFeatureForm",4,"ngIf"],["submitButtonText","Merge Feature",3,"feature","featureList","enabledSubfeatures","submitFeatureForm"],["role","alert",1,"alert","alert-warning"],[1,"modal-footer"],["type","button",1,"btn","btn-block","btn-warning",3,"click"],["class","modal-body",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","feature",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","feature","formControlName","feature",1,"form-control"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[1,"col-sm-12"],["type","submit",1,"btn","btn-dark","btn-block",3,"disabled"],[3,"disabled","ngValue"],[1,"row"],[1,"col-sm-6"],[3,"features","trace","addTrace","openDependencies","selectFeature","addAll","openTrace",4,"ngIf"],[3,"expertModelId","openPanels","features","openDependencies","openTrace","updateFeature","deleteFeature",4,"ngIf"],[3,"features","trace","addTrace","openDependencies","selectFeature","addAll","openTrace"],[3,"expertModelId","openPanels","features","openDependencies","openTrace","updateFeature","deleteFeature"],[1,"nav","nav-underline"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","nav-link",3,"routerLink","queryParams",4,"ngIf"],["class","nav-link active",3,"routerLink","queryParams",4,"ngIf"],[1,"nav-link",3,"routerLink"],[1,"nav-link",3,"routerLink","queryParams"],[1,"nav-link","active",3,"routerLink","queryParams"],["class","nav-link active",3,"routerLink",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],["role","alert",1,"alert","alert-info","container"],["class","alert alert-warning container","role","alert",4,"ngIf"],["class","alert alert-success container","role","alert",4,"ngIf"],["type","button",1,"btn","btn-warning","btn-xs","mr-1",3,"click"],[4,"ngFor","ngForOf"],[1,"col-4"],[1,"fa","fa-circle"],[1,"fa","fa-circle-o"],[1,"fa","fa-caret-up"],[1,"fa","fa-angle-up"],["role","alert",1,"alert","alert-warning","container"],["role","alert",1,"alert","alert-success","container"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(k(0,pAe,1,1,"ng-template",null,0,$t),k(2,hAe,8,2,"ng-template",null,1,$t),k(4,_Ae,1,1,"ng-template",null,2,$t),k(6,bAe,1,1,"ng-template",null,3,$t),k(8,xAe,8,2,"ng-template",null,4,$t),k(10,CAe,12,2,"ng-template",null,5,$t),k(12,TAe,6,2,"ng-template",null,6,$t),k(14,FAe,5,2,"ng-template",null,7,$t),c(16,"div",8),k(17,GAe,6,5,"nav",9),k(18,qAe,5,4,"nav",9),u(),k(19,KAe,38,3,"main",10)),2&e&&(p(17),v("ngIf",null!=i.bmProcess||null!=i.runningProcess),p(1),v("ngIf",!i.extraNav),p(1),v("ngIf",i.expertModel&&i.companyModel))},directives:[nt,HG,UG,zG,TFe,nn,Wt,Vt,ki,Jt,Zt,Lt,Vi,Hi,HFe,iAe,gn,_a],pipes:[dp],styles:[""]}),t})();function JAe(t,n){if(1&t&&(c(0,"span",30),g(1),u()),2&t){const e=T().$implicit;p(1),Be(" (",e.version,")")}}function ZAe(t,n){if(1&t&&(St(0),g(1),Et()),2&t){const e=T(2).$implicit;p(1),Be(" (",e.author.email,") ")}}function eIe(t,n){if(1&t&&(St(0),g(1),Et()),2&t){const e=T(2).$implicit;p(1),Be(" from ",e.author.company,"")}}function tIe(t,n){if(1&t&&(c(0,"div"),g(1),k(2,ZAe,2,1,"ng-container",26),k(3,eIe,2,1,"ng-container",26),u()),2&t){const e=T().$implicit;p(1),Be(" Author: ",e.author.name," "),p(1),v("ngIf",e.author.email),p(1),v("ngIf",e.author.company)}}function nIe(t,n){if(1&t&&(c(0,"div"),g(1),u()),2&t){const e=T().$implicit;p(1),Be(" Website: ",e.author.website," ")}}function iIe(t,n){if(1&t&&(c(0,"div"),g(1),u()),2&t){const e=T().$implicit;p(1),Be("Copyright: ",e.copyright,"")}}function oIe(t,n){if(1&t){const e=ye();c(0,"li",19),function I4(){Gn.lFrame.currentNamespace="svg"}(),c(1,"svg",20)(2,"title"),g(3,"Placeholder"),u(),re(4,"rect",21),u(),function k4(){!function qV(){Gn.lFrame.currentNamespace=null}()}(),c(5,"div",22)(6,"div",23)(7,"div")(8,"div")(9,"strong",24),z("click",function(){const r=W(e).$implicit;return T().viewModel.emit(r._id)}),g(10),u(),k(11,JAe,2,1,"span",25),u(),c(12,"div")(13,"span"),g(14),u()(),k(15,tIe,4,3,"div",26),k(16,nIe,2,1,"div",26),k(17,iIe,2,1,"div",26),u(),c(18,"div")(19,"button",27),z("click",function(){const r=W(e).$implicit;return T().viewModel.emit(r._id)}),g(20," View "),u(),c(21,"button",28),z("click",function(){const r=W(e).$implicit;return T().editModel.emit(r._id)}),g(22," Edit "),u(),c(23,"button",29),z("click",function(){const r=W(e).$implicit;return T().deleteModel.emit(r._id)}),g(24," Delete "),u()()()()()}if(2&t){const e=n.$implicit;p(10),_t(e.name),p(1),v("ngIf",e.hasOwnProperty("version")&&e.version),p(3),_t(e.description),p(1),v("ngIf",e.author&&e.author.name),p(1),v("ngIf",e.author.website),p(1),v("ngIf",e.copyright)}}function rIe(t,n){if(1&t&&(c(0,"option",31),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e),p(1),Be(" ",e.name," ")}}let ew=(()=>{class t{constructor(e,i,o){this.canvasDefinitionService=e,this.fb=i,this.listService=o,this.viewModel=new je,this.editModel=new je,this.deleteModel=new je,this.addModel=new je,this.canvasDefinitions=[],this.modelForm=this.fb.group({definition:[null,ft.required],name:["",ft.required],description:[]})}ngOnInit(){this.loadCanvasDefinitions()}resetAddForm(){this.modelForm.reset()}addModelForwardEmitter(){this.addModel.emit({definition:new fm(this.modelForm.value.definition,void 0),name:this.modelForm.value.name,description:this.modelForm.value.description})}loadCanvasDefinitions(){var e=this;return Y(function*(){e.canvasDefinitions=yield e.canvasDefinitionService.getList()})()}get definitionControl(){return this.modelForm.get("definition")}get modelList(){return this.listService.elements}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(Bu),H(zt),H(Go))},t.\u0275cmp=He({type:t,selectors:[["app-model-list"]],inputs:{modelListTitle:"modelListTitle",modelFormTitle:"modelFormTitle"},outputs:{viewModel:"viewModel",editModel:"editModel",deleteModel:"deleteModel",addModel:"addModel"},decls:30,vars:12,consts:[[3,"listTitle","reloading","loading","noResults"],["noResults",""],["results","",1,"list-unstyled","mb-0"],["class","model-list-item media text-muted pt-2 pb-2 border-bottom",4,"ngFor","ngForOf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","definitionSelector",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","definitionSelector","formControlName","definition",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],["for","name",1,"col-sm-4","col-form-label"],["type","text","formControlName","name","id","name",1,"form-control"],["for","description",1,"col-sm-4","col-form-label"],["type","text","formControlName","description","id","description",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[1,"model-list-item","media","text-muted","pt-2","pb-2","border-bottom"],["width","32","height","32","xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid slice","focusable","false","role","img","aria-label","Placeholder: 32x32",1,"align-self-center","mr-2","rounded"],["width","100%","height","100%","fill","#6f42c1"],[1,"media-body","small"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-gray-dark",3,"click"],["class","text-muted",4,"ngIf"],[4,"ngIf"],["type","button",1,"btn","btn-dark","btn-xs","model-list-item-view","mr-1","my-1",3,"click"],["type","button",1,"btn","btn-warning","btn-xs","model-list-item-edit","mr-1","my-1",3,"click"],["type","button",1,"btn","btn-danger","btn-xs","model-list-item-delete","my-1",3,"click"],[1,"text-muted"],[3,"ngValue"]],template:function(e,i){1&e&&(c(0,"app-list-wrapper",0)(1,"div",1),g(2,"No entries."),u(),c(3,"ul",2),k(4,oIe,25,6,"li",3),u()(),c(5,"div",4)(6,"h6",5),g(7),u(),c(8,"div",6)(9,"form",7),z("ngSubmit",function(){return i.addModelForwardEmitter()}),c(10,"div",8)(11,"label",9),g(12,"Canvas Model"),u(),c(13,"div",10)(14,"select",11),k(15,rIe,2,2,"option",12),u()()(),c(16,"div",8)(17,"label",13),g(18,"Name"),u(),c(19,"div",10),re(20,"input",14),u()(),c(21,"div",8)(22,"label",15),g(23,"Description"),u(),c(24,"div",10),re(25,"input",16),u()(),c(26,"div",8)(27,"div",17)(28,"button",18),g(29),u()()()()()()),2&e&&(v("listTitle",i.modelListTitle)("reloading",i.reloading)("loading",i.loading)("noResults",i.noResults),p(4),v("ngForOf",i.modelList),p(3),_t(i.modelFormTitle),p(2),v("formGroup",i.modelForm),p(5),Ht("is-invalid",i.definitionControl.invalid&&i.definitionControl.touched),p(1),v("ngForOf",i.canvasDefinitions),p(13),v("disabled",!i.modelForm.valid),p(1),Be(" ",i.modelFormTitle," "))},directives:[Ss,Lt,nt,nn,Wt,Vt,ki,Jt,Zt,Vi,Hi,wn],styles:[""]}),t})();var sIe=E(9528),aIe=E.n(sIe);const lIe=JSON.parse('{"$id":"http://github.com/...","title":"Business Knowledge Model Schema Definition","description":"This schema defines the supported JSON files f\xfcr the Business Knowledge Models","type":"object","properties":{"$definition":{"description":"The definition of the canvas","$ref":"#/definitions/canvasDefinition"},"name":{"description":"Name of the Business Knowledge Model","type":"string"},"description":{"description":"Description of the Business Knowledge Model","type":"string"},"version":{"description":"Version of the Business Knowledge Model as number","type":"string"},"copyright":{"description":"Copyright of the Business Knowledge Model","type":"string"},"author":{"description":"Author of the Business Knowledge Model","$ref":"#/definitions/author"},"features":{"description":"The list of features that is used in the Business Knowledge Model","type":"object","additionalProperties":{"$ref":"#/definitions/feature"}},"instances":{"description":"The list of patterns and business model examples that is derived from the Business Knowledge Model","type":"array","items":{"$ref":"#/definitions/instance"},"uniqueItems":true}},"required":["$definition","name","features"],"definitions":{"canvasDefinition":{"description":"The definition of the canvas","properties":{"name":{"description":"The name of the canvas definition","type":"string"},"description":{"description":"The description of the canvas definition","type":"string"},"rows":{"description":"The rows of the canvas","type":"array","items":{"description":"A row of a canvas","type":"array","items":{"description":"A block of a canvas","properties":{"isSpacer":{"description":"Whether the block is a real element or only a spacer","type":"boolean"},"id":{"description":"The id of the feature","type":"string"},"name":{"description":"The name of the feature","type":"string"},"rowspan":{"description":"The rowspan of the block","type":"number"},"colspan":{"description":"The colspan of the block","type":"number"},"guidingQuestions":{"description":"Questions to help the business model developer","type":"array","items":{"type":"string"}},"examples":{"description":"Examples to help the business model developer","type":"array","items":{"type":"string"}}},"required":["isSpacer","rowspan","colspan"]}}},"relationshipTypes":{"description":"The cross tree relationships of the canvas","type":"array","items":{"type":"string"}}},"required":["name","rows"]},"author":{"description":"Author of the Business Knowledge Model","properties":{"name":{"description":"Name of the author","type":"string"},"company":{"description":"Company of the author","type":"string"},"email":{"description":"Email of the author","type":"string"},"website":{"description":"Website of the author","type":"string"}}},"feature":{"description":"Single feature that is used in the Business Knowledge Model","properties":{"name":{"description":"The name of the feature","type":"string"},"description":{"description":"An optional description of the feature","type":"string"},"type":{"description":"The decision is the feature should be \'mandatory\' or \'optional\' (default: optional)","enum":["optional","mandatory"],"default":"optional"},"subfeatures":{"description":"The subfeatures of the current feature","type":"object","additionalProperties":{"$ref":"#/definitions/feature"}},"subfeatureConnections":{"description":"The decision if the connections to the subfeatures should be \'or\', \'xor\' or \'null\' (default: null) ","type":["string","null"],"enum":[null,"or","xor"],"default":null},"relationships":{"description":"The relationships of the current feature","properties":{"relationships":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}},"guidingQuestions":{"description":"Questions to help the business model developer","type":"array","items":{"type":"string"}},"examples":{"description":"Examples to help the business model developer","type":"array","items":{"type":"string"}}},"required":["name"]},"instance":{"description":"Single pattern and business model example that is derived from the Business Knowledge Model","properties":{"name":{"description":"Name of the pattern or business model example","type":"string"},"type":{"enum":["pattern","example"]},"description":{"description":"Description of the patterns or business model examples","type":"string"},"usedFeatures":{"description":"Features that are used by the patterns or business model examples","type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"required":["name","type","usedFeatures"]}}}');class Qc{constructor(n={}){this.errorFeatureIds=[],this.errors=[],this.warningFeatureIds=[],this.warnings=[],this.strengthFeatureIds=[],this.strengths=[],this.hintFeatureIds=[],this.hints=[],this.patternHintFeatureIds=[],this.patternHints=[],this.usedPatterns=[],Object.assign(this,n)}}let q_=(()=>{class t{checkFormalConsistency(e){if(!e.definition)throw new Error("Missing definition");const i=e.definition.rootFeatures.map(r=>r.id);if(!i.every(r=>r in e.features))throw new Error("Missing canvas blocks");const o=new Set;if(e.iterateFeatures(r=>{if(o.has(r.id))throw new Error("Feature id "+r.id+" is not unique");return o.add(r.id),!1}),e.iterateFeatures(r=>{if(!r.relationships.getAllReferencedFeatureIds().every(s=>o.has(s)))throw new Error("Relationships of feature "+r.id+" reference a non existing feature id");if(r.relationships.getRelationshipTypes().some(s=>!e.definition.relationshipTypes.includes(s)))throw new Error("Feature "+r.id+" has a relationship types that does not exist in the definition");return!1}),!e.instances.every(r=>i.every(s=>r.usedFeatures.includes(s))))throw new Error("Instance does not reference all root canvas blocks");if(!e.instances.every(r=>r.usedFeatures.every(s=>o.has(s))))throw new Error("Instance references non existing feature id")}instanceIsPossible(e){const i=e.getFeatureMap(),o=new mm(void 0,{name:"Possible Instance",type:ba.EXAMPLE,id:-1});o.usedFeatures=[];const s=this.addFeaturesToPossibleInstances([o],Object.values(e.features),i).map(l=>Object.assign(Object.assign({},this.checkPossibleInstanceErrors(e,l)),{possibleInstance:l})),a=s.find(l=>0===l.problems.length);if(a)return a;{const l=Math.min(...s.map(d=>d.problems.length));return s.find(d=>d.problems.length===l)}}addFeatureToPossibleInstance(e,i,o){e.addFeature(i.id);let r=[e];if(null!=i.parent&&(r=this.addFeatureToPossibleInstances(r,i.parent,o)),r=this.addFeaturesToPossibleInstances(r,i.relationships.getRelationships("required").map(s=>o[s]),o),r=this.addFeaturesToPossibleInstances(r,Object.values(i.subfeatures).filter(s=>s.type===wc.MANDATORY),o),i.subfeatureConnections===Ll.XOR||i.subfeatureConnections===Ll.OR){const s=[...r.filter(a=>Object.keys(i.subfeatures).filter(l=>a.usedFeatures.includes(l)).length>0)];r.filter(a=>0===Object.keys(i.subfeatures).filter(l=>a.usedFeatures.includes(l)).length).forEach(a=>{0===Object.keys(i.subfeatures).length?s.push(a):Object.values(i.subfeatures).forEach(l=>{const d=new mm(void 0,a);d.usedFeatures=[...d.usedFeatures],s.push(...this.addFeatureToPossibleInstance(d,l,o))})}),r=s}return r}addFeatureToPossibleInstances(e,i,o){const r=[];return e.forEach(s=>{s.usedFeatures.includes(i.id)?r.push(s):r.push(...this.addFeatureToPossibleInstance(s,i,o))}),r}addFeaturesToPossibleInstances(e,i,o){return i.forEach(r=>e=this.addFeatureToPossibleInstances(e,r,o)),e}checkPossibleInstanceErrors(e,i){const o=e.getFeatureMap(),r=[],s=new Set;return e.iterateFeatures(a=>(a.subfeatureConnections===Ll.XOR&&1!==Object.keys(a.subfeatures).filter(l=>i.usedFeatures.includes(l)).length&&(r.push(a.name+" is XOR, but can not have exactly one subfeature"),s.add(a.id)),a.subfeatureConnections===Ll.OR&&0===Object.keys(a.subfeatures).filter(l=>i.usedFeatures.includes(l)).length&&(r.push(a.name+" is OR, but can not have at least one subfeature"),s.add(a.id)),a.relationships.getRelationships("excludes").filter(l=>i.usedFeatures.includes(l)).forEach(l=>{r.push(a.name+" excludes the feature "+o[l].name+", but both features have to be included"),s.add(a.id)}),!1),a=>i.usedFeatures.includes(a.id)),{problems:r,problemFeatureIds:Array.from(s)}}checkHurtsSupports(e){const i=e.getFeatureMap(),o=[],r=new Set;return e.iterateFeatures(s=>{const a=s.relationships.getRelationships("supports").map(l=>i[l]).filter(l=>l.relationships.getRelationships("hurts").includes(s.id));return a.forEach(l=>{o.push("Feature "+s.name+" supports "+l.name+", but "+l.name+" hurts "+s.name+"."),r.add(l.id)}),a.length>0&&r.add(s.id),!1}),{problems:o,problemFeatureIds:Array.from(r)}}checkConformanceOfInstance(e,i,o){const r=e.getInstance(i);if(null==r)throw new Error("Instance does not exist");return new Qc(Object.assign(Object.assign(Object.assign({},this.getConformanceMessages(e,r)),this.getHints(e,r)),this.getPatternHints(e,r,o)))}getConformanceMessages(e,i){const o=new Set,r=new Set,s=new Set,a=[],l=[],d=[];return e.iterateFeatures(P=>{const N=i.usedFeatures.includes(P.id),L=Object.keys(P.subfeatures).filter(K=>i.usedFeatures.includes(K)).length;switch(P.type===wc.MANDATORY&&!N&&(o.add(P.id),a.push(P.name+" is mandatory")),P.subfeatureConnections){case Ll.OR:0===L&&(o.add(P.id),a.push(P.name+" needs at least one subfeature"));break;case Ll.XOR:1!==L&&(o.add(P.id),a.push(P.name+" needs exactly one subfeature"))}const U=P.relationships.getRelationships("requires").filter(K=>!i.usedFeatures.includes(K));U.length>0&&(o.add(P.id),U.forEach(K=>a.push(P.name+" requires the feature "+e.getFeature(K).name)));const q=P.relationships.getRelationships("excludes").filter(K=>i.usedFeatures.includes(K));q.length>0&&(o.add(P.id),q.forEach(K=>a.push(P.name+" excludes the feature "+e.getFeature(K).name)));const Z=P.relationships.getRelationships("supports").filter(K=>i.usedFeatures.includes(K));Z.length>0&&(s.add(P.id),Z.forEach(K=>d.push(P.name+" supports the feature "+e.getFeature(K).name)));const Q=P.relationships.getRelationships("hurts").filter(K=>i.usedFeatures.includes(K));return Q.length>0&&(r.add(P.id),Q.forEach(K=>l.push(P.name+" hurts the feature "+e.getFeature(K).name))),!1},P=>i.usedFeatures.includes(P.id)||P.type===wc.MANDATORY),{errorFeatureIds:Array.from(o),errors:a,warningFeatureIds:Array.from(r),warnings:l,strengthFeatureIds:Array.from(s),strengths:d}}getHints(e,i){const o=new Set,r=[];return e.iterateFeatures(a=>(!i.usedFeatures.includes(a.id)&&this.isFeatureEasyAddable(e,i,a)&&a.relationships.getRelationships("supports").forEach(l=>{if(i.usedFeatures.includes(l)){r.push("Including "+a.name+" would support "+e.getFeature(l).name),o.add(a.id);for(let d=a.parent;null!=d&&!i.usedFeatures.includes(d.id);d=d.parent)o.add(d.id)}}),!1)),{hintFeatureIds:Array.from(o),hints:r}}getPatternHints(e,i,o){const r=new Set,s=[],a=[];return o.forEach(l=>{let d=0,h=0;if(e.iterateFeatures(w=>(null==w.parent||Object.keys(w.subfeatures).every(P=>!l.usedFeatures.includes(P))&&(d+=1,i.usedFeatures.includes(w.id)&&(h+=1)),!1),w=>l.usedFeatures.includes(w.id)),h/d>=.5){let w=!1,P=!0;const N={pattern:l,missingFeatures:[]},L=new Set;e.iterateFeatures(U=>{if(!i.usedFeatures.includes(U.id)){if(!this.isFeatureEasyAddable(e,i,U))return P=!1,!0;L.add(U),w=!0}return!1},U=>l.usedFeatures.includes(U.id)),P&&(w?(N.missingFeatures.push(...Array.from(L)),s.push(N),L.forEach(U=>r.add(U.id))):a.push(l))}}),{patternHintFeatureIds:Array.from(r),patternHints:s,usedPatterns:a}}isFeatureEasyAddable(e,i,o){return i.usedFeatures.includes(o.id)||o.relationships.getRelationships("excludes").every(r=>!i.usedFeatures.includes(r))&&i.usedFeatures.every(r=>!e.getFeature(r).relationships.getRelationships("excludes").includes(o.id))&&(null==o.parent||o.parent.subfeatureConnections!==Ll.XOR||Object.keys(o.parent.subfeatures).every(r=>!i.usedFeatures.includes(r)))&&o.relationships.getRelationships("requires").every(r=>i.usedFeatures.includes(r))&&(null==o.parent||this.isFeatureEasyAddable(e,i,o.parent))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$G=(()=>{class t{constructor(e,i){this.expertModelService=e,this.canvasModelConsistencyService=i,this.ajv=new(aIe())}exportExpertModel(e){var i=this;return Y(function*(){const o=yield i.expertModelService.get(e),r=new Blob([JSON.stringify(o,null,2)],{type:"application/json"});(0,yj.saveAs)(r,o.name+".json")})()}importExpertModel(e){var i=this;return Y(function*(){const o=yield i.importJson(e);o.instances.forEach((s,a)=>s.id=a);const r=new hd(void 0,new hd(o,void 0));return i.canvasModelConsistencyService.checkFormalConsistency(r),yield i.expertModelService.save(r),i.expertModelService.get(r._id)})()}importJson(e){return new Promise((i,o)=>{const r=this.ajv.compile(lIe),s=new FileReader;s.addEventListener("error",()=>{o("Error loading file")}),s.addEventListener("load",a=>{let l;try{l=JSON.parse(a.target.result)}catch(h){return void o(h)}r(l)?i(l):o(r.errors)}),s.readAsText(e)})}}return t.\u0275fac=function(e){return new(e||t)(Ve(Cs),Ve(q_))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cIe=(()=>{class t{constructor(e,i){this.fb=e,this.importExportService=i,this.imported=new je,this.form=this.fb.group({file:void 0})}fileChange(e){this.importError=void 0,this.file=e.target.files[0]}submitForm(){var e=this;return Y(function*(){try{yield e.importExportService.importExpertModel(e.file),e.form.reset(),e.file=void 0,e.imported.emit()}catch(i){console.log(i),e.importError="string"==typeof i?i:i instanceof Error?i.message:Array.isArray(i)?i[0].message:"Unknown Error. See browser's console for more info."}})()}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H($G))},t.\u0275cmp=He({type:t,selectors:[["app-model-import-view"]],inputs:{importExpertModel:"importExpertModel",formTitle:"formTitle"},outputs:{imported:"imported"},decls:16,vars:7,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","file",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","file","id","file","aria-describedby","fileErrorDescription","formControlName","file",1,"form-control",3,"change"],["id","fileErrorDescription",1,"invalid-feedback"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2),u(),c(3,"div",2)(4,"form",3),z("ngSubmit",function(){return i.submitForm()}),c(5,"div",4)(6,"label",5),g(7,"File"),u(),c(8,"div",6)(9,"input",7),z("change",function(r){return i.fileChange(r)}),u(),c(10,"div",8),g(11),u()()(),c(12,"div",4)(13,"div",9)(14,"button",10),g(15),u()()()()()()),2&e&&(p(2),_t(i.formTitle),p(2),v("formGroup",i.form),p(5),Ht("is-invalid",i.importError),p(2),Be(" ",i.importError," "),p(3),v("disabled",!i.file),p(1),Be(" ",i.formTitle," "))},directives:[nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();const uIe=["deleteExpertModelModal"];function dIe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",9),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteExpertModel(r.modalExpertModel._id),o()}),c(1,"div",10),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be(" Delete Canvas Building Block ",e.modalExpertModel.name," "),p(1),Be(" You are deleting the canvas building block ",e.modalExpertModel.name,". This can not be undone. ")}}function pIe(t,n){1&t&&k(0,dIe,4,2,"app-delete-modal",8),2&t&&v("ngIf",null!=T().modalExpertModel)}const mIe=function(){return[]};let fIe=(()=>{class t{constructor(e,i,o,r){this.expertModelService=e,this.listService=i,this.modalService=o,this.router=r}addExpertModel(e,i,o){var r=this;return Y(function*(){const s=yield r.expertModelService.createFeatureModel({name:i,description:o,$definition:e},e);yield r.listService.add(s),r.modelList.resetAddForm()})()}viewExpertModel(e){var i=this;return Y(function*(){yield i.router.navigate(["/expertModels",e])})()}editExpertModel(e){var i=this;return Y(function*(){yield i.router.navigate(["/expertModels",e,"edit"])})()}openDeleteExpertModelModal(e){var i=this;return Y(function*(){i.modalExpertModel=yield i.expertModelService.get(e),i.modalReference=i.modalService.open(i.deleteExpertModelModal,{size:"lg"})})()}reload(){var e=this;return Y(function*(){yield e.listService.load()})()}deleteExpertModel(e){var i=this;return Y(function*(){yield i.listService.delete(e)})()}}return t.\u0275fac=function(e){return new(e||t)(H(Cs),H(Go),H(jn),H(oi))},t.\u0275cmp=He({type:t,selectors:[["app-expert-models"]],viewQuery:function(e,i){if(1&e&&(Ft(ew,5),Ft(uIe,7)),2&e){let o;bt(o=yt())&&(i.modelList=o.first),bt(o=yt())&&(i.deleteExpertModelModal=o.first)}},features:[Tt([Go,{provide:Vs,useExisting:Cs}])],decls:11,vars:3,consts:[["deleteExpertModelModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[1,"my-3","alert","alert-info"],["modelListTitle","Canvas Building Blocks","modelFormTitle","Add Canvas Building Block",1,"expert-model-list",3,"viewModel","editModel","deleteModel","addModel"],["formTitle","Import Canvas Building Block",3,"importExpertModel","imported"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""]],template:function(e,i){1&e&&(k(0,pIe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Canvas Building Blocks"),u()()(),c(6,"main",4)(7,"div",5),g(8," Canvas building blocks are used to represent the knowledge of experts about a certain domain. "),u(),c(9,"app-model-list",6),z("viewModel",function(r){return i.viewExpertModel(r)})("editModel",function(r){return i.editExpertModel(r)})("deleteModel",function(r){return i.openDeleteExpertModelModal(r)})("addModel",function(r){return i.addExpertModel(r.definition,r.name,r.description)}),u(),c(10,"app-model-import-view",7),z("imported",function(){return i.reload()}),u()()),2&e&&(p(4),v("routerLink",Bt(2,mIe)),p(6),v("importExpertModel",!0))},directives:[nt,cr,gn,ew,cIe],styles:[""]}),t})(),tw=(()=>{class t extends Es{constructor(e,i){super(i),this.expertModelService=e}initParams(e){const i=e.get("id");null!=i&&(this.changesFeed=this.expertModelService.getChangesFeed(i).subscribe(()=>this.loadExpertModel(i)),this.loadExpertModel(i))}loadExpertModel(e){var i=this;return Y(function*(){i.expertModel=yield i.expertModelService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Cs),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function hIe(t,n){if(1&t&&(c(0,"tr")(1,"th",5),g(2,"Version"),u(),c(3,"td"),g(4),u()()),2&t){const e=T();p(4),_t(e.featureModel.version)}}function gIe(t,n){if(1&t&&(c(0,"tr")(1,"th",5),g(2,"Copyright"),u(),c(3,"td"),g(4),u()()),2&t){const e=T();p(4),_t(e.featureModel.copyright)}}function _Ie(t,n){if(1&t&&(c(0,"tr")(1,"th",5),g(2,"Company"),u(),c(3,"td"),g(4),u()()),2&t){const e=T(2);p(4),_t(e.featureModel.author.company)}}function vIe(t,n){if(1&t&&(c(0,"tr")(1,"th",5),g(2,"Email"),u(),c(3,"td"),g(4),u()()),2&t){const e=T(2);p(4),_t(e.featureModel.author.email)}}function bIe(t,n){if(1&t&&(c(0,"tr")(1,"th",5),g(2,"Website"),u(),c(3,"td"),g(4),u()()),2&t){const e=T(2);p(4),_t(e.featureModel.author.website)}}function yIe(t,n){if(1&t&&(c(0,"div",0)(1,"h6",1),g(2,"Author Info"),u(),c(3,"table",2)(4,"tbody")(5,"tr",3)(6,"th",4),g(7,"Name"),u(),c(8,"td"),g(9),u()(),k(10,_Ie,5,1,"tr",6),k(11,vIe,5,1,"tr",6),k(12,bIe,5,1,"tr",6),u()()()),2&t){const e=T();p(9),_t(e.featureModel.author.name),p(1),v("ngIf",e.featureModel.author.company),p(1),v("ngIf",e.featureModel.author.email),p(1),v("ngIf",e.featureModel.author.website)}}let t4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-model-info-box"]],inputs:{featureModel:"featureModel"},decls:18,vars:5,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"table","table-sm","mb-0",2,"table-layout","fixed"],[1,"table-borderless"],["scope","row",2,"width","250px"],["scope","row"],[4,"ngIf"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2,"Info"),u(),c(3,"table",2)(4,"tbody")(5,"tr",3)(6,"th",4),g(7,"Name"),u(),c(8,"td"),g(9),u()(),c(10,"tr")(11,"th",5),g(12,"Description"),u(),c(13,"td"),g(14),u()(),k(15,hIe,5,1,"tr",6),k(16,gIe,5,1,"tr",6),u()()(),k(17,yIe,13,4,"div",7)),2&e&&(p(9),_t(i.featureModel.name),p(5),_t(i.featureModel.description),p(1),v("ngIf",i.featureModel.hasOwnProperty("version")),p(1),v("ngIf",i.featureModel.copyright),p(1),v("ngIf",i.featureModel.author&&i.featureModel.author.name))},directives:[nt],styles:[""]}),t})();function wIe(t,n){1&t&&(St(0),re(1,"i",4),c(2,"span",5),g(3,"mandatory"),u(),Et())}function xIe(t,n){1&t&&(St(0),re(1,"i",6),c(2,"span",5),g(3,"optional"),u(),Et())}function CIe(t,n){if(1&t&&(c(0,"a",2),k(1,wIe,4,0,"ng-container",3),k(2,xIe,4,0,"ng-container",3),g(3),u()),2&t){const e=n.$implicit;p(1),v("ngIf","mandatory"===e.type),p(1),v("ngIf","optional"===e.type),p(1),Be(" ",e.name," ")}}let MIe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-feature-building-block"]],inputs:{buildingBlockName:"buildingBlockName",features:"features"},decls:4,vars:2,consts:[[1,"list-group"],["class","list-group-item list-group-item-action p-2",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","p-2"],[4,"ngIf"],["aria-hidden","true","title","mandatory",1,"fa","fa-circle","mr-1"],[1,"sr-only"],["aria-hidden","true","title","optional",1,"fa","fa-circle-o","mr-1"]],template:function(e,i){1&e&&(c(0,"strong"),g(1),u(),c(2,"div",0),k(3,CIe,4,3,"a",1),u()),2&e&&(p(1),_t(i.buildingBlockName),p(2),v("ngForOf",i.features))},directives:[Lt,nt],styles:[""]}),t})();function SIe(t,n){if(1&t&&(c(0,"td",11)(1,"div",12),re(2,"app-feature-building-block",13),u()()),2&t){const e=T().$implicit,i=T(4);v("colSpan",e.colspan)("rowSpan",e.rowspan),p(2),v("buildingBlockName",e.name)("features",i.asList(i.featureModel.features[e.id].subfeatures))}}function EIe(t,n){if(1&t&&re(0,"td",14),2&t){const e=T().$implicit;v("colSpan",e.colspan)("rowSpan",e.rowspan)}}function TIe(t,n){if(1&t&&(St(0),k(1,SIe,3,4,"td",9),k(2,EIe,1,2,"td",10),Et()),2&t){const e=n.$implicit;p(1),v("ngIf",!e.isSpacer),p(1),v("ngIf",e.isSpacer)}}function PIe(t,n){if(1&t&&(c(0,"tr"),k(1,TIe,3,2,"ng-container",8),u()),2&t){const e=n.$implicit;p(1),v("ngForOf",e)}}function DIe(t,n){if(1&t&&(c(0,"table",7)(1,"tbody"),k(2,PIe,2,1,"tr",8),u()()),2&t){const e=T(2);p(2),v("ngForOf",e.featureModel.definition.rows)}}function FIe(t,n){if(1&t&&(c(0,"div"),k(1,DIe,3,1,"table",6),u()),2&t){const e=T();p(1),v("ngIf",e.featureModel)}}let nw=(()=>{class t{asList(e){return Object.values(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-feature-model"]],inputs:{featureModel:"featureModel"},decls:12,vars:1,consts:[[4,"ngIf"],[1,"container"],[1,"row"],[1,"col-4"],[1,"fa","fa-circle"],[1,"fa","fa-circle-o"],["class","table table-bordered canvas-table",4,"ngIf"],[1,"table","table-bordered","canvas-table"],[4,"ngFor","ngForOf"],["class","canvas-table-cell",3,"colSpan","rowSpan",4,"ngIf"],[3,"colSpan","rowSpan",4,"ngIf"],[1,"canvas-table-cell",3,"colSpan","rowSpan"],[1,"canvas-table-block"],[3,"buildingBlockName","features"],[3,"colSpan","rowSpan"]],template:function(e,i){1&e&&(k(0,FIe,2,1,"div",0),c(1,"div",1)(2,"div",2)(3,"div",3)(4,"strong"),g(5,"Legend:"),u()(),c(6,"div",3),re(7,"i",4),g(8," Mandatory Feature"),u(),c(9,"div",3),re(10,"i",5),g(11," Optional Feature"),u()()()),2&e&&v("ngIf",i.featureModel)},directives:[nt,Lt,MIe],styles:[""]}),t})();function AIe(t,n){1&t&&(c(0,"div",1)(1,"label",13),g(2,"Version"),u(),c(3,"div",3),re(4,"input",14),u()())}function IIe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let WG=(()=>{class t{constructor(e){this.fb=e,this.submitFeatureModelForm=new je,this.featureModelForm=this.fb.group({name:["",ft.required],description:"",version:"",copyright:""}),this.changed=!1}ngOnInit(){this.changeSubscription=this.featureModelForm.valueChanges.pipe($i(300),un(e=>this.changed=null!=this.featureModel&&!this.equals(this.featureModel,e))).subscribe(),null==this.featureModel&&this.loadForm()}ngOnChanges(e){if(e.featureModel){const o=e.featureModel.currentValue;this.equals(e.featureModel.previousValue,o)||this.loadForm(o)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}submitForm(){this.submitFeatureModelForm.emit(this.featureModelForm),this.loadForm()}equals(e,i){return null==e&&null==i||null!=e&&null!=i&&e.name===i.name&&e.description===i.description&&e.copyright===i.copyright&&(void 0===e.version||void 0===i.version||e.version===i.version)}loadForm(e){null==e?this.featureModelForm.reset():this.featureModelForm.patchValue(e)}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-feature-model-form"]],inputs:{featureModel:"featureModel"},outputs:{submitFeatureModelForm:"submitFeatureModelForm"},features:[Xt],decls:22,vars:8,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],["for","description",1,"col-sm-4","col-form-label"],["type","text","formControlName","description","id","description",1,"form-control"],["class","form-group row",4,"ngIf"],["for","copyright",1,"col-sm-4","col-form-label"],["type","text","formControlName","copyright","id","copyright",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"],["for","version",1,"col-sm-4","col-form-label"],["type","text","formControlName","version","id","version",1,"form-control"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8,"Description"),u(),c(9,"div",3),re(10,"input",6),u()(),k(11,AIe,5,0,"div",7),c(12,"div",1)(13,"label",8),g(14,"Copyright"),u(),c(15,"div",3),re(16,"input",9),u()(),c(17,"div",1)(18,"div",10)(19,"button",11),g(20," Update"),k(21,IIe,2,0,"span",12),u()()()()),2&e&&(v("formGroup",i.featureModelForm),p(11),v("ngIf",null==i.featureModel?null:i.featureModel.hasOwnProperty("version")),p(8),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.featureModelForm.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,wn,Jt,Zt,nt],styles:[""]}),t})();function kIe(t,n){if(1&t){const e=ye();c(0,"li",12)(1,"app-results-list-item",13),z("delete",function(){const r=W(e).$implicit;return T().deleteInstance.emit(r.id)}),St(2,14),g(3),Et(),St(4,15),g(5),Et(),u()()}if(2&t){const e=n.$implicit,i=T();p(1),v("viewLink",i.viewInstanceLink(e)),p(2),Be(" ",e.name," "),p(2),Be(" ",e.description," ")}}let NIe=(()=>{class t{constructor(e){this.fb=e,this.addInstance=new je,this.deleteInstance=new je,this.instanceForm=this.fb.group({name:["",ft.required]})}addInstanceForwardEmitter(){this.addInstance.emit(this.instanceForm),this.instanceForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-instance-list"]],inputs:{formTitle:"formTitle",listTitle:"listTitle",instances:"instances",viewInstanceLink:"viewInstanceLink"},outputs:{addInstance:"addInstance",deleteInstance:"deleteInstance"},decls:19,vars:6,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"list-group","inner",2,"margin","5px"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[1,"list-group-item"],[3,"viewLink","delete"],["itemTitle",""],["itemDescription",""]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2),u(),c(3,"ul",2),k(4,kIe,6,3,"li",3),u()(),c(5,"div",0)(6,"h6",1),g(7),u(),c(8,"div",4)(9,"form",5),z("ngSubmit",function(){return i.addInstanceForwardEmitter()}),c(10,"div",6)(11,"label",7),g(12,"Instance Name"),u(),c(13,"div",8),re(14,"input",9),u()(),c(15,"div",6)(16,"div",10)(17,"button",11),g(18),u()()()()()()),2&e&&(p(2),_t(i.listTitle),p(2),v("ngForOf",i.instances),p(3),_t(i.formTitle),p(2),v("formGroup",i.instanceForm),p(8),v("disabled",!i.instanceForm.valid),p(1),Be(" ",i.formTitle," "))},directives:[Lt,L_,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();const RIe=function(){return[]};function OIe(t,n){if(1&t&&(c(0,"a",6),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,RIe)),p(1),Be(" ",e.expertModel.name," ")}}const BIe=function(t){return["/","expertModels",t,"edit"]};function LIe(t,n){if(1&t&&(c(0,"a",2),g(1," Edit "),u()),2&t){const e=T();v("routerLink",Fn(1,BIe,e.expertModel._id))}}function jIe(t,n){1&t&&g(0," Describe the canvas building block ")}function GIe(t,n){1&t&&g(0," Edit the canvas building block ")}function VIe(t,n){1&t&&(c(0,"p"),g(1," Create business model patterns and example instances of this canvas building block. "),u(),c(2,"p",29),g(3," Business model patterns will be used to give users hints about possible patterns and will be shown to the user if used in their business model. Users can use examples to compare them with their own business model. "),u())}function HIe(t,n){if(1&t){const e=ye();c(0,"div",9)(1,"h6",10),g(2,"Domains"),u(),c(3,"div",11)(4,"app-domains-selection-form",30),z("submitDomainsForm",function(o){return W(e),T(2).updateDomains(o.value)}),u()()()}if(2&t){const e=T(2);p(4),v("domains",e.expertModel.domains)}}function UIe(t,n){if(1&t){const e=ye();c(0,"div",9)(1,"h6",10),g(2," Edit Canvas Building Block "),u(),c(3,"div",11)(4,"app-feature-model-form",31),z("submitFeatureModelForm",function(o){return W(e),T(2).update(o.value)}),u()()()}if(2&t){const e=T(2);p(4),v("featureModel",e.expertModel)}}function zIe(t,n){if(1&t){const e=ye();c(0,"div",9)(1,"h6",10),g(2,"Edit Author Information"),u(),c(3,"div",11)(4,"app-author-form",32),z("submitAuthorForm",function(o){return W(e),T(2).updateFeatureModelAuthor(o.value)}),u()()()}if(2&t){const e=T(2);p(4),v("author",e.expertModel.author)}}const qIe=function(t){return["/expertModels",t,"edit"]};function $Ie(t,n){if(1&t&&(c(0,"div",9)(1,"h6",10),g(2," Edit canvas building block "),u(),c(3,"div",11)(4,"button",33),g(5," Edit Canvas Building Block "),u()()()),2&t){const e=T(2);p(4),v("routerLink",Fn(1,qIe,e.expertModel._id))}}function WIe(t,n){if(1&t){const e=ye();c(0,"app-instance-list",34),z("addInstance",function(o){W(e);const r=T(2);return r.addInstance(o,r.getPatternInstanceType())})("deleteInstance",function(o){return W(e),T(2).deleteInstance(o)}),u()}if(2&t){const e=T(2);v("instances",e.getPatternInstances())("viewInstanceLink",e.viewPattern)}}function YIe(t,n){if(1&t){const e=ye();c(0,"app-instance-list",35),z("addInstance",function(o){return W(e),T(2).addInstance(o)})("deleteInstance",function(o){return W(e),T(2).deleteInstance(o)}),u()}if(2&t){const e=T(2);v("instances",e.getExampleInstances())("viewInstanceLink",e.viewExample)}}function XIe(t,n){if(1&t){const e=ye();c(0,"main",7),re(1,"app-model-info-box",8),c(2,"div",9)(3,"h6",10),g(4),u(),re(5,"app-feature-model",8),u(),c(6,"div",9)(7,"h6",10),g(8," Export Canvas Building Block "),u(),c(9,"div",11)(10,"div")(11,"div",12)(12,"div",13)(13,"button",14),z("click",function(){return W(e),T().exportModel()}),g(14," Export Canvas Building Block "),u()()()()()(),c(15,"div",9)(16,"h6",15),g(17,"Steps"),u(),c(18,"ul",16,17)(20,"li",18,19)(22,"a",20),g(23,"1. Describe"),u(),k(24,jIe,1,0,"ng-template",21),u(),c(25,"li",22,23)(27,"a",20),g(28,"2. Edit"),u(),k(29,GIe,1,0,"ng-template",21),u(),c(30,"li",24)(31,"a",20),g(32,"3. Create Patterns and Examples"),u(),k(33,VIe,4,0,"ng-template",21),u()(),re(34,"div",25),u(),k(35,HIe,5,1,"div",26),k(36,UIe,5,1,"div",26),k(37,zIe,5,1,"div",26),k(38,$Ie,6,3,"div",26),k(39,WIe,1,2,"app-instance-list",27),k(40,YIe,1,2,"app-instance-list",28),u()}if(2&t){const e=hn(19),i=hn(21),o=hn(26),r=T();p(1),v("featureModel",r.expertModel),p(3),Be(" Canvas Building Block ",r.expertModel.name," "),p(1),v("featureModel",r.expertModel),p(29),v("ngbNavOutlet",e),p(1),v("ngIf",i.active),p(1),v("ngIf",i.active),p(1),v("ngIf",i.active),p(1),v("ngIf",o.active),p(1),v("ngIf","stepCreateInstances"===e.activeId),p(1),v("ngIf","stepCreateInstances"===e.activeId)}}const KIe=function(){return["/","expertModels"]};let QIe=(()=>{class t{constructor(e,i,o){this.expertModelLoaderService=e,this.expertModelService=i,this.importExportService=o,this.viewExample=r=>["/","expertModels",this.expertModel._id,"examples",r.id.toString()],this.viewPattern=r=>["/","expertModels",this.expertModel._id,"patterns",r.id.toString()]}exportModel(){var e=this;return Y(function*(){null!=e.expertModel&&(yield e.importExportService.exportExpertModel(e.expertModel._id))})()}update(e){var i=this;return Y(function*(){null!=i.expertModel&&(yield i.expertModelService.update(i.expertModel._id,e))})()}updateDomains(e){var i=this;return Y(function*(){null!=i.expertModel&&(yield i.expertModelService.updateDomains(i.expertModel._id,e))})()}updateFeatureModelAuthor(e){var i=this;return Y(function*(){null!=i.expertModel&&(yield i.expertModelService.updateAuthor(i.expertModel._id,e))})()}addInstance(e,i=ba.EXAMPLE){var o=this;return Y(function*(){null!=o.expertModel&&(yield o.expertModelService.addInstance(o.expertModel._id,{name:e.value.name,type:i}))})()}deleteInstance(e){var i=this;return Y(function*(){null!=i.expertModel&&(yield i.expertModelService.removeInstance(i.expertModel._id,e))})()}getExampleInstances(){return null!=this.expertModel?this.expertModel.instances.filter(e=>e.type===ba.EXAMPLE):[]}getPatternInstances(){return null!=this.expertModel?this.expertModel.instances.filter(e=>e.type===ba.PATTERN):[]}getPatternInstanceType(){return ba.PATTERN}get expertModel(){return this.expertModelLoaderService.expertModel}}return t.\u0275fac=function(e){return new(e||t)(H(tw),H(Cs),H($G))},t.\u0275cmp=He({type:t,selectors:[["app-expert-model"]],features:[Tt([tw])],decls:7,vars:5,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["class","nav-link",3,"routerLink",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[3,"featureModel"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"click"],[1,"border-bottom","border-gray","pb-2"],["ngbNav","",1,"nav-pills","nav-justified"],["nav","ngbNav"],["ngbNavItem","stepDescribe"],["stepDescribe","ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","stepEdit"],["stepEdit","ngbNavItem"],["ngbNavItem","stepCreateInstances"],[1,"mt-1",3,"ngbNavOutlet"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],["formTitle","Add Pattern Instance","listTitle","Pattern Instances",3,"instances","viewInstanceLink","addInstance","deleteInstance",4,"ngIf"],["formTitle","Add Example Instance","listTitle","Example Instances",3,"instances","viewInstanceLink","addInstance","deleteInstance",4,"ngIf"],[1,"mb-0"],[3,"domains","submitDomainsForm"],[3,"featureModel","submitFeatureModelForm"],[3,"author","submitAuthorForm"],["type","button",1,"btn","btn-sm","btn-dark","btn-lg","btn-block",3,"routerLink"],["formTitle","Add Pattern Instance","listTitle","Pattern Instances",3,"instances","viewInstanceLink","addInstance","deleteInstance"],["formTitle","Add Example Instance","listTitle","Example Instances",3,"instances","viewInstanceLink","addInstance","deleteInstance"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3," Canvas Building Blocks "),u(),k(4,OIe,2,3,"a",3),k(5,LIe,2,3,"a",4),u()(),k(6,XIe,41,10,"main",5)),2&e&&(p(2),v("routerLink",Bt(4,KIe)),p(2),v("ngIf",i.expertModel),p(1),v("ngIf",i.expertModel),p(1),v("ngIf",null!=i.expertModel))},directives:[gn,nt,t4,nw,zu,Uu,op,ip,uf,eG,WG,G_,T_,NIe],styles:[""]}),t})();function JIe(t,n){1&t&&(St(0),re(1,"i",14),c(2,"span",15),g(3,"mandatory"),u(),Et())}function ZIe(t,n){1&t&&(St(0),re(1,"i",16),c(2,"span",15),g(3,"optional"),u(),Et())}function eke(t,n){1&t&&(c(0,"span",15),g(1," (instantiation error)"),u())}function tke(t,n){1&t&&(c(0,"span",15),g(1," (supports/hurts error)"),u())}function nke(t,n){if(1&t&&(c(0,"small",17),g(1),u()),2&t){const e=T().$implicit;p(1),Be(" ",e.description,"")}}function ike(t,n){1&t&&(St(0),re(1,"i",18),c(2,"span",15),g(3,"or subfeatures"),u(),Et())}function oke(t,n){1&t&&(St(0),re(1,"i",19),c(2,"span",15),g(3,"xor subfeatures"),u(),Et())}function rke(t,n){if(1&t&&(c(0,"div",5),k(1,ike,4,0,"ng-container",6),k(2,oke,4,0,"ng-container",6),u()),2&t){const e=T().$implicit;p(1),v("ngIf","or"===e.subfeatureConnections),p(1),v("ngIf","xor"===e.subfeatureConnections)}}function ske(t,n){1&t&&(c(0,"div")(1,"span",20),g(2,"from canvas building block"),u()())}function ake(t,n){if(1&t){const e=ye();c(0,"button",21),z("click",function(){W(e);const o=T().$implicit;return T(2).openDependencies(o.id)}),g(1," Show Dependencies "),u()}}function lke(t,n){if(1&t){const e=ye();c(0,"li",3)(1,"div",4)(2,"div",5),k(3,JIe,4,0,"ng-container",6),k(4,ZIe,4,0,"ng-container",6),u(),c(5,"div",5)(6,"span"),g(7),k(8,eke,2,0,"span",7),k(9,tke,2,0,"span",7),u(),k(10,nke,2,1,"small",8),u(),k(11,rke,3,2,"div",9),k(12,ske,3,0,"div",6),u(),c(13,"div"),k(14,ake,2,0,"button",10),c(15,"button",11),z("click",function(){const r=W(e).$implicit;return T(2).updateFeature(r.id)}),g(16," Update "),u(),c(17,"button",12),z("click",function(){const r=W(e).$implicit;return T(2).deleteFeature(r.id)}),g(18," Delete "),u()(),c(19,"app-feature-tree",13),z("openDependenciesEmitter",function(o){return W(e),T(2).openDependenciesForwardEmitter(o)})("updateFeatureEmitter",function(o){return W(e),T(2).updateFeatureForwardEmitter(o)})("deleteFeatureEmitter",function(o){return W(e),T(2).deleteFeatureForwardEmitter(o)}),u()()}if(2&t){const e=n.$implicit,i=T(2);p(3),v("ngIf","mandatory"===e.type),p(1),v("ngIf","optional"===e.type),p(2),Ht("text-danger",i.problemFeatureIds&&i.problemFeatureIds.includes(e.id))("text-warning",i.supportsHurtsProblemFeatureIds&&i.supportsHurtsProblemFeatureIds.includes(e.id)),p(1),_t(e.name),p(1),v("ngIf",i.problemFeatureIds&&i.problemFeatureIds.includes(e.id)),p(1),v("ngIf",i.supportsHurtsProblemFeatureIds&&i.supportsHurtsProblemFeatureIds.includes(e.id)),p(1),v("ngIf",e.description),p(1),v("ngIf",null!=e.subfeatureConnections),p(1),v("ngIf",null!=e.parent&&i.hasExpertTraces(e)),p(2),v("ngIf",!e.relationships.hasNoRelationships()),p(3),Ht("invisible",null==e.parent),p(2),v("features",e.subfeatures)("problemFeatureIds",i.problemFeatureIds)("supportsHurtsProblemFeatureIds",i.supportsHurtsProblemFeatureIds)}}function cke(t,n){if(1&t&&(c(0,"ul",1),k(1,lke,20,18,"li",2),u()),2&t){const e=T();p(1),v("ngForOf",e.getFeatures())}}let uke=(()=>{class t{constructor(){this.openDependenciesEmitter=new je,this.updateFeatureEmitter=new je,this.deleteFeatureEmitter=new je}openDependencies(e){this.openDependenciesEmitter.emit(e)}openDependenciesForwardEmitter(e){this.openDependencies(e)}updateFeature(e){this.updateFeatureEmitter.emit(e)}updateFeatureForwardEmitter(e){this.updateFeature(e)}deleteFeature(e){this.deleteFeatureEmitter.emit(e)}deleteFeatureForwardEmitter(e){this.deleteFeature(e)}getFeatures(){var e;return Object.values(null!==(e=this.features)&&void 0!==e?e:{})}hasExpertTraces(e){return Object.keys(e.expertModelTrace).length>0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-feature-tree"]],inputs:{features:"features",problemFeatureIds:"problemFeatureIds",supportsHurtsProblemFeatureIds:"supportsHurtsProblemFeatureIds"},outputs:{openDependenciesEmitter:"openDependenciesEmitter",updateFeatureEmitter:"updateFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"},decls:1,vars:1,consts:[["class","list-group inner","style","margin: 5px",4,"ngIf"],[1,"list-group","inner",2,"margin","5px"],["class","\n      d-flex\n      flex-wrap\n      list-group-item\n      justify-content-between\n      align-items-center\n    ",4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap","list-group-item","justify-content-between","align-items-center"],[1,"d-flex"],[1,"mr-1"],[4,"ngIf"],["class","sr-only",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","mr-1",4,"ngIf"],["type","button","class","btn btn-dark btn-xs mr-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"],[1,"w-100",3,"features","problemFeatureIds","supportsHurtsProblemFeatureIds","openDependenciesEmitter","updateFeatureEmitter","deleteFeatureEmitter"],["aria-hidden","true","title","mandatory",1,"fa","fa-circle"],[1,"sr-only"],["aria-hidden","true","title","optional",1,"fa","fa-circle-o"],[1,"text-muted"],["aria-hidden","true","title","or subfeatures",1,"fa","fa-caret-up"],["aria-hidden","true","title","xor subfeatures",1,"fa","fa-angle-up"],[1,"badge","badge-dark"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"click"]],template:function(e,i){1&e&&k(0,cke,2,1,"ul",0),2&e&&v("ngIf",i.features)},directives:[nt,Lt,t],styles:[""]}),t})();function dke(t,n){if(1&t&&(c(0,"option",13),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e),p(1),Be(" A ",e," B ")}}function pke(t,n){if(1&t&&(c(0,"option",13),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e.id),p(1),Be(" ",e.levelname," ")}}function mke(t,n){if(1&t&&(c(0,"option",13),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e.id),p(1),Be(" ",e.levelname," ")}}function fke(t,n){if(1&t){const e=ye();c(0,"form",1),z("ngSubmit",function(){return W(e),T().submitForm()}),c(1,"div",2)(2,"label",3),g(3,"Type of Relationship"),u(),c(4,"div",4)(5,"select",5),k(6,dke,2,2,"option",6),u()()(),c(7,"div",2)(8,"label",7),g(9,"Feature A"),u(),c(10,"div",4)(11,"select",8),k(12,pke,2,2,"option",6),u()()(),c(13,"div",2)(14,"label",9),g(15,"Feature B"),u(),c(16,"div",4)(17,"select",10),k(18,mke,2,2,"option",6),u()()(),c(19,"div",2)(20,"div",11)(21,"button",12),g(22," Add Cross-Tree Relationship "),u()()()()}if(2&t){const e=T();v("formGroup",e.relationshipForm),p(6),v("ngForOf",e.relationshipTypes),p(6),v("ngForOf",e.featureList),p(6),v("ngForOf",e.featureList),p(3),v("disabled",!e.relationshipForm.valid)}}let hke=(()=>{class t{constructor(e){this.fb=e,this.submitRelationshipForm=new je}ngOnInit(){this.loadForm()}loadForm(){this.relationshipForm=this.fb.group({relationshipType:[null,ft.required],fromFeatureId:[this.featureList.length>0?this.featureList[0].id:null,ft.required],toFeatureId:[this.featureList.length>1?this.featureList[1].id:null,ft.required]})}submitForm(){this.submitRelationshipForm.emit(this.relationshipForm),this.loadForm()}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-cross-tree-relationship-form"]],inputs:{featureList:"featureList",relationshipTypes:"relationshipTypes"},outputs:{submitRelationshipForm:"submitRelationshipForm"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","relationshipType",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","relationshipType","formControlName","relationshipType",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],["for","fromFeatureId",1,"col-sm-4","col-form-label"],["id","fromFeatureId","formControlName","fromFeatureId",1,"form-control"],["for","toFeatureId",1,"col-sm-4","col-form-label"],["id","toFeatureId","formControlName","toFeatureId",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"ngValue"]],template:function(e,i){1&e&&k(0,fke,23,5,"form",0),2&e&&v("ngIf",null!=i.relationshipForm)},directives:[nt,nn,Wt,Vt,ki,Jt,Zt,Lt,Vi,Hi],styles:[""]}),t})();const gke=["dependencyModal"],_ke=["updateModal"],vke=["deleteModal"];function bke(t,n){if(1&t){const e=ye();c(0,"app-delete-feature-confirm",23),z("deletionResult",function(o){return W(e),T(2).deleteFeature(o)})("closeModal",function(){return W(e),T(2).closeModal()}),u()}2&t&&v("feature",T(2).modalFeature)}function yke(t,n){1&t&&k(0,bke,1,1,"app-delete-feature-confirm",22),2&t&&v("ngIf",null!=T().modalFeature)}function wke(t,n){if(1&t){const e=ye();c(0,"app-cross-tree-relationship-modal",25),z("closeModal",function(){return W(e),T(2).closeModal()})("removeRelationship",function(o){return W(e),T(2).removeRelationship(o.type,o.fromFeatureId,o.toFeatureId)}),u()}if(2&t){const e=T(2);v("featureModel",e.featureModel)("feature",e.modalFeature)}}function xke(t,n){1&t&&k(0,wke,1,2,"app-cross-tree-relationship-modal",24),2&t&&v("ngIf",null!=T().modalFeature)}function Cke(t,n){if(1&t&&(c(0,"h4",32),g(1),u()),2&t){const e=T(2);p(1),Be(" ",e.modalFeature.name," ")}}const Mke=function(){return[]};function Ske(t,n){if(1&t){const e=ye();c(0,"app-feature-form",33),z("submitFeatureForm",function(o){return W(e),T(2).updateFeature(o)}),u()}if(2&t){const e=T(2);let i;v("feature",e.modalFeature)("disabledSubfeatures",null!==(i=e.modalSubfeatureIds)&&void 0!==i?i:Bt(3,Mke))("featureList",e.featureList)}}function Eke(t,n){if(1&t){const e=ye();c(0,"div",26),k(1,Cke,2,1,"h4",27),c(2,"button",28),z("click",function(){return W(e),T().closeModal()}),c(3,"span",29),g(4,"\xd7"),u()()(),c(5,"div",30)(6,"div",19),k(7,Ske,1,4,"app-feature-form",31),u()()}if(2&t){const e=T();p(1),v("ngIf",null!=e.modalFeature),p(6),v("ngIf",null!=e.modalFeature)}}function Tke(t,n){if(1&t){const e=ye();c(0,"app-feature-tree",34),z("openDependenciesEmitter",function(o){return W(e),T().openDependenciesModal(o)})("updateFeatureEmitter",function(o){return W(e),T().updateFeatureModal(o)})("deleteFeatureEmitter",function(o){return W(e),T().deleteFeatureModal(o)}),u()}if(2&t){const e=T();v("features",e.featureModel.features)("problemFeatureIds",e.problemFeatureIds)("supportsHurtsProblemFeatureIds",e.supportsHurtsProblemFeatureIds)}}function Pke(t,n){1&t&&(c(0,"div",6)(1,"div",9),g(2,"\xa0"),u(),c(3,"div",9)(4,"span",35),g(5,"Supports/Hurts error (see below)"),u()(),c(6,"div",9)(7,"span",36),g(8,"Instantiation errors (see below)"),u()()())}function Dke(t,n){if(1&t){const e=ye();c(0,"button",37),z("click",function(){return W(e),T().checkInstantiationPossible()}),g(1," Activate check "),u()}}function Fke(t,n){if(1&t){const e=ye();c(0,"button",37),z("click",function(){return W(e),T().deactivateInstantiationCheck()}),g(1," Deactivate check "),u()}}function Ake(t,n){1&t&&(c(0,"p"),g(1,"No problems detected."),u())}function Ike(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function kke(t,n){if(1&t&&(c(0,"ul"),k(1,Ike,2,1,"li",40),u()),2&t){const e=T(2);p(1),v("ngForOf",e.problems)}}function Nke(t,n){if(1&t&&(c(0,"div",38)(1,"h6"),g(2,"Instantiation problems:"),u(),k(3,Ake,2,0,"p",39),k(4,kke,2,1,"ul",39),u()),2&t){const e=T();p(3),v("ngIf",0===e.problems.length),p(1),v("ngIf",e.problems.length>0)}}function Rke(t,n){1&t&&(c(0,"p"),g(1,"No problems detected."),u())}function Oke(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function Bke(t,n){if(1&t&&(c(0,"ul"),k(1,Oke,2,1,"li",40),u()),2&t){const e=T(2);p(1),v("ngForOf",e.supportsHurtsProblems)}}function Lke(t,n){if(1&t&&(c(0,"div",38)(1,"h6"),g(2,"Supports/Hurts problems:"),u(),k(3,Rke,2,0,"p",39),k(4,Bke,2,1,"ul",39),u()),2&t){const e=T();p(3),v("ngIf",0===e.supportsHurtsProblems.length),p(1),v("ngIf",e.supportsHurtsProblems.length>0)}}let n4=(()=>{class t{constructor(e,i,o){this.canvasModelConsistencyService=e,this.fb=i,this.modalService=o,this.updateFeatureModel=new je,this.featureList=[]}ngOnChanges(e){e.featureModel&&null!=e.featureModel.currentValue&&(this.modalFeature&&(this.modalFeature=this.featureModel.getFeature(this.modalFeature.id)),this.featureList=this.featureModel.getFeatureList(),null!=this.problems&&this.checkInstantiationPossible())}openDependenciesModal(e){this.modalFeature=this.featureModel.getFeature(e),this.modalReference=this.modalService.open(this.dependencyModal,{size:"lg"})}updateFeatureModal(e){const i=this.featureModel.getFeature(e);this.modalFeature=i,this.modalSubfeatureIds=i.getAllSubfeatures().map(o=>o.id),this.modalSubfeatureIds.push(i.id),this.modalReference=this.modalService.open(this.updateModal,{size:"lg"})}deleteFeatureModal(e){this.modalFeature=this.featureModel.getFeature(e),this.modalReference=this.modalService.open(this.deleteModal,{size:"lg"})}closeModal(){null!=this.modalReference&&(this.modalReference.close(),this.modalReference=void 0),this.modalFeature=void 0}removeRelationship(e,i,o){this.featureModel.removeRelationship(e,i,o),this.updateFeatureModel.emit()}updateFeature(e){var i;null!=this.modalFeature&&(this.featureModel.updateFeature(this.modalFeature.id,null===(i=e.get("subfeatureOf"))||void 0===i?void 0:i.value,e.value),this.updateFeatureModel.emit(),this.closeModal())}deleteFeature(e){this.featureModel.removeFeature(e),this.updateFeatureModel.emit(),this.closeModal()}insertFeature(e){var i;this.featureModel.addFeature(e.value,null===(i=e.get("subfeatureOf"))||void 0===i?void 0:i.value),this.updateFeatureModel.emit()}addRelationship(e){this.featureModel.addRelationship(e.value.relationshipType,e.value.fromFeatureId,e.value.toFeatureId),this.updateFeatureModel.emit()}checkInstantiationPossible(){const e=this.canvasModelConsistencyService.instanceIsPossible(this.featureModel);this.problems=e.problems,this.problemFeatureIds=e.problemFeatureIds,this.possibleInstance=e.possibleInstance;const i=this.canvasModelConsistencyService.checkHurtsSupports(this.featureModel);this.supportsHurtsProblems=i.problems,this.supportsHurtsProblemFeatureIds=i.problemFeatureIds}deactivateInstantiationCheck(){this.problems=void 0,this.problemFeatureIds=void 0,this.possibleInstance=void 0,this.supportsHurtsProblems=void 0,this.supportsHurtsProblemFeatureIds=void 0}}return t.\u0275fac=function(e){return new(e||t)(H(q_),H(zt),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-feature-model-edit"]],viewQuery:function(e,i){if(1&e&&(Ft(gke,7),Ft(_ke,7),Ft(vke,7)),2&e){let o;bt(o=yt())&&(i.dependencyModal=o.first),bt(o=yt())&&(i.updateModal=o.first),bt(o=yt())&&(i.deleteModal=o.first)}},inputs:{featureModel:"featureModel"},outputs:{updateFeatureModel:"updateFeatureModel"},features:[Xt],decls:81,vars:9,consts:[["deleteModal",""],["dependencyModal",""],["updateModal",""],["role","alert",1,"my-3","alert","alert-info","container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"row"],[1,"col-sm-12"],[3,"features","problemFeatureIds","supportsHurtsProblemFeatureIds","openDependenciesEmitter","updateFeatureEmitter","deleteFeatureEmitter",4,"ngIf"],[1,"col-4"],["aria-hidden","true",1,"fa","fa-circle"],[1,"sr-only"],["aria-hidden","true",1,"fa","fa-circle-o"],["aria-hidden","true",1,"fa","fa-angle-up"],["aria-hidden","true",1,"fa","fa-caret-up"],["class","row",4,"ngIf"],[1,"pt-3"],["class","btn btn-sm btn-dark btn-block",3,"click",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"text-muted","pt-3"],["submitButtonText","Add Feature",3,"featureList","submitFeatureForm"],[3,"featureList","relationshipTypes","submitRelationshipForm"],[3,"feature","deletionResult","closeModal",4,"ngIf"],[3,"feature","deletionResult","closeModal"],[3,"featureModel","feature","closeModal","removeRelationship",4,"ngIf"],[3,"featureModel","feature","closeModal","removeRelationship"],[1,"modal-header"],["class","modal-title","id","modal-basic-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"feature","disabledSubfeatures","featureList","submitFeatureForm",4,"ngIf"],["id","modal-basic-title",1,"modal-title"],[3,"feature","disabledSubfeatures","featureList","submitFeatureForm"],[3,"features","problemFeatureIds","supportsHurtsProblemFeatureIds","openDependenciesEmitter","updateFeatureEmitter","deleteFeatureEmitter"],[1,"text-warning"],[1,"text-danger"],[1,"btn","btn-sm","btn-dark","btn-block",3,"click"],[1,"mt-4"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(k(0,yke,1,1,"ng-template",null,0,$t),k(2,xke,1,1,"ng-template",null,1,$t),k(4,Eke,8,2,"ng-template",null,2,$t),c(6,"div",3)(7,"p"),g(8,"View and edit the feature tree. You can:"),u(),c(9,"ul")(10,"li"),g(11," at the bottom of the page "),c(12,"ul")(13,"li"),g(14,"Check for problems (e.g. inconsistencies)"),u(),c(15,"li"),g(16,"Add new features"),u(),c(17,"li"),g(18,"Add Cross-Tree Relationships"),u()()(),c(19,"li"),g(20," in the feature tree "),c(21,"ul")(22,"li"),g(23,"List and remove Cross-Tree Relationships"),u(),c(24,"li"),g(25," Update features (e.g. change name/description, Tree relationship (XOR, OR), \u2026) "),u(),c(26,"li"),g(27,"Remove features"),u()()()()(),c(28,"div",4)(29,"h6",5),g(30,"Feature tree"),u(),c(31,"div",6)(32,"div",7),k(33,Tke,1,3,"app-feature-tree",8),u()(),c(34,"div",6)(35,"div",9)(36,"strong"),g(37,"Legend:"),u()(),c(38,"div",9),re(39,"i",10),c(40,"span",11),g(41,"mandatory"),u(),g(42," Mandatory Feature "),u(),c(43,"div",9),re(44,"i",12),c(45,"span",11),g(46,"optional"),u(),g(47," Optional Feature "),u()(),c(48,"div",6)(49,"div",9),g(50,"\xa0"),u(),c(51,"div",9),re(52,"i",13),c(53,"span",11),g(54,"xor subfeatures"),u(),g(55," Alternative (Xor) "),u(),c(56,"div",9),re(57,"i",14),c(58,"span",11),g(59,"or subfeatures"),u(),g(60," Or "),u()(),k(61,Pke,9,0,"div",15),u(),c(62,"div",4)(63,"h6",5),g(64,"Check for problems"),u(),c(65,"div",16)(66,"div"),k(67,Dke,2,0,"button",17),k(68,Fke,2,0,"button",17),u(),k(69,Nke,5,2,"div",18),k(70,Lke,5,2,"div",18),u()(),c(71,"div",4)(72,"h6",5),g(73,"Add Feature"),u(),c(74,"div",19)(75,"app-feature-form",20),z("submitFeatureForm",function(r){return i.insertFeature(r)}),u()()(),c(76,"div",4)(77,"h6",5),g(78," Add Cross-Tree Relationship "),u(),c(79,"div",19)(80,"app-cross-tree-relationship-form",21),z("submitRelationshipForm",function(r){return i.addRelationship(r)}),u()()()),2&e&&(p(33),v("ngIf",i.featureModel&&i.featureModel.features),p(28),v("ngIf",i.problems),p(6),v("ngIf",!i.problems),p(1),v("ngIf",i.problems),p(1),v("ngIf",i.problems),p(1),v("ngIf",i.supportsHurtsProblems),p(5),v("featureList",i.featureList),p(5),v("featureList",i.featureList)("relationshipTypes",i.featureModel.definition.relationshipTypes))},directives:[nt,HG,zG,UG,uke,Lt,hke],styles:[""]}),t})();const jke=function(t){return["/","expertModels",t]};function Gke(t,n){if(1&t&&(c(0,"a",2),g(1),u()),2&t){const e=T();v("routerLink",Fn(2,jke,e.expertModel._id)),p(1),Be(" ",e.expertModel.name," ")}}const Vke=function(){return[]};function Hke(t,n){1&t&&(c(0,"a",6),g(1,"Edit"),u()),2&t&&v("routerLink",Bt(1,Vke))}function Uke(t,n){if(1&t){const e=ye();c(0,"main",7)(1,"app-feature-model-edit",8),z("updateFeatureModel",function(){return W(e),T().updateExpertModel()}),u()()}if(2&t){const e=T();p(1),v("featureModel",e.expertModel)}}const zke=function(){return["/","expertModels"]};let qke=(()=>{class t{constructor(e,i){this.expertModelLoaderService=e,this.expertModelService=i}updateExpertModel(){var e=this;return Y(function*(){null!=e.expertModel&&(yield e.expertModelService.save(e.expertModel))})()}get expertModel(){return this.expertModelLoaderService.expertModel}}return t.\u0275fac=function(e){return new(e||t)(H(tw),H(Cs))},t.\u0275cmp=He({type:t,selectors:[["app-expert-model-edit"]],features:[Tt([tw])],decls:7,vars:5,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","nav-link active",3,"routerLink",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[3,"featureModel","updateFeatureModel"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3," Canvas Building Blocks "),u(),k(4,Gke,2,4,"a",3),k(5,Hke,2,2,"a",4),u()(),k(6,Uke,2,1,"main",5)),2&e&&(p(2),v("routerLink",Bt(4,zke)),p(2),v("ngIf",i.expertModel),p(1),v("ngIf",i.expertModel),p(1),v("ngIf",i.expertModel))},directives:[gn,nt,n4],styles:[""]}),t})(),iw=(()=>{class t{getAdaptionName(e){const i=e.split(" - Adaptation#");let o;return o=i.length>1&&!isNaN(parseInt(i[i.length-1],10))?i[0]+" - Adaptation#"+(parseInt(i[i.length-1],10)+1):i[0]+" - Adaptation#1",o}compareInstances(e,i,o){const r=[];e.iterateFeatures(l=>(r.unshift(l),!1));const s={},a={};for(const l of r){const d=i.usedFeatures.includes(l.id);if(d===o.usedFeatures.includes(l.id)){if(d){const w=Object.keys(l.subfeatures).filter(P=>P in s);if(w.length>0){const P=w.map(N=>a[N]).reduce((N,L)=>N+L,0);s[l.id]=P/w.length,a[l.id]=(P+100)/(w.length+1)}else s[l.id]=100,a[l.id]=100}}else s[l.id]=0,a[l.id]=0}return s}convertExpertInstance(e,i,o){const r=new mm(void 0,o);return r.usedFeatures=r.usedFeatures.map(s=>e.expertModelTraces[i].expertFeatureIdMap[s]),e.iterateFeatures(s=>{if(r.usedFeatures.includes(s.id)){let a=s.parent;for(;null!=a&&!r.usedFeatures.includes(a.id);)r.usedFeatures.push(a.id),a=a.parent}return!1}),r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$ke=(()=>{class t{constructor(){this.closeModal=new je,this.deleteBusinessModelDecision=new je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-delete-decision-modal"]],inputs:{feature:"feature"},outputs:{closeModal:"closeModal",deleteBusinessModelDecision:"deleteBusinessModelDecision"},decls:13,vars:2,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","alert",1,"alert","alert-warning"],[1,"modal-footer"],["type","button",1,"btn","btn-block","btn-warning",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2),u(),c(3,"button",2),z("click",function(){return i.closeModal.emit()}),c(4,"span",3),g(5,"\xd7"),u()()(),c(6,"div",4)(7,"div",5)(8,"p"),g(9),u()()(),c(10,"div",6)(11,"button",7),z("click",function(){return i.deleteBusinessModelDecision.emit(i.feature.id)}),g(12," Delete Decision "),u()()),2&e&&(p(2),_t(i.feature.name),p(7),Be(' You are trying to remove the decision "',i.feature.name,'". Please keep in mind that you are removing also all subdecisions. '))},styles:[""]}),t})();function Wke(t,n){if(1&t&&(c(0,"li",7),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function Yke(t,n){if(1&t&&(c(0,"li",7),re(1,"i",15),g(2," Guiding Questions: "),c(3,"ul",9),k(4,Wke,2,1,"li",10),u()()),2&t){const e=T();p(4),v("ngForOf",e.feature.guidingQuestions)}}function Xke(t,n){if(1&t&&(c(0,"li",7),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function Kke(t,n){if(1&t&&(c(0,"li",7),re(1,"i",16),g(2," Examples: "),c(3,"ul",9),k(4,Xke,2,1,"li",10),u()()),2&t){const e=T();p(4),v("ngForOf",e.feature.examples)}}function Qke(t,n){if(1&t&&(c(0,"small",19),g(1),u()),2&t){const e=T().$implicit;p(1),_t(e.description)}}function Jke(t,n){if(1&t){const e=ye();c(0,"li",7)(1,"span"),g(2),k(3,Qke,2,1,"small",17),u(),c(4,"button",18),z("click",function(){const r=W(e).$implicit;return T().addBusinessModelDecision.emit(r.id)}),g(5," Add "),u()()}if(2&t){const e=n.$implicit;p(2),Be(" ",e.name," "),p(1),v("ngIf",e.description)}}function Zke(t,n){1&t&&(c(0,"li",7),g(1," There are no existing business model decisions left to add. "),u())}let e9e=(()=>{class t{constructor(e){this.fb=e,this.closeModal=new je,this.addBusinessModelDecision=new je,this.addFeature=new je,this.addFeatureForm=this.fb.group({name:["",ft.required]})}submitAddFeatureForm(){this.addFeature.emit(this.addFeatureForm.value),this.addFeatureForm.reset()}get unselectedFeatures(){return Object.values(this.feature.subfeatures).filter(e=>!this.instance.usedFeatures.includes(e.id))}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-add-decision-modal"]],inputs:{instance:"instance",feature:"feature"},outputs:{closeModal:"closeModal",addBusinessModelDecision:"addBusinessModelDecision",addFeature:"addFeature"},decls:27,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group"],["class","list-group-item justify-content-between align-items-center",4,"ngIf"],[1,"list-group-item","justify-content-between","align-items-center"],[1,"fas","fa-plus-square"],[1,"list-group","mt-1"],["class","list-group-item justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"form-inline",3,"formGroup","ngSubmit"],["for","name",1,"sr-only"],["type","text","formControlName","name","id","name",1,"form-control","mb-2","mr-sm-2"],["type","submit",1,"btn","btn-warning","btn-xs","bottom-right"],[1,"fas","fa-question-circle"],[1,"far","fa-lightbulb"],["class","text-muted",4,"ngIf"],["type","button",1,"btn","btn-warning","btn-xs","bottom-right",3,"click"],[1,"text-muted"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2),u(),c(3,"button",2),z("click",function(){return i.closeModal.emit()}),c(4,"span",3),g(5,"\xd7"),u()()(),c(6,"div",4)(7,"ul",5),k(8,Yke,5,1,"li",6),k(9,Kke,5,1,"li",6),c(10,"li",7),re(11,"i",8),g(12," Add existing business model decisions: "),c(13,"ul",9),k(14,Jke,6,2,"li",10),k(15,Zke,2,0,"li",6),u()(),c(16,"li",7),re(17,"i",8),g(18," Add new business model decision: "),c(19,"ul",9)(20,"li",7)(21,"form",11),z("ngSubmit",function(){return i.submitAddFeatureForm()}),c(22,"label",12),g(23,"Decision Name"),u(),re(24,"input",13),c(25,"button",14),g(26," Add "),u()()()()()()()),2&e&&(p(2),_t(i.feature.name),p(6),v("ngIf",i.feature.guidingQuestions.length>0),p(1),v("ngIf",i.feature.examples.length>0),p(5),v("ngForOf",i.unselectedFeatures),p(1),v("ngIf",0===i.unselectedFeatures.length),p(6),v("formGroup",i.addFeatureForm))},directives:[nt,Lt,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();function t9e(t,n){if(1&t&&(c(0,"tr")(1,"th",5),g(2,"Type"),u(),c(3,"td"),g(4),u()()),2&t){const e=T();p(4),_t(e.instance.type)}}let n9e=(()=>{class t{expertModelTypeName(){return hd.typeName}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-instance-info-box"]],inputs:{featureModel:"featureModel",instance:"instance"},decls:16,vars:3,consts:[[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"table","table-sm","mb-0",2,"table-layout","fixed"],[1,"table-borderless"],["scope","row",2,"width","250px"],["scope","row"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h6",1),g(2,"Info"),u(),c(3,"table",2)(4,"tbody")(5,"tr",3)(6,"th",4),g(7,"Name"),u(),c(8,"td"),g(9),u()(),c(10,"tr")(11,"th",5),g(12,"Description"),u(),c(13,"td"),g(14),u()(),k(15,t9e,5,1,"tr",6),u()()()),2&e&&(p(9),_t(i.instance.name),p(5),_t(i.instance.description),p(1),v("ngIf",i.featureModel.type===i.expertModelTypeName()))},directives:[nt],styles:[""]}),t})();function i9e(t,n){if(1&t&&(c(0,"strong"),g(1),u()),2&t){const e=T(2);Ht("text-success",e.compareInstance&&!e.compareInstance.usedFeatures.includes(e.feature.id)||e.showStrengths&&e.conformance.strengthFeatureIds.includes(e.feature.id))("text-danger",e.conformance.errorFeatureIds.includes(e.feature.id))("text-warning",e.conformance.warningFeatureIds.includes(e.feature.id)&&e.showWarnings),p(1),Be(" ",e.feature.name," ")}}function o9e(t,n){if(1&t&&(c(0,"span"),g(1),u()),2&t){const e=T(2);Ht("text-success",e.compareInstance&&!e.compareInstance.usedFeatures.includes(e.feature.id)||e.showStrengths&&e.conformance.strengthFeatureIds.includes(e.feature.id)||e.patternInstance&&e.patternInstance.usedFeatures.includes(e.feature.id))("text-danger",e.conformance.errorFeatureIds.includes(e.feature.id))("text-warning",e.conformance.warningFeatureIds.includes(e.feature.id)&&e.showWarnings),p(1),_t(e.feature.name)}}function r9e(t,n){if(1&t){const e=ye();c(0,"i",8),z("click",function(){W(e);const o=T(2);return o.addFeature(o.feature.id)}),u()}}function s9e(t,n){if(1&t){const e=ye();c(0,"i",9),z("click",function(){W(e);const o=T(2);return o.deleteFeature(o.feature.id)}),u()}}function a9e(t,n){if(1&t&&(c(0,"small",10),g(1),ci(2,"number"),u()),2&t){const e=T(2);p(1),Be("",As(2,1,e.percentages[e.feature.id],".2-2"),"\xa0%")}}function l9e(t,n){if(1&t&&(St(0),k(1,i9e,2,7,"strong",4),k(2,o9e,2,7,"span",4),k(3,r9e,1,0,"i",5),k(4,s9e,1,0,"i",6),k(5,a9e,3,4,"small",7),Et()),2&t){const e=T();p(1),v("ngIf",1===e.levelDepth),p(1),v("ngIf",1!==e.levelDepth),p(1),v("ngIf",e.editable),p(1),v("ngIf",null!=e.feature.parent&&e.editable),p(1),v("ngIf",e.percentages&&e.asList(e.feature.subfeatures).length>0&&e.compareInstance&&e.compareInstance.usedFeatures.includes(e.feature.id)&&e.instance.usedFeatures.includes(e.feature.id))}}function c9e(t,n){if(1&t&&(c(0,"em"),g(1),u()),2&t){const e=T();Ht("text-danger",e.conformance.errorFeatureIds.includes(e.feature.id)||e.compareInstance&&e.compareInstance.usedFeatures.includes(e.feature.id)||e.patternInstance&&e.patternInstance.usedFeatures.includes(e.feature.id))("text-success",e.conformance.hintFeatureIds.includes(e.feature.id)&&e.showHints)("text-muted",e.conformance.patternHintFeatureIds.includes(e.feature.id)&&e.showPatternHints),p(1),_t(e.feature.name)}}function u9e(t,n){if(1&t){const e=ye();c(0,"app-canvas-building-block",12),z("addFeatureEmitter",function(o){return W(e),T(2).addFeatureForwardEmitter(o)})("deleteFeatureEmitter",function(o){return W(e),T(2).deleteFeatureForwardEmitter(o)}),u()}if(2&t){const e=T().$implicit,i=T();v("feature",e)("instance",i.instance)("levelDepth",i.levelDepth+1)("conformance",i.conformance)("showWarnings",i.showWarnings)("showStrengths",i.showStrengths)("showHints",i.showHints)("showPatternHints",i.showPatternHints)("compareInstance",i.compareInstance)("percentages",i.percentages)("patternInstance",i.patternInstance)("editable",i.editable)}}function d9e(t,n){if(1&t&&(c(0,"span"),k(1,u9e,1,12,"app-canvas-building-block",11),u()),2&t){const e=n.$implicit,i=T();p(1),v("ngIf",i.instance.usedFeatures.includes(e.id)||i.conformance.errorFeatureIds.includes(e.id)||i.conformance.warningFeatureIds.includes(e.id)&&i.showWarnings||i.conformance.strengthFeatureIds.includes(e.id)&&i.showStrengths||i.conformance.hintFeatureIds.includes(e.id)&&i.showHints||i.conformance.patternHintFeatureIds.includes(e.id)&&i.showPatternHints||i.compareInstance&&i.compareInstance.usedFeatures.includes(e.id)||i.patternInstance&&i.patternInstance.usedFeatures.includes(e.id))}}let p9e=(()=>{class t{constructor(){this.levelDepth=1,this.addFeatureEmitter=new je,this.deleteFeatureEmitter=new je}addFeature(e){this.addFeatureEmitter.emit(e)}deleteFeature(e){this.deleteFeatureEmitter.emit(e)}addFeatureForwardEmitter(e){this.addFeature(e)}deleteFeatureForwardEmitter(e){this.deleteFeature(e)}asList(e){return Object.values(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-canvas-building-block"]],inputs:{feature:"feature",levelDepth:"levelDepth",instance:"instance",conformance:"conformance",showWarnings:"showWarnings",showStrengths:"showStrengths",showHints:"showHints",showPatternHints:"showPatternHints",compareInstance:"compareInstance",percentages:"percentages",patternInstance:"patternInstance",editable:"editable"},outputs:{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"},decls:5,vars:5,consts:[[1,"list-group",2,"margin-top","5px","margin-left","5px"],[4,"ngIf"],[3,"text-danger","text-success","text-muted",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"text-success","text-danger","text-warning",4,"ngIf"],["class","fas fa-plus-square ml-2",3,"click",4,"ngIf"],["class","fas fa-minus-square ml-2",3,"click",4,"ngIf"],["class","text-muted ml-1",4,"ngIf"],[1,"fas","fa-plus-square","ml-2",3,"click"],[1,"fas","fa-minus-square","ml-2",3,"click"],[1,"text-muted","ml-1"],[3,"feature","instance","levelDepth","conformance","showWarnings","showStrengths","showHints","showPatternHints","compareInstance","percentages","patternInstance","editable","addFeatureEmitter","deleteFeatureEmitter",4,"ngIf"],[3,"feature","instance","levelDepth","conformance","showWarnings","showStrengths","showHints","showPatternHints","compareInstance","percentages","patternInstance","editable","addFeatureEmitter","deleteFeatureEmitter"]],template:function(e,i){1&e&&(c(0,"ul",0)(1,"li"),k(2,l9e,6,5,"ng-container",1),k(3,c9e,2,7,"em",2),k(4,d9e,2,1,"span",3),u()()),2&e&&(Ht("no-list",1===i.levelDepth),p(2),v("ngIf",i.instance.usedFeatures.includes(i.feature.id)),p(1),v("ngIf",!i.instance.usedFeatures.includes(i.feature.id)),p(1),v("ngForOf",i.asList(i.feature.subfeatures)))},directives:[nt,Lt,t],pipes:[Y6],styles:[""]}),t})();function m9e(t,n){if(1&t){const e=ye();c(0,"td",5)(1,"div",6)(2,"app-canvas-building-block",7),z("addFeatureEmitter",function(o){return W(e),T(4).addFeatureModal.emit(o)})("deleteFeatureEmitter",function(o){return W(e),T(4).deleteFeatureModal.emit(o)}),u()()()}if(2&t){const e=T().$implicit,i=T(3);v("colSpan",e.colspan)("rowSpan",e.rowspan)("ngStyle",i.getHeatmapStyle(e.id)),p(2),v("feature",i.featureModel.features[e.id])("instance",i.instance)("conformance",i.conformance)("showWarnings",i.conformanceOptions.showWarnings)("showStrengths",i.conformanceOptions.showStrengths)("showHints",i.conformanceOptions.showHints)("showPatternHints",i.conformanceOptions.showPatternHints)("compareInstance",i.compareInstance)("percentages",i.percentages)("patternInstance",i.patternInstance)("editable",i.editable)}}function f9e(t,n){if(1&t&&re(0,"td",8),2&t){const e=T().$implicit;v("colSpan",e.colspan)("rowSpan",e.rowspan)}}function h9e(t,n){if(1&t&&(St(0),k(1,m9e,3,14,"td",3),k(2,f9e,1,2,"td",4),Et()),2&t){const e=n.$implicit;p(1),v("ngIf",!e.isSpacer),p(1),v("ngIf",e.isSpacer)}}function g9e(t,n){if(1&t&&(c(0,"tr"),k(1,h9e,3,2,"ng-container",2),u()),2&t){const e=n.$implicit;p(1),v("ngForOf",e)}}function _9e(t,n){if(1&t&&(c(0,"table",1)(1,"tbody"),k(2,g9e,2,1,"tr",2),u()()),2&t){const e=T();p(2),v("ngForOf",e.featureModel.definition.rows)}}let v9e=(()=>{class t{constructor(){this.conformance=new Qc,this.conformanceOptions={showHints:!1,showPatternHints:!1,showStrengths:!1,showWarnings:!1},this.editable=!0,this.addFeatureModal=new je,this.deleteFeatureModal=new je}getHeatmapStyle(e){return this.percentages?{"background-color":"hsla("+this.percentages[e]/100*120+", 100%, 66%, 0.3)"}:{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-canvas"]],inputs:{featureModel:"featureModel",instance:"instance",conformance:"conformance",conformanceOptions:"conformanceOptions",compareInstance:"compareInstance",percentages:"percentages",patternInstance:"patternInstance",editable:"editable"},outputs:{addFeatureModal:"addFeatureModal",deleteFeatureModal:"deleteFeatureModal"},decls:1,vars:1,consts:[["class","table table-bordered canvas-table",4,"ngIf"],[1,"table","table-bordered","canvas-table"],[4,"ngFor","ngForOf"],["class","canvas-table-cell",3,"colSpan","rowSpan","ngStyle",4,"ngIf"],[3,"colSpan","rowSpan",4,"ngIf"],[1,"canvas-table-cell",3,"colSpan","rowSpan","ngStyle"],[1,"canvas-table-block"],[3,"feature","instance","conformance","showWarnings","showStrengths","showHints","showPatternHints","compareInstance","percentages","patternInstance","editable","addFeatureEmitter","deleteFeatureEmitter"],[3,"colSpan","rowSpan"]],template:function(e,i){1&e&&k(0,_9e,3,1,"table",0),2&e&&v("ngIf",i.featureModel)},directives:[nt,Lt,WD,p9e],styles:[""]}),t})(),b9e=(()=>{class t{constructor(e){this.fb=e,this.submitInstanceForm=new je,this.instanceForm=this.fb.group({name:["",ft.required],description:[""]})}ngOnChanges(e){e.instance&&this.loadForm(e.instance.currentValue)}submitForm(){this.submitInstanceForm.emit(this.instanceForm),this.loadForm(this.instance)}loadForm(e){this.instanceForm=this.fb.group({name:[e.name,ft.required],description:[e.description?e.description:""]})}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-instance-form"]],inputs:{instance:"instance"},outputs:{submitInstanceForm:"submitInstanceForm"},features:[Xt],decls:15,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],["for","description",1,"col-sm-4","col-form-label"],["type","text","formControlName","description","id","description",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1)(2,"label",2),g(3,"Instance Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8,"Instance Description"),u(),c(9,"div",3),re(10,"input",6),u()(),c(11,"div",1)(12,"div",7)(13,"button",8),g(14," Update Instance "),u()()()()),2&e&&(v("formGroup",i.instanceForm),p(13),v("disabled",!i.instanceForm.valid))},directives:[nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();const y9e=["addModal"],w9e=["deleteModal"];function x9e(t,n){if(1&t){const e=ye();c(0,"app-delete-decision-modal",15),z("closeModal",function(){return W(e),T(2).closeModal()})("deleteBusinessModelDecision",function(o){return W(e),T(2).deleteDecision(o)}),u()}2&t&&v("feature",T(2).modalFeature)}function C9e(t,n){1&t&&k(0,x9e,1,1,"app-delete-decision-modal",14),2&t&&v("ngIf",null!=T().modalFeature)}function M9e(t,n){if(1&t){const e=ye();c(0,"app-add-decision-modal",17),z("closeModal",function(){return W(e),T(2).closeModal()})("addBusinessModelDecision",function(o){return W(e),T(2).addDecision(o)})("addFeature",function(o){return W(e),T(2).addFeature(o)}),u()}if(2&t){const e=T(2);v("feature",e.modalFeature)("instance",e.instance)}}function S9e(t,n){1&t&&k(0,M9e,1,2,"app-add-decision-modal",16),2&t&&v("ngIf",null!=T().modalFeature)}function E9e(t,n){1&t&&(c(0,"div",9)(1,"span",21),g(2,"Weakness (see below)"),u()())}function T9e(t,n){1&t&&(c(0,"div",9)(1,"span",22),g(2,"Strength (see below)"),u()())}function P9e(t,n){1&t&&(c(0,"div",7)(1,"div",8),g(2,"\xa0"),u(),c(3,"div",8),g(4,"\xa0"),u(),c(5,"div",9),g(6,"\xa0"),u(),c(7,"div",9)(8,"em",22),g(9,"Hint (see below)"),u()()())}function D9e(t,n){1&t&&(c(0,"div",7)(1,"div",8),g(2,"\xa0"),u(),c(3,"div",8),g(4,"\xa0"),u(),c(5,"div",9),g(6,"\xa0"),u(),c(7,"div",9)(8,"em",23),g(9,"Pattern Hint (see below)"),u()()())}function F9e(t,n){if(1&t&&(St(0),c(1,"div",7)(2,"div",8),g(3,"\xa0"),u(),c(4,"div",8),g(5,"Conformance:"),u(),c(6,"div",9)(7,"span",18),g(8,"Conformance Error (see below)"),u()(),k(9,E9e,3,0,"div",19),u(),c(10,"div",7)(11,"div",8),g(12,"\xa0"),u(),c(13,"div",8),g(14,"\xa0"),u(),c(15,"div",9)(16,"em",18),g(17,"Missing Mandatory Decision"),u()(),k(18,T9e,3,0,"div",19),u(),k(19,P9e,10,0,"div",20),k(20,D9e,10,0,"div",20),Et()),2&t){const e=T();p(9),v("ngIf",e.conformanceOptions.showWarnings),p(9),v("ngIf",e.conformanceOptions.showStrengths),p(1),v("ngIf",e.conformanceOptions.showHints),p(1),v("ngIf",e.conformanceOptions.showPatternHints)}}function A9e(t,n){1&t&&(St(0),c(1,"div",7)(2,"div",8),g(3,"\xa0"),u(),c(4,"div",8),g(5,"Compare:"),u(),c(6,"div",9)(7,"em",18),g(8,"Feature only in other model"),u()(),c(9,"div",9)(10,"span",22),g(11,"Feature only in this model"),u()()(),Et())}function I9e(t,n){1&t&&(St(0),c(1,"div",7)(2,"div",8),g(3,"\xa0"),u(),c(4,"div",8),g(5,"Pattern:"),u(),c(6,"div",9)(7,"em",18),g(8,"Feature missing"),u()(),c(9,"div",9)(10,"span",22),g(11,"Feature used"),u()()(),Et())}function k9e(t,n){if(1&t){const e=ye();c(0,"div",3)(1,"h6",24),g(2,"Adapt Instance"),u(),c(3,"div",6)(4,"div",25)(5,"button",26),z("click",function(){return W(e),T().createAdaptation.emit()}),g(6," Create New Instance Adaptation "),u()()()()}}function N9e(t,n){if(1&t){const e=ye();c(0,"div",3)(1,"h6",24),g(2,"Update Instance"),u(),c(3,"div",27)(4,"app-instance-form",28),z("submitInstanceForm",function(o){return W(e),T().update(o.value)}),u()()()}if(2&t){const e=T();p(4),v("instance",e.instance)}}let _p=(()=>{class t{constructor(e,i){this.instanceService=e,this.modalService=i,this.editable=!0,this.adaptable=!0,this.updatable=!0,this.conformanceIsChecked=!1,this.conformance=new Qc,this.conformanceOptions={showHints:!1,showPatternHints:!1,showStrengths:!1,showWarnings:!1},this.updateFeatureModel=new je,this.createAdaptation=new je}openAddDecisionModal(e){this.modalFeature=this.featureModel.getFeature(e),this.modalReference=this.modalService.open(this.addModal,{size:"lg"})}addFeature(e){if(null!=this.modalFeature){const i=this.featureModel.addFeature(e,this.modalFeature.id);this.featureModel.addFeatureToInstance(this.instance.id,i.id),this.updateFeatureModel.emit()}}addDecision(e){this.featureModel.addFeatureToInstance(this.instance.id,e),this.updateFeatureModel.emit()}openDeleteDecisionModal(e){this.modalFeature=this.featureModel.getFeature(e),this.modalReference=this.modalService.open(this.deleteModal,{size:"lg"})}deleteDecision(e){this.featureModel.removeFeatureFromInstance(this.instance.id,e),this.updateFeatureModel.emit(),this.closeModal()}update(e){this.featureModel.updateInstance(this.instance.id,e),this.updateFeatureModel.emit()}closeModal(){var e;null===(e=this.modalReference)||void 0===e||e.close(),this.modalFeature=void 0,this.modalReference=void 0}}return t.\u0275fac=function(e){return new(e||t)(H(iw),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-instance"]],viewQuery:function(e,i){if(1&e&&(Ft(y9e,7),Ft(w9e,7)),2&e){let o;bt(o=yt())&&(i.addModal=o.first),bt(o=yt())&&(i.deleteModal=o.first)}},inputs:{featureModel:"featureModel",instance:"instance",editable:"editable",adaptable:"adaptable",updatable:"updatable",conformanceIsChecked:"conformanceIsChecked",conformance:"conformance",conformanceOptions:"conformanceOptions",patternInstance:"patternInstance",compareInstance:"compareInstance",percentages:"percentages"},outputs:{updateFeatureModel:"updateFeatureModel",createAdaptation:"createAdaptation"},decls:27,vars:17,consts:[["deleteModal",""],["addModal",""],[3,"featureModel","instance"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[3,"patternInstance","percentages","compareInstance","featureModel","conformance","conformanceOptions","instance","editable","addFeatureModal","deleteFeatureModal"],[1,"container"],[1,"row"],[1,"col-2"],[1,"col-4"],[1,"fas","fa-plus-square"],[1,"fas","fa-minus-square"],[4,"ngIf"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[3,"feature","closeModal","deleteBusinessModelDecision",4,"ngIf"],[3,"feature","closeModal","deleteBusinessModelDecision"],[3,"feature","instance","closeModal","addBusinessModelDecision","addFeature",4,"ngIf"],[3,"feature","instance","closeModal","addBusinessModelDecision","addFeature"],[1,"text-danger"],["class","col-4",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-warning"],[1,"text-success"],[1,"text-muted"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"row",2,"margin-top","20px"],["type","button",1,"btn","btn-dark","btn-sm","btn-block",3,"click"],[1,"text-muted","pt-3"],[3,"instance","submitInstanceForm"]],template:function(e,i){1&e&&(k(0,C9e,1,1,"ng-template",null,0,$t),k(2,S9e,1,1,"ng-template",null,1,$t),re(4,"app-instance-info-box",2),c(5,"div",3)(6,"h6",4),g(7),u(),c(8,"app-canvas",5),z("addFeatureModal",function(r){return i.openAddDecisionModal(r)})("deleteFeatureModal",function(r){return i.openDeleteDecisionModal(r)}),u(),c(9,"div",6)(10,"div",7)(11,"div",8)(12,"strong"),g(13,"Legend:"),u()(),c(14,"div",8),g(15,"Modification:"),u(),c(16,"div",9),re(17,"i",10),g(18," Add Business Model Decision "),u(),c(19,"div",9),re(20,"i",11),g(21," Delete Business Model Decision "),u()(),k(22,F9e,21,4,"ng-container",12),k(23,A9e,12,0,"ng-container",12),k(24,I9e,12,0,"ng-container",12),u()(),k(25,k9e,7,0,"div",13),k(26,N9e,5,1,"div",13)),2&e&&(p(4),v("featureModel",i.featureModel)("instance",i.instance),p(3),Xi(" ",i.instance.name," of ",i.featureModel.name," "),p(1),v("patternInstance",i.patternInstance)("percentages",i.percentages)("compareInstance",i.compareInstance)("featureModel",i.featureModel)("conformance",i.conformance)("conformanceOptions",i.conformanceOptions)("instance",i.instance)("editable",i.editable),p(14),v("ngIf",i.conformanceIsChecked),p(1),v("ngIf",i.compareInstance),p(1),v("ngIf",i.patternInstance),p(1),v("ngIf",i.adaptable),p(1),v("ngIf",i.updatable))},directives:[nt,$ke,e9e,n9e,v9e,b9e],styles:[""]}),t})();const R9e=function(t){return["/","expertModels",t]};function O9e(t,n){if(1&t&&(c(0,"a",2),g(1),u()),2&t){const e=T();v("routerLink",Fn(2,R9e,e.expertModel._id)),p(1),Be(" ",e.expertModel.name," ")}}const B9e=function(){return[]};function L9e(t,n){if(1&t&&(c(0,"a",6),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,B9e)),p(1),Be(" ",e.pattern.name," ")}}function j9e(t,n){if(1&t){const e=ye();c(0,"main",7)(1,"app-instance",8),z("updateFeatureModel",function(){return W(e),T().updateExpertModel()})("createAdaptation",function(){return W(e),T().createAdaptation()}),u()()}if(2&t){const e=T();p(1),v("featureModel",e.expertModel)("instance",e.pattern)}}const G9e=function(){return["/","expertModels"]};let V9e=(()=>{class t{constructor(e,i,o,r,s){this.expertModelService=e,this.instanceService=i,this.modalService=o,this.route=r,this.router=s}ngOnInit(){this.routeSubscription=this.route.paramMap.subscribe(e=>{const i=e.get("id"),o=e.get("patternId"),r=o?+o:void 0;null!=i&&null!=r&&this.load(i,r)})}load(e,i){var o=this;return Y(function*(){const r=yield o.expertModelService.get(e);o.expertModel=r,o.pattern=r.getInstance(i)})()}updateExpertModel(){var e=this;return Y(function*(){null!=e.expertModel&&null!=e.pattern&&(yield e.expertModelService.save(e.expertModel),yield e.load(e.expertModel._id,e.pattern.id))})()}createAdaptation(){var e=this;return Y(function*(){if(null!=e.expertModel&&null!=e.pattern){const i=e.instanceService.getAdaptionName(e.pattern.name);e.expertModel.adaptInstance(e.pattern.id,i);const o=e.expertModel.instances[e.expertModel.instances.length-1];yield e.expertModelService.save(e.expertModel),yield e.router.navigate(["expertModels",e.expertModel._id,"patterns",o.id])}})()}}return t.\u0275fac=function(e){return new(e||t)(H(Cs),H(iw),H(jn),H(Jn),H(oi))},t.\u0275cmp=He({type:t,selectors:[["app-pattern"]],decls:7,vars:5,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","nav-link active",3,"routerLink",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[3,"featureModel","instance","updateFeatureModel","createAdaptation"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3," Canvas Building Blocks "),u(),k(4,O9e,2,4,"a",3),k(5,L9e,2,3,"a",4),u()(),k(6,j9e,2,2,"main",5)),2&e&&(p(2),v("routerLink",Bt(4,G9e)),p(2),v("ngIf",null!=i.expertModel),p(1),v("ngIf",null!=i.expertModel&&null!=i.pattern),p(1),v("ngIf",null!=i.expertModel&&null!=i.pattern))},directives:[gn,nt,_p],styles:[""]}),t})(),H9e=(()=>{class t{constructor(e){this.activeModal=e}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-pattern-description-modal"]],inputs:{pattern:"pattern"},decls:13,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"sr-only"],[1,"modal-body"],[1,"modal-footer","d-flex"],["type","button",1,"btn","btn-dark","ml-auto",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2),u(),c(3,"button",2),z("click",function(){return i.dismiss()}),c(4,"span",3),g(5,"\xd7"),u(),c(6,"span",4),g(7,"Close Window"),u()()(),c(8,"div",5),g(9),u(),c(10,"div",6)(11,"button",7),z("click",function(){return i.dismiss()}),g(12," Close "),u()()),2&e&&(p(2),Be("Description of pattern ",i.pattern.name,""),p(7),Be(" ",i.pattern.description,"\n"))},styles:[""]}),t})(),i4=(()=>{class t{constructor(e){this.modalService=e}openDescription(){this.modalService.open(H9e,{size:"lg"}).componentInstance.pattern=this.pattern}}return t.\u0275fac=function(e){return new(e||t)(H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-pattern-view"]],inputs:{pattern:"pattern"},decls:2,vars:1,consts:[[1,"btn","btn-link","p-0","border-0","align-baseline",3,"click"]],template:function(e,i){1&e&&(c(0,"span",0),z("click",function(){return i.openDescription()}),g(1),u()),2&e&&(p(1),_t(i.pattern.name))},styles:[""]}),t})(),YG=(()=>{class t{ngOnChanges(e){e.patternHint&&this.buildMissingFeaturesInfo()}buildMissingFeaturesInfo(){this.missingFeaturesInfo=this.patternHint.missingFeatures.map(e=>e.name).join(", ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-pattern-hint"]],inputs:{patternHint:"patternHint"},features:[Xt],decls:3,vars:2,consts:[[3,"pattern"]],template:function(e,i){1&e&&(g(0,"You could add the pattern\n"),re(1,"app-pattern-view",0),g(2)),2&e&&(p(1),v("pattern",i.patternHint.pattern),p(1),Be(" by adding\nthe following features: ",i.missingFeaturesInfo,"\n"))},directives:[i4],styles:[""]}),t})();const U9e=function(t){return["/","expertModels",t]};function z9e(t,n){if(1&t&&(c(0,"a",2),g(1),u()),2&t){const e=T();v("routerLink",Fn(2,U9e,e.expertModel._id)),p(1),Be(" ",e.expertModel.name," ")}}const q9e=function(){return[]};function $9e(t,n){if(1&t&&(c(0,"a",6),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,q9e)),p(1),Be(" ",e.example.name," ")}}function W9e(t,n){1&t&&g(0," Create the example and check the conformance with the conformance checker ")}function Y9e(t,n){1&t&&g(0," Adapt the example with hints")}function X9e(t,n){1&t&&g(0," Compare the example with other examples and adapt it as needed ")}function K9e(t,n){1&t&&g(0," Just view the example")}function Q9e(t,n){1&t&&(c(0,"h6",29),g(1," Conformance Check "),u())}function J9e(t,n){1&t&&(c(0,"h6",29),g(1," Hints "),u())}function Z9e(t,n){1&t&&(c(0,"span"),g(1,"Activate Conformance Checking of Business Model"),u())}function eNe(t,n){1&t&&(c(0,"span"),g(1,"Show Hints of Business Model"),u())}function tNe(t,n){if(1&t){const e=ye();c(0,"button",30),z("click",function(){return W(e),T(3).checkConformance()}),k(1,Z9e,2,0,"span",31),k(2,eNe,2,0,"span",31),u()}if(2&t){T(2);const e=hn(8),i=hn(13);p(1),v("ngIf",e.active),p(1),v("ngIf",i.active)}}function nNe(t,n){1&t&&(c(0,"span"),g(1,"Deactivate Conformance Checking of Business Model"),u())}function iNe(t,n){1&t&&(c(0,"span"),g(1,"Hide Hints of Business Model"),u())}function oNe(t,n){if(1&t){const e=ye();c(0,"button",30),z("click",function(){return W(e),T(3).uncheckConformance()}),k(1,nNe,2,0,"span",31),k(2,iNe,2,0,"span",31),u()}if(2&t){T(2);const e=hn(8),i=hn(13);p(1),v("ngIf",e.active),p(1),v("ngIf",i.active)}}function rNe(t,n){1&t&&(c(0,"form",38)(1,"div",39),re(2,"input",40),c(3,"label",41),g(4," Show weaknesses "),c(5,"small",42),g(6,"Used features that have a hurt cross-tree relationship to other used features"),u()()(),c(7,"div",39),re(8,"input",43),c(9,"label",44),g(10," Show strengths "),c(11,"small",42),g(12,"Used features that have a supports cross-tree relationship to other used features"),u()()(),c(13,"div",39),re(14,"input",45),c(15,"label",46),g(16," Show hints "),c(17,"small",42),g(18,"Unused features that have a supports cross-tree relationship to other used features and can be added without requirements and do not lead to other errors"),u()()(),c(19,"div",39),re(20,"input",47),c(21,"label",48),g(22," Show pattern hints "),c(23,"small",42),g(24,"A pattern is shown as a hint, if at least half of the pattern is included in the current business model"),u()()(),c(25,"div",39),re(26,"input",49),c(27,"label",50),g(28," Show used patterns "),c(29,"small",42),g(30,"A pattern is shown as used, if it is completely included in the current business model"),u()()()()),2&t&&v("formGroup",T(4).conformanceOptionsForm)}function sNe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),_t(e)}}function aNe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function lNe(t,n){if(1&t&&(c(0,"div")(1,"h6"),g(2,"Weaknesses"),u(),c(3,"ul"),k(4,aNe,2,1,"li",36),u()()),2&t){const e=T(5);p(4),v("ngForOf",e.conformance.warnings)}}function cNe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function uNe(t,n){if(1&t&&(c(0,"div")(1,"h6"),g(2,"Strengths"),u(),c(3,"ul"),k(4,cNe,2,1,"li",36),u()()),2&t){const e=T(5);p(4),v("ngForOf",e.conformance.strengths)}}function dNe(t,n){if(1&t&&(c(0,"div",51),k(1,lNe,5,1,"div",31),k(2,uNe,5,1,"div",31),u()),2&t){const e=T(4);p(1),v("ngIf",e.conformanceOptionsForm.value.showWarnings),p(1),v("ngIf",e.conformanceOptionsForm.value.showStrengths)}}function pNe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),_t(e)}}function mNe(t,n){if(1&t&&(c(0,"div")(1,"h6"),g(2,"Hints"),u(),c(3,"ul"),k(4,pNe,2,1,"li",36),u()()),2&t){const e=T(5);p(4),v("ngForOf",e.conformance.hints)}}function fNe(t,n){if(1&t&&(c(0,"li"),re(1,"app-pattern-hint",52),u()),2&t){const e=n.$implicit;p(1),v("patternHint",e)}}function hNe(t,n){if(1&t&&(c(0,"div")(1,"h6"),g(2,"Pattern Hints"),u(),c(3,"ul"),k(4,fNe,2,1,"li",36),u()()),2&t){const e=T(5);p(4),v("ngForOf",e.conformance.patternHints)}}function gNe(t,n){if(1&t&&(c(0,"li"),re(1,"app-pattern-view",53),u()),2&t){const e=n.$implicit;p(1),v("pattern",e)}}function _Ne(t,n){if(1&t&&(c(0,"div")(1,"h6"),g(2,"Used Patterns"),u(),c(3,"ul"),k(4,gNe,2,1,"li",36),u()()),2&t){const e=T(5);p(4),v("ngForOf",e.conformance.usedPatterns)}}function vNe(t,n){if(1&t&&(c(0,"div",51),k(1,mNe,5,1,"div",31),k(2,hNe,5,1,"div",31),k(3,_Ne,5,1,"div",31),u()),2&t){const e=T(4);p(1),v("ngIf",e.conformanceOptionsForm.value.showHints),p(1),v("ngIf",e.conformanceOptionsForm.value.showPatternHints),p(1),v("ngIf",e.conformanceOptionsForm.value.showUsedPatterns)}}function bNe(t,n){if(1&t&&(c(0,"div",32),k(1,rNe,31,1,"form",33),c(2,"div",34)(3,"div",35)(4,"h6"),g(5,"Errors"),u(),c(6,"ul"),k(7,sNe,2,1,"li",36),u()(),k(8,dNe,3,2,"div",37),k(9,vNe,4,3,"div",37),u()()),2&t){T(2);const e=hn(13),i=T();p(1),v("ngIf",e.active),p(6),v("ngForOf",i.conformance.errors),p(1),v("ngIf",i.conformanceOptionsForm.value.showWarnings||i.conformanceOptionsForm.value.showStrengths),p(1),v("ngIf",i.conformanceOptionsForm.value.showHints||i.conformanceOptionsForm.value.showPatternHints||i.conformanceOptionsForm.value.showUsedPatterns)}}function yNe(t,n){if(1&t&&(c(0,"div",9),k(1,Q9e,2,0,"h6",24),k(2,J9e,2,0,"h6",24),c(3,"div",25)(4,"div",26),k(5,tNe,3,2,"button",27),k(6,oNe,3,2,"button",27),u(),k(7,bNe,10,4,"div",28),u()()),2&t){T();const e=hn(8),i=hn(13),o=T();p(1),v("ngIf",e.active),p(1),v("ngIf",i.active),p(3),v("ngIf",!o.conformanceIsChecked),p(1),v("ngIf",o.conformanceIsChecked),p(1),v("ngIf",o.conformanceIsChecked)}}function wNe(t,n){if(1&t){const e=ye();c(0,"button",30),z("click",function(){return W(e),T(3).showUsedPatterns()}),g(1," Show used Patterns of Business Model "),u()}}function xNe(t,n){if(1&t){const e=ye();c(0,"button",30),z("click",function(){return W(e),T(3).hideUsedPatterns()}),g(1," Hide used Patterns of Business Model "),u()}}function CNe(t,n){if(1&t&&(c(0,"li"),re(1,"app-pattern-view",53),u()),2&t){const e=n.$implicit;p(1),v("pattern",e)}}function MNe(t,n){if(1&t&&(c(0,"div",32)(1,"h6"),g(2,"Used Patterns"),u(),c(3,"ul"),k(4,CNe,2,1,"li",36),u()()),2&t){const e=T(3);p(4),v("ngForOf",e.usedPatterns)}}function SNe(t,n){if(1&t&&(c(0,"div",9)(1,"h6",29),g(2,"Patterns"),u(),c(3,"div",25)(4,"div",26),k(5,wNe,2,0,"button",27),k(6,xNe,2,0,"button",27),u(),k(7,MNe,5,1,"div",28),u()()),2&t){const e=T(2);p(5),v("ngIf",!e.usedPatterns),p(1),v("ngIf",e.usedPatterns),p(1),v("ngIf",e.usedPatterns)}}function ENe(t,n){if(1&t&&(c(0,"option",64),g(1),u()),2&t){const e=T().$implicit;v("ngValue",e.id),p(1),Be(" ",e.name," ")}}function TNe(t,n){if(1&t&&(St(0),k(1,ENe,2,2,"option",63),Et()),2&t){const e=n.$implicit,i=T(3);p(1),v("ngIf",e.id!==i.example.id)}}function PNe(t,n){1&t&&(c(0,"button",65),g(1," Compare "),u()),2&t&&v("disabled",!T(3).selectOtherInstanceForm.valid)}function DNe(t,n){if(1&t){const e=ye();c(0,"button",66),z("click",function(){return W(e),T(3).clearCompare()}),g(1," Clear Compare "),u()}}function FNe(t,n){if(1&t){const e=ye();c(0,"div",9)(1,"h6",29),g(2,"Compare"),u(),c(3,"div",54)(4,"form",55),z("ngSubmit",function(){return W(e),T(2).compare()}),c(5,"div",56)(6,"label",57),g(7,"Business Model"),u(),c(8,"div",58)(9,"select",59),k(10,TNe,2,1,"ng-container",36),u()()(),c(11,"div",56)(12,"div",60),k(13,PNe,2,1,"button",61),k(14,DNe,2,0,"button",62),u()()()()()}if(2&t){const e=T(2);p(4),v("formGroup",e.selectOtherInstanceForm),p(6),v("ngForOf",e.expertModel.getExamples()),p(3),v("ngIf",null==e.compareInstance),p(1),v("ngIf",null!=e.compareInstance)}}function ANe(t,n){if(1&t&&(St(0),c(1,"option",64),g(2),u(),Et()),2&t){const e=n.$implicit;p(1),v("ngValue",e),p(1),Be(" ",e.name," ")}}function INe(t,n){if(1&t&&(c(0,"div",56)(1,"label",70),g(2,"Description"),u(),c(3,"div",58),g(4),u()()),2&t){const e=T(3);p(4),Be(" ",e.selectedPattern.description," ")}}function kNe(t,n){1&t&&(c(0,"button",65),g(1," Show "),u()),2&t&&v("disabled",!T(3).selectPatternForm.valid)}function NNe(t,n){if(1&t){const e=ye();c(0,"button",66),z("click",function(){return W(e),T(3).clearPattern()}),g(1," Clear "),u()}}function RNe(t,n){if(1&t){const e=ye();c(0,"div",9)(1,"h6",29),g(2,"Show pattern"),u(),c(3,"div",54)(4,"form",55),z("ngSubmit",function(){return W(e),T(2).showPattern()}),c(5,"div",56)(6,"label",67),g(7,"Pattern"),u(),c(8,"div",58)(9,"select",68),k(10,ANe,3,2,"ng-container",36),u()()(),k(11,INe,5,1,"div",69),c(12,"div",56)(13,"div",60),k(14,kNe,2,1,"button",61),k(15,NNe,2,0,"button",62),u()()()()()}if(2&t){const e=T(2);p(4),v("formGroup",e.selectPatternForm),p(6),v("ngForOf",e.expertModel.getPatterns()),p(1),v("ngIf",(e.selectPatternForm.valid||null!=e.patternInstance)&&null!=e.selectedPattern&&e.selectedPattern.description),p(3),v("ngIf",null==e.patternInstance),p(1),v("ngIf",null!=e.patternInstance)}}function ONe(t,n){if(1&t){const e=ye();c(0,"main",7)(1,"app-instance",8),z("updateFeatureModel",function(){return W(e),T().updateExpertModel()})("createAdaptation",function(){return W(e),T().createAdaptation()}),u(),c(2,"div",9)(3,"h6",10),g(4,"Steps"),u(),c(5,"ul",11,12),z("activeIdChange",function(o){return W(e),T().activeId=o})("navChange",function(o){return W(e),T().switchView(o)}),c(7,"li",13,14)(9,"a",15),g(10,"1. Creation & Conformance"),u(),k(11,W9e,1,0,"ng-template",16),u(),c(12,"li",17,18)(14,"a",15),g(15,"2. Hints"),u(),k(16,Y9e,1,0,"ng-template",16),u(),c(17,"li",19,20)(19,"a",15),g(20,"3. Compare & Adaption"),u(),k(21,X9e,1,0,"ng-template",16),u(),c(22,"li",21)(23,"a",15),g(24,"4. View"),u(),k(25,K9e,1,0,"ng-template",16),u()(),re(26,"div",22),u(),k(27,yNe,8,5,"div",23),k(28,SNe,8,3,"div",23),k(29,FNe,15,4,"div",23),k(30,RNe,16,5,"div",23),u()}if(2&t){const e=hn(6),i=hn(8),o=hn(13),r=hn(18),s=T();p(1),v("featureModel",s.expertModel)("instance",s.example)("conformance",s.conformance)("conformanceIsChecked",s.conformanceIsChecked)("conformanceOptions",s.conformanceOptionsForm.value)("compareInstance",s.compareInstance)("percentages",s.percentages)("patternInstance",s.patternInstance)("editable","stepView"!==s.activeId),p(4),v("activeId",s.activeId),p(21),v("ngbNavOutlet",e),p(1),v("ngIf",i.active||o.active),p(1),v("ngIf",r.active),p(1),v("ngIf",r.active),p(1),v("ngIf",r.active)}}const BNe=function(){return["/","expertModels"]};let LNe=(()=>{class t{constructor(e,i,o,r,s,a){this.canvasModelConsistencyService=e,this.fb=i,this.expertModelService=o,this.instanceService=r,this.route=s,this.router=a,this.conformanceIsChecked=!1,this.conformance=new Qc,this.conformanceOptionsForm=this.fb.group({showWarnings:!0,showStrengths:!0,showHints:!1,showPatternHints:!1,showUsedPatterns:!1}),this.selectOtherInstanceForm=this.fb.group({instance:[null,ft.required]}),this.selectPatternForm=this.fb.group({pattern:[null,ft.required]}),this.activeId="stepCreate"}ngOnInit(){this.routeSubscription=this.route.paramMap.subscribe(e=>{const i=e.get("id"),o=e.get("exampleId"),r=o?+o:void 0;this.activeId="stepCreate",this.clearView(),this.initConformanceOptionsForm(this.activeId),null!=i&&null!=r&&this.load(i,r)})}load(e,i){var o=this;return Y(function*(){const r=yield o.expertModelService.get(e);o.expertModel=r,o.example=r.getInstance(i),o.compareInstance&&o.compare(),o.patternInstance&&o.showPattern(),o.usedPatterns&&o.showUsedPatterns(),o.conformanceIsChecked?o.checkConformance():o.uncheckConformance()})()}updateExpertModel(){var e=this;return Y(function*(){null!=e.expertModel&&null!=e.example&&(yield e.expertModelService.save(e.expertModel),yield e.load(e.expertModel._id,e.example.id))})()}createAdaptation(){var e=this;return Y(function*(){if(null!=e.expertModel&&null!=e.example){const i=e.instanceService.getAdaptionName(e.example.name);e.expertModel.adaptInstance(e.example.id,i);const o=e.expertModel.instances[e.expertModel.instances.length-1];yield e.expertModelService.save(e.expertModel),yield e.router.navigate(["expertModels",e.expertModel._id,"examples",o.id])}})()}switchView(e){this.clearView(),this.initConformanceOptionsForm(e.nextId)}clearView(){this.uncheckConformance(),this.clearCompare(),this.clearPattern(),this.hideUsedPatterns()}uncheckConformance(){this.conformanceIsChecked=!1,this.conformance=new Qc}checkConformance(){null!=this.expertModel&&null!=this.example&&(this.clearCompare(),this.clearPattern(),this.conformance=this.canvasModelConsistencyService.checkConformanceOfInstance(this.expertModel,this.example.id,this.expertModel.getPatterns()),this.conformanceIsChecked=!0)}compare(){var e;if(null!=this.expertModel&&null!=this.example){if(this.uncheckConformance(),this.clearPattern(),this.compareInstance=this.expertModel.getInstance(this.selectOtherInstanceForm.value.instance),null==this.compareInstance)throw new Error("Compare instance does not exist");this.percentages=this.instanceService.compareInstances(this.expertModel,this.example,this.compareInstance),null===(e=this.selectOtherInstanceForm.get("instance"))||void 0===e||e.disable()}}clearCompare(){var e;this.compareInstance=void 0,this.percentages=void 0,null===(e=this.selectOtherInstanceForm.get("instance"))||void 0===e||e.enable()}showPattern(){var e;this.uncheckConformance(),this.clearCompare(),this.patternInstance=this.selectPatternForm.value.pattern,null===(e=this.selectPatternForm.get("pattern"))||void 0===e||e.disable()}clearPattern(){var e;this.patternInstance=void 0,null===(e=this.selectPatternForm.get("pattern"))||void 0===e||e.enable()}showUsedPatterns(){null!=this.expertModel&&null!=this.example&&(this.usedPatterns=this.canvasModelConsistencyService.getPatternHints(this.expertModel,this.example,this.expertModel.getPatterns()).usedPatterns)}hideUsedPatterns(){this.usedPatterns=void 0}get selectedPattern(){return this.selectPatternForm.value.pattern}initConformanceOptionsForm(e){this.conformanceOptionsForm.setValue("stepHints"===e?{showWarnings:!0,showStrengths:!0,showHints:!0,showPatternHints:!0,showUsedPatterns:!1}:{showWarnings:!1,showStrengths:!1,showHints:!1,showPatternHints:!1,showUsedPatterns:!1})}}return t.\u0275fac=function(e){return new(e||t)(H(q_),H(zt),H(Cs),H(iw),H(Jn),H(oi))},t.\u0275cmp=He({type:t,selectors:[["app-example"]],decls:7,vars:5,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","nav-link active",3,"routerLink",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[3,"featureModel","instance","conformance","conformanceIsChecked","conformanceOptions","compareInstance","percentages","patternInstance","editable","updateFeatureModel","createAdaptation"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],["ngbNav","",1,"nav-pills","nav-justified",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],["ngbNavItem","stepCreate"],["stepCreate","ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","stepHints"],["stepHints","ngbNavItem"],["ngbNavItem","stepCompare"],["stepCompare","ngbNavItem"],["ngbNavItem","stepView"],[1,"mt-1",3,"ngbNavOutlet"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],["class","border-bottom border-gray pb-2 mb-0",4,"ngIf"],[1,"container"],[1,"row",2,"margin-top","20px"],["type","button","class","btn btn-dark btn-sm btn-block",3,"click",4,"ngIf"],["style","margin-top: 20px",4,"ngIf"],[1,"border-bottom","border-gray","pb-2","mb-0"],["type","button",1,"btn","btn-dark","btn-sm","btn-block",3,"click"],[4,"ngIf"],[2,"margin-top","20px"],[3,"formGroup",4,"ngIf"],[1,"row"],[1,"col"],[4,"ngFor","ngForOf"],["class","col border-left",4,"ngIf"],[3,"formGroup"],[1,"custom-control","custom-switch","mb-2"],["formControlName","showWarnings","type","checkbox","id","optionShowWarnings",1,"custom-control-input"],["for","optionShowWarnings",1,"custom-control-label"],[1,"text-muted","d-block"],["formControlName","showStrengths","type","checkbox","id","showStrengths",1,"custom-control-input"],["for","showStrengths",1,"custom-control-label"],["formControlName","showHints","type","checkbox","id","showHints",1,"custom-control-input"],["for","showHints",1,"custom-control-label"],["formControlName","showPatternHints","type","checkbox","id","showPatternHints",1,"custom-control-input"],["for","showPatternHints",1,"custom-control-label"],["formControlName","showUsedPatterns","type","checkbox","id","showUsedPatterns",1,"custom-control-input"],["for","showUsedPatterns",1,"custom-control-label"],[1,"col","border-left"],[3,"patternHint"],[3,"pattern"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","instance",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","instance","formControlName","instance",1,"form-control"],[1,"col-sm-12"],["type","submit","class","btn btn-sm btn-dark btn-block",3,"disabled",4,"ngIf"],["type","button","class","btn btn-sm btn-dark btn-block",3,"click",4,"ngIf"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],["type","button",1,"btn","btn-sm","btn-dark","btn-block",3,"click"],["for","pattern",1,"col-sm-4","col-form-label"],["id","pattern","formControlName","pattern",1,"form-control"],["class","form-group form-row",4,"ngIf"],[1,"col-sm-4","col-form-label"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3," Canvas Building Blocks "),u(),k(4,z9e,2,4,"a",3),k(5,$9e,2,3,"a",4),u()(),k(6,ONe,31,15,"main",5)),2&e&&(p(2),v("routerLink",Bt(4,BNe)),p(2),v("ngIf",null!=i.expertModel),p(1),v("ngIf",null!=i.expertModel&&null!=i.example),p(1),v("ngIf",null!=i.expertModel&&null!=i.example))},directives:[gn,nt,_p,zu,Uu,op,ip,uf,nn,Wt,Vt,Xd,Jt,Zt,Lt,YG,i4,ki,Vi,Hi],styles:[""]}),t})(),ow=(()=>{class t extends Es{constructor(e,i){super(i),this.companyModelService=e}initParams(e){const i=e.get("id");null!=i&&(this.changesFeed=this.companyModelService.getChangesFeed(i).subscribe(()=>this.loadCompanyModel(i)),this.loadCompanyModel(i))}loadCompanyModel(e){var i=this;return Y(function*(){i.companyModel=yield i.companyModelService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Lo),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jNe=function(t){return["/","companyModels",t]};function GNe(t,n){if(1&t&&(c(0,"a",2),g(1),u()),2&t){const e=T();v("routerLink",Fn(2,jNe,e.companyModel._id)),p(1),Be(" ",e.companyModel.name," ")}}const VNe=function(){return[]};function HNe(t,n){1&t&&(c(0,"a",6),g(1,"Edit"),u()),2&t&&v("routerLink",Bt(1,VNe))}function UNe(t,n){if(1&t){const e=ye();c(0,"main",7)(1,"app-feature-model-edit",8),z("updateFeatureModel",function(){return W(e),T().updateCompanyModel()}),u()()}if(2&t){const e=T();p(1),v("featureModel",e.companyModel)}}const zNe=function(){return["/","companyModels"]};let qNe=(()=>{class t{constructor(e,i){this.companyModelLoaderService=e,this.companyModelService=i}updateCompanyModel(){var e=this;return Y(function*(){null!=e.companyModel&&(yield e.companyModelService.save(e.companyModel))})()}get companyModel(){return this.companyModelLoaderService.companyModel}}return t.\u0275fac=function(e){return new(e||t)(H(ow),H(Lo))},t.\u0275cmp=He({type:t,selectors:[["app-company-model-edit"]],features:[Tt([ow])],decls:7,vars:5,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","nav-link active",3,"routerLink",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[3,"featureModel","updateFeatureModel"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3," Composed Models "),u(),k(4,GNe,2,4,"a",3),k(5,HNe,2,2,"a",4),u()(),k(6,UNe,2,1,"main",5)),2&e&&(p(2),v("routerLink",Bt(4,zNe)),p(2),v("ngIf",i.companyModel),p(1),v("ngIf",i.companyModel),p(1),v("ngIf",i.companyModel))},directives:[gn,nt,n4],styles:[""]}),t})();const $Ne=["deleteCompanyModelModal"];function WNe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",8),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteCompanyModel(r.modalCompanyModel._id),o()}),c(1,"div",9),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be("Delete Composed Model ",e.modalCompanyModel.name,""),p(1),Be(" You are deleting the composed model ",e.modalCompanyModel.name,". This can not be undone. ")}}function YNe(t,n){1&t&&k(0,WNe,4,2,"app-delete-modal",7),2&t&&v("ngIf",null!=T().modalCompanyModel)}const XNe=function(){return[]};let KNe=(()=>{class t{constructor(e,i,o,r){this.companyModelService=e,this.listService=i,this.modalService=o,this.router=r}addCompanyModel(e,i,o){var r=this;return Y(function*(){yield r.listService.add(r.companyModelService.createFeatureModel({name:i,description:o,$definition:e},e)),r.modelList.resetAddForm()})()}viewCompanyModel(e){var i=this;return Y(function*(){yield i.router.navigate(["/companyModels",e])})()}editCompanyModel(e){var i=this;return Y(function*(){yield i.router.navigate(["/companyModels",e,"edit"])})()}openDeleteCompanyModelModal(e){var i=this;return Y(function*(){i.modalCompanyModel=yield i.companyModelService.get(e),i.modalReference=i.modalService.open(i.deleteCompanyModelModal,{size:"lg"})})()}deleteCompanyModel(e){var i=this;return Y(function*(){yield i.listService.delete(e)})()}}return t.\u0275fac=function(e){return new(e||t)(H(Lo),H(Go),H(jn),H(oi))},t.\u0275cmp=He({type:t,selectors:[["app-company-models"]],viewQuery:function(e,i){if(1&e&&(Ft(ew,5),Ft($Ne,7)),2&e){let o;bt(o=yt())&&(i.modelList=o.first),bt(o=yt())&&(i.deleteCompanyModelModal=o.first)}},features:[Tt([Go,{provide:Vs,useExisting:Lo}])],decls:10,vars:2,consts:[["deleteCompanyModelModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[1,"my-3","alert","alert-info"],["modelListTitle","Composed Models","modelFormTitle","Add Composed Model",3,"viewModel","editModel","deleteModel","addModel"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""]],template:function(e,i){1&e&&(k(0,YNe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Composed Models"),u()()(),c(6,"main",4)(7,"div",5),g(8," Composed Models are used to represent merged canvas building blocks. "),u(),c(9,"app-model-list",6),z("viewModel",function(r){return i.viewCompanyModel(r)})("editModel",function(r){return i.editCompanyModel(r)})("deleteModel",function(r){return i.openDeleteCompanyModelModal(r)})("addModel",function(r){return i.addCompanyModel(r.definition,r.name,r.description)}),u()()),2&e&&(p(4),v("routerLink",Bt(1,XNe)))},directives:[nt,cr,gn,ew],styles:[""]}),t})();const QNe=function(){return[]};function JNe(t,n){if(1&t&&(c(0,"a",6),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,QNe)),p(1),Be(" ",e.companyModel.name," ")}}const ZNe=function(t){return["/","companyModels",t,"edit"]};function eRe(t,n){if(1&t&&(c(0,"a",2),g(1," Edit "),u()),2&t){const e=T();v("routerLink",Fn(1,ZNe,e.companyModel._id))}}function tRe(t,n){if(1&t){const e=ye();c(0,"li",25)(1,"span"),g(2),u(),c(3,"span")(4,"button",26),z("click",function(){const r=W(e).$implicit;return T(3).mergeExpertModel(r._id)}),g(5," Merge"),u(),g(6,"\xa0 "),c(7,"button",27),z("click",function(){const r=W(e).$implicit;return T(3).viewExpertModel(r._id)}),g(8," View"),u(),g(9,"\xa0 "),c(10,"button",28),z("click",function(){const r=W(e).$implicit;return T(3).unselectExpertModel(r._id)}),g(11," Unselect "),u()()()}if(2&t){const e=n.$implicit;p(2),_t(e.name)}}function nRe(t,n){if(1&t&&(c(0,"ul",23),k(1,tRe,12,1,"li",24),u()),2&t){const e=T(2);p(1),v("ngForOf",e.selectedExpertModelList)}}function iRe(t,n){if(1&t&&(c(0,"option",29),g(1),u()),2&t){const e=n.$implicit;v("value",e._id),p(1),Be(" ",e.name," ")}}function oRe(t,n){if(1&t){const e=ye();c(0,"main",7),re(1,"app-model-info-box",8),c(2,"div",9)(3,"h6",10),g(4),u(),re(5,"app-feature-model",8),u(),c(6,"div",9)(7,"h6",10),g(8,"Edit Composed Model"),u(),c(9,"div",11)(10,"app-feature-model-form",12),z("submitFeatureModelForm",function(o){return W(e),T().update(o.value)}),u()()(),c(11,"div",9)(12,"h6",10),g(13,"Edit Author Information"),u(),c(14,"div",11)(15,"app-author-form",13),z("submitAuthorForm",function(o){return W(e),T().updateAuthor(o.value)}),u()()(),c(16,"div",9)(17,"h6",10),g(18," Selected Canvas Building Blocks "),u(),k(19,nRe,2,1,"ul",14),u(),c(20,"div",9)(21,"h6",10),g(22," Select Canvas Building Block "),u(),c(23,"div",11)(24,"form",15),z("ngSubmit",function(){return W(e),T().selectExpertModel()}),c(25,"div",16)(26,"label",17),g(27,"Canvas Building Block"),u(),c(28,"div",18)(29,"select",19),k(30,iRe,2,2,"option",20),u()()(),c(31,"div",16)(32,"div",21)(33,"button",22),g(34," Add Canvas Building Block "),u()()()()()()()}if(2&t){const e=T();p(1),v("featureModel",e.companyModel),p(3),Be(" Composed Model ",e.companyModel.name," "),p(1),v("featureModel",e.companyModel),p(5),v("featureModel",e.companyModel),p(5),v("author",e.companyModel.author),p(4),v("ngIf",e.selectedExpertModelList),p(5),v("formGroup",e.selectedExpertModelForm),p(6),v("ngForOf",e.unselectedExpertModelList),p(3),v("disabled",!e.selectedExpertModelForm.valid)}}const rRe=function(){return["/","companyModels"]};let sRe=(()=>{class t{constructor(e,i,o,r,s,a){this.companyModelLoaderService=e,this.companyModelService=i,this.fb=o,this.mergeService=r,this.route=s,this.router=a,this.selectedExpertModelForm=this.fb.group({expertModelId:[null,ft.required]}),this.unselectedExpertModelList=[]}ngOnInit(){this.companyModelLoaderService.loaded.subscribe(()=>{null!=this.companyModel?this.loadExpertModels(this.companyModel._id):(this.selectedExpertModelList=void 0,this.unselectedExpertModelList=[])})}update(e){var i=this;return Y(function*(){null!=i.companyModel&&(yield i.companyModelService.update(i.companyModel._id,e))})()}updateAuthor(e){var i=this;return Y(function*(){null!=i.companyModel&&(yield i.companyModelService.updateAuthor(i.companyModel._id,e))})()}selectExpertModel(){var e=this;return Y(function*(){null!=e.companyModel&&(yield e.mergeService.selectExpertModel(e.companyModel._id,e.selectedExpertModelForm.value.expertModelId),e.selectedExpertModelForm.reset())})()}unselectExpertModel(e){var i=this;return Y(function*(){null!=i.companyModel&&(yield i.mergeService.unselectExpertModel(i.companyModel._id,e))})()}mergeExpertModel(e){var i=this;return Y(function*(){null!=i.companyModel&&(yield i.router.navigate(["/merge",i.companyModel._id,e]))})()}viewExpertModel(e){var i=this;return Y(function*(){yield i.router.navigate(["/expertModels",e])})()}loadExpertModels(e){var i=this;return Y(function*(){yield i.loadSelectedExpertModels(e),yield i.loadUnselectedExpertModels(e)})()}loadSelectedExpertModels(e){var i=this;return Y(function*(){i.selectedExpertModelList=yield i.mergeService.getSelectedExpertModels(e)})()}loadUnselectedExpertModels(e){var i=this;return Y(function*(){i.unselectedExpertModelList=yield i.mergeService.getUnselectedExpertModels(e)})()}get companyModel(){return this.companyModelLoaderService.companyModel}}return t.\u0275fac=function(e){return new(e||t)(H(ow),H(Lo),H(zt),H(J0),H(Jn),H(oi))},t.\u0275cmp=He({type:t,selectors:[["app-company-model"]],features:[Tt([ow])],decls:7,vars:5,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["class","nav-link",3,"routerLink",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[3,"featureModel"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"featureModel","submitFeatureModelForm"],[3,"author","submitAuthorForm"],["class","list-group inner","style","margin: 5px",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","expertModelSelector",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","expertModelSelector","formControlName","expertModelId",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[1,"list-group","inner",2,"margin","5px"],["class","\n          d-flex\n          list-group-item\n          justify-content-between\n          align-items-center\n        ",4,"ngFor","ngForOf"],[1,"d-flex","list-group-item","justify-content-between","align-items-center"],["type","button",1,"btn","btn-warning","btn-xs",3,"click"],["type","button",1,"btn","btn-dark","btn-xs",3,"click"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"],[3,"value"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3," Composed Models "),u(),k(4,JNe,2,3,"a",3),k(5,eRe,2,3,"a",4),u()(),k(6,oRe,35,9,"main",5)),2&e&&(p(2),v("routerLink",Bt(4,rRe)),p(2),v("ngIf",i.companyModel),p(1),v("ngIf",i.companyModel),p(1),v("ngIf",i.companyModel))},directives:[gn,nt,t4,nw,WG,G_,Lt,nn,Wt,Vt,ki,Jt,Zt,Vi,Hi],styles:[""]}),t})(),Jc=(()=>{class t{constructor(e){this.runningProcessService=e}resolveCreateCanvas(e,i,o){const r=t.getArtifactData(i,o);this.runningProcessService.finishExecuteStep(e,{outputArtifactData:[r]})}resolveCreateCanvasManually(e,i,o,r){var s=this;return Y(function*(){yield s.runningProcessService.addInternalArtifact(e,r,t.getArtifactData(i,o))})()}resolveEditCanvasManually(e,i){var o=this;return Y(function*(){yield o.runningProcessService.finishEditInternalArtifact(e,i)})()}resolveEditCanvas(e,i,o){const r=t.getArtifactData(i,o);this.runningProcessService.finishExecuteStep(e,{outputArtifactData:[r]})}static getArtifactData(e,i){return new Gl(void 0,{data:{type:"CompanyModel",id:e,instanceId:i},type:go.REFERENCE})}}return t.\u0275fac=function(e){return new(e||t)(Ve(to))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),XG=(()=>{class t{constructor(e){this.fb=e}createForm(e){const i=this.fb.group({name:["",ft.required],description:[""]});return e&&i.patchValue(e),i}get(e){return{name:e.name,description:e.description,type:ba.EXAMPLE}}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),o4=(()=>{class t{constructor(e){this.controlContainer=e}get formGroup(){return this.controlContainer.control}get nameControl(){return this.formGroup.get("name")}}return t.\u0275fac=function(e){return new(e||t)(H(Ko))},t.\u0275cmp=He({type:t,selectors:[["app-feature-model-instance-subform"]],decls:11,vars:3,consts:[[3,"formGroup"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],["for","description",1,"col-sm-4","col-form-label"],["type","text","formControlName","description","id","description",1,"form-control"]],template:function(e,i){1&e&&(St(0,0),c(1,"div",1)(2,"label",2),g(3,"Artifact Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8," Artifact Description "),u(),c(9,"div",3),re(10,"input",6),u()(),Et()),2&e&&(v("formGroup",i.formGroup),p(5),Ht("is-invalid",i.nameControl.invalid))},directives:[Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();function aRe(t,n){if(1&t&&(c(0,"section",14)(1,"h6"),g(2,"Description"),u(),c(3,"p",15),g(4),u()()),2&t){const e=T(3);p(4),_t(e.companyModel.definition.description)}}function lRe(t,n){if(1&t&&(c(0,"div",3)(1,"h6",11),g(2),u(),c(3,"section"),re(4,"app-feature-model",12),u(),k(5,aRe,5,1,"section",13),u()),2&t){const e=T(2);p(2),Be(" Canvas Artifact Preview: ",e.companyModel.definition.name," "),p(2),v("featureModel",e.companyModel),p(1),v("ngIf",e.companyModel.definition.description)}}function cRe(t,n){if(1&t){const e=ye();c(0,"main",2)(1,"div",3)(2,"h6",4),g(3,"Create Artifact"),u(),c(4,"div",5)(5,"form",6),z("ngSubmit",function(){return W(e),T().submit()}),re(6,"app-feature-model-instance-subform"),c(7,"div",7)(8,"div",8)(9,"button",9),g(10," Create Canvas Artifact "),u()()()()()(),k(11,lRe,6,3,"div",10),u()}if(2&t){const e=T();p(5),v("formGroup",e.form),p(4),v("disabled",!e.form.valid),p(2),v("ngIf",e.companyModel)}}let uRe=(()=>{class t{constructor(e,i,o,r){this.canvasResolveService=e,this.companyModelService=i,this.featureModelInstanceFormService=o,this.processApiService=r,this.form=this.featureModelInstanceFormService.createForm()}ngOnInit(){this.processApiService.loaded.subscribe(()=>this.loadCompanyModel())}submit(){var e=this;return Y(function*(){if(null!=e.processApiService.stepInfo&&null!=e.runningMethod){const i=yield e.companyModelService.get(e.runningMethod.decision.stepDecisions[e.runningMethod.currentStepNumber].companyModelId),o=e.featureModelInstanceFormService.get(e.form.value),r=i.addInstance(o).id;i.resetDatabaseState(),i.createdByMethod=!0,yield e.companyModelService.save(i),e.canvasResolveService.resolveCreateCanvas(e.processApiService.stepInfo,i._id,r)}})()}loadCompanyModel(){var e=this;return Y(function*(){if(null==e.runningMethod)throw new Error("Running Method still undefined");e.companyModel=yield e.companyModelService.get(e.runningMethod.decision.stepDecisions[e.runningMethod.currentStepNumber].companyModelId)})()}get runningMethod(){return this.processApiService.runningMethod}isCorrectStep(){return this.processApiService.isCorrectStep()}}return t.\u0275fac=function(e){return new(e||t)(H(Jc),H(Lo),H(XG),H(Wn))},t.\u0275cmp=He({type:t,selectors:[["app-create-canvas"]],features:[Tt([Wn])],decls:3,vars:1,consts:[["apiName","Create Canvas"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"border-bottom","border-gray","pb-2"],[3,"featureModel"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"mb-0"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0)(1,"app-step-errors"),k(2,cRe,12,3,"main",1)),2&e&&(p(2),v("ngIf",null!=i.runningMethod&&i.isCorrectStep()))},directives:[ur,cs,nt,nn,Wt,Vt,o4,nw],styles:[""]}),t})(),Hs=(()=>{class t extends Es{constructor(e,i){super(i),this.companyModelService=e}initParams(e){const i=e.get("companyModelId"),o=e.get("instanceId"),r=o?+o:void 0;null!=i&&null!=r&&(this.changesFeed=this.companyModelService.getChangesFeed(i).subscribe(()=>this.loadInstance(i,r)),this.loadInstance(i,r))}loadInstance(e,i){var o=this;return Y(function*(){o.companyModel=yield o.companyModelService.get(e),o.instance=o.companyModel.getInstance(i),o.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Lo),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();function dRe(t,n){1&t&&re(0,"app-step-errors")}function pRe(t,n){if(1&t){const e=ye();c(0,"button",14),z("click",function(){return W(e),T(2).checkConformance()}),g(1," Activate Conformance Checking of Business Model "),u()}}function mRe(t,n){if(1&t){const e=ye();c(0,"button",14),z("click",function(){return W(e),T(2).uncheckConformance()}),g(1," Deactivate Conformance Checking of Business Model "),u()}}function fRe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),_t(e)}}function hRe(t,n){if(1&t&&(c(0,"div",15)(1,"div",16)(2,"div",17)(3,"h6"),g(4,"Errors"),u(),c(5,"ul"),k(6,fRe,2,1,"li",18),u()()()()),2&t){const e=T(2);p(6),v("ngForOf",e.conformance.errors)}}function gRe(t,n){if(1&t){const e=ye();c(0,"div",5)(1,"app-running-process-method-comments",19),z("addComment",function(o){return W(e),T(2).addComment(o)})("updateComment",function(o){return W(e),T(2).updateComment(o)})("removeComment",function(o){return W(e),T(2).removeComment(o)}),u()()}if(2&t){const e=T(2);p(1),v("comments",e.runningMethod.comments)}}function _Re(t,n){if(1&t){const e=ye();c(0,"main",3)(1,"app-instance",4),z("updateFeatureModel",function(){return W(e),T().updateCompanyModel()}),u(),c(2,"div",5)(3,"h6",6),g(4,"Conformance Check"),u(),c(5,"div",7)(6,"div",8),k(7,pRe,2,0,"button",9),k(8,mRe,2,0,"button",9),u(),k(9,hRe,7,1,"div",10),u()(),k(10,gRe,2,1,"div",11),c(11,"div",5)(12,"h6",12),g(13,"Finish editing"),u(),c(14,"button",13),z("click",function(){return W(e),T().finish()}),g(15," Finish editing "),u()()()}if(2&t){const e=T();p(1),v("conformance",e.conformance)("conformanceIsChecked",e.conformanceIsChecked)("featureModel",e.companyModel)("instance",e.instance)("adaptable",!1)("updatable",!1),p(6),v("ngIf",!e.conformanceIsChecked),p(1),v("ngIf",e.conformanceIsChecked),p(1),v("ngIf",e.conformanceIsChecked),p(1),v("ngIf",null!=e.runningMethod)}}let vRe=(()=>{class t{constructor(e,i,o,r,s,a){this.canvasModelConsistencyService=e,this.canvasResolveService=i,this.companyModelService=o,this.instanceLoaderService=r,this.processApiService=s,this.runningProcessService=a,this.conformanceIsChecked=!1,this.conformance=new Qc}ngOnInit(){this.instanceLoaderService.loaded.subscribe(()=>{this.conformanceIsChecked?this.checkConformance():this.uncheckConformance()})}uncheckConformance(){this.conformanceIsChecked=!1,this.conformance=new Qc}checkConformance(){null!=this.companyModel&&null!=this.instance&&(this.conformance=this.canvasModelConsistencyService.checkConformanceOfInstance(this.companyModel,this.instance.id,[]),this.conformanceIsChecked=!0)}addComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.addComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}updateComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.updateComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}removeComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.removeComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}finish(){var e=this;return Y(function*(){null==e.companyModel||null==e.instance||(null!=e.processApiService.stepInfo&&null!=e.processApiService.stepInfo.step?e.canvasResolveService.resolveEditCanvas(e.processApiService.stepInfo,e.companyModel._id,e.instance.id):null!=e.runningProcess&&null!=e.processApiService.artifactVersionId&&(yield e.canvasResolveService.resolveEditCanvasManually(e.runningProcess._id,e.processApiService.artifactVersionId)))})()}updateCompanyModel(){var e=this;return Y(function*(){null!=e.companyModel&&(yield e.companyModelService.save(e.companyModel))})()}get companyModel(){return this.instanceLoaderService.companyModel}get instance(){return this.instanceLoaderService.instance}get runningProcess(){return this.processApiService.runningProcess}get runningMethod(){return this.processApiService.runningMethod}isCorrectStep(){return this.processApiService.isCorrectStep()}}return t.\u0275fac=function(e){return new(e||t)(H(q_),H(Jc),H(Lo),H(Hs),H(Wn),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-edit-canvas"]],features:[Tt([K0,Hs,Wn])],decls:3,vars:2,consts:[["apiName","Edit Canvas"],[4,"ngIf"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[3,"conformance","conformanceIsChecked","featureModel","instance","adaptable","updatable","updateFeatureModel"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"container"],[1,"row",2,"margin-top","20px"],["type","button","class","btn btn-dark btn-sm btn-block",3,"click",4,"ngIf"],["style","margin-top: 20px",4,"ngIf"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"border-bottom","border-gray","pb-2"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"],["type","button",1,"btn","btn-dark","btn-sm","btn-block",3,"click"],[2,"margin-top","20px"],[1,"row"],[1,"col"],[4,"ngFor","ngForOf"],[3,"comments","addComment","updateComment","removeComment"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0),k(1,dRe,1,0,"app-step-errors",1),k(2,_Re,16,10,"main",2)),2&e&&(p(1),v("ngIf",null==i.companyModel||null==i.instance||null==i.runningProcess),p(1),v("ngIf",null!=i.companyModel&&null!=i.instance&&null!=i.runningProcess))},directives:[ur,nt,cs,_p,Lt,Ts],styles:[""]}),t})();const bRe=["deleteCanvasDefinitionModal"];function yRe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",22),z("delete",function(){W(e);const o=T().close,r=T();return r.deleteCanvasDefinition(r.modalCanvas._id),o()})("dismiss",function(){return W(e),T().dismiss()}),c(1,"div",23),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be("Delete Canvas Model ",e.modalCanvas.name,""),p(1),Be(" You are deleting the canvas model ",e.modalCanvas.name,". The deletion can not be undone. The canvas building blocks that are using it will still be available after the deletion. ")}}function wRe(t,n){1&t&&k(0,yRe,4,2,"app-delete-modal",21),2&t&&v("ngIf",null!=T().modalCanvas)}const xRe=function(t){return[t]};function CRe(t,n){if(1&t){const e=ye();c(0,"li",24)(1,"div")(2,"span"),g(3),u()(),c(4,"div")(5,"a",25),g(6,"View"),u(),c(7,"button",26),z("click",function(){const r=W(e).$implicit;return T().openDeleteCanvasDefinitionModal(r)}),g(8," Delete "),u()()()}if(2&t){const e=n.$implicit;p(3),_t(e.name),p(2),v("routerLink",Fn(2,xRe,e._id))}}const MRe=function(){return[]};let SRe=(()=>{class t{constructor(e,i,o){this.fb=e,this.listService=i,this.modalService=o,this.addCanvasDefinitionForm=this.fb.group({name:["",ft.required]})}addCanvasDefinition(){var e=this;return Y(function*(){yield e.listService.add({name:e.nameControl.value}),e.addCanvasDefinitionForm.reset()})()}openDeleteCanvasDefinitionModal(e){this.modalCanvas=e,this.modalReference=this.modalService.open(this.deleteCanvasDefinitionModal,{size:"lg"})}deleteCanvasDefinition(e){var i=this;return Y(function*(){yield i.listService.delete(e)})()}get nameControl(){return this.addCanvasDefinitionForm.get("name")}get canvasDefinitions(){return this.listService.elements}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(Go),H(jn))},t.\u0275cmp=He({type:t,selectors:[["app-canvas-definitions"]],viewQuery:function(e,i){if(1&e&&Ft(bRe,7),2&e){let o;bt(o=yt())&&(i.deleteCanvasDefinitionModal=o.first)}},features:[Tt([Go,{provide:Vs,useExisting:Bu}])],decls:28,vars:10,consts:[["deleteCanvasDefinitionModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Canvas Models",3,"reloading","loading","noResults"],["noResults",""],["results","",1,"list-group"],["class","\n          d-flex\n          list-group-item\n          justify-content-between\n          align-items-baseline\n        ",4,"ngFor","ngForOf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"delete","dismiss",4,"ngIf"],[3,"delete","dismiss"],["modalTitle",""],[1,"d-flex","list-group-item","justify-content-between","align-items-baseline"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"routerLink"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"]],template:function(e,i){1&e&&(k(0,wRe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Canvas Models"),u()()(),c(6,"main",4)(7,"div",5),g(8," Canvas models are used to define different types of canvases, e.g., business model canvas and value proposition canvas. "),u(),c(9,"app-list-wrapper",6)(10,"div",7),g(11,"No canvas models available."),u(),c(12,"ul",8),k(13,CRe,9,4,"li",9),u()(),c(14,"div",10)(15,"h6",11),g(16,"Add Canvas Model"),u(),c(17,"div",12)(18,"form",13),z("ngSubmit",function(){return i.addCanvasDefinition()}),c(19,"div",14)(20,"label",15),g(21,"Name"),u(),c(22,"div",16),re(23,"input",17),u()(),c(24,"div",18)(25,"div",19)(26,"button",20),g(27," Add "),u()()()()()()()),2&e&&(p(4),v("routerLink",Bt(9,MRe)),p(5),v("reloading",i.reloading)("loading",i.loading)("noResults",i.noResults),p(4),v("ngForOf",i.canvasDefinitions),p(5),v("formGroup",i.addCanvasDefinitionForm),p(5),Ht("is-invalid",i.nameControl.invalid&&i.nameControl.touched),p(3),v("disabled",!i.addCanvasDefinitionForm.valid))},directives:[nt,cr,gn,Ss,Lt,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})(),KG=(()=>{class t extends Es{constructor(e,i){super(i),this.canvasDefinitionService=e}initParams(e){const i=e.get("id");null!=i&&(this.changesFeed=this.canvasDefinitionService.getChangesFeed(i).subscribe(()=>this.loadCanvasDefinition(i)),this.loadCanvasDefinition(i))}loadCanvasDefinition(e){var i=this;return Y(function*(){i.canvasDefinition=yield i.canvasDefinitionService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(Bu),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),QG=(()=>{class t{constructor(e){this.fb=e}createForm(e){let i=[];return null!=e&&(i=e.map(o=>this.fb.array(o.map(r=>this.createCanvasDefinitionCellForm(r))))),this.fb.array(i)}createCanvasDefinitionCellForm(e){var i,o;const r=this.fb.group({isSpacer:[!1,ft.required],name:["",ft.required],id:[""],rowspan:[1,[ft.required,ft.min(1)]],colspan:[1,[ft.required,ft.min(1)]],guidingQuestions:this.fb.array(null!==(i=null==e?void 0:e.guidingQuestions.map(()=>["",ft.required]))&&void 0!==i?i:[]),examples:this.fb.array(null!==(o=null==e?void 0:e.examples.map(()=>["",ft.required]))&&void 0!==o?o:[])});return null!=e&&(e.isSpacer&&(r.removeControl("name"),r.removeControl("id")),r.patchValue(e)),r}convertCanvasDefinitionCellForm(e,i){i?(e.removeControl("name"),e.removeControl("id")):(e.setControl("name",this.fb.control("",ft.required)),e.setControl("id",this.fb.control("")))}getCanvasDefinitionCellForm(e){return new _v(void 0,e.isSpacer?{isSpacer:e.isSpacer,rowspan:e.rowspan,colspan:e.colspan,guidingQuestions:e.guidingQuestions,examples:e.examples}:{isSpacer:e.isSpacer,name:e.name,rowspan:e.rowspan,colspan:e.colspan,id:e.id,guidingQuestions:e.guidingQuestions,examples:e.examples})}get(e){return e.map(i=>i.map(o=>this.getCanvasDefinitionCellForm(o)))}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ERe(t,n){1&t&&re(0,"div",33)}function TRe(t,n){if(1&t&&(c(0,"div",17)(1,"label",18),g(2,"Name"),u(),re(3,"input",34),u()),2&t){const e=T().index;p(1),Pi("for","inputName",e,""),p(2),Pi("id","inputName",e,"")}}function PRe(t,n){if(1&t){const e=ye();c(0,"div",16)(1,"div",35)(2,"label",18),g(3,"Guiding Question"),u(),c(4,"div",24),re(5,"input",36),c(6,"div",26)(7,"button",27),z("click",function(){const r=W(e).index,s=T().index,a=T(2).index;return T().removeGuidingQuestion(a,s,r)}),g(8," Remove "),u()()()()()}if(2&t){const e=n.index;p(2),Pi("for","inputQuestion",e,""),p(3),Pi("id","inputQuestion",e,""),pa("formControlName",e)}}function DRe(t,n){if(1&t){const e=ye();c(0,"div",16)(1,"div",35)(2,"label",18),g(3,"Example"),u(),c(4,"div",24),re(5,"input",36),c(6,"div",26)(7,"button",27),z("click",function(){const r=W(e).index,s=T().index,a=T(2).index;return T().removeExample(a,s,r)}),g(8," Remove "),u()()()()()}if(2&t){const e=n.index;p(2),Pi("for","inputExample",e,""),p(3),Pi("id","inputExample",e,""),pa("formControlName",e)}}function FRe(t,n){if(1&t){const e=ye();c(0,"li",15)(1,"b"),g(2),u(),c(3,"div",16)(4,"div",17)(5,"label",18),g(6,"Element or Spacer"),u(),c(7,"select",19),z("change",function(){const r=W(e).index,s=T(2).index;return T().spacerChange(s,r)}),c(8,"option",20),g(9,"Element"),u(),c(10,"option",20),g(11,"Spacer"),u()()(),k(12,ERe,1,0,"div",21),k(13,TRe,4,2,"div",22),c(14,"div",17)(15,"label",18),g(16,"Rowspan"),u(),re(17,"input",23),u(),c(18,"div",17)(19,"label",18),g(20,"Colspan"),u(),c(21,"div",24),re(22,"input",25),c(23,"div",26)(24,"button",27),z("click",function(){const r=W(e).index,s=T(2).index;return T().removeBlock(s,r)}),g(25," Remove "),u()()()()(),St(26,28),k(27,PRe,9,3,"div",29),Et(),c(28,"div",30)(29,"button",31),z("click",function(){const r=W(e).index,s=T(2).index;return T().addGuidingQuestion(s,r)}),g(30," Add guiding Question "),u()(),St(31,32),k(32,DRe,9,3,"div",29),Et(),c(33,"div",7)(34,"button",31),z("click",function(){const r=W(e).index,s=T(2).index;return T().addExample(s,r)}),g(35," Add example "),u()()()}if(2&t){const e=n.$implicit,i=n.index,o=T(3);v("formGroupName",i.toString()),p(2),Xi("",i+1,". Block: ",e.value.name,""),p(3),Pi("for","selectSpacer",i,""),p(2),Pi("id","selectSpacer",i,""),p(1),v("ngValue",!1),p(2),v("ngValue",!0),p(2),v("ngIf",e.value.isSpacer),p(1),v("ngIf",!e.value.isSpacer),p(2),Pi("for","inputRowspan",i,""),p(2),Pi("id","inputRowspan",i,""),v("min",1),p(2),Pi("for","inputColspan",i,""),p(3),Pi("id","inputColspan",i,""),v("min",1),p(5),v("ngForOf",o.asFormArray(e.get("guidingQuestions")).controls),p(5),v("ngForOf",o.asFormArray(e.get("examples")).controls)}}function ARe(t,n){if(1&t&&(c(0,"div",12)(1,"ul",13),k(2,FRe,36,17,"li",14),u()()),2&t){const e=T().$implicit,i=T();p(2),v("ngForOf",i.asFormArray(e).controls)}}function IRe(t,n){if(1&t){const e=ye();c(0,"li",6)(1,"div",7)(2,"b"),g(3),u(),c(4,"button",8),z("click",function(){const r=W(e).index;return T().addBlock(r)}),g(5," Add Block "),u(),c(6,"button",9),z("click",function(){const r=W(e).index;return T().addRow(r)}),g(7," Add Row above "),u(),c(8,"button",10),z("click",function(){const r=W(e).index;return T().removeRow(r)}),g(9," Remove "),u()(),k(10,ARe,3,1,"div",11),u()}if(2&t){const e=n.$implicit,i=n.index,o=T();v("formArrayName",i.toString()),p(3),Be("",i+1,". Row"),p(7),v("ngIf",o.asFormArray(e).length>0)}}function kRe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let NRe=(()=>{class t{constructor(e,i){this.canvasDefinitionRowFormService=e,this.fb=i,this.submitForm=new je,this.form=this.fb.group({rows:this.fb.array([])}),this.changed=!1}ngOnInit(){this.changeSubscription=this.form.valueChanges.pipe($i(300),un(e=>this.changed=!this.equalCanvasDefinitionRows(this.canvasDefinitionRows,this.canvasDefinitionRowFormService.get(e.rows)))).subscribe()}ngOnChanges(e){if(e.canvasDefinitionRows){const i=e.canvasDefinitionRows.currentValue;this.equalCanvasDefinitionRows(e.canvasDefinitionRows.previousValue,i)||this.loadForm(i)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}emitSubmitForm(){this.submitForm.emit(this.rowsFormArray)}addRow(e){null==e?this.rowsFormArray.push(this.fb.array([])):this.rowsFormArray.insert(e,this.fb.array([]))}removeRow(e){this.rowsFormArray.removeAt(e)}addBlock(e){this.getRow(e).push(this.canvasDefinitionRowFormService.createCanvasDefinitionCellForm())}spacerChange(e,i){const o=this.getBlock(e,i);this.canvasDefinitionRowFormService.convertCanvasDefinitionCellForm(o,o.value.isSpacer)}removeBlock(e,i){this.getRow(e).removeAt(i)}addGuidingQuestion(e,i){this.getBlock(e,i).get("guidingQuestions").push(this.fb.control("",ft.required))}removeGuidingQuestion(e,i,o){this.getBlock(e,i).get("guidingQuestions").removeAt(o)}addExample(e,i){this.getBlock(e,i).get("examples").push(this.fb.control("",ft.required))}removeExample(e,i,o){this.getBlock(e,i).get("examples").removeAt(o)}getRow(e){return this.rowsFormArray.at(e)}getBlock(e,i){return this.getRow(e).at(i)}asFormArray(e){return e}loadForm(e){this.form.setControl("rows",this.canvasDefinitionRowFormService.createForm(e))}equalCanvasDefinitionRows(e,i){return null==e&&null==i||null!=e&&null!=i&&b7(e,i)}get nameControl(){return this.form.get("name")}get rowsFormArray(){return this.form.get("rows")}}return t.\u0275fac=function(e){return new(e||t)(H(QG),H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-canvas-definition-row-form"]],inputs:{canvasDefinitionRows:"canvasDefinitionRows"},outputs:{submitForm:"submitForm"},features:[Xt],decls:8,vars:8,consts:[[3,"formGroup","ngSubmit"],["type","button",1,"btn","btn-block","btn-sm","btn-primary","mb-3",3,"click"],["formArrayName","rows",1,"list-group","shadow-sm"],["class","list-group-item",3,"formArrayName",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-sm","btn-block","mt-3",3,"disabled"],[4,"ngIf"],[1,"list-group-item",3,"formArrayName"],[1,"d-flex"],["type","button",1,"btn","btn-xs","btn-primary","ml-auto",3,"click"],["type","button",1,"btn","btn-xs","btn-secondary","ml-3",3,"click"],["type","button",1,"btn","btn-xs","btn-dark","ml-3",3,"click"],["class","form-group mt-2",4,"ngIf"],[1,"form-group","mt-2"],[1,"list-group","shadow-sm"],["class","list-group-item",3,"formGroupName",4,"ngFor","ngForOf"],[1,"list-group-item",3,"formGroupName"],[1,"form-row"],[1,"form-group","col-md-3"],[3,"for"],["formControlName","isSpacer",1,"form-control",3,"id","change"],[3,"ngValue"],["class","col-md-3",4,"ngIf"],["class","form-group col-md-3",4,"ngIf"],["type","number","formControlName","rowspan",1,"form-control",3,"min","id"],[1,"input-group"],["type","number","formControlName","colspan",1,"form-control",3,"min","id"],[1,"input-group-append"],["type","button",1,"btn","btn-dark","form-control",3,"click"],["formArrayName","guidingQuestions"],["class","form-row",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],["type","button",1,"btn","btn-xs","btn-secondary","ml-auto",3,"click"],["formArrayName","examples"],[1,"col-md-3"],["formControlName","name",1,"form-control",3,"id"],[1,"form-group","col-md-12"],[1,"form-control",3,"id","formControlName"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.emitSubmitForm()}),c(1,"button",1),z("click",function(){return i.addRow()}),g(2," Add row "),u(),c(3,"ul",2),k(4,IRe,11,3,"li",3),u(),c(5,"button",4),g(6," Update"),k(7,kRe,2,0,"span",5),u()()),2&e&&(v("formGroup",i.form),p(4),v("ngForOf",i.rowsFormArray.controls),p(1),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.form.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,vo,Lt,nt,kr,ki,Jt,Zt,Vi,Hi,wn,Jy,Zy],styles:[""]}),t})();function RRe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function ORe(t,n){if(1&t&&(c(0,"ul"),k(1,RRe,2,1,"li",1),u()),2&t){const e=T(2).$implicit;p(1),v("ngForOf",e.guidingQuestions)}}function BRe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function LRe(t,n){if(1&t&&(c(0,"ul"),k(1,BRe,2,1,"li",1),u()),2&t){const e=T(2).$implicit;p(1),v("ngForOf",e.examples)}}function jRe(t,n){if(1&t&&(c(0,"td",3)(1,"b"),g(2),u(),k(3,ORe,2,1,"ul",4),k(4,LRe,2,1,"ul",4),u()),2&t){const e=T().$implicit;v("colSpan",e.colspan)("rowSpan",e.rowspan),p(2),_t(e.name),p(1),v("ngIf",e.guidingQuestions.length>0),p(1),v("ngIf",e.examples.length>0)}}function GRe(t,n){if(1&t&&re(0,"td",3),2&t){const e=T().$implicit;v("colSpan",e.colspan)("rowSpan",e.rowspan)}}function VRe(t,n){if(1&t&&(St(0),k(1,jRe,5,5,"td",2),k(2,GRe,1,2,"td",2),Et()),2&t){const e=n.$implicit;p(1),v("ngIf",!e.isSpacer),p(1),v("ngIf",e.isSpacer)}}function HRe(t,n){if(1&t&&(c(0,"tr"),k(1,VRe,3,2,"ng-container",1),u()),2&t){const e=n.$implicit;p(1),v("ngForOf",e)}}let URe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-canvas-definition-overview"]],inputs:{canvasDefinitionCells:"canvasDefinitionCells"},decls:3,vars:1,consts:[[1,"table","table-bordered",2,"table-layout","fixed"],[4,"ngFor","ngForOf"],[3,"colSpan","rowSpan",4,"ngIf"],[3,"colSpan","rowSpan"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"table",0)(1,"tbody"),k(2,HRe,2,1,"tr",1),u()()),2&e&&(p(2),v("ngForOf",i.canvasDefinitionCells))},directives:[Lt,nt],styles:[""]}),t})();function zRe(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let qRe=(()=>{class t{constructor(e){this.fb=e,this.submitRelationshipTypesForm=new je,this.form=this.fb.group({relationshipTypes:this.fb.array([])}),this.changed=!1}ngOnInit(){this.changeSubscription=this.form.valueChanges.pipe($i(300),un(e=>this.changed=!this.equals(this.relationshipTypes,e.relationshipTypes))).subscribe()}ngOnChanges(e){if(e.relationshipTypes){const o=e.relationshipTypes.currentValue;this.equals(o,e.relationshipTypes.previousValue)||this.loadForm(o)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}equals(e,i){return mv(e,i)}loadForm(e){this.form.setControl("relationshipTypes",this.fb.array(e.map(i=>this.fb.control(i,ft.required))))}submitForm(){this.submitRelationshipTypesForm.emit(this.formArray)}get formArray(){return this.form.get("relationshipTypes")}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-canvas-definition-relationships-form"]],inputs:{relationshipTypes:"relationshipTypes"},outputs:{submitRelationshipTypesForm:"submitRelationshipTypesForm"},features:[Xt],decls:8,vars:9,consts:[[3,"formGroup","ngSubmit"],["formArrayName","relationshipTypes",1,"form-group"],["elementName","Relationship Name",3,"formArray","ordered"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submitForm()}),c(1,"div",1),re(2,"app-form-array-list",2),u(),c(3,"div",3)(4,"div",4)(5,"button",5),g(6," Update Relationships"),k(7,zRe,2,0,"span",6),u()()()()),2&e&&(v("formGroup",i.form),p(2),v("formArray",i.formArray)("ordered",!1),p(3),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.form.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,vo,z0,nt],styles:[""]}),t})();function $Re(t,n){1&t&&(c(0,"span"),g(1," (unsaved changes)"),u())}let WRe=(()=>{class t{constructor(e){this.fb=e,this.submitForm=new je,this.form=this.fb.group({name:["",ft.required],description:[""]}),this.changed=!1}ngOnInit(){this.changeSubscription=this.form.valueChanges.pipe($i(300),un(e=>this.changed=!this.equalCanvasDefinitions(this.canvasDefinition,e))).subscribe()}ngOnChanges(e){if(e.canvasDefinition){const i=e.canvasDefinition.currentValue;this.equalCanvasDefinitions(e.canvasDefinition.previousValue,i)||this.loadForm(i)}}ngOnDestroy(){null!=this.changeSubscription&&this.changeSubscription.unsubscribe()}emitSubmitForm(){this.submitForm.emit(this.form)}loadForm(e){this.form.patchValue(null!=e?{name:e.name,description:e.description}:{name:"",description:""})}equalCanvasDefinitions(e,i){return null==e&&null==i||null!=e&&null!=i&&e.name===i.name&&e.description===i.description}get nameControl(){return this.form.get("name")}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-canvas-definition-form"]],inputs:{canvasDefinition:"canvasDefinition"},outputs:{submitForm:"submitForm"},features:[Xt],decls:16,vars:9,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],["for","description",1,"col-sm-4","col-form-label"],["formControlName","description","id","description","rows","3",1,"form-control"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-block",3,"disabled"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.emitSubmitForm()}),c(1,"div",1)(2,"label",2),g(3,"Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8,"Description"),u(),c(9,"div",3),re(10,"textarea",6),u()(),c(11,"div",7)(12,"div",8)(13,"button",9),g(14," Update Canvas Model"),k(15,$Re,2,0,"span",10),u()()()()),2&e&&(v("formGroup",i.form),p(5),Ht("is-invalid",i.nameControl.invalid&&i.nameControl.touched),p(8),Ht("btn-dark",!i.changed)("btn-primary",i.changed),v("disabled",!i.form.valid),p(2),v("ngIf",i.changed))},directives:[nn,Wt,Vt,wn,Jt,Zt,nt],styles:[""]}),t})();const YRe=function(){return[]};function XRe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,YRe)),p(1),_t(e.canvasDefinition.name)}}function KRe(t,n){if(1&t){const e=ye();c(0,"main",6)(1,"div",7)(2,"h6",8),g(3,"Canvas Model"),u(),c(4,"app-canvas-definition-row-form",9,10),z("submitForm",function(o){return W(e),T().submitRowForm(o.value)}),u()(),c(6,"div",7)(7,"h6",8),g(8,"Canvas Model Overview"),u(),re(9,"app-canvas-definition-overview",11),ci(10,"async"),u(),c(11,"div",7)(12,"h6",8),g(13,"Canvas Model Relationships"),u(),c(14,"app-canvas-definition-relationships-form",12),z("submitRelationshipTypesForm",function(o){return W(e),T().update({relationshipTypes:o.value})}),u()(),c(15,"div",7)(16,"h6",8),g(17,"Edit Canvas Model"),u(),c(18,"div",13)(19,"app-canvas-definition-form",14),z("submitForm",function(o){return W(e),T().update(o.value)}),u()()()()}if(2&t){const e=hn(5),i=T();p(4),v("canvasDefinitionRows",i.canvasDefinition.rows),p(5),v("canvasDefinitionCells",i.toCanvasDefinitionRows(Io(10,4,e.form.valueChanges))),p(5),v("relationshipTypes",i.canvasDefinition.relationshipTypes),p(5),v("canvasDefinition",i.canvasDefinition)}}const QRe=function(){return["/","canvas","definitions"]};let JRe=(()=>{class t{constructor(e,i,o){this.canvasDefinitionLoaderService=e,this.canvasDefinitionRowFormService=i,this.canvasDefinitionService=o,this.canvas=[]}ngOnDestroy(){null!=this.formSubscription&&this.formSubscription.unsubscribe()}submitRowForm(e){var i=this;return Y(function*(){if(null!=i.canvasDefinition){const o=i.canvasDefinitionRowFormService.get(e);yield i.canvasDefinitionService.updateRows(i.canvasDefinition._id,o)}})()}toCanvasDefinitionRows(e){return null!=this.canvasDefinition?null==e?this.canvasDefinition.rows:this.canvasDefinitionRowFormService.get(e.rows):this.canvasDefinitionRowFormService.get([])}update(e){var i=this;return Y(function*(){null!=i.canvasDefinition&&(yield i.canvasDefinitionService.update(i.canvasDefinition._id,e))})()}get canvasDefinition(){return this.canvasDefinitionLoaderService.canvasDefinition}}return t.\u0275fac=function(e){return new(e||t)(H(KG),H(QG),H(Bu))},t.\u0275cmp=He({type:t,selectors:[["app-canvas-definition"]],features:[Tt([KG])],decls:6,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[3,"canvasDefinitionRows","submitForm"],["canvasDefinitionRowFormComponent",""],[3,"canvasDefinitionCells"],[3,"relationshipTypes","submitRelationshipTypesForm"],[1,"text-muted","pt-3"],[3,"canvasDefinition","submitForm"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3,"Canvas Models"),u(),k(4,XRe,2,3,"a",3),u()(),k(5,KRe,20,6,"main",4)),2&e&&(p(2),v("routerLink",Bt(3,QRe)),p(2),v("ngIf",i.canvasDefinition),p(1),v("ngIf",i.canvasDefinition))},directives:[gn,nt,NRe,URe,qRe,WRe],pipes:[YD],styles:[""]}),t})();const ZRe=function(){return["/","bmprocess"]};function eOe(t,n){1&t&&(c(0,"a",6),g(1,"Business Model Development Methods"),u()),2&t&&v("routerLink",Bt(1,ZRe))}const tOe=function(t){return["/","bmprocess","bmprocessview",t]};function nOe(t,n){if(1&t&&(c(0,"a",6),g(1),u()),2&t){const e=T(2);v("routerLink",Fn(2,tOe,e.bmProcess._id)),p(1),_t(e.bmProcess.name)}}const iOe=function(t){return["/","runningprocess","runningprocessview",t]};function oOe(t,n){if(1&t&&(c(0,"a",6),g(1),ci(2,"runningProcessName"),u()),2&t){const e=T(2);v("routerLink",Fn(4,iOe,e.runningProcess._id)),p(1),Be(" ",Io(2,2,e.runningProcess)," ")}}const rOe=function(){return[]},sOe=function(t,n){return{bmProcessId:t,runningProcessId:n}};function aOe(t,n){if(1&t&&(c(0,"nav",3),k(1,eOe,2,2,"a",4),k(2,nOe,2,4,"a",4),k(3,oOe,3,6,"a",4),c(4,"a",5),g(5),u()()),2&t){const e=T();p(1),v("ngIf",null!=e.bmProcess),p(1),v("ngIf",null!=e.bmProcess),p(1),v("ngIf",null!=e.runningProcess),p(1),v("routerLink",Bt(6,rOe))("queryParams",fa(7,sOe,null==e.bmProcess?null:e.bmProcess._id,null==e.runningProcess?null:e.runningProcess._id)),p(1),_t(e.companyModel.name)}}function lOe(t,n){if(1&t&&(c(0,"li",24),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e.name," ")}}function cOe(t,n){if(1&t&&(c(0,"option",25),g(1),u()),2&t){const e=n.$implicit;v("value",e._id),p(1),Be(" ",e.name," ")}}function uOe(t,n){if(1&t){const e=ye();c(0,"li",28)(1,"span"),g(2),u(),c(3,"span")(4,"button",29),z("click",function(){const r=W(e).$implicit;return T(3).mergeExpertModel(r._id)}),g(5," Merge "),u(),c(6,"button",30),z("click",function(){const r=W(e).$implicit;return T(3).unselectExpertModel(r._id)}),g(7," Unselect "),u()()()}if(2&t){const e=n.$implicit;p(2),_t(e.name)}}function dOe(t,n){if(1&t&&(c(0,"ul",26),k(1,uOe,8,1,"li",27),u()),2&t){const e=T(2);p(1),v("ngForOf",e.selectedExpertModelList)}}function pOe(t,n){if(1&t){const e=ye();c(0,"main",7),re(1,"app-model-info-box",8),c(2,"div",9)(3,"h6",10),g(4,"Domains"),u(),c(5,"ul",11),k(6,lOe,2,1,"li",12),u()(),c(7,"div",9)(8,"h6",13),g(9," Select Canvas Building Block "),u(),c(10,"div",14)(11,"form",15),z("ngSubmit",function(){return W(e),T().selectExpertModel()}),c(12,"div",16)(13,"label",17),g(14,"Canvas Building Block"),u(),c(15,"div",18)(16,"select",19),k(17,cOe,2,2,"option",20),u()()(),c(18,"div",16)(19,"div",21)(20,"button",22),g(21," Add Canvas Building Block "),u()()()()()(),c(22,"div",9)(23,"h6",13),g(24," Selected Canvas Building Blocks "),u(),k(25,dOe,2,1,"ul",23),u()()}if(2&t){const e=T();p(1),v("featureModel",e.companyModel),p(5),v("ngForOf",e.domains),p(5),v("formGroup",e.selectedExpertModelForm),p(6),v("ngForOf",e.unselectedExpertModelList),p(3),v("disabled",!e.selectedExpertModelForm.valid),p(5),v("ngIf",e.selectedExpertModelList)}}let mOe=(()=>{class t{constructor(e,i,o,r,s,a,l){this.bmProcessService=e,this.companyModelService=i,this.fb=o,this.mergeService=r,this.route=s,this.router=a,this.runningProcessService=l,this.selectedExpertModelForm=this.fb.group({expertModelId:[null,ft.required]}),this.unselectedExpertModelList=[]}ngOnInit(){this.querySubscription=this.route.queryParamMap.subscribe(e=>{const i=e.get("bmProcessId");null!=i?this.loadBmProcess(i):this.bmProcess=void 0;const o=e.get("runningProcessId");null!=o?this.loadRunningProcess(o):this.runningProcess=void 0}),this.routeSubscription=this.route.paramMap.subscribe(e=>{const i=e.get("id");null!=i&&this.loadCompanyModel(i)})}ngOnDestroy(){null!=this.querySubscription&&this.querySubscription.unsubscribe(),null!=this.routeSubscription&&this.routeSubscription.unsubscribe()}loadCompanyModel(e){var i=this;return Y(function*(){i.companyModel=yield i.companyModelService.get(e),yield i.loadExpertModels(e)})()}loadBmProcess(e){var i=this;return Y(function*(){i.bmProcess=yield i.bmProcessService.get(e)})()}loadRunningProcess(e){var i=this;return Y(function*(){i.runningProcess=yield i.runningProcessService.get(e)})()}mergeExpertModel(e){var i=this;return Y(function*(){var o,r;null!=i.companyModel&&(yield i.router.navigate(["/merge",i.companyModel._id,e],{queryParams:{bmProcessId:null===(o=i.bmProcess)||void 0===o?void 0:o._id,runningProcessId:null===(r=i.runningProcess)||void 0===r?void 0:r._id}}))})()}selectExpertModel(){var e=this;return Y(function*(){null!=e.companyModel&&(yield e.mergeService.selectExpertModel(e.companyModel._id,e.selectedExpertModelForm.value.expertModelId),e.selectedExpertModelForm.reset(),yield e.loadExpertModels(e.companyModel._id))})()}unselectExpertModel(e){var i=this;return Y(function*(){null!=i.companyModel&&(yield i.mergeService.unselectExpertModel(i.companyModel._id,e),yield i.loadExpertModels(i.companyModel._id))})()}loadExpertModels(e){var i=this;return Y(function*(){yield i.loadSelectedExpertModels(e),yield i.loadUnselectedExpertModels(e)})()}loadSelectedExpertModels(e){var i=this;return Y(function*(){i.selectedExpertModelList=yield i.mergeService.getSelectedExpertModels(e)})()}loadUnselectedExpertModels(e){var i=this;return Y(function*(){const o=yield i.mergeService.getUnselectedExpertModels(e);i.unselectedExpertModelList=i.domains.length>0?o.filter(r=>!!r.domains&&r.domains.some(s=>i.domains.some(a=>a._id===s._id))):o})()}get domains(){return null!=this.bmProcess?this.bmProcess.domains:null!=this.runningProcess?this.runningProcess.domains:[]}}return t.\u0275fac=function(e){return new(e||t)(H(Na),H(Lo),H(zt),H(J0),H(Jn),H(oi),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-company-model-select-expert-knowledge"]],decls:3,vars:2,consts:[[1,"nav-scroller","bg-white","shadow-sm"],["class","nav nav-underline",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"nav","nav-underline"],["class","nav-link",3,"routerLink",4,"ngIf"],[1,"nav-link","active",3,"routerLink","queryParams"],[1,"nav-link",3,"routerLink"],["role","main",1,"container"],[3,"featureModel"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","expertModelSelector",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","expertModelSelector","formControlName","expertModelId",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],["class","list-group inner","style","margin: 5px",4,"ngIf"],[1,"list-group-item"],[3,"value"],[1,"list-group","inner",2,"margin","5px"],["class","\n          d-flex\n          list-group-item\n          justify-content-between\n          align-items-center\n        ",4,"ngFor","ngForOf"],[1,"d-flex","list-group-item","justify-content-between","align-items-center"],["type","button",1,"btn","btn-warning","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0),k(1,aOe,6,10,"nav",1),u(),k(2,pOe,26,6,"main",2)),2&e&&(p(1),v("ngIf",null!=i.companyModel&&(null!=i.bmProcess||null!=i.runningProcess)),p(1),v("ngIf",null!=i.companyModel))},directives:[nt,gn,t4,Lt,nn,Wt,Vt,ki,Jt,Zt,Vi,Hi],pipes:[dp],styles:[""]}),t})();function fOe(t,n){if(1&t&&(c(0,"option",5),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e._id),p(1),Be(" Examples of ",e.name," ")}}function hOe(t,n){if(1&t&&(St(0),c(1,"option",5),g(2),u(),Et()),2&t){const e=n.$implicit;p(1),v("ngValue",e.id),p(1),Be(" ",e.name," ")}}function gOe(t,n){if(1&t&&(c(0,"div",1)(1,"label",11),g(2,"Competitor"),u(),c(3,"div",3)(4,"select",12),k(5,hOe,3,2,"ng-container",13),u()()()),2&t){const e=T();p(5),v("ngForOf",e.competitors)}}function _Oe(t,n){if(1&t&&(c(0,"option",5),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e.id),p(1),Be(" ",e.name," ")}}function vOe(t,n){if(1&t&&(c(0,"div",1)(1,"label",14),g(2,"Example"),u(),c(3,"div",3)(4,"select",15),k(5,_Oe,2,2,"option",6),u()()()),2&t){const e=T();p(5),v("ngForOf",e.currentExpertModel.getExamples())}}function bOe(t,n){1&t&&(c(0,"button",16),g(1," Compare "),u()),2&t&&v("disabled",!T().selectOtherInstanceForm.valid)}function yOe(t,n){if(1&t){const e=ye();c(0,"button",17),z("click",function(){return W(e),T().clearCompare.emit()}),g(1," Clear Compare "),u()}}let wOe=(()=>{class t{constructor(e,i){this.fb=e,this.expertModelService=i,this.currentlyComparing=!1,this.compare=new je,this.clearCompare=new je,this.expertModels=[],this.selectOtherInstanceForm=this.fb.group({featureModel:[null,ft.required],instance:[null,ft.required]})}ngOnInit(){this.formSubscription=this.featureModelControl.valueChanges.subscribe(e=>{this.currentExpertModel=this.expertModels.find(i=>i._id===e)})}ngOnChanges(e){e.companyModel&&this.loadExpertModels(),e.currentlyComparing&&(e.currentlyComparing.currentValue?this.selectOtherInstanceForm.disable():this.selectOtherInstanceForm.enable())}ngOnDestroy(){null!=this.formSubscription&&this.formSubscription.unsubscribe()}submit(){const e=this.currentExpertModel?this.currentExpertModel:this.companyModel,i=e.getInstance(this.instanceControl.value);if(null==i)throw new Error("Instance does not exist");this.compare.emit({instance:i,featureModelId:e._id})}loadExpertModels(){var e=this;return Y(function*(){const i=[];for(const o of e.companyModel.expertModelIds){const r=yield e.expertModelService.get(o);r.getFeatureList().map(a=>a.id).every(a=>a in e.companyModel.expertModelTraces[r._id].expertFeatureIdMap)&&r.getExamples().length>0&&i.push(r)}e.expertModels=i})()}get featureModelControl(){return this.selectOtherInstanceForm.get("featureModel")}get instanceControl(){return this.selectOtherInstanceForm.get("instance")}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(Cs))},t.\u0275cmp=He({type:t,selectors:[["app-instance-compare-form"]],inputs:{currentlyComparing:"currentlyComparing",companyModel:"companyModel",competitors:"competitors"},outputs:{compare:"compare",clearCompare:"clearCompare"},features:[Xt],decls:15,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","featureModel",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","featureModel","formControlName","featureModel",1,"form-control"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-group row",4,"ngIf"],[1,"col-sm-12"],["type","submit","class","btn btn-sm btn-dark btn-block",3,"disabled",4,"ngIf"],["type","button","class","btn btn-sm btn-dark btn-block",3,"click",4,"ngIf"],["for","instance",1,"col-sm-4","col-form-label"],["id","instance","formControlName","instance",1,"form-control"],[4,"ngFor","ngForOf"],["for","instanceExpertModel",1,"col-sm-4","col-form-label"],["id","instanceExpertModel","formControlName","instance",1,"form-control"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],["type","button",1,"btn","btn-sm","btn-dark","btn-block",3,"click"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submit()}),c(1,"div",1)(2,"label",2),g(3,"Compare with"),u(),c(4,"div",3)(5,"select",4)(6,"option",5),g(7,"Competitors"),u(),k(8,fOe,2,2,"option",6),u()()(),k(9,gOe,6,1,"div",7),k(10,vOe,6,1,"div",7),c(11,"div",1)(12,"div",8),k(13,bOe,2,1,"button",9),k(14,yOe,2,0,"button",10),u()()()),2&e&&(v("formGroup",i.selectOtherInstanceForm),p(6),v("ngValue",i.companyModel._id),p(2),v("ngForOf",i.expertModels),p(1),v("ngIf",i.featureModelControl.value===i.companyModel._id),p(1),v("ngIf",null!=i.featureModelControl.value&&i.featureModelControl.value!==i.companyModel._id&&null!=i.currentExpertModel),p(3),v("ngIf",!i.currentlyComparing),p(1),v("ngIf",i.currentlyComparing))},directives:[nn,Wt,Vt,ki,Jt,Zt,Vi,Hi,Lt,nt],styles:[""]}),t})();function xOe(t,n){if(1&t){const e=ye();c(0,"main",2)(1,"app-instance",3),z("updateFeatureModel",function(){return W(e),T().updateCompanyModel()}),u(),c(2,"div",4)(3,"h6",5),g(4,"Compare"),u(),c(5,"div",6)(6,"app-instance-compare-form",7),z("compare",function(o){return W(e),T().compare(o.instance,o.featureModelId)})("clearCompare",function(){return W(e),T().clearCompare()}),u()()(),c(7,"div",4)(8,"app-running-process-method-comments",8),z("addComment",function(o){return W(e),T().addComment(o)})("updateComment",function(o){return W(e),T().updateComment(o)})("removeComment",function(o){return W(e),T().removeComment(o)}),u()(),c(9,"div",4)(10,"h6",9),g(11,"Finish comparison"),u(),c(12,"button",10),z("click",function(){return W(e),T().finish()}),g(13," Finish comparison "),u()()()}if(2&t){const e=T();p(1),v("compareInstance",e.compareInstance)("percentages",e.percentages)("featureModel",e.companyModel)("instance",e.instance)("adaptable",!1)("updatable",!1),p(5),v("companyModel",e.companyModel)("currentlyComparing",null!=e.compareInstance)("competitors",e.competitors),p(2),v("comments",e.runningMethod.comments)}}let COe=(()=>{class t{constructor(e,i,o,r,s,a){this.canvasResolveService=e,this.companyModelService=i,this.instanceLoaderService=o,this.instanceService=r,this.processApiService=s,this.runningProcessService=a,this.competitors=[]}ngOnInit(){this.instanceLoaderService.loaded.subscribe(()=>{null!=this.companyModel&&null!=this.instance&&(this.competitors=this.companyModel.instances.filter(e=>{var i;return e.id!==(null===(i=this.instance)||void 0===i?void 0:i.id)}),this.compareInstance&&this.compare(this.compareInstance,this.expertModelId))})}finish(){null!=this.companyModel&&null!=this.instance&&null!=this.processApiService.stepInfo&&this.canvasResolveService.resolveEditCanvas(this.processApiService.stepInfo,this.companyModel._id,this.instance.id)}compare(e,i){null!=this.companyModel&&null!=this.instance&&(this.expertModelId=i!==this.companyModel._id?i:void 0,this.compareInstance=this.expertModelId?this.instanceService.convertExpertInstance(this.companyModel,this.expertModelId,e):e,this.percentages=this.instanceService.compareInstances(this.companyModel,this.instance,this.compareInstance))}clearCompare(){this.expertModelId=void 0,this.compareInstance=void 0,this.percentages=void 0}addComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.addComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}updateComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.updateComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}removeComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.removeComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}updateCompanyModel(){var e=this;return Y(function*(){null!=e.companyModel&&(yield e.companyModelService.save(e.companyModel))})()}get companyModel(){return this.instanceLoaderService.companyModel}get instance(){return this.instanceLoaderService.instance}get runningProcess(){return this.processApiService.runningProcess}get runningMethod(){return this.processApiService.runningMethod}isCorrectStep(){return this.processApiService.isCorrectStep()}}return t.\u0275fac=function(e){return new(e||t)(H(Jc),H(Lo),H(Hs),H(iw),H(Wn),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-compare"]],features:[Tt([Hs,Wn])],decls:3,vars:1,consts:[["apiName","Compare Canvas"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[3,"compareInstance","percentages","featureModel","instance","adaptable","updatable","updateFeatureModel"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"companyModel","currentlyComparing","competitors","compare","clearCompare"],[3,"comments","addComment","updateComment","removeComment"],[1,"border-bottom","border-gray","pb-2"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0)(1,"app-step-errors"),k(2,xOe,14,10,"main",1)),2&e&&(p(2),v("ngIf",null!=i.companyModel&&null!=i.instance&&null!=i.runningMethod&&i.isCorrectStep()))},directives:[ur,cs,nt,_p,wOe,Ts],styles:[""]}),t})();function MOe(t,n){if(1&t){const e=ye();c(0,"li",14),re(1,"app-feature-model-instance-subform",15),c(2,"div",9)(3,"button",16),z("click",function(){const r=W(e).index;return T(2).removeCompetitor(r)}),g(4," Remove "),u()()()}if(2&t){const e=n.index;p(1),v("formGroupName",e.toString())}}function SOe(t,n){if(1&t){const e=ye();c(0,"main",2)(1,"div",3)(2,"h6",4),g(3,"Create Competitors"),u(),c(4,"div",5)(5,"form",6),z("ngSubmit",function(){return W(e),T().submit()}),c(6,"ul",7),k(7,MOe,5,1,"li",8),u(),c(8,"div",9)(9,"button",10),z("click",function(){return W(e),T().addCompetitor()}),g(10," Add Competitor "),u()(),c(11,"div",11)(12,"div",12)(13,"button",13),g(14," Create Competitors "),u()()()()()()()}if(2&t){const e=T();p(5),v("formGroup",e.form),p(2),v("ngForOf",e.formArray.controls),p(6),v("disabled",!e.form.valid)}}let EOe=(()=>{class t{constructor(e,i,o,r,s,a){this.canvasResolveService=e,this.companyModelService=i,this.fb=o,this.featureModelInstanceFormService=r,this.processApiService=s,this.route=a,this.form=this.fb.group({competitors:this.fb.array([])})}ngOnInit(){this.routeSubscription=this.route.paramMap.subscribe(e=>{const i=e.get("instanceId");this.instanceId=i?+i:void 0;const o=e.get("companyModelId");null!=o&&this.loadCompanyModel(o)})}ngOnDestroy(){null!=this.routeSubscription&&this.routeSubscription.unsubscribe()}addCompetitor(){this.formArray.push(this.featureModelInstanceFormService.createForm())}removeCompetitor(e){this.formArray.removeAt(e)}submit(){var e=this;return Y(function*(){if(e.processApiService.stepInfo&&null!=e.companyModel&&null!=e.instanceId){const i=e.companyModel;for(const o of e.formArray.controls){const r=e.featureModelInstanceFormService.get(o.value);i.addInstance(r)}yield e.companyModelService.save(i),e.canvasResolveService.resolveEditCanvas(e.processApiService.stepInfo,e.companyModel._id,e.instanceId)}})()}get formArray(){return this.form.get("competitors")}loadCompanyModel(e){var i=this;return Y(function*(){i.companyModel=yield i.companyModelService.get(e)})()}get runningProcess(){return this.processApiService.runningProcess}get runningMethod(){return this.processApiService.runningMethod}get isCorrectStep(){return this.processApiService.isCorrectStep()}}return t.\u0275fac=function(e){return new(e||t)(H(Jc),H(Lo),H(zt),H(XG),H(Wn),H(Jn))},t.\u0275cmp=He({type:t,selectors:[["app-create-competitor-canvas"]],features:[Tt([Wn])],decls:3,vars:1,consts:[["apiName","Create Competitor Canvas"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],["formArrayName","competitors",1,"list-group","mb-3"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"d-flex"],["type","button",1,"btn","btn-primary","ml-auto","mb-3",3,"click"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[1,"list-group-item"],[3,"formGroupName"],["type","button",1,"btn","btn-dark","ml-auto",3,"click"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0)(1,"app-step-errors"),k(2,SOe,15,3,"main",1)),2&e&&(p(2),v("ngIf",null!=i.runningMethod&&i.isCorrectStep))},directives:[ur,cs,nt,nn,Wt,Vt,vo,Lt,o4,kr],styles:[""]}),t})();function TOe(t,n){if(1&t&&(c(0,"small",13),g(1),u()),2&t){const e=T().$implicit;p(1),_t(e.description)}}function POe(t,n){if(1&t){const e=ye();c(0,"li",9)(1,"span"),g(2),k(3,TOe,2,1,"small",10),u(),c(4,"div")(5,"button",11),z("click",function(){const r=W(e).$implicit;return T(2).editCompetitor(r.id)}),g(6," Edit "),u(),c(7,"button",12),z("click",function(){const r=W(e).$implicit;return T(2).removeCompetitor(r.id)}),g(8," Remove "),u()()()}if(2&t){const e=n.$implicit;p(2),Be("",e.name," "),p(1),v("ngIf",e.description)}}function DOe(t,n){if(1&t){const e=ye();c(0,"main",2)(1,"div",3)(2,"h6",4),g(3,"Competitors"),u(),c(4,"ul",5),k(5,POe,9,2,"li",6),u()(),c(6,"div",3)(7,"app-running-process-method-comments",7),z("addComment",function(o){return W(e),T().addComment(o)})("updateComment",function(o){return W(e),T().updateComment(o)})("removeComment",function(o){return W(e),T().removeComment(o)}),u()(),c(8,"div",3)(9,"h6",4),g(10,"Finish editing competitors"),u(),c(11,"button",8),z("click",function(){return W(e),T().finish()}),g(12," Finish editing competitors "),u()()()}if(2&t){const e=T();p(5),v("ngForOf",e.competitors),p(2),v("comments",e.runningMethod.comments)}}let FOe=(()=>{class t{constructor(e,i,o,r,s,a){this.canvasResolveService=e,this.companyModelService=i,this.instanceLoaderService=o,this.processApiService=r,this.router=s,this.runningProcessService=a,this.competitors=[]}ngOnInit(){this.instanceLoaderService.loaded.subscribe(()=>{this.competitors=null!=this.companyModel?this.companyModel.instances.filter(e=>e.id!==this.instanceId):[]})}editCompetitor(e){var i=this;return Y(function*(){null!=i.companyModel&&(yield i.router.navigate(["canvas",i.companyModel._id,"instance",i.instanceId,"competitors",e,"edit"],{queryParams:i.processApiService.queryParams}))})()}removeCompetitor(e){var i=this;return Y(function*(){null!=i.companyModel&&(i.companyModel.removeInstance(e),yield i.updateCompanyModel())})()}addComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.addComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}updateComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.updateComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}removeComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.removeComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}finish(){null!=this.companyModel&&null!=this.instanceId&&null!=this.processApiService.stepInfo&&this.canvasResolveService.resolveEditCanvas(this.processApiService.stepInfo,this.companyModel._id,this.instanceId)}updateCompanyModel(){var e=this;return Y(function*(){null!=e.companyModel&&(yield e.companyModelService.save(e.companyModel))})()}get companyModel(){return this.instanceLoaderService.companyModel}get instanceId(){var e;return null===(e=this.instanceLoaderService.instance)||void 0===e?void 0:e.id}get runningProcess(){return this.processApiService.runningProcess}get runningMethod(){return this.processApiService.runningMethod}isCorrectStep(){return this.processApiService.isCorrectStep()}}return t.\u0275fac=function(e){return new(e||t)(H(Jc),H(Lo),H(Hs),H(Wn),H(oi),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-edit-competitors"]],features:[Tt([Hs,Wn])],decls:3,vars:1,consts:[["apiName","Edit Competitors"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"list-group"],["class","\n          d-flex\n          list-group-item\n          justify-content-between\n          align-items-center\n        ",4,"ngFor","ngForOf"],[3,"comments","addComment","updateComment","removeComment"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"],[1,"d-flex","list-group-item","justify-content-between","align-items-center"],["class","text-muted",4,"ngIf"],["type","button",1,"btn","btn-dark","btn-xs","mr-1",3,"click"],["type","button",1,"btn","btn-danger","btn-xs",3,"click"],[1,"text-muted"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0)(1,"app-step-errors"),k(2,DOe,13,2,"main",1)),2&e&&(p(2),v("ngIf",i.companyModel&&null!=i.runningMethod&&i.isCorrectStep()))},directives:[ur,cs,nt,Lt,Ts],styles:[""]}),t})();const JG=function(t,n){return["/","canvas",t,"instance",n,"competitors","edit"]};function AOe(t,n){if(1&t&&(c(0,"a",3),g(1," Edit Competitors "),u()),2&t){const e=T();v("routerLink",fa(2,JG,e.companyModel._id,e.instanceId))("queryParams",e.queryParams)}}function IOe(t,n){if(1&t){const e=ye();c(0,"main",4)(1,"app-instance",5),z("updateFeatureModel",function(){return W(e),T().updateCompetitor()}),u(),c(2,"div",6)(3,"app-running-process-method-comments",7),z("addComment",function(o){return W(e),T().addComment(o)})("updateComment",function(o){return W(e),T().updateComment(o)})("removeComment",function(o){return W(e),T().removeComment(o)}),u()(),c(4,"div",6)(5,"a",8),g(6,"Go back to overview of competitors"),u()()()}if(2&t){const e=T();p(1),v("featureModel",e.companyModel)("instance",e.competitor)("adaptable",!1)("updatable",!0),p(2),v("comments",e.runningMethod.comments),p(2),v("routerLink",fa(7,JG,e.companyModel._id,e.instanceId))("queryParams",e.queryParams)}}let kOe=(()=>{class t{constructor(e,i,o,r,s){this.companyModelService=e,this.instanceLoaderService=i,this.processApiService=o,this.route=r,this.runningProcessService=s}ngOnInit(){this.routeSubscription=this.route.paramMap.subscribe(e=>{const i=e.get("competitorId"),o=i?+i:void 0;this.competitorId!==o&&(this.competitorId=o,null!=this.companyModel&&(this.competitor=this.companyModel.getInstance(this.competitorId)))}),this.instanceLoaderService.loaded.subscribe(()=>{null!=this.companyModel&&(this.competitor=this.companyModel.getInstance(this.competitorId))})}ngOnDestroy(){null!=this.routeSubscription&&this.routeSubscription.unsubscribe()}updateCompetitor(){var e=this;return Y(function*(){null!=e.companyModel&&(yield e.companyModelService.save(e.companyModel))})()}addComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.addComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}updateComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.updateComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}removeComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.removeComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}get companyModel(){return this.instanceLoaderService.companyModel}get instanceId(){var e;return null===(e=this.instanceLoaderService.instance)||void 0===e?void 0:e.id}get runningProcess(){return this.processApiService.runningProcess}get runningMethod(){return this.processApiService.runningMethod}get queryParams(){return this.processApiService.queryParams}isCorrectStep(){return this.processApiService.isCorrectStep()}}return t.\u0275fac=function(e){return new(e||t)(H(Lo),H(Hs),H(Wn),H(Jn),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-edit-competitor-canvas"]],features:[Tt([Hs,Wn])],decls:4,vars:3,consts:[[3,"apiName"],["class","nav-link",3,"routerLink","queryParams",4,"ngIf"],["role","main","class","container",4,"ngIf"],[1,"nav-link",3,"routerLink","queryParams"],["role","main",1,"container"],[3,"featureModel","instance","adaptable","updatable","updateFeatureModel"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[3,"comments","addComment","updateComment","removeComment"],[1,"btn","btn-sm","btn-primary","btn-block",3,"routerLink","queryParams"]],template:function(e,i){1&e&&(c(0,"app-api-navigation",0),k(1,AOe,2,5,"a",1),u(),re(2,"app-step-errors"),k(3,IOe,7,10,"main",2)),2&e&&(v("apiName","Edit "+(i.competitor?i.competitor.name:"")),p(1),v("ngIf",null!=i.companyModel),p(2),v("ngIf",null!=i.companyModel&&null!=i.competitor&&null!=i.runningMethod&&i.isCorrectStep()))},directives:[ur,nt,gn,cs,_p,Ts],styles:[""]}),t})();function NOe(t,n){if(1&t&&(c(0,"option",12),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e),p(1),Be(" ",e.name," ")}}function ROe(t,n){if(1&t&&(c(0,"option",12),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e),p(1),Be(" ",e.name," ")}}function OOe(t,n){if(1&t&&(c(0,"div",1)(1,"label",13),g(2,"Description"),u(),c(3,"div",3),g(4),u()()),2&t){const e=T();p(4),Be(" ",e.instance.description," ")}}function BOe(t,n){1&t&&(c(0,"button",14),g(1," Show "),u()),2&t&&v("disabled",!T().selectPatternForm.valid)}function LOe(t,n){if(1&t){const e=ye();c(0,"button",15),z("click",function(){return W(e),T().clearPattern.emit()}),g(1," Clear "),u()}}const jOe=function(){return[]};let GOe=(()=>{class t{constructor(e){this.fb=e,this.expertModels=[],this.showsPattern=!1,this.showPattern=new je,this.clearPattern=new je,this.selectPatternForm=this.fb.group({featureModel:[null,ft.required],instance:[null,ft.required]})}ngOnChanges(e){e.showsPattern&&(e.showsPattern.currentValue?this.selectPatternForm.disable():this.selectPatternForm.enable())}submit(){null!=this.instance&&null!=this.expertModel&&this.showPattern.emit({instance:this.instance,featureModelId:this.expertModel._id})}get expertModel(){return this.featureModelControl.value}get instance(){return this.instanceControl.value}get featureModelControl(){return this.selectPatternForm.get("featureModel")}get instanceControl(){return this.selectPatternForm.get("instance")}}return t.\u0275fac=function(e){return new(e||t)(H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-instance-select-pattern-form"]],inputs:{expertModels:"expertModels",showsPattern:"showsPattern"},outputs:{showPattern:"showPattern",clearPattern:"clearPattern"},features:[Xt],decls:18,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","featureModel",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","featureModel","formControlName","featureModel",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],["for","instance",1,"col-sm-4","col-form-label"],["id","instance","formControlName","instance",1,"form-control"],["class","form-group form-row",4,"ngIf"],[1,"col-sm-12"],["type","submit","class","btn btn-sm btn-dark btn-block",3,"disabled",4,"ngIf"],["type","button","class","btn btn-sm btn-dark btn-block",3,"click",4,"ngIf"],[3,"ngValue"],[1,"col-sm-4","col-form-label"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],["type","button",1,"btn","btn-sm","btn-dark","btn-block",3,"click"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.submit()}),c(1,"div",1)(2,"label",2),g(3,"Patterns of"),u(),c(4,"div",3)(5,"select",4),k(6,NOe,2,2,"option",5),u()()(),c(7,"div",1)(8,"label",6),g(9,"Pattern"),u(),c(10,"div",3)(11,"select",7),k(12,ROe,2,2,"option",5),u()()(),k(13,OOe,5,1,"div",8),c(14,"div",1)(15,"div",9),k(16,BOe,2,1,"button",10),k(17,LOe,2,0,"button",11),u()()()),2&e&&(v("formGroup",i.selectPatternForm),p(6),v("ngForOf",i.expertModels),p(6),v("ngForOf",i.expertModel?i.expertModel.getPatterns():Bt(6,jOe)),p(1),v("ngIf",(i.selectPatternForm.valid||i.showsPattern)&&null!=i.instance&&i.instance.description),p(3),v("ngIf",!i.showsPattern),p(1),v("ngIf",i.showsPattern))},directives:[nn,Wt,Vt,ki,Jt,Zt,Lt,Vi,Hi,nt],styles:[""]}),t})();function VOe(t,n){if(1&t){const e=ye();c(0,"button",15),z("click",function(){return W(e),T(2).checkConformance()}),c(1,"span"),g(2,"Show Hints of Business Model"),u()()}}function HOe(t,n){if(1&t){const e=ye();c(0,"button",15),z("click",function(){return W(e),T(2).uncheckConformance()}),c(1,"span"),g(2,"Hide Hints of Business Model"),u()()}}function UOe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),_t(e)}}function zOe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function qOe(t,n){if(1&t&&(c(0,"div")(1,"h6"),g(2,"Weaknesses"),u(),c(3,"ul"),k(4,zOe,2,1,"li",32),u()()),2&t){const e=T(4);p(4),v("ngForOf",e.conformance.warnings)}}function $Oe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),Be(" ",e," ")}}function WOe(t,n){if(1&t&&(c(0,"div")(1,"h6"),g(2,"Strengths"),u(),c(3,"ul"),k(4,$Oe,2,1,"li",32),u()()),2&t){const e=T(4);p(4),v("ngForOf",e.conformance.strengths)}}function YOe(t,n){if(1&t&&(c(0,"div",34),k(1,qOe,5,1,"div",35),k(2,WOe,5,1,"div",35),u()),2&t){const e=T(3);p(1),v("ngIf",e.conformanceOptionsForm.value.showWarnings),p(1),v("ngIf",e.conformanceOptionsForm.value.showStrengths)}}function XOe(t,n){if(1&t&&(c(0,"li"),g(1),u()),2&t){const e=n.$implicit;p(1),_t(e)}}function KOe(t,n){if(1&t&&(c(0,"div")(1,"h6"),g(2,"Hints"),u(),c(3,"ul"),k(4,XOe,2,1,"li",32),u()()),2&t){const e=T(4);p(4),v("ngForOf",e.conformance.hints)}}function QOe(t,n){if(1&t&&(c(0,"li"),re(1,"app-pattern-hint",36),u()),2&t){const e=n.$implicit;p(1),v("patternHint",e)}}function JOe(t,n){if(1&t&&(c(0,"div")(1,"h6"),g(2,"Pattern Hints"),u(),c(3,"ul"),k(4,QOe,2,1,"li",32),u()()),2&t){const e=T(4);p(4),v("ngForOf",e.conformance.patternHints)}}function ZOe(t,n){if(1&t&&(c(0,"li"),re(1,"app-pattern-view",37),u()),2&t){const e=n.$implicit;p(1),v("pattern",e)}}function eBe(t,n){if(1&t&&(c(0,"div")(1,"h6"),g(2,"Used Patterns"),u(),c(3,"ul"),k(4,ZOe,2,1,"li",32),u()()),2&t){const e=T(4);p(4),v("ngForOf",e.conformance.usedPatterns)}}function tBe(t,n){if(1&t&&(c(0,"div",34),k(1,KOe,5,1,"div",35),k(2,JOe,5,1,"div",35),k(3,eBe,5,1,"div",35),u()),2&t){const e=T(3);p(1),v("ngIf",e.conformanceOptionsForm.value.showHints),p(1),v("ngIf",e.conformanceOptionsForm.value.showPatternHints),p(1),v("ngIf",e.conformanceOptionsForm.value.showUsedPatterns)}}function nBe(t,n){if(1&t&&(c(0,"div",16)(1,"form",17)(2,"div",18),re(3,"input",19),c(4,"label",20),g(5," Show weaknesses "),c(6,"small",21),g(7,"Used features that have a hurt cross-tree relationship to other used features"),u()()(),c(8,"div",18),re(9,"input",22),c(10,"label",23),g(11," Show strengths "),c(12,"small",21),g(13,"Used features that have a supports cross-tree relationship to other used features"),u()()(),c(14,"div",18),re(15,"input",24),c(16,"label",25),g(17," Show hints "),c(18,"small",21),g(19,"Unused features that have a supports cross-tree relationship to other used features and can be added without requirements and do not lead to other errors"),u()()(),c(20,"div",18),re(21,"input",26),c(22,"label",27),g(23," Show pattern hints "),c(24,"small",21),g(25,"A pattern is shown as a hint, if at least half of the pattern is included in the current business model"),u()()(),c(26,"div",18),re(27,"input",28),c(28,"label",29),g(29," Show used patterns "),c(30,"small",21),g(31,"A pattern is shown as used, if it is completely included in the current business model"),u()()()(),c(32,"div",30)(33,"div",31)(34,"h6"),g(35,"Errors"),u(),c(36,"ul"),k(37,UOe,2,1,"li",32),u()(),k(38,YOe,3,2,"div",33),k(39,tBe,4,3,"div",33),u()()),2&t){const e=T(2);p(1),v("formGroup",e.conformanceOptionsForm),p(36),v("ngForOf",e.conformance.errors),p(1),v("ngIf",e.conformanceOptionsForm.value.showWarnings||e.conformanceOptionsForm.value.showStrengths),p(1),v("ngIf",e.conformanceOptionsForm.value.showHints||e.conformanceOptionsForm.value.showPatternHints||e.conformanceOptionsForm.value.showUsedPatterns)}}function iBe(t,n){if(1&t){const e=ye();c(0,"main",2)(1,"app-instance",3),z("updateFeatureModel",function(){return W(e),T().updateCompanyModel()}),u(),c(2,"div",4)(3,"h6",5),g(4,"Hints"),u(),c(5,"div",6)(6,"div",7),k(7,VOe,3,0,"button",8),k(8,HOe,3,0,"button",8),u(),k(9,nBe,40,4,"div",9),u()(),c(10,"div",4)(11,"h6",5),g(12,"Show pattern"),u(),c(13,"div",10)(14,"app-instance-select-pattern-form",11),z("showPattern",function(o){return W(e),T().showPattern(o.instance)})("clearPattern",function(){return W(e),T().clearPattern()}),u()()(),c(15,"div",4)(16,"app-running-process-method-comments",12),z("addComment",function(o){return W(e),T().addComment(o)})("updateComment",function(o){return W(e),T().updateComment(o)})("removeComment",function(o){return W(e),T().removeComment(o)}),u()(),c(17,"div",4)(18,"h6",13),g(19,"Finish refinement"),u(),c(20,"button",14),z("click",function(){return W(e),T().finish()}),g(21," Finish refinement "),u()()()}if(2&t){const e=T();p(1),v("conformanceIsChecked",e.conformanceIsChecked)("conformance",e.conformance)("conformanceOptions",e.conformanceOptionsForm.value)("featureModel",e.companyModel)("instance",e.instance)("patternInstance",e.patternInstance)("adaptable",!1)("updatable",!1),p(6),v("ngIf",!e.conformanceIsChecked),p(1),v("ngIf",e.conformanceIsChecked),p(1),v("ngIf",e.conformanceIsChecked),p(5),v("expertModels",e.expertModels)("showsPattern",null!=e.patternInstance),p(2),v("comments",e.runningMethod.comments)}}let oBe=(()=>{class t{constructor(e,i,o,r,s,a,l,d){this.canvasModelConsistencyService=e,this.canvasResolveService=i,this.companyModelService=o,this.expertModelService=r,this.fb=s,this.instanceLoaderService=a,this.processApiService=l,this.runningProcessService=d,this.expertModels=[],this.conformanceIsChecked=!1,this.conformance=new Qc,this.conformanceOptionsForm=this.fb.group({showWarnings:!0,showStrengths:!0,showHints:!0,showPatternHints:!0,showUsedPatterns:!1})}ngOnInit(){this.instanceLoaderService.loaded.subscribe(()=>{this.conformanceIsChecked?this.checkConformance():this.uncheckConformance(),this.loadExpertModels()})}finish(){null!=this.companyModel&&null!=this.instance&&null!=this.processApiService.stepInfo&&this.canvasResolveService.resolveEditCanvas(this.processApiService.stepInfo,this.companyModel._id,this.instance.id)}uncheckConformance(){this.conformanceIsChecked=!1,this.conformance=new Qc}checkConformance(){null!=this.companyModel&&null!=this.instance&&(this.clearPattern(),this.conformance=this.canvasModelConsistencyService.checkConformanceOfInstance(this.companyModel,this.instance.id,this.expertModels.map(e=>e.getPatterns()).reduce((e,i)=>(e.push(...i),e),[])),this.conformanceIsChecked=!0)}showPattern(e){this.uncheckConformance(),this.patternInstance=e}clearPattern(){this.patternInstance=void 0}loadExpertModels(){var e=this;return Y(function*(){if(null!=e.companyModel){const i=[];for(const o of e.companyModel.expertModelIds){const r=yield e.expertModelService.get(o);r.getFeatureList().map(a=>a.id).every(a=>a in e.companyModel.expertModelTraces[r._id].expertFeatureIdMap)&&r.getPatterns().length>0&&i.push(r)}e.expertModels=i}})()}updateCompanyModel(){var e=this;return Y(function*(){null!=e.companyModel&&(yield e.companyModelService.save(e.companyModel))})()}addComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.addComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}updateComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.updateComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}removeComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.removeComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}get companyModel(){return this.instanceLoaderService.companyModel}get instance(){return this.instanceLoaderService.instance}get runningProcess(){return this.processApiService.runningProcess}get runningMethod(){return this.processApiService.runningMethod}isCorrectStep(){return this.processApiService.isCorrectStep()}}return t.\u0275fac=function(e){return new(e||t)(H(q_),H(Jc),H(Lo),H(Cs),H(zt),H(Hs),H(Wn),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-refine-canvas"]],features:[Tt([Hs,Wn])],decls:3,vars:1,consts:[["apiName","Refine Canvas"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[3,"conformanceIsChecked","conformance","conformanceOptions","featureModel","instance","patternInstance","adaptable","updatable","updateFeatureModel"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"container"],[1,"row",2,"margin-top","20px"],["type","button","class","btn btn-dark btn-sm btn-block",3,"click",4,"ngIf"],["style","margin-top: 20px",4,"ngIf"],[1,"text-muted","pt-3"],[3,"expertModels","showsPattern","showPattern","clearPattern"],[3,"comments","addComment","updateComment","removeComment"],[1,"border-bottom","border-gray","pb-2"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"],["type","button",1,"btn","btn-dark","btn-sm","btn-block",3,"click"],[2,"margin-top","20px"],[3,"formGroup"],[1,"custom-control","custom-switch","mb-2"],["formControlName","showWarnings","type","checkbox","id","optionShowWarnings",1,"custom-control-input"],["for","optionShowWarnings",1,"custom-control-label"],[1,"text-muted","d-block"],["formControlName","showStrengths","type","checkbox","id","showStrengths",1,"custom-control-input"],["for","showStrengths",1,"custom-control-label"],["formControlName","showHints","type","checkbox","id","showHints",1,"custom-control-input"],["for","showHints",1,"custom-control-label"],["formControlName","showPatternHints","type","checkbox","id","showPatternHints",1,"custom-control-input"],["for","showPatternHints",1,"custom-control-label"],["formControlName","showUsedPatterns","type","checkbox","id","showUsedPatterns",1,"custom-control-input"],["for","showUsedPatterns",1,"custom-control-label"],[1,"row"],[1,"col"],[4,"ngFor","ngForOf"],["class","col border-left",4,"ngIf"],[1,"col","border-left"],[4,"ngIf"],[3,"patternHint"],[3,"pattern"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0)(1,"app-step-errors"),k(2,iBe,22,14,"main",1)),2&e&&(p(2),v("ngIf",null!=i.companyModel&&null!=i.instance&&null!=i.runningMethod&&i.isCorrectStep()))},directives:[ur,cs,nt,_p,nn,Wt,Vt,Xd,Jt,Zt,Lt,YG,i4,GOe,Ts],styles:[""]}),t})();function rBe(t,n){if(1&t){const e=ye();c(0,"div",5)(1,"h6",6),g(2,"Finish viewing"),u(),c(3,"button",7),z("click",function(){return W(e),T(2).finish()}),g(4," Finish viewing "),u()()}}function sBe(t,n){if(1&t&&(c(0,"main",2),re(1,"app-instance",3),k(2,rBe,5,0,"div",4),u()),2&t){const e=T();p(1),v("featureModel",e.companyModel)("instance",e.instance)("adaptable",!1)("editable",!1)("updatable",!1),p(1),v("ngIf",null!=(null==e.stepInfo?null:e.stepInfo.step))}}let aBe=(()=>{class t{constructor(e,i,o){this.canvasResolveService=e,this.instanceLoaderService=i,this.processApiService=o}finish(){null!=this.companyModel&&null!=this.instance&&null!=this.processApiService.stepInfo&&this.canvasResolveService.resolveEditCanvas(this.processApiService.stepInfo,this.companyModel._id,this.instance.id)}get companyModel(){return this.instanceLoaderService.companyModel}get instance(){return this.instanceLoaderService.instance}get stepInfo(){return this.processApiService.stepInfo}}return t.\u0275fac=function(e){return new(e||t)(H(Jc),H(Hs),H(Wn))},t.\u0275cmp=He({type:t,selectors:[["app-view-canvas"]],features:[Tt([K0,Hs,Wn])],decls:2,vars:1,consts:[["apiName","View Canvas"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[3,"featureModel","instance","adaptable","editable","updatable"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0),k(1,sBe,3,6,"main",1)),2&e&&(p(1),v("ngIf",null!=i.companyModel&&null!=i.instance))},directives:[ur,nt,_p],styles:[""]}),t})();function lBe(t,n){if(1&t){const e=ye();c(0,"main",2)(1,"app-feature-model-edit",3),z("updateFeatureModel",function(){return W(e),T().updateCompanyModel()}),u(),c(2,"div",4)(3,"app-running-process-method-comments",5),z("addComment",function(o){return W(e),T().addComment(o)})("updateComment",function(o){return W(e),T().updateComment(o)})("removeComment",function(o){return W(e),T().removeComment(o)}),u()(),c(4,"div",4)(5,"h6",6),g(6,"Finish editing"),u(),c(7,"button",7),z("click",function(){return W(e),T().finish()}),g(8," Finish editing "),u()()()}if(2&t){const e=T();p(1),v("featureModel",e.companyModel),p(2),v("comments",e.runningMethod.comments)}}let cBe=(()=>{class t{constructor(e,i,o,r,s){this.canvasResolveService=e,this.instanceLoaderService=i,this.companyModelService=o,this.processApiService=r,this.runningProcessService=s}addComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.addComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}updateComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.updateComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}removeComment(e){var i=this;return Y(function*(){null!=i.runningProcess&&null!=i.runningMethod&&(yield i.runningProcessService.removeComment(i.runningProcess._id,i.runningMethod.executionId,e))})()}finish(){null!=this.companyModel&&null!=this.instanceLoaderService.instance&&null!=this.processApiService.stepInfo&&this.canvasResolveService.resolveEditCanvas(this.processApiService.stepInfo,this.companyModel._id,this.instanceLoaderService.instance.id)}updateCompanyModel(){var e=this;return Y(function*(){null!=e.companyModel&&(yield e.companyModelService.save(e.companyModel))})()}get companyModel(){return this.instanceLoaderService.companyModel}get runningProcess(){return this.processApiService.runningProcess}get runningMethod(){return this.processApiService.runningMethod}isCorrectStep(){return this.processApiService.isCorrectStep()}}return t.\u0275fac=function(e){return new(e||t)(H(Jc),H(Hs),H(Lo),H(Wn),H(to))},t.\u0275cmp=He({type:t,selectors:[["app-edit-model"]],features:[Tt([Hs,Wn])],decls:3,vars:1,consts:[["apiName","Edit Model"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[3,"featureModel","updateFeatureModel"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[3,"comments","addComment","updateComment","removeComment"],[1,"border-bottom","border-gray","pb-2"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0)(1,"app-step-errors"),k(2,lBe,9,2,"main",1)),2&e&&(p(2),v("ngIf",i.companyModel&&null!=i.runningMethod&&i.isCorrectStep()))},directives:[ur,cs,nt,n4,Ts],styles:[""]}),t})();const uBe=function(){return[]},dBe=function(){return["/","domains"]};let pBe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=He({type:t,selectors:[["app-canvas-elements"]],decls:15,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["role","main",1,"container"],[1,"my-3","alert","alert-info"],["listTitle","Canvas Elements"],["results","",1,"list-group"],[1,"list-group-item","list-group-item-action","d-flex",3,"routerLink"],[1,"ml-auto"],[1,"btn","btn-dark","btn-xs"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3,"Canvas Elements"),u()()(),c(4,"main",3)(5,"div",4),g(6," All canvas elements, except for domains, are directly defined while creating canvas building blocks. "),u(),c(7,"app-list-wrapper",5)(8,"div",6)(9,"a",7)(10,"div"),g(11,"Domains"),u(),c(12,"div",8)(13,"div",9),g(14,"View"),u()()()()()()),2&e&&(p(2),v("routerLink",Bt(2,uBe)),p(7),v("routerLink",Bt(3,dBe)))},directives:[gn,Ss],styles:[""]}),t})();function mBe(t,n){1&t&&(c(0,"label",14),g(1,"Loading..."),u())}function fBe(t,n){if(1&t&&(c(0,"option",17),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e),p(1),Be(" ",e.name," ")}}function hBe(t,n){if(1&t&&(c(0,"select",15),k(1,fBe,2,2,"option",16),u()),2&t){const e=T();Ht("is-invalid",e.companyModelControl.invalid),p(1),v("ngForOf",e.companyModels)}}function gBe(t,n){if(1&t&&(c(0,"section",21)(1,"h6"),g(2,"Description"),u(),c(3,"p",22),g(4),u()()),2&t){const e=T(2);p(4),_t(e.companyModel.definition.description)}}function _Be(t,n){if(1&t&&(c(0,"div",2)(1,"h6",18),g(2),u(),c(3,"section"),re(4,"app-feature-model",19),u(),k(5,gBe,5,1,"section",20),u()),2&t){const e=T();p(2),Be(" Canvas Artifact Preview: ",e.companyModel.definition.name," "),p(2),v("featureModel",e.companyModel),p(1),v("ngIf",e.companyModel.definition.description)}}const vBe=[{path:"canvas",canActivate:[Po],children:[{path:"definitions",component:SRe},{path:"definitions/:id",component:JRe},{path:"instance/create",component:uRe},{path:"artifact/:id/create",component:(()=>{class t{constructor(e,i,o,r,s,a){this.artifactService=e,this.canvasResolveService=i,this.companyModelService=o,this.fb=r,this.processApiService=s,this.route=a,this.form=this.fb.group({companyModel:[null,ft.required],name:["",ft.required],description:[""]})}ngOnInit(){this.changeSubscription=this.companyModelControl.valueChanges.subscribe(e=>{this.companyModel=null!=e?new No(e,void 0):void 0}),this.routeSubscription=this.route.paramMap.subscribe(e=>{var i;return this.loadArtifact(null!==(i=e.get("id"))&&void 0!==i?i:void 0)})}ngOnDestroy(){var e,i;null===(e=this.changeSubscription)||void 0===e||e.unsubscribe(),null===(i=this.routeSubscription)||void 0===i||i.unsubscribe()}submit(){var e=this;return Y(function*(){var i,o;const r=e.route.snapshot.paramMap.get("id");if(null!=e.processApiService.runningProcess&&null!=e.companyModel&&null!=r){const s=e.companyModel,a={type:ba.EXAMPLE,name:null===(i=e.form.get("name"))||void 0===i?void 0:i.value,description:null===(o=e.form.get("description"))||void 0===o?void 0:o.value};s.resetDatabaseState();const l=s.addInstance(a).id;s.createdByMethod=!0,yield e.companyModelService.save(s),yield e.canvasResolveService.resolveCreateCanvasManually(e.processApiService.runningProcess._id,s._id,l,r)}})()}loadCompanyModels(e){var i=this;return Y(function*(){i.companyModels=yield i.companyModelService.getList(e)})()}loadArtifact(e){var i=this;return Y(function*(){if(null!=e){i.artifact=yield i.artifactService.get(e);const o=i.artifact.metaModelData;yield i.loadCompanyModels(null==o?void 0:o.definitionId)}else i.artifact=void 0})()}get companyModelControl(){return this.form.get("companyModel")}}return t.\u0275fac=function(e){return new(e||t)(H(oc),H(Jc),H(Lo),H(zt),H(Wn),H(Jn))},t.\u0275cmp=He({type:t,selectors:[["app-create-canvas-manually"]],features:[Tt([Wn])],decls:19,vars:5,consts:[["apiName","Create Canvas"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","companyModelSelector",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["class","col-form-label",4,"ngIf"],["id","companyModelSelector","formControlName","companyModel","class","form-control",3,"is-invalid",4,"ngIf"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"col-form-label"],["id","companyModelSelector","formControlName","companyModel",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"border-bottom","border-gray","pb-2"],[3,"featureModel"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"mb-0"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0),c(1,"main",1)(2,"div",2)(3,"h6",3),g(4,"Create Artifact"),u(),c(5,"div",4)(6,"form",5),z("ngSubmit",function(){return i.submit()}),c(7,"div",6)(8,"label",7),g(9,"Composed Model"),u(),c(10,"div",8),k(11,mBe,2,0,"label",9),k(12,hBe,2,3,"select",10),u()(),re(13,"app-feature-model-instance-subform"),c(14,"div",6)(15,"div",11)(16,"button",12),g(17," Create Canvas Artifact "),u()()()()()(),k(18,_Be,6,3,"div",13),u()),2&e&&(p(6),v("formGroup",i.form),p(5),v("ngIf",null==i.companyModels),p(1),v("ngIf",null!=i.companyModels),p(4),v("disabled",!i.form.valid),p(2),v("ngIf",null!=i.companyModel))},directives:[ur,nn,Wt,Vt,nt,ki,Jt,Zt,Lt,Vi,Hi,o4,nw],styles:[""]}),t})()},{path:":companyModelId/instance/:instanceId",children:[{path:"edit",component:vRe},{path:"refine",component:oBe},{path:"view",component:aBe},{path:"model/edit",component:cBe},{path:"competitors",children:[{path:"",component:EOe},{path:"edit",component:FOe},{path:":competitorId/edit",component:kOe}]},{path:"compare",component:COe}]}]},{path:"companyModels",canActivate:[Po],children:[{path:"",component:KNe},{path:":id",component:sRe},{path:":id/edit",component:qNe},{path:":id/select",component:mOe}]},{path:"expertModels",canActivate:[Po],children:[{path:"",component:fIe},{path:":id",component:QIe},{path:":id/edit",component:qke},{path:":id/examples/:exampleId",component:LNe},{path:":id/patterns/:patternId",component:V9e}]},{path:"merge",canActivate:[Po],children:[{path:":companyModelId",component:gFe},{path:":companyModelId/:expertModelId",component:QAe}]},{path:"canvasElements",component:pBe,canActivate:[Po]}];let bBe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[ml.forChild(vBe)],ml]}),t})(),yBe=(()=>{class t{constructor(e){this.fb=e}createForm(e){const i=this.fb.group({name:["",ft.required],description:"",copyright:""});return e&&i.patchValue(e),i}get(e){return{name:e.name,description:e.description,copyright:e.copyright}}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wBe=(()=>{class t{constructor(e){this.controlContainer=e}get formGroup(){return this.controlContainer.control}get nameControl(){return this.formGroup.get("name")}}return t.\u0275fac=function(e){return new(e||t)(H(Ko))},t.\u0275cmp=He({type:t,selectors:[["app-feature-model-subform"]],decls:16,vars:3,consts:[[3,"formGroup"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],["for","description",1,"col-sm-4","col-form-label"],["type","text","formControlName","description","id","description",1,"form-control"],["for","copyright",1,"col-sm-4","col-form-label"],["type","text","formControlName","copyright","id","copyright",1,"form-control"]],template:function(e,i){1&e&&(St(0,0),c(1,"div",1)(2,"label",2),g(3,"Name"),u(),c(4,"div",3),re(5,"input",4),u()(),c(6,"div",1)(7,"label",5),g(8," Description "),u(),c(9,"div",3),re(10,"input",6),u()(),c(11,"div",1)(12,"label",7),g(13,"Copyright"),u(),c(14,"div",3),re(15,"input",8),u()(),Et()),2&e&&(v("formGroup",i.formGroup),p(5),Ht("is-invalid",i.nameControl.invalid))},directives:[Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();const xBe=["createModal"];function CBe(t,n){if(1&t){const e=ye();c(0,"div",10)(1,"h4",11),g(2,"Create Composed Model"),u(),c(3,"button",12),z("click",function(){return W(e).dismiss()}),c(4,"span",13),g(5,"\xd7"),u()()(),c(6,"div",14)(7,"div",15)(8,"form",16),z("ngSubmit",function(){return W(e),T().createCompanyModel()}),re(9,"app-feature-model-subform",17),c(10,"div",18)(11,"div",19)(12,"button",20),g(13," Create Composed Model "),u()()()()()()}if(2&t){const e=T();p(8),v("formGroup",e.createForm),p(4),v("disabled",!e.createForm.valid)}}function MBe(t,n){if(1&t&&(c(0,"option",21),g(1),u()),2&t){const e=n.$implicit;v("value",e._id),p(1),Be(" ",e.name," ")}}function SBe(t,n){if(1&t){const e=ye();c(0,"div",22)(1,"button",23),z("click",function(){return W(e),T().navigateSelectExpertKnowledge()}),g(2," Edit "),u()()}}let EBe=(()=>{class t{constructor(e,i,o,r,s,a){this.canvasDefinitionService=e,this.companyModelService=i,this.fb=o,this.featureModelFormService=r,this.modalService=s,this.router=a,this.createForm=this.fb.group({featureModel:this.featureModelFormService.createForm()}),this.companyModels=[]}ngOnInit(){this.loadCompanyModels()}openCreateCompanyModelModal(){this.modalReference=this.modalService.open(this.createModal,{size:"lg"})}createCompanyModel(){var e=this;return Y(function*(){var i,o,r;const s=e.featureModelFormService.get(null===(i=e.createForm.get("featureModel"))||void 0===i?void 0:i.value),a=yield e.canvasDefinitionService.get(e.predefinedInput.definitionId),l=e.companyModelService.createFeatureModel(Object.assign(Object.assign({},s),{$definition:a}),a);yield e.companyModelService.add(l),e.forceUpdate.emit({companyModelId:l._id,automaticCreation:!0}),e.modalService.dismissAll(),yield e.router.navigate(["companyModels",l._id,"select"],{queryParams:{bmProcessId:null===(o=e.bmProcess)||void 0===o?void 0:o._id,runningProcessId:null===(r=e.runningProcess)||void 0===r?void 0:r._id}})})()}navigateSelectExpertKnowledge(){var e=this;return Y(function*(){var i,o;if(null==e.stepDecision)throw new Error("Step decision must be set");e.modalService.dismissAll(),yield e.router.navigate(["companyModels",e.stepDecision.companyModelId,"select"],{queryParams:{bmProcessId:null===(i=e.bmProcess)||void 0===i?void 0:i._id,runningProcessId:null===(o=e.runningProcess)||void 0===o?void 0:o._id}})})()}loadCompanyModels(){var e=this;return Y(function*(){e.companyModels=yield e.companyModelService.getList(e.predefinedInput.definitionId)})()}get companyModelIdControl(){return this.formGroup.get("companyModelId")}}return t.\u0275fac=function(e){return new(e||t)(H(Bu),H(Lo),H(zt),H(yBe),H(jn),H(oi))},t.\u0275cmp=He({type:t,selectors:[["app-create-canvas-configuration"]],viewQuery:function(e,i){if(1&e&&Ft(xBe,7),2&e){let o;bt(o=yt())&&(i.createModal=o.first)}},decls:13,vars:3,consts:[["createModal",""],[3,"formGroup"],[1,"form-group","form-row"],["for","companyModelSelector",1,"col-sm-6","col-form-label"],[1,"col-sm-6","input-group"],["id","companyModelSelector","formControlName","companyModelId",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["class","input-group-append",4,"ngIf"],[1,"d-flex"],["type","button",1,"btn","btn-primary","ml-auto",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],["formGroupName","featureModel"],[1,"form-group","row"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"value"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-warning",3,"click"]],template:function(e,i){1&e&&(k(0,CBe,14,2,"ng-template",null,0,$t),St(2,1),c(3,"div",2)(4,"label",3),g(5,"Composed Model"),u(),c(6,"div",4)(7,"select",5),k(8,MBe,2,2,"option",6),u(),k(9,SBe,3,0,"div",7),u()(),c(10,"div",8)(11,"button",9),z("click",function(){return i.openCreateCompanyModelModal()}),g(12," Create new Composed Model "),u()(),Et()),2&e&&(p(2),v("formGroup",i.formGroup),p(6),v("ngForOf",i.companyModels),p(1),v("ngIf",i.stepDecision&&i.stepDecision.automaticCreation&&i.stepDecision.companyModelId===i.companyModelIdControl.value))},directives:[nn,Wt,Vt,wBe,kr,ki,Jt,Zt,Lt,Vi,Hi,nt],styles:[""]}),t})();function TBe(t,n){if(1&t&&(c(0,"option",7),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e._id),p(1),Be(" ",e.name," ")}}function PBe(t,n){1&t&&(c(0,"option"),g(1,"Loading..."),u())}let DBe=(()=>{class t{constructor(e){this.canvasDefinitionService=e}ngOnInit(){this.loadCanvasDefinitions()}loadCanvasDefinitions(){var e=this;return Y(function*(){e.canvasDefinitions=yield e.canvasDefinitionService.getList()})()}get definitionControl(){return this.formGroup.get("definitionId")}}return t.\u0275fac=function(e){return new(e||t)(H(Bu))},t.\u0275cmp=He({type:t,selectors:[["app-select-canvas-definition-configuration"]],decls:8,vars:5,consts:[[3,"formGroup"],[1,"form-group","form-row"],["for","definitionSelector",1,"col-sm-6","col-form-label"],[1,"col-sm-6"],["id","definitionSelector","formControlName","definitionId",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngValue"]],template:function(e,i){1&e&&(St(0,0),c(1,"div",1)(2,"label",2),g(3,"Canvas Model"),u(),c(4,"div",3)(5,"select",4),k(6,TBe,2,2,"option",5),k(7,PBe,2,0,"option",6),u()()(),Et()),2&e&&(v("formGroup",i.formGroup),p(5),Ht("is-invalid",i.definitionControl.invalid&&i.definitionControl.touched),p(1),v("ngForOf",i.canvasDefinitions),p(1),v("ngIf",null==i.canvasDefinitions))},directives:[Wt,Vt,ki,Jt,Zt,Lt,Vi,Hi,nt],styles:[""]}),t})(),FBe=(()=>{class t{createCanvas(e){const i=t.getStepInfo(e);e.router.navigate(["canvas","instance","create"],{queryParams:i})}editCanvas(e){const i=t.getStepInfo(e),o=e.inputStepArtifacts[0].data.data;e.router.navigate(["canvas",o.id,"instance",o.instanceId,"edit"],{queryParams:i})}refineCanvas(e){const i=t.getStepInfo(e),o=e.inputStepArtifacts[0].data.data;e.router.navigate(["canvas",o.id,"instance",o.instanceId,"refine"],{queryParams:i})}compareCompetitors(e){const i=t.getStepInfo(e),o=e.inputStepArtifacts[0].data.data;e.router.navigate(["canvas",o.id,"instance",o.instanceId,"compare"],{queryParams:i})}createCompetitors(e){const i=t.getStepInfo(e),o=e.inputStepArtifacts[0].data.data;e.router.navigate(["canvas",o.id,"instance",o.instanceId,"competitors"],{queryParams:i})}manageCompetitors(e){const i=t.getStepInfo(e),o=e.inputStepArtifacts[0].data.data;e.router.navigate(["canvas",o.id,"instance",o.instanceId,"competitors","edit"],{queryParams:i})}viewCanvas(e){const i=t.getStepInfo(e),o=e.inputStepArtifacts[0].data.data;e.router.navigate(["canvas",o.id,"instance",o.instanceId,"view"],{queryParams:i})}editModel(e){const i=t.getStepInfo(e),o=e.inputStepArtifacts[0].data.data;e.router.navigate(["canvas",o.id,"instance",o.instanceId,"model","edit"],{queryParams:i})}executeMethod(e,i){switch(e){case"createCanvas":this.createCanvas(i);break;case"editCanvas":this.editCanvas(i);break;case"refineCanvas":this.refineCanvas(i);break;case"compareCompetitors":this.compareCompetitors(i);break;case"createCompetitors":this.createCompetitors(i);break;case"manageCompetitors":this.manageCompetitors(i);break;case"viewCanvas":this.viewCanvas(i);break;case"editModel":this.editModel(i)}}static getStepInfo(e){return{step:e.runningMethod.currentStepNumber,executionId:e.runningMethod.executionId,runningProcessId:e.runningProcess._id}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ABe=(()=>{class t{constructor(e,i,o,r,s,a,l){this.canvasApiService=e,this.canvasMetaModelApiService=i,this.canvasMetaModelService=o,this.companyModelService=r,this.expertModelService=s,this.fb=a,this.moduleService=l}init(){const e=new Q3("Canvas Tools","Canvas Module",this.getMethods(),this.canvasApiService,[{name:"Model Composition",route:["companyModels"],roles:[jo.EXPERT]},{name:"Canvas Model Repository",submenu:[{name:"Canvas Building Blocks",route:["expertModels"],roles:[jo.EXPERT]},{name:"Canvas Models",route:["canvas","definitions"],roles:[jo.EXPERT]},{name:"Canvas Elements",route:["canvasElements"],roles:[jo.EXPERT]}],roles:[jo.EXPERT]}]);this.moduleService.registerModule(e),console.log("Registered Canvas Module"),this.canvasMetaModelService.registerCreateMethod(this.createModel),console.log("Registered Canvas Module as create method for canvas models"),this.canvasMetaModelService.registerEditMethod(this.editModel),console.log("Registered Canvas Module as edit method for canvas models"),this.canvasMetaModelService.registerViewMethod(this.viewModel),console.log("Registered Canvas Module as view method for canvas models")}createModel(e,i,o){return Y(function*(){const r=Kc(i);yield e.navigate(["canvas","artifact",o,"create"],{queryParams:r})})()}editModel(e,i,o){return Y(function*(){const r=e,s=Kc(o);yield i.navigate(["canvas",r.id,"instance",r.instanceId,"edit"],{queryParams:s})})()}viewModel(e,i,o){return Y(function*(){const r=e,s=Kc(o);yield i.navigate(["canvas",r.id,"instance",r.instanceId,"view"],{queryParams:s})})()}getMethods(){const e=this.fb;return[{name:"createCanvas",description:"Creates a canvas",input:[],output:[{name:"Canvas",type:No.typeName}],isMethodCorrectlyDefined:this.isMethodCorrectlyDefinedCreate.bind(this),getHelpTextForMethodCorrectlyDefined:this.isMethodCorrectlyDefinedCreateHelpText.bind(this),configurationFormComponent:DBe,createConfigurationForm:i=>e.group({definitionId:[i?i.definitionId:null,ft.required]}),equalPredefinedInput:(i,o)=>null==i&&null==o||null!=i&&null!=o&&i.definitionId===o.definitionId,decisionConfigurationFormComponent:EBe,createDecisionConfigurationForm:i=>e.group({companyModelId:[null==i?void 0:i.companyModelId,ft.required]}),equalStepDecision:(i,o)=>null==i&&null==o||null!=i&&null!=o&&i.companyModelId===o.companyModelId},{name:"editCanvas",description:"Edit a canvas",input:[{name:"Canvas",type:No.typeName}],output:[{name:"Canvas",type:No.typeName}],isMethodCorrectlyDefined:this.isMethodCorrectlyDefined.bind(this),getHelpTextForMethodCorrectlyDefined:this.isMethodCorrectlyDefinedHelpText.bind(this)},{name:"refineCanvas",description:"Refine canvas through hints and patterns",input:[{name:"Canvas",type:No.typeName}],output:[{name:"Canvas",type:No.typeName}],isMethodCorrectlyDefined:this.isMethodCorrectlyDefined.bind(this),getHelpTextForMethodCorrectlyDefined:this.isMethodCorrectlyDefinedHelpText.bind(this)},{name:"compareCompetitors",description:"Compare competitors with the business model canvas",input:[{name:"Canvas",type:No.typeName}],output:[{name:"Canvas",type:No.typeName}],isMethodCorrectlyDefined:this.isMethodCorrectlyDefined.bind(this),getHelpTextForMethodCorrectlyDefined:this.isMethodCorrectlyDefinedHelpText.bind(this)},{name:"createCompetitors",description:"Add competitors to the model",input:[{name:"Canvas",type:No.typeName}],output:[{name:"Canvas",type:No.typeName}],isMethodCorrectlyDefined:this.isMethodCorrectlyDefined.bind(this),getHelpTextForMethodCorrectlyDefined:this.isMethodCorrectlyDefinedHelpText.bind(this)},{name:"manageCompetitors",description:"Edit and remove competitors of the model",input:[{name:"Canvas",type:No.typeName}],output:[{name:"Canvas",type:No.typeName}],isMethodCorrectlyDefined:this.isMethodCorrectlyDefined.bind(this),getHelpTextForMethodCorrectlyDefined:this.isMethodCorrectlyDefinedHelpText.bind(this)},{name:"viewCanvas",description:"View the canvas",input:[{name:"Canvas",type:No.typeName}],output:[{name:"Canvas",type:No.typeName}],isMethodCorrectlyDefined:this.isMethodCorrectlyDefined.bind(this),getHelpTextForMethodCorrectlyDefined:this.isMethodCorrectlyDefinedHelpText.bind(this)},{name:"editModel",description:"Edit the company model",input:[{name:"Canvas",type:No.typeName}],output:[{name:"Canvas",type:No.typeName}],isMethodCorrectlyDefined:this.isMethodCorrectlyDefined.bind(this),getHelpTextForMethodCorrectlyDefined:this.isMethodCorrectlyDefinedHelpText.bind(this)}]}isMethodCorrectlyDefinedCreate(e,i,o,r){return null==this.isMethodCorrectlyDefinedCreateHelpText(e,i,o,r)}isMethodCorrectlyDefinedCreateHelpText(e,i,o,r){if(!this.checkMappings(e,r[0],{definitionId:o.definitionId}))return"This method creates a canvas with a canvas model that is not compatible with an output artifact and there is a flow that leads to that output artifact."}isMethodCorrectlyDefined(e,i,o,r){return null==this.isMethodCorrectlyDefinedHelpText(e,i,o,r)}isMethodCorrectlyDefinedHelpText(e,i,o,r){if(1!==i.length||1!==r.length)throw new Error("Method has not exactly one input and one output");if(0!==i.flat().length&&!i[0].filter(s=>!s.isStep).every(s=>{var a;const l=e.inputArtifacts.groups[s.index].items[s.artifact];return null==(null===(a=l.element)||void 0===a?void 0:a.metaModelData)||this.checkMappings(e,r[0],l.element.metaModelData)}))return"This method has an input artifact that has a non compatible canvas model to an output artifact and there is a flow that leads to that output artifact."}checkMappings(e,i,o){return 0===i.length||i.every(r=>{var s,a;if(r.isOutputMapping()){if(e.outputArtifacts.groups.length<=r.group||e.outputArtifacts.groups[r.group].items.length<=r.artifact)return!0;const l=e.outputArtifacts.groups[r.group].items[r.artifact];return null==l||null==(null===(s=l.element)||void 0===s?void 0:s.metaModelData)||this.canvasMetaModelApiService.compatibleMetaModelData(o,null===(a=l.element)||void 0===a?void 0:a.metaModelData)}if(r.isStepMapping()){const l=e.executionSteps[r.step];return!!ho(l)&&this.checkMappings(e,l.outputMappings[0],o)}return!1})}}return t.\u0275fac=function(e){return new(e||t)(Ve(FBe),Ve(J3),Ve(Z3),Ve(Lo),Ve(Cs),Ve(zt),Ve(zr))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),IBe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:[{provide:kl,useFactory:n=>()=>n.init(),deps:[ABe],multi:!0}],imports:[[A0,bBe]]}),t})();class ZG extends gs{constructor(n,e,i){super(n,e,i);const o=null!=n?n:e;if(null==o)throw new Error("Either entry or init must be provided.");this.name=o.name,this.whiteboard=o.whiteboard}toDb(){return Object.assign(Object.assign({},super.toDb()),{name:this.name,whiteboard:this.whiteboard})}}let If=(()=>{class t extends ZG{constructor(e,i){super(e,i,t.typeName)}toDb(){return super.toDb()}}return t.typeName="WhiteboardInstance",t})();var Yr=E(8621);let $_=(()=>{class t{getReadonlyWhiteboardCanvas(e,i){return Y(function*(){const o=new Yr.fabric.Canvas(e);return o.interactive=!1,o.selection=!1,yield new Promise(r=>o.loadFromJSON(i,r)),o.forEachObject(r=>r.set({selectable:!1,lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,lockRotation:!0,hoverCursor:"default",moveCursor:"default"})),o})()}getWhiteboardCanvas(e,i){return Y(function*(){const o=new Yr.fabric.Canvas(e);return yield new Promise(r=>o.loadFromJSON(i,r)),o.forEachObject(r=>{const s=r.get("data");null!=s&&(s.interactive||r.set({selectable:!1,lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,lockRotation:!0,hoverCursor:"default",moveCursor:"default"}))}),o})()}getWhiteboardCanvasSerialization(e){return e.fire("save"),JSON.stringify(e.toJSON(["data"]))}getEmptyWhiteboardCanvas(){const e=new Yr.fabric.Canvas(null),i=JSON.stringify(e);return e.dispose(),i}setReadOnly(e){var i=this;return Y(function*(){const o=new Yr.fabric.Canvas(null);yield new Promise(a=>o.loadFromJSON(e,a));const r={interactive:!1};o.forEachObject(a=>{a.set("data",r)});const s=i.getWhiteboardCanvasSerialization(o);return o.dispose(),s})()}reload(e,i){return Y(function*(){yield new Promise(o=>e.loadFromJSON(i,o))})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),kf=(()=>{class t extends xa{constructor(e,i){super(e),this.whiteboardCanvasService=i,this.typeName=If.typeName,this.elementConstructor=If}addByTemplate(e,i){var o=this;return Y(function*(){const r=new If(void 0,{name:e,whiteboard:yield o.whiteboardCanvasService.setReadOnly(i.whiteboard)});return yield o.save(r),r})()}saveWhiteboardCanvas(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.whiteboard=i,yield o.save(r)})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(rs),Ve($_))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),eV=(()=>{class t{constructor(e){this.whiteboardInstanceService=e}create(e,i,o){null==this.createMethod?console.warn("No module to create whiteboards added"):this.createMethod(e,i,o)}edit(e,i,o){null==this.editMethod?console.warn("No module to edit whiteboards added"):this.editMethod(e,i,o)}copy(e){var i=this;return Y(function*(){const o=yield i.whiteboardInstanceService.get(e.id);return o.resetDatabaseState(),yield i.whiteboardInstanceService.add(o),{id:o._id,type:If.typeName}})()}getName(e){var i=this;return Y(function*(){return(yield i.whiteboardInstanceService.get(e.id)).name})()}remove(e){var i=this;return Y(function*(){yield i.whiteboardInstanceService.delete(e.id)})()}view(e,i,o){null==this.viewMethod?console.warn("No module to view whiteboards added"):this.viewMethod(e,i,o)}}return t.\u0275fac=function(e){return new(e||t)(Ve(kf))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),r4=(()=>{class t{constructor(e,i){this.metaModelService=e,this.whiteboardMetaModelApiService=i,this.whiteboardMetaModelIdentifier={name:"Whiteboard",type:If.typeName}}init(){const e=Object.assign(Object.assign({},this.whiteboardMetaModelIdentifier),{api:this.whiteboardMetaModelApiService});this.metaModelService.registerMetaModel(e),console.log("Registered Whiteboard Meta Model")}registerCreateMethod(e){this.whiteboardMetaModelApiService.createMethod=e}registerEditMethod(e){this.whiteboardMetaModelApiService.editMethod=e}registerViewMethod(e){this.whiteboardMetaModelApiService.viewMethod=e}}return t.\u0275fac=function(e){return new(e||t)(Ve(Zl),Ve(eV))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),tV=(()=>{class t{constructor(e){if(e)throw new Error("WhiteboardMetaModelModule is already loaded. Import it in the AppModule only.")}}return t.\u0275fac=function(e){return new(e||t)(Ve(t,12))},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:[$_,kf,r4,eV,{provide:kl,useFactory:n=>()=>n.init(),deps:[r4],multi:!0}]}),t})(),s4=(()=>{class t extends ZG{constructor(e,i){var o,r;super(e,i,t.typeName),this.description="",this.description=null!==(o=(null!=e?e:i).description)&&void 0!==o?o:this.description,this.author=null!=e?new Ks(e.author,void 0):new Ks(void 0,null!==(r=null==i?void 0:i.author)&&void 0!==r?r:{})}toDb(){return Object.assign(Object.assign({},super.toDb()),{description:this.description,author:this.author.toDb()})}}return t.typeName="WhiteboardTemplate",t})(),vp=(()=>{class t extends xa{constructor(e,i){super(e),this.whiteboardCanvasService=i,this.typeName=s4.typeName,this.elementConstructor=s4}getWhiteboardTemplateInitialization(e){return{name:e,whiteboard:this.whiteboardCanvasService.getEmptyWhiteboardCanvas()}}saveWhiteboardCanvas(e,i){var o=this;return Y(function*(){const r=yield o.get(e);r.whiteboard=i,yield o.save(r)})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(rs),Ve($_))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:tV}),t})();const kBe=["deleteWhiteboardTemplateModal"];function NBe(t,n){if(1&t){const e=ye();c(0,"app-delete-modal",22),z("dismiss",function(){return W(e),T().dismiss()})("delete",function(){W(e);const o=T().close,r=T();return r.deleteWhiteboardTemplate(r.modalWhiteboardTemplate._id),o()}),c(1,"div",23),g(2),u(),g(3),u()}if(2&t){const e=T(2);p(2),Be(" Delete Whiteboard Template ",e.modalWhiteboardTemplate.name," "),p(1),Be(" You are deleting the whiteboard template ",e.modalWhiteboardTemplate.name,". This can not be undone. This action will not delete the whiteboard template from whiteboard instances that are using it. ")}}function RBe(t,n){1&t&&k(0,NBe,4,2,"app-delete-modal",21),2&t&&v("ngIf",null!=T().modalWhiteboardTemplate)}const nV=function(t){return[t]};function OBe(t,n){if(1&t&&(c(0,"a",24),g(1),u()),2&t){const e=n.$implicit;v("routerLink",Fn(2,nV,e._id)),p(1),_t(e.name)}}function BBe(t,n){if(1&t){const e=ye();c(0,"li",25)(1,"app-results-list-item",26),z("delete",function(){const r=W(e).$implicit;return T().openDeleteWhiteboardTemplateModal(r)}),St(2,27),g(3),Et(),St(4,28),g(5),Et(),re(6,"app-author-info",29),u()()}if(2&t){const e=n.$implicit;p(1),v("viewLink",Fn(4,nV,e._id)),p(2),Be(" ",e.name," "),p(2),Be(" ",e.description," "),p(1),v("author",e.author)}}const LBe=function(){return[]};let jBe=(()=>{class t{constructor(e,i,o,r){this.listService=e,this.fb=i,this.modalService=o,this.whiteboardTemplateService=r,this.whiteboardTemplateForm=this.fb.group({name:this.fb.control("",ft.required)})}openDeleteWhiteboardTemplateModal(e){this.modalWhiteboardTemplate=e,this.modalReference=this.modalService.open(this.deleteWhiteboardTemplateModal,{size:"lg"})}deleteWhiteboardTemplate(e){var i=this;return Y(function*(){yield i.listService.delete(e)})()}addWhiteboardTemplate(e){var i=this;return Y(function*(){yield i.listService.add(i.whiteboardTemplateService.getWhiteboardTemplateInitialization(e.value.name)),i.whiteboardTemplateForm.reset()})()}get whiteboardTemplatesList(){return this.listService.elements}get noResults(){return this.listService.noResults}get loading(){return this.listService.loading}get reloading(){return this.listService.reloading}}return t.\u0275fac=function(e){return new(e||t)(H(Go),H(zt),H(jn),H(vp))},t.\u0275cmp=He({type:t,selectors:[["app-whiteboard-templates"]],viewQuery:function(e,i){if(1&e&&Ft(kBe,7),2&e){let o;bt(o=yt())&&(i.deleteWhiteboardTemplateModal=o.first)}},features:[Tt([Go,{provide:Vs,useExisting:vp}])],decls:29,vars:9,consts:[["deleteWhiteboardTemplateModal",""],[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link","active",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngFor","ngForOf"],["role","main",1,"container"],["role","alert",1,"my-3","alert","alert-info"],["listTitle","Whiteboard Templates",3,"reloading","loading","noResults"],["noResults",""],["results","",1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],[3,"dismiss","delete",4,"ngIf"],[3,"dismiss","delete"],["modalTitle",""],[1,"nav-link",3,"routerLink"],[1,"list-group-item"],[3,"viewLink","delete"],["itemTitle",""],["itemDescription",""],[3,"author"]],template:function(e,i){1&e&&(k(0,RBe,1,1,"ng-template",null,0,$t),c(2,"div",1)(3,"nav",2)(4,"a",3),g(5,"Whiteboard Templates"),u(),k(6,OBe,2,4,"a",4),u()(),c(7,"main",5)(8,"div",6),g(9," Create Whiteboard Templates to use them for Whiteboard Instances "),u(),c(10,"app-list-wrapper",7)(11,"div",8),g(12,"No Whiteboard Templates defined."),u(),c(13,"ul",9),k(14,BBe,7,6,"li",10),u()(),c(15,"div",11)(16,"h6",12),g(17,"Add Whiteboard Template"),u(),c(18,"div",13)(19,"form",14),z("ngSubmit",function(){return i.addWhiteboardTemplate(i.whiteboardTemplateForm)}),c(20,"div",15)(21,"label",16),g(22,"Whiteboard Template Name"),u(),c(23,"div",17),re(24,"input",18),u()(),c(25,"div",15)(26,"div",19)(27,"button",20),g(28," Add Whiteboard Template "),u()()()()()()()),2&e&&(p(4),v("routerLink",Bt(8,LBe)),p(2),v("ngForOf",i.whiteboardTemplatesList),p(4),v("reloading",i.reloading)("loading",i.loading)("noResults",i.noResults),p(4),v("ngForOf",i.whiteboardTemplatesList),p(5),v("formGroup",i.whiteboardTemplateForm),p(8),v("disabled",!i.whiteboardTemplateForm.valid))},directives:[nt,cr,gn,Lt,Ss,L_,H0,nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})(),iV=(()=>{class t extends Es{constructor(e,i){super(i),this.whiteboardTemplateService=e}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.whiteboardTemplateService.getChangesFeed(i).subscribe(()=>this.loadWhiteboardTemplate(i)),this.loadWhiteboardTemplate(i)):this.whiteboardTemplate=void 0}loadWhiteboardTemplate(e){var i=this;return Y(function*(){i.whiteboardTemplate=yield i.whiteboardTemplateService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(vp),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();const W_=Yr.fabric.util.createClass(Yr.fabric.Group,{type:"canvasNote",initialize:function(t,n){if(null!=t){const o=new Yr.fabric.Textbox("Note...",{originX:"center",originY:"center",width:100}),r=new Yr.fabric.Polygon([{x:-100,y:-50},{x:80,y:-50},{x:100,y:-30},{x:100,y:50},{x:-100,y:50}],{fill:t.color,shadow:new Yr.fabric.Shadow({offsetY:5,color:"rgba(0,0,0,0.25)"}),selectable:!1}),s=new Yr.fabric.Polygon([{x:80,y:-50},{x:80,y:-30},{x:100,y:-30}],{fill:t.darkerColor,selectable:!1});this.callSuper("initialize",[r,s,o],{left:t.point.x-100,top:t.point.y-50,fill:t.color})}else{if(null==n)throw new Error("Either init or fromObject must be provided!");this.callSuper("initialize",n.objects,n.options,n.isAlreadyGrouped)}this._initEventListeners()},_initEventListeners:function(){this.on("mousedblclick",()=>{const n=this.getTextbox(),e=this.canvas;this.off();const i=this.getObjects();this.destroy(),e.remove(this),e.add(...i),e.setActiveObject(n),n.enterEditing(),n.selectAll();const o=()=>{e.off("save",o),n.off("editing:exited",o),e.remove(...i);const r=new W_(void 0,{objects:i});e.add(r)};n.on("editing:exited",o),e.on("save",o)})},_set(t,n){return"strokeWidth"===t&&3===this._objects.length&&(this.getRectangle().set("strokeWidth",n),this.getTriangle().set("strokeWidth",n)),Yr.fabric.Group.prototype._set.call(this,t,n)},setFillColor(t,n){this.getRectangle().set("fill",t),this.getTriangle().set("fill",n),this.set("fill",t)},setStrokeColor(t){this.getRectangle().set("stroke",t),this.getTriangle().set("stroke",t),this.set("stroke",t)},getTextbox:function(){return this.item(2)},getTriangle:function(){return this.item(1)},getRectangle:function(){return this.item(0)}});W_.fromObject=function(t,n){Yr.fabric.util.enlivenObjects(t.objects,function(e){const i=Yr.fabric.util.object.clone(t,!0);delete i.objects,n(new W_(void 0,{objects:e,options:i,isAlreadyGrouped:!0}))},"fabric")},Yr.fabric.CanvasNote=W_;const rw={name:"no color",value:"",darker:""},Nf=[{name:"black",value:"#000000",darker:"#000000"},{name:"gray",value:"#757575",darker:"#363636"},{name:"white",value:"#FFFFFF",darker:"#BFBFBF"},{name:"yellow",value:"#FFFFA5",darker:"#E6E695"},{name:"blue",value:"#58A7E0",darker:"#3F78A1"},{name:"red",value:"#E02E2B",darker:"#A1211F"},{name:"green",value:"#58E058",darker:"#3FA13F"}];let oV=(()=>{class t{constructor(e){this.fb=e,this.textForm=this.fb.group({bold:this.fb.control(!1,ft.required),italic:this.fb.control(!1,ft.required),underline:this.fb.control(!1,ft.required),strikethrough:this.fb.control(!1,ft.required)}),this.textFormSubscriptions=[]}init(e){this.canvas=e,this.textFormSubscriptions.push(this.boldControl.valueChanges.subscribe(i=>this.setBold(i))),this.textFormSubscriptions.push(this.italicControl.valueChanges.subscribe(i=>this.setItalic(i))),this.textFormSubscriptions.push(this.underlineControl.valueChanges.subscribe(i=>this.setUnderline(i))),this.textFormSubscriptions.push(this.strikethroughControl.valueChanges.subscribe(i=>this.setStrikethrough(i)))}ngOnDestroy(){for(const e of this.textFormSubscriptions)e.unsubscribe()}updateTextForm(){if(null==this.canvas)throw new Error("TextFormService not initialized");{const e=this.canvas.getActiveObjects().filter(o=>"textbox"===o.type),i={bold:!0,italic:!0,underline:!0,strikethrough:!0};0===e.length&&(i.bold=!1,i.italic=!1,i.underline=!1,i.strikethrough=!1);for(const o of e){const r=o;if(r.isEditing){const s=r.getSelectionStyles();0===s.length&&(i.bold=!1,i.italic=!1,i.underline=!1,i.strikethrough=!1);for(const a of s)(!("fontWeight"in a)||"bold"!==a.fontWeight)&&(i.bold=!1),(!("fontStyle"in a)||"italic"!==a.fontStyle)&&(i.italic=!1),(!("underline"in a)||!a.underline)&&(i.underline=!1),(!("linethrough"in a)||!a.linethrough)&&(i.strikethrough=!1)}else"bold"!==r.get("fontWeight")&&(i.bold=!1),"italic"!==r.get("fontStyle")&&(i.italic=!1),r.get("underline")||(i.underline=!1),r.get("linethrough")||(i.strikethrough=!1)}this.textForm.setValue(i,{emitEvent:!1})}}setBold(e){this.setTextStyle("fontWeight",e?"bold":"normal")}setItalic(e){this.setTextStyle("fontStyle",e?"italic":"normal")}setUnderline(e){this.setTextStyle("underline",e)}setStrikethrough(e){this.setTextStyle("linethrough",e)}setTextStyle(e,i){if(null!=this.canvas){const o=this.canvas.getActiveObjects();for(const r of o)if("textbox"===r.type){const s=r;s.isEditing?s.setSelectionStyles({[e]:i}):(s.set(e,i),s.setSelectionStyles({[e]:i},0,s.text.length))}this.canvas.renderAll()}}get boldControl(){return this.textForm.get("bold")}get italicControl(){return this.textForm.get("italic")}get underlineControl(){return this.textForm.get("underline")}get strikethroughControl(){return this.textForm.get("strikethrough")}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();var ia=(()=>(function(t){t[t.FILL=0]="FILL",t[t.STROKE=1]="STROKE"}(ia||(ia={})),ia))();let rV=(()=>{class t{constructor(e){this.fb=e,this.colorForm=this.fb.group({control:this.fb.control(ia.FILL,ft.required),color:this.fb.control(void 0)}),this.colorFormSubscriptions=[]}init(e){this.canvas=e,this.colorFormSubscriptions.push(this.colorControlControl.valueChanges.subscribe(()=>this.updateColorForm())),this.colorFormSubscriptions.push(this.colorControl.valueChanges.pipe(Li(i=>null!=i)).subscribe(i=>this.setColor(i)))}ngOnDestroy(){for(const e of this.colorFormSubscriptions)e.unsubscribe()}updateColorForm(){if(null==this.canvas)throw new Error("ColorFormService not initialized");{if(this.canvas.isDrawingMode)return void this.colorControl.setValue(this.getColorFromValue(this.canvas.freeDrawingBrush.color));const e=this.canvas.getActiveObjects();if(0===e.length)return void this.colorControl.setValue(void 0);let o;switch(this.colorControlValue){case ia.STROKE:o="stroke";break;case ia.FILL:o="fill";break;default:return void this.colorControl.setValue(void 0)}const r=e[0];let s;if("textbox"===r.type&&r.isEditing){const l=r.getSelectionStyles();if(0===l.length)return void this.colorControl.setValue(void 0);s=l[0][o];for(const d of l)if(s!==d[o])return void this.colorControl.setValue(void 0)}else{s=e[0][o];for(const a of e)if(s!==a[o])return void this.colorControl.setValue(void 0)}this.colorControl.setValue(this.getColorFromValue(s))}}setColor(e){if(null!=this.canvas){if(this.canvas.isDrawingMode)return void(this.canvas.freeDrawingBrush.color=e.value);const i=this.canvas.getActiveObjects();for(const o of i)if("canvasNote"===o.type){const r=o;switch(this.colorControlValue){case ia.FILL:r.setFillColor(e.value,e.darker);break;case ia.STROKE:r.setStrokeColor(e.value)}}else if("textbox"===o.type&&o.isEditing){const r=o;switch(this.colorControlValue){case ia.FILL:r.setSelectionStyles({fill:e.value});break;case ia.STROKE:r.setSelectionStyles({stroke:e.value})}}else switch(this.colorControlValue){case ia.FILL:o.set("fill",e.value);break;case ia.STROKE:o.set("stroke",e.value)}this.canvas.renderAll()}}getColorFromValue(e){return"string"==typeof e?e===rw.value?rw:Nf.find(i=>i.value===e):null==e?rw:void 0}get colorControlControl(){return this.colorForm.get("control")}get colorControlValue(){return this.colorControlControl.value}get colorControl(){return this.colorForm.get("color")}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})();var wo=(()=>(function(t){t[t.VIEW=0]="VIEW",t[t.MOVE=1]="MOVE",t[t.DRAWING=2]="DRAWING",t[t.TEXT=3]="TEXT",t[t.NOTE=4]="NOTE",t[t.RECT=5]="RECT",t[t.IMAGE=6]="IMAGE"}(wo||(wo={})),wo))();let sV=(()=>{class t{constructor(e){this.fb=e,this.controlsForm=this.fb.group({control:this.fb.control(wo.VIEW,ft.required),colorMenu:this.fb.control(!1,ft.required),fontMenu:this.fb.control(!1,ft.required),propertiesMenu:this.fb.control(!1,ft.required)}),this.controlChangeSubscriptions=[],this.init()}init(){this.controlChangeSubscriptions.push(this.colorMenuControl.valueChanges.pipe(Li(e=>e),un(()=>{this.fontMenuControl.setValue(!1),this.propertiesMenuControl.setValue(!1)})).subscribe()),this.controlChangeSubscriptions.push(this.fontMenuControl.valueChanges.pipe(Li(e=>e),un(()=>{this.colorMenuControl.setValue(!1),this.propertiesMenuControl.setValue(!1)})).subscribe()),this.controlChangeSubscriptions.push(this.propertiesMenuControl.valueChanges.pipe(Li(e=>e),un(()=>{this.colorMenuControl.setValue(!1),this.fontMenuControl.setValue(!1)})).subscribe())}ngOnDestroy(){for(const e of this.controlChangeSubscriptions)e.unsubscribe()}get controlControl(){return this.controlsForm.get("control")}get controlValue(){return this.controlControl.value}get colorMenuControl(){return this.controlsForm.get("colorMenu")}get colorMenuShown(){return this.colorMenuControl.value}get fontMenuControl(){return this.controlsForm.get("fontMenu")}get fontMenuShown(){return this.fontMenuControl.value}get propertiesMenuControl(){return this.controlsForm.get("propertiesMenu")}get propertiesMenuShown(){return this.propertiesMenuControl.value}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),aV=(()=>{class t{constructor(e){this.fb=e,this.propertiesForm=this.fb.group({width:this.fb.control(1,[ft.required,ft.min(0)])}),this.propertiesFormSubscriptions=[]}init(e){this.canvas=e,this.propertiesFormSubscriptions.push(this.widthControl.valueChanges.pipe(Li(i=>null!=i&&i>0)).subscribe(i=>this.setWidth(i)))}ngOnDestroy(){for(const e of this.propertiesFormSubscriptions)e.unsubscribe()}updatePropertiesForm(){if(null==this.canvas)throw new Error("PropertiesFormService not initialized");{if(this.canvas.isDrawingMode)return void this.widthControl.setValue(this.canvas.freeDrawingBrush.width);const e=this.canvas.getActiveObjects();if(0===e.length)return void this.widthControl.setValue(void 0);const i=e[0];let o;if("textbox"===i.type&&i.isEditing){const s=i.getSelectionStyles();if(0===s.length)return void this.widthControl.setValue(void 0);o=s[0].strokeWidth;for(const a of s)if(o!==a.strokeWidth)return void this.widthControl.setValue(void 0)}else{o=i.get("strokeWidth");for(const r of e)if(o!==r.get("strokeWidth"))return void this.widthControl.setValue(void 0)}this.widthControl.setValue(o)}}setWidth(e){if(null!=this.canvas){if(this.canvas.isDrawingMode)return void(this.canvas.freeDrawingBrush.width=e);const i=this.canvas.getActiveObjects();for(const o of i)"textbox"===o.type&&o.isEditing?o.setSelectionStyles({strokeWidth:e}):o.set("strokeWidth",e);this.canvas.renderAll()}}get widthControl(){return this.propertiesForm.get("width")}get widthControlValue(){return this.widthControl.value}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt))},t.\u0275prov=it({token:t,factory:t.\u0275fac}),t})(),GBe=(()=>{class t{constructor(e,i){this.activeModal=e,this.fb=i,this.form=this.fb.group({file:[null,ft.required]})}fileChange(e){var i;this.imageLoadingError=void 0,this.file=null===(i=e.target.files)||void 0===i?void 0:i[0]}dismiss(){this.activeModal.dismiss()}select(){var e=this;return Y(function*(){if(null!=e.file)try{const i=yield e.loadImage(e.file);e.activeModal.close(i)}catch(i){throw e.imageLoadingError="string"==typeof i?i:i instanceof Error?i.message:"Unknown Error. See browser's console for more info.",i}})()}loadImage(e){return Y(function*(){return new Promise((i,o)=>{e.type.startsWith("image/")||o("File must be an image");const r=new FileReader;r.addEventListener("error",()=>{o("Error loading file")}),r.addEventListener("load",s=>{var a;try{const l=null===(a=s.target)||void 0===a?void 0:a.result;i(l)}catch(l){return void o(l)}}),r.readAsDataURL(e)})})()}}return t.\u0275fac=function(e){return new(e||t)(H(ar),H(zt))},t.\u0275cmp=He({type:t,selectors:[["app-image-selector-modal"]],decls:19,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"text-muted","pt-3"],[1,"form-group","form-row","mb-0"],["for","file",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","file","accept","image/*","id","file","aria-describedby","fileErrorDescription","formControlName","file",1,"form-control",3,"change"],["id","fileErrorDescription",1,"invalid-feedback"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,i){1&e&&(c(0,"form",0),z("ngSubmit",function(){return i.select()}),c(1,"div",1)(2,"h4",2),g(3,"Select Image"),u()(),c(4,"div",3),g(5," Select the image to add to the whiteboard. "),c(6,"div",4)(7,"div",5)(8,"label",6),g(9,"File"),u(),c(10,"div",7)(11,"input",8),z("change",function(r){return i.fileChange(r)}),u(),c(12,"div",9),g(13),u()()()()(),c(14,"div",10)(15,"button",11),z("click",function(){return i.dismiss()}),g(16," Dismiss "),u(),c(17,"button",12),g(18," Select "),u()()()),2&e&&(v("formGroup",i.form),p(11),Ht("is-invalid",null!=i.imageLoadingError),p(2),Be(" ",i.imageLoadingError," "),p(4),v("disabled",!i.form.valid))},directives:[nn,Wt,Vt,wn,Jt,Zt],styles:[""]}),t})();const VBe=["canvasElement"],HBe=["canvasWrapper"];function UBe(t,n){if(1&t&&(c(0,"div",38)(1,"label",11),re(2,"input",12)(3,"i",39),c(4,"span",5),g(5,"fill"),u()(),c(6,"label",11),re(7,"input",12)(8,"i",18),c(9,"span",5),g(10,"outline"),u()()()),2&t){const e=T(2);p(2),v("value",e.colorControls.FILL),p(5),v("value",e.colorControls.STROKE)}}function zBe(t,n){if(1&t&&(c(0,"label",11),re(1,"input",12)(2,"i",40),c(3,"span",5),g(4),u()()),2&t){const e=T(2);p(1),v("value",e.noColor),p(3),_t(e.noColor.name)}}function qBe(t,n){if(1&t&&(c(0,"label",11),re(1,"input",12)(2,"i",39),c(3,"span",5),g(4),u()()),2&t){const e=n.$implicit;p(1),v("value",e),p(1),hh("color",e.value),p(2),_t(e.name)}}function $Be(t,n){if(1&t&&(c(0,"div",0)(1,"form",9),k(2,UBe,11,2,"div",34),c(3,"div",35),k(4,zBe,5,2,"label",36),k(5,qBe,5,4,"label",37),u()()()),2&t){const e=T();p(1),v("formGroup",e.colorForm),p(1),v("ngIf",!e.isDrawingMode),p(2),v("ngIf",!e.isDrawingMode),p(1),v("ngForOf",e.colors)}}function WBe(t,n){if(1&t&&(c(0,"div",0)(1,"form",9)(2,"div",41)(3,"label",11),re(4,"input",42)(5,"i",43),c(6,"span",5),g(7,"bold"),u()(),c(8,"label",11),re(9,"input",44)(10,"i",45),c(11,"span",5),g(12,"italic"),u()(),c(13,"label",11),re(14,"input",46)(15,"i",47),c(16,"span",5),g(17,"underline"),u()(),c(18,"label",11),re(19,"input",48)(20,"i",49),c(21,"span",5),g(22,"strikethrough"),u()()()()()),2&t){const e=T();p(1),v("formGroup",e.textForm)}}function YBe(t,n){if(1&t&&(c(0,"div",0)(1,"form",9)(2,"div",50)(3,"label",51),g(4,"Line Width"),u(),re(5,"input",52),u()()()),2&t){const e=T();p(1),v("formGroup",e.propertiesForm)}}let sw=(()=>{class t{constructor(e,i,o,r,s,a){this.colorFormService=e,this.controlFormService=i,this.modalService=o,this.propertiesFormService=r,this.textFormService=s,this.whiteboardCanvasService=a,this.zoomValue=1,this.moving=!1,this.adding=!1}ngAfterViewInit(){this.initCanvas(),this.controlChangeSubscription=this.controlFormService.controlControl.valueChanges.pipe(un(e=>this.controlChange(e))).subscribe(),this.resizeSubscription=sr(window,"resize").pipe($i(300),un(()=>this.resize())).subscribe()}ngOnDestroy(){null!=this.resizeSubscription&&this.resizeSubscription.unsubscribe(),null!=this.canvas&&this.canvas.dispose()}initCanvas(){var e=this;return Y(function*(){e.canvas=yield e.whiteboardCanvasService.getWhiteboardCanvas(e.canvasElement.nativeElement,e.whiteboardCanvas),e.canvas.freeDrawingBrush.color=Nf[0].value,e.canvas.freeDrawingBrush.width=e.propertiesFormService.widthControlValue,e.resize(),e.colorFormService.init(e.canvas),e.textFormService.init(e.canvas),e.propertiesFormService.init(e.canvas),e.canvas.on("mouse:move",i=>e.mouseMove(i)),e.canvas.on("mouse:down",i=>e.mouseDown(i)),e.canvas.on("mouse:up",i=>e.mouseUp(i)),e.canvas.on("selection:created",()=>e.updateForms()),e.canvas.on("selection:updated",()=>e.updateForms()),e.canvas.on("selection:cleared",()=>e.updateForms()),e.canvas.on("text:selection:changed",()=>e.updateForms())})()}resize(){const e=this.canvasWrapper.nativeElement.clientWidth;this.canvas.setWidth(e),this.canvas.setHeight(e/3.5),this.canvas.setZoom(e*this.zoomValue/1140)}updateForms(){this.colorFormService.updateColorForm(),this.textFormService.updateTextForm(),this.propertiesFormService.updatePropertiesForm()}controlChange(e){switch(this.canvas.selection=!0,this.canvas.isDrawingMode=!1,e){case wo.VIEW:this.canvas.defaultCursor="default";break;case wo.MOVE:this.canvas.defaultCursor="move",this.canvas.selection=!1;break;case wo.DRAWING:this.canvas.isDrawingMode=!0;break;case wo.TEXT:case wo.NOTE:case wo.RECT:this.canvas.defaultCursor="cell";break;case wo.IMAGE:this.canvas.defaultCursor="cell",this.openSelectImageModal()}this.colorFormService.updateColorForm(),this.propertiesFormService.updatePropertiesForm()}mouseMove(e){if(null!=e.absolutePointer&&this.moving&&null!=this.lastMousePosition&&this.controlFormService.controlValue===wo.MOVE){const i=this.canvas.viewportTransform;i[4]+=e.absolutePointer.x-this.lastMousePosition.x,i[5]+=e.absolutePointer.y-this.lastMousePosition.y,this.canvas.setViewportTransform(i)}}mouseDown(e){if(null==e.target&&null!=e.absolutePointer)switch(this.controlFormService.controlValue){case wo.TEXT:const i=new Yr.fabric.Textbox("Text",{top:e.absolutePointer.y,left:e.absolutePointer.x,width:50});this.canvas.add(i),this.controlFormService.controlControl.setValue(wo.VIEW);break;case wo.NOTE:this.canvas.add(this.createNote(e.absolutePointer)),this.controlFormService.controlControl.setValue(wo.VIEW);break;case wo.RECT:this.lastMousePosition=e.absolutePointer,this.adding=!0;break;case wo.MOVE:this.lastMousePosition=e.absolutePointer,this.moving=!0;break;case wo.IMAGE:this.addImage(e.absolutePointer),this.controlFormService.controlControl.setValue(wo.VIEW),this.image=void 0}}mouseUp(e){if(this.adding&&null!=e.absolutePointer&&null!=this.lastMousePosition){let i;if(i=e.absolutePointer.distanceFrom(this.lastMousePosition)<10?{left:e.absolutePointer.x-10,top:e.absolutePointer.y-10,width:20,height:20}:{left:Math.min(this.lastMousePosition.x,e.absolutePointer.x),top:Math.min(this.lastMousePosition.y,e.absolutePointer.y),width:Math.abs(this.lastMousePosition.x-e.absolutePointer.x),height:Math.abs(this.lastMousePosition.y-e.absolutePointer.y)},this.controlFormService.controlValue===wo.RECT){const o=new Yr.fabric.Rect(Object.assign(Object.assign({},i),{fill:Nf[1].value}));this.canvas.add(o)}this.controlFormService.controlControl.setValue(wo.VIEW)}this.moving=!1,this.adding=!1}keydown(e){}zoom(e){this.zoomValue+=.1*e,this.resize()}zoomReset(){this.zoomValue=1,this.resize()}delete(){this.canvas.remove(...this.canvas.getActiveObjects()),this.canvas.discardActiveObject()}save(){return this.whiteboardCanvasService.getWhiteboardCanvasSerialization(this.canvas)}get colorMenuShown(){return this.controlFormService.colorMenuShown}get fontMenuShown(){return this.controlFormService.fontMenuShown}get propertiesMenuShown(){return this.controlFormService.propertiesMenuShown}get controls(){return wo}get colorControls(){return ia}get colors(){return Nf}get noColor(){return rw}get isDrawingMode(){var e;return!!(null===(e=this.canvas)||void 0===e?void 0:e.isDrawingMode)}get controlsForm(){return this.controlFormService.controlsForm}get colorForm(){return this.colorFormService.colorForm}get textForm(){return this.textFormService.textForm}get propertiesForm(){return this.propertiesFormService.propertiesForm}createNote(e){return new W_({color:Nf[3].value,darkerColor:Nf[3].darker,point:e})}addImage(e){var i=this;return Y(function*(){if(null==i.image)throw new Error("Do not call this method without an image");i.canvas.add(yield i.createImage(i.image,e))})()}openSelectImageModal(){const e=this.modalService.open(GBe);e.closed.subscribe(i=>this.image=i),e.dismissed.subscribe(()=>this.controlFormService.controlControl.setValue(wo.VIEW))}createImage(e,i){return Y(function*(){const o=document.createElement("img");return o.src=e,yield o.decode(),new Yr.fabric.Image(o,{left:i.x,top:i.y,originX:"center",originY:"center"})})()}}return t.\u0275fac=function(e){return new(e||t)(H(rV),H(sV),H(jn),H(aV),H(oV),H($_))},t.\u0275cmp=He({type:t,selectors:[["app-whiteboard-canvas"]],viewQuery:function(e,i){if(1&e&&(Ft(VBe,5),Ft(HBe,5)),2&e){let o;bt(o=yt())&&(i.canvasElement=o.first),bt(o=yt())&&(i.canvasWrapper=o.first)}},hostBindings:function(e,i){1&e&&z("keydown",function(r){return i.keydown(r)},!1,M5)},inputs:{whiteboardCanvas:"whiteboardCanvas"},features:[Tt([rV,sV,aV,oV])],decls:80,vars:11,consts:[[1,"d-flex","mb-1","justify-content-center"],[1,"d-flex","flex-1"],["role","group","aria-label","Zoom",1,"btn-group"],["type","button",1,"btn","btn-light",3,"click"],[1,"fas","fa-minus","fa-fw","whiteboard-icon"],[1,"sr-only"],[1,"fas","fa-plus","fa-fw","whiteboard-icon"],["type","button",1,"ml-3","btn","btn-light",3,"click"],[1,"d-flex"],[3,"formGroup"],["ngbRadioGroup","","name","control","formControlName","control",1,"btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn-light"],["ngbButton","","type","radio",3,"value"],[1,"fas","fa-mouse-pointer","fa-fw","whiteboard-icon"],[1,"fas","fa-arrows-alt","fa-fw","whiteboard-icon"],[1,"fas","fa-pen","fa-fw","whiteboard-icon"],[1,"fas","fa-paragraph","fa-fw","whiteboard-icon"],[1,"far","fa-sticky-note","fa-fw","whiteboard-icon"],[1,"far","fa-square","fa-fw","whiteboard-icon"],[1,"far","fa-image","fa-fw","whiteboard-icon"],[1,"ml-3","btn-group","btn-group-toggle"],["type","checkbox","formControlName","colorMenu","ngbButton",""],[1,"fas","fa-palette","fa-fw","whiteboard-icon"],["type","checkbox","formControlName","fontMenu","ngbButton",""],[1,"fas","fa-font","fa-fw","whiteboard-icon"],["type","checkbox","formControlName","propertiesMenu","ngbButton",""],[1,"fas","fa-sliders-h","fa-fw","whiteboard-icon"],[1,"flex-1","d-flex"],[1,"ml-auto","btn","btn-light",3,"click"],[1,"fas","fa-trash","fa-fw","whiteboard-icon"],["class","d-flex mb-1 justify-content-center",4,"ngIf"],[1,"border"],["canvasWrapper",""],["canvasElement",""],["class","btn-group btn-group-toggle mr-3","ngbRadioGroup","","name","control","formControlName","control",4,"ngIf"],["ngbRadioGroup","","name","color","formControlName","color",1,"btn-group","btn-group-toggle"],["ngbButtonLabel","","class","btn-light",4,"ngIf"],["ngbButtonLabel","","class","btn-light",4,"ngFor","ngForOf"],["ngbRadioGroup","","name","control","formControlName","control",1,"btn-group","btn-group-toggle","mr-3"],[1,"fas","fa-square","fa-fw","whiteboard-icon"],[1,"fas","fa-tint-slash","fa-fw","whiteboard-icon"],[1,"btn-group","btn-group-toggle"],["type","checkbox","formControlName","bold","ngbButton",""],[1,"fas","fa-bold","fa-fw","whiteboard-icon"],["type","checkbox","formControlName","italic","ngbButton",""],[1,"fas","fa-italic","fa-fw","whiteboard-icon"],["type","checkbox","formControlName","underline","ngbButton",""],[1,"fas","fa-underline","fa-fw","whiteboard-icon"],["type","checkbox","formControlName","strikethrough","ngbButton",""],[1,"fas","fa-strikethrough","fa-fw","whiteboard-icon"],[1,"form-group","mb-0"],["for","widthInput"],["id","widthInput","type","number","formControlName","width","min","0","step","0.1","placeholder","e.g., 1",1,"form-control"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),z("click",function(){return i.zoom(-1)}),re(4,"i",4),c(5,"span",5),g(6,"Zoom out"),u()(),c(7,"button",3),z("click",function(){return i.zoom(1)}),re(8,"i",6),c(9,"span",5),g(10,"Zoom in"),u()(),c(11,"button",7),z("click",function(){return i.zoomReset()}),c(12,"b"),g(13,"Reset zoom"),u()()()(),c(14,"div",8)(15,"form",9)(16,"div",10)(17,"label",11),re(18,"input",12)(19,"i",13),c(20,"span",5),g(21,"View"),u()(),c(22,"label",11),re(23,"input",12)(24,"i",14),c(25,"span",5),g(26,"Move screen"),u()(),c(27,"label",11),re(28,"input",12)(29,"i",15),c(30,"span",5),g(31,"Free drawing"),u()(),c(32,"label",11),re(33,"input",12)(34,"i",16),c(35,"span",5),g(36,"Text"),u()(),c(37,"label",11),re(38,"input",12)(39,"i",17),c(40,"span",5),g(41,"Note"),u()(),c(42,"label",11),re(43,"input",12)(44,"i",18),c(45,"span",5),g(46,"Rectangle"),u()(),c(47,"label",11),re(48,"input",12)(49,"i",19),c(50,"span",5),g(51,"Image"),u()()(),c(52,"div",20)(53,"label",11),re(54,"input",21)(55,"i",22),c(56,"span",5),g(57,"Color"),u()(),c(58,"label",11),re(59,"input",23)(60,"i",24),c(61,"span",5),g(62,"Font"),u()(),c(63,"label",11),re(64,"input",25)(65,"i",26),c(66,"span",5),g(67,"Properties"),u()()()()(),c(68,"div",27)(69,"button",28),z("click",function(){return i.delete()}),re(70,"i",29),c(71,"span",5),g(72,"Delete"),u()()()(),k(73,$Be,6,4,"div",30),k(74,WBe,23,1,"div",30),k(75,YBe,6,1,"div",30),c(76,"div",31,32),re(78,"canvas",null,33),u()),2&e&&(p(15),v("formGroup",i.controlsForm),p(3),v("value",i.controls.VIEW),p(5),v("value",i.controls.MOVE),p(5),v("value",i.controls.DRAWING),p(5),v("value",i.controls.TEXT),p(5),v("value",i.controls.NOTE),p(5),v("value",i.controls.RECT),p(5),v("value",i.controls.IMAGE),p(25),v("ngIf",i.colorMenuShown),p(1),v("ngIf",i.fontMenuShown),p(1),v("ngIf",i.propertiesMenuShown))},directives:[nn,Wt,Vt,ec,Jt,Zt,Ra,qc,Xd,UE,nt,Lt,Jy,Zy,wn],styles:[".whiteboard-icon[_ngcontent-%COMP%]{font-size:1.5rem}"]}),t})();const XBe=function(){return[]};function KBe(t,n){if(1&t&&(c(0,"a",5),g(1),u()),2&t){const e=T();v("routerLink",Bt(2,XBe)),p(1),Be(" ",e.whiteboardTemplate.name," ")}}function QBe(t,n){if(1&t){const e=ye();c(0,"main",6)(1,"div",7)(2,"h6",8),g(3,"Whiteboard Template"),u(),re(4,"app-whiteboard-canvas",9),c(5,"button",10),z("click",function(){return W(e),T().saveWhiteboard()}),g(6," Save Whiteboard "),u()()()}if(2&t){const e=T();p(4),v("whiteboardCanvas",e.whiteboardTemplate.whiteboard)}}const JBe=function(){return["/","whiteboard","templates"]};let ZBe=(()=>{class t{constructor(e,i){this.whiteboardTemplateLoaderService=e,this.whiteboardTemplateService=i}saveWhiteboard(){var e=this;return Y(function*(){if(null!=e.whiteboardTemplate){const i=e.whiteboardCanvasControls.save();yield e.whiteboardTemplateService.saveWhiteboardCanvas(e.whiteboardTemplate._id,i)}})()}get whiteboardTemplate(){return this.whiteboardTemplateLoaderService.whiteboardTemplate}whiteboardChanged(){var e=this;return Y(function*(){return null!=e.whiteboardTemplate&&e.whiteboardCanvasControls.save()!==e.whiteboardTemplate.whiteboard})()}}return t.\u0275fac=function(e){return new(e||t)(H(iV),H(vp))},t.\u0275cmp=He({type:t,selectors:[["app-whiteboard-template"]],viewQuery:function(e,i){if(1&e&&Ft(sw,5),2&e){let o;bt(o=yt())&&(i.whiteboardCanvasControls=o.first)}},features:[Tt([iV])],decls:6,vars:4,consts:[[1,"nav-scroller","bg-white","shadow-sm"],[1,"nav","nav-underline"],[1,"nav-link",3,"routerLink"],["class","nav-link active",3,"routerLink",4,"ngIf"],["role","main",4,"ngIf"],[1,"nav-link","active",3,"routerLink"],["role","main"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[3,"whiteboardCanvas"],[1,"btn","btn-primary","mt-1",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"nav",1)(2,"a",2),g(3," Whiteboard Templates "),u(),k(4,KBe,2,3,"a",3),u()(),k(5,QBe,7,1,"main",4)),2&e&&(p(2),v("routerLink",Bt(3,JBe)),p(2),v("ngIf",null!=i.whiteboardTemplate),p(1),v("ngIf",null!=i.whiteboardTemplate))},directives:[gn,nt,sw],styles:[""]}),t})(),aw=(()=>{class t{constructor(e){this.runningProcessService=e}resolveCreateWhiteboardInstanceManually(e,i,o){var r=this;return Y(function*(){yield r.runningProcessService.addInternalArtifact(e,o,r.getPlaceData(i))})()}resolveEditWhiteboardInstanceManually(e,i){var o=this;return Y(function*(){yield o.runningProcessService.finishEditInternalArtifact(e,i)})()}resolve(e,i){const o=this.getPlaceData(i);this.runningProcessService.finishExecuteStep(e,{outputArtifactData:[o]})}getPlaceData(e){return new Gl(void 0,{data:{id:e,type:If.typeName},type:go.REFERENCE})}}return t.\u0275fac=function(e){return new(e||t)(Ve(to))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eLe=["canvasElement"],tLe=["canvasWrapper"];let a4=(()=>{class t{constructor(e){this.whiteboardCanvasService=e,this.zoomValue=1,this.moving=!1}ngAfterViewInit(){this.initCanvas(),this.resizeSubscription=sr(window,"resize").pipe($i(300),un(()=>this.resize())).subscribe()}ngOnChanges(e){e.whiteboardCanvas&&null!=this.canvas&&this.whiteboardCanvasService.reload(this.canvas,e.whiteboardCanvas.currentValue)}ngOnDestroy(){var e,i;null===(e=this.resizeSubscription)||void 0===e||e.unsubscribe(),null===(i=this.canvas)||void 0===i||i.dispose()}initCanvas(){var e=this;return Y(function*(){e.canvas=yield e.whiteboardCanvasService.getReadonlyWhiteboardCanvas(e.canvasElement.nativeElement,e.whiteboardCanvas),e.resize(),e.canvas.on("mouse:move",i=>e.mouseMove(i)),e.canvas.on("mouse:down",i=>e.mouseDown(i)),e.canvas.on("mouse:up",()=>e.mouseUp())})()}resize(){const e=this.canvasWrapper.nativeElement.clientWidth;this.canvas.setWidth(e),this.canvas.setHeight(e/3.5),this.canvas.setZoom(e*this.zoomValue/1140)}zoom(e){this.zoomValue+=.1*e,this.resize()}zoomReset(){this.zoomValue=1,this.resize()}mouseMove(e){if(null!=e.absolutePointer&&this.moving&&null!=this.lastMousePosition){const i=this.canvas.viewportTransform;i[4]+=e.absolutePointer.x-this.lastMousePosition.x,i[5]+=e.absolutePointer.y-this.lastMousePosition.y,this.canvas.setViewportTransform(i)}}mouseDown(e){null!=e.absolutePointer&&(this.lastMousePosition=e.absolutePointer,this.moving=!0)}mouseUp(){this.moving=!1}}return t.\u0275fac=function(e){return new(e||t)(H($_))},t.\u0275cmp=He({type:t,selectors:[["app-whiteboard-canvas-view"]],viewQuery:function(e,i){if(1&e&&(Ft(eLe,5),Ft(tLe,5)),2&e){let o;bt(o=yt())&&(i.canvasElement=o.first),bt(o=yt())&&(i.canvasWrapper=o.first)}},inputs:{whiteboardCanvas:"whiteboardCanvas"},features:[Xt],decls:16,vars:0,consts:[["role","group","aria-label","Zoom",1,"btn-group","mb-1"],["type","button",1,"btn","btn-light",3,"click"],[1,"fas","fa-minus","fa-fw","whiteboard-icon"],[1,"sr-only"],[1,"fas","fa-plus","fa-fw","whiteboard-icon"],["type","button",1,"ml-3","btn","btn-light",3,"click"],[1,"border"],["canvasWrapper",""],["canvasElement",""]],template:function(e,i){1&e&&(c(0,"div",0)(1,"button",1),z("click",function(){return i.zoom(-1)}),re(2,"i",2),c(3,"span",3),g(4,"Zoom out"),u()(),c(5,"button",1),z("click",function(){return i.zoom(1)}),re(6,"i",4),c(7,"span",3),g(8,"Zoom in"),u()(),c(9,"button",5),z("click",function(){return i.zoomReset()}),c(10,"b"),g(11,"Reset zoom"),u()()(),c(12,"div",6,7),re(14,"canvas",null,8),u())},styles:[".whiteboard-icon[_ngcontent-%COMP%]{font-size:1.5rem}"]}),t})();function nLe(t,n){if(1&t&&(c(0,"div",3)(1,"h6",14),g(2),u(),re(3,"app-whiteboard-canvas-view",15),u()),2&t){const e=T(2);p(2),Be(" Preview ",e.whiteboardTemplate.name," "),p(1),v("whiteboardCanvas",e.whiteboardTemplate.whiteboard)}}function iLe(t,n){if(1&t){const e=ye();c(0,"main",2)(1,"div",3)(2,"h6",4),g(3,"Create Place"),u(),c(4,"div",5)(5,"form",6),z("ngSubmit",function(){return W(e),T().submit()}),c(6,"div",7)(7,"label",8),g(8,"Name"),u(),c(9,"div",9),re(10,"input",10),u()(),c(11,"div",7)(12,"div",11)(13,"button",12),g(14," Create Place "),u()()()()()(),k(15,nLe,4,2,"div",13),u()}if(2&t){const e=T();p(5),v("formGroup",e.form),p(5),Ht("is-invalid",e.nameControl.invalid),p(3),v("disabled",!e.form.valid&&null!=e.whiteboardTemplate),p(2),v("ngIf",null!=e.whiteboardTemplate)}}let oLe=(()=>{class t{constructor(e,i,o,r,s){this.fb=e,this.processApiService=i,this.whiteboardInstanceService=o,this.whiteboardResolveService=r,this.whiteboardTemplateService=s,this.form=this.fb.group({name:["",ft.required]})}ngOnInit(){this.processApiService.loaded.subscribe(()=>this.loadWhiteboardTemplate())}submit(){var e=this;return Y(function*(){if(null!=e.processApiService.stepInfo&&null!=e.whiteboardTemplate){const i=yield e.whiteboardInstanceService.addByTemplate(e.nameControl.value,e.whiteboardTemplate);e.whiteboardResolveService.resolve(e.processApiService.stepInfo,i._id)}})()}loadWhiteboardTemplate(){var e=this;return Y(function*(){null!=e.runningMethod&&(e.whiteboardTemplate=yield e.whiteboardTemplateService.get(e.runningMethod.currentStep.predefinedInput.templateId))})()}get runningMethod(){return this.processApiService.runningMethod}isCorrectStep(){return this.processApiService.isCorrectStep()}get nameControl(){return this.form.get("name")}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(Wn),H(kf),H(aw),H(vp))},t.\u0275cmp=He({type:t,selectors:[["app-create-whiteboard-instance"]],features:[Tt([Wn])],decls:3,vars:1,consts:[["apiName","Create Place"],["role","main","class","container",4,"ngIf"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"border-bottom","border-gray","pb-2"],[3,"whiteboardCanvas"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0)(1,"app-step-errors"),k(2,iLe,16,5,"main",1)),2&e&&(p(2),v("ngIf",null!=i.runningMethod&&i.isCorrectStep()))},directives:[ur,cs,nt,nn,Wt,Vt,wn,Jt,Zt,a4],styles:[""]}),t})(),lw=(()=>{class t extends Es{constructor(e,i){super(i),this.whiteboardInstanceService=e}initParams(e){const i=e.get("id");null!=i?(this.changesFeed=this.whiteboardInstanceService.getChangesFeed(i).subscribe(()=>this.loadWhiteboardInstance(i)),this.loadWhiteboardInstance(i)):this.whiteboardInstance=void 0}loadWhiteboardInstance(e){var i=this;return Y(function*(){i.whiteboardInstance=yield i.whiteboardInstanceService.get(e),i.elementLoaded()})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(kf),Ve(Jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rLe(t,n){1&t&&re(0,"app-step-errors")}function sLe(t,n){if(1&t){const e=ye();c(0,"div",4)(1,"app-running-process-method-comments",11),z("addComment",function(o){return W(e),T(2).addComment(o)})("updateComment",function(o){return W(e),T(2).updateComment(o)})("removeComment",function(o){return W(e),T(2).removeComment(o)}),u()()}if(2&t){const e=T(2);p(1),v("comments",e.runningMethod.comments)}}function aLe(t,n){if(1&t){const e=ye();c(0,"main",3)(1,"div",4)(2,"h6",5),g(3,"Place"),u(),re(4,"app-whiteboard-canvas",6),c(5,"button",7),z("click",function(){return W(e),T().saveWhiteboard()}),g(6," Save Whiteboard "),u()(),c(7,"div",8),k(8,sLe,2,1,"div",9),c(9,"div",4)(10,"h6",5),g(11,"Finish editing"),u(),c(12,"button",10),z("click",function(){return W(e),T().finish()}),g(13," Finish editing "),u()()()()}if(2&t){const e=T();p(4),v("whiteboardCanvas",e.whiteboardInstance.whiteboard),p(4),v("ngIf",null!=e.runningMethod)}}let lLe=(()=>{class t extends(Ff(Df(um))){constructor(e,i,o,r,s){super(),this.processApiService=e,this.runningProcessService=i,this.whiteboardInstanceLoaderService=o,this.whiteboardInstanceService=r,this.whiteboardResolveService=s,this.changesSaved=!1}finish(){var e=this;return Y(function*(){(yield e.whiteboardChanged())&&(yield e.saveWhiteboard(),e.changesSaved=!0),null!=e.whiteboardInstance&&null!=e.processApiService.stepInfo&&null!=e.processApiService.stepInfo.step?e.whiteboardResolveService.resolve(e.processApiService.stepInfo,e.whiteboardInstance._id):null!=e.runningProcess&&null!=e.processApiService.artifactVersionId&&(yield e.whiteboardResolveService.resolveEditWhiteboardInstanceManually(e.runningProcess._id,e.processApiService.artifactVersionId))})()}saveWhiteboard(){var e=this;return Y(function*(){if(null!=e.whiteboardInstance&&(null!=e.runningMethod&&e.isCorrectStep()||null!=e.runningProcess&&null!=e.processApiService.artifactVersionId)){const i=e.whiteboardCanvasControls.save();yield e.whiteboardInstanceService.saveWhiteboardCanvas(e.whiteboardInstance._id,i)}})()}get whiteboardInstance(){return this.whiteboardInstanceLoaderService.whiteboardInstance}whiteboardChanged(){var e=this;return Y(function*(){return!e.changesSaved&&null!=e.whiteboardCanvasControls&&null!=e.whiteboardInstance&&e.whiteboardCanvasControls.save()!==e.whiteboardInstance.whiteboard})()}}return t.\u0275fac=function(e){return new(e||t)(H(Wn),H(to),H(lw),H(kf),H(aw))},t.\u0275cmp=He({type:t,selectors:[["app-edit-whiteboard-instance"]],viewQuery:function(e,i){if(1&e&&Ft(sw,5),2&e){let o;bt(o=yt())&&(i.whiteboardCanvasControls=o.first)}},features:[Tt([Wn,lw]),mi],decls:3,vars:2,consts:[["apiName","Edit Place"],[4,"ngIf"],["role","main",4,"ngIf"],["role","main"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[3,"whiteboardCanvas"],[1,"btn","btn-primary","mt-1",3,"click"],[1,"container"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"],[3,"comments","addComment","updateComment","removeComment"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0),k(1,rLe,1,0,"app-step-errors",1),k(2,aLe,14,2,"main",2)),2&e&&(p(1),v("ngIf",null==i.whiteboardInstance||null==i.runningProcess),p(1),v("ngIf",null!=i.whiteboardInstance&&null!=i.runningProcess))},directives:[ur,nt,cs,sw,Ts],styles:[""]}),t})();function cLe(t,n){if(1&t){const e=ye();c(0,"div",3)(1,"h6",4),g(2,"Finish viewing"),u(),c(3,"button",7),z("click",function(){return W(e),T(2).finish()}),g(4," Finish viewing "),u()()}}function uLe(t,n){if(1&t&&(c(0,"main",2)(1,"div",3)(2,"h6",4),g(3,"Place"),u(),re(4,"app-whiteboard-canvas-view",5),u(),k(5,cLe,5,0,"div",6),u()),2&t){const e=T();p(4),v("whiteboardCanvas",e.whiteboardInstance.whiteboard),p(1),v("ngIf",e.isCorrectStep())}}let dLe=(()=>{class t{constructor(e,i,o){this.processApiService=e,this.whiteboardInstanceLoaderService=i,this.whiteboardResolveService=o}finish(){null!=this.whiteboardInstance&&null!=this.processApiService.stepInfo&&this.whiteboardResolveService.resolve(this.processApiService.stepInfo,this.whiteboardInstance._id)}get whiteboardInstance(){return this.whiteboardInstanceLoaderService.whiteboardInstance}isCorrectStep(){return null!=this.processApiService.runningMethod&&this.processApiService.isCorrectStep()}}return t.\u0275fac=function(e){return new(e||t)(H(Wn),H(lw),H(aw))},t.\u0275cmp=He({type:t,selectors:[["app-view-whiteboard-instance"]],features:[Tt([K0,Wn,lw])],decls:2,vars:1,consts:[["apiName","View Whiteboard"],["role","main",4,"ngIf"],["role","main"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2"],[3,"whiteboardCanvas"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"btn","btn-sm","btn-primary","btn-block",3,"click"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0),k(1,uLe,6,2,"main",1)),2&e&&(p(1),v("ngIf",i.whiteboardInstance))},directives:[ur,nt,a4],styles:[""]}),t})(),pLe=(()=>{class t{constructor(e){this.activeModal=e}close(){this.activeModal.dismiss()}leave(){this.activeModal.close(!1)}saveChanges(){this.activeModal.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(H(ar))},t.\u0275cmp=He({type:t,selectors:[["app-confirm-leave-whiteboard-modal"]],decls:12,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"h4",1),g(2,"You have unsaved changes in the whiteboard"),u()(),c(3,"div",2),g(4," You can stay on this page, discard them or save them.\n"),u(),c(5,"div",3)(6,"button",4),z("click",function(){return i.close()}),g(7," Close "),u(),c(8,"button",4),z("click",function(){return i.leave()}),g(9," Leave without saving "),u(),c(10,"button",5),z("click",function(){return i.saveChanges()}),g(11," Save changes "),u()())},styles:[""]}),t})(),lV=(()=>{class t{constructor(e){this.modalService=e}canDeactivate(e){var i=this;return Y(function*(){if(!(yield e.whiteboardChanged()))return!0;{const r=i.modalService.open(pLe,{size:"lg"});try{return(yield r.result)&&(yield e.saveWhiteboard()),!0}catch(s){return!1}}})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(jn))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mLe(t,n){1&t&&(c(0,"label",16),g(1,"Loading..."),u())}function fLe(t,n){if(1&t&&(c(0,"option",19),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e),p(1),Be(" ",e.name," ")}}function hLe(t,n){if(1&t&&(c(0,"select",17),k(1,fLe,2,2,"option",18),u()),2&t){const e=T();Ht("is-invalid",e.whiteboardTemplateControl.invalid&&e.whiteboardTemplateControl.touched),p(1),v("ngForOf",e.whiteboardTemplates)}}function gLe(t,n){if(1&t&&(c(0,"div",2)(1,"h6",20),g(2),u(),re(3,"app-whiteboard-canvas-view",21),u()),2&t){const e=T();p(2),Be(" Preview ",e.whiteboardTemplate.name," "),p(1),v("whiteboardCanvas",e.whiteboardTemplate.whiteboard)}}const _Le=[{path:"whiteboard",canActivate:[Po],children:[{path:"templates",children:[{path:"",component:jBe},{path:":id",component:ZBe,canDeactivate:[lV]}]},{path:"instance",children:[{path:"create",component:oLe},{path:":id",children:[{path:"edit",component:lLe,canDeactivate:[lV]},{path:"view",component:dLe}]}]},{path:"artifact/:id/create",component:(()=>{class t{constructor(e,i,o,r,s,a){this.fb=e,this.processApiService=i,this.route=o,this.whiteboardInstanceService=r,this.whiteboardResolveService=s,this.whiteboardTemplateService=a,this.form=this.fb.group({whiteboardTemplate:[null,ft.required],name:["",ft.required]})}ngOnInit(){this.loadWhiteboardTemplates(),this.changeSubscription=this.whiteboardTemplateControl.valueChanges.subscribe(e=>{this.whiteboardTemplate=null!=e?new s4(e,void 0):void 0})}ngOnDestroy(){var e;null===(e=this.changeSubscription)||void 0===e||e.unsubscribe()}submit(){var e=this;return Y(function*(){const i=e.route.snapshot.paramMap.get("id");if(null!=e.processApiService.runningProcess&&null!=e.whiteboardTemplate&&null!=i){const o=yield e.whiteboardInstanceService.addByTemplate(e.nameControl.value,e.whiteboardTemplate);yield e.whiteboardResolveService.resolveCreateWhiteboardInstanceManually(e.processApiService.runningProcess._id,o._id,i)}})()}loadWhiteboardTemplates(){var e=this;return Y(function*(){e.whiteboardTemplates=yield e.whiteboardTemplateService.getList()})()}get whiteboardTemplateControl(){return this.form.get("whiteboardTemplate")}get nameControl(){return this.form.get("name")}}return t.\u0275fac=function(e){return new(e||t)(H(zt),H(Wn),H(Jn),H(kf),H(aw),H(vp))},t.\u0275cmp=He({type:t,selectors:[["app-create-whiteboard-instance-manually"]],features:[Tt([Wn])],decls:23,vars:7,consts:[["apiName","Create Place"],["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"text-muted","pt-3"],[3,"formGroup","ngSubmit"],[1,"form-group","form-row"],["for","templateSelector",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["class","col-form-label",4,"ngIf"],["id","templateSelector","formControlName","whiteboardTemplate","class","form-control",3,"is-invalid",4,"ngIf"],["for","name",1,"col-sm-4","col-form-label"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"col-sm-12"],["type","submit",1,"btn","btn-sm","btn-dark","btn-block",3,"disabled"],["class","my-3 p-3 bg-white rounded shadow-sm",4,"ngIf"],[1,"col-form-label"],["id","templateSelector","formControlName","whiteboardTemplate",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"border-bottom","border-gray","pb-2"],[3,"whiteboardCanvas"]],template:function(e,i){1&e&&(re(0,"app-api-navigation",0),c(1,"main",1)(2,"div",2)(3,"h6",3),g(4,"Create Place"),u(),c(5,"div",4)(6,"form",5),z("ngSubmit",function(){return i.submit()}),c(7,"div",6)(8,"label",7),g(9,"Whiteboard Template"),u(),c(10,"div",8),k(11,mLe,2,0,"label",9),k(12,hLe,2,3,"select",10),u()(),c(13,"div",6)(14,"label",11),g(15,"Name"),u(),c(16,"div",8),re(17,"input",12),u()(),c(18,"div",6)(19,"div",13)(20,"button",14),g(21," Create Place "),u()()()()()(),k(22,gLe,4,2,"div",15),u()),2&e&&(p(6),v("formGroup",i.form),p(5),v("ngIf",null==i.whiteboardTemplates),p(1),v("ngIf",null!=i.whiteboardTemplates),p(5),Ht("is-invalid",i.nameControl.invalid&&i.nameControl.touched),p(3),v("disabled",!i.form.valid),p(2),v("ngIf",null!=i.whiteboardTemplate))},directives:[ur,nn,Wt,Vt,nt,ki,Jt,Zt,Lt,Vi,Hi,wn,a4],styles:[""]}),t})()}]}];let vLe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({imports:[[ml.forChild(_Le)],ml]}),t})();function bLe(t,n){if(1&t&&(c(0,"option",7),g(1),u()),2&t){const e=n.$implicit;v("ngValue",e._id),p(1),Be(" ",e.name," ")}}function yLe(t,n){1&t&&(c(0,"option"),g(1,"Loading..."),u())}let wLe=(()=>{class t{constructor(e){this.whiteboardTemplateService=e}ngOnInit(){this.loadWhiteboardTemplates()}loadWhiteboardTemplates(){var e=this;return Y(function*(){e.whiteboardTemplates=yield e.whiteboardTemplateService.getList()})()}get templateIdControl(){return this.formGroup.get("templateId")}}return t.\u0275fac=function(e){return new(e||t)(H(vp))},t.\u0275cmp=He({type:t,selectors:[["app-select-whiteboard-template-configuration"]],decls:8,vars:5,consts:[[3,"formGroup"],[1,"form-group","form-row"],["for","templateSelector",1,"col-sm-6","col-form-label"],[1,"col-sm-6"],["id","templateSelector","formControlName","templateId",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngValue"]],template:function(e,i){1&e&&(St(0,0),c(1,"div",1)(2,"label",2),g(3,"Whiteboard Template"),u(),c(4,"div",3)(5,"select",4),k(6,bLe,2,2,"option",5),k(7,yLe,2,0,"option",6),u()()(),Et()),2&e&&(v("formGroup",i.formGroup),p(5),Ht("is-invalid",i.templateIdControl.invalid&&i.templateIdControl.touched),p(1),v("ngForOf",i.whiteboardTemplates),p(1),v("ngIf",null==i.whiteboardTemplates))},directives:[Wt,Vt,ki,Jt,Zt,Lt,Vi,Hi,nt],styles:[""]}),t})(),xLe=(()=>{class t{createWhiteboard(e){const i=this.getStepInfo(e);e.router.navigate(["whiteboard","instance","create"],{queryParams:i})}editWhiteboard(e){const i=this.getStepInfo(e);e.router.navigate(["whiteboard","instance",e.inputStepArtifacts[0].data.data.id,"edit"],{queryParams:i})}viewWhiteboard(e){const i=this.getStepInfo(e);e.router.navigate(["whiteboard","instance",e.inputStepArtifacts[0].data.data.id,"view"],{queryParams:i})}executeMethod(e,i){switch(e){case"createWhiteboard":this.createWhiteboard(i);break;case"editWhiteboard":this.editWhiteboard(i);break;case"viewWhiteboard":this.viewWhiteboard(i)}}getStepInfo(e){return{step:e.runningMethod.currentStepNumber,executionId:e.runningMethod.executionId,runningProcessId:e.runningProcess._id}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),CLe=(()=>{class t{constructor(e,i,o,r){this.fb=e,this.moduleService=i,this.whiteboardApiService=o,this.whiteboardMetaModelService=r}init(){const e=new Q3("Whiteboard Tools","Whiteboard Module",this.getMethods(),this.whiteboardApiService,[{name:"Templates",route:["whiteboard","templates"],roles:[jo.EXPERT]}]);this.moduleService.registerModule(e),console.log("Registered Whiteboard Module"),this.whiteboardMetaModelService.registerCreateMethod(this.createWhiteboardInstance),console.log("Registered Whiteboard Module as create method for whiteboard instances"),this.whiteboardMetaModelService.registerEditMethod(this.editWhiteboardInstance),console.log("Registered Whiteboard Module as edit method for whiteboard instances"),this.whiteboardMetaModelService.registerViewMethod(this.viewWhiteboardInstance),console.log("Registered Whiteboard Module as view method for whiteboard instances")}getMethods(){const e=this.fb;return[{name:"createWhiteboard",description:"Creates a whiteboard instance",input:[],output:[this.whiteboardMetaModelService.whiteboardMetaModelIdentifier],configurationFormComponent:wLe,createConfigurationForm:i=>(null==i&&(i={templateId:void 0}),e.group({templateId:[i.templateId,ft.required]})),equalPredefinedInput:(i,o)=>null==i&&null==o||null!=i&&null!=o&&i.templateId===o.templateId},{name:"editWhiteboard",description:"Edit a Whiteboard",input:[this.whiteboardMetaModelService.whiteboardMetaModelIdentifier],output:[this.whiteboardMetaModelService.whiteboardMetaModelIdentifier]},{name:"viewWhiteboard",description:"View a Whiteboard",input:[this.whiteboardMetaModelService.whiteboardMetaModelIdentifier],output:[this.whiteboardMetaModelService.whiteboardMetaModelIdentifier]}]}createWhiteboardInstance(e,i,o){return Y(function*(){const r=Kc(i);yield e.navigate(["whiteboard","artifact",o,"create"],{queryParams:r})})()}viewWhiteboardInstance(e,i,o){return Y(function*(){const r=Kc(o);yield i.navigate(["whiteboard","instance",e.id,"view"],{queryParams:r})})()}editWhiteboardInstance(e,i,o){return Y(function*(){const r=Kc(o);yield i.navigate(["whiteboard","instance",e.id,"edit"],{queryParams:r})})()}}return t.\u0275fac=function(e){return new(e||t)(Ve(zt),Ve(zr),Ve(xLe),Ve(r4))},t.\u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MLe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t}),t.\u0275inj=mn({providers:[{provide:kl,useFactory:n=>()=>n.init(),deps:[CLe],multi:!0}],imports:[[A0,vLe]]}),t})(),SLe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=On({type:t,bootstrap:[kye]}),t.\u0275inj=mn({providers:[],imports:[[d7,X0e,Eo,pFe,EG,tV,e3,af,N3.forRoot({format:"json"}),IBe,lFe,MLe,q8e,F0e]]}),t})();JK().bootstrapModule(SLe).catch(t=>console.error(t))},9528:(at,Ke,E)=>{"use strict";var O=E(9463),be=E(5791),A=E(2821),ce=E(854),Te=E(8245),oe=E(2881),I=E(1277),x=E(1828),M=E(9796);at.exports=S,S.prototype.validate=function b(ee,Se){var xe;if("string"==typeof ee){if(!(xe=this.getSchema(ee)))throw new Error('no schema with key or ref "'+ee+'"')}else{var fe=this._addSchema(ee);xe=fe.validate||this._compile(fe)}var he=xe(Se);return!0!==xe.$async&&(this.errors=xe.errors),he},S.prototype.compile=function D(ee,Se){var xe=this._addSchema(ee,void 0,Se);return xe.validate||this._compile(xe)},S.prototype.addSchema=function F(ee,Se,xe,fe){if(Array.isArray(ee)){for(var he=0;he<ee.length;he++)this.addSchema(ee[he],void 0,xe,fe);return this}var Pe=this._getId(ee);if(void 0!==Pe&&"string"!=typeof Pe)throw new Error("schema id must be string");return ke(this,Se=be.normalizeId(Se||Pe)),this._schemas[Se]=this._addSchema(ee,xe,fe,!0),this},S.prototype.addMetaSchema=function R(ee,Se,xe){return this.addSchema(ee,Se,xe,!0),this},S.prototype.validateSchema=function B(ee,Se){var xe=ee.$schema;if(void 0!==xe&&"string"!=typeof xe)throw new Error("$schema must be a string");if(!(xe=xe||this._opts.defaultMeta||function j(ee){var Se=ee._opts.meta;return ee._opts.defaultMeta="object"==typeof Se?ee._getId(Se)||Se:ee.getSchema(m)?m:void 0,ee._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var fe=this.validate(xe,ee);if(!fe&&Se){var he="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(he);this.logger.error(he)}return fe},S.prototype.getSchema=function X(ee){var Se=se(this,ee);switch(typeof Se){case"object":return Se.validate||this._compile(Se);case"string":return this.getSchema(Se);case"undefined":return function ne(ee,Se){var xe=be.schema.call(ee,{schema:{}},Se);if(xe){var fe=xe.schema,he=xe.root,Pe=xe.baseId,le=O.call(ee,fe,he,void 0,Pe);return ee._fragments[Se]=new ce({ref:Se,fragment:!0,schema:fe,root:he,baseId:Pe,validate:le}),le}}(this,ee)}},S.prototype.removeSchema=function Ae(ee){if(ee instanceof RegExp)return Ge(this,this._schemas,ee),Ge(this,this._refs,ee),this;switch(typeof ee){case"undefined":return Ge(this,this._schemas),Ge(this,this._refs),this._cache.clear(),this;case"string":var Se=se(this,ee);return Se&&this._cache.del(Se.cacheKey),delete this._schemas[ee],delete this._refs[ee],this;case"object":var xe=this._opts.serialize,fe=xe?xe(ee):ee;this._cache.del(fe);var he=this._getId(ee);he&&(he=be.normalizeId(he),delete this._schemas[he],delete this._refs[he])}return this},S.prototype.addFormat=function xt(ee,Se){return"string"==typeof Se&&(Se=new RegExp(Se)),this._formats[ee]=Se,this},S.prototype.errorsText=function It(ee,Se){if(!(ee=ee||this.errors))return"No errors";for(var xe=void 0===(Se=Se||{}).separator?", ":Se.separator,fe=void 0===Se.dataVar?"data":Se.dataVar,he="",Pe=0;Pe<ee.length;Pe++){var le=ee[Pe];le&&(he+=fe+le.dataPath+" "+le.message+xe)}return he.slice(0,-xe.length)},S.prototype._addSchema=function Ie(ee,Se,xe,fe){if("object"!=typeof ee&&"boolean"!=typeof ee)throw new Error("schema should be object or boolean");var he=this._opts.serialize,Pe=he?he(ee):ee,le=this._cache.get(Pe);if(le)return le;fe=fe||!1!==this._opts.addUsedSchema;var pe=be.normalizeId(this._getId(ee));pe&&fe&&ke(this,pe);var Ye,Le=!1!==this._opts.validateSchema&&!Se;Le&&!(Ye=pe&&pe==be.normalizeId(ee.$schema))&&this.validateSchema(ee,!0);var Qe=be.ids.call(this,ee),tt=new ce({id:pe,schema:ee,localRefs:Qe,cacheKey:Pe,meta:xe});return"#"!=pe[0]&&fe&&(this._refs[pe]=tt),this._cache.put(Pe,tt),Le&&Ye&&this.validateSchema(ee,!0),tt},S.prototype._compile=function Oe(ee,Se){if(ee.compiling)return ee.validate=he,he.schema=ee.schema,he.errors=null,he.root=Se||he,!0===ee.schema.$async&&(he.$async=!0),he;var xe,fe;ee.compiling=!0,ee.meta&&(xe=this._opts,this._opts=this._metaOpts);try{fe=O.call(this,ee.schema,Se,ee.localRefs)}catch(Pe){throw delete ee.validate,Pe}finally{ee.compiling=!1,ee.meta&&(this._opts=xe)}return ee.validate=fe,ee.refs=fe.refs,ee.refVal=fe.refVal,ee.root=fe.root,fe;function he(){var Pe=ee.validate,le=Pe.apply(this,arguments);return he.errors=Pe.errors,le}},S.prototype.compileAsync=E(4549);var C=E(5041);S.prototype.addKeyword=C.add,S.prototype.getKeyword=C.get,S.prototype.removeKeyword=C.remove,S.prototype.validateKeyword=C.validate;var _=E(6785);S.ValidationError=_.Validation,S.MissingRefError=_.MissingRef,S.$dataMetaSchema=x;var m="http://json-schema.org/draft-07/schema",f=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],y=["/properties"];function S(ee){if(!(this instanceof S))return new S(ee);ee=this._opts=M.copy(ee)||{},function ge(ee){var Se=ee._opts.logger;if(!1===Se)ee.logger={log:Fe,warn:Fe,error:Fe};else{if(void 0===Se&&(Se=console),!("object"==typeof Se&&Se.log&&Se.warn&&Se.error))throw new Error("logger must implement log, warn and error methods");ee.logger=Se}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=oe(ee.format),this._cache=ee.cache||new A,this._loadingSchemas={},this._compilations=[],this.RULES=I(),this._getId=function lt(ee){switch(ee.schemaId){case"auto":return Mt;case"id":return Je;default:return Ze}}(ee),ee.loopRequired=ee.loopRequired||1/0,"property"==ee.errorDataPath&&(ee._errorDataPathProperty=!0),void 0===ee.serialize&&(ee.serialize=Te),this._metaOpts=function me(ee){for(var Se=M.copy(ee._opts),xe=0;xe<f.length;xe++)delete Se[f[xe]];return Se}(this),ee.formats&&function ue(ee){for(var Se in ee._opts.formats)ee.addFormat(Se,ee._opts.formats[Se])}(this),ee.keywords&&function Ce(ee){for(var Se in ee._opts.keywords)ee.addKeyword(Se,ee._opts.keywords[Se])}(this),function Ne(ee){var Se;if(ee._opts.$data&&(Se=E(894),ee.addMetaSchema(Se,Se.$id,!0)),!1!==ee._opts.meta){var xe=E(6680);ee._opts.$data&&(xe=x(xe,y)),ee.addMetaSchema(xe,m,!0),ee._refs["http://json-schema.org/schema"]=m}}(this),"object"==typeof ee.meta&&this.addMetaSchema(ee.meta),ee.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function Ee(ee){var Se=ee._opts.schemas;if(Se)if(Array.isArray(Se))ee.addSchema(Se);else for(var xe in Se)ee.addSchema(Se[xe],xe)}(this)}function se(ee,Se){return Se=be.normalizeId(Se),ee._schemas[Se]||ee._refs[Se]||ee._fragments[Se]}function Ge(ee,Se,xe){for(var fe in Se){var he=Se[fe];!he.meta&&(!xe||xe.test(fe))&&(ee._cache.del(he.cacheKey),delete Se[fe])}}function Je(ee){return ee.$id&&this.logger.warn("schema $id ignored",ee.$id),ee.id}function Ze(ee){return ee.id&&this.logger.warn("schema id ignored",ee.id),ee.$id}function Mt(ee){if(ee.$id&&ee.id&&ee.$id!=ee.id)throw new Error("schema $id is different from id");return ee.$id||ee.id}function ke(ee,Se){if(ee._schemas[Se]||ee._refs[Se])throw new Error('schema with key or id "'+Se+'" already exists')}function Fe(){}},2821:at=>{"use strict";var Ke=at.exports=function(){this._cache={}};Ke.prototype.put=function(O,be){this._cache[O]=be},Ke.prototype.get=function(O){return this._cache[O]},Ke.prototype.del=function(O){delete this._cache[O]},Ke.prototype.clear=function(){this._cache={}}},4549:(at,Ke,E)=>{"use strict";var O=E(6785).MissingRef;at.exports=function be(A,ce,Te){var oe=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof ce&&(Te=ce,ce=void 0);var I=x(A).then(function(){var C=oe._addSchema(A,void 0,ce);return C.validate||M(C)});return Te&&I.then(function(C){Te(null,C)},Te),I;function x(C){var _=C.$schema;return _&&!oe.getSchema(_)?be.call(oe,{$ref:_},!0):Promise.resolve()}function M(C){try{return oe._compile(C)}catch(m){if(m instanceof O)return function _(m){var f=m.missingSchema;if(b(f))throw new Error("Schema "+f+" is loaded but "+m.missingRef+" cannot be resolved");var y=oe._loadingSchemas[f];return y||(y=oe._loadingSchemas[f]=oe._opts.loadSchema(f)).then(S,S),y.then(function(D){if(!b(f))return x(D).then(function(){b(f)||oe.addSchema(D,f,void 0,ce)})}).then(function(){return M(C)});function S(){delete oe._loadingSchemas[f]}function b(D){return oe._refs[D]||oe._schemas[D]}}(m);throw m}}}},6785:(at,Ke,E)=>{"use strict";var O=E(5791);function A(Te,oe,I){this.message=I||A.message(Te,oe),this.missingRef=O.url(Te,oe),this.missingSchema=O.normalizeId(O.fullPath(this.missingRef))}function ce(Te){return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}at.exports={Validation:ce(function be(Te){this.message="validation failed",this.errors=Te,this.ajv=this.validation=!0}),MissingRef:ce(A)},A.message=function(Te,oe){return"can't resolve reference "+oe+" from id "+Te}},2881:(at,Ke,E)=>{"use strict";var O=E(9796),be=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,A=[0,31,28,31,30,31,30,31,31,30,31,30,31],ce=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Te=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,oe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,x=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,M=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,C=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,_=/^(?:\/(?:[^~/]|~0|~1)*)*$/,m=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,f=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function y(se){return O.copy(y[se="full"==se?"full":"fast"])}function b(se){var Ae=se.match(be);if(!Ae)return!1;var Ie=+Ae[2],Oe=+Ae[3];return Ie>=1&&Ie<=12&&Oe>=1&&Oe<=(2==Ie&&function S(se){return se%4==0&&(se%100!=0||se%400==0)}(+Ae[1])?29:A[Ie])}function D(se,Ae){var Ge=se.match(ce);if(!Ge)return!1;var Ie=Ge[1],Oe=Ge[2],lt=Ge[3];return(Ie<=23&&Oe<=59&&lt<=59||23==Ie&&59==Oe&&60==lt)&&(!Ae||Ge[5])}at.exports=y,y.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":x,url:M,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Te,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:ne,uuid:C,"json-pointer":_,"json-pointer-uri-fragment":m,"relative-json-pointer":f},y.full={date:b,time:D,"date-time":function R(se){var Ae=se.split(F);return 2==Ae.length&&b(Ae[0])&&D(Ae[1],!0)},uri:function j(se){return B.test(se)&&oe.test(se)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":x,url:M,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Te,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:ne,uuid:C,"json-pointer":_,"json-pointer-uri-fragment":m,"relative-json-pointer":f};var F=/t|\s/i,B=/\/|:/,X=/[^\\]\\Z/;function ne(se){if(X.test(se))return!1;try{return new RegExp(se),!0}catch(Ae){return!1}}},9463:(at,Ke,E)=>{"use strict";var O=E(5791),be=E(9796),A=E(6785),ce=E(8245),Te=E(9530),oe=be.ucs2length,I=E(2559),x=A.Validation;function C(F,R,B){var j=m.call(this,F,R,B);return j>=0?{index:j,compiling:!0}:(this._compilations[j=this._compilations.length]={schema:F,root:R,baseId:B},{index:j,compiling:!1})}function _(F,R,B){var j=m.call(this,F,R,B);j>=0&&this._compilations.splice(j,1)}function m(F,R,B){for(var j=0;j<this._compilations.length;j++){var X=this._compilations[j];if(X.schema==F&&X.root==R&&X.baseId==B)return j}return-1}function f(F,R){return"var pattern"+F+" = new RegExp("+be.toQuotedString(R[F])+");"}function y(F){return"var default"+F+" = defaults["+F+"];"}function S(F,R){return void 0===R[F]?"":"var refVal"+F+" = refVal["+F+"];"}function b(F){return"var customRule"+F+" = customRules["+F+"];"}function D(F,R){if(!F.length)return"";for(var B="",j=0;j<F.length;j++)B+=R(j,F);return B}at.exports=function M(F,R,B,j){var X=this,ne=this._opts,se=[void 0],Ae={},Ge=[],Ie={},Oe=[],lt={},Je=[],Ze=C.call(this,F,R=R||{schema:F,refVal:se,refs:Ae},j),Mt=this._compilations[Ze.index];if(Ze.compiling)return Mt.callValidate=function ue(){var he=Mt.validate,Pe=he.apply(this,arguments);return ue.errors=he.errors,Pe};var It=this._formats,xt=this.RULES;try{var Ne=Ce(F,R,B,j);Mt.validate=Ne;var Ee=Mt.callValidate;return Ee&&(Ee.schema=Ne.schema,Ee.errors=null,Ee.refs=Ne.refs,Ee.refVal=Ne.refVal,Ee.root=Ne.root,Ee.$async=Ne.$async,ne.sourceCode&&(Ee.source=Ne.source)),Ne}finally{_.call(this,F,R,j)}function Ce(he,Pe,le,pe){var Le=!Pe||Pe&&Pe.schema==he;if(Pe.schema!=R.schema)return M.call(X,he,Pe,le,pe);var tt,Ye=!0===he.$async,Qe=Te({isTop:!0,schema:he,isRoot:Le,baseId:pe,root:Pe,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:A.MissingRef,RULES:xt,validate:Te,util:be,resolve:O,resolveRef:ke,usePattern:Se,useDefault:xe,useCustomRule:fe,opts:ne,formats:It,logger:X.logger,self:X});Qe=D(se,S)+D(Ge,f)+D(Oe,y)+D(Je,b)+Qe,ne.processCode&&(Qe=ne.processCode(Qe,he));try{tt=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",Qe)(X,xt,It,R,se,Oe,Je,I,oe,x),se[0]=tt}catch(Ot){throw X.logger.error("Error compiling schema, function code:",Qe),Ot}return tt.schema=he,tt.errors=null,tt.refs=Ae,tt.refVal=se,tt.root=Le?tt:Pe,Ye&&(tt.$async=!0),!0===ne.sourceCode&&(tt.source={code:Qe,patterns:Ge,defaults:Oe}),tt}function ke(he,Pe,le){Pe=O.url(he,Pe);var Le,Ye,pe=Ae[Pe];if(void 0!==pe)return ee(Le=se[pe],Ye="refVal["+pe+"]");if(!le&&R.refs){var Qe=R.refs[Pe];if(void 0!==Qe)return ee(Le=R.refVal[Qe],Ye=me(Pe,Le))}Ye=me(Pe);var tt=O.call(X,Ce,R,Pe);if(void 0===tt){var gt=B&&B[Pe];gt&&(tt=O.inlineRef(gt,ne.inlineRefs)?gt:M.call(X,gt,R,B,he))}if(void 0!==tt)return function Fe(he,Pe){se[Ae[he]]=Pe}(Pe,tt),ee(tt,Ye);!function ge(he){delete Ae[he]}(Pe)}function me(he,Pe){var le=se.length;return se[le]=Pe,Ae[he]=le,"refVal"+le}function ee(he,Pe){return"object"==typeof he||"boolean"==typeof he?{code:Pe,schema:he,inline:!0}:{code:Pe,$async:he&&!!he.$async}}function Se(he){var Pe=Ie[he];return void 0===Pe&&(Pe=Ie[he]=Ge.length,Ge[Pe]=he),"pattern"+Pe}function xe(he){switch(typeof he){case"boolean":case"number":return""+he;case"string":return be.toQuotedString(he);case"object":if(null===he)return"null";var Pe=ce(he),le=lt[Pe];return void 0===le&&(le=lt[Pe]=Oe.length,Oe[le]=he),"default"+le}}function fe(he,Pe,le,pe){if(!1!==X._opts.validateSchema){var Le=he.definition.dependencies;if(Le&&!Le.every(function(Yt){return Object.prototype.hasOwnProperty.call(le,Yt)}))throw new Error("parent schema must have all required keywords: "+Le.join(","));var Ye=he.definition.validateSchema;if(Ye&&!Ye(Pe)){var tt="keyword schema is invalid: "+X.errorsText(Ye.errors);if("log"!=X._opts.validateSchema)throw new Error(tt);X.logger.error(tt)}}var ct,gt=he.definition.compile,Ot=he.definition.inline,ht=he.definition.macro;if(gt)ct=gt.call(X,Pe,le,pe);else if(ht)ct=ht.call(X,Pe,le,pe),!1!==ne.validateSchema&&X.validateSchema(ct,!0);else if(Ot)ct=Ot.call(X,pe,he.keyword,Pe,le);else if(!(ct=he.definition.validate))return;if(void 0===ct)throw new Error('custom keyword "'+he.keyword+'"failed to compile');var Dt=Je.length;return Je[Dt]=ct,{code:"customRule"+Dt,validate:ct}}}},5791:(at,Ke,E)=>{"use strict";var O=E(6482),be=E(2559),A=E(9796),ce=E(854),Te=E(3366);function oe(j,X,ne){var se=this._refs[ne];if("string"==typeof se){if(!this._refs[se])return oe.call(this,j,X,se);se=this._refs[se]}if((se=se||this._schemas[ne])instanceof ce)return m(se.schema,this._opts.inlineRefs)?se.schema:se.validate||this._compile(se);var Ge,Ie,Oe,Ae=I.call(this,X,ne);return Ae&&(Ge=Ae.schema,X=Ae.root,Oe=Ae.baseId),Ge instanceof ce?Ie=Ge.validate||j.call(this,Ge.schema,X,void 0,Oe):void 0!==Ge&&(Ie=m(Ge,this._opts.inlineRefs)?Ge:j.call(this,Ge,X,void 0,Oe)),Ie}function I(j,X){var ne=O.parse(X),se=b(ne),Ae=S(this._getId(j.schema));if(0===Object.keys(j.schema).length||se!==Ae){var Ge=F(se),Ie=this._refs[Ge];if("string"==typeof Ie)return x.call(this,j,Ie,ne);if(Ie instanceof ce)Ie.validate||this._compile(Ie),j=Ie;else{if(!((Ie=this._schemas[Ge])instanceof ce))return;if(Ie.validate||this._compile(Ie),Ge==F(X))return{schema:Ie,root:j,baseId:Ae};j=Ie}if(!j.schema)return;Ae=S(this._getId(j.schema))}return C.call(this,ne,Ae,j.schema,j)}function x(j,X,ne){var se=I.call(this,j,X);if(se){var Ae=se.schema,Ge=se.baseId;j=se.root;var Ie=this._getId(Ae);return Ie&&(Ge=R(Ge,Ie)),C.call(this,ne,Ge,Ae,j)}}at.exports=oe,oe.normalizeId=F,oe.fullPath=S,oe.url=R,oe.ids=function B(j){var X=F(this._getId(j)),ne={"":X},se={"":S(X,!1)},Ae={},Ge=this;return Te(j,{allKeys:!0},function(Ie,Oe,lt,Je,Ze,Mt,It){if(""!==Oe){var xt=Ge._getId(Ie),Ne=ne[Je],Ee=se[Je]+"/"+Ze;if(void 0!==It&&(Ee+="/"+("number"==typeof It?It:A.escapeFragment(It))),"string"==typeof xt){xt=Ne=F(Ne?O.resolve(Ne,xt):xt);var ue=Ge._refs[xt];if("string"==typeof ue&&(ue=Ge._refs[ue]),ue&&ue.schema){if(!be(Ie,ue.schema))throw new Error('id "'+xt+'" resolves to more than one schema')}else if(xt!=F(Ee))if("#"==xt[0]){if(Ae[xt]&&!be(Ie,Ae[xt]))throw new Error('id "'+xt+'" resolves to more than one schema');Ae[xt]=Ie}else Ge._refs[xt]=Ee}ne[Oe]=Ne,se[Oe]=Ee}}),Ae},oe.inlineRef=m,oe.schema=I;var M=A.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function C(j,X,ne,se){if(j.fragment=j.fragment||"","/"==j.fragment.slice(0,1)){for(var Ae=j.fragment.split("/"),Ge=1;Ge<Ae.length;Ge++){var Ie=Ae[Ge];if(Ie){if(void 0===(ne=ne[Ie=A.unescapeFragment(Ie)]))break;var Oe;if(!M[Ie]&&((Oe=this._getId(ne))&&(X=R(X,Oe)),ne.$ref)){var lt=R(X,ne.$ref),Je=I.call(this,se,lt);Je&&(ne=Je.schema,se=Je.root,X=Je.baseId)}}}if(void 0!==ne&&ne!==se.schema)return{schema:ne,root:se,baseId:X}}}var _=A.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function m(j,X){return!1!==X&&(void 0===X||!0===X?f(j):X?y(j)<=X:void 0)}function f(j){var X;if(Array.isArray(j)){for(var ne=0;ne<j.length;ne++)if("object"==typeof(X=j[ne])&&!f(X))return!1}else for(var se in j)if("$ref"==se||"object"==typeof(X=j[se])&&!f(X))return!1;return!0}function y(j){var ne,X=0;if(Array.isArray(j)){for(var se=0;se<j.length;se++)if("object"==typeof(ne=j[se])&&(X+=y(ne)),X==1/0)return 1/0}else for(var Ae in j){if("$ref"==Ae)return 1/0;if(_[Ae])X++;else if("object"==typeof(ne=j[Ae])&&(X+=y(ne)+1),X==1/0)return 1/0}return X}function S(j,X){return!1!==X&&(j=F(j)),b(O.parse(j))}function b(j){return O.serialize(j).split("#")[0]+"#"}var D=/#\/?$/;function F(j){return j?j.replace(D,""):""}function R(j,X){return X=F(X),O.resolve(j,X)}},1277:(at,Ke,E)=>{"use strict";var O=E(6466),be=E(9796).toHash;at.exports=function(){var ce=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],Te=["type","$comment"];return ce.all=be(Te),ce.types=be(["number","integer","string","array","object","boolean","null"]),ce.forEach(function(x){x.rules=x.rules.map(function(M){var C;if("object"==typeof M){var _=Object.keys(M)[0];C=M[_],M=_,C.forEach(function(f){Te.push(f),ce.all[f]=!0})}return Te.push(M),ce.all[M]={keyword:M,code:O[M],implements:C}}),ce.all.$comment={keyword:"$comment",code:O.$comment},x.type&&(ce.types[x.type]=x)}),ce.keywords=be(Te.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),ce.custom={},ce}},854:(at,Ke,E)=>{"use strict";var O=E(9796);at.exports=function be(A){O.copy(A,this)}},4457:at=>{"use strict";at.exports=function(E){for(var ce,O=0,be=E.length,A=0;A<be;)O++,(ce=E.charCodeAt(A++))>=55296&&ce<=56319&&A<be&&56320==(64512&(ce=E.charCodeAt(A)))&&A++;return O}},9796:(at,Ke,E)=>{"use strict";function be(Ie,Oe,lt,Je){var Ze=Je?" !== ":" === ",Mt=Je?" || ":" && ",It=Je?"!":"",xt=Je?"":"!";switch(Ie){case"null":return Oe+Ze+"null";case"array":return It+"Array.isArray("+Oe+")";case"object":return"("+It+Oe+Mt+"typeof "+Oe+Ze+'"object"'+Mt+xt+"Array.isArray("+Oe+"))";case"integer":return"(typeof "+Oe+Ze+'"number"'+Mt+xt+"("+Oe+" % 1)"+Mt+Oe+Ze+Oe+(lt?Mt+It+"isFinite("+Oe+")":"")+")";case"number":return"(typeof "+Oe+Ze+'"'+Ie+'"'+(lt?Mt+It+"isFinite("+Oe+")":"")+")";default:return"typeof "+Oe+Ze+'"'+Ie+'"'}}at.exports={copy:function O(Ie,Oe){for(var lt in Oe=Oe||{},Ie)Oe[lt]=Ie[lt];return Oe},checkDataType:be,checkDataTypes:function A(Ie,Oe,lt){if(1===Ie.length)return be(Ie[0],Oe,lt,!0);var Je="",Ze=oe(Ie);for(var Mt in Ze.array&&Ze.object&&(Je=Ze.null?"(":"(!"+Oe+" || ",Je+="typeof "+Oe+' !== "object")',delete Ze.null,delete Ze.array,delete Ze.object),Ze.number&&delete Ze.integer,Ze)Je+=(Je?" && ":"")+be(Mt,Oe,lt,!0);return Je},coerceToTypes:function Te(Ie,Oe){if(Array.isArray(Oe)){for(var lt=[],Je=0;Je<Oe.length;Je++){var Ze=Oe[Je];(ce[Ze]||"array"===Ie&&"array"===Ze)&&(lt[lt.length]=Ze)}if(lt.length)return lt}else{if(ce[Oe])return[Oe];if("array"===Ie&&"array"===Oe)return["array"]}},toHash:oe,getProperty:M,escapeQuotes:C,equal:E(2559),ucs2length:E(4457),varOccurences:function _(Ie,Oe){var lt=Ie.match(new RegExp(Oe+="[^0-9]","g"));return lt?lt.length:0},varReplace:function m(Ie,Oe,lt){return Oe+="([^0-9])",lt=lt.replace(/\$/g,"$$$$"),Ie.replace(new RegExp(Oe,"g"),lt+"$1")},schemaHasRules:function f(Ie,Oe){if("boolean"==typeof Ie)return!Ie;for(var lt in Ie)if(Oe[lt])return!0},schemaHasRulesExcept:function y(Ie,Oe,lt){if("boolean"==typeof Ie)return!Ie&&"not"!=lt;for(var Je in Ie)if(Je!=lt&&Oe[Je])return!0},schemaUnknownRules:function S(Ie,Oe){if("boolean"!=typeof Ie)for(var lt in Ie)if(!Oe[lt])return lt},toQuotedString:b,getPathExpr:function D(Ie,Oe,lt,Je){return X(Ie,lt?"'/' + "+Oe+(Je?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):Je?"'[' + "+Oe+" + ']'":"'[\\'' + "+Oe+" + '\\']'")},getPath:function F(Ie,Oe,lt){return X(Ie,b(lt?"/"+Ae(Oe):M(Oe)))},getData:function j(Ie,Oe,lt){var Je,Ze,Mt,It;if(""===Ie)return"rootData";if("/"==Ie[0]){if(!R.test(Ie))throw new Error("Invalid JSON-pointer: "+Ie);Ze=Ie,Mt="rootData"}else{if(!(It=Ie.match(B)))throw new Error("Invalid JSON-pointer: "+Ie);if(Je=+It[1],"#"==(Ze=It[2])){if(Je>=Oe)throw new Error("Cannot access property/index "+Je+" levels up, current level is "+Oe);return lt[Oe-Je]}if(Je>Oe)throw new Error("Cannot access data "+Je+" levels up, current level is "+Oe);if(Mt="data"+(Oe-Je||""),!Ze)return Mt}for(var xt=Mt,Ne=Ze.split("/"),Ee=0;Ee<Ne.length;Ee++){var ue=Ne[Ee];ue&&(xt+=" && "+(Mt+=M(Ge(ue))))}return xt},unescapeFragment:function ne(Ie){return Ge(decodeURIComponent(Ie))},unescapeJsonPointer:Ge,escapeFragment:function se(Ie){return encodeURIComponent(Ae(Ie))},escapeJsonPointer:Ae};var ce=oe(["string","number","integer","boolean","null"]);function oe(Ie){for(var Oe={},lt=0;lt<Ie.length;lt++)Oe[Ie[lt]]=!0;return Oe}var I=/^[a-z$_][a-z$_0-9]*$/i,x=/'|\\/g;function M(Ie){return"number"==typeof Ie?"["+Ie+"]":I.test(Ie)?"."+Ie:"['"+C(Ie)+"']"}function C(Ie){return Ie.replace(x,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function b(Ie){return"'"+C(Ie)+"'"}var R=/^\/(?:[^~]|~0|~1)*$/,B=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function X(Ie,Oe){return'""'==Ie?Oe:(Ie+" + "+Oe).replace(/([^\\])' \+ '/g,"$1")}function Ae(Ie){return Ie.replace(/~/g,"~0").replace(/\//g,"~1")}function Ge(Ie){return Ie.replace(/~1/g,"/").replace(/~0/g,"~")}},1828:at=>{"use strict";var Ke=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];at.exports=function(E,O){for(var be=0;be<O.length;be++){E=JSON.parse(JSON.stringify(E));var Te,A=O[be].split("/"),ce=E;for(Te=1;Te<A.length;Te++)ce=ce[A[Te]];for(Te=0;Te<Ke.length;Te++){var oe=Ke[Te],I=ce[oe];I&&(ce[oe]={anyOf:[I,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return E}},7334:(at,Ke,E)=>{"use strict";var O=E(6680);at.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:O.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:O.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},9188:at=>{"use strict";at.exports=function(E,O,be){var m,A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_=E.opts.$data&&oe&&oe.$data;_?(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ",m="schema"+ce):m=oe;var f="maximum"==O,y=f?"exclusiveMaximum":"exclusiveMinimum",S=E.schema[y],b=E.opts.$data&&S&&S.$data,D=f?"<":">",F=f?">":"<",R=void 0;if(!_&&"number"!=typeof oe&&void 0!==oe)throw new Error(O+" must be number");if(!b&&void 0!==S&&"number"!=typeof S&&"boolean"!=typeof S)throw new Error(y+" must be number or boolean");if(b){var Ge,B=E.util.getData(S.$data,Te,E.dataPathArr),j="exclusive"+ce,X="exclType"+ce,ne="exclIsNumber"+ce,Ae="' + "+(se="op"+ce)+" + '";A+=" var schemaExcl"+ce+" = "+B+"; ",R=y,(Ge=Ge||[]).push(A+=" var "+j+"; var "+X+" = typeof "+(B="schemaExcl"+ce)+"; if ("+X+" != 'boolean' && "+X+" != 'undefined' && "+X+" != 'number') { "),A="",!1!==E.createErrors?(A+=" { keyword: '"+(R||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: {} ",!1!==E.opts.messages&&(A+=" , message: '"+y+" should be boolean' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var Ie=A;A=Ge.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+Ie+"]); ":" validate.errors = ["+Ie+"]; return false; ":" var err = "+Ie+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } else if ( ",_&&(A+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),A+=" "+X+" == 'number' ? ( ("+j+" = "+m+" === undefined || "+B+" "+D+"= "+m+") ? "+C+" "+F+"= "+B+" : "+C+" "+F+" "+m+" ) : ( ("+j+" = "+B+" === true) ? "+C+" "+F+"= "+m+" : "+C+" "+F+" "+m+" ) || "+C+" !== "+C+") { var op"+ce+" = "+j+" ? '"+D+"' : '"+D+"='; ",void 0===oe&&(R=y,x=E.errSchemaPath+"/"+y,m=B,_=b)}else if(Ae=D,(ne="number"==typeof S)&&_){var se="'"+Ae+"'";A+=" if ( ",_&&(A+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),A+=" ( "+m+" === undefined || "+S+" "+D+"= "+m+" ? "+C+" "+F+"= "+S+" : "+C+" "+F+" "+m+" ) || "+C+" !== "+C+") { "}else ne&&void 0===oe?(j=!0,R=y,x=E.errSchemaPath+"/"+y,m=S,F+="="):(ne&&(m=Math[f?"min":"max"](S,oe)),S===(!ne||m)?(j=!0,R=y,x=E.errSchemaPath+"/"+y,F+="="):(j=!1,Ae+="=")),se="'"+Ae+"'",A+=" if ( ",_&&(A+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),A+=" "+C+" "+F+" "+m+" || "+C+" !== "+C+") { ";return R=R||O,(Ge=Ge||[]).push(A),A="",!1!==E.createErrors?(A+=" { keyword: '"+(R||"_limit")+"' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { comparison: "+se+", limit: "+m+", exclusive: "+j+" } ",!1!==E.opts.messages&&(A+=" , message: 'should be "+Ae+" ",A+=_?"' + "+m:m+"'"),E.opts.verbose&&(A+=" , schema:  ",A+=_?"validate.schema"+I:""+oe,A+="         , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",Ie=A,A=Ge.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+Ie+"]); ":" validate.errors = ["+Ie+"]; return false; ":" var err = "+Ie+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } ",M&&(A+=" else { "),A}},1822:at=>{"use strict";at.exports=function(E,O,be){var m,A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_=E.opts.$data&&oe&&oe.$data;if(_?(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ",m="schema"+ce):m=oe,!_&&"number"!=typeof oe)throw new Error(O+" must be number");A+="if ( ",_&&(A+=" ("+m+" !== undefined && typeof "+m+" != 'number') || ");var y=O,S=S||[];S.push(A+=" "+C+".length "+("maxItems"==O?">":"<")+" "+m+") { "),A="",!1!==E.createErrors?(A+=" { keyword: '"+(y||"_limitItems")+"' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { limit: "+m+" } ",!1!==E.opts.messages&&(A+=" , message: 'should NOT have ",A+="maxItems"==O?"more":"fewer",A+=" than ",A+=_?"' + "+m+" + '":""+oe,A+=" items' "),E.opts.verbose&&(A+=" , schema:  ",A+=_?"validate.schema"+I:""+oe,A+="         , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var b=A;return A=S.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+="} ",M&&(A+=" else { "),A}},8569:at=>{"use strict";at.exports=function(E,O,be){var m,A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_=E.opts.$data&&oe&&oe.$data;if(_?(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ",m="schema"+ce):m=oe,!_&&"number"!=typeof oe)throw new Error(O+" must be number");A+="if ( ",_&&(A+=" ("+m+" !== undefined && typeof "+m+" != 'number') || "),A+=!1===E.opts.unicode?" "+C+".length ":" ucs2length("+C+") ";var y=O,S=S||[];S.push(A+=" "+("maxLength"==O?">":"<")+" "+m+") { "),A="",!1!==E.createErrors?(A+=" { keyword: '"+(y||"_limitLength")+"' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { limit: "+m+" } ",!1!==E.opts.messages&&(A+=" , message: 'should NOT be ",A+="maxLength"==O?"longer":"shorter",A+=" than ",A+=_?"' + "+m+" + '":""+oe,A+=" characters' "),E.opts.verbose&&(A+=" , schema:  ",A+=_?"validate.schema"+I:""+oe,A+="         , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var b=A;return A=S.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+="} ",M&&(A+=" else { "),A}},8152:at=>{"use strict";at.exports=function(E,O,be){var m,A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_=E.opts.$data&&oe&&oe.$data;if(_?(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ",m="schema"+ce):m=oe,!_&&"number"!=typeof oe)throw new Error(O+" must be number");A+="if ( ",_&&(A+=" ("+m+" !== undefined && typeof "+m+" != 'number') || ");var y=O,S=S||[];S.push(A+=" Object.keys("+C+").length "+("maxProperties"==O?">":"<")+" "+m+") { "),A="",!1!==E.createErrors?(A+=" { keyword: '"+(y||"_limitProperties")+"' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { limit: "+m+" } ",!1!==E.opts.messages&&(A+=" , message: 'should NOT have ",A+="maxProperties"==O?"more":"fewer",A+=" than ",A+=_?"' + "+m+" + '":""+oe,A+=" properties' "),E.opts.verbose&&(A+=" , schema:  ",A+=_?"validate.schema"+I:""+oe,A+="         , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var b=A;return A=S.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+="} ",M&&(A+=" else { "),A}},7762:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.schema[O],Te=E.schemaPath+E.util.getProperty(O),oe=E.errSchemaPath+"/"+O,I=!E.opts.allErrors,x=E.util.copy(E),M="";x.level++;var C="valid"+x.level,_=x.baseId,m=!0,f=ce;if(f)for(var y,S=-1,b=f.length-1;S<b;)y=f[S+=1],(E.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:E.util.schemaHasRules(y,E.RULES.all))&&(m=!1,x.schema=y,x.schemaPath=Te+"["+S+"]",x.errSchemaPath=oe+"/"+S,A+="  "+E.validate(x)+" ",x.baseId=_,I&&(A+=" if ("+C+") { ",M+="}"));return I&&(A+=m?" if (true) { ":" "+M.slice(0,-1)+" "),A}},3675:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="valid"+ce,m="errs__"+ce,f=E.util.copy(E),y="";f.level++;var S="valid"+f.level;if(oe.every(function(ne){return E.opts.strictKeywords?"object"==typeof ne&&Object.keys(ne).length>0||!1===ne:E.util.schemaHasRules(ne,E.RULES.all)})){var D=f.baseId;A+=" var "+m+" = errors; var "+_+" = false;  ";var F=E.compositeRule;E.compositeRule=f.compositeRule=!0;var R=oe;if(R)for(var B,j=-1,X=R.length-1;j<X;)B=R[j+=1],f.schema=B,f.schemaPath=I+"["+j+"]",f.errSchemaPath=x+"/"+j,A+="  "+E.validate(f)+" ",f.baseId=D,A+=" "+_+" = "+_+" || "+S+"; if (!"+_+") { ",y+="}";E.compositeRule=f.compositeRule=F,A+=" "+y+" if (!"+_+") {   var err =   ",!1!==E.createErrors?(A+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: {} ",!1!==E.opts.messages&&(A+=" , message: 'should match some schema in anyOf' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",A+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!E.compositeRule&&M&&(A+=E.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),A+=" } else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } ",E.opts.allErrors&&(A+=" } ")}else M&&(A+=" if (true) { ");return A}},6273:at=>{"use strict";at.exports=function(E,O,be){var A=" ",Te=E.errSchemaPath+"/"+O,I=E.util.toQuotedString(E.schema[O]);return!0===E.opts.$comment?A+=" console.log("+I+");":"function"==typeof E.opts.$comment&&(A+=" self._opts.$comment("+I+", "+E.util.toQuotedString(Te)+", validate.root.schema);"),A}},3817:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="valid"+ce,m=E.opts.$data&&oe&&oe.$data;m&&(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; "),m||(A+=" var schema"+ce+" = validate.schema"+I+";");var y=y||[];y.push(A+="var "+_+" = equal("+C+", schema"+ce+"); if (!"+_+") {   "),A="",!1!==E.createErrors?(A+=" { keyword: 'const' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { allowedValue: schema"+ce+" } ",!1!==E.opts.messages&&(A+=" , message: 'should be equal to constant' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var S=A;return A=y.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" }",M&&(A+=" else { "),A}},2150:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="valid"+ce,m="errs__"+ce,f=E.util.copy(E);f.level++;var S="valid"+f.level,b="i"+ce,D=f.dataLevel=E.dataLevel+1,F="data"+D,R=E.baseId,B=E.opts.strictKeywords?"object"==typeof oe&&Object.keys(oe).length>0||!1===oe:E.util.schemaHasRules(oe,E.RULES.all);if(A+="var "+m+" = errors;var "+_+";",B){var j=E.compositeRule;E.compositeRule=f.compositeRule=!0,f.schema=oe,f.schemaPath=I,f.errSchemaPath=x,A+=" var "+S+" = false; for (var "+b+" = 0; "+b+" < "+C+".length; "+b+"++) { ",f.errorPath=E.util.getPathExpr(E.errorPath,b,E.opts.jsonPointers,!0);var X=C+"["+b+"]";f.dataPathArr[D]=b;var ne=E.validate(f);f.baseId=R,E.util.varOccurences(ne,F)<2?A+=" "+E.util.varReplace(ne,F,X)+" ":A+=" var "+F+" = "+X+"; "+ne+" ",A+=" if ("+S+") break; }  ",E.compositeRule=f.compositeRule=j,A+="  if (!"+S+") {"}else A+=" if ("+C+".length == 0) {";var se=se||[];se.push(A),A="",!1!==E.createErrors?(A+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: {} ",!1!==E.opts.messages&&(A+=" , message: 'should contain a valid item' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var Ae=A;return A=se.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+Ae+"]); ":" validate.errors = ["+Ae+"]; return false; ":" var err = "+Ae+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } else { ",B&&(A+="  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } "),E.opts.allErrors&&(A+=" } "),A}},7262:at=>{"use strict";at.exports=function(E,O,be){var C,S,A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,_="data"+(Te||""),m="valid"+ce,f="errs__"+ce,y=E.opts.$data&&oe&&oe.$data;y?(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ",S="schema"+ce):S=oe;var B,j,X,ne,se,b=this,D="definition"+ce,F=b.definition,R="";if(y&&F.$data){var Ae=F.validateSchema;A+=" var "+D+" = RULES.custom['"+O+"'].definition; var "+(se="keywordValidate"+ce)+" = "+D+".validate;"}else{if(!(ne=E.useCustomRule(b,oe,E.schema,E)))return;S="validate.schema"+I,se=ne.code,B=F.compile,j=F.inline,X=F.macro}var Ge=se+".errors",Ie="i"+ce,Oe="ruleErr"+ce,lt=F.async;if(lt&&!E.async)throw new Error("async keyword in sync schema");if(j||X||(A+=Ge+" = null;"),A+="var "+f+" = errors;var "+m+";",y&&F.$data&&(R+="}",A+=" if ("+S+" === undefined) { "+m+" = true; } else { ",Ae&&(R+="}",A+=" "+m+" = "+D+".validateSchema("+S+"); if ("+m+") { ")),j)A+=F.statements?" "+ne.validate+" ":" "+m+" = "+ne.validate+"; ";else if(X){var Je=E.util.copy(E);R="",Je.level++;var Ze="valid"+Je.level;Je.schema=ne.validate,Je.schemaPath="";var Mt=E.compositeRule;E.compositeRule=Je.compositeRule=!0;var It=E.validate(Je).replace(/validate\.schema/g,se);E.compositeRule=Je.compositeRule=Mt,A+=" "+It}else{(xt=xt||[]).push(A),A="",A+="  "+se+".call( ",A+=E.opts.passContext?"this":"self",A+=B||!1===F.schema?" , "+_+" ":" , "+S+" , "+_+" , validate.schema"+E.schemaPath+" ",A+=" , (dataPath || '')",'""'!=E.errorPath&&(A+=" + "+E.errorPath);var Ne=Te?"data"+(Te-1||""):"parentData",Ee=Te?E.dataPathArr[Te]:"parentDataProperty",ue=A+=" , "+Ne+" , "+Ee+" , rootData )  ";A=xt.pop(),!1===F.errors?(A+=" "+m+" = ",lt&&(A+="await "),A+=ue+"; "):A+=lt?" var "+(Ge="customErrors"+ce)+" = null; try { "+m+" = await "+ue+"; } catch (e) { "+m+" = false; if (e instanceof ValidationError) "+Ge+" = e.errors; else throw e; } ":" "+Ge+" = null; "+m+" = "+ue+"; "}if(F.modifying&&(A+=" if ("+Ne+") "+_+" = "+Ne+"["+Ee+"];"),A+=""+R,F.valid)M&&(A+=" if (true) { ");else{var xt;A+=" if ( ",void 0===F.valid?(A+=" !",A+=X?""+Ze:""+m):A+=" "+!F.valid+" ",C=b.keyword,(xt=xt||[]).push(A+=") { "),(xt=xt||[]).push(A=""),A="",!1!==E.createErrors?(A+=" { keyword: '"+(C||"custom")+"' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { keyword: '"+b.keyword+"' } ",!1!==E.opts.messages&&(A+=" , message: 'should pass \""+b.keyword+"\" keyword validation' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+_+" "),A+=" } "):A+=" {} ";var Ce=A;A=xt.pop();var ke=A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+Ce+"]); ":" validate.errors = ["+Ce+"]; return false; ":" var err = "+Ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";A=xt.pop(),j?F.errors?"full"!=F.errors&&(A+="  for (var "+Ie+"="+f+"; "+Ie+"<errors; "+Ie+"++) { var "+Oe+" = vErrors["+Ie+"]; if ("+Oe+".dataPath === undefined) "+Oe+".dataPath = (dataPath || '') + "+E.errorPath+"; if ("+Oe+".schemaPath === undefined) { "+Oe+'.schemaPath = "'+x+'"; } ',E.opts.verbose&&(A+=" "+Oe+".schema = "+S+"; "+Oe+".data = "+_+"; "),A+=" } "):!1===F.errors?A+=" "+ke+" ":(A+=" if ("+f+" == errors) { "+ke+" } else {  for (var "+Ie+"="+f+"; "+Ie+"<errors; "+Ie+"++) { var "+Oe+" = vErrors["+Ie+"]; if ("+Oe+".dataPath === undefined) "+Oe+".dataPath = (dataPath || '') + "+E.errorPath+"; if ("+Oe+".schemaPath === undefined) { "+Oe+'.schemaPath = "'+x+'"; } ',E.opts.verbose&&(A+=" "+Oe+".schema = "+S+"; "+Oe+".data = "+_+"; "),A+=" } } "):X?(A+="   var err =   ",!1!==E.createErrors?(A+=" { keyword: '"+(C||"custom")+"' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { keyword: '"+b.keyword+"' } ",!1!==E.opts.messages&&(A+=" , message: 'should pass \""+b.keyword+"\" keyword validation' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+_+" "),A+=" } "):A+=" {} ",A+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!E.compositeRule&&M&&(A+=E.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===F.errors?A+=" "+ke+" ":(A+=" if (Array.isArray("+Ge+")) { if (vErrors === null) vErrors = "+Ge+"; else vErrors = vErrors.concat("+Ge+"); errors = vErrors.length;  for (var "+Ie+"="+f+"; "+Ie+"<errors; "+Ie+"++) { var "+Oe+" = vErrors["+Ie+"]; if ("+Oe+".dataPath === undefined) "+Oe+".dataPath = (dataPath || '') + "+E.errorPath+";  "+Oe+'.schemaPath = "'+x+'";  ',E.opts.verbose&&(A+=" "+Oe+".schema = "+S+"; "+Oe+".data = "+_+"; "),A+=" } } else { "+ke+" } "),A+=" } ",M&&(A+=" else { ")}return A}},2287:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="errs__"+ce,m=E.util.copy(E),f="";m.level++;var y="valid"+m.level,S={},b={},D=E.opts.ownProperties;for(j in oe)if("__proto__"!=j){var F=oe[j],R=Array.isArray(F)?b:S;R[j]=F}A+="var "+_+" = errors;";var B=E.errorPath;for(var j in A+="var missing"+ce+";",b)if((R=b[j]).length){if(A+=" if ( "+C+E.util.getProperty(j)+" !== undefined ",D&&(A+=" && Object.prototype.hasOwnProperty.call("+C+", '"+E.util.escapeQuotes(j)+"') "),M){A+=" && ( ";var X=R;if(X)for(var se=-1,Ae=X.length-1;se<Ae;)ne=X[se+=1],se&&(A+=" || "),A+=" ( ( "+(Ie=C+(Ge=E.util.getProperty(ne)))+" === undefined ",D&&(A+=" || ! Object.prototype.hasOwnProperty.call("+C+", '"+E.util.escapeQuotes(ne)+"') "),A+=") && (missing"+ce+" = "+E.util.toQuotedString(E.opts.jsonPointers?ne:Ge)+") ) ";A+=")) {  ";var Oe="missing"+ce,lt="' + "+Oe+" + '";E.opts._errorDataPathProperty&&(E.errorPath=E.opts.jsonPointers?E.util.getPathExpr(B,Oe,!0):B+" + "+Oe);var Je=Je||[];Je.push(A),A="",!1!==E.createErrors?(A+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { property: '"+E.util.escapeQuotes(j)+"', missingProperty: '"+lt+"', depsCount: "+R.length+", deps: '"+E.util.escapeQuotes(1==R.length?R[0]:R.join(", "))+"' } ",!1!==E.opts.messages&&(A+=" , message: 'should have ",A+=1==R.length?"property "+E.util.escapeQuotes(R[0]):"properties "+E.util.escapeQuotes(R.join(", ")),A+=" when property "+E.util.escapeQuotes(j)+" is present' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var Ze=A;A=Je.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+Ze+"]); ":" validate.errors = ["+Ze+"]; return false; ":" var err = "+Ze+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{A+=" ) { ";var Mt=R;if(Mt)for(var ne,It=-1,xt=Mt.length-1;It<xt;){ne=Mt[It+=1];var Ge=E.util.getProperty(ne),Ie=(lt=E.util.escapeQuotes(ne),C+Ge);E.opts._errorDataPathProperty&&(E.errorPath=E.util.getPath(B,ne,E.opts.jsonPointers)),A+=" if ( "+Ie+" === undefined ",D&&(A+=" || ! Object.prototype.hasOwnProperty.call("+C+", '"+E.util.escapeQuotes(ne)+"') "),A+=") {  var err =   ",!1!==E.createErrors?(A+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { property: '"+E.util.escapeQuotes(j)+"', missingProperty: '"+lt+"', depsCount: "+R.length+", deps: '"+E.util.escapeQuotes(1==R.length?R[0]:R.join(", "))+"' } ",!1!==E.opts.messages&&(A+=" , message: 'should have ",A+=1==R.length?"property "+E.util.escapeQuotes(R[0]):"properties "+E.util.escapeQuotes(R.join(", ")),A+=" when property "+E.util.escapeQuotes(j)+" is present' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",A+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}A+=" }   ",M&&(f+="}",A+=" else { ")}E.errorPath=B;var Ne=m.baseId;for(var j in S)F=S[j],(E.opts.strictKeywords?"object"==typeof F&&Object.keys(F).length>0||!1===F:E.util.schemaHasRules(F,E.RULES.all))&&(A+=" "+y+" = true; if ( "+C+E.util.getProperty(j)+" !== undefined ",D&&(A+=" && Object.prototype.hasOwnProperty.call("+C+", '"+E.util.escapeQuotes(j)+"') "),A+=") { ",m.schema=F,m.schemaPath=I+E.util.getProperty(j),m.errSchemaPath=x+"/"+E.util.escapeFragment(j),A+="  "+E.validate(m)+" ",m.baseId=Ne,A+=" }  ",M&&(A+=" if ("+y+") { ",f+="}"));return M&&(A+="   "+f+" if ("+_+" == errors) {"),A}},8792:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="valid"+ce,m=E.opts.$data&&oe&&oe.$data;m&&(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ");var y="i"+ce,S="schema"+ce;m||(A+=" var "+S+" = validate.schema"+I+";"),A+="var "+_+";",m&&(A+=" if (schema"+ce+" === undefined) "+_+" = true; else if (!Array.isArray(schema"+ce+")) "+_+" = false; else {"),A+=_+" = false;for (var "+y+"=0; "+y+"<"+S+".length; "+y+"++) if (equal("+C+", "+S+"["+y+"])) { "+_+" = true; break; }",m&&(A+="  }  ");var b=b||[];b.push(A+=" if (!"+_+") {   "),A="",!1!==E.createErrors?(A+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { allowedValues: schema"+ce+" } ",!1!==E.opts.messages&&(A+=" , message: 'should be equal to one of the allowed values' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var D=A;return A=b.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+D+"]); ":" validate.errors = ["+D+"]; return false; ":" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" }",M&&(A+=" else { "),A}},3061:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||"");if(!1===E.opts.format)return M&&(A+=" if (true) { "),A;var m,_=E.opts.$data&&oe&&oe.$data;_?(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ",m="schema"+ce):m=oe;var f=E.opts.unknownFormats,y=Array.isArray(f);if(_)A+=" var "+(S="format"+ce)+" = formats["+m+"]; var "+(b="isObject"+ce)+" = typeof "+S+" == 'object' && !("+S+" instanceof RegExp) && "+S+".validate; var "+(D="formatType"+ce)+" = "+b+" && "+S+".type || 'string'; if ("+b+") { ",E.async&&(A+=" var async"+ce+" = "+S+".async; "),A+=" "+S+" = "+S+".validate; } if (  ",_&&(A+=" ("+m+" !== undefined && typeof "+m+" != 'string') || "),A+=" (","ignore"!=f&&(A+=" ("+m+" && !"+S+" ",y&&(A+=" && self._opts.unknownFormats.indexOf("+m+") == -1 "),A+=") || "),A+=" ("+S+" && "+D+" == '"+be+"' && !(typeof "+S+" == 'function' ? ",A+=E.async?" (async"+ce+" ? await "+S+"("+C+") : "+S+"("+C+")) ":" "+S+"("+C+") ",A+=" : "+S+".test("+C+"))))) {";else{var S;if(!(S=E.formats[oe])){if("ignore"==f)return E.logger.warn('unknown format "'+oe+'" ignored in schema at path "'+E.errSchemaPath+'"'),M&&(A+=" if (true) { "),A;if(y&&f.indexOf(oe)>=0)return M&&(A+=" if (true) { "),A;throw new Error('unknown format "'+oe+'" is used in schema at path "'+E.errSchemaPath+'"')}var b,D=(b="object"==typeof S&&!(S instanceof RegExp)&&S.validate)&&S.type||"string";if(b){var F=!0===S.async;S=S.validate}if(D!=be)return M&&(A+=" if (true) { "),A;if(F){if(!E.async)throw new Error("async format in sync schema");A+=" if (!(await "+(R="formats"+E.util.getProperty(oe)+".validate")+"("+C+"))) { "}else{A+=" if (! ";var R="formats"+E.util.getProperty(oe);b&&(R+=".validate"),A+="function"==typeof S?" "+R+"("+C+") ":" "+R+".test("+C+") ",A+=") { "}}var B=B||[];B.push(A),A="",!1!==E.createErrors?(A+=" { keyword: 'format' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { format:  ",A+=_?""+m:""+E.util.toQuotedString(oe),A+="  } ",!1!==E.opts.messages&&(A+=" , message: 'should match format \"",A+=_?"' + "+m+" + '":""+E.util.escapeQuotes(oe),A+="\"' "),E.opts.verbose&&(A+=" , schema:  ",A+=_?"validate.schema"+I:""+E.util.toQuotedString(oe),A+="         , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var j=A;return A=B.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } ",M&&(A+=" else { "),A}},9993:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="valid"+ce,m="errs__"+ce,f=E.util.copy(E);f.level++;var y="valid"+f.level,S=E.schema.then,b=E.schema.else,D=void 0!==S&&(E.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0||!1===S:E.util.schemaHasRules(S,E.RULES.all)),F=void 0!==b&&(E.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:E.util.schemaHasRules(b,E.RULES.all)),R=f.baseId;if(D||F){var B;f.createErrors=!1,f.schema=oe,f.schemaPath=I,f.errSchemaPath=x,A+=" var "+m+" = errors; var "+_+" = true;  ";var j=E.compositeRule;E.compositeRule=f.compositeRule=!0,A+="  "+E.validate(f)+" ",f.baseId=R,f.createErrors=!0,A+="  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; }  ",E.compositeRule=f.compositeRule=j,D?(A+=" if ("+y+") {  ",f.schema=E.schema.then,f.schemaPath=E.schemaPath+".then",f.errSchemaPath=E.errSchemaPath+"/then",A+="  "+E.validate(f)+" ",f.baseId=R,A+=" "+_+" = "+y+"; ",D&&F?A+=" var "+(B="ifClause"+ce)+" = 'then'; ":B="'then'",A+=" } ",F&&(A+=" else { ")):A+=" if (!"+y+") { ",F&&(f.schema=E.schema.else,f.schemaPath=E.schemaPath+".else",f.errSchemaPath=E.errSchemaPath+"/else",A+="  "+E.validate(f)+" ",f.baseId=R,A+=" "+_+" = "+y+"; ",D&&F?A+=" var "+(B="ifClause"+ce)+" = 'else'; ":B="'else'",A+=" } "),A+=" if (!"+_+") {   var err =   ",!1!==E.createErrors?(A+=" { keyword: 'if' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { failingKeyword: "+B+" } ",!1!==E.opts.messages&&(A+=" , message: 'should match \"' + "+B+" + '\" schema' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",A+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!E.compositeRule&&M&&(A+=E.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),A+=" }   ",M&&(A+=" else { ")}else M&&(A+=" if (true) { ");return A}},6466:(at,Ke,E)=>{"use strict";at.exports={$ref:E(3764),allOf:E(7762),anyOf:E(3675),$comment:E(6273),const:E(3817),contains:E(2150),dependencies:E(2287),enum:E(8792),format:E(3061),if:E(9993),items:E(4696),maximum:E(9188),minimum:E(9188),maxItems:E(1822),minItems:E(1822),maxLength:E(8569),minLength:E(8569),maxProperties:E(8152),minProperties:E(8152),multipleOf:E(3896),not:E(1820),oneOf:E(3379),pattern:E(8506),properties:E(2917),propertyNames:E(8542),required:E(5644),uniqueItems:E(2602),validate:E(9530)}},4696:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="valid"+ce,m="errs__"+ce,f=E.util.copy(E),y="";f.level++;var S="valid"+f.level,b="i"+ce,D=f.dataLevel=E.dataLevel+1,F="data"+D,R=E.baseId;if(A+="var "+m+" = errors;var "+_+";",Array.isArray(oe)){var B=E.schema.additionalItems;if(!1===B){A+=" "+_+" = "+C+".length <= "+oe.length+"; ";var j=x;x=E.errSchemaPath+"/additionalItems";var X=X||[];X.push(A+="  if (!"+_+") {   "),A="",!1!==E.createErrors?(A+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { limit: "+oe.length+" } ",!1!==E.opts.messages&&(A+=" , message: 'should NOT have more than "+oe.length+" items' "),E.opts.verbose&&(A+=" , schema: false , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var ne=A;A=X.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+ne+"]); ":" validate.errors = ["+ne+"]; return false; ":" var err = "+ne+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } ",x=j,M&&(y+="}",A+=" else { ")}var se=oe;if(se)for(var Ae,Ge=-1,Ie=se.length-1;Ge<Ie;)if(Ae=se[Ge+=1],E.opts.strictKeywords?"object"==typeof Ae&&Object.keys(Ae).length>0||!1===Ae:E.util.schemaHasRules(Ae,E.RULES.all)){A+=" "+S+" = true; if ("+C+".length > "+Ge+") { ";var Oe=C+"["+Ge+"]";f.schema=Ae,f.schemaPath=I+"["+Ge+"]",f.errSchemaPath=x+"/"+Ge,f.errorPath=E.util.getPathExpr(E.errorPath,Ge,E.opts.jsonPointers,!0),f.dataPathArr[D]=Ge;var lt=E.validate(f);f.baseId=R,E.util.varOccurences(lt,F)<2?A+=" "+E.util.varReplace(lt,F,Oe)+" ":A+=" var "+F+" = "+Oe+"; "+lt+" ",A+=" }  ",M&&(A+=" if ("+S+") { ",y+="}")}"object"==typeof B&&(E.opts.strictKeywords?"object"==typeof B&&Object.keys(B).length>0||!1===B:E.util.schemaHasRules(B,E.RULES.all))&&(f.schema=B,f.schemaPath=E.schemaPath+".additionalItems",f.errSchemaPath=E.errSchemaPath+"/additionalItems",A+=" "+S+" = true; if ("+C+".length > "+oe.length+") {  for (var "+b+" = "+oe.length+"; "+b+" < "+C+".length; "+b+"++) { ",f.errorPath=E.util.getPathExpr(E.errorPath,b,E.opts.jsonPointers,!0),Oe=C+"["+b+"]",f.dataPathArr[D]=b,lt=E.validate(f),f.baseId=R,E.util.varOccurences(lt,F)<2?A+=" "+E.util.varReplace(lt,F,Oe)+" ":A+=" var "+F+" = "+Oe+"; "+lt+" ",M&&(A+=" if (!"+S+") break; "),A+=" } }  ",M&&(A+=" if ("+S+") { ",y+="}"))}else(E.opts.strictKeywords?"object"==typeof oe&&Object.keys(oe).length>0||!1===oe:E.util.schemaHasRules(oe,E.RULES.all))&&(f.schema=oe,f.schemaPath=I,f.errSchemaPath=x,A+="  for (var "+b+" = 0; "+b+" < "+C+".length; "+b+"++) { ",f.errorPath=E.util.getPathExpr(E.errorPath,b,E.opts.jsonPointers,!0),Oe=C+"["+b+"]",f.dataPathArr[D]=b,lt=E.validate(f),f.baseId=R,E.util.varOccurences(lt,F)<2?A+=" "+E.util.varReplace(lt,F,Oe)+" ":A+=" var "+F+" = "+Oe+"; "+lt+" ",M&&(A+=" if (!"+S+") break; "),A+=" }");return M&&(A+=" "+y+" if ("+m+" == errors) {"),A}},3896:at=>{"use strict";at.exports=function(E,O,be){var m,A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_=E.opts.$data&&oe&&oe.$data;if(_?(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ",m="schema"+ce):m=oe,!_&&"number"!=typeof oe)throw new Error(O+" must be number");A+="var division"+ce+";if (",_&&(A+=" "+m+" !== undefined && ( typeof "+m+" != 'number' || "),A+=" (division"+ce+" = "+C+" / "+m+", ",A+=E.opts.multipleOfPrecision?" Math.abs(Math.round(division"+ce+") - division"+ce+") > 1e-"+E.opts.multipleOfPrecision+" ":" division"+ce+" !== parseInt(division"+ce+") ",A+=" ) ",_&&(A+="  )  ");var f=f||[];f.push(A+=" ) {   "),A="",!1!==E.createErrors?(A+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { multipleOf: "+m+" } ",!1!==E.opts.messages&&(A+=" , message: 'should be multiple of ",A+=_?"' + "+m:m+"'"),E.opts.verbose&&(A+=" , schema:  ",A+=_?"validate.schema"+I:""+oe,A+="         , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var y=A;return A=f.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+="} ",M&&(A+=" else { "),A}},1820:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="errs__"+ce,m=E.util.copy(E);m.level++;var f="valid"+m.level;if(E.opts.strictKeywords?"object"==typeof oe&&Object.keys(oe).length>0||!1===oe:E.util.schemaHasRules(oe,E.RULES.all)){m.schema=oe,m.schemaPath=I,m.errSchemaPath=x,A+=" var "+_+" = errors;  ";var S,y=E.compositeRule;E.compositeRule=m.compositeRule=!0,m.createErrors=!1,m.opts.allErrors&&(S=m.opts.allErrors,m.opts.allErrors=!1),A+=" "+E.validate(m)+" ",m.createErrors=!0,S&&(m.opts.allErrors=S),E.compositeRule=m.compositeRule=y;var b=b||[];b.push(A+=" if ("+f+") {   "),A="",!1!==E.createErrors?(A+=" { keyword: 'not' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: {} ",!1!==E.opts.messages&&(A+=" , message: 'should NOT be valid' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var D=A;A=b.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+D+"]); ":" validate.errors = ["+D+"]; return false; ":" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } else {  errors = "+_+"; if (vErrors !== null) { if ("+_+") vErrors.length = "+_+"; else vErrors = null; } ",E.opts.allErrors&&(A+=" } ")}else A+="  var err =   ",!1!==E.createErrors?(A+=" { keyword: 'not' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: {} ",!1!==E.opts.messages&&(A+=" , message: 'should NOT be valid' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",A+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",M&&(A+=" if (false) { ");return A}},3379:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="valid"+ce,m="errs__"+ce,f=E.util.copy(E),y="";f.level++;var S="valid"+f.level,b=f.baseId,D="prevValid"+ce,F="passingSchemas"+ce;A+="var "+m+" = errors , "+D+" = false , "+_+" = false , "+F+" = null; ";var R=E.compositeRule;E.compositeRule=f.compositeRule=!0;var B=oe;if(B)for(var j,X=-1,ne=B.length-1;X<ne;)j=B[X+=1],(E.opts.strictKeywords?"object"==typeof j&&Object.keys(j).length>0||!1===j:E.util.schemaHasRules(j,E.RULES.all))?(f.schema=j,f.schemaPath=I+"["+X+"]",f.errSchemaPath=x+"/"+X,A+="  "+E.validate(f)+" ",f.baseId=b):A+=" var "+S+" = true; ",X&&(A+=" if ("+S+" && "+D+") { "+_+" = false; "+F+" = ["+F+", "+X+"]; } else { ",y+="}"),A+=" if ("+S+") { "+_+" = "+D+" = true; "+F+" = "+X+"; }";return E.compositeRule=f.compositeRule=R,A+=y+"if (!"+_+") {   var err =   ",!1!==E.createErrors?(A+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { passingSchemas: "+F+" } ",!1!==E.opts.messages&&(A+=" , message: 'should match exactly one schema in oneOf' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",A+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!E.compositeRule&&M&&(A+=E.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),A+="} else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; }",E.opts.allErrors&&(A+=" } "),A}},8506:at=>{"use strict";at.exports=function(E,O,be){var m,A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_=E.opts.$data&&oe&&oe.$data;_?(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ",m="schema"+ce):m=oe;var f=_?"(new RegExp("+m+"))":E.usePattern(oe);A+="if ( ",_&&(A+=" ("+m+" !== undefined && typeof "+m+" != 'string') || ");var y=y||[];y.push(A+=" !"+f+".test("+C+") ) {   "),A="",!1!==E.createErrors?(A+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { pattern:  ",A+=_?""+m:""+E.util.toQuotedString(oe),A+="  } ",!1!==E.opts.messages&&(A+=" , message: 'should match pattern \"",A+=_?"' + "+m+" + '":""+E.util.escapeQuotes(oe),A+="\"' "),E.opts.verbose&&(A+=" , schema:  ",A+=_?"validate.schema"+I:""+E.util.toQuotedString(oe),A+="         , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var S=A;return A=y.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+="} ",M&&(A+=" else { "),A}},2917:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="errs__"+ce,m=E.util.copy(E),f="";m.level++;var y="valid"+m.level,S="key"+ce,b="idx"+ce,D=m.dataLevel=E.dataLevel+1,F="data"+D,R="dataProperties"+ce,B=Object.keys(oe||{}).filter(It),j=E.schema.patternProperties||{},X=Object.keys(j).filter(It),ne=E.schema.additionalProperties,se=B.length||X.length,Ae=!1===ne,Ge="object"==typeof ne&&Object.keys(ne).length,Ie=E.opts.removeAdditional,Oe=Ae||Ge||Ie,lt=E.opts.ownProperties,Je=E.baseId,Ze=E.schema.required;if(Ze&&(!E.opts.$data||!Ze.$data)&&Ze.length<E.opts.loopRequired)var Mt=E.util.toHash(Ze);function It(Ai){return"__proto__"!==Ai}if(A+="var "+_+" = errors;var "+y+" = true;",lt&&(A+=" var "+R+" = undefined;"),Oe){if(A+=lt?" "+R+" = "+R+" || Object.keys("+C+"); for (var "+b+"=0; "+b+"<"+R+".length; "+b+"++) { var "+S+" = "+R+"["+b+"]; ":" for (var "+S+" in "+C+") { ",se){if(A+=" var isAdditional"+ce+" = !(false ",B.length)if(B.length>8)A+=" || validate.schema"+I+".hasOwnProperty("+S+") ";else{var xt=B;if(xt)for(var Ee=-1,ue=xt.length-1;Ee<ue;)Ne=xt[Ee+=1],A+=" || "+S+" == "+E.util.toQuotedString(Ne)+" "}if(X.length){var Ce=X;if(Ce)for(var me=-1,ge=Ce.length-1;me<ge;)ke=Ce[me+=1],A+=" || "+E.usePattern(ke)+".test("+S+") "}A+=" ); if (isAdditional"+ce+") { "}if("all"==Ie)A+=" delete "+C+"["+S+"]; ";else{var Fe=E.errorPath,ee="' + "+S+" + '";if(E.opts._errorDataPathProperty&&(E.errorPath=E.util.getPathExpr(E.errorPath,S,E.opts.jsonPointers)),Ae)if(Ie)A+=" delete "+C+"["+S+"]; ";else{var Se=x;x=E.errSchemaPath+"/additionalProperties",(xe=xe||[]).push(A+=" "+y+" = false; "),A="",!1!==E.createErrors?(A+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { additionalProperty: '"+ee+"' } ",!1!==E.opts.messages&&(A+=" , message: '",A+=E.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",A+="' "),E.opts.verbose&&(A+=" , schema: false , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var fe=A;A=xe.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+fe+"]); ":" validate.errors = ["+fe+"]; return false; ":" var err = "+fe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",x=Se,M&&(A+=" break; ")}else if(Ge)if("failing"==Ie){A+=" var "+_+" = errors;  ";var he=E.compositeRule;E.compositeRule=m.compositeRule=!0,m.schema=ne,m.schemaPath=E.schemaPath+".additionalProperties",m.errSchemaPath=E.errSchemaPath+"/additionalProperties",m.errorPath=E.opts._errorDataPathProperty?E.errorPath:E.util.getPathExpr(E.errorPath,S,E.opts.jsonPointers);var Pe=C+"["+S+"]";m.dataPathArr[D]=S;var le=E.validate(m);m.baseId=Je,E.util.varOccurences(le,F)<2?A+=" "+E.util.varReplace(le,F,Pe)+" ":A+=" var "+F+" = "+Pe+"; "+le+" ",A+=" if (!"+y+") { errors = "+_+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+C+"["+S+"]; }  ",E.compositeRule=m.compositeRule=he}else m.schema=ne,m.schemaPath=E.schemaPath+".additionalProperties",m.errSchemaPath=E.errSchemaPath+"/additionalProperties",m.errorPath=E.opts._errorDataPathProperty?E.errorPath:E.util.getPathExpr(E.errorPath,S,E.opts.jsonPointers),Pe=C+"["+S+"]",m.dataPathArr[D]=S,le=E.validate(m),m.baseId=Je,E.util.varOccurences(le,F)<2?A+=" "+E.util.varReplace(le,F,Pe)+" ":A+=" var "+F+" = "+Pe+"; "+le+" ",M&&(A+=" if (!"+y+") break; ");E.errorPath=Fe}se&&(A+=" } "),A+=" }  ",M&&(A+=" if ("+y+") { ",f+="}")}var pe=E.opts.useDefaults&&!E.compositeRule;if(B.length){var Le=B;if(Le)for(var Ne,Ye=-1,Qe=Le.length-1;Ye<Qe;){var tt=oe[Ne=Le[Ye+=1]];if(E.opts.strictKeywords?"object"==typeof tt&&Object.keys(tt).length>0||!1===tt:E.util.schemaHasRules(tt,E.RULES.all)){var gt=E.util.getProperty(Ne),Ot=(Pe=C+gt,pe&&void 0!==tt.default);if(m.schema=tt,m.schemaPath=I+gt,m.errSchemaPath=x+"/"+E.util.escapeFragment(Ne),m.errorPath=E.util.getPath(E.errorPath,Ne,E.opts.jsonPointers),m.dataPathArr[D]=E.util.toQuotedString(Ne),le=E.validate(m),m.baseId=Je,E.util.varOccurences(le,F)<2){le=E.util.varReplace(le,F,Pe);var ht=Pe}else ht=F,A+=" var "+F+" = "+Pe+"; ";if(Ot)A+=" "+le+" ";else{if(Mt&&Mt[Ne]){A+=" if ( "+ht+" === undefined ",lt&&(A+=" || ! Object.prototype.hasOwnProperty.call("+C+", '"+E.util.escapeQuotes(Ne)+"') "),A+=") { "+y+" = false; ",Fe=E.errorPath,Se=x;var xe,ct=E.util.escapeQuotes(Ne);E.opts._errorDataPathProperty&&(E.errorPath=E.util.getPath(Fe,Ne,E.opts.jsonPointers)),x=E.errSchemaPath+"/required",(xe=xe||[]).push(A),A="",!1!==E.createErrors?(A+=" { keyword: 'required' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { missingProperty: '"+ct+"' } ",!1!==E.opts.messages&&(A+=" , message: '",A+=E.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+ct+"\\'",A+="' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",fe=A,A=xe.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+fe+"]); ":" validate.errors = ["+fe+"]; return false; ":" var err = "+fe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",x=Se,E.errorPath=Fe,A+=" } else { "}else M?(A+=" if ( "+ht+" === undefined ",lt&&(A+=" || ! Object.prototype.hasOwnProperty.call("+C+", '"+E.util.escapeQuotes(Ne)+"') "),A+=") { "+y+" = true; } else { "):(A+=" if ("+ht+" !== undefined ",lt&&(A+=" &&   Object.prototype.hasOwnProperty.call("+C+", '"+E.util.escapeQuotes(Ne)+"') "),A+=" ) { ");A+=" "+le+" } "}}M&&(A+=" if ("+y+") { ",f+="}")}}if(X.length){var Dt=X;if(Dt)for(var ke,Yt=-1,En=Dt.length-1;Yt<En;)tt=j[ke=Dt[Yt+=1]],(E.opts.strictKeywords?"object"==typeof tt&&Object.keys(tt).length>0||!1===tt:E.util.schemaHasRules(tt,E.RULES.all))&&(m.schema=tt,m.schemaPath=E.schemaPath+".patternProperties"+E.util.getProperty(ke),m.errSchemaPath=E.errSchemaPath+"/patternProperties/"+E.util.escapeFragment(ke),A+=lt?" "+R+" = "+R+" || Object.keys("+C+"); for (var "+b+"=0; "+b+"<"+R+".length; "+b+"++) { var "+S+" = "+R+"["+b+"]; ":" for (var "+S+" in "+C+") { ",A+=" if ("+E.usePattern(ke)+".test("+S+")) { ",m.errorPath=E.util.getPathExpr(E.errorPath,S,E.opts.jsonPointers),Pe=C+"["+S+"]",m.dataPathArr[D]=S,le=E.validate(m),m.baseId=Je,E.util.varOccurences(le,F)<2?A+=" "+E.util.varReplace(le,F,Pe)+" ":A+=" var "+F+" = "+Pe+"; "+le+" ",M&&(A+=" if (!"+y+") break; "),A+=" } ",M&&(A+=" else "+y+" = true; "),A+=" }  ",M&&(A+=" if ("+y+") { ",f+="}"))}return M&&(A+=" "+f+" if ("+_+" == errors) {"),A}},8542:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="errs__"+ce,m=E.util.copy(E);m.level++;var y="valid"+m.level;if(A+="var "+_+" = errors;",E.opts.strictKeywords?"object"==typeof oe&&Object.keys(oe).length>0||!1===oe:E.util.schemaHasRules(oe,E.RULES.all)){m.schema=oe,m.schemaPath=I,m.errSchemaPath=x;var S="key"+ce,b="idx"+ce,D="i"+ce,F="' + "+S+" + '",B="data"+(m.dataLevel=E.dataLevel+1),j="dataProperties"+ce,X=E.opts.ownProperties,ne=E.baseId;X&&(A+=" var "+j+" = undefined; "),A+=X?" "+j+" = "+j+" || Object.keys("+C+"); for (var "+b+"=0; "+b+"<"+j+".length; "+b+"++) { var "+S+" = "+j+"["+b+"]; ":" for (var "+S+" in "+C+") { ",A+=" var startErrs"+ce+" = errors; ";var se=S,Ae=E.compositeRule;E.compositeRule=m.compositeRule=!0;var Ge=E.validate(m);m.baseId=ne,E.util.varOccurences(Ge,B)<2?A+=" "+E.util.varReplace(Ge,B,se)+" ":A+=" var "+B+" = "+se+"; "+Ge+" ",E.compositeRule=m.compositeRule=Ae,A+=" if (!"+y+") { for (var "+D+"=startErrs"+ce+"; "+D+"<errors; "+D+"++) { vErrors["+D+"].propertyName = "+S+"; }   var err =   ",!1!==E.createErrors?(A+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { propertyName: '"+F+"' } ",!1!==E.opts.messages&&(A+=" , message: 'property name \\'"+F+"\\' is invalid' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",A+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!E.compositeRule&&M&&(A+=E.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),M&&(A+=" break; "),A+=" } }"}return M&&(A+="  if ("+_+" == errors) {"),A}},3764:at=>{"use strict";at.exports=function(E,O,be){var _,m,A=" ",Te=E.dataLevel,oe=E.schema[O],I=E.errSchemaPath+"/"+O,x=!E.opts.allErrors,M="data"+(Te||""),C="valid"+E.level;if("#"==oe||"#/"==oe)E.isRoot?(_=E.async,m="validate"):(_=!0===E.root.schema.$async,m="root.refVal[0]");else{var f=E.resolveRef(E.baseId,oe,E.isRoot);if(void 0===f){var y=E.MissingRefError.message(E.baseId,oe);if("fail"==E.opts.missingRefs){E.logger.error(y),(S=S||[]).push(A),A="",!1!==E.createErrors?(A+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(I)+" , params: { ref: '"+E.util.escapeQuotes(oe)+"' } ",!1!==E.opts.messages&&(A+=" , message: 'can\\'t resolve reference "+E.util.escapeQuotes(oe)+"' "),E.opts.verbose&&(A+=" , schema: "+E.util.toQuotedString(oe)+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+M+" "),A+=" } "):A+=" {} ";var b=A;A=S.pop(),A+=!E.compositeRule&&x?E.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",x&&(A+=" if (false) { ")}else{if("ignore"!=E.opts.missingRefs)throw new E.MissingRefError(E.baseId,oe,y);E.logger.warn(y),x&&(A+=" if (true) { ")}}else if(f.inline){var D=E.util.copy(E);D.level++;var F="valid"+D.level;D.schema=f.schema,D.schemaPath="",D.errSchemaPath=oe,A+=" "+E.validate(D).replace(/validate\.schema/g,f.code)+" ",x&&(A+=" if ("+F+") { ")}else _=!0===f.$async||E.async&&!1!==f.$async,m=f.code}if(m){var S;(S=S||[]).push(A),A="",A+=E.opts.passContext?" "+m+".call(this, ":" "+m+"( ",A+=" "+M+", (dataPath || '')",'""'!=E.errorPath&&(A+=" + "+E.errorPath);var X=A+=" , "+(Te?"data"+(Te-1||""):"parentData")+" , "+(Te?E.dataPathArr[Te]:"parentDataProperty")+", rootData)  ";if(A=S.pop(),_){if(!E.async)throw new Error("async schema referenced by sync schema");x&&(A+=" var "+C+"; "),A+=" try { await "+X+"; ",x&&(A+=" "+C+" = true; "),A+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",x&&(A+=" "+C+" = false; "),A+=" } ",x&&(A+=" if ("+C+") { ")}else A+=" if (!"+X+") { if (vErrors === null) vErrors = "+m+".errors; else vErrors = vErrors.concat("+m+".errors); errors = vErrors.length; } ",x&&(A+=" else { ")}return A}},5644:at=>{"use strict";at.exports=function(E,O,be){var A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="valid"+ce,m=E.opts.$data&&oe&&oe.$data;m&&(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ");var y="schema"+ce;if(!m)if(oe.length<E.opts.loopRequired&&E.schema.properties&&Object.keys(E.schema.properties).length){var S=[],b=oe;if(b)for(var D,F=-1,R=b.length-1;F<R;){D=b[F+=1];var B=E.schema.properties[D];B&&(E.opts.strictKeywords?"object"==typeof B&&Object.keys(B).length>0||!1===B:E.util.schemaHasRules(B,E.RULES.all))||(S[S.length]=D)}}else S=oe;if(m||S.length){var j=E.errorPath,X=m||S.length>=E.opts.loopRequired,ne=E.opts.ownProperties;if(M)if(A+=" var missing"+ce+"; ",X){m||(A+=" var "+y+" = validate.schema"+I+"; ");var Ge="' + "+(Ae="schema"+ce+"["+(se="i"+ce)+"]")+" + '";E.opts._errorDataPathProperty&&(E.errorPath=E.util.getPathExpr(j,Ae,E.opts.jsonPointers)),A+=" var "+_+" = true; ",m&&(A+=" if (schema"+ce+" === undefined) "+_+" = true; else if (!Array.isArray(schema"+ce+")) "+_+" = false; else {"),A+=" for (var "+se+" = 0; "+se+" < "+y+".length; "+se+"++) { "+_+" = "+C+"["+y+"["+se+"]] !== undefined ",ne&&(A+=" &&   Object.prototype.hasOwnProperty.call("+C+", "+y+"["+se+"]) "),A+="; if (!"+_+") break; } ",m&&(A+="  }  "),(Ie=Ie||[]).push(A+="  if (!"+_+") {   "),A="",!1!==E.createErrors?(A+=" { keyword: 'required' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { missingProperty: '"+Ge+"' } ",!1!==E.opts.messages&&(A+=" , message: '",A+=E.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+Ge+"\\'",A+="' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var Oe=A;A=Ie.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+Oe+"]); ":" validate.errors = ["+Oe+"]; return false; ":" var err = "+Oe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } else { "}else{A+=" if ( ";var Ie,lt=S;if(lt)for(var se=-1,Ze=lt.length-1;se<Ze;)Je=lt[se+=1],se&&(A+=" || "),A+=" ( ( "+(It=C+(Mt=E.util.getProperty(Je)))+" === undefined ",ne&&(A+=" || ! Object.prototype.hasOwnProperty.call("+C+", '"+E.util.escapeQuotes(Je)+"') "),A+=") && (missing"+ce+" = "+E.util.toQuotedString(E.opts.jsonPointers?Je:Mt)+") ) ";A+=") {  ",Ge="' + "+(Ae="missing"+ce)+" + '",E.opts._errorDataPathProperty&&(E.errorPath=E.opts.jsonPointers?E.util.getPathExpr(j,Ae,!0):j+" + "+Ae),(Ie=Ie||[]).push(A),A="",!1!==E.createErrors?(A+=" { keyword: 'required' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { missingProperty: '"+Ge+"' } ",!1!==E.opts.messages&&(A+=" , message: '",A+=E.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+Ge+"\\'",A+="' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",Oe=A,A=Ie.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+Oe+"]); ":" validate.errors = ["+Oe+"]; return false; ":" var err = "+Oe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } else { "}else if(X){var Ae;m||(A+=" var "+y+" = validate.schema"+I+"; "),Ge="' + "+(Ae="schema"+ce+"["+(se="i"+ce)+"]")+" + '",E.opts._errorDataPathProperty&&(E.errorPath=E.util.getPathExpr(j,Ae,E.opts.jsonPointers)),m&&(A+=" if ("+y+" && !Array.isArray("+y+")) {  var err =   ",!1!==E.createErrors?(A+=" { keyword: 'required' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { missingProperty: '"+Ge+"' } ",!1!==E.opts.messages&&(A+=" , message: '",A+=E.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+Ge+"\\'",A+="' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",A+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+y+" !== undefined) { "),A+=" for (var "+se+" = 0; "+se+" < "+y+".length; "+se+"++) { if ("+C+"["+y+"["+se+"]] === undefined ",ne&&(A+=" || ! Object.prototype.hasOwnProperty.call("+C+", "+y+"["+se+"]) "),A+=") {  var err =   ",!1!==E.createErrors?(A+=" { keyword: 'required' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { missingProperty: '"+Ge+"' } ",!1!==E.opts.messages&&(A+=" , message: '",A+=E.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+Ge+"\\'",A+="' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",A+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",m&&(A+="  }  ")}else{var xt=S;if(xt)for(var Je,Ne=-1,Ee=xt.length-1;Ne<Ee;){Je=xt[Ne+=1];var Mt=E.util.getProperty(Je),It=(Ge=E.util.escapeQuotes(Je),C+Mt);E.opts._errorDataPathProperty&&(E.errorPath=E.util.getPath(j,Je,E.opts.jsonPointers)),A+=" if ( "+It+" === undefined ",ne&&(A+=" || ! Object.prototype.hasOwnProperty.call("+C+", '"+E.util.escapeQuotes(Je)+"') "),A+=") {  var err =   ",!1!==E.createErrors?(A+=" { keyword: 'required' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { missingProperty: '"+Ge+"' } ",!1!==E.opts.messages&&(A+=" , message: '",A+=E.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+Ge+"\\'",A+="' "),E.opts.verbose&&(A+=" , schema: validate.schema"+I+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ",A+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}E.errorPath=j}else M&&(A+=" if (true) {");return A}},2602:at=>{"use strict";at.exports=function(E,O,be){var f,A=" ",ce=E.level,Te=E.dataLevel,oe=E.schema[O],I=E.schemaPath+E.util.getProperty(O),x=E.errSchemaPath+"/"+O,M=!E.opts.allErrors,C="data"+(Te||""),_="valid"+ce,m=E.opts.$data&&oe&&oe.$data;if(m?(A+=" var schema"+ce+" = "+E.util.getData(oe.$data,Te,E.dataPathArr)+"; ",f="schema"+ce):f=oe,(oe||m)&&!1!==E.opts.uniqueItems){m&&(A+=" var "+_+"; if ("+f+" === false || "+f+" === undefined) "+_+" = true; else if (typeof "+f+" != 'boolean') "+_+" = false; else { "),A+=" var i = "+C+".length , "+_+" = true , j; if (i > 1) { ";var y=E.schema.items&&E.schema.items.type,S=Array.isArray(y);!y||"object"==y||"array"==y||S&&(y.indexOf("object")>=0||y.indexOf("array")>=0)?A+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+C+"[i], "+C+"[j])) { "+_+" = false; break outer; } } } ":(A+=" var itemIndices = {}, item; for (;i--;) { var item = "+C+"[i]; ",A+=" if ("+E.util["checkDataType"+(S?"s":"")](y,"item",E.opts.strictNumbers,!0)+") continue; ",S&&(A+=" if (typeof item == 'string') item = '\"' + item; "),A+=" if (typeof itemIndices[item] == 'number') { "+_+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),A+=" } ",m&&(A+="  }  ");var D=D||[];D.push(A+=" if (!"+_+") {   "),A="",!1!==E.createErrors?(A+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(x)+" , params: { i: i, j: j } ",!1!==E.opts.messages&&(A+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),E.opts.verbose&&(A+=" , schema:  ",A+=m?"validate.schema"+I:""+oe,A+="         , parentSchema: validate.schema"+E.schemaPath+" , data: "+C+" "),A+=" } "):A+=" {} ";var F=A;A=D.pop(),A+=!E.compositeRule&&M?E.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } ",M&&(A+=" else { ")}else M&&(A+=" if (true) { ");return A}},9530:at=>{"use strict";at.exports=function(E,O,be){var A="",ce=!0===E.schema.$async,Te=E.util.schemaHasRulesExcept(E.schema,E.RULES.all,"$ref"),oe=E.self._getId(E.schema);if(E.opts.strictKeywords){var I=E.util.schemaUnknownRules(E.schema,E.RULES.keywords);if(I){var x="unknown keyword: "+I;if("log"!==E.opts.strictKeywords)throw new Error(x);E.logger.warn(x)}}if(E.isTop&&(A+=" var validate = ",ce&&(E.async=!0,A+="async "),A+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",oe&&(E.opts.sourceCode||E.opts.processCode)&&(A+=" /*# sourceURL="+oe+" */ ")),"boolean"==typeof E.schema||!Te&&!E.schema.$ref){var M=E.level,C=E.dataLevel,_=E.schema[O="false schema"],m=E.schemaPath+E.util.getProperty(O),f=E.errSchemaPath+"/"+O,B=!E.opts.allErrors,y="data"+(C||""),R="valid"+M;if(!1===E.schema){E.isTop?B=!0:A+=" var "+R+" = false; ",(S=S||[]).push(A),A="",!1!==E.createErrors?(A+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(f)+" , params: {} ",!1!==E.opts.messages&&(A+=" , message: 'boolean schema is false' "),E.opts.verbose&&(A+=" , schema: false , parentSchema: validate.schema"+E.schemaPath+" , data: "+y+" "),A+=" } "):A+=" {} ";var b=A;A=S.pop(),A+=!E.compositeRule&&B?E.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else A+=E.isTop?ce?" return data; ":" validate.errors = null; return true; ":" var "+R+" = true; ";return E.isTop&&(A+=" }; return validate; "),A}if(E.isTop){var D=E.isTop;if(M=E.level=0,C=E.dataLevel=0,y="data",E.rootId=E.resolve.fullPath(E.self._getId(E.root.schema)),E.baseId=E.baseId||E.rootId,delete E.isTop,E.dataPathArr=[""],void 0!==E.schema.default&&E.opts.useDefaults&&E.opts.strictDefaults){var F="default is ignored in the schema root";if("log"!==E.opts.strictDefaults)throw new Error(F);E.logger.warn(F)}A+=" var vErrors = null; ",A+=" var errors = 0;     ",A+=" if (rootData === undefined) rootData = data; "}else{if(M=E.level,y="data"+((C=E.dataLevel)||""),oe&&(E.baseId=E.resolve.url(E.baseId,oe)),ce&&!E.async)throw new Error("async schema in sync schema");A+=" var errs_"+M+" = errors;"}R="valid"+M,B=!E.opts.allErrors;var j="",X="",se=E.schema.type,Ae=Array.isArray(se);if(se&&E.opts.nullable&&!0===E.schema.nullable&&(Ae?-1==se.indexOf("null")&&(se=se.concat("null")):"null"!=se&&(se=[se,"null"],Ae=!0)),Ae&&1==se.length&&(se=se[0],Ae=!1),E.schema.$ref&&Te){if("fail"==E.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+E.errSchemaPath+'" (see option extendRefs)');!0!==E.opts.extendRefs&&(Te=!1,E.logger.warn('$ref: keywords ignored in schema at path "'+E.errSchemaPath+'"'))}if(E.schema.$comment&&E.opts.$comment&&(A+=" "+E.RULES.all.$comment.code(E,"$comment")),se){if(E.opts.coerceTypes)var Ge=E.util.coerceToTypes(E.opts.coerceTypes,se);var Ie=E.RULES.types[se];if(Ge||Ae||!0===Ie||Ie&&!tt(Ie)){if(m=E.schemaPath+".type",f=E.errSchemaPath+"/type",m=E.schemaPath+".type",f=E.errSchemaPath+"/type",A+=" if ("+E.util[Ae?"checkDataTypes":"checkDataType"](se,y,E.opts.strictNumbers,!0)+") { ",Ge){var lt="dataType"+M,Je="coerced"+M;A+=" var "+lt+" = typeof "+y+"; var "+Je+" = undefined; ","array"==E.opts.coerceTypes&&(A+=" if ("+lt+" == 'object' && Array.isArray("+y+") && "+y+".length == 1) { "+y+" = "+y+"[0]; "+lt+" = typeof "+y+"; if ("+E.util.checkDataType(E.schema.type,y,E.opts.strictNumbers)+") "+Je+" = "+y+"; } "),A+=" if ("+Je+" !== undefined) ; ";var Ze=Ge;if(Ze)for(var Mt,It=-1,xt=Ze.length-1;It<xt;)"string"==(Mt=Ze[It+=1])?A+=" else if ("+lt+" == 'number' || "+lt+" == 'boolean') "+Je+" = '' + "+y+"; else if ("+y+" === null) "+Je+" = ''; ":"number"==Mt||"integer"==Mt?(A+=" else if ("+lt+" == 'boolean' || "+y+" === null || ("+lt+" == 'string' && "+y+" && "+y+" == +"+y+" ","integer"==Mt&&(A+=" && !("+y+" % 1)"),A+=")) "+Je+" = +"+y+"; "):"boolean"==Mt?A+=" else if ("+y+" === 'false' || "+y+" === 0 || "+y+" === null) "+Je+" = false; else if ("+y+" === 'true' || "+y+" === 1) "+Je+" = true; ":"null"==Mt?A+=" else if ("+y+" === '' || "+y+" === 0 || "+y+" === false) "+Je+" = null; ":"array"==E.opts.coerceTypes&&"array"==Mt&&(A+=" else if ("+lt+" == 'string' || "+lt+" == 'number' || "+lt+" == 'boolean' || "+y+" == null) "+Je+" = ["+y+"]; ");(S=S||[]).push(A+=" else {   "),A="",!1!==E.createErrors?(A+=" { keyword: 'type' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(f)+" , params: { type: '",A+=Ae?""+se.join(","):""+se,A+="' } ",!1!==E.opts.messages&&(A+=" , message: 'should be ",A+=Ae?""+se.join(","):""+se,A+="' "),E.opts.verbose&&(A+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+y+" "),A+=" } "):A+=" {} ",b=A,A=S.pop(),A+=!E.compositeRule&&B?E.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } if ("+Je+" !== undefined) {  ";var Ne=C?"data"+(C-1||""):"parentData";A+=" "+y+" = "+Je+"; ",C||(A+="if ("+Ne+" !== undefined)"),A+=" "+Ne+"["+(C?E.dataPathArr[C]:"parentDataProperty")+"] = "+Je+"; } "}else(S=S||[]).push(A),A="",!1!==E.createErrors?(A+=" { keyword: 'type' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(f)+" , params: { type: '",A+=Ae?""+se.join(","):""+se,A+="' } ",!1!==E.opts.messages&&(A+=" , message: 'should be ",A+=Ae?""+se.join(","):""+se,A+="' "),E.opts.verbose&&(A+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+y+" "),A+=" } "):A+=" {} ",b=A,A=S.pop(),A+=!E.compositeRule&&B?E.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";A+=" } "}}if(E.schema.$ref&&!Te)A+=" "+E.RULES.all.$ref.code(E,"$ref")+" ",B&&(A+=" } if (errors === ",A+=D?"0":"errs_"+M,A+=") { ",X+="}");else{var ue=E.RULES;if(ue)for(var Ce=-1,ke=ue.length-1;Ce<ke;)if(tt(Ie=ue[Ce+=1])){if(Ie.type&&(A+=" if ("+E.util.checkDataType(Ie.type,y,E.opts.strictNumbers)+") { "),E.opts.useDefaults)if("object"==Ie.type&&E.schema.properties){_=E.schema.properties;var ge=Object.keys(_);if(ge)for(var Fe,ee=-1,Se=ge.length-1;ee<Se;)if(void 0!==(xe=_[Fe=ge[ee+=1]]).default){var fe=y+E.util.getProperty(Fe);if(E.compositeRule){if(E.opts.strictDefaults){if(F="default is ignored for: "+fe,"log"!==E.opts.strictDefaults)throw new Error(F);E.logger.warn(F)}}else A+=" if ("+fe+" === undefined ","empty"==E.opts.useDefaults&&(A+=" || "+fe+" === null || "+fe+" === '' "),A+=" ) "+fe+" = ",A+="shared"==E.opts.useDefaults?" "+E.useDefault(xe.default)+" ":" "+JSON.stringify(xe.default)+" ",A+="; "}}else if("array"==Ie.type&&Array.isArray(E.schema.items)){var he=E.schema.items;if(he){It=-1;for(var xe,Pe=he.length-1;It<Pe;)if(void 0!==(xe=he[It+=1]).default)if(fe=y+"["+It+"]",E.compositeRule){if(E.opts.strictDefaults){if(F="default is ignored for: "+fe,"log"!==E.opts.strictDefaults)throw new Error(F);E.logger.warn(F)}}else A+=" if ("+fe+" === undefined ","empty"==E.opts.useDefaults&&(A+=" || "+fe+" === null || "+fe+" === '' "),A+=" ) "+fe+" = ",A+="shared"==E.opts.useDefaults?" "+E.useDefault(xe.default)+" ":" "+JSON.stringify(xe.default)+" ",A+="; "}}var S,le=Ie.rules;if(le)for(var pe,Le=-1,Ye=le.length-1;Le<Ye;)if(gt(pe=le[Le+=1])){var Qe=pe.code(E,pe.keyword,Ie.type);Qe&&(A+=" "+Qe+" ",B&&(j+="}"))}if(B&&(A+=" "+j+" ",j=""),Ie.type&&(A+=" } ",se&&se===Ie.type&&!Ge))m=E.schemaPath+".type",f=E.errSchemaPath+"/type",(S=S||[]).push(A+=" else { "),A="",!1!==E.createErrors?(A+=" { keyword: 'type' , dataPath: (dataPath || '') + "+E.errorPath+" , schemaPath: "+E.util.toQuotedString(f)+" , params: { type: '",A+=Ae?""+se.join(","):""+se,A+="' } ",!1!==E.opts.messages&&(A+=" , message: 'should be ",A+=Ae?""+se.join(","):""+se,A+="' "),E.opts.verbose&&(A+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+E.schemaPath+" , data: "+y+" "),A+=" } "):A+=" {} ",b=A,A=S.pop(),A+=!E.compositeRule&&B?E.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",A+=" } ";B&&(A+=" if (errors === ",A+=D?"0":"errs_"+M,A+=") { ",X+="}")}}function tt(ht){for(var ct=ht.rules,Dt=0;Dt<ct.length;Dt++)if(gt(ct[Dt]))return!0}function gt(ht){return void 0!==E.schema[ht.keyword]||ht.implements&&function Ot(ht){for(var ct=ht.implements,Dt=0;Dt<ct.length;Dt++)if(void 0!==E.schema[ct[Dt]])return!0}(ht)}return B&&(A+=" "+X+" "),D?(ce?(A+=" if (errors === 0) return data;           ",A+=" else throw new ValidationError(vErrors); "):(A+=" validate.errors = vErrors; ",A+=" return errors === 0;       "),A+=" }; return validate;"):A+=" var "+R+" = errors === errs_"+M+";",A}},5041:(at,Ke,E)=>{"use strict";var O=/^[a-z_$][a-z0-9_$-]*$/i,be=E(7262),A=E(7334);at.exports={add:function ce(x,M){var C=this.RULES;if(C.keywords[x])throw new Error("Keyword "+x+" is already defined");if(!O.test(x))throw new Error("Keyword "+x+" is not a valid identifier");if(M){this.validateKeyword(M,!0);var _=M.type;if(Array.isArray(_))for(var m=0;m<_.length;m++)y(x,_[m],M);else y(x,_,M);var f=M.metaSchema;f&&(M.$data&&this._opts.$data&&(f={anyOf:[f,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),M.validateSchema=this.compile(f,!0))}function y(S,b,D){for(var F,R=0;R<C.length;R++){var B=C[R];if(B.type==b){F=B;break}}F||C.push(F={type:b,rules:[]});var j={keyword:S,definition:D,custom:!0,code:be,implements:D.implements};F.rules.push(j),C.custom[S]=j}return C.keywords[x]=C.all[x]=!0,this},get:function Te(x){var M=this.RULES.custom[x];return M?M.definition:this.RULES.keywords[x]||!1},remove:function oe(x){var M=this.RULES;delete M.keywords[x],delete M.all[x],delete M.custom[x];for(var C=0;C<M.length;C++)for(var _=M[C].rules,m=0;m<_.length;m++)if(_[m].keyword==x){_.splice(m,1);break}return this},validate:function I(x,M){I.errors=null;var C=this._validateKeyword=this._validateKeyword||this.compile(A,!0);if(C(x))return!0;if(I.errors=C.errors,M)throw new Error("custom keyword definition is invalid: "+this.errorsText(C.errors));return!1}}},1611:at=>{"use strict";at.exports=function Ke(E){return function(){var O=arguments.length;if(O){for(var be=[],A=-1;++A<O;)be[A]=arguments[A];return E.call(this,be)}return E.call(this,[])}}},3893:(at,Ke,E)=>{"use strict";var O=E(1632).reduce,be=E(1632).keys,A=E(1632).forEach,ce=E(4884).is,Te=E(4884).S;function oe(C){this._elementRegistry=C}function x(C,_){A(_,function(m,f){C.set(f,m)})}oe.$inject=["elementRegistry"],at.exports=oe,oe.prototype.execute=function(C){var _=C.element,m=C.moddleElement,f=C.properties;if(!m)throw new Error("<moddleElement> required");var y=C.changed||this.getVisualReferences(m).concat(_),S=C.oldProperties||function I(C,_){return O(_,function(m,f){return m[f]=C.get(f),m},{})}(m,be(f));return x(m,f),C.oldProperties=S,C.changed=y,y},oe.prototype.revert=function(C){var f=C.changed;return x(C.moddleElement,C.oldProperties),f},oe.prototype.getVisualReferences=function(C){var _=this._elementRegistry;return ce(C,"bpmn:DataObject")?function M(C,_){return _.filter(function(m){return ce(m,"bpmn:DataObjectReference")&&Te(m).dataObjectRef===C})}(C,_):[]}},4884:(at,Ke,E)=>{"use strict";function O(A,ce){var Te=be(A);return Te&&"function"==typeof Te.$instanceOf&&Te.$instanceOf(ce)}function be(A){return A&&A.businessObject||A}E.d(Ke,{S:()=>be,is:()=>O})},6171:(at,Ke,E)=>{"use strict";function O(A,ce){return-1===ce.indexOf(":")&&(ce="bpmn:"+ce),"function"==typeof A.$instanceOf?A.$instanceOf(ce):A.$type===ce}function be(A,ce){return ce.some(function(Te){return O(A,Te)})}E.r(Ke),E.d(Ke,{is:()=>O,isAny:()=>be})},3360:(at,Ke,E)=>{const O=E(4927);at.exports={Linter:O}},4927:(at,Ke,E)=>{const O=E(954),be={0:"off",1:"warn",2:"error"};function A(oe={}){const{config:I,resolver:x}=oe;if(void 0===x)throw new Error("must provide <options.resolver>");this.config=I,this.resolver=x,this.cachedRules={},this.cachedConfigs={}}function ce(oe){return"bpmnlint"===oe?"bpmnlint":oe.startsWith("bpmnlint-plugin-")?oe:`bpmnlint-plugin-${oe}`}at.exports=A,A.prototype.applyRule=function(I,x){const{config:M,rule:C,category:_,name:m}=x;try{return O({moddleRoot:I,rule:C,config:M}).map(function(y){return Y_(Zc({},y),{category:_})})}catch(f){return console.error("rule <"+m+"> failed with error: ",f),[{message:"Rule error: "+f.message,category:"error"}]}},A.prototype.resolveRule=function(oe,I){const{pkg:x,ruleName:M}=this.parseRuleName(oe),C=`${x}-${M}`,_=this.cachedRules[C];return _?Promise.resolve(_):Promise.resolve(this.resolver.resolveRule(x,M)).then(m=>{if(!m)throw new Error(`unknown rule <${oe}>`);return this.cachedRules[C]=m(I)})},A.prototype.resolveConfig=function(oe){const{pkg:I,configName:x}=this.parseConfigName(oe),M=`${I}-${x}`,C=this.cachedConfigs[M];return C?Promise.resolve(C):Promise.resolve(this.resolver.resolveConfig(I,x)).then(_=>{if(!_)throw new Error(`unknown config <${oe}>`);return this.cachedConfigs[M]=this.normalizeConfig(_,I)})},A.prototype.resolveRules=function(oe){return this.resolveConfiguredRules(oe).then(I=>{const C=Object.entries(I).map(([_,m])=>{const{category:f,config:y}=this.parseRuleValue(m);return{name:_,category:f,config:y}}).filter(_=>"off"!==_.category).map(_=>{const{name:m,config:f}=_;return this.resolveRule(m,f).then(function(y){return Y_(Zc({},_),{rule:y})})});return Promise.all(C)})},A.prototype.resolveConfiguredRules=function(oe){let I=oe.extends;return"string"==typeof I&&(I=[I]),void 0===I&&(I=[]),Promise.all(I.map(x=>this.resolveConfig(x).then(M=>this.resolveConfiguredRules(M)))).then(x=>[...x,this.normalizeConfig(oe,"bpmnlint").rules].reduce((_,m)=>Zc(Zc({},_),m),{}))},A.prototype.lint=function(oe,I){return this.resolveRules(I=I||this.config).then(x=>{const M={};return x.forEach(C=>{const{name:_}=C,m=this.applyRule(oe,C);m.length&&(M[_]=m)}),M})},A.prototype.parseRuleValue=function(oe){let I,x;return Array.isArray(oe)?(I=oe[0],x=oe[1]):(I=oe,x={}),"string"==typeof I&&(I=I.toLowerCase()),I=be[I]||I,{config:x,category:I}},A.prototype.parseRuleName=function(oe,I="bpmnlint"){const x=/^(?:(?:(@[^/]+)\/)?([^@]{1}[^/]*)\/)?([^/]+)$/.exec(oe);if(!x)throw new Error(`unparseable rule name <${oe}>`);const[M,C,_,m]=x;return _?{pkg:`${C?C+"/":""}${ce(_)}`,ruleName:m}:{pkg:I,ruleName:m}},A.prototype.parseConfigName=function(oe){const I=/^(?:(?:plugin:(?:(@[^/]+)\/)?([^@]{1}[^/]*)\/)|bpmnlint:)([^/]+)$/.exec(oe);if(!I)throw new Error(`unparseable config name <${oe}>`);const[x,M,C,_]=I;return C?{pkg:`${M?M+"/":""}${ce(C)}`,configName:_}:{pkg:"bpmnlint",configName:_}},A.prototype.getSimplePackageName=function(oe){const I=/^(?:(@[^/]+)\/)?([^/]+)$/.exec(oe);if(!I)throw new Error(`unparseable package name <${oe}>`);const[x,M,C]=I;return`${M?M+"/":""}${function Te(oe){return oe.startsWith("bpmnlint-plugin-")?oe.substring(16):oe}(C)}`},A.prototype.normalizeConfig=function(oe,I){const x=oe.rules||{},M=Object.keys(x).reduce((C,_)=>{const m=x[_],{pkg:f,ruleName:y}=this.parseRuleName(_,I);return C["bpmnlint"===f?y:`${this.getSimplePackageName(f)}/${y}`]=m,C},{});return Y_(Zc({},oe),{rules:M})}},8066:at=>{function Ke(E){this.cache=E}at.exports=Ke,Ke.prototype.resolveRule=function(E,O){return this.resolve("rule",E,O)},Ke.prototype.resolveConfig=function(E,O){return this.resolve("config",E,O)},Ke.prototype.resolve=function(E,O,be){const A=`${O}/${be}`,ce=this.cache[`${E}:${A}`];if(!ce)throw new Error(`unknown ${E} <${A}>`);return ce}},954:(at,Ke,E)=>{const O=E(6610),{isArray:be,isObject:A}=E(1632);class ce{constructor({moddleRoot:oe,rule:I}){this.rule=I,this.moddleRoot=oe,this.messages=[],this.report=this.report.bind(this)}report(oe,I,x){let M={id:oe,message:I};x&&be(x)&&(M=Y_(Zc({},M),{path:x})),x&&A(x)&&(M=Zc(Zc({},M),x)),this.messages.push(M)}}at.exports=function({moddleRoot:oe,rule:I}){const x=new ce({rule:I,moddleRoot:oe}),M=I.check,C=M&&M.enter||M,_=M&&M.leave;if(!C&&!_)throw new Error("no check implemented");return O(oe,{enter:C?m=>C(m,x):null,leave:_?m=>_(m,x):null}),x.messages}},6610:at=>{at.exports=function Ke(E,O){const be=O.enter||null,A=O.leave||null,ce=be&&be(E),Te=E.$descriptor;!1!==ce&&!Te.isGeneric&&Te.properties.filter(I=>!I.isAttr&&!I.isReference&&"String"!==I.type).forEach(I=>{if(I.name in E){const x=E[I.name];I.isMany?x.forEach(M=>{Ke(M,O)}):Ke(x,O)}}),A&&A(E)}},4100:(at,Ke,E)=>{const{is:O,isAny:be}=E(6171);at.exports=function(){return{check:function ce(Te,oe){if(be(Te,["bpmn:Process","bpmn:SubProcess"])&&!function A(Te){return(Te.flowElements||[]).some(I=>O(I,"bpmn:EndEvent"))}(Te)){const I=O(Te,"bpmn:SubProcess")?"Sub process":"Process";oe.report(Te.id,I+" is missing end event")}}}}},810:(at,Ke,E)=>{const{isAny:O}=E(6171);at.exports=function(){return{check:function be(A,ce){O(A,["bpmn:Task","bpmn:Event"])&&(A.incoming||[]).length>1&&ce.report(A.id,"Incoming flows do not join")}}}},8589:(at,Ke,E)=>{const{isAny:O,is:be}=E(6171);at.exports=function(){return{check:function oe(I,x){!O(I,["bpmn:Task","bpmn:Gateway","bpmn:SubProcess","bpmn:Event"])||I.triggeredByEvent||function Te(oe){var I=function A(oe){var I=oe.eventDefinitions;return!(!be(oe,"bpmn:BoundaryEvent")||!I||1!==I.length)&&be(I[0],"bpmn:CompensateEventDefinition")}(oe),x=function ce(oe){return oe.isForCompensation}(oe);return I||x}(I)||!(I.incoming||[]).length&&!(I.outgoing||[]).length&&x.report(I.id,"Element is not connected")}}}},6177:(at,Ke,E)=>{const{is:O}=E(6171);at.exports=function(){const A={},ce={},Te={};return{check:function oe(I,x){if(!O(I,"bpmn:SequenceFlow"))return;const M=function be(A){const ce=A.conditionExpression;return(A.sourceRef?A.sourceRef.id:A.id)+"#"+(A.targetRef?A.targetRef.id:A.id)+"#"+(ce?ce.body:"")}(I);if(M in A){x.report(I.id,"SequenceFlow is a duplicate");const C=I.sourceRef.id,_=I.targetRef.id;ce[C]||(x.report(C,"Duplicate outgoing sequence flows"),ce[C]=!0),Te[_]||(x.report(_,"Duplicate incoming sequence flows"),Te[_]=!0)}else A[M]=I}}}},82:(at,Ke,E)=>{const{isAny:O}=E(6171);at.exports=function(){return{check:function ce(Te,oe){O(Te,["bpmn:Task","bpmn:Event"])&&(Te.outgoing||[]).filter(M=>!function be(ce){return!!ce.conditionExpression}(M)&&!function A(ce,Te){return ce.default===Te}(Te,M)).length>1&&oe.report(Te.id,"Flow splits implicitly")}}}},109:(at,Ke,E)=>{const{is:O}=E(6171);at.exports=function(){return{check:function be(A,ce){if(O(A,"bpmn:FlowElementsContainer")&&(A.flowElements||[]).filter(function(I){return!!O(I,"bpmn:StartEvent")&&0===(I.eventDefinitions||[]).length}).length>1){const I=O(A,"bpmn:SubProcess")?"Sub process":"Process";ce.report(A.id,I+" has multiple blank start events")}}}}},5555:(at,Ke,E)=>{const{is:O,isAny:be}=E(6171);at.exports=function(){return{check:function ce(Te,oe){if(be(Te,["bpmn:Process","bpmn:SubProcess"])&&!function A(Te){return(Te.flowElements||[]).some(I=>O(I,"bpmn:StartEvent"))}(Te)){const I=O(Te,"bpmn:SubProcess")?"Sub process":"Process";oe.report(Te.id,I+" is missing start event")}}}}},7349:(at,Ke,E)=>{const{is:O}=E(6171);at.exports=function(){return{check:function be(A,ce){O(A,"bpmn:Gateway")&&1===(A.incoming||[]).length&&1===(A.outgoing||[]).length&&ce.report(A.id,"Gateway is superfluous. It only has one source and target.")}}}},9846:function(at){var Ke;Ke="undefined"!=typeof global?global:this,at.exports=function(Ke){if(Ke.CSS&&Ke.CSS.escape)return Ke.CSS.escape;var E=function(O){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var Te,be=String(O),A=be.length,ce=-1,oe="",I=be.charCodeAt(0);++ce<A;)0!=(Te=be.charCodeAt(ce))?oe+=Te>=1&&Te<=31||127==Te||0==ce&&Te>=48&&Te<=57||1==ce&&Te>=48&&Te<=57&&45==I?"\\"+Te.toString(16)+" ":0==ce&&1==A&&45==Te||!(Te>=128||45==Te||95==Te||Te>=48&&Te<=57||Te>=65&&Te<=90||Te>=97&&Te<=122)?"\\"+be.charAt(ce):be.charAt(ce):oe+="\ufffd";return oe};return Ke.CSS||(Ke.CSS={}),Ke.CSS.escape=E,E}(Ke)},9069:at=>{"use strict";var O,Ke="object"==typeof Reflect?Reflect:null,E=Ke&&"function"==typeof Ke.apply?Ke.apply:function(B,j,X){return Function.prototype.apply.call(B,j,X)};O=Ke&&"function"==typeof Ke.ownKeys?Ke.ownKeys:Object.getOwnPropertySymbols?function(B){return Object.getOwnPropertyNames(B).concat(Object.getOwnPropertySymbols(B))}:function(B){return Object.getOwnPropertyNames(B)};var A=Number.isNaN||function(B){return B!=B};function ce(){ce.init.call(this)}at.exports=ce,at.exports.once=function b(R,B){return new Promise(function(j,X){function ne(Ae){R.removeListener(B,se),X(Ae)}function se(){"function"==typeof R.removeListener&&R.removeListener("error",ne),j([].slice.call(arguments))}F(R,B,se,{once:!0}),"error"!==B&&function D(R,B,j){"function"==typeof R.on&&F(R,"error",B,j)}(R,ne,{once:!0})})},ce.EventEmitter=ce,ce.prototype._events=void 0,ce.prototype._eventsCount=0,ce.prototype._maxListeners=void 0;var Te=10;function oe(R){if("function"!=typeof R)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}function I(R){return void 0===R._maxListeners?ce.defaultMaxListeners:R._maxListeners}function x(R,B,j,X){var ne,se,Ae;if(oe(j),void 0===(se=R._events)?(se=R._events=Object.create(null),R._eventsCount=0):(void 0!==se.newListener&&(R.emit("newListener",B,j.listener?j.listener:j),se=R._events),Ae=se[B]),void 0===Ae)Ae=se[B]=j,++R._eventsCount;else if("function"==typeof Ae?Ae=se[B]=X?[j,Ae]:[Ae,j]:X?Ae.unshift(j):Ae.push(j),(ne=I(R))>0&&Ae.length>ne&&!Ae.warned){Ae.warned=!0;var Ge=new Error("Possible EventEmitter memory leak detected. "+Ae.length+" "+String(B)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ge.name="MaxListenersExceededWarning",Ge.emitter=R,Ge.type=B,Ge.count=Ae.length,function be(R){console&&console.warn&&console.warn(R)}(Ge)}return R}function M(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(R,B,j){var X={fired:!1,wrapFn:void 0,target:R,type:B,listener:j},ne=M.bind(X);return ne.listener=j,X.wrapFn=ne,ne}function _(R,B,j){var X=R._events;if(void 0===X)return[];var ne=X[B];return void 0===ne?[]:"function"==typeof ne?j?[ne.listener||ne]:[ne]:j?function S(R){for(var B=new Array(R.length),j=0;j<B.length;++j)B[j]=R[j].listener||R[j];return B}(ne):f(ne,ne.length)}function m(R){var B=this._events;if(void 0!==B){var j=B[R];if("function"==typeof j)return 1;if(void 0!==j)return j.length}return 0}function f(R,B){for(var j=new Array(B),X=0;X<B;++X)j[X]=R[X];return j}function F(R,B,j,X){if("function"==typeof R.on)X.once?R.once(B,j):R.on(B,j);else{if("function"!=typeof R.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R);R.addEventListener(B,function ne(se){X.once&&R.removeEventListener(B,ne),j(se)})}}Object.defineProperty(ce,"defaultMaxListeners",{enumerable:!0,get:function(){return Te},set:function(R){if("number"!=typeof R||R<0||A(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");Te=R}}),ce.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ce.prototype.setMaxListeners=function(B){if("number"!=typeof B||B<0||A(B))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+B+".");return this._maxListeners=B,this},ce.prototype.getMaxListeners=function(){return I(this)},ce.prototype.emit=function(B){for(var j=[],X=1;X<arguments.length;X++)j.push(arguments[X]);var ne="error"===B,se=this._events;if(void 0!==se)ne=ne&&void 0===se.error;else if(!ne)return!1;if(ne){var Ae;if(j.length>0&&(Ae=j[0]),Ae instanceof Error)throw Ae;var Ge=new Error("Unhandled error."+(Ae?" ("+Ae.message+")":""));throw Ge.context=Ae,Ge}var Ie=se[B];if(void 0===Ie)return!1;if("function"==typeof Ie)E(Ie,this,j);else{var Oe=Ie.length,lt=f(Ie,Oe);for(X=0;X<Oe;++X)E(lt[X],this,j)}return!0},ce.prototype.on=ce.prototype.addListener=function(B,j){return x(this,B,j,!1)},ce.prototype.prependListener=function(B,j){return x(this,B,j,!0)},ce.prototype.once=function(B,j){return oe(j),this.on(B,C(this,B,j)),this},ce.prototype.prependOnceListener=function(B,j){return oe(j),this.prependListener(B,C(this,B,j)),this},ce.prototype.off=ce.prototype.removeListener=function(B,j){var X,ne,se,Ae,Ge;if(oe(j),void 0===(ne=this._events))return this;if(void 0===(X=ne[B]))return this;if(X===j||X.listener===j)0==--this._eventsCount?this._events=Object.create(null):(delete ne[B],ne.removeListener&&this.emit("removeListener",B,X.listener||j));else if("function"!=typeof X){for(se=-1,Ae=X.length-1;Ae>=0;Ae--)if(X[Ae]===j||X[Ae].listener===j){Ge=X[Ae].listener,se=Ae;break}if(se<0)return this;0===se?X.shift():function y(R,B){for(;B+1<R.length;B++)R[B]=R[B+1];R.pop()}(X,se),1===X.length&&(ne[B]=X[0]),void 0!==ne.removeListener&&this.emit("removeListener",B,Ge||j)}return this},ce.prototype.removeAllListeners=function(B){var j,X,ne;if(void 0===(X=this._events))return this;if(void 0===X.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==X[B]&&(0==--this._eventsCount?this._events=Object.create(null):delete X[B]),this;if(0===arguments.length){var Ae,se=Object.keys(X);for(ne=0;ne<se.length;++ne)"removeListener"!==(Ae=se[ne])&&this.removeAllListeners(Ae);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(j=X[B]))this.removeListener(B,j);else if(void 0!==j)for(ne=j.length-1;ne>=0;ne--)this.removeListener(B,j[ne]);return this},ce.prototype.listeners=function(B){return _(this,B,!0)},ce.prototype.rawListeners=function(B){return _(this,B,!1)},ce.listenerCount=function(R,B){return"function"==typeof R.listenerCount?R.listenerCount(B):m.call(R,B)},ce.prototype.listenerCount=m,ce.prototype.eventNames=function(){return this._eventsCount>0?O(this._events):[]}},8621:(at,Ke,E)=>{var I,x,M,C,_,m,O=O||{version:"4.6.0"};if(Ke.fabric=O,"undefined"!=typeof document&&"undefined"!=typeof window)O.document=document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?document:document.implementation.createHTMLDocument(""),O.window=window;else{var A=new(E(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;O.document=A.document,O.jsdomImplForWrapper=E(6759).implForWrapper,O.nodeCanvas=E(6272).Canvas,O.window=A,DOMParser=O.window.DOMParser}function Te(I,x){var M=I.canvas,C=x.targetCanvas,_=C.getContext("2d");_.translate(0,C.height),_.scale(1,-1),_.drawImage(M,0,M.height-C.height,C.width,C.height,0,0,C.width,C.height)}function oe(I,x){var C=x.targetCanvas.getContext("2d"),_=x.destinationWidth,m=x.destinationHeight,f=_*m*4,y=new Uint8Array(this.imageBuffer,0,f),S=new Uint8ClampedArray(this.imageBuffer,0,f);I.readPixels(0,0,_,m,I.RGBA,I.UNSIGNED_BYTE,y);var b=new ImageData(S,_,m);C.putImageData(b,0,0)}O.isTouchSupported="ontouchstart"in O.window||"ontouchstart"in O.document||O.window&&O.window.navigator&&O.window.navigator.maxTouchPoints>0,O.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,O.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],O.DPI=96,O.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",O.commaWsp="(?:\\s+,?\\s*|,\\s*)",O.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,O.reNonWord=/[ \n\.,;!\?\-]/,O.fontPaths={},O.iMatrix=[1,0,0,1,0,0],O.svgNS="http://www.w3.org/2000/svg",O.perfLimitSizeTotal=2097152,O.maxCacheSideLimit=4096,O.minCacheSideLimit=256,O.charWidthsCache={},O.textureSize=2048,O.disableStyleCopyPaste=!1,O.enableGLFiltering=!0,O.devicePixelRatio=O.window.devicePixelRatio||O.window.webkitDevicePixelRatio||O.window.mozDevicePixelRatio||1,O.browserShadowBlurConstant=1,O.arcToSegmentsCache={},O.boundsOfCurveCache={},O.cachesBoundsOfCurve=!0,O.forceGLPutImageData=!1,O.initFilterBackend=function(){return O.enableGLFiltering&&O.isWebglSupported&&O.isWebglSupported(O.textureSize)?(console.log("max texture size: "+O.maxTextureSize),new O.WebglFilterBackend({tileSize:O.textureSize})):O.Canvas2dFilterBackend?new O.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=O),function(){function I(f,y){if(this.__eventListeners[f]){var S=this.__eventListeners[f];y?S[S.indexOf(y)]=!1:O.util.array.fill(S,!1)}}function M(f,y){var S=function(){y.apply(this,arguments),this.off(f,S)}.bind(this);this.on(f,S)}O.Observable={fire:function m(f,y){if(!this.__eventListeners)return this;var S=this.__eventListeners[f];if(!S)return this;for(var b=0,D=S.length;b<D;b++)S[b]&&S[b].call(this,y||{});return this.__eventListeners[f]=S.filter(function(F){return!1!==F}),this},on:function x(f,y){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var S in f)this.on(S,f[S]);else this.__eventListeners[f]||(this.__eventListeners[f]=[]),this.__eventListeners[f].push(y);return this},once:function C(f,y){if(1===arguments.length)for(var S in f)M.call(this,S,f[S]);else M.call(this,f,y);return this},off:function _(f,y){if(!this.__eventListeners)return this;if(0===arguments.length)for(f in this.__eventListeners)I.call(this,f);else if(1===arguments.length&&"object"==typeof arguments[0])for(var S in f)I.call(this,S,f[S]);else I.call(this,f,y);return this}}}(),O.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var I=0,x=arguments.length;I<x;I++)this._onObjectAdded(arguments[I]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(I,x,M){var C=this._objects;return M?C[x]=I:C.splice(x,0,I),this._onObjectAdded&&this._onObjectAdded(I),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var x,I=this._objects,M=!1,C=0,_=arguments.length;C<_;C++)-1!==(x=I.indexOf(arguments[C]))&&(M=!0,I.splice(x,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[C]));return this.renderOnAddRemove&&M&&this.requestRenderAll(),this},forEachObject:function(I,x){for(var M=this.getObjects(),C=0,_=M.length;C<_;C++)I.call(x,M[C],C,M);return this},getObjects:function(I){return void 0===I?this._objects.concat():this._objects.filter(function(x){return x.type===I})},item:function(I){return this._objects[I]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(I,x){return this._objects.indexOf(I)>-1||!!x&&this._objects.some(function(M){return"function"==typeof M.contains&&M.contains(I,!0)})},complexity:function(){return this._objects.reduce(function(I,x){return I+(x.complexity?x.complexity():0)},0)}},O.CommonMethods={_setOptions:function(I){for(var x in I)this.set(x,I[x])},_initGradient:function(I,x){I&&I.colorStops&&!(I instanceof O.Gradient)&&this.set(x,new O.Gradient(I))},_initPattern:function(I,x,M){!I||!I.source||I instanceof O.Pattern?M&&M():this.set(x,new O.Pattern(I,M))},_setObject:function(I){for(var x in I)this._set(x,I[x])},set:function(I,x){return"object"==typeof I?this._setObject(I):this._set(I,x),this},_set:function(I,x){this[I]=x},toggle:function(I){var x=this.get(I);return"boolean"==typeof x&&this.set(I,!x),this},get:function(I){return this[I]}},I=Ke,x=Math.sqrt,M=Math.atan2,C=Math.pow,_=Math.PI/180,m=Math.PI/2,O.util={cos:function(f){if(0===f)return 1;switch(f<0&&(f=-f),f/m){case 1:case 3:return 0;case 2:return-1}return Math.cos(f)},sin:function(f){if(0===f)return 0;var S=1;switch(f<0&&(S=-1),f/m){case 1:return S;case 2:return 0;case 3:return-S}return Math.sin(f)},removeFromArray:function(f,y){var S=f.indexOf(y);return-1!==S&&f.splice(S,1),f},getRandomInt:function(f,y){return Math.floor(Math.random()*(y-f+1))+f},degreesToRadians:function(f){return f*_},radiansToDegrees:function(f){return f/_},rotatePoint:function(f,y,S){var b=new O.Point(f.x-y.x,f.y-y.y),D=O.util.rotateVector(b,S);return new O.Point(D.x,D.y).addEquals(y)},rotateVector:function(f,y){var S=O.util.sin(y),b=O.util.cos(y);return{x:f.x*b-f.y*S,y:f.x*S+f.y*b}},transformPoint:function(f,y,S){return S?new O.Point(y[0]*f.x+y[2]*f.y,y[1]*f.x+y[3]*f.y):new O.Point(y[0]*f.x+y[2]*f.y+y[4],y[1]*f.x+y[3]*f.y+y[5])},makeBoundingBoxFromPoints:function(f,y){if(y)for(var S=0;S<f.length;S++)f[S]=O.util.transformPoint(f[S],y);var b=[f[0].x,f[1].x,f[2].x,f[3].x],D=O.util.array.min(b),R=O.util.array.max(b)-D,B=[f[0].y,f[1].y,f[2].y,f[3].y],j=O.util.array.min(B);return{left:D,top:j,width:R,height:O.util.array.max(B)-j}},invertTransform:function(f){var y=1/(f[0]*f[3]-f[1]*f[2]),S=[y*f[3],-y*f[1],-y*f[2],y*f[0]],b=O.util.transformPoint({x:f[4],y:f[5]},S,!0);return S[4]=-b.x,S[5]=-b.y,S},toFixed:function(f,y){return parseFloat(Number(f).toFixed(y))},parseUnit:function(f,y){var S=/\D{0,2}$/.exec(f),b=parseFloat(f);switch(y||(y=O.Text.DEFAULT_SVG_FONT_SIZE),S[0]){case"mm":return b*O.DPI/25.4;case"cm":return b*O.DPI/2.54;case"in":return b*O.DPI;case"pt":return b*O.DPI/72;case"pc":return b*O.DPI/72*12;case"em":return b*y;default:return b}},falseFunction:function(){return!1},getKlass:function(f,y){return f=O.util.string.camelize(f.charAt(0).toUpperCase()+f.slice(1)),O.util.resolveNamespace(y)[f]},getSvgAttributes:function(f){var y=["instantiated_by_use","style","id","class"];switch(f){case"linearGradient":y=y.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":y=y.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":y=y.concat(["offset","stop-color","stop-opacity"])}return y},resolveNamespace:function(f){if(!f)return O;var b,y=f.split("."),S=y.length,D=I||O.window;for(b=0;b<S;++b)D=D[y[b]];return D},loadImage:function(f,y,S,b){if(f){var D=O.util.createImage(),F=function(){y&&y.call(S,D,!1),D=D.onload=D.onerror=null};D.onload=F,D.onerror=function(){O.log("Error loading "+D.src),y&&y.call(S,null,!0),D=D.onload=D.onerror=null},0!==f.indexOf("data")&&null!=b&&(D.crossOrigin=b),"data:image/svg"===f.substring(0,14)&&(D.onload=null,O.util.loadImageInDom(D,F)),D.src=f}else y&&y.call(S,f)},loadImageInDom:function(f,y){var S=O.document.createElement("div");S.style.width=S.style.height="1px",S.style.left=S.style.top="-100%",S.style.position="absolute",S.appendChild(f),O.document.querySelector("body").appendChild(S),f.onload=function(){y(),S.parentNode.removeChild(S),S=null}},enlivenObjects:function(f,y,S,b){var D=[],F=0,R=(f=f||[]).length;function B(){++F===R&&y&&y(D.filter(function(j){return j}))}R?f.forEach(function(j,X){j&&j.type?O.util.getKlass(j.type,S).fromObject(j,function(se,Ae){Ae||(D[X]=se),b&&b(j,se,Ae),B()}):B()}):y&&y(D)},enlivenPatterns:function(f,y){function S(){++D===F&&y&&y(b)}var b=[],D=0,F=(f=f||[]).length;F?f.forEach(function(R,B){R&&R.source?new O.Pattern(R,function(j){b[B]=j,S()}):(b[B]=R,S())}):y&&y(b)},groupSVGElements:function(f,y,S){var b;return f&&1===f.length?f[0]:(y&&(y.width&&y.height?y.centerPoint={x:y.width/2,y:y.height/2}:(delete y.width,delete y.height)),b=new O.Group(f,y),void 0!==S&&(b.sourcePath=S),b)},populateWithProperties:function(f,y,S){if(S&&"[object Array]"===Object.prototype.toString.call(S))for(var b=0,D=S.length;b<D;b++)S[b]in f&&(y[S[b]]=f[S[b]])},drawDashedLine:function(f,y,S,b,D,F){var R=b-y,B=D-S,j=x(R*R+B*B),X=M(B,R),ne=F.length,se=0,Ae=!0;for(f.save(),f.translate(y,S),f.moveTo(0,0),f.rotate(X),y=0;j>y;)(y+=F[se++%ne])>j&&(y=j),f[Ae?"lineTo":"moveTo"](y,0),Ae=!Ae;f.restore()},createCanvasElement:function(){return O.document.createElement("canvas")},copyCanvasElement:function(f){var y=O.util.createCanvasElement();return y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0),y},toDataURL:function(f,y,S){return f.toDataURL("image/"+y,S)},createImage:function(){return O.document.createElement("img")},multiplyTransformMatrices:function(f,y,S){return[f[0]*y[0]+f[2]*y[1],f[1]*y[0]+f[3]*y[1],f[0]*y[2]+f[2]*y[3],f[1]*y[2]+f[3]*y[3],S?0:f[0]*y[4]+f[2]*y[5]+f[4],S?0:f[1]*y[4]+f[3]*y[5]+f[5]]},qrDecompose:function(f){var y=M(f[1],f[0]),S=C(f[0],2)+C(f[1],2),b=x(S),D=(f[0]*f[3]-f[2]*f[1])/b,F=M(f[0]*f[2]+f[1]*f[3],S);return{angle:y/_,scaleX:b,scaleY:D,skewX:F/_,skewY:0,translateX:f[4],translateY:f[5]}},calcRotateMatrix:function(f){if(!f.angle)return O.iMatrix.concat();var y=O.util.degreesToRadians(f.angle),S=O.util.cos(y),b=O.util.sin(y);return[S,b,-b,S,0,0]},calcDimensionsMatrix:function(f){var y=void 0===f.scaleX?1:f.scaleX,S=void 0===f.scaleY?1:f.scaleY,b=[f.flipX?-y:y,0,0,f.flipY?-S:S,0,0],D=O.util.multiplyTransformMatrices,F=O.util.degreesToRadians;return f.skewX&&(b=D(b,[1,0,Math.tan(F(f.skewX)),1],!0)),f.skewY&&(b=D(b,[1,Math.tan(F(f.skewY)),0,1],!0)),b},composeMatrix:function(f){var y=[1,0,0,1,f.translateX||0,f.translateY||0],S=O.util.multiplyTransformMatrices;return f.angle&&(y=S(y,O.util.calcRotateMatrix(f))),(1!==f.scaleX||1!==f.scaleY||f.skewX||f.skewY||f.flipX||f.flipY)&&(y=S(y,O.util.calcDimensionsMatrix(f))),y},resetObjectTransform:function(f){f.scaleX=1,f.scaleY=1,f.skewX=0,f.skewY=0,f.flipX=!1,f.flipY=!1,f.rotate(0)},saveObjectTransform:function(f){return{scaleX:f.scaleX,scaleY:f.scaleY,skewX:f.skewX,skewY:f.skewY,angle:f.angle,left:f.left,flipX:f.flipX,flipY:f.flipY,top:f.top}},isTransparent:function(f,y,S,b){b>0&&(y>b?y-=b:y=0,S>b?S-=b:S=0);var F,D=!0,B=f.getImageData(y,S,2*b||1,2*b||1),j=B.data.length;for(F=3;F<j&&0!=(D=B.data[F]<=0);F+=4);return B=null,D},parsePreserveAspectRatioAttribute:function(f){var F,y="meet",D=f.split(" ");return D&&D.length&&("meet"!==(y=D.pop())&&"slice"!==y?(F=y,y="meet"):D.length&&(F=D.pop())),{meetOrSlice:y,alignX:"none"!==F?F.slice(1,4):"none",alignY:"none"!==F?F.slice(5,8):"none"}},clearFabricFontCache:function(f){(f=(f||"").toLowerCase())?O.charWidthsCache[f]&&delete O.charWidthsCache[f]:O.charWidthsCache={}},limitDimsByArea:function(f,y){var S=Math.sqrt(y*f),b=Math.floor(y/S);return{x:Math.floor(S),y:b}},capValue:function(f,y,S){return Math.max(f,Math.min(y,S))},findScaleToFit:function(f,y){return Math.min(y.width/f.width,y.height/f.height)},findScaleToCover:function(f,y){return Math.max(y.width/f.width,y.height/f.height)},matrixToSVG:function(f){return"matrix("+f.map(function(y){return O.util.toFixed(y,O.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(f,y){var S=O.util.invertTransform(y),b=O.util.multiplyTransformMatrices(S,f.calcOwnMatrix());O.util.applyTransformToObject(f,b)},addTransformToObject:function(f,y){O.util.applyTransformToObject(f,O.util.multiplyTransformMatrices(y,f.calcOwnMatrix()))},applyTransformToObject:function(f,y){var S=O.util.qrDecompose(y),b=new O.Point(S.translateX,S.translateY);f.flipX=!1,f.flipY=!1,f.set("scaleX",S.scaleX),f.set("scaleY",S.scaleY),f.skewX=S.skewX,f.skewY=S.skewY,f.angle=S.angle,f.setPositionByOrigin(b,"center","center")},sizeAfterTransform:function(f,y,S){var b=f/2,D=y/2,F=[{x:-b,y:-D},{x:b,y:-D},{x:-b,y:D},{x:b,y:D}],R=O.util.calcDimensionsMatrix(S),B=O.util.makeBoundingBoxFromPoints(F,R);return{x:B.width,y:B.height}}},function(){var I=Array.prototype.join,x={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},M={m:"l",M:"L"};function C(ue,Ce,ke,me,ge,Fe,ee,Se,xe,fe,he){var Pe=O.util.cos(ue),le=O.util.sin(ue),pe=O.util.cos(Ce),Le=O.util.sin(Ce),Ye=ke*ge*pe-me*Fe*Le+ee,Qe=me*ge*pe+ke*Fe*Le+Se;return["C",fe+xe*(-ke*ge*le-me*Fe*Pe),he+xe*(-me*ge*le+ke*Fe*Pe),Ye+xe*(ke*ge*Le+me*Fe*pe),Qe+xe*(me*ge*Le-ke*Fe*pe),Ye,Qe]}function _(ue,Ce,ke,me,ge,Fe,ee){var Se=Math.PI,xe=ee*Se/180,fe=O.util.sin(xe),he=O.util.cos(xe),Pe=0,le=0,pe=-he*ue*.5-fe*Ce*.5,Le=-he*Ce*.5+fe*ue*.5,Ye=(ke=Math.abs(ke))*ke,Qe=(me=Math.abs(me))*me,tt=Le*Le,gt=pe*pe,Ot=Ye*Qe-Ye*tt-Qe*gt,ht=0;if(Ot<0){var ct=Math.sqrt(1-Ot/(Ye*Qe));ke*=ct,me*=ct}else ht=(ge===Fe?-1:1)*Math.sqrt(Ot/(Ye*tt+Qe*gt));var Dt=ht*ke*Le/me,Yt=-ht*me*pe/ke,En=he*Dt-fe*Yt+.5*ue,Ai=fe*Dt+he*Yt+.5*Ce,Pn=m(1,0,(pe-Dt)/ke,(Le-Yt)/me),wi=m((pe-Dt)/ke,(Le-Yt)/me,(-pe-Dt)/ke,(-Le-Yt)/me);0===Fe&&wi>0?wi-=2*Se:1===Fe&&wi<0&&(wi+=2*Se);for(var Yn=Math.ceil(Math.abs(wi/Se*2)),xo=[],Ho=wi/Yn,Cr=8/3*Math.sin(Ho/4)*Math.sin(Ho/4)/Math.sin(Ho/2),Xr=Pn+Ho,Kr=0;Kr<Yn;Kr++)xo[Kr]=C(Pn,Xr,he,fe,ke,me,En,Ai,Cr,Pe,le),Pe=xo[Kr][5],le=xo[Kr][6],Pn=Xr,Xr+=Ho;return xo}function m(ue,Ce,ke,me){var ge=Math.atan2(Ce,ue),Fe=Math.atan2(me,ke);return Fe>=ge?Fe-ge:2*Math.PI-(ge-Fe)}function f(ue,Ce,ke,me,ge,Fe,ee,Se){var xe;if(O.cachesBoundsOfCurve&&(xe=I.call(arguments),O.boundsOfCurveCache[xe]))return O.boundsOfCurveCache[xe];var Ye,Qe,tt,gt,Ot,ht,ct,Dt,fe=Math.sqrt,he=Math.min,Pe=Math.max,le=Math.abs,pe=[],Le=[[],[]];Qe=6*ue-12*ke+6*ge,Ye=-3*ue+9*ke-9*ge+3*ee,tt=3*ke-3*ue;for(var Yt=0;Yt<2;++Yt)if(Yt>0&&(Qe=6*Ce-12*me+6*Fe,Ye=-3*Ce+9*me-9*Fe+3*Se,tt=3*me-3*Ce),le(Ye)<1e-12){if(le(Qe)<1e-12)continue;0<(gt=-tt/Qe)&&gt<1&&pe.push(gt)}else!((ct=Qe*Qe-4*tt*Ye)<0)&&(0<(Ot=(-Qe+(Dt=fe(ct)))/(2*Ye))&&Ot<1&&pe.push(Ot),0<(ht=(-Qe-Dt)/(2*Ye))&&ht<1&&pe.push(ht));for(var Yn,Pn=pe.length,wi=Pn;Pn--;)Le[0][Pn]=(Yn=1-(gt=pe[Pn]))*Yn*Yn*ue+3*Yn*Yn*gt*ke+3*Yn*gt*gt*ge+gt*gt*gt*ee,Le[1][Pn]=Yn*Yn*Yn*Ce+3*Yn*Yn*gt*me+3*Yn*gt*gt*Fe+gt*gt*gt*Se;Le[0][wi]=ue,Le[1][wi]=Ce,Le[0][wi+1]=ee,Le[1][wi+1]=Se;var xo=[{x:he.apply(null,Le[0]),y:he.apply(null,Le[1])},{x:Pe.apply(null,Le[0]),y:Pe.apply(null,Le[1])}];return O.cachesBoundsOfCurve&&(O.boundsOfCurveCache[xe]=xo),xo}function y(ue,Ce,ke){for(var he=_(ke[6]-ue,ke[7]-Ce,ke[1],ke[2],ke[4],ke[5],ke[3]),Pe=0,le=he.length;Pe<le;Pe++)he[Pe][1]+=ue,he[Pe][2]+=Ce,he[Pe][3]+=ue,he[Pe][4]+=Ce,he[Pe][5]+=ue,he[Pe][6]+=Ce;return he}function b(ue,Ce,ke,me){return Math.sqrt((ke-ue)*(ke-ue)+(me-Ce)*(me-Ce))}function j(ue,Ce,ke,me,ge,Fe,ee,Se){return function(xe){var fe=function D(ue){return ue*ue*ue}(xe),he=function F(ue){return 3*ue*ue*(1-ue)}(xe),Pe=function R(ue){return 3*ue*(1-ue)*(1-ue)}(xe),le=function B(ue){return(1-ue)*(1-ue)*(1-ue)}(xe);return{x:ee*fe+ge*he+ke*Pe+ue*le,y:Se*fe+Fe*he+me*Pe+Ce*le}}}function X(ue,Ce,ke,me,ge,Fe,ee,Se){return function(xe){var fe=1-xe;return Math.atan2(3*fe*fe*(me-Ce)+6*fe*xe*(Fe-me)+3*xe*xe*(Se-Fe),3*fe*fe*(ke-ue)+6*fe*xe*(ge-ke)+3*xe*xe*(ee-ge))}}function Ge(ue,Ce,ke,me,ge,Fe){return function(ee){var Se=function ne(ue){return ue*ue}(ee),xe=function se(ue){return 2*ue*(1-ue)}(ee),fe=function Ae(ue){return(1-ue)*(1-ue)}(ee);return{x:ge*Se+ke*xe+ue*fe,y:Fe*Se+me*xe+Ce*fe}}}function Ie(ue,Ce,ke,me,ge,Fe){return function(ee){var Se=1-ee;return Math.atan2(2*Se*(me-Ce)+2*ee*(Fe-me),2*Se*(ke-ue)+2*ee*(ge-ke))}}function Oe(ue,Ce,ke){var ge,ee,me={x:Ce,y:ke},Fe=0;for(ee=1;ee<=100;ee+=1)ge=ue(ee/100),Fe+=b(me.x,me.y,ge.x,ge.y),me=ge;return Fe}function Je(ue){for(var me,fe,he,Pe,Ce=0,ke=ue.length,ge=0,Fe=0,ee=0,Se=0,xe=[],le=0;le<ke;le++){switch(he={x:ge,y:Fe,command:(me=ue[le])[0]},me[0]){case"M":he.length=0,ee=ge=me[1],Se=Fe=me[2];break;case"L":he.length=b(ge,Fe,me[1],me[2]),ge=me[1],Fe=me[2];break;case"C":fe=j(ge,Fe,me[1],me[2],me[3],me[4],me[5],me[6]),Pe=X(ge,Fe,me[1],me[2],me[3],me[4],me[5],me[6]),he.iterator=fe,he.angleFinder=Pe,he.length=Oe(fe,ge,Fe),ge=me[5],Fe=me[6];break;case"Q":fe=Ge(ge,Fe,me[1],me[2],me[3],me[4]),Pe=Ie(ge,Fe,me[1],me[2],me[3],me[4]),he.iterator=fe,he.angleFinder=Pe,he.length=Oe(fe,ge,Fe),ge=me[3],Fe=me[4];break;case"Z":case"z":he.destX=ee,he.destY=Se,he.length=b(ge,Fe,ee,Se),ge=ee,Fe=Se}Ce+=he.length,xe.push(he)}return xe.push({length:Ce,x:ge,y:Fe}),xe}O.util.joinPath=function(ue){return ue.map(function(Ce){return Ce.join(" ")}).join(" ")},O.util.parsePath=function Mt(ue){var me,ge,Pe,le,pe,Ce=[],ke=[],Fe=O.rePathCommand,ee="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Se="("+ee+")"+O.commaWsp,xe="([01])"+O.commaWsp+"?",he=new RegExp(Se+"?"+Se+"?"+Se+xe+xe+Se+"?("+ee+")","g");if(!ue||!ue.match)return Ce;for(var Ye,Le=0,Qe=(pe=ue.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;Le<Qe;Le++){le=(me=pe[Le]).slice(1).trim(),ke.length=0;var tt=me.charAt(0);if(Ye=[tt],"a"===tt.toLowerCase())for(var gt;gt=he.exec(le);)for(var Ot=1;Ot<gt.length;Ot++)ke.push(gt[Ot]);else for(;Pe=Fe.exec(le);)ke.push(Pe[0]);Ot=0;for(var ht=ke.length;Ot<ht;Ot++)ge=parseFloat(ke[Ot]),isNaN(ge)||Ye.push(ge);var ct=x[tt.toLowerCase()],Dt=M[tt]||tt;if(Ye.length-1>ct)for(var Yt=1,En=Ye.length;Yt<En;Yt+=ct)Ce.push([tt].concat(Ye.slice(Yt,Yt+ct))),tt=Dt;else Ce.push(Ye)}return Ce},O.util.makePathSimpler=function S(ue){var ee,Se,xe,he,Pe,le,Ce=0,ke=0,me=ue.length,ge=0,Fe=0,fe=[];for(Se=0;Se<me;++Se){switch(xe=!1,(ee=ue[Se].slice(0))[0]){case"l":ee[0]="L",ee[1]+=Ce,ee[2]+=ke;case"L":Ce=ee[1],ke=ee[2];break;case"h":ee[1]+=Ce;case"H":ee[0]="L",ee[2]=ke,Ce=ee[1];break;case"v":ee[1]+=ke;case"V":ee[0]="L",ke=ee[1],ee[1]=Ce,ee[2]=ke;break;case"m":ee[0]="M",ee[1]+=Ce,ee[2]+=ke;case"M":Ce=ee[1],ke=ee[2],ge=ee[1],Fe=ee[2];break;case"c":ee[0]="C",ee[1]+=Ce,ee[2]+=ke,ee[3]+=Ce,ee[4]+=ke,ee[5]+=Ce,ee[6]+=ke;case"C":Pe=ee[3],le=ee[4],Ce=ee[5],ke=ee[6];break;case"s":ee[0]="S",ee[1]+=Ce,ee[2]+=ke,ee[3]+=Ce,ee[4]+=ke;case"S":"C"===he?(Pe=2*Ce-Pe,le=2*ke-le):(Pe=Ce,le=ke),Ce=ee[3],ke=ee[4],ee[0]="C",ee[5]=ee[3],ee[6]=ee[4],ee[3]=ee[1],ee[4]=ee[2],ee[1]=Pe,ee[2]=le,Pe=ee[3],le=ee[4];break;case"q":ee[0]="Q",ee[1]+=Ce,ee[2]+=ke,ee[3]+=Ce,ee[4]+=ke;case"Q":Pe=ee[1],le=ee[2],Ce=ee[3],ke=ee[4];break;case"t":ee[0]="T",ee[1]+=Ce,ee[2]+=ke;case"T":"Q"===he?(Pe=2*Ce-Pe,le=2*ke-le):(Pe=Ce,le=ke),ee[0]="Q",Ce=ee[1],ke=ee[2],ee[1]=Pe,ee[2]=le,ee[3]=Ce,ee[4]=ke;break;case"a":ee[0]="A",ee[6]+=Ce,ee[7]+=ke;case"A":xe=!0,fe=fe.concat(y(Ce,ke,ee)),Ce=ee[6],ke=ee[7];break;case"z":case"Z":Ce=ge,ke=Fe}xe||fe.push(ee),he=ee[0]}return fe},O.util.getSmoothPathFromPoints=function It(ue,Ce){var me,ke=[],ge=new O.Point(ue[0].x,ue[0].y),Fe=new O.Point(ue[1].x,ue[1].y),ee=ue.length,Se=1,xe=0,fe=ee>2;for(fe&&(Se=ue[2].x<Fe.x?-1:ue[2].x===Fe.x?0:1,xe=ue[2].y<Fe.y?-1:ue[2].y===Fe.y?0:1),ke.push(["M",ge.x-Se*(Ce=Ce||0),ge.y-xe*Ce]),me=1;me<ee;me++){if(!ge.eq(Fe)){var he=ge.midPointFrom(Fe);ke.push(["Q",ge.x,ge.y,he.x,he.y])}ge=ue[me],me+1<ue.length&&(Fe=ue[me+1])}return fe&&(Se=ge.x>ue[me-2].x?1:ge.x===ue[me-2].x?0:-1,xe=ge.y>ue[me-2].y?1:ge.y===ue[me-2].y?0:-1),ke.push(["L",ge.x+Se*Ce,ge.y+xe*Ce]),ke},O.util.getPathSegmentsInfo=Je,O.util.getBoundsOfCurve=f,O.util.getPointOnPath=function Ze(ue,Ce,ke){ke||(ke=Je(ue));for(var me=0;Ce-ke[me].length>0&&me<ke.length-2;)Ce-=ke[me].length,me++;var xe,ge=ke[me],Fe=Ce/ge.length,Se=ue[me];switch(ge.command){case"M":return{x:ge.x,y:ge.y,angle:0};case"Z":case"z":return(xe=new O.Point(ge.x,ge.y).lerp(new O.Point(ge.destX,ge.destY),Fe)).angle=Math.atan2(ge.destY-ge.y,ge.destX-ge.x),xe;case"L":return(xe=new O.Point(ge.x,ge.y).lerp(new O.Point(Se[1],Se[2]),Fe)).angle=Math.atan2(Se[2]-ge.y,Se[1]-ge.x),xe;case"C":case"Q":return function lt(ue,Ce){for(var ee,Se,he,ke=0,me=0,ge=ue.iterator,Fe={x:ue.x,y:ue.y},xe=.01,fe=ue.angleFinder;me<Ce&&ke<=1&&xe>1e-4;)ee=ge(ke),he=ke,(Se=b(Fe.x,Fe.y,ee.x,ee.y))+me>Ce?ke-=xe/=2:(Fe=ee,ke+=xe,me+=Se);return ee.angle=fe(he),ee}(ge,Ce)}},O.util.transformPath=function xt(ue,Ce,ke){return ke&&(Ce=O.util.multiplyTransformMatrices(Ce,[1,0,0,1,-ke.x,-ke.y])),ue.map(function(me){for(var ge=me.slice(0),Fe={},ee=1;ee<me.length-1;ee+=2)Fe.x=me[ee],Fe.y=me[ee+1],Fe=O.util.transformPoint(Fe,Ce),ge[ee]=Fe.x,ge[ee+1]=Fe.y;return ge})},O.util.fromArcToBeizers=y,O.util.getBoundsOfArc=function Ne(ue,Ce,ke,me,ge,Fe,ee,Se,xe){for(var Pe,fe=0,he=0,le=[],pe=_(Se-ue,xe-Ce,ke,me,Fe,ee,ge),Le=0,Ye=pe.length;Le<Ye;Le++)Pe=f(fe,he,pe[Le][1],pe[Le][2],pe[Le][3],pe[Le][4],pe[Le][5],pe[Le][6]),le.push({x:Pe[0].x+ue,y:Pe[0].y+Ce}),le.push({x:Pe[1].x+ue,y:Pe[1].y+Ce}),fe=pe[Le][5],he=pe[Le][6];return le},O.util.drawArc=function Ee(ue,Ce,ke,me){y(Ce,ke,me=me.slice(0).unshift("X")).forEach(function(Fe){ue.bezierCurveTo.apply(ue,Fe.slice(1))})}}(),function(){var I=Array.prototype.slice;function m(f,y,S){if(f&&0!==f.length){var b=f.length-1,D=y?f[b][y]:f[b];if(y)for(;b--;)S(f[b][y],D)&&(D=f[b][y]);else for(;b--;)S(f[b],D)&&(D=f[b]);return D}}O.util.array={fill:function _(f,y){for(var S=f.length;S--;)f[S]=y;return f},invoke:function x(f,y){for(var S=I.call(arguments,2),b=[],D=0,F=f.length;D<F;D++)b[D]=S.length?f[D][y].apply(f[D],S):f[D][y].call(f[D]);return b},min:function C(f,y){return m(f,y,function(S,b){return S<b})},max:function M(f,y){return m(f,y,function(S,b){return S>=b})}}}(),function(){function I(M,C,_){if(_)if(!O.isLikelyNode&&C instanceof Element)M=C;else if(C instanceof Array){M=[];for(var m=0,f=C.length;m<f;m++)M[m]=I({},C[m],_)}else if(C&&"object"==typeof C)for(var y in C)"canvas"===y||"group"===y?M[y]=null:C.hasOwnProperty(y)&&(M[y]=I({},C[y],_));else M=C;else for(var y in C)M[y]=C[y];return M}O.util.object={extend:I,clone:function x(M,C){return I({},M,C)}},O.util.object.extend(O.util,O.Observable)}(),function(){function _(m,f){var y=m.charCodeAt(f);if(isNaN(y))return"";if(y<55296||y>57343)return m.charAt(f);if(55296<=y&&y<=56319){if(m.length<=f+1)throw"High surrogate without following low surrogate";var S=m.charCodeAt(f+1);if(56320>S||S>57343)throw"High surrogate without following low surrogate";return m.charAt(f)+m.charAt(f+1)}if(0===f)throw"Low surrogate without preceding high surrogate";var b=m.charCodeAt(f-1);if(55296>b||b>56319)throw"Low surrogate without preceding high surrogate";return!1}O.util.string={camelize:function I(m){return m.replace(/-+(.)?/g,function(f,y){return y?y.toUpperCase():""})},capitalize:function x(m,f){return m.charAt(0).toUpperCase()+(f?m.slice(1):m.slice(1).toLowerCase())},escapeXml:function M(m){return m.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function C(m){var y,f=0,S=[];for(f=0;f<m.length;f++)!1!==(y=_(m,f))&&S.push(y);return S}}}(),function(){var I=Array.prototype.slice,x=function(){},M=function(){for(var y in{toString:1})if("toString"===y)return!1;return!0}(),C=function(y,S,b){for(var D in S)y.prototype[D]=D in y.prototype&&"function"==typeof y.prototype[D]&&(S[D]+"").indexOf("callSuper")>-1?function(F){return function(){var R=this.constructor.superclass;this.constructor.superclass=b;var B=S[F].apply(this,arguments);if(this.constructor.superclass=R,"initialize"!==F)return B}}(D):S[D],M&&(S.toString!==Object.prototype.toString&&(y.prototype.toString=S.toString),S.valueOf!==Object.prototype.valueOf&&(y.prototype.valueOf=S.valueOf))};function _(){}function m(y){for(var S=null,b=this;b.constructor.superclass;){var D=b.constructor.superclass.prototype[y];if(b[y]!==D){S=D;break}b=b.constructor.superclass.prototype}return S?arguments.length>1?S.apply(this,I.call(arguments,1)):S.call(this):console.log("tried to callSuper "+y+", method not found in prototype chain",this)}O.util.createClass=function f(){var y=null,S=I.call(arguments,0);function b(){this.initialize.apply(this,arguments)}"function"==typeof S[0]&&(y=S.shift()),b.superclass=y,b.subclasses=[],y&&(_.prototype=y.prototype,b.prototype=new _,y.subclasses.push(b));for(var D=0,F=S.length;D<F;D++)C(b,S[D],y);return b.prototype.initialize||(b.prototype.initialize=x),b.prototype.constructor=b,b.prototype.callSuper=m,b}}(),function(){var I=!!O.document.createElement("div").attachEvent,x=["touchstart","touchmove","touchend"];O.util.addListener=function(C,_,m,f){C&&C.addEventListener(_,m,!I&&f)},O.util.removeListener=function(C,_,m,f){C&&C.removeEventListener(_,m,!I&&f)},O.util.getPointer=function(C){var m=O.util.getScrollLeftTop(C.target),f=function M(C){var _=C.changedTouches;return _&&_[0]?_[0]:C}(C);return{x:f.clientX+m.left,y:f.clientY+m.top}},O.util.isTouchEvent=function(C){return x.indexOf(C.type)>-1||"touch"===C.pointerType}}(),function(){var x=O.document.createElement("div"),_=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,m=function(f){return f};"string"==typeof x.style.opacity?m=function(f,y){return f.style.opacity=y,f}:"string"==typeof x.style.filter&&(m=function(f,y){var S=f.style;return f.currentStyle&&!f.currentStyle.hasLayout&&(S.zoom=1),_.test(S.filter)?S.filter=S.filter.replace(_,y=y>=.9999?"":"alpha(opacity="+100*y+")"):S.filter+=" alpha(opacity="+100*y+")",f}),O.util.setStyle=function I(f,y){var S=f.style;if(!S)return f;if("string"==typeof y)return f.style.cssText+=";"+y,y.indexOf("opacity")>-1?m(f,y.match(/opacity:\s*(\d?\.?\d*)/)[1]):f;for(var b in y)"opacity"===b?m(f,y[b]):S["float"===b||"cssFloat"===b?void 0===S.styleFloat?"cssFloat":"styleFloat":b]=y[b];return f}}(),function(){var M,b,B,j,I=Array.prototype.slice,C=function(B){return I.call(B,0)};try{M=C(O.document.childNodes)instanceof Array}catch(B){}function _(B,j){var X=O.document.createElement(B);for(var ne in j)"class"===ne?X.className=j[ne]:"for"===ne?X.htmlFor=j[ne]:X.setAttribute(ne,j[ne]);return X}function y(B){for(var j=0,X=0,ne=O.document.documentElement,se=O.document.body||{scrollLeft:0,scrollTop:0};B&&(B.parentNode||B.host)&&((B=B.parentNode||B.host)===O.document?(j=se.scrollLeft||ne.scrollLeft||0,X=se.scrollTop||ne.scrollTop||0):(j+=B.scrollLeft||0,X+=B.scrollTop||0),1!==B.nodeType||"fixed"!==B.style.position););return{left:j,top:X}}M||(C=function(B){for(var j=new Array(B.length),X=B.length;X--;)j[X]=B[X];return j}),b=O.document.defaultView&&O.document.defaultView.getComputedStyle?function(B,j){var X=O.document.defaultView.getComputedStyle(B,null);return X?X[j]:void 0}:function(B,j){var X=B.style[j];return!X&&B.currentStyle&&(X=B.currentStyle[j]),X},j="userSelect"in(B=O.document.documentElement.style)?"userSelect":"MozUserSelect"in B?"MozUserSelect":"WebkitUserSelect"in B?"WebkitUserSelect":"KhtmlUserSelect"in B?"KhtmlUserSelect":"",O.util.makeElementUnselectable=function X(se){return void 0!==se.onselectstart&&(se.onselectstart=O.util.falseFunction),j?se.style[j]="none":"string"==typeof se.unselectable&&(se.unselectable="on"),se},O.util.makeElementSelectable=function ne(se){return void 0!==se.onselectstart&&(se.onselectstart=null),j?se.style[j]="":"string"==typeof se.unselectable&&(se.unselectable=""),se},O.util.setImageSmoothing=function R(B,j){B.imageSmoothingEnabled=B.imageSmoothingEnabled||B.webkitImageSmoothingEnabled||B.mozImageSmoothingEnabled||B.msImageSmoothingEnabled||B.oImageSmoothingEnabled,B.imageSmoothingEnabled=j},O.util.getById=function x(B){return"string"==typeof B?O.document.getElementById(B):B},O.util.toArray=C,O.util.addClass=function m(B,j){B&&-1===(" "+B.className+" ").indexOf(" "+j+" ")&&(B.className+=(B.className?" ":"")+j)},O.util.makeElement=_,O.util.wrapElement=function f(B,j,X){return"string"==typeof j&&(j=_(j,X)),B.parentNode&&B.parentNode.replaceChild(j,B),j.appendChild(B),j},O.util.getScrollLeftTop=y,O.util.getElementOffset=function S(B){var j,Ae,X=B&&B.ownerDocument,ne={left:0,top:0},se={left:0,top:0},Ge={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!X)return se;for(var Ie in Ge)se[Ge[Ie]]+=parseInt(b(B,Ie),10)||0;return j=X.documentElement,void 0!==B.getBoundingClientRect&&(ne=B.getBoundingClientRect()),Ae=y(B),{left:ne.left+Ae.left-(j.clientLeft||0)+se.left,top:ne.top+Ae.top-(j.clientTop||0)+se.top}},O.util.getNodeCanvas=function D(B){var j=O.jsdomImplForWrapper(B);return j._canvas||j._image},O.util.cleanUpJsdomNode=function F(B){if(O.isLikelyNode){var j=O.jsdomImplForWrapper(B);j&&(j._image=null,j._canvas=null,j._currentSrc=null,j._attributes=null,j._classList=null)}}}(),function(){function x(){}O.util.request=function M(C,_){_||(_={});var m=_.method?_.method.toUpperCase():"GET",f=_.onComplete||function(){},y=new O.window.XMLHttpRequest,S=_.body||_.parameters;return y.onreadystatechange=function(){4===y.readyState&&(f(y),y.onreadystatechange=x)},"GET"===m&&(S=null,"string"==typeof _.parameters&&(C=function I(C,_){return C+(/\?/.test(C)?"&":"?")+_}(C,_.parameters))),y.open(m,C,!0),("POST"===m||"PUT"===m)&&y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),y.send(S),y}}(),O.log=console.log,O.warn=console.warn,function(){function I(){return!1}function x(y,S,b,D){return-b*Math.cos(y/D*(Math.PI/2))+b+S}var C=O.window.requestAnimationFrame||O.window.webkitRequestAnimationFrame||O.window.mozRequestAnimationFrame||O.window.oRequestAnimationFrame||O.window.msRequestAnimationFrame||function(y){return O.window.setTimeout(y,1e3/60)},_=O.window.cancelAnimationFrame||O.window.clearTimeout;function m(){return C.apply(O.window,arguments)}O.util.animate=function M(y){var S=!1;return m(function(b){y||(y={});var B,D=b||+new Date,F=y.duration||500,R=D+F,j=y.onChange||I,X=y.abort||I,ne=y.onComplete||I,se=y.easing||x,Ae="startValue"in y?y.startValue:0,Ge="endValue"in y?y.endValue:100,Ie=y.byValue||Ge-Ae;y.onStart&&y.onStart(),function Oe(lt){var Je=(B=lt||+new Date)>R?F:B-D,Ze=Je/F,Mt=se(Je,Ae,Ie,F),It=Math.abs((Mt-Ae)/Ie);if(!S){if(X(Mt,It,Ze))return void ne(Ge,1,1);if(B>R)return j(Ge,1,1),void ne(Ge,1,1);j(Mt,It,Ze),m(Oe)}}(D)}),function(){S=!0}},O.util.requestAnimFrame=m,O.util.cancelAnimFrame=function f(){return _.apply(O.window,arguments)}}(),function(){function I(M,C,_){var m="rgba("+parseInt(M[0]+_*(C[0]-M[0]),10)+","+parseInt(M[1]+_*(C[1]-M[1]),10)+","+parseInt(M[2]+_*(C[2]-M[2]),10);return(m+=","+(M&&C?parseFloat(M[3]+_*(C[3]-M[3])):1))+")"}O.util.animateColor=function x(M,C,_,m){var f=new O.Color(M).getSource(),y=new O.Color(C).getSource(),S=m.onComplete,b=m.onChange;return O.util.animate(O.util.object.extend(m=m||{},{duration:_||500,startValue:f,endValue:y,byValue:y,easing:function(D,F,R,B){return I(F,R,m.colorEasing?m.colorEasing(D,B):1-Math.cos(D/B*(Math.PI/2)))},onComplete:function(D,F,R){if(S)return S(I(y,y,0),F,R)},onChange:function(D,F,R){if(b){if(Array.isArray(D))return b(I(D,D,0),F,R);b(D,F,R)}}}))}}(),function(){function I(Ne,Ee,ue,Ce){return Ne<Math.abs(Ee)?(Ne=Ee,Ce=ue/4):Ce=0===Ee&&0===Ne?ue/(2*Math.PI)*Math.asin(1):ue/(2*Math.PI)*Math.asin(Ee/Ne),{a:Ne,c:Ee,p:ue,s:Ce}}function x(Ne,Ee,ue){return Ne.a*Math.pow(2,10*(Ee-=1))*Math.sin((Ee*ue-Ne.s)*(2*Math.PI)/Ne.p)}function Mt(Ne,Ee,ue,Ce){return ue-It(Ce-Ne,0,ue,Ce)+Ee}function It(Ne,Ee,ue,Ce){return(Ne/=Ce)<1/2.75?ue*(7.5625*Ne*Ne)+Ee:Ne<2/2.75?ue*(7.5625*(Ne-=1.5/2.75)*Ne+.75)+Ee:Ne<2.5/2.75?ue*(7.5625*(Ne-=2.25/2.75)*Ne+.9375)+Ee:ue*(7.5625*(Ne-=2.625/2.75)*Ne+.984375)+Ee}O.util.ease={easeInQuad:function(Ne,Ee,ue,Ce){return ue*(Ne/=Ce)*Ne+Ee},easeOutQuad:function(Ne,Ee,ue,Ce){return-ue*(Ne/=Ce)*(Ne-2)+Ee},easeInOutQuad:function(Ne,Ee,ue,Ce){return(Ne/=Ce/2)<1?ue/2*Ne*Ne+Ee:-ue/2*(--Ne*(Ne-2)-1)+Ee},easeInCubic:function(Ne,Ee,ue,Ce){return ue*(Ne/=Ce)*Ne*Ne+Ee},easeOutCubic:function M(Ne,Ee,ue,Ce){return ue*((Ne=Ne/Ce-1)*Ne*Ne+1)+Ee},easeInOutCubic:function C(Ne,Ee,ue,Ce){return(Ne/=Ce/2)<1?ue/2*Ne*Ne*Ne+Ee:ue/2*((Ne-=2)*Ne*Ne+2)+Ee},easeInQuart:function _(Ne,Ee,ue,Ce){return ue*(Ne/=Ce)*Ne*Ne*Ne+Ee},easeOutQuart:function m(Ne,Ee,ue,Ce){return-ue*((Ne=Ne/Ce-1)*Ne*Ne*Ne-1)+Ee},easeInOutQuart:function f(Ne,Ee,ue,Ce){return(Ne/=Ce/2)<1?ue/2*Ne*Ne*Ne*Ne+Ee:-ue/2*((Ne-=2)*Ne*Ne*Ne-2)+Ee},easeInQuint:function y(Ne,Ee,ue,Ce){return ue*(Ne/=Ce)*Ne*Ne*Ne*Ne+Ee},easeOutQuint:function S(Ne,Ee,ue,Ce){return ue*((Ne=Ne/Ce-1)*Ne*Ne*Ne*Ne+1)+Ee},easeInOutQuint:function b(Ne,Ee,ue,Ce){return(Ne/=Ce/2)<1?ue/2*Ne*Ne*Ne*Ne*Ne+Ee:ue/2*((Ne-=2)*Ne*Ne*Ne*Ne+2)+Ee},easeInSine:function D(Ne,Ee,ue,Ce){return-ue*Math.cos(Ne/Ce*(Math.PI/2))+ue+Ee},easeOutSine:function F(Ne,Ee,ue,Ce){return ue*Math.sin(Ne/Ce*(Math.PI/2))+Ee},easeInOutSine:function R(Ne,Ee,ue,Ce){return-ue/2*(Math.cos(Math.PI*Ne/Ce)-1)+Ee},easeInExpo:function B(Ne,Ee,ue,Ce){return 0===Ne?Ee:ue*Math.pow(2,10*(Ne/Ce-1))+Ee},easeOutExpo:function j(Ne,Ee,ue,Ce){return Ne===Ce?Ee+ue:ue*(1-Math.pow(2,-10*Ne/Ce))+Ee},easeInOutExpo:function X(Ne,Ee,ue,Ce){return 0===Ne?Ee:Ne===Ce?Ee+ue:(Ne/=Ce/2)<1?ue/2*Math.pow(2,10*(Ne-1))+Ee:ue/2*(2-Math.pow(2,-10*--Ne))+Ee},easeInCirc:function ne(Ne,Ee,ue,Ce){return-ue*(Math.sqrt(1-(Ne/=Ce)*Ne)-1)+Ee},easeOutCirc:function se(Ne,Ee,ue,Ce){return ue*Math.sqrt(1-(Ne=Ne/Ce-1)*Ne)+Ee},easeInOutCirc:function Ae(Ne,Ee,ue,Ce){return(Ne/=Ce/2)<1?-ue/2*(Math.sqrt(1-Ne*Ne)-1)+Ee:ue/2*(Math.sqrt(1-(Ne-=2)*Ne)+1)+Ee},easeInElastic:function Ge(Ne,Ee,ue,Ce){var me=0;return 0===Ne?Ee:1==(Ne/=Ce)?Ee+ue:(me||(me=.3*Ce),-x(I(ue,ue,me,1.70158),Ne,Ce)+Ee)},easeOutElastic:function Ie(Ne,Ee,ue,Ce){var me=0;if(0===Ne)return Ee;if(1==(Ne/=Ce))return Ee+ue;me||(me=.3*Ce);var Fe=I(ue,ue,me,1.70158);return Fe.a*Math.pow(2,-10*Ne)*Math.sin((Ne*Ce-Fe.s)*(2*Math.PI)/Fe.p)+Fe.c+Ee},easeInOutElastic:function Oe(Ne,Ee,ue,Ce){var me=0;if(0===Ne)return Ee;if(2==(Ne/=Ce/2))return Ee+ue;me||(me=Ce*(.3*1.5));var Fe=I(ue,ue,me,1.70158);return Ne<1?-.5*x(Fe,Ne,Ce)+Ee:Fe.a*Math.pow(2,-10*(Ne-=1))*Math.sin((Ne*Ce-Fe.s)*(2*Math.PI)/Fe.p)*.5+Fe.c+Ee},easeInBack:function lt(Ne,Ee,ue,Ce,ke){return void 0===ke&&(ke=1.70158),ue*(Ne/=Ce)*Ne*((ke+1)*Ne-ke)+Ee},easeOutBack:function Je(Ne,Ee,ue,Ce,ke){return void 0===ke&&(ke=1.70158),ue*((Ne=Ne/Ce-1)*Ne*((ke+1)*Ne+ke)+1)+Ee},easeInOutBack:function Ze(Ne,Ee,ue,Ce,ke){return void 0===ke&&(ke=1.70158),(Ne/=Ce/2)<1?ue/2*(Ne*Ne*((1+(ke*=1.525))*Ne-ke))+Ee:ue/2*((Ne-=2)*Ne*((1+(ke*=1.525))*Ne+ke)+2)+Ee},easeInBounce:Mt,easeOutBounce:It,easeInOutBounce:function xt(Ne,Ee,ue,Ce){return Ne<Ce/2?.5*Mt(2*Ne,0,ue,Ce)+Ee:.5*It(2*Ne-Ce,0,ue,Ce)+.5*ue+Ee}}}(),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.object.extend,C=x.util.object.clone,_=x.util.toFixed,m=x.util.parseUnit,f=x.util.multiplyTransformMatrices,F={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},R={stroke:"strokeOpacity",fill:"fillOpacity"},B="font-size",j="clip-path";function X(me){return me in F?F[me]:me}function ne(me,ge,Fe,ee){var xe,Se="[object Array]"===Object.prototype.toString.call(ge);if("fill"!==me&&"stroke"!==me||"none"!==ge){if("strokeUniform"===me)return"non-scaling-stroke"===ge;if("strokeDashArray"===me)ge="none"===ge?null:ge.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===me)ge=Fe&&Fe.transformMatrix?f(Fe.transformMatrix,x.parseTransformAttribute(ge)):x.parseTransformAttribute(ge);else if("visible"===me)ge="none"!==ge&&"hidden"!==ge,Fe&&!1===Fe.visible&&(ge=!1);else if("opacity"===me)ge=parseFloat(ge),Fe&&void 0!==Fe.opacity&&(ge*=Fe.opacity);else if("textAnchor"===me)ge="start"===ge?"left":"end"===ge?"right":"center";else if("charSpacing"===me)xe=m(ge,ee)/ee*1e3;else if("paintFirst"===me){var fe=ge.indexOf("fill"),he=ge.indexOf("stroke");ge="fill",(fe>-1&&he>-1&&he<fe||-1===fe&&he>-1)&&(ge="stroke")}else{if("href"===me||"xlink:href"===me||"font"===me)return ge;if("imageSmoothing"===me)return"optimizeQuality"===ge;xe=Se?ge.map(m):m(ge,ee)}}else ge="";return!Se&&isNaN(xe)?ge:xe}function se(me){return new RegExp("^("+me.join("|")+")\\b","i")}function Ge(me,ge){var Se,xe,fe,ee=[];for(xe=0,fe=ge.length;xe<fe;xe++)Se=me.getElementsByTagName(ge[xe]),ee=ee.concat(Array.prototype.slice.call(Se));return ee}function Je(me,ge){var Fe,ee=!0;return(Fe=Mt(me,ge.pop()))&&ge.length&&(ee=function Ze(me,ge){for(var Fe,ee=!0;me.parentNode&&1===me.parentNode.nodeType&&ge.length;)ee&&(Fe=ge.pop()),ee=Mt(me=me.parentNode,Fe);return 0===ge.length}(me,ge)),Fe&&ee&&0===ge.length}function Mt(me,ge){var xe,fe,Fe=me.nodeName,ee=me.getAttribute("class"),Se=me.getAttribute("id");if(xe=new RegExp("^"+Fe,"i"),ge=ge.replace(xe,""),Se&&ge.length&&(xe=new RegExp("#"+Se+"(?![a-zA-Z\\-]+)","i"),ge=ge.replace(xe,"")),ee&&ge.length)for(fe=(ee=ee.split(" ")).length;fe--;)xe=new RegExp("\\."+ee[fe]+"(?![a-zA-Z\\-]+)","i"),ge=ge.replace(xe,"");return 0===ge.length}function It(me,ge){var Fe;if(me.getElementById&&(Fe=me.getElementById(ge)),Fe)return Fe;var ee,Se,xe,fe=me.getElementsByTagName("*");for(Se=0,xe=fe.length;Se<xe;Se++)if(ge===(ee=fe[Se]).getAttribute("id"))return ee}x.svgValidTagNamesRegEx=se(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),x.svgViewBoxElementsRegEx=se(["symbol","image","marker","pattern","view","svg"]),x.svgInvalidAncestorsRegEx=se(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),x.svgValidParentsRegEx=se(["symbol","g","a","svg","clipPath","defs"]),x.cssRules={},x.gradientDefs={},x.clipPaths={},x.parseTransformAttribute=function(){function Fe(ct,Dt,Yt){ct[Yt]=Math.tan(x.util.degreesToRadians(Dt[0]))}var Se=x.iMatrix,xe=x.reNum,fe=x.commaWsp,Qe="(?:(?:(matrix)\\s*\\(\\s*("+xe+")"+fe+"("+xe+")"+fe+"("+xe+")"+fe+"("+xe+")"+fe+"("+xe+")"+fe+"("+xe+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+xe+")(?:"+fe+"("+xe+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+xe+")(?:"+fe+"("+xe+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+xe+")(?:"+fe+"("+xe+")"+fe+"("+xe+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+xe+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+xe+")\\s*\\)))",Ot=new RegExp("^\\s*(?:(?:"+Qe+"(?:"+fe+"*"+Qe+")*)?)\\s*$"),ht=new RegExp(Qe,"g");return function(ct){var Dt=Se.concat(),Yt=[];if(!ct||ct&&!Ot.test(ct))return Dt;ct.replace(ht,function(Ai){var Pn=new RegExp(Qe).exec(Ai).filter(function(xo){return!!xo}),wi=Pn[1],Yn=Pn.slice(2).map(parseFloat);switch(wi){case"translate":!function ee(ct,Dt){ct[4]=Dt[0],2===Dt.length&&(ct[5]=Dt[1])}(Dt,Yn);break;case"rotate":Yn[0]=x.util.degreesToRadians(Yn[0]),function me(ct,Dt){var Yt=x.util.cos(Dt[0]),En=x.util.sin(Dt[0]),Ai=0,Pn=0;3===Dt.length&&(Ai=Dt[1],Pn=Dt[2]),ct[0]=Yt,ct[1]=En,ct[2]=-En,ct[3]=Yt,ct[4]=Ai-(Yt*Ai-En*Pn),ct[5]=Pn-(En*Ai+Yt*Pn)}(Dt,Yn);break;case"scale":!function ge(ct,Dt){var En=2===Dt.length?Dt[1]:Dt[0];ct[0]=Dt[0],ct[3]=En}(Dt,Yn);break;case"skewX":Fe(Dt,Yn,2);break;case"skewY":Fe(Dt,Yn,1);break;case"matrix":Dt=Yn}Yt.push(Dt.concat()),Dt=Se.concat()});for(var En=Yt[0];Yt.length>1;)Yt.shift(),En=x.util.multiplyTransformMatrices(En,Yt[0]);return En}}();var Ne=new RegExp("^\\s*("+x.reNum+"+)\\s*,?\\s*("+x.reNum+"+)\\s*,?\\s*("+x.reNum+"+)\\s*,?\\s*("+x.reNum+"+)\\s*$");function Ee(me){if(!x.svgViewBoxElementsRegEx.test(me.nodeName))return{};var Se,xe,fe,he,Pe,le,ge=me.getAttribute("viewBox"),Fe=1,ee=1,pe=me.getAttribute("width"),Le=me.getAttribute("height"),Ye=me.getAttribute("x")||0,Qe=me.getAttribute("y")||0,tt=me.getAttribute("preserveAspectRatio")||"",gt=!ge||!(ge=ge.match(Ne)),Ot=!pe||!Le||"100%"===pe||"100%"===Le,ht=gt&&Ot,ct={},Dt="",Yt=0,En=0;if(ct.width=0,ct.height=0,ct.toBeParsed=ht,gt&&(Ye||Qe)&&me.parentNode&&"#document"!==me.parentNode.nodeName&&(Dt=" translate("+m(Ye)+" "+m(Qe)+") ",Pe=(me.getAttribute("transform")||"")+Dt,me.setAttribute("transform",Pe),me.removeAttribute("x"),me.removeAttribute("y")),ht)return ct;if(gt)return ct.width=m(pe),ct.height=m(Le),ct;if(Se=-parseFloat(ge[1]),xe=-parseFloat(ge[2]),fe=parseFloat(ge[3]),he=parseFloat(ge[4]),ct.minX=Se,ct.minY=xe,ct.viewBoxWidth=fe,ct.viewBoxHeight=he,Ot?(ct.width=fe,ct.height=he):(ct.width=m(pe),ct.height=m(Le),Fe=ct.width/fe,ee=ct.height/he),"none"!==(tt=x.util.parsePreserveAspectRatioAttribute(tt)).alignX&&("meet"===tt.meetOrSlice&&(ee=Fe=Fe>ee?ee:Fe),"slice"===tt.meetOrSlice&&(ee=Fe=Fe>ee?Fe:ee),Yt=ct.width-fe*Fe,En=ct.height-he*Fe,"Mid"===tt.alignX&&(Yt/=2),"Mid"===tt.alignY&&(En/=2),"Min"===tt.alignX&&(Yt=0),"Min"===tt.alignY&&(En=0)),1===Fe&&1===ee&&0===Se&&0===xe&&0===Ye&&0===Qe)return ct;if((Ye||Qe)&&"#document"!==me.parentNode.nodeName&&(Dt=" translate("+m(Ye)+" "+m(Qe)+") "),Pe=Dt+" matrix("+Fe+" 0 0 "+ee+" "+(Se*Fe+Yt)+" "+(xe*ee+En)+") ","svg"===me.nodeName){for(le=me.ownerDocument.createElementNS(x.svgNS,"g");me.firstChild;)le.appendChild(me.firstChild);me.appendChild(le)}else(le=me).removeAttribute("x"),le.removeAttribute("y"),Pe=le.getAttribute("transform")+Pe;return le.setAttribute("transform",Pe),ct}function Ce(me,ge){var ee="xlink:href",xe=It(me,ge.getAttribute(ee).substr(1));if(xe&&xe.getAttribute(ee)&&Ce(me,xe),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(he){xe&&!ge.hasAttribute(he)&&xe.hasAttribute(he)&&ge.setAttribute(he,xe.getAttribute(he))}),!ge.children.length)for(var fe=xe.cloneNode(!0);fe.firstChild;)ge.appendChild(fe.firstChild);ge.removeAttribute(ee)}x.parseSVGDocument=function(me,ge,Fe,ee){if(me){!function xt(me){for(var ge=Ge(me,["use","svg:use"]),Fe=0;ge.length&&Fe<ge.length;){var ee=ge[Fe],Se=ee.getAttribute("xlink:href")||ee.getAttribute("href");if(null===Se)return;var Ye,Qe,tt,gt,xe=Se.substr(1),fe=ee.getAttribute("x")||0,he=ee.getAttribute("y")||0,Pe=It(me,xe).cloneNode(!0),le=(Pe.getAttribute("transform")||"")+" translate("+fe+", "+he+")",Le=ge.length,Ot=x.svgNS;if(Ee(Pe),/^svg$/i.test(Pe.nodeName)){var ht=Pe.ownerDocument.createElementNS(Ot,"g");for(Qe=0,gt=(tt=Pe.attributes).length;Qe<gt;Qe++)Ye=tt.item(Qe),ht.setAttributeNS(Ot,Ye.nodeName,Ye.nodeValue);for(;Pe.firstChild;)ht.appendChild(Pe.firstChild);Pe=ht}for(Qe=0,gt=(tt=ee.attributes).length;Qe<gt;Qe++)"x"!==(Ye=tt.item(Qe)).nodeName&&"y"!==Ye.nodeName&&"xlink:href"!==Ye.nodeName&&"href"!==Ye.nodeName&&("transform"===Ye.nodeName?le=Ye.nodeValue+" "+le:Pe.setAttribute(Ye.nodeName,Ye.nodeValue));Pe.setAttribute("transform",le),Pe.setAttribute("instantiated_by_use","1"),Pe.removeAttribute("id"),ee.parentNode.replaceChild(Pe,ee),ge.length===Le&&Fe++}}(me);var xe,fe,Se=x.Object.__uid++,he=Ee(me),Pe=x.util.toArray(me.getElementsByTagName("*"));if(he.crossOrigin=ee&&ee.crossOrigin,he.svgUid=Se,0===Pe.length&&x.isLikelyNode){var le=[];for(xe=0,fe=(Pe=me.selectNodes('//*[name(.)!="svg"]')).length;xe<fe;xe++)le[xe]=Pe[xe];Pe=le}var pe=Pe.filter(function(Ye){return Ee(Ye),x.svgValidTagNamesRegEx.test(Ye.nodeName.replace("svg:",""))&&!function ue(me,ge){for(;me&&(me=me.parentNode);)if(me.nodeName&&ge.test(me.nodeName.replace("svg:",""))&&!me.getAttribute("instantiated_by_use"))return!0;return!1}(Ye,x.svgInvalidAncestorsRegEx)});if(!pe||pe&&!pe.length)return void(ge&&ge([],{}));var Le={};Pe.filter(function(Ye){return"clipPath"===Ye.nodeName.replace("svg:","")}).forEach(function(Ye){var Qe=Ye.getAttribute("id");Le[Qe]=x.util.toArray(Ye.getElementsByTagName("*")).filter(function(tt){return x.svgValidTagNamesRegEx.test(tt.nodeName.replace("svg:",""))})}),x.gradientDefs[Se]=x.getGradientDefs(me),x.cssRules[Se]=x.getCSSRules(me),x.clipPaths[Se]=Le,x.parseElements(pe,function(Ye,Qe){ge&&(ge(Ye,he,Qe,Pe),delete x.gradientDefs[Se],delete x.cssRules[Se],delete x.clipPaths[Se])},C(he),Fe,ee)}};var ke=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+x.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+x.reNum+"))?\\s+(.*)");M(x,{parseFontDeclaration:function(me,ge){var Fe=me.match(ke);if(Fe){var ee=Fe[1],Se=Fe[3],xe=Fe[4],fe=Fe[5],he=Fe[6];ee&&(ge.fontStyle=ee),Se&&(ge.fontWeight=isNaN(parseFloat(Se))?Se:parseFloat(Se)),xe&&(ge.fontSize=m(xe)),he&&(ge.fontFamily=he),fe&&(ge.lineHeight="normal"===fe?1:fe)}},getGradientDefs:function(me){var ee,Fe=Ge(me,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),Se=0,xe={};for(Se=Fe.length;Se--;)(ee=Fe[Se]).getAttribute("xlink:href")&&Ce(me,ee),xe[ee.getAttribute("id")]=ee;return xe},parseAttributes:function(me,ge,Fe){if(me){var ee,xe,fe,Se={};void 0===Fe&&(Fe=me.getAttribute("svgUid")),me.parentNode&&x.svgValidParentsRegEx.test(me.parentNode.nodeName)&&(Se=x.parseAttributes(me.parentNode,ge,Fe));var he=ge.reduce(function(tt,gt){return(ee=me.getAttribute(gt))&&(tt[gt]=ee),tt},{}),Pe=M(function lt(me,ge){var Fe={};for(var ee in x.cssRules[ge])if(Je(me,ee.split(" ")))for(var Se in x.cssRules[ge][ee])Fe[Se]=x.cssRules[ge][ee][Se];return Fe}(me,Fe),x.parseStyleAttribute(me));he=M(he,Pe),Pe[j]&&me.setAttribute(j,Pe[j]),xe=fe=Se.fontSize||x.Text.DEFAULT_SVG_FONT_SIZE,he[B]&&(he[B]=xe=m(he[B],fe));var le,pe,Le={};for(var Ye in he)pe=ne(le=X(Ye),he[Ye],Se,xe),Le[le]=pe;Le&&Le.font&&x.parseFontDeclaration(Le.font,Le);var Qe=M(Se,Le);return x.svgValidParentsRegEx.test(me.nodeName)?Qe:function Ae(me){for(var ge in R)if(void 0!==me[R[ge]]&&""!==me[ge]){if(void 0===me[ge]){if(!x.Object.prototype[ge])continue;me[ge]=x.Object.prototype[ge]}if(0!==me[ge].indexOf("url(")){var Fe=new x.Color(me[ge]);me[ge]=Fe.setAlpha(_(Fe.getAlpha()*me[R[ge]],2)).toRgba()}}return me}(Qe)}},parseElements:function(me,ge,Fe,ee,Se){new x.ElementsParser(me,ge,Fe,ee,Se).parse()},parseStyleAttribute:function(me){var ge={},Fe=me.getAttribute("style");return Fe&&("string"==typeof Fe?function Ie(me,ge){var Fe,ee;me.replace(/;\s*$/,"").split(";").forEach(function(Se){var xe=Se.split(":");Fe=xe[0].trim().toLowerCase(),ee=xe[1].trim(),ge[Fe]=ee})}(Fe,ge):function Oe(me,ge){for(var Se in me)void 0!==me[Se]&&(ge[Se.toLowerCase()]=me[Se])}(Fe,ge)),ge},parsePointsAttribute:function(me){if(!me)return null;var Fe,ee,ge=[];for(Fe=0,ee=(me=(me=me.replace(/,/g," ").trim()).split(/\s+/)).length;Fe<ee;Fe+=2)ge.push({x:parseFloat(me[Fe]),y:parseFloat(me[Fe+1])});return ge},getCSSRules:function(me){var Fe,ee,ge=me.getElementsByTagName("style"),Se={};for(Fe=0,ee=ge.length;Fe<ee;Fe++){var fe=ge[Fe].textContent;""!==(fe=fe.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&fe.match(/[^{]*\{[\s\S]*?\}/g).map(function(he){return he.trim()}).forEach(function(he){var Pe=he.match(/([\s\S]*?)\s*\{([^}]*)\}/),le={},Le=Pe[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(Fe=0,ee=Le.length;Fe<ee;Fe++){var Ye=Le[Fe].split(/\s*:\s*/);le[Ye[0]]=Ye[1]}(he=Pe[1]).split(",").forEach(function(gt){""!==(gt=gt.replace(/^svg/i,"").trim())&&(Se[gt]?x.util.object.extend(Se[gt],le):Se[gt]=x.util.object.clone(le))})})}return Se},loadSVGFromURL:function(me,ge,Fe,ee){me=me.replace(/^\n\s*/,"").trim(),new x.util.request(me,{method:"get",onComplete:function Se(xe){var fe=xe.responseXML;if(!fe||!fe.documentElement)return ge&&ge(null),!1;x.parseSVGDocument(fe.documentElement,function(he,Pe,le,pe){ge&&ge(he,Pe,le,pe)},Fe,ee)}})},loadSVGFromString:function(me,ge,Fe,ee){var xe=(new x.window.DOMParser).parseFromString(me.trim(),"text/xml");x.parseSVGDocument(xe.documentElement,function(fe,he,Pe,le){ge(fe,he,Pe,le)},Fe,ee)}})}(Ke),O.ElementsParser=function(I,x,M,C,_,m){this.elements=I,this.callback=x,this.options=M,this.reviver=C,this.svgUid=M&&M.svgUid||0,this.parsingOptions=_,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=m},function(I){I.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},I.createObjects=function(){var x=this;this.elements.forEach(function(M,C){M.setAttribute("svgUid",x.svgUid),x.createObject(M,C)})},I.findTag=function(x){return O[O.util.string.capitalize(x.tagName.replace("svg:",""))]},I.createObject=function(x,M){var C=this.findTag(x);if(C&&C.fromElement)try{C.fromElement(x,this.createCallback(M,x),this.options)}catch(_){O.log(_)}else this.checkIfDone()},I.createCallback=function(x,M){var C=this;return function(_){var m;C.resolveGradient(_,M,"fill"),C.resolveGradient(_,M,"stroke"),_ instanceof O.Image&&_._originalElement&&(m=_.parsePreserveAspectRatioAttribute(M)),_._removeTransformMatrix(m),C.resolveClipPath(_,M),C.reviver&&C.reviver(M,_),C.instances[x]=_,C.checkIfDone()}},I.extractPropertyDefinition=function(x,M,C){var _=x[M],m=this.regexUrl;if(m.test(_)){m.lastIndex=0;var f=m.exec(_)[1];return m.lastIndex=0,O[C][this.svgUid][f]}},I.resolveGradient=function(x,M,C){var _=this.extractPropertyDefinition(x,C,"gradientDefs");if(_){var m=M.getAttribute(C+"-opacity"),f=O.Gradient.fromElement(_,x,m,this.options);x.set(C,f)}},I.createClipPathCallback=function(x,M){return function(C){C._removeTransformMatrix(),C.fillRule=C.clipRule,M.push(C)}},I.resolveClipPath=function(x,M){var _,f,y,S,C=this.extractPropertyDefinition(x,"clipPath","clipPaths");if(C){y=[],f=O.util.invertTransform(x.calcTransformMatrix());for(var D=C[0].parentNode,F=M;F.parentNode&&F.getAttribute("clip-path")!==x.clipPath;)F=F.parentNode;F.parentNode.appendChild(D);for(var R=0;R<C.length;R++)this.findTag(_=C[R]).fromElement(_,this.createClipPathCallback(x,y),this.options);C=1===y.length?y[0]:new O.Group(y),S=O.util.multiplyTransformMatrices(f,C.calcTransformMatrix()),C.clipPath&&this.resolveClipPath(C,F);var b=O.util.qrDecompose(S);C.flipX=!1,C.flipY=!1,C.set("scaleX",b.scaleX),C.set("scaleY",b.scaleY),C.angle=b.angle,C.skewX=b.skewX,C.skewY=0,C.setPositionByOrigin({x:b.translateX,y:b.translateY},"center","center"),x.clipPath=C}else delete x.clipPath},I.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(x){return null!=x}),this.callback(this.instances,this.elements))}}(O.ElementsParser.prototype),function(I){"use strict";var x=I.fabric||(I.fabric={});function M(C,_){this.x=C,this.y=_}x.Point?x.warn("fabric.Point is already defined"):(x.Point=M,M.prototype={type:"point",constructor:M,add:function(C){return new M(this.x+C.x,this.y+C.y)},addEquals:function(C){return this.x+=C.x,this.y+=C.y,this},scalarAdd:function(C){return new M(this.x+C,this.y+C)},scalarAddEquals:function(C){return this.x+=C,this.y+=C,this},subtract:function(C){return new M(this.x-C.x,this.y-C.y)},subtractEquals:function(C){return this.x-=C.x,this.y-=C.y,this},scalarSubtract:function(C){return new M(this.x-C,this.y-C)},scalarSubtractEquals:function(C){return this.x-=C,this.y-=C,this},multiply:function(C){return new M(this.x*C,this.y*C)},multiplyEquals:function(C){return this.x*=C,this.y*=C,this},divide:function(C){return new M(this.x/C,this.y/C)},divideEquals:function(C){return this.x/=C,this.y/=C,this},eq:function(C){return this.x===C.x&&this.y===C.y},lt:function(C){return this.x<C.x&&this.y<C.y},lte:function(C){return this.x<=C.x&&this.y<=C.y},gt:function(C){return this.x>C.x&&this.y>C.y},gte:function(C){return this.x>=C.x&&this.y>=C.y},lerp:function(C,_){return void 0===_&&(_=.5),_=Math.max(Math.min(1,_),0),new M(this.x+(C.x-this.x)*_,this.y+(C.y-this.y)*_)},distanceFrom:function(C){var _=this.x-C.x,m=this.y-C.y;return Math.sqrt(_*_+m*m)},midPointFrom:function(C){return this.lerp(C)},min:function(C){return new M(Math.min(this.x,C.x),Math.min(this.y,C.y))},max:function(C){return new M(Math.max(this.x,C.x),Math.max(this.y,C.y))},toString:function(){return this.x+","+this.y},setXY:function(C,_){return this.x=C,this.y=_,this},setX:function(C){return this.x=C,this},setY:function(C){return this.y=C,this},setFromPoint:function(C){return this.x=C.x,this.y=C.y,this},swap:function(C){var _=this.x,m=this.y;this.x=C.x,this.y=C.y,C.x=_,C.y=m},clone:function(){return new M(this.x,this.y)}})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={});function M(C){this.status=C,this.points=[]}x.Intersection?x.warn("fabric.Intersection is already defined"):(x.Intersection=M,x.Intersection.prototype={constructor:M,appendPoint:function(C){return this.points.push(C),this},appendPoints:function(C){return this.points=this.points.concat(C),this}},x.Intersection.intersectLineLine=function(C,_,m,f){var y,S=(f.x-m.x)*(C.y-m.y)-(f.y-m.y)*(C.x-m.x),b=(_.x-C.x)*(C.y-m.y)-(_.y-C.y)*(C.x-m.x),D=(f.y-m.y)*(_.x-C.x)-(f.x-m.x)*(_.y-C.y);if(0!==D){var F=S/D,R=b/D;0<=F&&F<=1&&0<=R&&R<=1?(y=new M("Intersection")).appendPoint(new x.Point(C.x+F*(_.x-C.x),C.y+F*(_.y-C.y))):y=new M}else y=new M(0===S||0===b?"Coincident":"Parallel");return y},x.Intersection.intersectLinePolygon=function(C,_,m){var D,F,f=new M,y=m.length;for(F=0;F<y;F++)D=M.intersectLineLine(C,_,m[F],m[(F+1)%y]),f.appendPoints(D.points);return f.points.length>0&&(f.status="Intersection"),f},x.Intersection.intersectPolygonPolygon=function(C,_){var y,m=new M,f=C.length;for(y=0;y<f;y++){var D=M.intersectLinePolygon(C[y],C[(y+1)%f],_);m.appendPoints(D.points)}return m.points.length>0&&(m.status="Intersection"),m},x.Intersection.intersectPolygonRectangle=function(C,_,m){var f=_.min(m),y=_.max(m),S=new x.Point(y.x,f.y),b=new x.Point(f.x,y.y),D=M.intersectLinePolygon(f,S,C),F=M.intersectLinePolygon(S,y,C),R=M.intersectLinePolygon(y,b,C),B=M.intersectLinePolygon(b,f,C),j=new M;return j.appendPoints(D.points),j.appendPoints(F.points),j.appendPoints(R.points),j.appendPoints(B.points),j.points.length>0&&(j.status="Intersection"),j})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={});function M(_){_?this._tryParsingColor(_):this.setSource([0,0,0,1])}function C(_,m,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?_+6*(m-_)*f:f<.5?m:f<2/3?_+(m-_)*(2/3-f)*6:_}x.Color?x.warn("fabric.Color is already defined."):(x.Color=M,x.Color.prototype={_tryParsingColor:function(_){var m;_ in M.colorNameMap&&(_=M.colorNameMap[_]),"transparent"===_&&(m=[255,255,255,0]),m||(m=M.sourceFromHex(_)),m||(m=M.sourceFromRgb(_)),m||(m=M.sourceFromHsl(_)),m||(m=[0,0,0,1]),m&&this.setSource(m)},_rgbToHsl:function(_,m,f){var y,S,b,D=x.util.array.max([_/=255,m/=255,f/=255]),F=x.util.array.min([_,m,f]);if(b=(D+F)/2,D===F)y=S=0;else{var R=D-F;switch(S=b>.5?R/(2-D-F):R/(D+F),D){case _:y=(m-f)/R+(m<f?6:0);break;case m:y=(f-_)/R+2;break;case f:y=(_-m)/R+4}y/=6}return[Math.round(360*y),Math.round(100*S),Math.round(100*b)]},getSource:function(){return this._source},setSource:function(_){this._source=_},toRgb:function(){var _=this.getSource();return"rgb("+_[0]+","+_[1]+","+_[2]+")"},toRgba:function(){var _=this.getSource();return"rgba("+_[0]+","+_[1]+","+_[2]+","+_[3]+")"},toHsl:function(){var _=this.getSource(),m=this._rgbToHsl(_[0],_[1],_[2]);return"hsl("+m[0]+","+m[1]+"%,"+m[2]+"%)"},toHsla:function(){var _=this.getSource(),m=this._rgbToHsl(_[0],_[1],_[2]);return"hsla("+m[0]+","+m[1]+"%,"+m[2]+"%,"+_[3]+")"},toHex:function(){var m,f,y,_=this.getSource();return m=1===(m=_[0].toString(16)).length?"0"+m:m,f=1===(f=_[1].toString(16)).length?"0"+f:f,y=1===(y=_[2].toString(16)).length?"0"+y:y,m.toUpperCase()+f.toUpperCase()+y.toUpperCase()},toHexa:function(){var m,_=this.getSource();return m=1===(m=(m=Math.round(255*_[3])).toString(16)).length?"0"+m:m,this.toHex()+m.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(_){var m=this.getSource();return m[3]=_,this.setSource(m),this},toGrayscale:function(){var _=this.getSource(),m=parseInt((.3*_[0]+.59*_[1]+.11*_[2]).toFixed(0),10);return this.setSource([m,m,m,_[3]]),this},toBlackWhite:function(_){var m=this.getSource(),f=(.3*m[0]+.59*m[1]+.11*m[2]).toFixed(0),y=m[3];return _=_||127,f=Number(f)<Number(_)?0:255,this.setSource([f,f,f,y]),this},overlayWith:function(_){_ instanceof M||(_=new M(_));var D,m=[],f=this.getAlpha(),S=this.getSource(),b=_.getSource();for(D=0;D<3;D++)m.push(Math.round(.5*S[D]+.5*b[D]));return m[3]=f,this.setSource(m),this}},x.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,x.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,x.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,x.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},x.Color.fromRgb=function(_){return M.fromSource(M.sourceFromRgb(_))},x.Color.sourceFromRgb=function(_){var m=_.match(M.reRGBa);if(m){var f=parseInt(m[1],10)/(/%$/.test(m[1])?100:1)*(/%$/.test(m[1])?255:1),y=parseInt(m[2],10)/(/%$/.test(m[2])?100:1)*(/%$/.test(m[2])?255:1),S=parseInt(m[3],10)/(/%$/.test(m[3])?100:1)*(/%$/.test(m[3])?255:1);return[parseInt(f,10),parseInt(y,10),parseInt(S,10),m[4]?parseFloat(m[4]):1]}},x.Color.fromRgba=M.fromRgb,x.Color.fromHsl=function(_){return M.fromSource(M.sourceFromHsl(_))},x.Color.sourceFromHsl=function(_){var m=_.match(M.reHSLa);if(m){var b,D,F,f=(parseFloat(m[1])%360+360)%360/360,y=parseFloat(m[2])/(/%$/.test(m[2])?100:1),S=parseFloat(m[3])/(/%$/.test(m[3])?100:1);if(0===y)b=D=F=S;else{var R=S<=.5?S*(y+1):S+y-S*y,B=2*S-R;b=C(B,R,f+1/3),D=C(B,R,f),F=C(B,R,f-1/3)}return[Math.round(255*b),Math.round(255*D),Math.round(255*F),m[4]?parseFloat(m[4]):1]}},x.Color.fromHsla=M.fromHsl,x.Color.fromHex=function(_){return M.fromSource(M.sourceFromHex(_))},x.Color.sourceFromHex=function(_){if(_.match(M.reHex)){var m=_.slice(_.indexOf("#")+1),f=3===m.length||4===m.length,y=8===m.length||4===m.length,S=f?m.charAt(0)+m.charAt(0):m.substring(0,2),b=f?m.charAt(1)+m.charAt(1):m.substring(2,4),D=f?m.charAt(2)+m.charAt(2):m.substring(4,6),F=y?f?m.charAt(3)+m.charAt(3):m.substring(6,8):"FF";return[parseInt(S,16),parseInt(b,16),parseInt(D,16),parseFloat((parseInt(F,16)/255).toFixed(2))]}},x.Color.fromSource=function(_){var m=new M;return m.setSource(_),m})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=["e","se","s","sw","w","nw","n","ne","e"],C=["ns","nesw","ew","nwse"],_={},m="left",f="top",y="right",S="bottom",b="center",D={top:S,bottom:f,left:y,right:m,center:b},F=x.util.radiansToDegrees,R=Math.sign||function(le){return(le>0)-(le<0)||+le};function B(le,pe){var Le=le.angle+F(Math.atan2(pe.y,pe.x))+360;return Math.round(Le%360/45)}function j(le,pe){var Le=pe.transform.target,Ye=Le.canvas,Qe=x.util.object.clone(pe);Qe.target=Le,Ye&&Ye.fire("object:"+le,Qe),Le.fire(le,pe)}function X(le,pe){var Le=pe.canvas,Qe=le[Le.uniScaleKey];return Le.uniformScaling&&!Qe||!Le.uniformScaling&&Qe}function ne(le){return le.originX===b&&le.originY===b}function se(le,pe,Le){var Ye=le.lockScalingX,Qe=le.lockScalingY;return!!(Ye&&Qe||!pe&&(Ye||Qe)&&Le||Ye&&"x"===pe||Qe&&"y"===pe)}function Je(le,pe,Le,Ye){return{e:le,transform:pe,pointer:{x:Le,y:Ye}}}function Ze(le){return function(pe,Le,Ye,Qe){var tt=Le.target,gt=tt.getCenterPoint(),Ot=tt.translateToOriginPoint(gt,Le.originX,Le.originY),ht=le(pe,Le,Ye,Qe);return tt.setPositionByOrigin(Ot,Le.originX,Le.originY),ht}}function Mt(le,pe){return function(Le,Ye,Qe,tt){var gt=pe(Le,Ye,Qe,tt);return gt&&j(le,Je(Le,Ye,Qe,tt)),gt}}function It(le,pe,Le,Ye,Qe){var tt=le.target,gt=tt.controls[le.corner],Ot=tt.canvas.getZoom(),ht=tt.padding/Ot,ct=tt.toLocalPoint(new x.Point(Ye,Qe),pe,Le);return ct.x>=ht&&(ct.x-=ht),ct.x<=-ht&&(ct.x+=ht),ct.y>=ht&&(ct.y-=ht),ct.y<=ht&&(ct.y+=ht),ct.x-=gt.offsetX,ct.y-=gt.offsetY,ct}function xt(le){return le.flipX!==le.flipY}function Ne(le,pe,Le,Ye,Qe){if(0!==le[pe]){var tt=le._getTransformedDimensions()[Ye];le.set(Le,Qe/tt*le[Le])}}function Ee(le,pe,Le,Ye){var ct,Qe=pe.target,tt=Qe._getTransformedDimensions(0,Qe.skewY),gt=It(pe,pe.originX,pe.originY,Le,Ye),Ot=Math.abs(2*gt.x)-tt.x,ht=Qe.skewX;Ot<2?ct=0:(ct=F(Math.atan2(Ot/Qe.scaleX,tt.y/Qe.scaleY)),pe.originX===m&&pe.originY===S&&(ct=-ct),pe.originX===y&&pe.originY===f&&(ct=-ct),xt(Qe)&&(ct=-ct));var Dt=ht!==ct;if(Dt){var Yt=Qe._getTransformedDimensions().y;Qe.set("skewX",ct),Ne(Qe,"skewY","scaleY","y",Yt)}return Dt}function ue(le,pe,Le,Ye){var ct,Qe=pe.target,tt=Qe._getTransformedDimensions(Qe.skewX,0),gt=It(pe,pe.originX,pe.originY,Le,Ye),Ot=Math.abs(2*gt.y)-tt.y,ht=Qe.skewY;Ot<2?ct=0:(ct=F(Math.atan2(Ot/Qe.scaleY,tt.x/Qe.scaleX)),pe.originX===m&&pe.originY===S&&(ct=-ct),pe.originX===y&&pe.originY===f&&(ct=-ct),xt(Qe)&&(ct=-ct));var Dt=ht!==ct;if(Dt){var Yt=Qe._getTransformedDimensions().x;Qe.set("skewY",ct),Ne(Qe,"skewX","scaleX","x",Yt)}return Dt}function ge(le,pe,Le,Ye,Qe){var ct,Dt,Yt,En,wi,Yn,tt=pe.target,gt=tt.lockScalingX,Ot=tt.lockScalingY,ht=(Qe=Qe||{}).by,Ai=X(le,tt),Pn=se(tt,ht,Ai),xo=pe.gestureScale;if(Pn)return!1;if(xo)Dt=pe.scaleX*xo,Yt=pe.scaleY*xo;else{if(ct=It(pe,pe.originX,pe.originY,Le,Ye),wi="y"!==ht?R(ct.x):1,Yn="x"!==ht?R(ct.y):1,pe.signX||(pe.signX=wi),pe.signY||(pe.signY=Yn),tt.lockScalingFlip&&(pe.signX!==wi||pe.signY!==Yn))return!1;if(En=tt._getTransformedDimensions(),Ai&&!ht){var Ho=Math.abs(ct.x)+Math.abs(ct.y),Cr=pe.original,Kr=Ho/(Math.abs(En.x*Cr.scaleX/tt.scaleX)+Math.abs(En.y*Cr.scaleY/tt.scaleY));Dt=Cr.scaleX*Kr,Yt=Cr.scaleY*Kr}else Dt=Math.abs(ct.x*tt.scaleX/En.x),Yt=Math.abs(ct.y*tt.scaleY/En.y);ne(pe)&&(Dt*=2,Yt*=2),pe.signX!==wi&&"y"!==ht&&(pe.originX=D[pe.originX],Dt*=-1,pe.signX=wi),pe.signY!==Yn&&"x"!==ht&&(pe.originY=D[pe.originY],Yt*=-1,pe.signY=Yn)}var Ba=tt.scaleX,dr=tt.scaleY;return ht?("x"===ht&&tt.set("scaleX",Dt),"y"===ht&&tt.set("scaleY",Yt)):(!gt&&tt.set("scaleX",Dt),!Ot&&tt.set("scaleY",Yt)),Ba!==tt.scaleX||dr!==tt.scaleY}_.scaleCursorStyleHandler=function Ae(le,pe,Le){var Qe=X(le,Le),tt="";if(0!==pe.x&&0===pe.y?tt="x":0===pe.x&&0!==pe.y&&(tt="y"),se(Le,tt,Qe))return"not-allowed";var gt=B(Le,pe);return M[gt]+"-resize"},_.skewCursorStyleHandler=function Ge(le,pe,Le){if(0!==pe.x&&Le.lockSkewingY||0!==pe.y&&Le.lockSkewingX)return"not-allowed";var Qe=B(Le,pe)%4;return C[Qe]+"-resize"},_.scaleSkewCursorStyleHandler=function Ie(le,pe,Le){return le[Le.canvas.altActionKey]?_.skewCursorStyleHandler(le,pe,Le):_.scaleCursorStyleHandler(le,pe,Le)},_.rotationWithSnapping=Mt("rotating",Ze(function me(le,pe,Le,Ye){var Qe=pe,tt=Qe.target,gt=tt.translateToOriginPoint(tt.getCenterPoint(),Qe.originX,Qe.originY);if(tt.lockRotation)return!1;var Dt,Ot=Math.atan2(Qe.ey-gt.y,Qe.ex-gt.x),ht=Math.atan2(Ye-gt.y,Le-gt.x),ct=F(ht-Ot+Qe.theta);if(tt.snapAngle>0){var Yt=tt.snapAngle,En=tt.snapThreshold||Yt,Ai=Math.ceil(ct/Yt)*Yt,Pn=Math.floor(ct/Yt)*Yt;Math.abs(ct-Pn)<En?ct=Pn:Math.abs(ct-Ai)<En&&(ct=Ai)}return ct<0&&(ct=360+ct),Dt=tt.angle!==(ct%=360),tt.angle=ct,Dt})),_.scalingEqually=Mt("scaling",Ze(function Fe(le,pe,Le,Ye){return ge(le,pe,Le,Ye)})),_.scalingX=Mt("scaling",Ze(function ee(le,pe,Le,Ye){return ge(le,pe,Le,Ye,{by:"x"})})),_.scalingY=Mt("scaling",Ze(function Se(le,pe,Le,Ye){return ge(le,pe,Le,Ye,{by:"y"})})),_.scalingYOrSkewingX=function xe(le,pe,Le,Ye){return le[pe.target.canvas.altActionKey]?_.skewHandlerX(le,pe,Le,Ye):_.scalingY(le,pe,Le,Ye)},_.scalingXOrSkewingY=function fe(le,pe,Le,Ye){return le[pe.target.canvas.altActionKey]?_.skewHandlerY(le,pe,Le,Ye):_.scalingX(le,pe,Le,Ye)},_.changeWidth=Mt("resizing",Ze(function he(le,pe,Le,Ye){var Qe=pe.target,tt=It(pe,pe.originX,pe.originY,Le,Ye),gt=Qe.strokeWidth/(Qe.strokeUniform?Qe.scaleX:1),Ot=ne(pe)?2:1,ht=Qe.width,ct=Math.abs(tt.x*Ot/Qe.scaleX)-gt;return Qe.set("width",Math.max(ct,0)),ht!==ct})),_.skewHandlerX=function Ce(le,pe,Le,Ye){var gt,Qe=pe.target,tt=Qe.skewX,Ot=pe.originY;return!Qe.lockSkewingX&&(0===tt?gt=It(pe,b,b,Le,Ye).x>0?m:y:(tt>0&&(gt=Ot===f?m:y),tt<0&&(gt=Ot===f?y:m),xt(Qe)&&(gt=gt===m?y:m)),pe.originX=gt,Mt("skewing",Ze(Ee))(le,pe,Le,Ye))},_.skewHandlerY=function ke(le,pe,Le,Ye){var gt,Qe=pe.target,tt=Qe.skewY,Ot=pe.originX;return!Qe.lockSkewingY&&(0===tt?gt=It(pe,b,b,Le,Ye).y>0?f:S:(tt>0&&(gt=Ot===m?f:S),tt<0&&(gt=Ot===m?S:f),xt(Qe)&&(gt=gt===f?S:f)),pe.originY=gt,Mt("skewing",Ze(ue))(le,pe,Le,Ye))},_.dragHandler=function Pe(le,pe,Le,Ye){var Qe=pe.target,tt=Le-pe.offsetX,gt=Ye-pe.offsetY,Ot=!Qe.get("lockMovementX")&&Qe.left!==tt,ht=!Qe.get("lockMovementY")&&Qe.top!==gt;return Ot&&Qe.set("left",tt),ht&&Qe.set("top",gt),(Ot||ht)&&j("moving",Je(le,pe,Le,Ye)),Ot||ht},_.scaleOrSkewActionName=function Oe(le,pe,Le){var Ye=le[Le.canvas.altActionKey];return 0===pe.x?Ye?"skewX":"scaleY":0===pe.y?Ye?"skewY":"scaleX":void 0},_.rotationStyleHandler=function lt(le,pe,Le){return Le.lockRotation?"not-allowed":pe.cursorStyle},_.fireEvent=j,_.wrapWithFixedAnchor=Ze,_.wrapWithFireEvent=Mt,_.getLocalPoint=It,x.controlsUtils=_}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.degreesToRadians,C=x.controlsUtils;C.renderCircleControl=function _(f,y,S,b,D){b=b||{};var Ae,F=this.sizeX||b.cornerSize||D.cornerSize,R=this.sizeY||b.cornerSize||D.cornerSize,B=void 0!==b.transparentCorners?b.transparentCorners:D.transparentCorners,j=B?"stroke":"fill",X=!B&&(b.cornerStrokeColor||D.cornerStrokeColor),ne=y,se=S;f.save(),f.fillStyle=b.cornerColor||D.cornerColor,f.strokeStyle=b.cornerStrokeColor||D.cornerStrokeColor,F>R?(Ae=F,f.scale(1,R/F),se=S*F/R):R>F?(Ae=R,f.scale(F/R,1),ne=y*R/F):Ae=F,f.lineWidth=1,f.beginPath(),f.arc(ne,se,Ae/2,0,2*Math.PI,!1),f[j](),X&&f.stroke(),f.restore()},C.renderSquareControl=function m(f,y,S,b,D){b=b||{};var F=this.sizeX||b.cornerSize||D.cornerSize,R=this.sizeY||b.cornerSize||D.cornerSize,B=void 0!==b.transparentCorners?b.transparentCorners:D.transparentCorners,j=B?"stroke":"fill",X=!B&&(b.cornerStrokeColor||D.cornerStrokeColor),ne=F/2,se=R/2;f.save(),f.fillStyle=b.cornerColor||D.cornerColor,f.strokeStyle=b.cornerStrokeColor||D.cornerStrokeColor,f.lineWidth=1,f.translate(y,S),f.rotate(M(D.angle)),f[j+"Rect"](-ne,-se,F,R),X&&f.strokeRect(-ne,-se,F,R),f.restore()}}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={});x.Control=function M(C){for(var _ in C)this[_]=C[_]},x.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(C,_){return _.cursorStyle},getActionName:function(C,_){return _.actionName},getVisibility:function(C,_){var m=C._controlsVisibility;return m&&void 0!==m[_]?m[_]:this.visible},setVisibility:function(C){this.visible=C},positionHandler:function(C,_){return x.util.transformPoint({x:this.x*C.x+this.offsetX,y:this.y*C.y+this.offsetY},_)},calcCornerCoords:function(C,_,m,f,y){var S,b,D,F,R=y?this.touchSizeX:this.sizeX,B=y?this.touchSizeY:this.sizeY;if(R&&B&&R!==B){var j=Math.atan2(B,R),X=Math.sqrt(R*R+B*B)/2,ne=j-x.util.degreesToRadians(C),se=Math.PI/2-j-x.util.degreesToRadians(C);S=X*x.util.cos(ne),b=X*x.util.sin(ne),D=X*x.util.cos(se),F=X*x.util.sin(se)}else X=.7071067812*(R&&B?R:_),ne=x.util.degreesToRadians(45-C),S=D=X*x.util.cos(ne),b=F=X*x.util.sin(ne);return{tl:{x:m-F,y:f-D},tr:{x:m+S,y:f-b},bl:{x:m-S,y:f+b},br:{x:m+F,y:f+D}}},render:function(C,_,m,f,y){"circle"===((f=f||{}).cornerStyle||y.cornerStyle)?x.controlsUtils.renderCircleControl.call(this,C,_,m,f,y):x.controlsUtils.renderSquareControl.call(this,C,_,m,f,y)}}}(Ke),function(){function I(m,f){var b,D,F,R,y=m.getAttribute("style"),S=m.getAttribute("offset")||0;if(S=(S=parseFloat(S)/(/%$/.test(S)?100:1))<0?0:S>1?1:S,y){var B=y.split(/\s*;\s*/);for(""===B[B.length-1]&&B.pop(),R=B.length;R--;){var j=B[R].split(/\s*:\s*/),X=j[0].trim(),ne=j[1].trim();"stop-color"===X?b=ne:"stop-opacity"===X&&(F=ne)}}return b||(b=m.getAttribute("stop-color")||"rgb(0,0,0)"),F||(F=m.getAttribute("stop-opacity")),D=(b=new O.Color(b)).getAlpha(),F=isNaN(parseFloat(F))?1:parseFloat(F),F*=D*f,{offset:S,color:b.toRgb(),opacity:F}}var C=O.util.object.clone;O.Gradient=O.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(m){m||(m={}),m.coords||(m.coords={});var f,y=this;Object.keys(m).forEach(function(S){y[S]=m[S]}),this.id?this.id+="_"+O.Object.__uid++:this.id=O.Object.__uid++,f={x1:m.coords.x1||0,y1:m.coords.y1||0,x2:m.coords.x2||0,y2:m.coords.y2||0},"radial"===this.type&&(f.r1=m.coords.r1||0,f.r2=m.coords.r2||0),this.coords=f,this.colorStops=m.colorStops.slice()},addColorStop:function(m){for(var f in m){var y=new O.Color(m[f]);this.colorStops.push({offset:parseFloat(f),color:y.toRgb(),opacity:y.getAlpha()})}return this},toObject:function(m){var f={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return O.util.populateWithProperties(this,f,m),f},toSVG:function(m,D){var S,b,F,R,y=C(this.coords,!0),B=(D=D||{},C(this.colorStops,!0)),j=y.r1>y.r2,X=this.gradientTransform?this.gradientTransform.concat():O.iMatrix.concat(),ne=-this.offsetX,se=-this.offsetY,Ae=!!D.additionalTransform,Ge="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(B.sort(function(Ze,Mt){return Ze.offset-Mt.offset}),"objectBoundingBox"===Ge?(ne/=m.width,se/=m.height):(ne+=m.width/2,se+=m.height/2),"path"===m.type&&"percentage"!==this.gradientUnits&&(ne-=m.pathOffset.x,se-=m.pathOffset.y),X[4]-=ne,X[5]-=se,R='id="SVGID_'+this.id+'" gradientUnits="'+Ge+'"',R+=' gradientTransform="'+(Ae?D.additionalTransform+" ":"")+O.util.matrixToSVG(X)+'" ',"linear"===this.type?F=["<linearGradient ",R,' x1="',y.x1,'" y1="',y.y1,'" x2="',y.x2,'" y2="',y.y2,'">\n']:"radial"===this.type&&(F=["<radialGradient ",R,' cx="',j?y.x1:y.x2,'" cy="',j?y.y1:y.y2,'" r="',j?y.r1:y.r2,'" fx="',j?y.x2:y.x1,'" fy="',j?y.y2:y.y1,'">\n']),"radial"===this.type){if(j)for((B=B.concat()).reverse(),S=0,b=B.length;S<b;S++)B[S].offset=1-B[S].offset;var Ie=Math.min(y.r1,y.r2);if(Ie>0){var lt=Ie/Math.max(y.r1,y.r2);for(S=0,b=B.length;S<b;S++)B[S].offset+=lt*(1-B[S].offset)}}for(S=0,b=B.length;S<b;S++){var Je=B[S];F.push("<stop ",'offset="',100*Je.offset+"%",'" style="stop-color:',Je.color,void 0!==Je.opacity?";stop-opacity: "+Je.opacity:";",'"/>\n')}return F.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),F.join("")},toLive:function(m){var f,S,b,y=O.util.object.clone(this.coords);if(this.type){for("linear"===this.type?f=m.createLinearGradient(y.x1,y.y1,y.x2,y.y2):"radial"===this.type&&(f=m.createRadialGradient(y.x1,y.y1,y.r1,y.x2,y.y2,y.r2)),S=0,b=this.colorStops.length;S<b;S++){var D=this.colorStops[S].color,F=this.colorStops[S].opacity,R=this.colorStops[S].offset;void 0!==F&&(D=new O.Color(D).setAlpha(F).toRgba()),f.addColorStop(R,D)}return f}}}),O.util.object.extend(O.Gradient,{fromElement:function(m,f,y,S){var b=parseFloat(y)/(/%$/.test(y)?100:1);b=b<0?0:b>1?1:b,isNaN(b)&&(b=1);var F,X,ne,Ge,D=m.getElementsByTagName("stop"),R="userSpaceOnUse"===m.getAttribute("gradientUnits")?"pixels":"percentage",B=m.getAttribute("gradientTransform")||"",j=[],se=0,Ae=0;for("linearGradient"===m.nodeName||"LINEARGRADIENT"===m.nodeName?(F="linear",X=function x(m){return{x1:m.getAttribute("x1")||0,y1:m.getAttribute("y1")||0,x2:m.getAttribute("x2")||"100%",y2:m.getAttribute("y2")||0}}(m)):(F="radial",X=function M(m){return{x1:m.getAttribute("fx")||m.getAttribute("cx")||"50%",y1:m.getAttribute("fy")||m.getAttribute("cy")||"50%",r1:0,x2:m.getAttribute("cx")||"50%",y2:m.getAttribute("cy")||"50%",r2:m.getAttribute("r")||"50%"}}(m)),ne=D.length;ne--;)j.push(I(D[ne],b));return Ge=O.parseTransformAttribute(B),function _(m,f,y,S){var b,D;Object.keys(f).forEach(function(F){"Infinity"===(b=f[F])?D=1:"-Infinity"===b?D=0:(D=parseFloat(f[F],10),"string"==typeof b&&/^(\d+\.\d+)%|(\d+)%$/.test(b)&&(D*=.01,"pixels"===S&&(("x1"===F||"x2"===F||"r2"===F)&&(D*=y.viewBoxWidth||y.width),("y1"===F||"y2"===F)&&(D*=y.viewBoxHeight||y.height)))),f[F]=D})}(0,X,S,R),"pixels"===R&&(se=-f.left,Ae=-f.top),new O.Gradient({id:m.getAttribute("id"),type:F,coords:X,colorStops:j,gradientUnits:R,gradientTransform:Ge,offsetX:se,offsetY:Ae})}})}(),function(){"use strict";var I=O.util.toFixed;O.Pattern=O.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(x,M){if(x||(x={}),this.id=O.Object.__uid++,this.setOptions(x),!x.source||x.source&&"string"!=typeof x.source)M&&M(this);else{var C=this;this.source=O.util.createImage(),O.util.loadImage(x.source,function(_,m){C.source=_,M&&M(C,m)},null,this.crossOrigin)}},toObject:function(x){var C,_,M=O.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?C=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(C=this.source.toDataURL()),_={type:"pattern",source:C,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:I(this.offsetX,M),offsetY:I(this.offsetY,M),patternTransform:this.patternTransform?this.patternTransform.concat():null},O.util.populateWithProperties(this,_,x),_},toSVG:function(x){var M="function"==typeof this.source?this.source():this.source,C=M.width/x.width,_=M.height/x.height,m=this.offsetX/x.width,f=this.offsetY/x.height,y="";return("repeat-x"===this.repeat||"no-repeat"===this.repeat)&&(_=1,f&&(_+=Math.abs(f))),("repeat-y"===this.repeat||"no-repeat"===this.repeat)&&(C=1,m&&(C+=Math.abs(m))),M.src?y=M.src:M.toDataURL&&(y=M.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+m+'" y="'+f+'" width="'+C+'" height="'+_+'">\n<image x="0" y="0" width="'+M.width+'" height="'+M.height+'" xlink:href="'+y+'"></image>\n</pattern>\n'},setOptions:function(x){for(var M in x)this[M]=x[M]},toLive:function(x){var M=this.source;return M&&(void 0===M.src||M.complete&&0!==M.naturalWidth&&0!==M.naturalHeight)?x.createPattern(M,this.repeat):""}})}(),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.toFixed;x.Shadow?x.warn("fabric.Shadow is already defined."):(x.Shadow=x.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(C){for(var _ in"string"==typeof C&&(C=this._parseShadow(C)),C)this[_]=C[_];this.id=x.Object.__uid++},_parseShadow:function(C){var _=C.trim(),m=x.Shadow.reOffsetsAndBlur.exec(_)||[];return{color:(_.replace(x.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(m[1],10)||0,offsetY:parseFloat(m[2],10)||0,blur:parseFloat(m[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(C){var _=40,m=40,f=x.Object.NUM_FRACTION_DIGITS,y=x.util.rotateVector({x:this.offsetX,y:this.offsetY},x.util.degreesToRadians(-C.angle)),b=new x.Color(this.color);return C.width&&C.height&&(_=100*M((Math.abs(y.x)+this.blur)/C.width,f)+20,m=100*M((Math.abs(y.y)+this.blur)/C.height,f)+20),C.flipX&&(y.x*=-1),C.flipY&&(y.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+m+'%" height="'+(100+2*m)+'%" x="-'+_+'%" width="'+(100+2*_)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+M(this.blur?this.blur/2:0,f)+'"></feGaussianBlur>\n\t<feOffset dx="'+M(y.x,f)+'" dy="'+M(y.y,f)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+b.toRgb()+'" flood-opacity="'+b.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var C={},_=x.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(m){this[m]!==_[m]&&(C[m]=this[m])},this),C}}),x.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(Ke),function(){"use strict";if(O.StaticCanvas)O.warn("fabric.StaticCanvas is already defined.");else{var I=O.util.object.extend,x=O.util.getElementOffset,M=O.util.removeFromArray,C=O.util.toFixed,_=O.util.transformPoint,m=O.util.invertTransform,f=O.util.getNodeCanvas,y=O.util.createCanvasElement,S=new Error("Could not initialize `canvas` element");O.StaticCanvas=O.util.createClass(O.CommonMethods,{initialize:function(b,D){D||(D={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(b,D)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:O.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(b,D){var F=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(b),this._initOptions(D),this.interactive||this._initRetinaScaling(),D.overlayImage&&this.setOverlayImage(D.overlayImage,F),D.backgroundImage&&this.setBackgroundImage(D.backgroundImage,F),D.backgroundColor&&this.setBackgroundColor(D.backgroundColor,F),D.overlayColor&&this.setOverlayColor(D.overlayColor,F),this.calcOffset()},_isRetinaScaling:function(){return 1!==O.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?O.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var b=O.devicePixelRatio;this.__initRetinaScaling(b,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(b,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(b,D,F){D.setAttribute("width",this.width*b),D.setAttribute("height",this.height*b),F.scale(b,b)},calcOffset:function(){return this._offset=x(this.lowerCanvasEl),this},setOverlayImage:function(b,D,F){return this.__setBgOverlayImage("overlayImage",b,D,F)},setBackgroundImage:function(b,D,F){return this.__setBgOverlayImage("backgroundImage",b,D,F)},setOverlayColor:function(b,D){return this.__setBgOverlayColor("overlayColor",b,D)},setBackgroundColor:function(b,D){return this.__setBgOverlayColor("backgroundColor",b,D)},__setBgOverlayImage:function(b,D,F,R){return"string"==typeof D?O.util.loadImage(D,function(B,j){if(B){var X=new O.Image(B,R);this[b]=X,X.canvas=this}F&&F(B,j)},this,R&&R.crossOrigin):(R&&D.setOptions(R),this[b]=D,D&&(D.canvas=this),F&&F(D,!1)),this},__setBgOverlayColor:function(b,D,F){return this[b]=D,this._initGradient(D,b),this._initPattern(D,b,F),this},_createCanvasElement:function(){var b=y();if(!b||(b.style||(b.style={}),void 0===b.getContext))throw S;return b},_initOptions:function(b){var D=this.lowerCanvasEl;this._setOptions(b),this.width=this.width||parseInt(D.width,10)||0,this.height=this.height||parseInt(D.height,10)||0,this.lowerCanvasEl.style&&(D.width=this.width,D.height=this.height,D.style.width=this.width+"px",D.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(b){this.lowerCanvasEl=b&&b.getContext?b:O.util.getById(b)||this._createCanvasElement(),O.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(b,D){return this.setDimensions({width:b},D)},setHeight:function(b,D){return this.setDimensions({height:b},D)},setDimensions:function(b,D){var F;for(var R in D=D||{},b)F=b[R],D.cssOnly||(this._setBackstoreDimension(R,b[R]),F+="px",this.hasLostContext=!0),D.backstoreOnly||this._setCssDimension(R,F);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),D.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(b,D){return this.lowerCanvasEl[b]=D,this.upperCanvasEl&&(this.upperCanvasEl[b]=D),this.cacheCanvasEl&&(this.cacheCanvasEl[b]=D),this[b]=D,this},_setCssDimension:function(b,D){return this.lowerCanvasEl.style[b]=D,this.upperCanvasEl&&(this.upperCanvasEl.style[b]=D),this.wrapperEl&&(this.wrapperEl.style[b]=D),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(b){var B,j,X,D=this._activeObject,F=this.backgroundImage,R=this.overlayImage;for(this.viewportTransform=b,j=0,X=this._objects.length;j<X;j++)(B=this._objects[j]).group||B.setCoords(!0);return D&&D.setCoords(),F&&F.setCoords(!0),R&&R.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(b,D){var F=b,R=this.viewportTransform.slice(0);b=_(b,m(this.viewportTransform)),R[0]=D,R[3]=D;var B=_(b,R);return R[4]+=F.x-B.x,R[5]+=F.y-B.y,this.setViewportTransform(R)},setZoom:function(b){return this.zoomToPoint(new O.Point(0,0),b),this},absolutePan:function(b){var D=this.viewportTransform.slice(0);return D[4]=-b.x,D[5]=-b.y,this.setViewportTransform(D)},relativePan:function(b){return this.absolutePan(new O.Point(-b.x-this.viewportTransform[4],-b.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(b){this.stateful&&b.setupState(),b._set("canvas",this),b.setCoords(),this.fire("object:added",{target:b}),b.fire("added")},_onObjectRemoved:function(b){this.fire("object:removed",{target:b}),b.fire("removed"),delete b.canvas},clearContext:function(b){return b.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=O.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var b={},D=this.width,F=this.height,R=m(this.viewportTransform);return b.tl=_({x:0,y:0},R),b.br=_({x:D,y:F},R),b.tr=new O.Point(b.br.x,b.tl.y),b.bl=new O.Point(b.tl.x,b.br.y),this.vptCoords=b,b},cancelRequestedRender:function(){this.isRendering&&(O.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(b,D){var F=this.viewportTransform,R=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(b),O.util.setImageSmoothing(b,this.imageSmoothingEnabled),this.fire("before:render",{ctx:b}),this._renderBackground(b),b.save(),b.transform(F[0],F[1],F[2],F[3],F[4],F[5]),this._renderObjects(b,D),b.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(b),R&&(R.canvas=this,R.shouldCache(),R._transformDone=!0,R.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(b)),this._renderOverlay(b),this.controlsAboveOverlay&&this.interactive&&this.drawControls(b),this.fire("after:render",{ctx:b})},drawClipPathOnCanvas:function(b){var D=this.viewportTransform,F=this.clipPath;b.save(),b.transform(D[0],D[1],D[2],D[3],D[4],D[5]),b.globalCompositeOperation="destination-in",F.transform(b),b.scale(1/F.zoomX,1/F.zoomY),b.drawImage(F._cacheCanvas,-F.cacheTranslationX,-F.cacheTranslationY),b.restore()},_renderObjects:function(b,D){var F,R;for(F=0,R=D.length;F<R;++F)D[F]&&D[F].render(b)},_renderBackgroundOrOverlay:function(b,D){var F=this[D+"Color"],R=this[D+"Image"],B=this.viewportTransform,j=this[D+"Vpt"];if(F||R){if(F){b.save(),b.beginPath(),b.moveTo(0,0),b.lineTo(this.width,0),b.lineTo(this.width,this.height),b.lineTo(0,this.height),b.closePath(),b.fillStyle=F.toLive?F.toLive(b,this):F,j&&b.transform(B[0],B[1],B[2],B[3],B[4],B[5]),b.transform(1,0,0,1,F.offsetX||0,F.offsetY||0);var X=F.gradientTransform||F.patternTransform;X&&b.transform(X[0],X[1],X[2],X[3],X[4],X[5]),b.fill(),b.restore()}R&&(b.save(),j&&b.transform(B[0],B[1],B[2],B[3],B[4],B[5]),R.render(b),b.restore())}},_renderBackground:function(b){this._renderBackgroundOrOverlay(b,"background")},_renderOverlay:function(b){this._renderBackgroundOrOverlay(b,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(b){return this._centerObject(b,new O.Point(this.getCenter().left,b.getCenterPoint().y))},centerObjectV:function(b){return this._centerObject(b,new O.Point(b.getCenterPoint().x,this.getCenter().top))},centerObject:function(b){var D=this.getCenter();return this._centerObject(b,new O.Point(D.left,D.top))},viewportCenterObject:function(b){var D=this.getVpCenter();return this._centerObject(b,D)},viewportCenterObjectH:function(b){var D=this.getVpCenter();return this._centerObject(b,new O.Point(D.x,b.getCenterPoint().y)),this},viewportCenterObjectV:function(b){var D=this.getVpCenter();return this._centerObject(b,new O.Point(b.getCenterPoint().x,D.y))},getVpCenter:function(){var b=this.getCenter(),D=m(this.viewportTransform);return _({x:b.left,y:b.top},D)},_centerObject:function(b,D){return b.setPositionByOrigin(D,"center","center"),b.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(b){return this.toDatalessObject(b)},toObject:function(b){return this._toObjectMethod("toObject",b)},toDatalessObject:function(b){return this._toObjectMethod("toDatalessObject",b)},_toObjectMethod:function(b,D){var F=this.clipPath,R={version:O.version,objects:this._toObjects(b,D)};return F&&!F.excludeFromExport&&(R.clipPath=this._toObject(this.clipPath,b,D)),I(R,this.__serializeBgOverlay(b,D)),O.util.populateWithProperties(this,R,D),R},_toObjects:function(b,D){return this._objects.filter(function(F){return!F.excludeFromExport}).map(function(F){return this._toObject(F,b,D)},this)},_toObject:function(b,D,F){var R;this.includeDefaultValues||(R=b.includeDefaultValues,b.includeDefaultValues=!1);var B=b[D](F);return this.includeDefaultValues||(b.includeDefaultValues=R),B},__serializeBgOverlay:function(b,D){var F={},R=this.backgroundImage,B=this.overlayImage,j=this.backgroundColor,X=this.overlayColor;return j&&j.toObject?j.excludeFromExport||(F.background=j.toObject(D)):j&&(F.background=j),X&&X.toObject?X.excludeFromExport||(F.overlay=X.toObject(D)):X&&(F.overlay=X),R&&!R.excludeFromExport&&(F.backgroundImage=this._toObject(R,b,D)),B&&!B.excludeFromExport&&(F.overlayImage=this._toObject(B,b,D)),F},svgViewportTransformation:!0,toSVG:function(b,D){b||(b={}),b.reviver=D;var F=[];return this._setSVGPreamble(F,b),this._setSVGHeader(F,b),this.clipPath&&F.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(F,"background"),this._setSVGBgOverlayImage(F,"backgroundImage",D),this._setSVGObjects(F,D),this.clipPath&&F.push("</g>\n"),this._setSVGBgOverlayColor(F,"overlay"),this._setSVGBgOverlayImage(F,"overlayImage",D),F.push("</svg>"),F.join("")},_setSVGPreamble:function(b,D){D.suppressPreamble||b.push('<?xml version="1.0" encoding="',D.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(b,D){var B,F=D.width||this.width,R=D.height||this.height,j='viewBox="0 0 '+this.width+" "+this.height+'" ',X=O.Object.NUM_FRACTION_DIGITS;D.viewBox?j='viewBox="'+D.viewBox.x+" "+D.viewBox.y+" "+D.viewBox.width+" "+D.viewBox.height+'" ':this.svgViewportTransformation&&(j='viewBox="'+C(-(B=this.viewportTransform)[4]/B[0],X)+" "+C(-B[5]/B[3],X)+" "+C(this.width/B[0],X)+" "+C(this.height/B[3],X)+'" '),b.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',F,'" ','height="',R,'" ',j,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",O.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(D),"</defs>\n")},createSVGClipPathMarkup:function(b){var D=this.clipPath;return D?(D.clipPathId="CLIPPATH_"+O.Object.__uid++,'<clipPath id="'+D.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(b.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var b=this;return["background","overlay"].map(function(F){var R=b[F+"Color"];if(R&&R.toLive){var B=b[F+"Vpt"],j=b.viewportTransform;return R.toSVG({width:b.width/(B?j[0]:1),height:b.height/(B?j[3]:1)},{additionalTransform:B?O.util.matrixToSVG(j):""})}}).join("")},createSVGFontFacesMarkup:function(){var F,R,B,j,X,se,Ae,Ge,b="",D={},Ie=O.fontPaths,Oe=[];for(this._objects.forEach(function Je(Ze){Oe.push(Ze),Ze._objects&&Ze._objects.forEach(Je)}),Ae=0,Ge=Oe.length;Ae<Ge;Ae++)if(R=(F=Oe[Ae]).fontFamily,-1!==F.type.indexOf("text")&&!D[R]&&Ie[R]&&(D[R]=!0,F.styles))for(X in B=F.styles)for(se in j=B[X])!D[R=j[se].fontFamily]&&Ie[R]&&(D[R]=!0);for(var lt in D)b+=["\t\t@font-face {\n","\t\t\tfont-family: '",lt,"';\n","\t\t\tsrc: url('",Ie[lt],"');\n","\t\t}\n"].join("");return b&&(b=['\t<style type="text/css">',"<![CDATA[\n",b,"]]>","</style>\n"].join("")),b},_setSVGObjects:function(b,D){var F,R,B,j=this._objects;for(R=0,B=j.length;R<B;R++)!(F=j[R]).excludeFromExport&&this._setSVGObject(b,F,D)},_setSVGObject:function(b,D,F){b.push(D.toSVG(F))},_setSVGBgOverlayImage:function(b,D,F){this[D]&&!this[D].excludeFromExport&&this[D].toSVG&&b.push(this[D].toSVG(F))},_setSVGBgOverlayColor:function(b,D){var F=this[D+"Color"],B=this.width,j=this.height;if(F)if(F.toLive){var X=F.repeat,ne=O.util.invertTransform(this.viewportTransform),Ae=this[D+"Vpt"]?O.util.matrixToSVG(ne):"";b.push('<rect transform="'+Ae+" translate(",B/2,",",j/2,')"',' x="',F.offsetX-B/2,'" y="',F.offsetY-j/2,'" ','width="',"repeat-y"===X||"no-repeat"===X?F.source.width:B,'" height="',"repeat-x"===X||"no-repeat"===X?F.source.height:j,'" fill="url(#SVGID_'+F.id+')"',"></rect>\n")}else b.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',F,'"',"></rect>\n")},sendToBack:function(b){if(!b)return this;var F,R,B,D=this._activeObject;if(b===D&&"activeSelection"===b.type)for(F=(B=D._objects).length;F--;)M(this._objects,R=B[F]),this._objects.unshift(R);else M(this._objects,b),this._objects.unshift(b);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(b){if(!b)return this;var F,R,B,D=this._activeObject;if(b===D&&"activeSelection"===b.type)for(B=D._objects,F=0;F<B.length;F++)M(this._objects,R=B[F]),this._objects.push(R);else M(this._objects,b),this._objects.push(b);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(b,D){if(!b)return this;var R,B,j,X,ne,F=this._activeObject,se=0;if(b===F&&"activeSelection"===b.type)for(ne=F._objects,R=0;R<ne.length;R++)(j=this._objects.indexOf(B=ne[R]))>0+se&&(X=j-1,M(this._objects,B),this._objects.splice(X,0,B)),se++;else 0!==(j=this._objects.indexOf(b))&&(X=this._findNewLowerIndex(b,j,D),M(this._objects,b),this._objects.splice(X,0,b));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(b,D,F){var R,B;if(F){for(R=D,B=D-1;B>=0;--B)if(b.intersectsWithObject(this._objects[B])||b.isContainedWithinObject(this._objects[B])||this._objects[B].isContainedWithinObject(b)){R=B;break}}else R=D-1;return R},bringForward:function(b,D){if(!b)return this;var R,B,j,X,ne,F=this._activeObject,se=0;if(b===F&&"activeSelection"===b.type)for(R=(ne=F._objects).length;R--;)(j=this._objects.indexOf(B=ne[R]))<this._objects.length-1-se&&(X=j+1,M(this._objects,B),this._objects.splice(X,0,B)),se++;else(j=this._objects.indexOf(b))!==this._objects.length-1&&(X=this._findNewUpperIndex(b,j,D),M(this._objects,b),this._objects.splice(X,0,b));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(b,D,F){var R,B,j;if(F){for(R=D,B=D+1,j=this._objects.length;B<j;++B)if(b.intersectsWithObject(this._objects[B])||b.isContainedWithinObject(this._objects[B])||this._objects[B].isContainedWithinObject(b)){R=B;break}}else R=D+1;return R},moveTo:function(b,D){return M(this._objects,b),this._objects.splice(D,0,b),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(O.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(b){b.dispose&&b.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),O.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),I(O.StaticCanvas.prototype,O.Observable),I(O.StaticCanvas.prototype,O.Collection),I(O.StaticCanvas.prototype,O.DataURLExporter),I(O.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(b){var D=y();if(!D||!D.getContext)return null;var F=D.getContext("2d");return F&&"setLineDash"===b?void 0!==F.setLineDash:null}}),O.StaticCanvas.prototype.toJSON=O.StaticCanvas.prototype.toObject,O.isLikelyNode&&(O.StaticCanvas.prototype.createPNGStream=function(){var b=f(this.lowerCanvasEl);return b&&b.createPNGStream()},O.StaticCanvas.prototype.createJPEGStream=function(b){var D=f(this.lowerCanvasEl);return D&&D.createJPEGStream(b)})}}(),O.BaseBrush=O.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var I=this.canvas.contextTop;I.strokeStyle=this.color,I.lineWidth=this.width,I.lineCap=this.strokeLineCap,I.miterLimit=this.strokeMiterLimit,I.lineJoin=this.strokeLineJoin,I.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(I){var x=this.canvas.viewportTransform;I.save(),I.transform(x[0],x[1],x[2],x[3],x[4],x[5])},_setShadow:function(){if(this.shadow){var I=this.canvas,x=this.shadow,M=I.contextTop,C=I.getZoom();I&&I._isRetinaScaling()&&(C*=O.devicePixelRatio),M.shadowColor=x.color,M.shadowBlur=x.blur*C,M.shadowOffsetX=x.offsetX*C,M.shadowOffsetY=x.offsetY*C}},needsFullRender:function(){return new O.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var I=this.canvas.contextTop;I.shadowColor="",I.shadowBlur=I.shadowOffsetX=I.shadowOffsetY=0},_isOutSideCanvas:function(I){return I.x<0||I.x>this.canvas.getWidth()||I.y<0||I.y>this.canvas.getHeight()}}),O.PencilBrush=O.util.createClass(O.BaseBrush,{decimate:.4,initialize:function(I){this.canvas=I,this._points=[]},_drawSegment:function(I,x,M){var C=x.midPointFrom(M);return I.quadraticCurveTo(x.x,x.y,C.x,C.y),C},onMouseDown:function(I,x){!this.canvas._isMainEvent(x.e)||(this._prepareForDrawing(I),this._captureDrawingPath(I),this._render())},onMouseMove:function(I,x){if(this.canvas._isMainEvent(x.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(I))&&this._captureDrawingPath(I)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var M=this._points,C=M.length,_=this.canvas.contextTop;this._saveAndTransform(_),this.oldEnd&&(_.beginPath(),_.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(_,M[C-2],M[C-1],!0),_.stroke(),_.restore()}},onMouseUp:function(I){return!this.canvas._isMainEvent(I.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(I){var x=new O.Point(I.x,I.y);this._reset(),this._addPoint(x),this.canvas.contextTop.moveTo(x.x,x.y)},_addPoint:function(I){return!(this._points.length>1&&I.eq(this._points[this._points.length-1])||(this._points.push(I),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(I){var x=new O.Point(I.x,I.y);return this._addPoint(x)},_render:function(){var x,M,I=this.canvas.contextTop,C=this._points[0],_=this._points[1];if(this._saveAndTransform(I),I.beginPath(),2===this._points.length&&C.x===_.x&&C.y===_.y){var m=this.width/1e3;C=new O.Point(C.x,C.y),_=new O.Point(_.x,_.y),C.x-=m,_.x+=m}for(I.moveTo(C.x,C.y),x=1,M=this._points.length;x<M;x++)this._drawSegment(I,C,_),C=this._points[x],_=this._points[x+1];I.lineTo(C.x,C.y),I.stroke(),I.restore()},convertPointsToSVGPath:function(I){return O.util.getSmoothPathFromPoints(I,this.width/1e3)},_isEmptySVGPath:function(I){return"M 0 0 Q 0 0 0 0 L 0 0"===O.util.joinPath(I)},createPath:function(I){var x=new O.Path(I,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,x.shadow=new O.Shadow(this.shadow)),x},decimatePoints:function(I,x){if(I.length<=2)return I;var _,M=this.canvas.getZoom(),C=Math.pow(x/M,2),m=I.length-1,f=I[0],y=[f];for(_=1;_<m-1;_++)Math.pow(f.x-I[_].x,2)+Math.pow(f.y-I[_].y,2)>=C&&y.push(f=I[_]);return y.push(I[m]),y},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var x=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(x))this.canvas.requestRenderAll();else{var M=this.createPath(x);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:M}),this.canvas.add(M),this.canvas.requestRenderAll(),M.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:M})}}}),O.CircleBrush=O.util.createClass(O.BaseBrush,{width:10,initialize:function(I){this.canvas=I,this.points=[]},drawDot:function(I){var x=this.addPoint(I),M=this.canvas.contextTop;this._saveAndTransform(M),this.dot(M,x),M.restore()},dot:function(I,x){I.fillStyle=x.fill,I.beginPath(),I.arc(x.x,x.y,x.radius,0,2*Math.PI,!1),I.closePath(),I.fill()},onMouseDown:function(I){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(I)},_render:function(){var x,M,I=this.canvas.contextTop,C=this.points;for(this._saveAndTransform(I),x=0,M=C.length;x<M;x++)this.dot(I,C[x]);I.restore()},onMouseMove:function(I){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(I)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(I),this._render()):this.drawDot(I))},onMouseUp:function(){var x,M,I=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var C=[];for(x=0,M=this.points.length;x<M;x++){var _=this.points[x],m=new O.Circle({radius:_.radius,left:_.x,top:_.y,originX:"center",originY:"center",fill:_.fill});this.shadow&&(m.shadow=new O.Shadow(this.shadow)),C.push(m)}var f=new O.Group(C);f.canvas=this.canvas,this.canvas.fire("before:path:created",{path:f}),this.canvas.add(f),this.canvas.fire("path:created",{path:f}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=I,this.canvas.requestRenderAll()},addPoint:function(I){var x=new O.Point(I.x,I.y),M=O.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,C=new O.Color(this.color).setAlpha(O.util.getRandomInt(0,100)/100).toRgba();return x.radius=M,x.fill=C,this.points.push(x),x}}),O.SprayBrush=O.util.createClass(O.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(I){this.canvas=I,this.sprayChunks=[]},onMouseDown:function(I){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(I),this.render(this.sprayChunkPoints)},onMouseMove:function(I){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(I)||(this.addSprayChunk(I),this.render(this.sprayChunkPoints))},onMouseUp:function(){var I=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var x=[],M=0,C=this.sprayChunks.length;M<C;M++)for(var _=this.sprayChunks[M],m=0,f=_.length;m<f;m++){var y=new O.Rect({width:_[m].width,height:_[m].width,left:_[m].x+1,top:_[m].y+1,originX:"center",originY:"center",fill:this.color});x.push(y)}this.optimizeOverlapping&&(x=this._getOptimizedRects(x));var S=new O.Group(x);this.shadow&&S.set("shadow",new O.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:S}),this.canvas.add(S),this.canvas.fire("path:created",{path:S}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=I,this.canvas.requestRenderAll()},_getOptimizedRects:function(I){var M,C,_,x={};for(C=0,_=I.length;C<_;C++)x[M=I[C].left+""+I[C].top]||(x[M]=I[C]);var m=[];for(M in x)m.push(x[M]);return m},render:function(I){var M,C,x=this.canvas.contextTop;for(x.fillStyle=this.color,this._saveAndTransform(x),M=0,C=I.length;M<C;M++){var _=I[M];void 0!==_.opacity&&(x.globalAlpha=_.opacity),x.fillRect(_.x,_.y,_.width,_.width)}x.restore()},_render:function(){var x,M,I=this.canvas.contextTop;for(I.fillStyle=this.color,this._saveAndTransform(I),x=0,M=this.sprayChunks.length;x<M;x++)this.render(this.sprayChunks[x]);I.restore()},addSprayChunk:function(I){this.sprayChunkPoints=[];var x,M,C,m,_=this.width/2;for(m=0;m<this.density;m++){x=O.util.getRandomInt(I.x-_,I.x+_),M=O.util.getRandomInt(I.y-_,I.y+_),C=this.dotWidthVariance?O.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var f=new O.Point(x,M);f.width=C,this.randomOpacity&&(f.opacity=O.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(f)}this.sprayChunks.push(this.sprayChunkPoints)}}),O.PatternBrush=O.util.createClass(O.PencilBrush,{getPatternSrc:function(){var M=O.util.createCanvasElement(),C=M.getContext("2d");return M.width=M.height=25,C.fillStyle=this.color,C.beginPath(),C.arc(10,10,10,0,2*Math.PI,!1),C.closePath(),C.fill(),M},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(I){var x=this.callSuper("createPath",I),M=x._getLeftTopCoords().scalarAdd(x.strokeWidth/2);return x.stroke=new O.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-M.x,offsetY:-M.y}),x}}),function(){var I=O.util.getPointer,x=O.util.degreesToRadians,M=O.util.isTouchEvent;for(var C in O.Canvas=O.util.createClass(O.StaticCanvas,{initialize:function(_,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(_,m),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=O.PencilBrush&&new O.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var m,f,y,_=this.getActiveObjects();if(_.length>0&&!this.preserveObjectStacking){f=[],y=[];for(var S=0,b=this._objects.length;S<b;S++)-1===_.indexOf(m=this._objects[S])?f.push(m):y.push(m);_.length>1&&(this._activeObject._objects=y),f.push.apply(f,y)}else f=this._objects;return f},renderAll:function(){return this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(_){_.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(_),this.contextTopDirty=!0),_.restore()},renderTop:function(){var _=this.contextTop;return this.clearContext(_),this.renderTopLayer(_),this.fire("after:render"),this},_normalizePointer:function(_,m){var f=_.calcTransformMatrix(),y=O.util.invertTransform(f),S=this.restorePointerVpt(m);return O.util.transformPoint(S,y)},isTargetTransparent:function(_,m,f){if(_.shouldCache()&&_._cacheCanvas&&_!==this._activeObject){var y=this._normalizePointer(_,{x:m,y:f}),S=Math.max(_.cacheTranslationX+y.x*_.zoomX,0),b=Math.max(_.cacheTranslationY+y.y*_.zoomY,0);return O.util.isTransparent(_._cacheContext,Math.round(S),Math.round(b),this.targetFindTolerance)}var D=this.contextCache,F=_.selectionBackgroundColor,R=this.viewportTransform;return _.selectionBackgroundColor="",this.clearContext(D),D.save(),D.transform(R[0],R[1],R[2],R[3],R[4],R[5]),_.render(D),D.restore(),_.selectionBackgroundColor=F,O.util.isTransparent(D,m,f,this.targetFindTolerance)},_isSelectionKeyPressed:function(_){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find(function(f){return!0===_[f]}):_[this.selectionKey]},_shouldClearSelection:function(_,m){var f=this.getActiveObjects(),y=this._activeObject;return!m||m&&y&&f.length>1&&-1===f.indexOf(m)&&y!==m&&!this._isSelectionKeyPressed(_)||m&&!m.evented||m&&!m.selectable&&y&&y!==m},_shouldCenterTransform:function(_,m,f){var y;if(_)return"scale"===m||"scaleX"===m||"scaleY"===m||"resizing"===m?y=this.centeredScaling||_.centeredScaling:"rotate"===m&&(y=this.centeredRotation||_.centeredRotation),y?!f:f},_getOriginFromCorner:function(_,m){var f={x:_.originX,y:_.originY};return"ml"===m||"tl"===m||"bl"===m?f.x="right":("mr"===m||"tr"===m||"br"===m)&&(f.x="left"),"tl"===m||"mt"===m||"tr"===m?f.y="bottom":("bl"===m||"mb"===m||"br"===m)&&(f.y="top"),f},_getActionFromCorner:function(_,m,f,y){if(!m||!_)return"drag";var S=y.controls[m];return S.getActionName(f,S,y)},_setupCurrentTransform:function(_,m,f){if(m){var y=this.getPointer(_),S=m.__corner,b=m.controls[S],D=f&&S?b.getActionHandler(_,m,b):O.controlsUtils.dragHandler,F=this._getActionFromCorner(f,S,_,m),R=this._getOriginFromCorner(m,S),B=_[this.centeredKey],j={target:m,action:F,actionHandler:D,corner:S,scaleX:m.scaleX,scaleY:m.scaleY,skewX:m.skewX,skewY:m.skewY,offsetX:y.x-m.left,offsetY:y.y-m.top,originX:R.x,originY:R.y,ex:y.x,ey:y.y,lastX:y.x,lastY:y.y,theta:x(m.angle),width:m.width*m.scaleX,shiftKey:_.shiftKey,altKey:B,original:O.util.saveObjectTransform(m)};this._shouldCenterTransform(m,F,B)&&(j.originX="center",j.originY="center"),j.original.originX=R.x,j.original.originY=R.y,this._currentTransform=j,this._beforeTransform(_)}},setCursor:function(_){this.upperCanvasEl.style.cursor=_},_drawSelection:function(_){var m=this._groupSelector,f=new O.Point(m.ex,m.ey),y=O.util.transformPoint(f,this.viewportTransform),S=new O.Point(m.ex+m.left,m.ey+m.top),b=O.util.transformPoint(S,this.viewportTransform),D=Math.min(y.x,b.x),F=Math.min(y.y,b.y),R=Math.max(y.x,b.x),B=Math.max(y.y,b.y),j=this.selectionLineWidth/2;this.selectionColor&&(_.fillStyle=this.selectionColor,_.fillRect(D,F,R-D,B-F)),this.selectionLineWidth&&this.selectionBorderColor&&(_.lineWidth=this.selectionLineWidth,_.strokeStyle=this.selectionBorderColor,D+=j,F+=j,R-=j,B-=j,O.Object.prototype._setLineDash.call(this,_,this.selectionDashArray),_.strokeRect(D,F,R-D,B-F))},findTarget:function(_,m){if(!this.skipTargetFind){var D,F,y=this.getPointer(_,!0),S=this._activeObject,b=this.getActiveObjects(),R=M(_),B=b.length>1&&!m||1===b.length;if(this.targets=[],B&&S._findTargetCorner(y,R)||b.length>1&&!m&&S===this._searchPossibleTargets([S],y))return S;if(1===b.length&&S===this._searchPossibleTargets([S],y)){if(!this.preserveObjectStacking)return S;D=S,F=this.targets,this.targets=[]}var j=this._searchPossibleTargets(this._objects,y);return _[this.altSelectionKey]&&j&&D&&j!==D&&(j=D,this.targets=F),j}},_checkTarget:function(_,m,f){if(m&&m.visible&&m.evented&&m.containsPoint(_)){if(!this.perPixelTargetFind&&!m.perPixelTargetFind||m.isEditing)return!0;if(!this.isTargetTransparent(m,f.x,f.y))return!0}},_searchPossibleTargets:function(_,m){for(var f,S,y=_.length;y--;){var b=_[y],D=b.group?this._normalizePointer(b.group,m):m;if(this._checkTarget(D,b,m)){(f=_[y]).subTargetCheck&&f instanceof O.Group&&(S=this._searchPossibleTargets(f._objects,m))&&this.targets.push(S);break}}return f},restorePointerVpt:function(_){return O.util.transformPoint(_,O.util.invertTransform(this.viewportTransform))},getPointer:function(_,m){if(this._absolutePointer&&!m)return this._absolutePointer;if(this._pointer&&m)return this._pointer;var F,f=I(_),y=this.upperCanvasEl,S=y.getBoundingClientRect(),b=S.width||0,D=S.height||0;(!b||!D)&&("top"in S&&"bottom"in S&&(D=Math.abs(S.top-S.bottom)),"right"in S&&"left"in S&&(b=Math.abs(S.right-S.left))),this.calcOffset(),f.x=f.x-this._offset.left,f.y=f.y-this._offset.top,m||(f=this.restorePointerVpt(f));var R=this.getRetinaScaling();return 1!==R&&(f.x/=R,f.y/=R),{x:f.x*(F=0===b||0===D?{width:1,height:1}:{width:y.width/b,height:y.height/D}).width,y:f.y*F.height}},_createUpperCanvas:function(){var _=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),m=this.lowerCanvasEl,f=this.upperCanvasEl;f?f.className="":(f=this._createCanvasElement(),this.upperCanvasEl=f),O.util.addClass(f,"upper-canvas "+_),this.wrapperEl.appendChild(f),this._copyCanvasStyle(m,f),this._applyCanvasStyle(f),this.contextTop=f.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=O.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),O.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),O.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(_){var m=this.width||_.width,f=this.height||_.height;O.util.setStyle(_,{position:"absolute",width:m+"px",height:f+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),_.width=m,_.height=f,O.util.makeElementUnselectable(_)},_copyCanvasStyle:function(_,m){m.style.cssText=_.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var _=this._activeObject;return _?"activeSelection"===_.type&&_._objects?_._objects.slice(0):[_]:[]},_onObjectRemoved:function(_){_===this._activeObject&&(this.fire("before:selection:cleared",{target:_}),this._discardActiveObject(),this.fire("selection:cleared",{target:_}),_.fire("deselected")),_===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",_)},_fireSelectionEvents:function(_,m){var f=!1,y=this.getActiveObjects(),S=[],b=[];_.forEach(function(D){-1===y.indexOf(D)&&(f=!0,D.fire("deselected",{e:m,target:D}),b.push(D))}),y.forEach(function(D){-1===_.indexOf(D)&&(f=!0,D.fire("selected",{e:m,target:D}),S.push(D))}),_.length>0&&y.length>0?f&&this.fire("selection:updated",{e:m,selected:S,deselected:b,updated:S[0]||b[0],target:this._activeObject}):y.length>0?this.fire("selection:created",{e:m,selected:S,target:this._activeObject}):_.length>0&&this.fire("selection:cleared",{e:m,deselected:b})},setActiveObject:function(_,m){var f=this.getActiveObjects();return this._setActiveObject(_,m),this._fireSelectionEvents(f,m),this},_setActiveObject:function(_,m){return!(this._activeObject===_||!this._discardActiveObject(m,_)||_.onSelect({e:m})||(this._activeObject=_,0))},_discardActiveObject:function(_,m){var f=this._activeObject;if(f){if(f.onDeselect({e:_,object:m}))return!1;this._activeObject=null}return!0},discardActiveObject:function(_){var m=this.getActiveObjects(),f=this.getActiveObject();return m.length&&this.fire("before:selection:cleared",{target:f,e:_}),this._discardActiveObject(_),this._fireSelectionEvents(m,_),this},dispose:function(){var _=this.wrapperEl;return this.removeListeners(),_.removeChild(this.upperCanvasEl),_.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(m){O.util.cleanUpJsdomNode(this[m]),this[m]=void 0}.bind(this)),_.parentNode&&_.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,O.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(_){var m=this._activeObject;m&&m._renderControls(_)},_toObject:function(_,m,f){var y=this._realizeGroupTransformOnObject(_),S=this.callSuper("_toObject",_,m,f);return this._unwindGroupTransformOnObject(_,y),S},_realizeGroupTransformOnObject:function(_){if(_.group&&"activeSelection"===_.group.type&&this._activeObject===_.group){var f={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(y){f[y]=_[y]}),O.util.addTransformToObject(_,this._activeObject.calcOwnMatrix()),f}return null},_unwindGroupTransformOnObject:function(_,m){m&&_.set(m)},_setSVGObject:function(_,m,f){var y=this._realizeGroupTransformOnObject(m);this.callSuper("_setSVGObject",_,m,f),this._unwindGroupTransformOnObject(m,y)},setViewportTransform:function(_){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),O.StaticCanvas.prototype.setViewportTransform.call(this,_)}}),O.StaticCanvas)"prototype"!==C&&(O.Canvas[C]=O.StaticCanvas[C])}(),function(){var I=O.util.addListener,x=O.util.removeListener,m={passive:!1};function f(y,S){return y.button&&y.button===S-1}O.util.object.extend(O.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(I,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(y,S){var b=this.upperCanvasEl,D=this._getEventPrefix();y(O.window,"resize",this._onResize),y(b,D+"down",this._onMouseDown),y(b,D+"move",this._onMouseMove,m),y(b,D+"out",this._onMouseOut),y(b,D+"enter",this._onMouseEnter),y(b,"wheel",this._onMouseWheel),y(b,"contextmenu",this._onContextMenu),y(b,"dblclick",this._onDoubleClick),y(b,"dragover",this._onDragOver),y(b,"dragenter",this._onDragEnter),y(b,"dragleave",this._onDragLeave),y(b,"drop",this._onDrop),this.enablePointerEvents||y(b,"touchstart",this._onTouchStart,m),"undefined"!=typeof eventjs&&S in eventjs&&(eventjs[S](b,"gesture",this._onGesture),eventjs[S](b,"drag",this._onDrag),eventjs[S](b,"orientation",this._onOrientationChange),eventjs[S](b,"shake",this._onShake),eventjs[S](b,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(x,"remove");var y=this._getEventPrefix();x(O.document,y+"up",this._onMouseUp),x(O.document,"touchend",this._onTouchEnd,m),x(O.document,y+"move",this._onMouseMove,m),x(O.document,"touchmove",this._onMouseMove,m)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(y,S){this.__onTransformGesture&&this.__onTransformGesture(y,S)},_onDrag:function(y,S){this.__onDrag&&this.__onDrag(y,S)},_onMouseWheel:function(y){this.__onMouseWheel(y)},_onMouseOut:function(y){var S=this._hoveredTarget;this.fire("mouse:out",{target:S,e:y}),this._hoveredTarget=null,S&&S.fire("mouseout",{e:y});var b=this;this._hoveredTargets.forEach(function(D){b.fire("mouse:out",{target:S,e:y}),D&&S.fire("mouseout",{e:y})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(D){D.isEditing&&D.hiddenTextarea.focus()})},_onMouseEnter:function(y){!this._currentTransform&&!this.findTarget(y)&&(this.fire("mouse:over",{target:null,e:y}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(y,S){this.__onOrientationChange&&this.__onOrientationChange(y,S)},_onShake:function(y,S){this.__onShake&&this.__onShake(y,S)},_onLongPress:function(y,S){this.__onLongPress&&this.__onLongPress(y,S)},_onDragOver:function(y){y.preventDefault();var S=this._simpleEventHandler("dragover",y);this._fireEnterLeaveEvents(S,y)},_onContextMenu:function(y){return this.stopContextMenu&&(y.stopPropagation(),y.preventDefault()),!1},_onDoubleClick:function(y){this._cacheTransformEventData(y),this._handleEvent(y,"dblclick"),this._resetTransformEventData(y)},getPointerId:function(y){var S=y.changedTouches;return S?S[0]&&S[0].identifier:this.enablePointerEvents?y.pointerId:-1},_isMainEvent:function(y){return!0===y.isPrimary||!1!==y.isPrimary&&("touchend"===y.type&&0===y.touches.length||!y.changedTouches||y.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(y){y.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(y)),this.__onMouseDown(y),this._resetTransformEventData();var S=this.upperCanvasEl,b=this._getEventPrefix();I(O.document,"touchend",this._onTouchEnd,m),I(O.document,"touchmove",this._onMouseMove,m),x(S,b+"down",this._onMouseDown)},_onMouseDown:function(y){this.__onMouseDown(y),this._resetTransformEventData();var S=this.upperCanvasEl,b=this._getEventPrefix();x(S,b+"move",this._onMouseMove,m),I(O.document,b+"up",this._onMouseUp),I(O.document,b+"move",this._onMouseMove,m)},_onTouchEnd:function(y){if(!(y.touches.length>0)){this.__onMouseUp(y),this._resetTransformEventData(),this.mainTouchId=null;var S=this._getEventPrefix();x(O.document,"touchend",this._onTouchEnd,m),x(O.document,"touchmove",this._onMouseMove,m);var b=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){I(b.upperCanvasEl,S+"down",b._onMouseDown),b._willAddMouseDown=0},400)}},_onMouseUp:function(y){this.__onMouseUp(y),this._resetTransformEventData();var S=this.upperCanvasEl,b=this._getEventPrefix();this._isMainEvent(y)&&(x(O.document,b+"up",this._onMouseUp),x(O.document,b+"move",this._onMouseMove,m),I(S,b+"move",this._onMouseMove,m))},_onMouseMove:function(y){!this.allowTouchScrolling&&y.preventDefault&&y.preventDefault(),this.__onMouseMove(y)},_onResize:function(){this.calcOffset()},_shouldRender:function(y){var S=this._activeObject;return!!(!!S!=!!y||S&&y&&S!==y)},__onMouseUp:function(y){var S,b=this._currentTransform,D=this._groupSelector,F=!1,R=!D||0===D.left&&0===D.top;if(this._cacheTransformEventData(y),S=this._target,this._handleEvent(y,"up:before"),f(y,3))this.fireRightClick&&this._handleEvent(y,"up",3,R);else{if(f(y,2))return this.fireMiddleClick&&this._handleEvent(y,"up",2,R),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(y);else if(this._isMainEvent(y)){if(b&&(this._finalizeCurrentTransform(y),F=b.actionPerformed),!R){var B=S===this._activeObject;this._maybeGroupObjects(y),F||(F=this._shouldRender(S)||!B&&S===this._activeObject)}if(S){if(S.selectable&&S!==this._activeObject&&"up"===S.activeOn)this.setActiveObject(S,y),F=!0;else{var j=S._findTargetCorner(this.getPointer(y,!0),O.util.isTouchEvent(y)),X=S.controls[j],ne=X&&X.getMouseUpHandler(y,S,X);if(ne){var se=this.getPointer(y);ne(y,b,se.x,se.y)}}S.isMoving=!1}this._setCursorFromEvent(y,S),this._handleEvent(y,"up",1,R),this._groupSelector=null,this._currentTransform=null,S&&(S.__corner=0),F?this.requestRenderAll():R||this.renderTop()}}},_simpleEventHandler:function(y,S){var b=this.findTarget(S),D=this.targets,F={e:S,target:b,subTargets:D};if(this.fire(y,F),b&&b.fire(y,F),!D)return b;for(var R=0;R<D.length;R++)D[R].fire(y,F);return b},_handleEvent:function(y,S,b,D){var F=this._target,R=this.targets||[],B={e:y,target:F,subTargets:R,button:b||1,isClick:D||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===S&&(B.currentTarget=this.findTarget(y),B.currentSubTargets=this.targets),this.fire("mouse:"+S,B),F&&F.fire("mouse"+S,B);for(var j=0;j<R.length;j++)R[j].fire("mouse"+S,B)},_finalizeCurrentTransform:function(y){var D,S=this._currentTransform,b=S.target,F={e:y,target:b,transform:S,action:S.action};b._scaling&&(b._scaling=!1),b.setCoords(),(S.actionPerformed||this.stateful&&b.hasStateChanged())&&(S.actionPerformed&&(D=this._addEventOptions(F,S),this._fire(D,F)),this._fire("modified",F))},_addEventOptions:function(y,S){var b,D;switch(S.action){case"scaleX":b="scaled",D="x";break;case"scaleY":b="scaled",D="y";break;case"skewX":b="skewed",D="x";break;case"skewY":b="skewed",D="y";break;case"scale":b="scaled",D="equally";break;case"rotate":b="rotated";break;case"drag":b="moved"}return y.by=D,b},_onMouseDownInDrawingMode:function(y){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(y).requestRenderAll();var S=this.getPointer(y);this.freeDrawingBrush.onMouseDown(S,{e:y,pointer:S}),this._handleEvent(y,"down")},_onMouseMoveInDrawingMode:function(y){if(this._isCurrentlyDrawing){var S=this.getPointer(y);this.freeDrawingBrush.onMouseMove(S,{e:y,pointer:S})}this.setCursor(this.freeDrawingCursor),this._handleEvent(y,"move")},_onMouseUpInDrawingMode:function(y){var S=this.getPointer(y);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:y,pointer:S}),this._handleEvent(y,"up")},__onMouseDown:function(y){this._cacheTransformEventData(y),this._handleEvent(y,"down:before");var S=this._target;if(f(y,3))this.fireRightClick&&this._handleEvent(y,"down",3);else if(f(y,2))this.fireMiddleClick&&this._handleEvent(y,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(y);else if(this._isMainEvent(y)&&!this._currentTransform){this._previousPointer=b=this._pointer;var D=this._shouldRender(S),F=this._shouldGroup(y,S);if(this._shouldClearSelection(y,S)?this.discardActiveObject(y):F&&(this._handleGrouping(y,S),S=this._activeObject),this.selection&&(!S||!S.selectable&&!S.isEditing&&S!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),S){var R=S===this._activeObject;S.selectable&&"down"===S.activeOn&&this.setActiveObject(S,y);var B=S._findTargetCorner(this.getPointer(y,!0),O.util.isTouchEvent(y));if(S.__corner=B,S===this._activeObject&&(B||!F)){this._setupCurrentTransform(y,S,R);var j=S.controls[B],b=this.getPointer(y),X=j&&j.getMouseDownHandler(y,S,j);X&&X(y,this._currentTransform,b.x,b.y)}}this._handleEvent(y,"down"),(D||F)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(y){this._resetTransformEventData(),this._pointer=this.getPointer(y,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(y)||null},_beforeTransform:function(y){var S=this._currentTransform;this.stateful&&S.target.saveState(),this.fire("before:transform",{e:y,transform:S})},__onMouseMove:function(y){var S,b;if(this._handleEvent(y,"move:before"),this._cacheTransformEventData(y),this.isDrawingMode)this._onMouseMoveInDrawingMode(y);else if(this._isMainEvent(y)){var D=this._groupSelector;D?(D.left=(b=this._absolutePointer).x-D.ex,D.top=b.y-D.ey,this.renderTop()):this._currentTransform?this._transformObject(y):(S=this.findTarget(y)||null,this._setCursorFromEvent(y,S),this._fireOverOutEvents(S,y)),this._handleEvent(y,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(y,S){var b=this._hoveredTarget,D=this._hoveredTargets,F=this.targets,R=Math.max(D.length,F.length);this.fireSyntheticInOutEvents(y,S,{oldTarget:b,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var B=0;B<R;B++)this.fireSyntheticInOutEvents(F[B],S,{oldTarget:D[B],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=y,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(y,S){var b=this._draggedoverTarget,D=this._hoveredTargets,F=this.targets,R=Math.max(D.length,F.length);this.fireSyntheticInOutEvents(y,S,{oldTarget:b,evtOut:"dragleave",evtIn:"dragenter"});for(var B=0;B<R;B++)this.fireSyntheticInOutEvents(F[B],S,{oldTarget:D[B],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=y},fireSyntheticInOutEvents:function(y,S,b){var D,F,j,R=b.oldTarget,X=R!==y,ne=b.canvasEvtIn,se=b.canvasEvtOut;X&&(D={e:S,target:y,previousTarget:R},F={e:S,target:R,nextTarget:y}),j=y&&X,R&&X&&(se&&this.fire(se,F),R.fire(b.evtOut,F)),j&&(ne&&this.fire(ne,D),y.fire(b.evtIn,D))},__onMouseWheel:function(y){this._cacheTransformEventData(y),this._handleEvent(y,"wheel"),this._resetTransformEventData()},_transformObject:function(y){var S=this.getPointer(y),b=this._currentTransform;b.reset=!1,b.shiftKey=y.shiftKey,b.altKey=y[this.centeredKey],this._performTransformAction(y,b,S),b.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(y,S,b){var R=S.action,B=!1,j=S.actionHandler;j&&(B=j(y,S,b.x,b.y)),"drag"===R&&B&&(S.target.isMoving=!0,this.setCursor(S.target.moveCursor||this.moveCursor)),S.actionPerformed=S.actionPerformed||B},_fire:O.controlsUtils.fireEvent,_setCursorFromEvent:function(y,S){if(!S)return this.setCursor(this.defaultCursor),!1;var b=S.hoverCursor||this.hoverCursor,D=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,F=(!D||!D.contains(S))&&S._findTargetCorner(this.getPointer(y,!0));F?this.setCursor(this.getCornerCursor(F,S,y)):(S.subTargetCheck&&this.targets.concat().reverse().map(function(R){b=R.hoverCursor||b}),this.setCursor(b))},getCornerCursor:function(y,S,b){var D=S.controls[y];return D.cursorStyleHandler(b,D,S)}})}(),function(){var I=Math.min,x=Math.max;O.util.object.extend(O.Canvas.prototype,{_shouldGroup:function(M,C){var _=this._activeObject;return _&&this._isSelectionKeyPressed(M)&&C&&C.selectable&&this.selection&&(_!==C||"activeSelection"===_.type)&&!C.onSelect({e:M})},_handleGrouping:function(M,C){var _=this._activeObject;_.__corner||C===_&&(!(C=this.findTarget(M,!0))||!C.selectable)||(_&&"activeSelection"===_.type?this._updateActiveSelection(C,M):this._createActiveSelection(C,M))},_updateActiveSelection:function(M,C){var _=this._activeObject,m=_._objects.slice(0);_.contains(M)?(_.removeWithUpdate(M),this._hoveredTarget=M,this._hoveredTargets=this.targets.concat(),1===_.size()&&this._setActiveObject(_.item(0),C)):(_.addWithUpdate(M),this._hoveredTarget=_,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(m,C)},_createActiveSelection:function(M,C){var _=this.getActiveObjects(),m=this._createGroup(M);this._hoveredTarget=m,this._setActiveObject(m,C),this._fireSelectionEvents(_,C)},_createGroup:function(M){var C=this._objects,m=C.indexOf(this._activeObject)<C.indexOf(M)?[this._activeObject,M]:[M,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new O.ActiveSelection(m,{canvas:this})},_groupSelectedObjects:function(M){var _,C=this._collectObjects(M);1===C.length?this.setActiveObject(C[0],M):C.length>1&&(_=new O.ActiveSelection(C.reverse(),{canvas:this}),this.setActiveObject(_,M))},_collectObjects:function(M){for(var _,C=[],m=this._groupSelector.ex,f=this._groupSelector.ey,y=m+this._groupSelector.left,S=f+this._groupSelector.top,b=new O.Point(I(m,y),I(f,S)),D=new O.Point(x(m,y),x(f,S)),F=!this.selectionFullyContained,R=m===y&&f===S,B=this._objects.length;B--&&!((_=this._objects[B])&&_.selectable&&_.visible&&(F&&_.intersectsWithRect(b,D,!0)||_.isContainedWithinRect(b,D,!0)||F&&_.containsPoint(b,null,!0)||F&&_.containsPoint(D,null,!0))&&(C.push(_),R)););return C.length>1&&(C=C.filter(function(j){return!j.onSelect({e:M})})),C},_maybeGroupObjects:function(M){this.selection&&this._groupSelector&&this._groupSelectedObjects(M),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),O.util.object.extend(O.StaticCanvas.prototype,{toDataURL:function(I){I||(I={});var x=I.format||"png",M=I.quality||1,C=(I.multiplier||1)*(I.enableRetinaScaling?this.getRetinaScaling():1),_=this.toCanvasElement(C,I);return O.util.toDataURL(_,x,M)},toCanvasElement:function(I,x){var M=((x=x||{}).width||this.width)*(I=I||1),C=(x.height||this.height)*I,_=this.getZoom(),m=this.width,f=this.height,y=_*I,S=this.viewportTransform,F=this.interactive,R=[y,0,0,y,(S[4]-(x.left||0))*I,(S[5]-(x.top||0))*I],B=this.enableRetinaScaling,j=O.util.createCanvasElement(),X=this.contextTop;return j.width=M,j.height=C,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=R,this.width=M,this.height=C,this.calcViewportBoundaries(),this.renderCanvas(j.getContext("2d"),this._objects),this.viewportTransform=S,this.width=m,this.height=f,this.calcViewportBoundaries(),this.interactive=F,this.enableRetinaScaling=B,this.contextTop=X,j}}),O.util.object.extend(O.StaticCanvas.prototype,{loadFromJSON:function(I,x,M){if(I){var C="string"==typeof I?JSON.parse(I):O.util.object.clone(I),_=this,m=C.clipPath,f=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete C.clipPath,this._enlivenObjects(C.objects,function(y){_.clear(),_._setBgOverlay(C,function(){m?_._enlivenObjects([m],function(S){_.clipPath=S[0],_.__setupCanvas.call(_,C,y,f,x)}):_.__setupCanvas.call(_,C,y,f,x)})},M),this}},__setupCanvas:function(I,x,M,C){var _=this;x.forEach(function(m,f){_.insertAt(m,f)}),this.renderOnAddRemove=M,delete I.objects,delete I.backgroundImage,delete I.overlayImage,delete I.background,delete I.overlay,this._setOptions(I),this.renderAll(),C&&C()},_setBgOverlay:function(I,x){var M={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(I.backgroundImage||I.overlayImage||I.background||I.overlay){var C=function(){M.backgroundImage&&M.overlayImage&&M.backgroundColor&&M.overlayColor&&x&&x()};this.__setBgOverlay("backgroundImage",I.backgroundImage,M,C),this.__setBgOverlay("overlayImage",I.overlayImage,M,C),this.__setBgOverlay("backgroundColor",I.background,M,C),this.__setBgOverlay("overlayColor",I.overlay,M,C)}else x&&x()},__setBgOverlay:function(I,x,M,C){var _=this;if(!x)return M[I]=!0,void(C&&C());"backgroundImage"===I||"overlayImage"===I?O.util.enlivenObjects([x],function(m){_[I]=m[0],M[I]=!0,C&&C()}):this["set"+O.util.string.capitalize(I,!0)](x,function(){M[I]=!0,C&&C()})},_enlivenObjects:function(I,x,M){I&&0!==I.length?O.util.enlivenObjects(I,function(C){x&&x(C)},null,M):x&&x([])},_toDataURL:function(I,x){this.clone(function(M){x(M.toDataURL(I))})},_toDataURLWithMultiplier:function(I,x,M){this.clone(function(C){M(C.toDataURLWithMultiplier(I,x))})},clone:function(I,x){var M=JSON.stringify(this.toJSON(x));this.cloneWithoutData(function(C){C.loadFromJSON(M,function(){I&&I(C)})})},cloneWithoutData:function(I){var x=O.util.createCanvasElement();x.width=this.width,x.height=this.height;var M=new O.Canvas(x);this.backgroundImage?(M.setBackgroundImage(this.backgroundImage.src,function(){M.renderAll(),I&&I(M)}),M.backgroundImageOpacity=this.backgroundImageOpacity,M.backgroundImageStretch=this.backgroundImageStretch):I&&I(M)}}),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.object.extend,C=x.util.object.clone,_=x.util.toFixed,m=x.util.string.capitalize,f=x.util.degreesToRadians;x.Object||(x.Object=x.util.createClass(x.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!x.isLikelyNode,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(b){b&&this.setOptions(b)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=x.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(b){var D=x.perfLimitSizeTotal,F=b.width,R=b.height,B=x.maxCacheSideLimit,j=x.minCacheSideLimit;if(F<=B&&R<=B&&F*R<=D)return F<j&&(b.width=j),R<j&&(b.height=j),b;var ne=x.util.limitDimsByArea(F/R,D),se=x.util.capValue,Ae=se(j,ne.x,B),Ge=se(j,ne.y,B);return F>Ae&&(b.zoomX/=F/Ae,b.width=Ae,b.capped=!0),R>Ge&&(b.zoomY/=R/Ge,b.height=Ge,b.capped=!0),b},_getCacheCanvasDimensions:function(){var b=this.getTotalObjectScaling(),D=this._getTransformedDimensions(0,0),F=D.x*b.scaleX/this.scaleX,R=D.y*b.scaleY/this.scaleY;return{width:F+2,height:R+2,zoomX:b.scaleX,zoomY:b.scaleY,x:F,y:R}},_updateCacheCanvas:function(){var b=this.canvas;if(this.noScaleCache&&b&&b._currentTransform){var F=b._currentTransform.action;if(this===b._currentTransform.target&&F.slice&&"scale"===F.slice(0,5))return!1}var se,Ae,R=this._cacheCanvas,B=this._limitCacheSize(this._getCacheCanvasDimensions()),j=x.minCacheSideLimit,X=B.width,ne=B.height,Ge=B.zoomX,Ie=B.zoomY,Oe=X!==this.cacheWidth||ne!==this.cacheHeight,Je=Oe||this.zoomX!==Ge||this.zoomY!==Ie,Ze=0,Mt=0,It=!1;if(Oe){var xt=this._cacheCanvas.width,Ne=this._cacheCanvas.height,Ee=X>xt||ne>Ne;It=Ee||(X<.9*xt||ne<.9*Ne)&&xt>j&&Ne>j,Ee&&!B.capped&&(X>j||ne>j)&&(Ze=.1*X,Mt=.1*ne)}return this instanceof x.Text&&this.path&&(Je=!0,It=!0,Ze+=this.getHeightOfLine(0)*this.zoomX,Mt+=this.getHeightOfLine(0)*this.zoomY),!!Je&&(It?(R.width=Math.ceil(X+Ze),R.height=Math.ceil(ne+Mt)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,R.width,R.height)),se=B.x/2,Ae=B.y/2,this.cacheTranslationX=Math.round(R.width/2-se)+se,this.cacheTranslationY=Math.round(R.height/2-Ae)+Ae,this.cacheWidth=X,this.cacheHeight=ne,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Ge,Ie),this.zoomX=Ge,this.zoomY=Ie,!0)},setOptions:function(b){this._setOptions(b),this._initGradient(b.fill,"fill"),this._initGradient(b.stroke,"stroke"),this._initPattern(b.fill,"fill"),this._initPattern(b.stroke,"stroke")},transform:function(b){var F=this.calcTransformMatrix(!(this.group&&!this.group._transformDone||this.group&&this.canvas&&b===this.canvas.contextTop));b.transform(F[0],F[1],F[2],F[3],F[4],F[5])},toObject:function(b){var D=x.Object.NUM_FRACTION_DIGITS,F={type:this.type,version:x.version,originX:this.originX,originY:this.originY,left:_(this.left,D),top:_(this.top,D),width:_(this.width,D),height:_(this.height,D),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:_(this.strokeWidth,D),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:_(this.strokeMiterLimit,D),scaleX:_(this.scaleX,D),scaleY:_(this.scaleY,D),angle:_(this.angle,D),flipX:this.flipX,flipY:this.flipY,opacity:_(this.opacity,D),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:_(this.skewX,D),skewY:_(this.skewY,D)};return this.clipPath&&!this.clipPath.excludeFromExport&&(F.clipPath=this.clipPath.toObject(b),F.clipPath.inverted=this.clipPath.inverted,F.clipPath.absolutePositioned=this.clipPath.absolutePositioned),x.util.populateWithProperties(this,F,b),this.includeDefaultValues||(F=this._removeDefaultValues(F)),F},toDatalessObject:function(b){return this.toObject(b)},_removeDefaultValues:function(b){var D=x.util.getKlass(b.type).prototype;return D.stateProperties.forEach(function(R){"left"!==R&&"top"!==R&&(b[R]===D[R]&&delete b[R],"[object Array]"===Object.prototype.toString.call(b[R])&&"[object Array]"===Object.prototype.toString.call(D[R])&&0===b[R].length&&0===D[R].length&&delete b[R])}),b},toString:function(){return"#<fabric."+m(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var b=x.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(b.scaleX),scaleY:Math.abs(b.scaleY)}},getTotalObjectScaling:function(){var b=this.getObjectScaling(),D=b.scaleX,F=b.scaleY;if(this.canvas){var R=this.canvas.getZoom(),B=this.canvas.getRetinaScaling();D*=R*B,F*=R*B}return{scaleX:D,scaleY:F}},getObjectOpacity:function(){var b=this.opacity;return this.group&&(b*=this.group.getObjectOpacity()),b},_set:function(b,D){var R=this[b]!==D,B=!1;return("scaleX"===b||"scaleY"===b)&&(D=this._constrainScale(D)),"scaleX"===b&&D<0?(this.flipX=!this.flipX,D*=-1):"scaleY"===b&&D<0?(this.flipY=!this.flipY,D*=-1):"shadow"!==b||!D||D instanceof x.Shadow?"dirty"===b&&this.group&&this.group.set("dirty",D):D=new x.Shadow(D),this[b]=D,R&&(B=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(b)>-1?(this.dirty=!0,B&&this.group.set("dirty",!0)):B&&this.stateProperties.indexOf(b)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:x.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(b){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(b.save(),this._setupCompositeOperation(b),this.drawSelectionBackground(b),this.transform(b),this._setOpacity(b),this._setShadow(b,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(b)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(b),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),b.restore())},renderCache:function(b){b=b||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,b.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!!("stroke"===this.paintFirst&&this.hasFill()&&this.hasStroke()&&"object"==typeof this.shadow||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(b){var D=this.clipPath;if(b.save(),b.globalCompositeOperation=D.inverted?"destination-out":"destination-in",D.absolutePositioned){var F=x.util.invertTransform(this.calcTransformMatrix());b.transform(F[0],F[1],F[2],F[3],F[4],F[5])}D.transform(b),b.scale(1/D.zoomX,1/D.zoomY),b.drawImage(D._cacheCanvas,-D.cacheTranslationX,-D.cacheTranslationY),b.restore()},drawObject:function(b,D){var F=this.fill,R=this.stroke;D?(this.fill="black",this.stroke="",this._setClippingProperties(b)):this._renderBackground(b),this._render(b),this._drawClipPath(b),this.fill=F,this.stroke=R},_drawClipPath:function(b){var D=this.clipPath;!D||(D.canvas=this.canvas,D.shouldCache(),D._transformDone=!0,D.renderCache({forClipping:!0}),this.drawClipPathOnCache(b))},drawCacheOnCanvas:function(b){b.scale(1/this.zoomX,1/this.zoomY),b.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(b){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!b&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!b){var D=this.cacheWidth/this.zoomX,F=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-D/2,-F/2,D,F)}return!0}return!1},_renderBackground:function(b){if(this.backgroundColor){var D=this._getNonTransformedDimensions();b.fillStyle=this.backgroundColor,b.fillRect(-D.x/2,-D.y/2,D.x,D.y),this._removeShadow(b)}},_setOpacity:function(b){this.group&&!this.group._transformDone?b.globalAlpha=this.getObjectOpacity():b.globalAlpha*=this.opacity},_setStrokeStyles:function(b,D){var F=D.stroke;F&&(b.lineWidth=D.strokeWidth,b.lineCap=D.strokeLineCap,b.lineDashOffset=D.strokeDashOffset,b.lineJoin=D.strokeLineJoin,b.miterLimit=D.strokeMiterLimit,F.toLive?"percentage"===F.gradientUnits||F.gradientTransform||F.patternTransform?this._applyPatternForTransformedGradient(b,F):(b.strokeStyle=F.toLive(b,this),this._applyPatternGradientTransform(b,F)):b.strokeStyle=D.stroke)},_setFillStyles:function(b,D){var F=D.fill;F&&(F.toLive?(b.fillStyle=F.toLive(b,this),this._applyPatternGradientTransform(b,D.fill)):b.fillStyle=F)},_setClippingProperties:function(b){b.globalAlpha=1,b.strokeStyle="transparent",b.fillStyle="#000000"},_setLineDash:function(b,D){!D||0===D.length||(1&D.length&&D.push.apply(D,D),b.setLineDash(D))},_renderControls:function(b,D){var B,j,X,F=this.getViewportTransform(),R=this.calcTransformMatrix();j=void 0!==(D=D||{}).hasBorders?D.hasBorders:this.hasBorders,X=void 0!==D.hasControls?D.hasControls:this.hasControls,R=x.util.multiplyTransformMatrices(F,R),B=x.util.qrDecompose(R),b.save(),b.translate(B.translateX,B.translateY),b.lineWidth=1*this.borderScaleFactor,this.group||(b.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),b.rotate(f(B.angle)),D.forActiveSelection||this.group?j&&this.drawBordersInGroup(b,B,D):j&&this.drawBorders(b,D),X&&this.drawControls(b,D),b.restore()},_setShadow:function(b){if(this.shadow){var R,D=this.shadow,F=this.canvas,B=F&&F.viewportTransform[0]||1,j=F&&F.viewportTransform[3]||1;R=D.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),F&&F._isRetinaScaling()&&(B*=x.devicePixelRatio,j*=x.devicePixelRatio),b.shadowColor=D.color,b.shadowBlur=D.blur*x.browserShadowBlurConstant*(B+j)*(R.scaleX+R.scaleY)/4,b.shadowOffsetX=D.offsetX*B*R.scaleX,b.shadowOffsetY=D.offsetY*j*R.scaleY}},_removeShadow:function(b){!this.shadow||(b.shadowColor="",b.shadowBlur=b.shadowOffsetX=b.shadowOffsetY=0)},_applyPatternGradientTransform:function(b,D){if(!D||!D.toLive)return{offsetX:0,offsetY:0};var F=D.gradientTransform||D.patternTransform,R=-this.width/2+D.offsetX||0,B=-this.height/2+D.offsetY||0;return"percentage"===D.gradientUnits?b.transform(this.width,0,0,this.height,R,B):b.transform(1,0,0,1,R,B),F&&b.transform(F[0],F[1],F[2],F[3],F[4],F[5]),{offsetX:R,offsetY:B}},_renderPaintInOrder:function(b){"stroke"===this.paintFirst?(this._renderStroke(b),this._renderFill(b)):(this._renderFill(b),this._renderStroke(b))},_render:function(){},_renderFill:function(b){!this.fill||(b.save(),this._setFillStyles(b,this),"evenodd"===this.fillRule?b.fill("evenodd"):b.fill(),b.restore())},_renderStroke:function(b){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(b),b.save(),this.strokeUniform&&this.group){var D=this.getObjectScaling();b.scale(1/D.scaleX,1/D.scaleY)}else this.strokeUniform&&b.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(b,this.strokeDashArray),this._setStrokeStyles(b,this),b.stroke(),b.restore()}},_applyPatternForTransformedGradient:function(b,D){var B,F=this._limitCacheSize(this._getCacheCanvasDimensions()),R=x.util.createCanvasElement(),j=this.canvas.getRetinaScaling(),X=F.x/this.scaleX/j,ne=F.y/this.scaleY/j;R.width=X,R.height=ne,(B=R.getContext("2d")).beginPath(),B.moveTo(0,0),B.lineTo(X,0),B.lineTo(X,ne),B.lineTo(0,ne),B.closePath(),B.translate(X/2,ne/2),B.scale(F.zoomX/this.scaleX/j,F.zoomY/this.scaleY/j),this._applyPatternGradientTransform(B,D),B.fillStyle=D.toLive(b),B.fill(),b.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),b.scale(j*this.scaleX/F.zoomX,j*this.scaleY/F.zoomY),b.strokeStyle=B.createPattern(R,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var b=x.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",b.scaleX),this.set("scaleY",b.scaleY),this.angle=b.angle,this.skewX=b.skewX,this.skewY=0}},_removeTransformMatrix:function(b){var D=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),D=x.util.transformPoint(D,this.transformMatrix)),this.transformMatrix=null,b&&(this.scaleX*=b.scaleX,this.scaleY*=b.scaleY,this.cropX=b.cropX,this.cropY=b.cropY,D.x+=b.offsetLeft,D.y+=b.offsetTop,this.width=b.width,this.height=b.height),this.setPositionByOrigin(D,"center","center")},clone:function(b,D){var F=this.toObject(D);this.constructor.fromObject?this.constructor.fromObject(F,b):x.Object._fromObject("Object",F,b)},cloneAsImage:function(b,D){var F=this.toCanvasElement(D);return b&&b(new x.Image(F)),this},toCanvasElement:function(b){b||(b={});var D=x.util,F=D.saveObjectTransform(this),R=this.group,B=this.shadow,j=Math.abs,X=(b.multiplier||1)*(b.enableRetinaScaling?x.devicePixelRatio:1);delete this.group,b.withoutTransform&&D.resetObjectTransform(this),b.withoutShadow&&(this.shadow=null);var Ge,Oe,Je,ne=x.util.createCanvasElement(),se=this.getBoundingRect(!0,!0),Ae=this.shadow,Ie={x:0,y:0};Ae&&(Oe=Ae.blur,Ge=Ae.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),Ie.x=2*Math.round(j(Ae.offsetX)+Oe)*j(Ge.scaleX),Ie.y=2*Math.round(j(Ae.offsetY)+Oe)*j(Ge.scaleY)),Je=se.height+Ie.y,ne.width=Math.ceil(se.width+Ie.x),ne.height=Math.ceil(Je);var Ze=new x.StaticCanvas(ne,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===b.format&&(Ze.backgroundColor="#fff"),this.setPositionByOrigin(new x.Point(Ze.width/2,Ze.height/2),"center","center");var Mt=this.canvas;Ze.add(this);var It=Ze.toCanvasElement(X||1,b);return this.shadow=B,this.set("canvas",Mt),R&&(this.group=R),this.set(F).setCoords(),Ze._objects=[],Ze.dispose(),Ze=null,It},toDataURL:function(b){return b||(b={}),x.util.toDataURL(this.toCanvasElement(b),b.format||"png",b.quality||1)},isType:function(b){return this.type===b},complexity:function(){return 1},toJSON:function(b){return this.toObject(b)},rotate:function(b){var D=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return D&&this._setOriginToCenter(),this.set("angle",b),D&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(b,D){D=D||this.canvas.getPointer(b);var F=new x.Point(D.x,D.y),R=this._getLeftTopCoords();return this.angle&&(F=x.util.rotatePoint(F,R,f(-this.angle))),{x:F.x-R.x,y:F.y-R.y}},_setupCompositeOperation:function(b){this.globalCompositeOperation&&(b.globalCompositeOperation=this.globalCompositeOperation)}}),x.util.createAccessors&&x.util.createAccessors(x.Object),M(x.Object.prototype,x.Observable),x.Object.NUM_FRACTION_DIGITS=2,x.Object._fromObject=function(b,D,F,R){var B=x[b];D=C(D,!0),x.util.enlivenPatterns([D.fill,D.stroke],function(j){void 0!==j[0]&&(D.fill=j[0]),void 0!==j[1]&&(D.stroke=j[1]),x.util.enlivenObjects([D.clipPath],function(X){D.clipPath=X[0];var ne=R?new B(D[R],D):new B(D);F&&F(ne)})})},x.Object.__uid=0)}(Ke),function(){var I=O.util.degreesToRadians,x={left:-.5,center:0,right:.5},M={top:-.5,center:0,bottom:.5};O.util.object.extend(O.Object.prototype,{translateToGivenOrigin:function(C,_,m,f,y){var D,F,R,S=C.x,b=C.y;return"string"==typeof _?_=x[_]:_-=.5,"string"==typeof f?f=x[f]:f-=.5,"string"==typeof m?m=M[m]:m-=.5,"string"==typeof y?y=M[y]:y-=.5,F=y-m,((D=f-_)||F)&&(R=this._getTransformedDimensions(),S=C.x+D*R.x,b=C.y+F*R.y),new O.Point(S,b)},translateToCenterPoint:function(C,_,m){var f=this.translateToGivenOrigin(C,_,m,"center","center");return this.angle?O.util.rotatePoint(f,C,I(this.angle)):f},translateToOriginPoint:function(C,_,m){var f=this.translateToGivenOrigin(C,"center","center",_,m);return this.angle?O.util.rotatePoint(f,C,I(this.angle)):f},getCenterPoint:function(){var C=new O.Point(this.left,this.top);return this.translateToCenterPoint(C,this.originX,this.originY)},getPointByOrigin:function(C,_){var m=this.getCenterPoint();return this.translateToOriginPoint(m,C,_)},toLocalPoint:function(C,_,m){var y,S,f=this.getCenterPoint();return y=void 0!==_&&void 0!==m?this.translateToGivenOrigin(f,"center","center",_,m):new O.Point(this.left,this.top),S=new O.Point(C.x,C.y),this.angle&&(S=O.util.rotatePoint(S,f,-I(this.angle))),S.subtractEquals(y)},setPositionByOrigin:function(C,_,m){var f=this.translateToCenterPoint(C,_,m),y=this.translateToOriginPoint(f,this.originX,this.originY);this.set("left",y.x),this.set("top",y.y)},adjustPosition:function(C){var S,b,_=I(this.angle),m=this.getScaledWidth(),f=O.util.cos(_)*m,y=O.util.sin(_)*m;this.left+=f*((b="string"==typeof C?x[C]:C-.5)-(S="string"==typeof this.originX?x[this.originX]:this.originX-.5)),this.top+=y*(b-S),this.setCoords(),this.originX=C},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var C=this.getCenterPoint();this.originX="center",this.originY="center",this.left=C.x,this.top=C.y},_resetOrigin:function(){var C=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=C.x,this.top=C.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var x=O.util,M=x.degreesToRadians,C=x.multiplyTransformMatrices,_=x.transformPoint;x.object.extend(O.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(m,f){return f?m?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),m?this.aCoords:this.lineCoords)},getCoords:function(m,f){return function I(m){return[new O.Point(m.tl.x,m.tl.y),new O.Point(m.tr.x,m.tr.y),new O.Point(m.br.x,m.br.y),new O.Point(m.bl.x,m.bl.y)]}(this._getCoords(m,f))},intersectsWithRect:function(m,f,y,S){var b=this.getCoords(y,S);return"Intersection"===O.Intersection.intersectPolygonRectangle(b,m,f).status},intersectsWithObject:function(m,f,y){return"Intersection"===O.Intersection.intersectPolygonPolygon(this.getCoords(f,y),m.getCoords(f,y)).status||m.isContainedWithinObject(this,f,y)||this.isContainedWithinObject(m,f,y)},isContainedWithinObject:function(m,f,y){for(var S=this.getCoords(f,y),D=0,F=m._getImageLines(f?m.aCoords:m.lineCoords);D<4;D++)if(!m.containsPoint(S[D],F))return!1;return!0},isContainedWithinRect:function(m,f,y,S){var b=this.getBoundingRect(y,S);return b.left>=m.x&&b.left+b.width<=f.x&&b.top>=m.y&&b.top+b.height<=f.y},containsPoint:function(m,D,y,S){var b=this._getCoords(y,S),F=(D=D||this._getImageLines(b),this._findCrossPoints(m,D));return 0!==F&&F%2==1},isOnScreen:function(m){if(!this.canvas)return!1;var f=this.canvas.vptCoords.tl,y=this.canvas.vptCoords.br;return!(!this.getCoords(!0,m).some(function(b){return b.x<=y.x&&b.x>=f.x&&b.y<=y.y&&b.y>=f.y})&&!this.intersectsWithRect(f,y,!0,m))||this._containsCenterOfCanvas(f,y,m)},_containsCenterOfCanvas:function(m,f,y){return!!this.containsPoint({x:(m.x+f.x)/2,y:(m.y+f.y)/2},null,!0,y)},isPartiallyOnScreen:function(m){if(!this.canvas)return!1;var f=this.canvas.vptCoords.tl,y=this.canvas.vptCoords.br;return!!this.intersectsWithRect(f,y,!0,m)||this.getCoords(!0,m).every(function(b){return(b.x>=y.x||b.x<=f.x)&&(b.y>=y.y||b.y<=f.y)})&&this._containsCenterOfCanvas(f,y,m)},_getImageLines:function(m){return{topline:{o:m.tl,d:m.tr},rightline:{o:m.tr,d:m.br},bottomline:{o:m.br,d:m.bl},leftline:{o:m.bl,d:m.tl}}},_findCrossPoints:function(m,f){var S,b,D,F,B,R=0;for(var j in f)if(!((B=f[j]).o.y<m.y&&B.d.y<m.y||B.o.y>=m.y&&B.d.y>=m.y||(B.o.x===B.d.x&&B.o.x>=m.x?F=B.o.x:(S=(B.d.y-B.o.y)/(B.d.x-B.o.x),b=m.y-0*m.x,D=B.o.y-S*B.o.x,F=-(b-D)/(0-S)),F>=m.x&&(R+=1),2!==R)))break;return R},getBoundingRect:function(m,f){var y=this.getCoords(m,f);return x.makeBoundingBoxFromPoints(y)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(m){return Math.abs(m)<this.minScaleLimit?m<0?-this.minScaleLimit:this.minScaleLimit:0===m?1e-4:m},scale:function(m){return this._set("scaleX",m),this._set("scaleY",m),this.setCoords()},scaleToWidth:function(m,f){var y=this.getBoundingRect(f).width/this.getScaledWidth();return this.scale(m/this.width/y)},scaleToHeight:function(m,f){var y=this.getBoundingRect(f).height/this.getScaledHeight();return this.scale(m/this.height/y)},calcCoords:function(m){return m?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var m=this.getViewportTransform(),f=this.padding,y=M(this.angle),D=x.cos(y)*f,F=x.sin(y)*f,R=D+F,B=D-F,j=this.calcACoords(),X={tl:_(j.tl,m),tr:_(j.tr,m),bl:_(j.bl,m),br:_(j.br,m)};return f&&(X.tl.x-=B,X.tl.y-=R,X.tr.x+=R,X.tr.y-=B,X.bl.x-=R,X.bl.y+=B,X.br.x+=B,X.br.y+=R),X},calcOCoords:function(){var m=this._calcRotateMatrix(),f=this._calcTranslateMatrix(),y=this.getViewportTransform(),S=C(y,f),b=C(S,m),D=(b=C(b,[1/y[0],0,0,1/y[3],0,0]),this._calculateCurrentDimensions()),F={};return this.forEachControl(function(R,B,j){F[B]=R.positionHandler(D,b,j)}),F},calcACoords:function(){var m=this._calcRotateMatrix(),f=this._calcTranslateMatrix(),y=C(f,m),S=this._getTransformedDimensions(),b=S.x/2,D=S.y/2;return{tl:_({x:-b,y:-D},y),tr:_({x:b,y:-D},y),bl:_({x:-b,y:D},y),br:_({x:b,y:D},y)}},setCoords:function(m){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),m||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return x.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var m=this.getCenterPoint();return[1,0,0,1,m.x,m.y]},transformMatrixKey:function(m){var f="_",y="";return!m&&this.group&&(y=this.group.transformMatrixKey(m)+f),y+this.top+f+this.left+f+this.scaleX+f+this.scaleY+f+this.skewX+f+this.skewY+f+this.angle+f+this.originX+f+this.originY+f+this.width+f+this.height+f+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(m){var f=this.calcOwnMatrix();if(m||!this.group)return f;var y=this.transformMatrixKey(m),S=this.matrixCache||(this.matrixCache={});return S.key===y?S.value:(this.group&&(f=C(this.group.calcTransformMatrix(!1),f)),S.key=y,S.value=f,f)},calcOwnMatrix:function(){var m=this.transformMatrixKey(!0),f=this.ownMatrixCache||(this.ownMatrixCache={});if(f.key===m)return f.value;var y=this._calcTranslateMatrix(),S={angle:this.angle,translateX:y[4],translateY:y[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return f.key=m,f.value=x.composeMatrix(S),f.value},_calcDimensionsTransformMatrix:function(m,f,y){return x.calcDimensionsMatrix({skewX:m,skewY:f,scaleX:this.scaleX*(y&&this.flipX?-1:1),scaleY:this.scaleY*(y&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var m=this.strokeWidth;return{x:this.width+m,y:this.height+m}},_getTransformedDimensions:function(m,f){void 0===m&&(m=this.skewX),void 0===f&&(f=this.skewY);var y,S,b,D=0===m&&0===f;if(this.strokeUniform?(S=this.width,b=this.height):(S=(y=this._getNonTransformedDimensions()).x,b=y.y),D)return this._finalizeDimensions(S*this.scaleX,b*this.scaleY);var F=x.sizeAfterTransform(S,b,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:m,skewY:f});return this._finalizeDimensions(F.x,F.y)},_finalizeDimensions:function(m,f){return this.strokeUniform?{x:m+this.strokeWidth,y:f+this.strokeWidth}:{x:m,y:f}},_calculateCurrentDimensions:function(){var m=this.getViewportTransform(),f=this._getTransformedDimensions();return _(f,m,!0).scalarAdd(2*this.padding)}})}(),O.util.object.extend(O.Object.prototype,{sendToBack:function(){return this.group?O.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?O.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(I){return this.group?O.StaticCanvas.prototype.sendBackwards.call(this.group,this,I):this.canvas&&this.canvas.sendBackwards(this,I),this},bringForward:function(I){return this.group?O.StaticCanvas.prototype.bringForward.call(this.group,this,I):this.canvas&&this.canvas.bringForward(this,I),this},moveTo:function(I){return this.group&&"activeSelection"!==this.group.type?O.StaticCanvas.prototype.moveTo.call(this.group,this,I):this.canvas&&this.canvas.moveTo(this,I),this}}),function(){function I(M,C){if(C){if(C.toLive)return M+": url(#SVGID_"+C.id+"); ";var _=new O.Color(C),m=M+": "+_.toRgb()+"; ",f=_.getAlpha();return 1!==f&&(m+=M+"-opacity: "+f.toString()+"; "),m}return M+": none; "}var x=O.util.toFixed;O.util.object.extend(O.Object.prototype,{getSvgStyles:function(M){var C=this.fillRule?this.fillRule:"nonzero",_=this.strokeWidth?this.strokeWidth:"0",m=this.strokeDashArray?this.strokeDashArray.join(" "):"none",f=this.strokeDashOffset?this.strokeDashOffset:"0",y=this.strokeLineCap?this.strokeLineCap:"butt",S=this.strokeLineJoin?this.strokeLineJoin:"miter",b=this.strokeMiterLimit?this.strokeMiterLimit:"4",D=void 0!==this.opacity?this.opacity:"1",F=this.visible?"":" visibility: hidden;",R=M?"":this.getSvgFilter(),B=I("fill",this.fill);return[I("stroke",this.stroke),"stroke-width: ",_,"; ","stroke-dasharray: ",m,"; ","stroke-linecap: ",y,"; ","stroke-dashoffset: ",f,"; ","stroke-linejoin: ",S,"; ","stroke-miterlimit: ",b,"; ",B,"fill-rule: ",C,"; ","opacity: ",D,";",R,F].join("")},getSvgSpanStyles:function(M,C){var _="; ",f=M.fontFamily?"font-family: "+(-1===M.fontFamily.indexOf("'")&&-1===M.fontFamily.indexOf('"')?"'"+M.fontFamily+"'":M.fontFamily)+_:"",m=M.strokeWidth?"stroke-width: "+M.strokeWidth+_:"",y=(f=f,M.fontSize?"font-size: "+M.fontSize+"px"+_:""),S=M.fontStyle?"font-style: "+M.fontStyle+_:"",b=M.fontWeight?"font-weight: "+M.fontWeight+_:"",D=M.fill?I("fill",M.fill):"",F=M.stroke?I("stroke",M.stroke):"",R=this.getSvgTextDecoration(M);return R&&(R="text-decoration: "+R+_),[F,m,f,y,S,b,R,D,M.deltaY?"baseline-shift: "+-M.deltaY+"; ":"",C?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(M){return["overline","underline","line-through"].filter(function(C){return M[C.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(M,C){var _=M?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+O.util.matrixToSVG(_)+(C||"")+'" '},_setSVGBg:function(M){if(this.backgroundColor){var C=O.Object.NUM_FRACTION_DIGITS;M.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',x(-this.width/2,C),'" y="',x(-this.height/2,C),'" width="',x(this.width,C),'" height="',x(this.height,C),'"></rect>\n')}},toSVG:function(M){return this._createBaseSVGMarkup(this._toSVG(M),{reviver:M})},toClipPathSVG:function(M){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(M),{reviver:M})},_createBaseClipPathSVGMarkup:function(M,C){var _=(C=C||{}).reviver,f=[this.getSvgTransform(!0,C.additionalTransform||""),this.getSvgCommons()].join(""),y=M.indexOf("COMMON_PARTS");return M[y]=f,_?_(M.join("")):M.join("")},_createBaseSVGMarkup:function(M,C){var j,ne,_=(C=C||{}).noStyle,m=C.reviver,f=_?"":'style="'+this.getSvgStyles()+'" ',y=C.withShadow?'style="'+this.getSvgFilter()+'" ':"",S=this.clipPath,b=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",D=S&&S.absolutePositioned,F=this.stroke,R=this.fill,B=this.shadow,X=[],se=M.indexOf("COMMON_PARTS"),Ae=C.additionalTransform;return S&&(S.clipPathId="CLIPPATH_"+O.Object.__uid++,ne='<clipPath id="'+S.clipPathId+'" >\n'+S.toClipPathSVG(m)+"</clipPath>\n"),D&&X.push("<g ",y,this.getSvgCommons()," >\n"),X.push("<g ",this.getSvgTransform(!1),D?"":y+this.getSvgCommons()," >\n"),j=[f,b,_?"":this.addPaintOrder()," ",Ae?'transform="'+Ae+'" ':""].join(""),M[se]=j,R&&R.toLive&&X.push(R.toSVG(this)),F&&F.toLive&&X.push(F.toSVG(this)),B&&X.push(B.toSVG(this)),S&&X.push(ne),X.push(M.join("")),X.push("</g>\n"),D&&X.push("</g>\n"),m?m(X.join("")):X.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var I=O.util.object.extend,x="stateProperties";function M(_,m,f){var y={};f.forEach(function(b){y[b]=_[b]}),I(_[m],y,!0)}function C(_,m,f){if(_===m)return!0;if(Array.isArray(_)){if(!Array.isArray(m)||_.length!==m.length)return!1;for(var y=0,S=_.length;y<S;y++)if(!C(_[y],m[y]))return!1;return!0}if(_&&"object"==typeof _){var D,b=Object.keys(_);if(!m||"object"!=typeof m||!f&&b.length!==Object.keys(m).length)return!1;for(y=0,S=b.length;y<S;y++)if("canvas"!==(D=b[y])&&"group"!==D&&!C(_[D],m[D]))return!1;return!0}}O.util.object.extend(O.Object.prototype,{hasStateChanged:function(_){var m="_"+(_=_||x);return Object.keys(this[m]).length<this[_].length||!C(this[m],this,!0)},saveState:function(_){var m=_&&_.propertySet||x,f="_"+m;return this[f]?(M(this,f,this[m]),_&&_.stateProperties&&M(this,f,_.stateProperties),this):this.setupState(_)},setupState:function(_){var m=(_=_||{}).propertySet||x;return _.propertySet=m,this["_"+m]={},this.saveState(_),this}})}(),function(){var I=O.util.degreesToRadians;O.util.object.extend(O.Object.prototype,{_findTargetCorner:function(x,M){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var m,f,b,C=x.x,_=x.y,y=Object.keys(this.oCoords),S=y.length-1;for(this.__corner=0;S>=0;S--)if(this.isControlVisible(b=y[S])&&(f=this._getImageLines(M?this.oCoords[b].touchCorner:this.oCoords[b].corner),0!==(m=this._findCrossPoints({x:C,y:_},f))&&m%2==1))return this.__corner=b,b;return!1},forEachControl:function(x){for(var M in this.controls)x(this.controls[M],M,this)},_setCornerCoords:function(){var x=this.oCoords;for(var M in x){var C=this.controls[M];x[M].corner=C.calcCornerCoords(this.angle,this.cornerSize,x[M].x,x[M].y,!1),x[M].touchCorner=C.calcCornerCoords(this.angle,this.touchCornerSize,x[M].x,x[M].y,!0)}},drawSelectionBackground:function(x){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;x.save();var M=this.getCenterPoint(),C=this._calculateCurrentDimensions(),_=this.canvas.viewportTransform;return x.translate(M.x,M.y),x.scale(1/_[0],1/_[3]),x.rotate(I(this.angle)),x.fillStyle=this.selectionBackgroundColor,x.fillRect(-C.x/2,-C.y/2,C.x,C.y),x.restore(),this},drawBorders:function(x,M){M=M||{};var C=this._calculateCurrentDimensions(),_=this.borderScaleFactor,m=C.x+_,f=C.y+_,y=void 0!==M.hasControls?M.hasControls:this.hasControls,S=!1;return x.save(),x.strokeStyle=M.borderColor||this.borderColor,this._setLineDash(x,M.borderDashArray||this.borderDashArray),x.strokeRect(-m/2,-f/2,m,f),y&&(x.beginPath(),this.forEachControl(function(b,D,F){b.withConnection&&b.getVisibility(F,D)&&(S=!0,x.moveTo(b.x*m,b.y*f),x.lineTo(b.x*m+b.offsetX,b.y*f+b.offsetY))}),S&&x.stroke()),x.restore(),this},drawBordersInGroup:function(x,M,C){C=C||{};var _=O.util.sizeAfterTransform(this.width,this.height,M),m=this.strokeWidth,f=this.strokeUniform,y=this.borderScaleFactor,S=_.x+m*(f?this.canvas.getZoom():M.scaleX)+y,b=_.y+m*(f?this.canvas.getZoom():M.scaleY)+y;return x.save(),this._setLineDash(x,C.borderDashArray||this.borderDashArray),x.strokeStyle=C.borderColor||this.borderColor,x.strokeRect(-S/2,-b/2,S,b),x.restore(),this},drawControls:function(x,M){M=M||{},x.save();var _,m,C=this.canvas.getRetinaScaling();return x.setTransform(C,0,0,C,0,0),x.strokeStyle=x.fillStyle=M.cornerColor||this.cornerColor,this.transparentCorners||(x.strokeStyle=M.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(x,M.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(_=this.group.calcTransformMatrix()),this.forEachControl(function(f,y,S){m=S.oCoords[y],f.getVisibility(S,y)&&(_&&(m=O.util.transformPoint(m,_)),f.render(x,m.x,m.y,M,S))}),x.restore(),this},isControlVisible:function(x){return this.controls[x]&&this.controls[x].getVisibility(this,x)},setControlVisible:function(x,M){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[x]=M,this},setControlsVisibility:function(x){for(var M in x||(x={}),x)this.setControlVisible(M,x[M]);return this},onDeselect:function(){},onSelect:function(){}})}(),O.util.object.extend(O.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(I,x){var M=function(){},C=(x=x||{}).onComplete||M,_=x.onChange||M,m=this;return O.util.animate({startValue:I.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(f){I.set("left",f),m.requestRenderAll(),_()},onComplete:function(){I.setCoords(),C()}}),this},fxCenterObjectV:function(I,x){var M=function(){},C=(x=x||{}).onComplete||M,_=x.onChange||M,m=this;return O.util.animate({startValue:I.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(f){I.set("top",f),m.requestRenderAll(),_()},onComplete:function(){I.setCoords(),C()}}),this},fxRemove:function(I,x){var M=function(){},C=(x=x||{}).onComplete||M,_=x.onChange||M,m=this;return O.util.animate({startValue:I.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(f){I.set("opacity",f),m.requestRenderAll(),_()},onComplete:function(){m.remove(I),C()}}),this}}),O.util.object.extend(O.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var x,I=[];for(x in arguments[0])I.push(x);for(var C=0,_=I.length;C<_;C++)this._animate(x=I[C],arguments[0][x],arguments[1],C!==_-1)}else this._animate.apply(this,arguments);return this},_animate:function(I,x,M,C){var m,_=this;x=x.toString(),M=M?O.util.object.clone(M):{},~I.indexOf(".")&&(m=I.split("."));var f=_.colorProperties.indexOf(I)>-1||m&&_.colorProperties.indexOf(m[1])>-1,y=m?this.get(m[0])[m[1]]:this.get(I);"from"in M||(M.from=y),f||(x=~x.indexOf("=")?y+parseFloat(x.replace("=","")):parseFloat(x));var S={startValue:M.from,endValue:x,byValue:M.by,easing:M.easing,duration:M.duration,abort:M.abort&&function(b,D,F){return M.abort.call(_,b,D,F)},onChange:function(b,D,F){m?_[m[0]][m[1]]=b:_.set(I,b),!C&&M.onChange&&M.onChange(b,D,F)},onComplete:function(b,D,F){C||(_.setCoords(),M.onComplete&&M.onComplete(b,D,F))}};return f?O.util.animateColor(S.startValue,S.endValue,S.duration,S):O.util.animate(S)}}),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.object.extend,C=x.util.object.clone,_={x1:1,x2:1,y1:1,y2:1};function m(f,y){var S=f.origin,b=f.axis1,D=f.axis2,F=f.dimension,R=y.nearest,B=y.center,j=y.farthest;return function(){switch(this.get(S)){case R:return Math.min(this.get(b),this.get(D));case B:return Math.min(this.get(b),this.get(D))+.5*this.get(F);case j:return Math.max(this.get(b),this.get(D))}}}x.Line?x.warn("fabric.Line is already defined"):(x.Line=x.util.createClass(x.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:x.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(f,y){f||(f=[0,0,0,0]),this.callSuper("initialize",y),this.set("x1",f[0]),this.set("y1",f[1]),this.set("x2",f[2]),this.set("y2",f[3]),this._setWidthHeight(y)},_setWidthHeight:function(f){f||(f={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in f?f.left:this._getLeftToOriginX(),this.top="top"in f?f.top:this._getTopToOriginY()},_set:function(f,y){return this.callSuper("_set",f,y),void 0!==_[f]&&this._setWidthHeight(),this},_getLeftToOriginX:m({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:m({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(f){f.beginPath();var y=this.calcLinePoints();f.moveTo(y.x1,y.y1),f.lineTo(y.x2,y.y2),f.lineWidth=this.strokeWidth;var S=f.strokeStyle;f.strokeStyle=this.stroke||f.fillStyle,this.stroke&&this._renderStroke(f),f.strokeStyle=S},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(f){return M(this.callSuper("toObject",f),this.calcLinePoints())},_getNonTransformedDimensions:function(){var f=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(f.y-=this.strokeWidth),0===this.height&&(f.x-=this.strokeWidth)),f},calcLinePoints:function(){var f=this.x1<=this.x2?-1:1,y=this.y1<=this.y2?-1:1;return{x1:f*this.width*.5,x2:f*this.width*-.5,y1:y*this.height*.5,y2:y*this.height*-.5}},_toSVG:function(){var f=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',f.x1,'" y1="',f.y1,'" x2="',f.x2,'" y2="',f.y2,'" />\n']}}),x.Line.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),x.Line.fromElement=function(f,y,S){S=S||{};var b=x.parseAttributes(f,x.Line.ATTRIBUTE_NAMES);y(new x.Line([b.x1||0,b.y1||0,b.x2||0,b.y2||0],M(b,S)))},x.Line.fromObject=function(f,y){var b=C(f,!0);b.points=[f.x1,f.y1,f.x2,f.y2],x.Object._fromObject("Line",b,function S(D){delete D.points,y&&y(D)},"points")})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=Math.PI;x.Circle?x.warn("fabric.Circle is already defined."):(x.Circle=x.util.createClass(x.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*M,cacheProperties:x.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(_,m){return this.callSuper("_set",_,m),"radius"===_&&this.setRadius(m),this},toObject:function(_){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(_))},_toSVG:function(){var _,y=(this.endAngle-this.startAngle)%(2*M);if(0===y)_=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var S=x.util.cos(this.startAngle)*this.radius,b=x.util.sin(this.startAngle)*this.radius,D=x.util.cos(this.endAngle)*this.radius,F=x.util.sin(this.endAngle)*this.radius;_=['<path d="M '+S+" "+b," A "+this.radius+" "+this.radius," 0 ",+(y>M?"1":"0")+" 1"," "+D+" "+F,'" ',"COMMON_PARTS"," />\n"]}return _},_render:function(_){_.beginPath(),_.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(_)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(_){return this.radius=_,this.set("width",2*_).set("height",2*_)}}),x.Circle.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),x.Circle.fromElement=function(_,m){var f=x.parseAttributes(_,x.Circle.ATTRIBUTE_NAMES);if(!function C(_){return"radius"in _&&_.radius>=0}(f))throw new Error("value of `r` attribute is required and can not be negative");f.left=(f.left||0)-f.radius,f.top=(f.top||0)-f.radius,m(new x.Circle(f))},x.Circle.fromObject=function(_,m){x.Object._fromObject("Circle",_,m)})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={});x.Triangle?x.warn("fabric.Triangle is already defined"):(x.Triangle=x.util.createClass(x.Object,{type:"triangle",width:100,height:100,_render:function(M){var C=this.width/2,_=this.height/2;M.beginPath(),M.moveTo(-C,_),M.lineTo(0,-_),M.lineTo(C,_),M.closePath(),this._renderPaintInOrder(M)},_toSVG:function(){var M=this.width/2,C=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-M+" "+C,"0 "+-C,M+" "+C].join(","),'" />']}}),x.Triangle.fromObject=function(M,C){return x.Object._fromObject("Triangle",M,C)})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=2*Math.PI;x.Ellipse?x.warn("fabric.Ellipse is already defined."):(x.Ellipse=x.util.createClass(x.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:x.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(C){this.callSuper("initialize",C),this.set("rx",C&&C.rx||0),this.set("ry",C&&C.ry||0)},_set:function(C,_){switch(this.callSuper("_set",C,_),C){case"rx":this.rx=_,this.set("width",2*_);break;case"ry":this.ry=_,this.set("height",2*_)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(C){return this.callSuper("toObject",["rx","ry"].concat(C))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(C){C.beginPath(),C.save(),C.transform(1,0,0,this.ry/this.rx,0,0),C.arc(0,0,this.rx,0,M,!1),C.restore(),this._renderPaintInOrder(C)}}),x.Ellipse.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),x.Ellipse.fromElement=function(C,_){var m=x.parseAttributes(C,x.Ellipse.ATTRIBUTE_NAMES);m.left=(m.left||0)-m.rx,m.top=(m.top||0)-m.ry,_(new x.Ellipse(m))},x.Ellipse.fromObject=function(C,_){x.Object._fromObject("Ellipse",C,_)})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.object.extend;x.Rect?x.warn("fabric.Rect is already defined"):(x.Rect=x.util.createClass(x.Object,{stateProperties:x.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:x.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(C){this.callSuper("initialize",C),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(C){var _=this.rx?Math.min(this.rx,this.width/2):0,m=this.ry?Math.min(this.ry,this.height/2):0,f=this.width,y=this.height,S=-this.width/2,b=-this.height/2,D=0!==_||0!==m,F=.4477152502;C.beginPath(),C.moveTo(S+_,b),C.lineTo(S+f-_,b),D&&C.bezierCurveTo(S+f-F*_,b,S+f,b+F*m,S+f,b+m),C.lineTo(S+f,b+y-m),D&&C.bezierCurveTo(S+f,b+y-F*m,S+f-F*_,b+y,S+f-_,b+y),C.lineTo(S+_,b+y),D&&C.bezierCurveTo(S+F*_,b+y,S,b+y-F*m,S,b+y-m),C.lineTo(S,b+m),D&&C.bezierCurveTo(S,b+F*m,S+F*_,b,S+_,b),C.closePath(),this._renderPaintInOrder(C)},toObject:function(C){return this.callSuper("toObject",["rx","ry"].concat(C))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),x.Rect.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),x.Rect.fromElement=function(C,_,m){if(!C)return _(null);m=m||{};var f=x.parseAttributes(C,x.Rect.ATTRIBUTE_NAMES);f.left=f.left||0,f.top=f.top||0,f.height=f.height||0,f.width=f.width||0;var y=new x.Rect(M(m?x.util.object.clone(m):{},f));y.visible=y.visible&&y.width>0&&y.height>0,_(y)},x.Rect.fromObject=function(C,_){return x.Object._fromObject("Rect",C,_)})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.object.extend,C=x.util.array.min,_=x.util.array.max,m=x.util.toFixed;x.Polyline?x.warn("fabric.Polyline is already defined"):(x.Polyline=x.util.createClass(x.Object,{type:"polyline",points:null,cacheProperties:x.Object.prototype.cacheProperties.concat("points"),initialize:function(f,y){y=y||{},this.points=f||[],this.callSuper("initialize",y),this._setPositionDimensions(y)},_setPositionDimensions:function(f){var S,y=this._calcDimensions(f);this.width=y.width,this.height=y.height,f.fromSVG||(S=this.translateToGivenOrigin({x:y.left-this.strokeWidth/2,y:y.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),void 0===f.left&&(this.left=f.fromSVG?y.left:S.x),void 0===f.top&&(this.top=f.fromSVG?y.top:S.y),this.pathOffset={x:y.left+this.width/2,y:y.top+this.height/2}},_calcDimensions:function(){var f=this.points,y=C(f,"x")||0,S=C(f,"y")||0;return{left:y,top:S,width:(_(f,"x")||0)-y,height:(_(f,"y")||0)-S}},toObject:function(f){return M(this.callSuper("toObject",f),{points:this.points.concat()})},_toSVG:function(){for(var f=[],y=this.pathOffset.x,S=this.pathOffset.y,b=x.Object.NUM_FRACTION_DIGITS,D=0,F=this.points.length;D<F;D++)f.push(m(this.points[D].x-y,b),",",m(this.points[D].y-S,b)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',f.join(""),'" />\n']},commonRender:function(f){var y,S=this.points.length,b=this.pathOffset.x,D=this.pathOffset.y;if(!S||isNaN(this.points[S-1].y))return!1;f.beginPath(),f.moveTo(this.points[0].x-b,this.points[0].y-D);for(var F=0;F<S;F++)f.lineTo((y=this.points[F]).x-b,y.y-D);return!0},_render:function(f){!this.commonRender(f)||this._renderPaintInOrder(f)},complexity:function(){return this.get("points").length}}),x.Polyline.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat(),x.Polyline.fromElementGenerator=function(f){return function(y,S,b){if(!y)return S(null);b||(b={});var D=x.parsePointsAttribute(y.getAttribute("points")),F=x.parseAttributes(y,x[f].ATTRIBUTE_NAMES);F.fromSVG=!0,S(new x[f](D,M(F,b)))}},x.Polyline.fromElement=x.Polyline.fromElementGenerator("Polyline"),x.Polyline.fromObject=function(f,y){return x.Object._fromObject("Polyline",f,y,"points")})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={});x.Polygon?x.warn("fabric.Polygon is already defined"):(x.Polygon=x.util.createClass(x.Polyline,{type:"polygon",_render:function(M){!this.commonRender(M)||(M.closePath(),this._renderPaintInOrder(M))}}),x.Polygon.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat(),x.Polygon.fromElement=x.Polyline.fromElementGenerator("Polygon"),x.Polygon.fromObject=function(M,C){x.Object._fromObject("Polygon",M,C,"points")})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.array.min,C=x.util.array.max,_=x.util.object.extend,m=Object.prototype.toString,f=x.util.toFixed;x.Path?x.warn("fabric.Path is already defined"):(x.Path=x.util.createClass(x.Object,{type:"path",path:null,cacheProperties:x.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:x.Object.prototype.stateProperties.concat("path"),initialize:function(y,S){this.callSuper("initialize",S=S||{}),y||(y=[]);var b="[object Array]"===m.call(y);this.path=x.util.makePathSimpler(b?y:x.util.parsePath(y)),this.path&&x.Polyline.prototype._setPositionDimensions.call(this,S)},_renderPathCommands:function(y){var S,b=0,D=0,F=0,R=0,X=-this.pathOffset.x,ne=-this.pathOffset.y;y.beginPath();for(var se=0,Ae=this.path.length;se<Ae;++se)switch(S=this.path[se],S[0]){case"L":y.lineTo((F=S[1])+X,(R=S[2])+ne);break;case"M":b=F=S[1],D=R=S[2],y.moveTo(F+X,R+ne);break;case"C":y.bezierCurveTo(S[1]+X,S[2]+ne,S[3]+X,S[4]+ne,(F=S[5])+X,(R=S[6])+ne);break;case"Q":y.quadraticCurveTo(S[1]+X,S[2]+ne,S[3]+X,S[4]+ne),F=S[3],R=S[4];break;case"z":case"Z":F=b,R=D,y.closePath()}},_render:function(y){this._renderPathCommands(y),this._renderPaintInOrder(y)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(y){return _(this.callSuper("toObject",y),{path:this.path.map(function(S){return S.slice()})})},toDatalessObject:function(y){var S=this.toObject(["sourcePath"].concat(y));return S.sourcePath&&delete S.path,S},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',x.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var y=x.Object.NUM_FRACTION_DIGITS;return" translate("+f(-this.pathOffset.x,y)+", "+f(-this.pathOffset.y,y)+")"},toClipPathSVG:function(y){var S=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:y,additionalTransform:S})},toSVG:function(y){var S=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:y,additionalTransform:S})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var b,j,y=[],S=[],D=0,F=0,R=0,B=0,X=0,ne=this.path.length;X<ne;++X){switch((b=this.path[X])[0]){case"L":R=b[1],B=b[2],j=[];break;case"M":D=R=b[1],F=B=b[2],j=[];break;case"C":j=x.util.getBoundsOfCurve(R,B,b[1],b[2],b[3],b[4],b[5],b[6]),R=b[5],B=b[6];break;case"Q":j=x.util.getBoundsOfCurve(R,B,b[1],b[2],b[1],b[2],b[3],b[4]),R=b[3],B=b[4];break;case"z":case"Z":R=D,B=F}j.forEach(function(Je){y.push(Je.x),S.push(Je.y)}),y.push(R),S.push(B)}var se=M(y)||0,Ae=M(S)||0;return{left:se,top:Ae,width:(C(y)||0)-se,height:(C(S)||0)-Ae}}}),x.Path.fromObject=function(y,S){"string"==typeof y.sourcePath?x.loadSVGFromURL(y.sourcePath,function(D){var F=D[0];F.setOptions(y),S&&S(F)}):x.Object._fromObject("Path",y,S,"path")},x.Path.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat(["d"]),x.Path.fromElement=function(y,S,b){var D=x.parseAttributes(y,x.Path.ATTRIBUTE_NAMES);D.fromSVG=!0,S(new x.Path(D.d,_(D,b)))})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.array.min,C=x.util.array.max;x.Group||(x.Group=x.util.createClass(x.Object,x.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(_,m,f){m=m||{},this._objects=[],f&&this.callSuper("initialize",m),this._objects=_||[];for(var y=this._objects.length;y--;)this._objects[y].group=this;if(f)this._updateObjectsACoords();else{var S=m&&m.centerPoint;void 0!==m.originX&&(this.originX=m.originX),void 0!==m.originY&&(this.originY=m.originY),S||this._calcBounds(),this._updateObjectsCoords(S),delete m.centerPoint,this.callSuper("initialize",m)}this.setCoords()},_updateObjectsACoords:function(){for(var m=this._objects.length;m--;)this._objects[m].setCoords(!0)},_updateObjectsCoords:function(m){m=m||this.getCenterPoint();for(var f=this._objects.length;f--;)this._updateObjectCoords(this._objects[f],m)},_updateObjectCoords:function(_,m){_.set({left:_.left-m.x,top:_.top-m.y}),_.group=this,_.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(_){var m=!!this.group;return this._restoreObjectsState(),x.util.resetObjectTransform(this),_&&(m&&x.util.removeTransformFromObject(_,this.group.calcTransformMatrix()),this._objects.push(_),_.group=this,_._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,m?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(_){return this._restoreObjectsState(),x.util.resetObjectTransform(this),this.remove(_),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(_){this.dirty=!0,_.group=this,_._set("canvas",this.canvas)},_onObjectRemoved:function(_){this.dirty=!0,delete _.group},_set:function(_,m){var f=this._objects.length;if(this.useSetOnGroup)for(;f--;)this._objects[f].setOnGroup(_,m);if("canvas"===_)for(;f--;)this._objects[f]._set(_,m);x.Object.prototype._set.call(this,_,m)},toObject:function(_){var m=this.includeDefaultValues,f=this._objects.filter(function(S){return!S.excludeFromExport}).map(function(S){var b=S.includeDefaultValues;S.includeDefaultValues=m;var D=S.toObject(_);return S.includeDefaultValues=b,D}),y=x.Object.prototype.toObject.call(this,_);return y.objects=f,y},toDatalessObject:function(_){var m,f=this.sourcePath;if(f)m=f;else{var y=this.includeDefaultValues;m=this._objects.map(function(b){var D=b.includeDefaultValues;b.includeDefaultValues=y;var F=b.toDatalessObject(_);return b.includeDefaultValues=D,F})}var S=x.Object.prototype.toDatalessObject.call(this,_);return S.objects=m,S},render:function(_){this._transformDone=!0,this.callSuper("render",_),this._transformDone=!1},shouldCache:function(){var _=x.Object.prototype.shouldCache.call(this);if(_)for(var m=0,f=this._objects.length;m<f;m++)if(this._objects[m].willDrawShadow())return this.ownCaching=!1,!1;return _},willDrawShadow:function(){if(x.Object.prototype.willDrawShadow.call(this))return!0;for(var _=0,m=this._objects.length;_<m;_++)if(this._objects[_].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(_){for(var m=0,f=this._objects.length;m<f;m++)this._objects[m].render(_);this._drawClipPath(_)},isCacheDirty:function(_){if(this.callSuper("isCacheDirty",_))return!0;if(!this.statefullCache)return!1;for(var m=0,f=this._objects.length;m<f;m++)if(this._objects[m].isCacheDirty(!0)){if(this._cacheCanvas){var y=this.cacheWidth/this.zoomX,S=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-y/2,-S/2,y,S)}return!0}return!1},_restoreObjectsState:function(){var _=this.calcOwnMatrix();return this._objects.forEach(function(m){x.util.addTransformToObject(m,_),delete m.group,m.setCoords()}),this},realizeTransform:function(_,m){return x.util.addTransformToObject(_,m),_},destroy:function(){return this._objects.forEach(function(_){_.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var _=this._objects,m=this.canvas;this._objects=[];var f=this.toObject();delete f.objects;var y=new x.ActiveSelection([]);return y.set(f),y.type="activeSelection",m.remove(this),_.forEach(function(S){S.group=y,S.dirty=!0,m.add(S)}),y.canvas=m,y._objects=_,m._activeObject=y,y.setCoords(),y}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(m){m.setCoords(!0)}),this},_calcBounds:function(_){for(var y,S,b,B,m=[],f=[],D=["tr","br","bl","tl"],F=0,R=this._objects.length,j=D.length;F<R;++F){for(b=(y=this._objects[F]).calcACoords(),B=0;B<j;B++)m.push(b[S=D[B]].x),f.push(b[S].y);y.aCoords=b}this._getBounds(m,f,_)},_getBounds:function(_,m,f){var y=new x.Point(M(_),M(m)),S=new x.Point(C(_),C(m)),b=y.y||0,D=y.x||0,R=S.y-y.y||0;this.width=S.x-y.x||0,this.height=R,f||this.setPositionByOrigin({x:D,y:b},"left","top")},_toSVG:function(_){for(var m=["<g ","COMMON_PARTS"," >\n"],f=0,y=this._objects.length;f<y;f++)m.push("\t\t",this._objects[f].toSVG(_));return m.push("</g>\n"),m},getSvgStyles:function(){var m=this.visible?"":" visibility: hidden;";return[void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",this.getSvgFilter(),m].join("")},toClipPathSVG:function(_){for(var m=[],f=0,y=this._objects.length;f<y;f++)m.push("\t",this._objects[f].toClipPathSVG(_));return this._createBaseClipPathSVGMarkup(m,{reviver:_})}}),x.Group.fromObject=function(_,m){var f=_.objects,y=x.util.object.clone(_,!0);delete y.objects,"string"!=typeof f?x.util.enlivenObjects(f,function(S){x.util.enlivenObjects([_.clipPath],function(b){var D=x.util.object.clone(_,!0);D.clipPath=b[0],delete D.objects,m&&m(new x.Group(S,D,!0))})}):x.loadSVGFromURL(f,function(S){var b=x.util.groupSVGElements(S,_,f);b.set(y),m&&m(b)})})}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={});x.ActiveSelection||(x.ActiveSelection=x.util.createClass(x.Group,{type:"activeSelection",initialize:function(M,C){C=C||{},this._objects=M||[];for(var _=this._objects.length;_--;)this._objects[_].group=this;C.originX&&(this.originX=C.originX),C.originY&&(this.originY=C.originY),this._calcBounds(),this._updateObjectsCoords(),x.Object.prototype.initialize.call(this,C),this.setCoords()},toGroup:function(){var M=this._objects.concat();this._objects=[];var C=x.Object.prototype.toObject.call(this),_=new x.Group([]);if(delete C.type,_.set(C),M.forEach(function(f){f.canvas.remove(f),f.group=_}),_._objects=M,!this.canvas)return _;var m=this.canvas;return m.add(_),m._activeObject=_,_.setCoords(),_},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(M,C,_){M.save(),M.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",M,C),void 0===(_=_||{}).hasControls&&(_.hasControls=!1),_.forActiveSelection=!0;for(var m=0,f=this._objects.length;m<f;m++)this._objects[m]._renderControls(M,_);M.restore()}}),x.ActiveSelection.fromObject=function(M,C){x.util.enlivenObjects(M.objects,function(_){delete M.objects,C&&C(new x.ActiveSelection(_,M,!0))})})}(Ke),function(I){"use strict";var x=O.util.object.extend;I.fabric||(I.fabric={}),I.fabric.Image?O.warn("fabric.Image is already defined."):(O.Image=O.util.createClass(O.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:O.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:O.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(M,C){C||(C={}),this.filters=[],this.cacheKey="texture"+O.Object.__uid++,this.callSuper("initialize",C),this._initElement(M,C)},getElement:function(){return this._element||{}},setElement:function(M,C){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=M,this._originalElement=M,this._initConfig(C),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(M){var C=O.filterBackend;C&&C.evictCachesForKey&&C.evictCachesForKey(M)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(M){O.util.cleanUpJsdomNode(this[M]),this[M]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var M=this.getElement();return{width:M.naturalWidth||M.width,height:M.naturalHeight||M.height}},_stroke:function(M){if(this.stroke&&0!==this.strokeWidth){var C=this.width/2,_=this.height/2;M.beginPath(),M.moveTo(-C,-_),M.lineTo(C,-_),M.lineTo(C,_),M.lineTo(-C,_),M.lineTo(-C,-_),M.closePath()}},toObject:function(M){var C=[];this.filters.forEach(function(m){m&&C.push(m.toObject())});var _=x(this.callSuper("toObject",["cropX","cropY"].concat(M)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:C});return this.resizeFilter&&(_.resizeFilter=this.resizeFilter.toObject()),_},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var _,M=[],C=[],m=this._element,f=-this.width/2,y=-this.height/2,S="",b="";if(!m)return[];if(this.hasCrop()){var D=O.Object.__uid++;M.push('<clipPath id="imageCrop_'+D+'">\n','\t<rect x="'+f+'" y="'+y+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),S=' clip-path="url(#imageCrop_'+D+')" '}if(this.imageSmoothing||(b='" image-rendering="optimizeSpeed'),C.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',f-this.cropX,'" y="',y-this.cropY,'" width="',m.width||m.naturalWidth,'" height="',m.height||m.height,b,'"',S,"></image>\n"),this.stroke||this.strokeDashArray){var F=this.fill;this.fill=null,_=["\t<rect ",'x="',f,'" y="',y,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=F}return"fill"!==this.paintFirst?M.concat(_,C):M.concat(C,_)},getSrc:function(M){var C=M?this._element:this._originalElement;return C?C.toDataURL?C.toDataURL():this.srcFromAttribute?C.getAttribute("src"):C.src:this.src||""},setSrc:function(M,C,_){return O.util.loadImage(M,function(m,f){this.setElement(m,_),this._setWidthHeight(),C&&C(this,f)},this,_&&_.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var M=this.resizeFilter,C=this.minimumScaleTrigger,_=this.getTotalObjectScaling(),m=_.scaleX,f=_.scaleY,y=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!M||m>C&&f>C)return this._element=y,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=m,void(this._lastScaleY=f);O.filterBackend||(O.filterBackend=O.initFilterBackend());var S=O.util.createCanvasElement(),b=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,D=y.width,F=y.height;S.width=D,S.height=F,this._element=S,this._lastScaleX=M.scaleX=m,this._lastScaleY=M.scaleY=f,O.filterBackend.applyFilters([M],y,D,F,this._element,b),this._filterScalingX=S.width/this._originalElement.width,this._filterScalingY=S.height/this._originalElement.height},applyFilters:function(M){if(M=(M=M||this.filters||[]).filter(function(y){return y&&!y.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===M.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var C=this._originalElement,_=C.naturalWidth||C.width,m=C.naturalHeight||C.height;if(this._element===this._originalElement){var f=O.util.createCanvasElement();f.width=_,f.height=m,this._element=f,this._filteredEl=f}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,_,m),this._lastScaleX=1,this._lastScaleY=1;return O.filterBackend||(O.filterBackend=O.initFilterBackend()),O.filterBackend.applyFilters(M,this._originalElement,_,m,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(M){O.util.setImageSmoothing(M,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(M),this._renderPaintInOrder(M)},drawCacheOnCanvas:function(M){O.util.setImageSmoothing(M,this.imageSmoothing),O.Object.prototype.drawCacheOnCanvas.call(this,M)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(M){var C=this._element;if(C){var _=this._filterScalingX,m=this._filterScalingY,f=this.width,y=this.height,S=Math.min,b=Math.max,D=b(this.cropX,0),F=b(this.cropY,0),R=C.naturalWidth||C.width,B=C.naturalHeight||C.height,j=D*_,X=F*m,ne=S(f*_,R-j),se=S(y*m,B-X),Ae=-f/2,Ge=-y/2,Ie=S(f,R/_-D),Oe=S(y,B/m-F);C&&M.drawImage(C,j,X,ne,se,Ae,Ge,Ie,Oe)}},_needsResize:function(){var M=this.getTotalObjectScaling();return M.scaleX!==this._lastScaleX||M.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(M,C){this.setElement(O.util.getById(M),C),O.util.addClass(this.getElement(),O.Image.CSS_CANVAS)},_initConfig:function(M){M||(M={}),this.setOptions(M),this._setWidthHeight(M)},_initFilters:function(M,C){M&&M.length?O.util.enlivenObjects(M,function(_){C&&C(_)},"fabric.Image.filters"):C&&C()},_setWidthHeight:function(M){M||(M={});var C=this.getElement();this.width=M.width||C.naturalWidth||C.width||0,this.height=M.height||C.naturalHeight||C.height||0},parsePreserveAspectRatioAttribute:function(){var F,M=O.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),C=this._element.width,_=this._element.height,m=1,f=1,y=0,S=0,b=0,D=0,R=this.width,B=this.height,j={width:R,height:B};return!M||"none"===M.alignX&&"none"===M.alignY?(m=R/C,f=B/_):("meet"===M.meetOrSlice&&(F=(R-C*(m=f=O.util.findScaleToFit(this._element,j)))/2,"Min"===M.alignX&&(y=-F),"Max"===M.alignX&&(y=F),F=(B-_*f)/2,"Min"===M.alignY&&(S=-F),"Max"===M.alignY&&(S=F)),"slice"===M.meetOrSlice&&(F=C-R/(m=f=O.util.findScaleToCover(this._element,j)),"Mid"===M.alignX&&(b=F/2),"Max"===M.alignX&&(b=F),F=_-B/f,"Mid"===M.alignY&&(D=F/2),"Max"===M.alignY&&(D=F),C=R/m,_=B/f)),{width:C,height:_,scaleX:m,scaleY:f,offsetLeft:y,offsetTop:S,cropX:b,cropY:D}}}),O.Image.CSS_CANVAS="canvas-img",O.Image.prototype.getSvgSrc=O.Image.prototype.getSrc,O.Image.fromObject=function(M,C){var _=O.util.object.clone(M);O.util.loadImage(_.src,function(m,f){f?C&&C(null,!0):O.Image.prototype._initFilters.call(_,_.filters,function(y){_.filters=y||[],O.Image.prototype._initFilters.call(_,[_.resizeFilter],function(S){_.resizeFilter=S[0],O.util.enlivenObjects([_.clipPath],function(b){_.clipPath=b[0];var D=new O.Image(m,_);C(D,!1)})})})},null,_.crossOrigin)},O.Image.fromURL=function(M,C,_){O.util.loadImage(M,function(m,f){C&&C(new O.Image(m,_),f)},null,_&&_.crossOrigin)},O.Image.ATTRIBUTE_NAMES=O.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),O.Image.fromElement=function(M,C,_){var m=O.parseAttributes(M,O.Image.ATTRIBUTE_NAMES);O.Image.fromURL(m["xlink:href"],C,x(_?O.util.object.clone(_):{},m))})}(Ke),O.util.object.extend(O.Object.prototype,{_getAngleValueForStraighten:function(){var I=this.angle%360;return I>0?90*Math.round((I-1)/90):90*Math.round(I/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(I){var x=function(){},M=(I=I||{}).onComplete||x,C=I.onChange||x,_=this;return O.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(m){_.rotate(m),C()},onComplete:function(){_.setCoords(),M()}}),this}}),O.util.object.extend(O.StaticCanvas.prototype,{straightenObject:function(I){return I.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(I){return I.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function I(M,C){var _="precision "+C+" float;\nvoid main(){}",m=M.createShader(M.FRAGMENT_SHADER);return M.shaderSource(m,_),M.compileShader(m),!!M.getShaderParameter(m,M.COMPILE_STATUS)}function x(M){M&&M.tileSize&&(this.tileSize=M.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}O.isWebglSupported=function(M){if(O.isLikelyNode)return!1;M=M||O.WebglFilterBackend.prototype.tileSize;var C=document.createElement("canvas"),_=C.getContext("webgl")||C.getContext("experimental-webgl"),m=!1;if(_){O.maxTextureSize=_.getParameter(_.MAX_TEXTURE_SIZE),m=O.maxTextureSize>=M;for(var f=["highp","mediump","lowp"],y=0;y<3;y++)if(I(_,f[y])){O.webGlPrecision=f[y];break}}return this.isSupported=m,m},O.WebglFilterBackend=x,x.prototype={tileSize:2048,resources:{},setupGLContext:function(M,C){this.dispose(),this.createWebGLCanvas(M,C),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(M,C)},chooseFastestCopyGLTo2DMethod:function(M,C){var m,_=void 0!==window.performance;try{new ImageData(1,1),m=!0}catch(j){m=!1}var f="undefined"!=typeof ArrayBuffer,y="undefined"!=typeof Uint8ClampedArray;if(_&&m&&f&&y){var S=O.util.createCanvasElement(),b=new ArrayBuffer(M*C*4);if(O.forceGLPutImageData)return this.imageBuffer=b,void(this.copyGLTo2D=oe);var F,R,D={imageBuffer:b,destinationWidth:M,destinationHeight:C,targetCanvas:S};S.width=M,S.height=C,F=window.performance.now(),Te.call(D,this.gl,D),R=window.performance.now()-F,F=window.performance.now(),oe.call(D,this.gl,D),R>window.performance.now()-F?(this.imageBuffer=b,this.copyGLTo2D=oe):this.copyGLTo2D=Te}},createWebGLCanvas:function(M,C){var _=O.util.createCanvasElement();_.width=M,_.height=C;var m={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},f=_.getContext("webgl",m);f||(f=_.getContext("experimental-webgl",m)),f&&(f.clearColor(0,0,0,0),this.canvas=_,this.gl=f)},applyFilters:function(M,C,_,m,f,y){var b,S=this.gl;y&&(b=this.getCachedTexture(y,C));var D={originalWidth:C.width||C.originalWidth,originalHeight:C.height||C.originalHeight,sourceWidth:_,sourceHeight:m,destinationWidth:_,destinationHeight:m,context:S,sourceTexture:this.createTexture(S,_,m,!b&&C),targetTexture:this.createTexture(S,_,m),originalTexture:b||this.createTexture(S,_,m,!b&&C),passes:M.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:f},F=S.createFramebuffer();return S.bindFramebuffer(S.FRAMEBUFFER,F),M.forEach(function(R){R&&R.applyTo(D)}),function ce(I){var x=I.targetCanvas,_=I.destinationWidth,m=I.destinationHeight;(x.width!==_||x.height!==m)&&(x.width=_,x.height=m)}(D),this.copyGLTo2D(S,D),S.bindTexture(S.TEXTURE_2D,null),S.deleteTexture(D.sourceTexture),S.deleteTexture(D.targetTexture),S.deleteFramebuffer(F),f.getContext("2d").setTransform(1,0,0,1,0,0),D},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(M,C,_,m){var f=M.createTexture();return M.bindTexture(M.TEXTURE_2D,f),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE),m?M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,m):M.texImage2D(M.TEXTURE_2D,0,M.RGBA,C,_,0,M.RGBA,M.UNSIGNED_BYTE,null),f},getCachedTexture:function(M,C){if(this.textureCache[M])return this.textureCache[M];var _=this.createTexture(this.gl,C.width,C.height,C);return this.textureCache[M]=_,_},evictCachesForKey:function(M){this.textureCache[M]&&(this.gl.deleteTexture(this.textureCache[M]),delete this.textureCache[M])},copyGLTo2D:Te,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var M=this.gl,C={renderer:"",vendor:""};if(!M)return C;var _=M.getExtension("WEBGL_debug_renderer_info");if(_){var m=M.getParameter(_.UNMASKED_RENDERER_WEBGL),f=M.getParameter(_.UNMASKED_VENDOR_WEBGL);m&&(C.renderer=m.toLowerCase()),f&&(C.vendor=f.toLowerCase())}return this.gpuInfo=C,C}}}(),function(){"use strict";var I=function(){};function x(){}O.Canvas2dFilterBackend=x,x.prototype={evictCachesForKey:I,dispose:I,clearWebGLCaches:I,resources:{},applyFilters:function(M,C,_,m,f){var y=f.getContext("2d");y.drawImage(C,0,0,_,m);var D={sourceWidth:_,sourceHeight:m,imageData:y.getImageData(0,0,_,m),originalEl:C,originalImageData:y.getImageData(0,0,_,m),canvasEl:f,ctx:y,filterBackend:this};return M.forEach(function(F){F.applyTo(D)}),(D.imageData.width!==_||D.imageData.height!==m)&&(f.width=D.imageData.width,f.height=D.imageData.height),y.putImageData(D.imageData,0,0),D}}}(),O.Image=O.Image||{},O.Image.filters=O.Image.filters||{},O.Image.filters.BaseFilter=O.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(I){I&&this.setOptions(I)},setOptions:function(I){for(var x in I)this[x]=I[x]},createProgram:function(I,x,M){x=x||this.fragmentSource,M=M||this.vertexSource,"highp"!==O.webGlPrecision&&(x=x.replace(/precision highp float/g,"precision "+O.webGlPrecision+" float"));var C=I.createShader(I.VERTEX_SHADER);if(I.shaderSource(C,M),I.compileShader(C),!I.getShaderParameter(C,I.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+I.getShaderInfoLog(C));var _=I.createShader(I.FRAGMENT_SHADER);if(I.shaderSource(_,x),I.compileShader(_),!I.getShaderParameter(_,I.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+I.getShaderInfoLog(_));var m=I.createProgram();if(I.attachShader(m,C),I.attachShader(m,_),I.linkProgram(m),!I.getProgramParameter(m,I.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+I.getProgramInfoLog(m));var f=this.getAttributeLocations(I,m),y=this.getUniformLocations(I,m)||{};return y.uStepW=I.getUniformLocation(m,"uStepW"),y.uStepH=I.getUniformLocation(m,"uStepH"),{program:m,attributeLocations:f,uniformLocations:y}},getAttributeLocations:function(I,x){return{aPosition:I.getAttribLocation(x,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(I,x,M){var C=x.aPosition,_=I.createBuffer();I.bindBuffer(I.ARRAY_BUFFER,_),I.enableVertexAttribArray(C),I.vertexAttribPointer(C,2,I.FLOAT,!1,0,0),I.bufferData(I.ARRAY_BUFFER,M,I.STATIC_DRAW)},_setupFrameBuffer:function(I){var M,C,x=I.context;I.passes>1?(C=I.destinationHeight,(I.sourceWidth!==(M=I.destinationWidth)||I.sourceHeight!==C)&&(x.deleteTexture(I.targetTexture),I.targetTexture=I.filterBackend.createTexture(x,M,C)),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,I.targetTexture,0)):(x.bindFramebuffer(x.FRAMEBUFFER,null),x.finish())},_swapTextures:function(I){I.passes--,I.pass++;var x=I.targetTexture;I.targetTexture=I.sourceTexture,I.sourceTexture=x},isNeutralState:function(){var I=this.mainParameter,x=O.Image.filters[this.type].prototype;if(I){if(Array.isArray(x[I])){for(var M=x[I].length;M--;)if(this[I][M]!==x[I][M])return!1;return!0}return x[I]===this[I]}return!1},applyTo:function(I){I.webgl?(this._setupFrameBuffer(I),this.applyToWebGL(I),this._swapTextures(I)):this.applyTo2d(I)},retrieveShader:function(I){return I.programCache.hasOwnProperty(this.type)||(I.programCache[this.type]=this.createProgram(I.context)),I.programCache[this.type]},applyToWebGL:function(I){var x=I.context,M=this.retrieveShader(I);x.bindTexture(x.TEXTURE_2D,0===I.pass&&I.originalTexture?I.originalTexture:I.sourceTexture),x.useProgram(M.program),this.sendAttributeData(x,M.attributeLocations,I.aPosition),x.uniform1f(M.uniformLocations.uStepW,1/I.sourceWidth),x.uniform1f(M.uniformLocations.uStepH,1/I.sourceHeight),this.sendUniformData(x,M.uniformLocations),x.viewport(0,0,I.destinationWidth,I.destinationHeight),x.drawArrays(x.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(I,x,M){I.activeTexture(M),I.bindTexture(I.TEXTURE_2D,x),I.activeTexture(I.TEXTURE0)},unbindAdditionalTexture:function(I,x){I.activeTexture(x),I.bindTexture(I.TEXTURE_2D,null),I.activeTexture(I.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(I){this[this.mainParameter]=I},sendUniformData:function(){},createHelpLayer:function(I){if(!I.helpLayer){var x=document.createElement("canvas");x.width=I.sourceWidth,x.height=I.sourceHeight,I.helpLayer=x}},toObject:function(){var I={type:this.type},x=this.mainParameter;return x&&(I[x]=this[x]),I},toJSON:function(){return this.toObject()}}),O.Image.filters.BaseFilter.fromObject=function(I,x){var M=new O.Image.filters[I.type](I);return x&&x(M),M},function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.ColorMatrix=(0,x.util.createClass)(M.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(_){this.callSuper("initialize",_),this.matrix=this.matrix.slice(0)},applyTo2d:function(_){var b,D,F,R,B,f=_.imageData.data,y=f.length,S=this.matrix,j=this.colorsOnly;for(B=0;B<y;B+=4)b=f[B],D=f[B+1],F=f[B+2],j?(f[B]=b*S[0]+D*S[1]+F*S[2]+255*S[4],f[B+1]=b*S[5]+D*S[6]+F*S[7]+255*S[9],f[B+2]=b*S[10]+D*S[11]+F*S[12]+255*S[14]):(f[B]=b*S[0]+D*S[1]+F*S[2]+(R=f[B+3])*S[3]+255*S[4],f[B+1]=b*S[5]+D*S[6]+F*S[7]+R*S[8]+255*S[9],f[B+2]=b*S[10]+D*S[11]+F*S[12]+R*S[13]+255*S[14],f[B+3]=b*S[15]+D*S[16]+F*S[17]+R*S[18]+255*S[19])},getUniformLocations:function(_,m){return{uColorMatrix:_.getUniformLocation(m,"uColorMatrix"),uConstants:_.getUniformLocation(m,"uConstants")}},sendUniformData:function(_,m){var f=this.matrix,S=[f[4],f[9],f[14],f[19]];_.uniformMatrix4fv(m.uColorMatrix,!1,[f[0],f[1],f[2],f[3],f[5],f[6],f[7],f[8],f[10],f[11],f[12],f[13],f[15],f[16],f[17],f[18]]),_.uniform4fv(m.uConstants,S)}}),x.Image.filters.ColorMatrix.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.Brightness=(0,x.util.createClass)(M.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(_){if(0!==this.brightness){var y,f=_.imageData.data,S=f.length,b=Math.round(255*this.brightness);for(y=0;y<S;y+=4)f[y]=f[y]+b,f[y+1]=f[y+1]+b,f[y+2]=f[y+2]+b}},getUniformLocations:function(_,m){return{uBrightness:_.getUniformLocation(m,"uBrightness")}},sendUniformData:function(_,m){_.uniform1f(m.uBrightness,this.brightness)}}),x.Image.filters.Brightness.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.object.extend,C=x.Image.filters;C.Convolute=(0,x.util.createClass)(C.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(m){var f=Math.sqrt(this.matrix.length),y=this.type+"_"+f+"_"+(this.opaque?1:0),S=this.fragmentSource[y];return m.programCache.hasOwnProperty(y)||(m.programCache[y]=this.createProgram(m.context,S)),m.programCache[y]},applyTo2d:function(m){var ne,se,Ae,Ge,Ie,Oe,lt,Je,Ze,Mt,It,xt,Ne,f=m.imageData,y=f.data,S=this.matrix,b=Math.round(Math.sqrt(S.length)),D=Math.floor(b/2),F=f.width,R=f.height,B=m.ctx.createImageData(F,R),j=B.data,X=this.opaque?1:0;for(It=0;It<R;It++)for(Mt=0;Mt<F;Mt++){for(Ie=4*(It*F+Mt),ne=0,se=0,Ae=0,Ge=0,Ne=0;Ne<b;Ne++)for(xt=0;xt<b;xt++)Oe=Mt+xt-D,!((lt=It+Ne-D)<0||lt>=R||Oe<0||Oe>=F)&&(ne+=y[Je=4*(lt*F+Oe)]*(Ze=S[Ne*b+xt]),se+=y[Je+1]*Ze,Ae+=y[Je+2]*Ze,X||(Ge+=y[Je+3]*Ze));j[Ie]=ne,j[Ie+1]=se,j[Ie+2]=Ae,j[Ie+3]=X?y[Ie+3]:Ge}m.imageData=B},getUniformLocations:function(m,f){return{uMatrix:m.getUniformLocation(f,"uMatrix"),uOpaque:m.getUniformLocation(f,"uOpaque"),uHalfSize:m.getUniformLocation(f,"uHalfSize"),uSize:m.getUniformLocation(f,"uSize")}},sendUniformData:function(m,f){m.uniform1fv(f.uMatrix,this.matrix)},toObject:function(){return M(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),x.Image.filters.Convolute.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.Grayscale=(0,x.util.createClass)(M.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(_){var y,b,f=_.imageData.data,S=f.length,D=this.mode;for(y=0;y<S;y+=4)"average"===D?b=(f[y]+f[y+1]+f[y+2])/3:"lightness"===D?b=(Math.min(f[y],f[y+1],f[y+2])+Math.max(f[y],f[y+1],f[y+2]))/2:"luminosity"===D&&(b=.21*f[y]+.72*f[y+1]+.07*f[y+2]),f[y]=b,f[y+1]=b,f[y+2]=b},retrieveShader:function(_){var m=this.type+"_"+this.mode;return _.programCache.hasOwnProperty(m)||(_.programCache[m]=this.createProgram(_.context,this.fragmentSource[this.mode])),_.programCache[m]},getUniformLocations:function(_,m){return{uMode:_.getUniformLocation(m,"uMode")}},sendUniformData:function(_,m){_.uniform1i(m.uMode,1)},isNeutralState:function(){return!1}}),x.Image.filters.Grayscale.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.Invert=(0,x.util.createClass)(M.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(_){var y,f=_.imageData.data,S=f.length;for(y=0;y<S;y+=4)f[y]=255-f[y],f[y+1]=255-f[y+1],f[y+2]=255-f[y+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(_,m){return{uInvert:_.getUniformLocation(m,"uInvert")}},sendUniformData:function(_,m){_.uniform1i(m.uInvert,this.invert)}}),x.Image.filters.Invert.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.object.extend,C=x.Image.filters;C.Noise=(0,x.util.createClass)(C.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(m){if(0!==this.noise){var S,b,F,y=m.imageData.data,D=this.noise;for(S=0,b=y.length;S<b;S+=4)F=(.5-Math.random())*D,y[S]+=F,y[S+1]+=F,y[S+2]+=F}},getUniformLocations:function(m,f){return{uNoise:m.getUniformLocation(f,"uNoise"),uSeed:m.getUniformLocation(f,"uSeed")}},sendUniformData:function(m,f){m.uniform1f(f.uNoise,this.noise/255),m.uniform1f(f.uSeed,Math.random())},toObject:function(){return M(this.callSuper("toObject"),{noise:this.noise})}}),x.Image.filters.Noise.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.Pixelate=(0,x.util.createClass)(M.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(_){var b,D,F,R,B,j,X,ne,se,Ae,Ge,m=_.imageData,f=m.data,y=m.height,S=m.width;for(D=0;D<y;D+=this.blocksize)for(F=0;F<S;F+=this.blocksize)for(R=f[b=4*D*S+4*F],B=f[b+1],j=f[b+2],X=f[b+3],Ae=Math.min(D+this.blocksize,y),Ge=Math.min(F+this.blocksize,S),ne=D;ne<Ae;ne++)for(se=F;se<Ge;se++)f[b=4*ne*S+4*se]=R,f[b+1]=B,f[b+2]=j,f[b+3]=X},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(_,m){return{uBlocksize:_.getUniformLocation(m,"uBlocksize"),uStepW:_.getUniformLocation(m,"uStepW"),uStepH:_.getUniformLocation(m,"uStepH")}},sendUniformData:function(_,m){_.uniform1f(m.uBlocksize,this.blocksize)}}),x.Image.filters.Pixelate.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.object.extend,C=x.Image.filters;C.RemoveColor=(0,x.util.createClass)(C.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(m){var S,D,F,R,y=m.imageData.data,b=255*this.distance,B=new x.Color(this.color).getSource(),j=[B[0]-b,B[1]-b,B[2]-b],X=[B[0]+b,B[1]+b,B[2]+b];for(S=0;S<y.length;S+=4)F=y[S+1],R=y[S+2],(D=y[S])>j[0]&&F>j[1]&&R>j[2]&&D<X[0]&&F<X[1]&&R<X[2]&&(y[S+3]=0)},getUniformLocations:function(m,f){return{uLow:m.getUniformLocation(f,"uLow"),uHigh:m.getUniformLocation(f,"uHigh")}},sendUniformData:function(m,f){var y=new x.Color(this.color).getSource(),S=parseFloat(this.distance),D=[y[0]/255+S,y[1]/255+S,y[2]/255+S,1];m.uniform4fv(f.uLow,[0+y[0]/255-S,0+y[1]/255-S,0+y[2]/255-S,1]),m.uniform4fv(f.uHigh,D)},toObject:function(){return M(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),x.Image.filters.RemoveColor.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters,C=x.util.createClass,_={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var m in _)M[m]=C(M.ColorMatrix,{type:m,matrix:_[m],mainParameter:!1,colorsOnly:!0}),x.Image.filters[m].fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric,M=x.Image.filters;M.BlendColor=(0,x.util.createClass)(M.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(_){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[_]+"}\n}"},retrieveShader:function(_){var f,m=this.type+"_"+this.mode;return _.programCache.hasOwnProperty(m)||(f=this.buildSource(this.mode),_.programCache[m]=this.createProgram(_.context,f)),_.programCache[m]},applyTo2d:function(_){var S,b,D,F,R,B,j,f=_.imageData.data,y=f.length,X=1-this.alpha;S=(j=new x.Color(this.color).getSource())[0]*this.alpha,b=j[1]*this.alpha,D=j[2]*this.alpha;for(var ne=0;ne<y;ne+=4)switch(F=f[ne],R=f[ne+1],B=f[ne+2],this.mode){case"multiply":f[ne]=F*S/255,f[ne+1]=R*b/255,f[ne+2]=B*D/255;break;case"screen":f[ne]=255-(255-F)*(255-S)/255,f[ne+1]=255-(255-R)*(255-b)/255,f[ne+2]=255-(255-B)*(255-D)/255;break;case"add":f[ne]=F+S,f[ne+1]=R+b,f[ne+2]=B+D;break;case"diff":case"difference":f[ne]=Math.abs(F-S),f[ne+1]=Math.abs(R-b),f[ne+2]=Math.abs(B-D);break;case"subtract":f[ne]=F-S,f[ne+1]=R-b,f[ne+2]=B-D;break;case"darken":f[ne]=Math.min(F,S),f[ne+1]=Math.min(R,b),f[ne+2]=Math.min(B,D);break;case"lighten":f[ne]=Math.max(F,S),f[ne+1]=Math.max(R,b),f[ne+2]=Math.max(B,D);break;case"overlay":f[ne]=S<128?2*F*S/255:255-2*(255-F)*(255-S)/255,f[ne+1]=b<128?2*R*b/255:255-2*(255-R)*(255-b)/255,f[ne+2]=D<128?2*B*D/255:255-2*(255-B)*(255-D)/255;break;case"exclusion":f[ne]=S+F-2*S*F/255,f[ne+1]=b+R-2*b*R/255,f[ne+2]=D+B-2*D*B/255;break;case"tint":f[ne]=S+F*X,f[ne+1]=b+R*X,f[ne+2]=D+B*X}},getUniformLocations:function(_,m){return{uColor:_.getUniformLocation(m,"uColor")}},sendUniformData:function(_,m){var f=new x.Color(this.color).getSource();f[0]=this.alpha*f[0]/255,f[1]=this.alpha*f[1]/255,f[2]=this.alpha*f[2]/255,f[3]=this.alpha,_.uniform4fv(m.uColor,f)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),x.Image.filters.BlendColor.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric,M=x.Image.filters;M.BlendImage=(0,x.util.createClass)(M.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(_){var m=this.type+"_"+this.mode,f=this.fragmentSource[this.mode];return _.programCache.hasOwnProperty(m)||(_.programCache[m]=this.createProgram(_.context,f)),_.programCache[m]},applyToWebGL:function(_){var m=_.context,f=this.createTexture(_.filterBackend,this.image);this.bindAdditionalTexture(m,f,m.TEXTURE1),this.callSuper("applyToWebGL",_),this.unbindAdditionalTexture(m,m.TEXTURE1)},createTexture:function(_,m){return _.getCachedTexture(m.cacheKey,m._element)},calculateMatrix:function(){var _=this.image;return[1/_.scaleX,0,0,0,1/_.scaleY,0,-_.left/_._element.width,-_.top/_._element.height,1]},applyTo2d:function(_){var F,R,B,j,X,ne,se,Ae,Ge,Ie,lt,m=_.imageData,f=_.filterBackend.resources,y=m.data,S=y.length,b=m.width,D=m.height,Oe=this.image;f.blendImage||(f.blendImage=x.util.createCanvasElement()),Ie=(Ge=f.blendImage).getContext("2d"),Ge.width!==b||Ge.height!==D?(Ge.width=b,Ge.height=D):Ie.clearRect(0,0,b,D),Ie.setTransform(Oe.scaleX,0,0,Oe.scaleY,Oe.left,Oe.top),Ie.drawImage(Oe._element,0,0,b,D),lt=Ie.getImageData(0,0,b,D).data;for(var Je=0;Je<S;Je+=4)switch(X=y[Je],ne=y[Je+1],se=y[Je+2],Ae=y[Je+3],F=lt[Je],R=lt[Je+1],B=lt[Je+2],j=lt[Je+3],this.mode){case"multiply":y[Je]=X*F/255,y[Je+1]=ne*R/255,y[Je+2]=se*B/255,y[Je+3]=Ae*j/255;break;case"mask":y[Je+3]=j}},getUniformLocations:function(_,m){return{uTransformMatrix:_.getUniformLocation(m,"uTransformMatrix"),uImage:_.getUniformLocation(m,"uImage")}},sendUniformData:function(_,m){var f=this.calculateMatrix();_.uniform1i(m.uImage,1),_.uniformMatrix3fv(m.uTransformMatrix,!1,f)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),x.Image.filters.BlendImage.fromObject=function(_,m){x.Image.fromObject(_.image,function(f){var y=x.util.object.clone(_);y.image=f,m(new x.Image.filters.BlendImage(y))})}}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=Math.pow,C=Math.floor,_=Math.sqrt,m=Math.abs,f=Math.round,y=Math.sin,S=Math.ceil,b=x.Image.filters;b.Resize=(0,x.util.createClass)(b.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(F,R){return{uDelta:F.getUniformLocation(R,"uDelta"),uTaps:F.getUniformLocation(R,"uTaps")}},sendUniformData:function(F,R){F.uniform2fv(R.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),F.uniform1fv(R.uTaps,this.taps)},retrieveShader:function(F){var R=this.getFilterWindow(),B=this.type+"_"+R;if(!F.programCache.hasOwnProperty(B)){var j=this.generateShader(R);F.programCache[B]=this.createProgram(F.context,j)}return F.programCache[B]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var F=this.lanczosCreate(this.lanczosLobes),R=this.tempScale,B=this.getFilterWindow(),j=new Array(B),X=1;X<=B;X++)j[X-1]=F(X*R);return j},generateShader:function(j){for(var R=new Array(j),B=this.fragmentSourceTOP,X=1;X<=j;X++)R[X-1]=X+".0 * uDelta";return B+="uniform float uTaps["+j+"];\n",B+="void main() {\n",B+="  vec4 color = texture2D(uTexture, vTexCoord);\n",B+="  float sum = 1.0;\n",R.forEach(function(ne,se){B+="  color += texture2D(uTexture, vTexCoord + "+ne+") * uTaps["+se+"];\n",B+="  color += texture2D(uTexture, vTexCoord - "+ne+") * uTaps["+se+"];\n",B+="  sum += 2.0 * uTaps["+se+"];\n"}),B+="  gl_FragColor = color / sum;\n",B+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(F){F.webgl?(F.passes++,this.width=F.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=F.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),F.destinationWidth=this.dW,this._setupFrameBuffer(F),this.applyToWebGL(F),this._swapTextures(F),F.sourceWidth=F.destinationWidth,this.height=F.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),F.destinationHeight=this.dH,this._setupFrameBuffer(F),this.applyToWebGL(F),this._swapTextures(F),F.sourceHeight=F.destinationHeight):this.applyTo2d(F)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(F){return function(R){if(R>=F||R<=-F)return 0;if(R<1.1920929e-7&&R>-1.1920929e-7)return 1;var B=(R*=Math.PI)/F;return y(R)/R*y(B)/B}},applyTo2d:function(F){var R=F.imageData,B=this.scaleX,j=this.scaleY;this.rcpScaleX=1/B,this.rcpScaleY=1/j;var Ge,X=R.width,ne=R.height,se=f(X*B),Ae=f(ne*j);"sliceHack"===this.resizeType?Ge=this.sliceByTwo(F,X,ne,se,Ae):"hermite"===this.resizeType?Ge=this.hermiteFastResize(F,X,ne,se,Ae):"bilinear"===this.resizeType?Ge=this.bilinearFiltering(F,X,ne,se,Ae):"lanczos"===this.resizeType&&(Ge=this.lanczosResize(F,X,ne,se,Ae)),F.imageData=Ge},sliceByTwo:function(F,R,B,j,X){var Je,Ze,ne=F.imageData,Ae=!1,Ge=!1,Ie=.5*R,Oe=.5*B,lt=x.filterBackend.resources,Mt=0,It=0,xt=R,Ne=0;for(lt.sliceByTwo||(lt.sliceByTwo=document.createElement("canvas")),((Je=lt.sliceByTwo).width<1.5*R||Je.height<B)&&(Je.width=1.5*R,Je.height=B),(Ze=Je.getContext("2d")).clearRect(0,0,1.5*R,B),Ze.putImageData(ne,0,0),j=C(j),X=C(X);!Ae||!Ge;)R=Ie,B=Oe,j<C(.5*Ie)?Ie=C(.5*Ie):(Ie=j,Ae=!0),X<C(.5*Oe)?Oe=C(.5*Oe):(Oe=X,Ge=!0),Ze.drawImage(Je,Mt,It,R,B,xt,Ne,Ie,Oe),Mt=xt,It=Ne,Ne+=Oe;return Ze.getImageData(Mt,It,j,X)},lanczosResize:function(F,R,B,j,X){var se=F.imageData.data,Ae=F.ctx.createImageData(j,X),Ge=Ae.data,Ie=this.lanczosCreate(this.lanczosLobes),Oe=this.rcpScaleX,lt=this.rcpScaleY,Je=2/this.rcpScaleX,Ze=2/this.rcpScaleY,Mt=S(Oe*this.lanczosLobes/2),It=S(lt*this.lanczosLobes/2),xt={},Ne={},Ee={};return function ne(ue){var Ce,ke,me,ge,Fe,ee,Se,xe,fe,he,Pe;for(Ne.x=(ue+.5)*Oe,Ee.x=C(Ne.x),Ce=0;Ce<X;Ce++){for(Ne.y=(Ce+.5)*lt,Ee.y=C(Ne.y),Fe=0,ee=0,Se=0,xe=0,fe=0,ke=Ee.x-Mt;ke<=Ee.x+Mt;ke++)if(!(ke<0||ke>=R)){he=C(1e3*m(ke-Ne.x)),xt[he]||(xt[he]={});for(var le=Ee.y-It;le<=Ee.y+It;le++)le<0||le>=B||(Pe=C(1e3*m(le-Ne.y)),xt[he][Pe]||(xt[he][Pe]=Ie(_(M(he*Je,2)+M(Pe*Ze,2))/1e3)),(me=xt[he][Pe])>0&&(Fe+=me,ee+=me*se[ge=4*(le*R+ke)],Se+=me*se[ge+1],xe+=me*se[ge+2],fe+=me*se[ge+3]))}Ge[ge=4*(Ce*j+ue)]=ee/Fe,Ge[ge+1]=Se/Fe,Ge[ge+2]=xe/Fe,Ge[ge+3]=fe/Fe}return++ue<j?ne(ue):Ae}(0)},bilinearFiltering:function(F,R,B,j,X){var Ie,Oe,lt,Je,Ze,Mt,It,Ee,Ne=0,ue=this.rcpScaleX,Ce=this.rcpScaleY,ke=4*(R-1),ge=F.imageData.data,Fe=F.ctx.createImageData(j,X),ee=Fe.data;for(lt=0;lt<X;lt++)for(Je=0;Je<j;Je++)for(Ze=ue*Je-(Ie=C(ue*Je)),Mt=Ce*lt-(Oe=C(Ce*lt)),Ee=4*(Oe*R+Ie),It=0;It<4;It++)ee[Ne++]=ge[Ee+It]*(1-Ze)*(1-Mt)+ge[Ee+4+It]*Ze*(1-Mt)+ge[Ee+ke+It]*Mt*(1-Ze)+ge[Ee+ke+4+It]*Ze*Mt;return Fe},hermiteFastResize:function(F,R,B,j,X){for(var ne=this.rcpScaleX,se=this.rcpScaleY,Ae=S(ne/2),Ge=S(se/2),Oe=F.imageData.data,lt=F.ctx.createImageData(j,X),Je=lt.data,Ze=0;Ze<X;Ze++)for(var Mt=0;Mt<j;Mt++){for(var It=4*(Mt+Ze*j),xt=0,Ne=0,Ee=0,ue=0,Ce=0,ke=0,me=0,ge=(Ze+.5)*se,Fe=C(Ze*se);Fe<(Ze+1)*se;Fe++)for(var ee=m(ge-(Fe+.5))/Ge,Se=(Mt+.5)*ne,xe=ee*ee,fe=C(Mt*ne);fe<(Mt+1)*ne;fe++){var he=m(Se-(fe+.5))/Ae,Pe=_(xe+he*he);Pe>1&&Pe<-1||(xt=2*Pe*Pe*Pe-3*Pe*Pe+1)>0&&(me+=xt*Oe[3+(he=4*(fe+Fe*R))],Ee+=xt,Oe[he+3]<255&&(xt=xt*Oe[he+3]/250),ue+=xt*Oe[he],Ce+=xt*Oe[he+1],ke+=xt*Oe[he+2],Ne+=xt)}Je[It]=ue/Ne,Je[It+1]=Ce/Ne,Je[It+2]=ke/Ne,Je[It+3]=me/Ee}return lt},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),x.Image.filters.Resize.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.Contrast=(0,x.util.createClass)(M.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(_){if(0!==this.contrast){var f,y=_.imageData.data,S=y.length,b=Math.floor(255*this.contrast),D=259*(b+255)/(255*(259-b));for(f=0;f<S;f+=4)y[f]=D*(y[f]-128)+128,y[f+1]=D*(y[f+1]-128)+128,y[f+2]=D*(y[f+2]-128)+128}},getUniformLocations:function(_,m){return{uContrast:_.getUniformLocation(m,"uContrast")}},sendUniformData:function(_,m){_.uniform1f(m.uContrast,this.contrast)}}),x.Image.filters.Contrast.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.Saturation=(0,x.util.createClass)(M.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(_){if(0!==this.saturation){var b,D,f=_.imageData.data,y=f.length,S=-this.saturation;for(b=0;b<y;b+=4)D=Math.max(f[b],f[b+1],f[b+2]),f[b]+=D!==f[b]?(D-f[b])*S:0,f[b+1]+=D!==f[b+1]?(D-f[b+1])*S:0,f[b+2]+=D!==f[b+2]?(D-f[b+2])*S:0}},getUniformLocations:function(_,m){return{uSaturation:_.getUniformLocation(m,"uSaturation")}},sendUniformData:function(_,m){_.uniform1f(m.uSaturation,-this.saturation)}}),x.Image.filters.Saturation.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.Vibrance=(0,x.util.createClass)(M.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(_){if(0!==this.vibrance){var b,D,R,f=_.imageData.data,y=f.length,S=-this.vibrance;for(b=0;b<y;b+=4)D=Math.max(f[b],f[b+1],f[b+2]),R=2*Math.abs(D-(f[b]+f[b+1]+f[b+2])/3)/255*S,f[b]+=D!==f[b]?(D-f[b])*R:0,f[b+1]+=D!==f[b+1]?(D-f[b+1])*R:0,f[b+2]+=D!==f[b+2]?(D-f[b+2])*R:0}},getUniformLocations:function(_,m){return{uVibrance:_.getUniformLocation(m,"uVibrance")}},sendUniformData:function(_,m){_.uniform1f(m.uVibrance,-this.vibrance)}}),x.Image.filters.Vibrance.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.Blur=(0,x.util.createClass)(M.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(_){_.webgl?(this.aspectRatio=_.sourceWidth/_.sourceHeight,_.passes++,this._setupFrameBuffer(_),this.horizontal=!0,this.applyToWebGL(_),this._swapTextures(_),this._setupFrameBuffer(_),this.horizontal=!1,this.applyToWebGL(_),this._swapTextures(_)):this.applyTo2d(_)},applyTo2d:function(_){_.imageData=this.simpleBlur(_)},simpleBlur:function(_){var f,y,m=_.filterBackend.resources,S=_.imageData.width,b=_.imageData.height;m.blurLayer1||(m.blurLayer1=x.util.createCanvasElement(),m.blurLayer2=x.util.createCanvasElement()),y=m.blurLayer2,((f=m.blurLayer1).width!==S||f.height!==b)&&(y.width=f.width=S,y.height=f.height=b);var B,j,X,ne,D=f.getContext("2d"),F=y.getContext("2d"),R=15,se=.06*this.blur*.5;for(D.putImageData(_.imageData,0,0),F.clearRect(0,0,S,b),ne=-R;ne<=R;ne++)X=se*(j=ne/R)*S+(B=(Math.random()-.5)/4),F.globalAlpha=1-Math.abs(j),F.drawImage(f,X,B),D.drawImage(y,0,0),F.globalAlpha=1,F.clearRect(0,0,y.width,y.height);for(ne=-R;ne<=R;ne++)X=se*(j=ne/R)*b+(B=(Math.random()-.5)/4),F.globalAlpha=1-Math.abs(j),F.drawImage(f,B,X),D.drawImage(y,0,0),F.globalAlpha=1,F.clearRect(0,0,y.width,y.height);_.ctx.drawImage(f,0,0);var Ae=_.ctx.getImageData(0,0,f.width,f.height);return D.globalAlpha=1,D.clearRect(0,0,f.width,f.height),Ae},getUniformLocations:function(_,m){return{delta:_.getUniformLocation(m,"uDelta")}},sendUniformData:function(_,m){var f=this.chooseRightDelta();_.uniform2fv(m.delta,f)},chooseRightDelta:function(){var f,_=1,m=[0,0];return this.horizontal?this.aspectRatio>1&&(_=1/this.aspectRatio):this.aspectRatio<1&&(_=this.aspectRatio),f=_*this.blur*.12,this.horizontal?m[0]=f:m[1]=f,m}}),M.Blur.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.Gamma=(0,x.util.createClass)(M.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(_){this.gamma=[1,1,1],M.BaseFilter.prototype.initialize.call(this,_)},applyTo2d:function(_){var R,f=_.imageData.data,y=this.gamma,S=f.length,b=1/y[0],D=1/y[1],F=1/y[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),R=0,S=256;R<S;R++)this.rVals[R]=255*Math.pow(R/255,b),this.gVals[R]=255*Math.pow(R/255,D),this.bVals[R]=255*Math.pow(R/255,F);for(R=0,S=f.length;R<S;R+=4)f[R]=this.rVals[f[R]],f[R+1]=this.gVals[f[R+1]],f[R+2]=this.bVals[f[R+2]]},getUniformLocations:function(_,m){return{uGamma:_.getUniformLocation(m,"uGamma")}},sendUniformData:function(_,m){_.uniform3fv(m.uGamma,this.gamma)}}),x.Image.filters.Gamma.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.Composed=(0,x.util.createClass)(M.BaseFilter,{type:"Composed",subFilters:[],initialize:function(_){this.callSuper("initialize",_),this.subFilters=this.subFilters.slice(0)},applyTo:function(_){_.passes+=this.subFilters.length-1,this.subFilters.forEach(function(m){m.applyTo(_)})},toObject:function(){return x.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(_){return _.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(_){return!_.isNeutralState()})}}),x.Image.filters.Composed.fromObject=function(_,m){var y=(_.subFilters||[]).map(function(b){return new x.Image.filters[b.type](b)}),S=new x.Image.filters.Composed({subFilters:y});return m&&m(S),S}}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.Image.filters;M.HueRotation=(0,x.util.createClass)(M.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var _=this.rotation*Math.PI,m=x.util.cos(_),f=x.util.sin(_),y=1/3,S=Math.sqrt(y)*f,b=1-m;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=m+b/3,this.matrix[1]=y*b-S,this.matrix[2]=y*b+S,this.matrix[5]=y*b+S,this.matrix[6]=m+y*b,this.matrix[7]=y*b-S,this.matrix[10]=y*b-S,this.matrix[11]=y*b+S,this.matrix[12]=m+y*b},isNeutralState:function(_){return this.calculateMatrix(),M.BaseFilter.prototype.isNeutralState.call(this,_)},applyTo:function(_){this.calculateMatrix(),M.BaseFilter.prototype.applyTo.call(this,_)}}),x.Image.filters.HueRotation.fromObject=x.Image.filters.BaseFilter.fromObject}(Ke),function(I){"use strict";var x=I.fabric||(I.fabric={}),M=x.util.object.clone;if(x.Text)x.warn("fabric.Text is already defined");else{var C="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");x.Text=x.util.createClass(x.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:x.Object.prototype.stateProperties.concat(C),cacheProperties:x.Object.prototype.cacheProperties.concat(C),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(_,m){this.styles=m&&m.styles||{},this.text=_,this.__skipDimension=!0,this.callSuper("initialize",m),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var _=this.path;_&&(_.segmentsInfo=x.util.getPathSegmentsInfo(_.path))},getMeasuringContext:function(){return x._measuringContext||(x._measuringContext=this.canvas&&this.canvas.contextCache||x.util.createCanvasElement().getContext("2d")),x._measuringContext},_splitText:function(){var _=this._splitTextIntoLines(this.text);return this.textLines=_.lines,this._textLines=_.graphemeLines,this._unwrappedTextLines=_._unwrappedLines,this._text=_.graphemeText,_},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var _,m,y,S,b,D,F=0,R=this._textLines.length;F<R;F++)if(("justify"===this.textAlign||F!==R-1&&!this.isEndOfWrapping(F))&&(y=0,S=this._textLines[F],(m=this.getLineWidth(F))<this.width&&(D=this.textLines[F].match(this._reSpacesAndTabs)))){_=(this.width-m)/D.length;for(var B=0,j=S.length;B<=j;B++)b=this.__charBounds[F][B],this._reSpaceAndTab.test(S[B])?(b.width+=_,b.kernedWidth+=_,b.left+=y,y+=_):b.left+=y}},isEndOfWrapping:function(_){return _===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var _=this.callSuper("_getCacheCanvasDimensions"),m=this.fontSize;return _.width+=m*_.zoomX,_.height+=m*_.zoomY,_},_render:function(_){var m=this.path;m&&!m.isNotVisible()&&m._render(_),this._setTextStyles(_),this._renderTextLinesBackground(_),this._renderTextDecoration(_,"underline"),this._renderText(_),this._renderTextDecoration(_,"overline"),this._renderTextDecoration(_,"linethrough")},_renderText:function(_){"stroke"===this.paintFirst?(this._renderTextStroke(_),this._renderTextFill(_)):(this._renderTextFill(_),this._renderTextStroke(_))},_setTextStyles:function(_,m,f){_.textBaseline="alphabetic",_.font=this._getFontDeclaration(m,f)},calcTextWidth:function(){for(var _=this.getLineWidth(0),m=1,f=this._textLines.length;m<f;m++){var y=this.getLineWidth(m);y>_&&(_=y)}return _},_renderTextLine:function(_,m,f,y,S,b){this._renderChars(_,m,f,y,S,b)},_renderTextLinesBackground:function(_){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var m,f,S,b,j,X,se,y=_.fillStyle,D=this._getLeftOffset(),F=this._getTopOffset(),R=0,B=0,ne=this.path,Ae=0,Ge=this._textLines.length;Ae<Ge;Ae++)if(m=this.getHeightOfLine(Ae),this.textBackgroundColor||this.styleHas("textBackgroundColor",Ae)){S=this._textLines[Ae],f=this._getLineLeftOffset(Ae),B=0,R=0,b=this.getValueOfPropertyAt(Ae,0,"textBackgroundColor");for(var Ie=0,Oe=S.length;Ie<Oe;Ie++)j=this.__charBounds[Ae][Ie],X=this.getValueOfPropertyAt(Ae,Ie,"textBackgroundColor"),ne?(_.save(),_.translate(j.renderLeft,j.renderTop),_.rotate(j.angle),_.fillStyle=X,X&&_.fillRect(-j.width/2,-m/this.lineHeight*(1-this._fontSizeFraction),j.width,m/this.lineHeight),_.restore()):X!==b?(se=D+f+R,"rtl"===this.direction&&(se=this.width-se-B),_.fillStyle=b,b&&_.fillRect(se,F,B,m/this.lineHeight),R=j.left,B=j.width,b=X):B+=j.kernedWidth;X&&!ne&&(se=D+f+R,"rtl"===this.direction&&(se=this.width-se-B),_.fillStyle=X,_.fillRect(se,F,B,m/this.lineHeight)),F+=m}else F+=m;_.fillStyle=y,this._removeShadow(_)}},getFontCache:function(_){var m=_.fontFamily.toLowerCase();x.charWidthsCache[m]||(x.charWidthsCache[m]={});var f=x.charWidthsCache[m],y=_.fontStyle.toLowerCase()+"_"+(_.fontWeight+"").toLowerCase();return f[y]||(f[y]={}),f[y]},_measureChar:function(_,m,f,y){var B,j,X,se,S=this.getFontCache(m),F=f+_,R=this._getFontDeclaration(m)===this._getFontDeclaration(y),ne=m.fontSize/this.CACHE_FONT_SIZE;if(f&&void 0!==S[f]&&(X=S[f]),void 0!==S[_]&&(se=B=S[_]),R&&void 0!==S[F]&&(se=(j=S[F])-X),void 0===B||void 0===X||void 0===j){var Ae=this.getMeasuringContext();this._setTextStyles(Ae,m,!0)}return void 0===B&&(se=B=Ae.measureText(_).width,S[_]=B),void 0===X&&R&&f&&(X=Ae.measureText(f).width,S[f]=X),R&&void 0===j&&(j=Ae.measureText(F).width,S[F]=j,se=j-X),{width:B*ne,kernedWidth:se*ne}},getHeightOfChar:function(_,m){return this.getValueOfPropertyAt(_,m,"fontSize")},measureLine:function(_){var m=this._measureLine(_);return 0!==this.charSpacing&&(m.width-=this._getWidthOfCharSpacing()),m.width<0&&(m.width=0),m},_measureLine:function(_){var f,y,b,D,j,X,m=0,S=this._textLines[_],R=new Array(S.length),B=0,ne=this.path,se="right"===this.pathSide;for(this.__charBounds[_]=R,f=0;f<S.length;f++)D=this._getGraphemeBox(y=S[f],_,f,b),R[f]=D,m+=D.kernedWidth,b=y;if(R[f]={left:D?D.left+D.width:0,width:0,kernedWidth:0,height:this.fontSize},ne){switch(X=ne.segmentsInfo[ne.segmentsInfo.length-1].length,(j=x.util.getPointOnPath(ne.path,0,ne.segmentsInfo)).x+=ne.pathOffset.x,j.y+=ne.pathOffset.y,this.textAlign){case"left":B=se?X-m:0;break;case"center":B=(X-m)/2;break;case"right":B=se?0:X-m}for(B+=this.pathStartOffset*(se?-1:1),f=se?S.length-1:0;se?f>=0:f<S.length;se?f--:f++)B>X?B%=X:B<0&&(B+=X),this._setGraphemeOnPath(B,D=R[f],j),B+=D.kernedWidth}return{width:m,numOfSpaces:0}},_setGraphemeOnPath:function(_,m,f){var S=this.path,b=x.util.getPointOnPath(S.path,_+m.kernedWidth/2,S.segmentsInfo);m.renderLeft=b.x-f.x,m.renderTop=b.y-f.y,m.angle=b.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(_,m,f,y,S){var j,b=this.getCompleteStyleDeclaration(m,f),D=y?this.getCompleteStyleDeclaration(m,f-1):{},F=this._measureChar(_,b,y,D),R=F.kernedWidth,B=F.width;0!==this.charSpacing&&(B+=j=this._getWidthOfCharSpacing(),R+=j);var X={width:B,left:0,height:b.fontSize,kernedWidth:R,deltaY:b.deltaY};if(f>0&&!S){var ne=this.__charBounds[m][f-1];X.left=ne.left+ne.width+F.kernedWidth-F.width}return X},getHeightOfLine:function(_){if(this.__lineHeights[_])return this.__lineHeights[_];for(var m=this._textLines[_],f=this.getHeightOfChar(_,0),y=1,S=m.length;y<S;y++)f=Math.max(this.getHeightOfChar(_,y),f);return this.__lineHeights[_]=f*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var _,m=0,f=0,y=this._textLines.length;f<y;f++)_=this.getHeightOfLine(f),m+=f===y-1?_/this.lineHeight:_;return m},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(_,m){_.save();for(var f=0,y=this._getLeftOffset(),S=this._getTopOffset(),b=0,D=this._textLines.length;b<D;b++){var F=this.getHeightOfLine(b),R=F/this.lineHeight,B=this._getLineLeftOffset(b);this._renderTextLine(m,_,this._textLines[b],y+B,S+f+R,b),f+=F}_.restore()},_renderTextFill:function(_){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(_,"fillText")},_renderTextStroke:function(_){(!this.stroke||0===this.strokeWidth)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(_),_.save(),this._setLineDash(_,this.strokeDashArray),_.beginPath(),this._renderTextCommon(_,"strokeText"),_.closePath(),_.restore())},_renderChars:function(_,m,f,y,S,b){var R,B,X,se,lt,D=this.getHeightOfLine(b),F=-1!==this.textAlign.indexOf("justify"),j="",ne=0,Ae=this.path,Ge=!F&&0===this.charSpacing&&this.isEmptyStyles(b)&&!Ae,Ie="ltr"===this.direction,Oe="ltr"===this.direction?1:-1;if(m.save(),S-=D*this._fontSizeFraction/this.lineHeight,Ge)return m.canvas.setAttribute("dir",Ie?"ltr":"rtl"),m.direction=Ie?"ltr":"rtl",m.textAlign=Ie?"left":"right",this._renderChar(_,m,b,0,f.join(""),y,S,D),void m.restore();for(var Je=0,Ze=f.length-1;Je<=Ze;Je++)se=Je===Ze||this.charSpacing||Ae,j+=f[Je],X=this.__charBounds[b][Je],0===ne?(y+=Oe*(X.kernedWidth-X.width),ne+=X.width):ne+=X.kernedWidth,F&&!se&&this._reSpaceAndTab.test(f[Je])&&(se=!0),se||(R=R||this.getCompleteStyleDeclaration(b,Je),B=this.getCompleteStyleDeclaration(b,Je+1),se=this._hasStyleChanged(R,B)),se&&(Ae?(m.save(),m.translate(X.renderLeft,X.renderTop),m.rotate(X.angle),this._renderChar(_,m,b,Je,j,-ne/2,0,D),m.restore()):(lt=y,m.canvas.setAttribute("dir",Ie?"ltr":"rtl"),m.direction=Ie?"ltr":"rtl",m.textAlign=Ie?"left":"right",this._renderChar(_,m,b,Je,j,lt,S,D)),j="",R=B,y+=Oe*ne,ne=0);m.restore()},_applyPatternGradientTransformText:function(_){var f,m=x.util.createCanvasElement(),y=this.width+this.strokeWidth,S=this.height+this.strokeWidth;return m.width=y,m.height=S,(f=m.getContext("2d")).beginPath(),f.moveTo(0,0),f.lineTo(y,0),f.lineTo(y,S),f.lineTo(0,S),f.closePath(),f.translate(y/2,S/2),f.fillStyle=_.toLive(f),this._applyPatternGradientTransform(f,_),f.fill(),f.createPattern(m,"no-repeat")},handleFiller:function(_,m,f){var y,S;return f.toLive?"percentage"===f.gradientUnits||f.gradientTransform||f.patternTransform?(_.translate(y=-this.width/2,S=-this.height/2),_[m]=this._applyPatternGradientTransformText(f),{offsetX:y,offsetY:S}):(_[m]=f.toLive(_,this),this._applyPatternGradientTransform(_,f)):(_[m]=f,{offsetX:0,offsetY:0})},_setStrokeStyles:function(_,m){return _.lineWidth=m.strokeWidth,_.lineCap=this.strokeLineCap,_.lineDashOffset=this.strokeDashOffset,_.lineJoin=this.strokeLineJoin,_.miterLimit=this.strokeMiterLimit,this.handleFiller(_,"strokeStyle",m.stroke)},_setFillStyles:function(_,m){return this.handleFiller(_,"fillStyle",m.fill)},_renderChar:function(_,m,f,y,S,b,D){var X,ne,F=this._getStyleDeclaration(f,y),R=this.getCompleteStyleDeclaration(f,y),B="fillText"===_&&R.fill,j="strokeText"===_&&R.stroke&&R.strokeWidth;!j&&!B||(m.save(),B&&(X=this._setFillStyles(m,R)),j&&(ne=this._setStrokeStyles(m,R)),m.font=this._getFontDeclaration(R),F&&F.textBackgroundColor&&this._removeShadow(m),F&&F.deltaY&&(D+=F.deltaY),B&&m.fillText(S,b-X.offsetX,D-X.offsetY),j&&m.strokeText(S,b-ne.offsetX,D-ne.offsetY),m.restore())},setSuperscript:function(_,m){return this._setScript(_,m,this.superscript)},setSubscript:function(_,m){return this._setScript(_,m,this.subscript)},_setScript:function(_,m,f){var y=this.get2DCursorLocation(_,!0),S=this.getValueOfPropertyAt(y.lineIndex,y.charIndex,"fontSize"),b=this.getValueOfPropertyAt(y.lineIndex,y.charIndex,"deltaY");return this.setSelectionStyles({fontSize:S*f.size,deltaY:b+S*f.baseline},_,m),this},_hasStyleChanged:function(_,m){return _.fill!==m.fill||_.stroke!==m.stroke||_.strokeWidth!==m.strokeWidth||_.fontSize!==m.fontSize||_.fontFamily!==m.fontFamily||_.fontWeight!==m.fontWeight||_.fontStyle!==m.fontStyle||_.deltaY!==m.deltaY},_hasStyleChangedForSvg:function(_,m){return this._hasStyleChanged(_,m)||_.overline!==m.overline||_.underline!==m.underline||_.linethrough!==m.linethrough},_getLineLeftOffset:function(_){var m=this.getLineWidth(_),f=this.width-m,y=this.textAlign,S=this.direction,b=0,D=this.isEndOfWrapping(_);return"justify"===y||"justify-center"===y&&!D||"justify-right"===y&&!D||"justify-left"===y&&!D?0:("center"===y&&(b=f/2),"right"===y&&(b=f),"justify-center"===y&&(b=f/2),"justify-right"===y&&(b=f),"rtl"===S&&(b-=f),b)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var _=this._forceClearCache;return _||(_=this.hasStateChanged("_dimensionAffectingProps")),_&&(this.dirty=!0,this._forceClearCache=!1),_},getLineWidth:function(_){return this.__lineWidths[_]?this.__lineWidths[_]:(m=""===this._textLines[_]?0:this.measureLine(_).width,this.__lineWidths[_]=m,m);var m},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(_,m,f){var y=this._getStyleDeclaration(_,m);return y&&void 0!==y[f]?y[f]:this[f]},_renderTextDecoration:function(_,m){if(this[m]||this.styleHas(m)){for(var f,y,S,b,D,F,R,B,ne,se,Ae,Ge,Ie,Oe,lt,Je,j=this._getLeftOffset(),X=this._getTopOffset(),Ze=this.path,Mt=this._getWidthOfCharSpacing(),It=this.offsets[m],xt=0,Ne=this._textLines.length;xt<Ne;xt++)if(f=this.getHeightOfLine(xt),this[m]||this.styleHas(m,xt)){R=this._textLines[xt],Oe=f/this.lineHeight,b=this._getLineLeftOffset(xt),se=0,Ae=0,B=this.getValueOfPropertyAt(xt,0,m),Je=this.getValueOfPropertyAt(xt,0,"fill"),ne=X+Oe*(1-this._fontSizeFraction),y=this.getHeightOfChar(xt,0),D=this.getValueOfPropertyAt(xt,0,"deltaY");for(var Ee=0,ue=R.length;Ee<ue;Ee++)if(Ge=this.__charBounds[xt][Ee],Ie=this.getValueOfPropertyAt(xt,Ee,m),lt=this.getValueOfPropertyAt(xt,Ee,"fill"),S=this.getHeightOfChar(xt,Ee),F=this.getValueOfPropertyAt(xt,Ee,"deltaY"),Ze&&Ie&&lt)_.save(),_.fillStyle=Je,_.translate(Ge.renderLeft,Ge.renderTop),_.rotate(Ge.angle),_.fillRect(-Ge.kernedWidth/2,It*S+F,Ge.kernedWidth,this.fontSize/15),_.restore();else if((Ie!==B||lt!==Je||S!==y||F!==D)&&Ae>0){var Ce=j+b+se;"rtl"===this.direction&&(Ce=this.width-Ce-Ae),B&&Je&&(_.fillStyle=Je,_.fillRect(Ce,ne+It*y+D,Ae,this.fontSize/15)),se=Ge.left,Ae=Ge.width,B=Ie,Je=lt,y=S,D=F}else Ae+=Ge.kernedWidth;Ce=j+b+se,"rtl"===this.direction&&(Ce=this.width-Ce-Ae),_.fillStyle=lt,Ie&&lt&&_.fillRect(Ce,ne+It*y+D,Ae-Mt,this.fontSize/15),X+=f}else X+=f;this._removeShadow(_)}},_getFontDeclaration:function(_,m){var f=_||this,y=this.fontFamily,S=x.Text.genericFonts.indexOf(y.toLowerCase())>-1,b=void 0===y||y.indexOf("'")>-1||y.indexOf(",")>-1||y.indexOf('"')>-1||S?f.fontFamily:'"'+f.fontFamily+'"';return[x.isLikelyNode?f.fontWeight:f.fontStyle,x.isLikelyNode?f.fontStyle:f.fontWeight,m?this.CACHE_FONT_SIZE+"px":f.fontSize+"px",b].join(" ")},render:function(_){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",_))},_splitTextIntoLines:function(_){for(var m=_.split(this._reNewline),f=new Array(m.length),y=["\n"],S=[],b=0;b<m.length;b++)f[b]=x.util.string.graphemeSplit(m[b]),S=S.concat(f[b],y);return S.pop(),{_unwrappedLines:f,lines:m,graphemeText:S,graphemeLines:f}},toObject:function(_){var m=C.concat(_),f=this.callSuper("toObject",m);return f.styles=M(this.styles,!0),f.path&&(f.path=this.path.toObject()),f},set:function(_,m){this.callSuper("set",_,m);var f=!1,y=!1;if("object"==typeof _)for(var S in _)"path"===S&&this.setPathInfo(),f=f||-1!==this._dimensionAffectingProps.indexOf(S),y=y||"path"===S;else f=-1!==this._dimensionAffectingProps.indexOf(_),y="path"===_;return y&&this.setPathInfo(),f&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),x.Text.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),x.Text.DEFAULT_SVG_FONT_SIZE=16,x.Text.fromElement=function(_,m,f){if(!_)return m(null);var y=x.parseAttributes(_,x.Text.ATTRIBUTE_NAMES),S=y.textAnchor||"left";if((f=x.util.object.extend(f?M(f):{},y)).top=f.top||0,f.left=f.left||0,y.textDecoration){var b=y.textDecoration;-1!==b.indexOf("underline")&&(f.underline=!0),-1!==b.indexOf("overline")&&(f.overline=!0),-1!==b.indexOf("line-through")&&(f.linethrough=!0),delete f.textDecoration}"dx"in y&&(f.left+=y.dx),"dy"in y&&(f.top+=y.dy),"fontSize"in f||(f.fontSize=x.Text.DEFAULT_SVG_FONT_SIZE);var D="";"textContent"in _?D=_.textContent:"firstChild"in _&&null!==_.firstChild&&"data"in _.firstChild&&null!==_.firstChild.data&&(D=_.firstChild.data),D=D.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var F=f.strokeWidth;f.strokeWidth=0;var R=new x.Text(D,f),B=R.getScaledHeight()/R.height,X=((R.height+R.strokeWidth)*R.lineHeight-R.height)*B,ne=R.getScaledHeight()+X,se=0;"center"===S&&(se=R.getScaledWidth()/2),"right"===S&&(se=R.getScaledWidth()),R.set({left:R.left-se,top:R.top-(ne-R.fontSize*(.07+R._fontSizeFraction))/R.lineHeight,strokeWidth:void 0!==F?F:1}),m(R)},x.Text.fromObject=function(_,m){var f=M(_),y=_.path;return delete f.path,x.Object._fromObject("Text",f,function(S){y?x.Object._fromObject("Path",y,function(b){S.set("path",b),m(S)},"path"):m(S)},"text")},x.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],x.util.createAccessors&&x.util.createAccessors(x.Text)}}(Ke),O.util.object.extend(O.Text.prototype,{isEmptyStyles:function(I){if(!this.styles||void 0!==I&&!this.styles[I])return!0;var x=void 0===I?this.styles:{line:this.styles[I]};for(var M in x)for(var C in x[M])for(var _ in x[M][C])return!1;return!0},styleHas:function(I,x){if(!this.styles||!I||""===I||void 0!==x&&!this.styles[x])return!1;var M=void 0===x?this.styles:{0:this.styles[x]};for(var C in M)for(var _ in M[C])if(void 0!==M[C][_][I])return!0;return!1},cleanStyle:function(I){if(!this.styles||!I||""===I)return!1;var C,_,x=this.styles,M=0,m=!0,f=0;for(var S in x){for(var b in C=0,x[S]){var y;M++,(y=x[S][b]).hasOwnProperty(I)?(_?y[I]!==_&&(m=!1):_=y[I],y[I]===this[I]&&delete y[I]):m=!1,0!==Object.keys(y).length?C++:delete x[S][b]}0===C&&delete x[S]}for(var F=0;F<this._textLines.length;F++)f+=this._textLines[F].length;m&&M===f&&(this[I]=_,this.removeStyle(I))},removeStyle:function(I){if(this.styles&&I&&""!==I){var M,C,_,x=this.styles;for(C in x){for(_ in M=x[C])delete M[_][I],0===Object.keys(M[_]).length&&delete M[_];0===Object.keys(M).length&&delete x[C]}}},_extendStyles:function(I,x){var M=this.get2DCursorLocation(I);this._getLineStyle(M.lineIndex)||this._setLineStyle(M.lineIndex),this._getStyleDeclaration(M.lineIndex,M.charIndex)||this._setStyleDeclaration(M.lineIndex,M.charIndex,{}),O.util.object.extend(this._getStyleDeclaration(M.lineIndex,M.charIndex),x)},get2DCursorLocation:function(I,x){void 0===I&&(I=this.selectionStart);for(var M=x?this._unwrappedTextLines:this._textLines,C=M.length,_=0;_<C;_++){if(I<=M[_].length)return{lineIndex:_,charIndex:I};I-=M[_].length+this.missingNewlineOffset(_)}return{lineIndex:_-1,charIndex:M[_-1].length<I?M[_-1].length:I}},getSelectionStyles:function(I,x,M){void 0===I&&(I=this.selectionStart||0),void 0===x&&(x=this.selectionEnd||I);for(var C=[],_=I;_<x;_++)C.push(this.getStyleAtPosition(_,M));return C},getStyleAtPosition:function(I,x){var M=this.get2DCursorLocation(I);return(x?this.getCompleteStyleDeclaration(M.lineIndex,M.charIndex):this._getStyleDeclaration(M.lineIndex,M.charIndex))||{}},setSelectionStyles:function(I,x,M){void 0===x&&(x=this.selectionStart||0),void 0===M&&(M=this.selectionEnd||x);for(var C=x;C<M;C++)this._extendStyles(C,I);return this._forceClearCache=!0,this},_getStyleDeclaration:function(I,x){var M=this.styles&&this.styles[I];return M?M[x]:null},getCompleteStyleDeclaration:function(I,x){for(var _,M=this._getStyleDeclaration(I,x)||{},C={},m=0;m<this._styleProperties.length;m++)C[_=this._styleProperties[m]]=void 0===M[_]?this[_]:M[_];return C},_setStyleDeclaration:function(I,x,M){this.styles[I][x]=M},_deleteStyleDeclaration:function(I,x){delete this.styles[I][x]},_getLineStyle:function(I){return!!this.styles[I]},_setLineStyle:function(I){this.styles[I]={}},_deleteLineStyle:function(I){delete this.styles[I]}}),function(){function I(x){x.textDecoration&&(x.textDecoration.indexOf("underline")>-1&&(x.underline=!0),x.textDecoration.indexOf("line-through")>-1&&(x.linethrough=!0),x.textDecoration.indexOf("overline")>-1&&(x.overline=!0),delete x.textDecoration)}O.IText=O.util.createClass(O.Text,O.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(x,M){this.callSuper("initialize",x,M),this.initBehavior()},setSelectionStart:function(x){x=Math.max(x,0),this._updateAndFire("selectionStart",x)},setSelectionEnd:function(x){x=Math.min(x,this.text.length),this._updateAndFire("selectionEnd",x)},_updateAndFire:function(x,M){this[x]!==M&&(this._fireSelectionChanged(),this[x]=M),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(x){this.clearContextTop(),this.callSuper("render",x),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(x){this.callSuper("_render",x)},clearContextTop:function(x){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var M=this.canvas.contextTop,C=this.canvas.viewportTransform;M.save(),M.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this.transform(M),this._clearTextArea(M),x||M.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var x=this._getCursorBoundaries(),M=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(x,M):this.renderSelection(x,M),M.restore()}},_clearTextArea:function(x){var M=this.width+4,C=this.height+4;x.clearRect(-M/2,-C/2,M,C)},_getCursorBoundaries:function(x){void 0===x&&(x=this.selectionStart);var M=this._getLeftOffset(),C=this._getTopOffset(),_=this._getCursorBoundariesOffsets(x);return{left:M,top:C,leftOffset:_.left,topOffset:_.top}},_getCursorBoundariesOffsets:function(x){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var M,C,_,y,m=0,f=0,S=this.get2DCursorLocation(x);_=S.charIndex,C=S.lineIndex;for(var b=0;b<C;b++)m+=this.getHeightOfLine(b);M=this._getLineLeftOffset(C);var D=this.__charBounds[C][_];return D&&(f=D.left),0!==this.charSpacing&&_===this._textLines[C].length&&(f-=this._getWidthOfCharSpacing()),y={top:m,left:M+(f>0?f:0)},"rtl"===this.direction&&(y.left*=-1),this.cursorOffsetCache=y,this.cursorOffsetCache},renderCursor:function(x,M){var C=this.get2DCursorLocation(),_=C.lineIndex,m=C.charIndex>0?C.charIndex-1:0,f=this.getValueOfPropertyAt(_,m,"fontSize"),y=this.scaleX*this.canvas.getZoom(),S=this.cursorWidth/y,b=x.topOffset,D=this.getValueOfPropertyAt(_,m,"deltaY");b+=(1-this._fontSizeFraction)*this.getHeightOfLine(_)/this.lineHeight-f*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(x,M),M.fillStyle=this.cursorColor||this.getValueOfPropertyAt(_,m,"fill"),M.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,M.fillRect(x.left+x.leftOffset-S/2,b+x.top+D,S,f)},renderSelection:function(x,M){for(var C=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,_=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,m=-1!==this.textAlign.indexOf("justify"),f=this.get2DCursorLocation(C),y=this.get2DCursorLocation(_),S=f.lineIndex,b=y.lineIndex,D=f.charIndex<0?0:f.charIndex,F=y.charIndex<0?0:y.charIndex,R=S;R<=b;R++){var X,B=this._getLineLeftOffset(R)||0,j=this.getHeightOfLine(R),ne=0,se=0;if(R===S&&(ne=this.__charBounds[S][D].left),R>=S&&R<b)se=m&&!this.isEndOfWrapping(R)?this.width:this.getLineWidth(R)||5;else if(R===b)if(0===F)se=this.__charBounds[b][F].left;else{var Ae=this._getWidthOfCharSpacing();se=this.__charBounds[b][F-1].left+this.__charBounds[b][F-1].width-Ae}X=j,(this.lineHeight<1||R===b&&this.lineHeight>1)&&(j/=this.lineHeight);var Ge=x.left+B+ne,Ie=se-ne,Oe=j,lt=0;this.inCompositionMode?(M.fillStyle=this.compositionColor||"black",Oe=1,lt=j):M.fillStyle=this.selectionColor,"rtl"===this.direction&&(Ge=this.width-Ge-Ie),M.fillRect(Ge,x.top+x.topOffset+lt,Ie,Oe),x.topOffset+=X}},getCurrentCharFontSize:function(){var x=this._getCurrentCharIndex();return this.getValueOfPropertyAt(x.l,x.c,"fontSize")},getCurrentCharColor:function(){var x=this._getCurrentCharIndex();return this.getValueOfPropertyAt(x.l,x.c,"fill")},_getCurrentCharIndex:function(){var x=this.get2DCursorLocation(this.selectionStart,!0);return{l:x.lineIndex,c:x.charIndex>0?x.charIndex-1:0}}}),O.IText.fromObject=function(x,M){if(I(x),x.styles)for(var C in x.styles)for(var _ in x.styles[C])I(x.styles[C][_]);O.Object._fromObject("IText",x,M,"text")}}(),function(){var I=O.util.object.clone;O.util.object.extend(O.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var x=this;this.on("added",function(){var M=x.canvas;M&&(M._hasITextHandlers||(M._hasITextHandlers=!0,x._initCanvasHandlers(M)),M._iTextInstances=M._iTextInstances||[],M._iTextInstances.push(x))})},initRemovedHandler:function(){var x=this;this.on("removed",function(){var M=x.canvas;M&&(M._iTextInstances=M._iTextInstances||[],O.util.removeFromArray(M._iTextInstances,x),0===M._iTextInstances.length&&(M._hasITextHandlers=!1,x._removeCanvasHandlers(M)))})},_initCanvasHandlers:function(x){x._mouseUpITextHandler=function(){x._iTextInstances&&x._iTextInstances.forEach(function(M){M.__isMousedown=!1})},x.on("mouse:up",x._mouseUpITextHandler)},_removeCanvasHandlers:function(x){x.off("mouse:up",x._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(x,M,C,_){var m;return m={isAborted:!1,abort:function(){this.isAborted=!0}},x.animate("_currentCursorOpacity",M,{duration:C,onComplete:function(){m.isAborted||x[_]()},onChange:function(){x.canvas&&x.selectionStart===x.selectionEnd&&x.renderCursorOrSelection()},abort:function(){return m.isAborted}}),m},_onTickComplete:function(){var x=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){x._currentTickCompleteState=x._animateCursor(x,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(x){var M=this,C=x?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){M._tick()},C)},abortCursorAnimation:function(){var x=this._currentTickState||this._currentTickCompleteState,M=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,x&&M&&M.clearContext(M.contextTop||M.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(x){var M=0,C=x-1;if(this._reSpace.test(this._text[C]))for(;this._reSpace.test(this._text[C]);)M++,C--;for(;/\S/.test(this._text[C])&&C>-1;)M++,C--;return x-M},findWordBoundaryRight:function(x){var M=0,C=x;if(this._reSpace.test(this._text[C]))for(;this._reSpace.test(this._text[C]);)M++,C++;for(;/\S/.test(this._text[C])&&C<this._text.length;)M++,C++;return x+M},findLineBoundaryLeft:function(x){for(var M=0,C=x-1;!/\n/.test(this._text[C])&&C>-1;)M++,C--;return x-M},findLineBoundaryRight:function(x){for(var M=0,C=x;!/\n/.test(this._text[C])&&C<this._text.length;)M++,C++;return x+M},searchWordBoundary:function(x,M){for(var C=this._text,_=this._reSpace.test(C[x])?x-1:x,m=C[_],f=O.reNonWord;!f.test(m)&&_>0&&_<C.length;)m=C[_+=M];return f.test(m)&&(_+=1===M?0:1),_},selectWord:function(x){var M=this.searchWordBoundary(x=x||this.selectionStart,-1),C=this.searchWordBoundary(x,1);this.selectionStart=M,this.selectionEnd=C,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(x){var M=this.findLineBoundaryLeft(x=x||this.selectionStart),C=this.findLineBoundaryRight(x);return this.selectionStart=M,this.selectionEnd=C,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(x){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(x),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(x){x._iTextInstances&&x._iTextInstances.forEach(function(M){M.selected=!1,M.isEditing&&M.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(x){if(this.__isMousedown&&this.isEditing){var M=this.getSelectionStartFromPointer(x.e),C=this.selectionStart,_=this.selectionEnd;(M!==this.__selectionStartOnMouseDown||C===_)&&(C===M||_===M)||(M>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=M):(this.selectionStart=M,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==C||this.selectionEnd!==_)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(x,M,C){var _=C.slice(0,x),m=O.util.string.graphemeSplit(_).length;if(x===M)return{selectionStart:m,selectionEnd:m};var f=C.slice(x,M);return{selectionStart:m,selectionEnd:m+O.util.string.graphemeSplit(f).length}},fromGraphemeToStringSelection:function(x,M,C){var m=C.slice(0,x).join("").length;return x===M?{selectionStart:m,selectionEnd:m}:{selectionStart:m,selectionEnd:m+C.slice(x,M).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var x=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=x.selectionStart,this.hiddenTextarea.selectionEnd=x.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var x=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=x.selectionEnd,this.inCompositionMode||(this.selectionStart=x.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var x=this._calcTextareaPosition();this.hiddenTextarea.style.left=x.left,this.hiddenTextarea.style.top=x.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var x=this.inCompositionMode?this.compositionStart:this.selectionStart,M=this._getCursorBoundaries(x),C=this.get2DCursorLocation(x),f=this.getValueOfPropertyAt(C.lineIndex,C.charIndex,"fontSize")*this.lineHeight,y=M.leftOffset,S=this.calcTransformMatrix(),b={x:M.left+y,y:M.top+M.topOffset+f},D=this.canvas.getRetinaScaling(),F=this.canvas.upperCanvasEl,R=F.width/D,B=F.height/D,j=R-f,X=B-f,ne=F.clientWidth/R,se=F.clientHeight/B;return b=O.util.transformPoint(b,S),(b=O.util.transformPoint(b,this.canvas.viewportTransform)).x*=ne,b.y*=se,b.x<0&&(b.x=0),b.x>j&&(b.x=j),b.y<0&&(b.y=0),b.y>X&&(b.y=X),b.x+=this.canvas._offset.left,b.y+=this.canvas._offset.top,{left:b.x+"px",top:b.y+"px",fontSize:f+"px",charHeight:f}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var x=this._textBeforeEdit!==this.text,M=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,M&&(M.blur&&M.blur(),M.parentNode&&M.parentNode.removeChild(M)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),x&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),x&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var x in this.styles)this._textLines[x]||delete this.styles[x]},removeStyleFromTo:function(x,M){var b,D,C=this.get2DCursorLocation(x,!0),_=this.get2DCursorLocation(M,!0),m=C.lineIndex,f=C.charIndex,y=_.lineIndex,S=_.charIndex;if(m!==y){if(this.styles[m])for(b=f;b<this._unwrappedTextLines[m].length;b++)delete this.styles[m][b];if(this.styles[y])for(b=S;b<this._unwrappedTextLines[y].length;b++)(D=this.styles[y][b])&&(this.styles[m]||(this.styles[m]={}),this.styles[m][f+b-S]=D);for(b=m+1;b<=y;b++)delete this.styles[b];this.shiftLineStyles(y,m-y)}else if(this.styles[m]){D=this.styles[m];var R,B,F=S-f;for(b=f;b<S;b++)delete D[b];for(B in this.styles[m])(R=parseInt(B,10))>=S&&(D[R-F]=D[B],delete D[B])}},shiftLineStyles:function(x,M){var C=I(this.styles);for(var _ in this.styles){var m=parseInt(_,10);m>x&&(this.styles[m+M]=C[m],C[m-M]||delete this.styles[m])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(x,M,C,_){var m,f={},y=!1,S=this._unwrappedTextLines[x].length===M;for(var b in C||(C=1),this.shiftLineStyles(x,C),this.styles[x]&&(m=this.styles[x][0===M?M:M-1]),this.styles[x]){var D=parseInt(b,10);D>=M&&(y=!0,f[D-M]=this.styles[x][b],S&&0===M||delete this.styles[x][b])}var F=!1;for(y&&!S&&(this.styles[x+C]=f,F=!0),F&&C--;C>0;)_&&_[C-1]?this.styles[x+C]={0:I(_[C-1])}:m?this.styles[x+C]={0:I(m)}:delete this.styles[x+C],C--;this._forceClearCache=!0},insertCharStyleObject:function(x,M,C,_){this.styles||(this.styles={});var m=this.styles[x],f=m?I(m):{};for(var y in C||(C=1),f){var S=parseInt(y,10);S>=M&&(m[S+C]=f[S],f[S-C]||delete m[S])}if(this._forceClearCache=!0,_)for(;C--;)!Object.keys(_[C]).length||(this.styles[x]||(this.styles[x]={}),this.styles[x][M+C]=I(_[C]));else if(m)for(var b=m[M?M-1:1];b&&C--;)this.styles[x][M+C]=I(b)},insertNewStyleBlock:function(x,M,C){for(var _=this.get2DCursorLocation(M,!0),m=[0],f=0,y=0;y<x.length;y++)"\n"===x[y]?m[++f]=0:m[f]++;for(m[0]>0&&(this.insertCharStyleObject(_.lineIndex,_.charIndex,m[0],C),C=C&&C.slice(m[0]+1)),f&&this.insertNewlineStyleObject(_.lineIndex,_.charIndex+m[0],f),y=1;y<f;y++)m[y]>0?this.insertCharStyleObject(_.lineIndex+y,0,m[y],C):C&&(this.styles[_.lineIndex+y][0]=C[0]),C=C&&C.slice(m[y]+1);m[y]>0&&this.insertCharStyleObject(_.lineIndex+y,0,m[y],C)},setSelectionStartEndWithShift:function(x,M,C){C<=x?(M===x?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=x),this.selectionStart=C):C>x&&C<M?"right"===this._selectionDirection?this.selectionEnd=C:this.selectionStart=C:(M===x?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=M),this.selectionEnd=C)},setSelectionInBoundaries:function(){var x=this.text.length;this.selectionStart>x?this.selectionStart=x:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>x?this.selectionEnd=x:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),O.util.object.extend(O.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(I){if(this.canvas){this.__newClickTime=+new Date;var x=I.pointer;this.isTripleClick(x)&&(this.fire("tripleclick",I),this._stopEvent(I.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=x,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(I){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===I.x&&this.__lastPointer.y===I.y},_stopEvent:function(I){I.preventDefault&&I.preventDefault(),I.stopPropagation&&I.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(I){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(I.e))},tripleClickHandler:function(I){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(I.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(I){!this.canvas||!this.editable||I.e.button&&1!==I.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(I.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(I){!this.canvas||!this.editable||I.e.button&&1!==I.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(I){if(this.__isMousedown=!1,!(!this.editable||this.group||I.transform&&I.transform.actionPerformed||I.e.button&&1!==I.e.button)){if(this.canvas){var x=this.canvas._activeObject;if(x&&x!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(I.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(I){var x=this.getSelectionStartFromPointer(I);I.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,x):(this.selectionStart=x,this.selectionEnd=x),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(I){for(var S,x=this.getLocalPointer(I),M=0,C=0,_=0,m=0,f=0,b=0,D=this._textLines.length;b<D&&_<=x.y;b++)_+=this.getHeightOfLine(b)*this.scaleY,f=b,b>0&&(m+=this._textLines[b-1].length+this.missingNewlineOffset(b-1));C=this._getLineLeftOffset(f)*this.scaleX,S=this._textLines[f],"rtl"===this.direction&&(x.x=this.width*this.scaleX-x.x+C);for(var F=0,R=S.length;F<R&&(M=C,(C+=this.__charBounds[f][F].kernedWidth*this.scaleX)<=x.x);F++)m++;return this._getNewSelectionStartFromOffset(x,M,C,m,R)},_getNewSelectionStartFromOffset:function(I,x,M,C,_){var f=M-I.x,S=C+(f>I.x-x||f<0?0:1);return this.flipX&&(S=_-S),S>this._text.length&&(S=this._text.length),S}}),O.util.object.extend(O.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=O.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var I=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+I.top+"; left: "+I.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+I.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):O.document.body.appendChild(this.hiddenTextarea),O.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),O.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),O.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),O.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),O.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),O.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),O.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),O.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),O.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(O.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(I){if(this.isEditing){var x="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(I.keyCode in x)this[x[I.keyCode]](I);else{if(!(I.keyCode in this.ctrlKeysMapDown)||!I.ctrlKey&&!I.metaKey)return;this[this.ctrlKeysMapDown[I.keyCode]](I)}I.stopImmediatePropagation(),I.preventDefault(),I.keyCode>=33&&I.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(I){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:I.keyCode in this.ctrlKeysMapUp&&(I.ctrlKey||I.metaKey)&&(this[this.ctrlKeysMapUp[I.keyCode]](I),I.stopImmediatePropagation(),I.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(I){var x=this.fromPaste;if(this.fromPaste=!1,I&&I.stopPropagation(),this.isEditing){var m,f,F,R,B,M=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,C=this._text.length,_=M.length,y=_-C,S=this.selectionStart,b=this.selectionEnd,D=S!==b;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var j=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),X=S>j.selectionStart;D?(m=this._text.slice(S,b),y+=b-S):_<C&&(m=X?this._text.slice(b+y,b):this._text.slice(S,S-y)),f=M.slice(j.selectionEnd-y,j.selectionEnd),m&&m.length&&(f.length&&(F=this.getSelectionStyles(S,S+1,!1),F=f.map(function(){return F[0]})),D?(R=S,B=b):X?(R=b-m.length,B=b):(R=b,B=b+m.length),this.removeStyleFromTo(R,B)),f.length&&(x&&f.join("")===O.copiedText&&!O.disableStyleCopyPaste&&(F=O.copiedTextStyle),this.insertNewStyleBlock(f,S,F)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(I){this.compositionStart=I.target.selectionStart,this.compositionEnd=I.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(O.copiedText=this.getSelectedText(),O.copiedTextStyle=O.disableStyleCopyPaste?null:this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(I){return I&&I.clipboardData||O.window.clipboardData},_getWidthBeforeCursor:function(I,x){var C,M=this._getLineLeftOffset(I);return x>0&&(M+=(C=this.__charBounds[I][x-1]).left+C.width),M},getDownCursorOffset:function(I,x){var M=this._getSelectionForOffset(I,x),C=this.get2DCursorLocation(M),_=C.lineIndex;if(_===this._textLines.length-1||I.metaKey||34===I.keyCode)return this._text.length-M;var m=C.charIndex,f=this._getWidthBeforeCursor(_,m),y=this._getIndexOnLine(_+1,f);return this._textLines[_].slice(m).length+y+1+this.missingNewlineOffset(_)},_getSelectionForOffset:function(I,x){return I.shiftKey&&this.selectionStart!==this.selectionEnd&&x?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(I,x){var M=this._getSelectionForOffset(I,x),C=this.get2DCursorLocation(M),_=C.lineIndex;if(0===_||I.metaKey||33===I.keyCode)return-M;var m=C.charIndex,f=this._getWidthBeforeCursor(_,m),y=this._getIndexOnLine(_-1,f),S=this._textLines[_].slice(0,m),b=this.missingNewlineOffset(_-1);return-this._textLines[_-1].length+y-S.length+(1-b)},_getIndexOnLine:function(I,x){for(var f,y,M=this._textLines[I],_=this._getLineLeftOffset(I),m=0,S=0,b=M.length;S<b;S++)if((_+=f=this.__charBounds[I][S].width)>x){y=!0;var F=_,R=Math.abs(_-f-x);m=Math.abs(F-x)<R?S:S-1;break}return y||(m=M.length-1),m},moveCursorDown:function(I){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",I)},moveCursorUp:function(I){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",I)},_moveCursorUpOrDown:function(I,x){var C=this["get"+I+"CursorOffset"](x,"right"===this._selectionDirection);x.shiftKey?this.moveCursorWithShift(C):this.moveCursorWithoutShift(C),0!==C&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(I){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+I:this.selectionEnd+I),0!==I},moveCursorWithoutShift:function(I){return I<0?(this.selectionStart+=I,this.selectionEnd=this.selectionStart):(this.selectionEnd+=I,this.selectionStart=this.selectionEnd),0!==I},moveCursorLeft:function(I){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",I)},_move:function(I,x,M){var C;if(I.altKey)C=this["findWordBoundary"+M](this[x]);else{if(!I.metaKey&&35!==I.keyCode&&36!==I.keyCode)return this[x]+="Left"===M?-1:1,!0;C=this["findLineBoundary"+M](this[x])}if(void 0!==typeof C&&this[x]!==C)return this[x]=C,!0},_moveLeft:function(I,x){return this._move(I,x,"Left")},_moveRight:function(I,x){return this._move(I,x,"Right")},moveCursorLeftWithoutShift:function(I){var x=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(x=this._moveLeft(I,"selectionStart")),this.selectionEnd=this.selectionStart,x},moveCursorLeftWithShift:function(I){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(I,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(I,"selectionStart")):void 0},moveCursorRight:function(I){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",I)},_moveCursorLeftOrRight:function(I,x){var M="moveCursor"+I+"With";this._currentCursorOpacity=1,this[M+=x.shiftKey?"Shift":"outShift"](x)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(I){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(I,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(I,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(I){var x=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(x=this._moveRight(I,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,x},removeChars:function(I,x){void 0===x&&(x=I+1),this.removeStyleFromTo(I,x),this._text.splice(I,x-I),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(I,x,M,C){void 0===C&&(C=M),C>M&&this.removeStyleFromTo(M,C);var _=O.util.string.graphemeSplit(I);this.insertNewStyleBlock(_,M,x),this._text=[].concat(this._text.slice(0,M),_,this._text.slice(C)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var I=O.util.toFixed,x=/  +/g;O.util.object.extend(O.Text.prototype,{_toSVG:function(){var M=this._getSVGLeftTopOffsets(),C=this._getSVGTextAndBg(M.textTop,M.textLeft);return this._wrapSVGTextAndBg(C)},toSVG:function(M){return this._createBaseSVGMarkup(this._toSVG(),{reviver:M,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(M){var _=this.getSvgTextDecoration(this);return[M.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",_?'text-decoration="'+_+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",M.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(M,C){var y,_=[],m=[],f=M;this._setSVGBg(m);for(var S=0,b=this._textLines.length;S<b;S++)y=this._getLineLeftOffset(S),(this.textBackgroundColor||this.styleHas("textBackgroundColor",S))&&this._setSVGTextLineBg(m,S,C+y,f),this._setSVGTextLineText(_,S,C+y,f),f+=this.getHeightOfLine(S);return{textSpans:_,textBgRects:m}},_createTextCharSpan:function(M,C,_,m){var f=M!==M.trim()||M.match(x),y=this.getSvgSpanStyles(C,f),S=y?'style="'+y+'"':"",b=C.deltaY,D="",F=O.Object.NUM_FRACTION_DIGITS;return b&&(D=' dy="'+I(b,F)+'" '),['<tspan x="',I(_,F),'" y="',I(m,F),'" ',D,S,">",O.util.string.escapeXml(M),"</tspan>"].join("")},_setSVGTextLineText:function(M,C,_,m){var S,b,F,R,X,f=this.getHeightOfLine(C),y=-1!==this.textAlign.indexOf("justify"),D="",B=0,j=this._textLines[C];m+=f*(1-this._fontSizeFraction)/this.lineHeight;for(var ne=0,se=j.length-1;ne<=se;ne++)X=ne===se||this.charSpacing,D+=j[ne],F=this.__charBounds[C][ne],0===B?(_+=F.kernedWidth-F.width,B+=F.width):B+=F.kernedWidth,y&&!X&&this._reSpaceAndTab.test(j[ne])&&(X=!0),X||(S=S||this.getCompleteStyleDeclaration(C,ne),b=this.getCompleteStyleDeclaration(C,ne+1),X=this._hasStyleChangedForSvg(S,b)),X&&(R=this._getStyleDeclaration(C,ne)||{},M.push(this._createTextCharSpan(D,R,_,m)),D="",S=b,_+=B,B=0)},_pushTextBgRect:function(M,C,_,m,f,y){var S=O.Object.NUM_FRACTION_DIGITS;M.push("\t\t<rect ",this._getFillAttributes(C),' x="',I(_,S),'" y="',I(m,S),'" width="',I(f,S),'" height="',I(y,S),'"></rect>\n')},_setSVGTextLineBg:function(M,C,_,m){for(var D,F,f=this._textLines[C],y=this.getHeightOfLine(C)/this.lineHeight,S=0,b=0,R=this.getValueOfPropertyAt(C,0,"textBackgroundColor"),B=0,j=f.length;B<j;B++)D=this.__charBounds[C][B],(F=this.getValueOfPropertyAt(C,B,"textBackgroundColor"))!==R?(R&&this._pushTextBgRect(M,R,_+b,m,S,y),b=D.left,S=D.width,R=F):S+=D.kernedWidth;F&&this._pushTextBgRect(M,F,_+b,m,S,y)},_getFillAttributes:function(M){var C=M&&"string"==typeof M?new O.Color(M):"";return C&&C.getSource()&&1!==C.getAlpha()?'opacity="'+C.getAlpha()+'" fill="'+C.setAlpha(1).toRgb()+'"':'fill="'+M+'"'},_getSVGLineTopOffset:function(M){for(var _,C=0,m=0;m<M;m++)C+=this.getHeightOfLine(m);return _=this.getHeightOfLine(m),{lineTop:C,offset:(this._fontSizeMult-this._fontSizeFraction)*_/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(M){return O.Object.prototype.getSvgStyles.call(this,M)+" white-space: pre;"}})}(),function(I){"use strict";var x=I.fabric||(I.fabric={});x.Textbox=x.util.createClass(x.IText,x.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:x.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(M){for(var C=0,_=0,m=0,f={},y=0;y<M.graphemeLines.length;y++)"\n"===M.graphemeText[m]&&y>0?(_=0,m++,C++):!this.splitByGrapheme&&this._reSpaceAndTab.test(M.graphemeText[m])&&y>0&&(_++,m++),f[y]={line:C,offset:_},m+=M.graphemeLines[y].length,_+=M.graphemeLines[y].length;return f},styleHas:function(M,C){if(this._styleMap&&!this.isWrapping){var _=this._styleMap[C];_&&(C=_.line)}return x.Text.prototype.styleHas.call(this,M,C)},isEmptyStyles:function(M){if(!this.styles)return!0;var m,f,C=0,y=!1,S=this._styleMap[M],b=this._styleMap[M+1];for(var D in S&&(M=S.line,C=S.offset),b&&(y=b.line===M,m=b.offset),f=void 0===M?this.styles:{line:this.styles[M]})for(var F in f[D])if(F>=C&&(!y||F<m))for(var R in f[D][F])return!1;return!0},_getStyleDeclaration:function(M,C){if(this._styleMap&&!this.isWrapping){var _=this._styleMap[M];if(!_)return null;M=_.line,C=_.offset+C}return this.callSuper("_getStyleDeclaration",M,C)},_setStyleDeclaration:function(M,C,_){var m=this._styleMap[M];this.styles[M=m.line][C=m.offset+C]=_},_deleteStyleDeclaration:function(M,C){var _=this._styleMap[M];delete this.styles[M=_.line][C=_.offset+C]},_getLineStyle:function(M){return!!this.styles[this._styleMap[M].line]},_setLineStyle:function(M){this.styles[this._styleMap[M].line]={}},_wrapText:function(M,C){var m,_=[];for(this.isWrapping=!0,m=0;m<M.length;m++)_=_.concat(this._wrapLine(M[m],m,C));return this.isWrapping=!1,_},_measureWord:function(M,C,_){var f,m=0;_=_||0;for(var S=0,b=M.length;S<b;S++)m+=this._getGraphemeBox(M[S],C,S+_,f,!0).kernedWidth,f=M[S];return m},_wrapLine:function(M,C,_,Ge){var f=0,y=this.splitByGrapheme,S=[],b=[],D=y?x.util.string.graphemeSplit(M):M.split(this._wordJoiners),F="",R=0,B=y?"":" ",j=0,X=0,ne=0,se=!0,Ae=this._getWidthOfCharSpacing();Ge=Ge||0,0===D.length&&D.push([]),_-=Ge;for(var Ie=0;Ie<D.length;Ie++)F=y?D[Ie]:x.util.string.graphemeSplit(D[Ie]),j=this._measureWord(F,C,R),R+=F.length,(f+=X+j-Ae)>_&&!se?(S.push(b),b=[],f=j,se=!0):f+=Ae,!se&&!y&&b.push(B),b=b.concat(F),X=y?0:this._measureWord([B],C,R),R++,se=!1,j>ne&&(ne=j);return Ie&&S.push(b),ne+Ge>this.dynamicMinWidth&&(this.dynamicMinWidth=ne-Ae+Ge),S},isEndOfWrapping:function(M){return!this._styleMap[M+1]||this._styleMap[M+1].line!==this._styleMap[M].line},missingNewlineOffset:function(M){return this.splitByGrapheme?this.isEndOfWrapping(M)?1:0:1},_splitTextIntoLines:function(M){for(var C=x.Text.prototype._splitTextIntoLines.call(this,M),_=this._wrapText(C.lines,this.width),m=new Array(_.length),f=0;f<_.length;f++)m[f]=_[f].join("");return C.lines=m,C.graphemeLines=_,C},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var M={};for(var C in this._styleMap)this._textLines[C]&&(M[this._styleMap[C].line]=1);for(var C in this.styles)M[C]||delete this.styles[C]},toObject:function(M){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(M))}}),x.Textbox.fromObject=function(M,C){return x.Object._fromObject("Textbox",M,C,"text")}}(Ke),function(){var I=O.controlsUtils,x=I.scaleSkewCursorStyleHandler,M=I.scaleCursorStyleHandler,C=I.scalingEqually,_=I.scalingYOrSkewingX,m=I.scalingXOrSkewingY,f=I.scaleOrSkewActionName,y=O.Object.prototype.controls;if(y.ml=new O.Control({x:-.5,y:0,cursorStyleHandler:x,actionHandler:m,getActionName:f}),y.mr=new O.Control({x:.5,y:0,cursorStyleHandler:x,actionHandler:m,getActionName:f}),y.mb=new O.Control({x:0,y:.5,cursorStyleHandler:x,actionHandler:_,getActionName:f}),y.mt=new O.Control({x:0,y:-.5,cursorStyleHandler:x,actionHandler:_,getActionName:f}),y.tl=new O.Control({x:-.5,y:-.5,cursorStyleHandler:M,actionHandler:C}),y.tr=new O.Control({x:.5,y:-.5,cursorStyleHandler:M,actionHandler:C}),y.bl=new O.Control({x:-.5,y:.5,cursorStyleHandler:M,actionHandler:C}),y.br=new O.Control({x:.5,y:.5,cursorStyleHandler:M,actionHandler:C}),y.mtr=new O.Control({x:0,y:-.5,actionHandler:I.rotationWithSnapping,cursorStyleHandler:I.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),O.Textbox){var S=O.Textbox.prototype.controls={};S.mtr=y.mtr,S.tr=y.tr,S.br=y.br,S.tl=y.tl,S.bl=y.bl,S.mt=y.mt,S.mb=y.mb,S.mr=new O.Control({x:.5,y:0,actionHandler:I.changeWidth,cursorStyleHandler:x,actionName:"resizing"}),S.ml=new O.Control({x:-.5,y:0,actionHandler:I.changeWidth,cursorStyleHandler:x,actionName:"resizing"})}}()},2559:at=>{"use strict";at.exports=function Ke(E,O){if(E===O)return!0;if(E&&O&&"object"==typeof E&&"object"==typeof O){if(E.constructor!==O.constructor)return!1;var be,A,ce;if(Array.isArray(E)){if((be=E.length)!=O.length)return!1;for(A=be;0!=A--;)if(!Ke(E[A],O[A]))return!1;return!0}if(E.constructor===RegExp)return E.source===O.source&&E.flags===O.flags;if(E.valueOf!==Object.prototype.valueOf)return E.valueOf()===O.valueOf();if(E.toString!==Object.prototype.toString)return E.toString()===O.toString();if((be=(ce=Object.keys(E)).length)!==Object.keys(O).length)return!1;for(A=be;0!=A--;)if(!Object.prototype.hasOwnProperty.call(O,ce[A]))return!1;for(A=be;0!=A--;){var Te=ce[A];if(!Ke(E[Te],O[Te]))return!1}return!0}return E!=E&&O!=O}},8245:at=>{"use strict";at.exports=function(Ke,E){E||(E={}),"function"==typeof E&&(E={cmp:E});var ce,O="boolean"==typeof E.cycles&&E.cycles,be=E.cmp&&(ce=E.cmp,function(Te){return function(oe,I){return ce({key:oe,value:Te[oe]},{key:I,value:Te[I]})}}),A=[];return function ce(Te){if(Te&&Te.toJSON&&"function"==typeof Te.toJSON&&(Te=Te.toJSON()),void 0!==Te){if("number"==typeof Te)return isFinite(Te)?""+Te:"null";if("object"!=typeof Te)return JSON.stringify(Te);var oe,I;if(Array.isArray(Te)){for(I="[",oe=0;oe<Te.length;oe++)oe&&(I+=","),I+=ce(Te[oe])||"null";return I+"]"}if(null===Te)return"null";if(-1!==A.indexOf(Te)){if(O)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var x=A.push(Te)-1,M=Object.keys(Te).sort(be&&be(Te));for(I="",oe=0;oe<M.length;oe++){var C=M[oe],_=ce(Te[C]);!_||(I&&(I+=","),I+=JSON.stringify(C)+":"+_)}return A.splice(x,1),"{"+I+"}"}}(Ke)}},4327:function(at,Ke){var be;void 0!==(be=function(){"use strict";function ce(C,_,m){var f=new XMLHttpRequest;f.open("GET",C),f.responseType="blob",f.onload=function(){M(f.response,_,m)},f.onerror=function(){console.error("could not download file")},f.send()}function Te(C){var _=new XMLHttpRequest;_.open("HEAD",C,!1);try{_.send()}catch(m){}return 200<=_.status&&299>=_.status}function oe(C){try{C.dispatchEvent(new MouseEvent("click"))}catch(m){var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),C.dispatchEvent(_)}}var I="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,x=I.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),M=I.saveAs||("object"!=typeof window||window!==I?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(C,_,m){var f=I.URL||I.webkitURL,y=document.createElement("a");y.download=_=_||C.name||"download",y.rel="noopener","string"==typeof C?(y.href=C,y.origin===location.origin?oe(y):Te(y.href)?ce(C,_,m):oe(y,y.target="_blank")):(y.href=f.createObjectURL(C),setTimeout(function(){f.revokeObjectURL(y.href)},4e4),setTimeout(function(){oe(y)},0))}:"msSaveOrOpenBlob"in navigator?function(C,_,m){if(_=_||C.name||"download","string"!=typeof C)navigator.msSaveOrOpenBlob(function A(C,_){return void 0===_?_={autoBom:!1}:"object"!=typeof _&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(C.type)?new Blob(["\ufeff",C],{type:C.type}):C}(C,m),_);else if(Te(C))ce(C,_,m);else{var f=document.createElement("a");f.href=C,f.target="_blank",setTimeout(function(){oe(f)})}}:function(C,_,m,f){if((f=f||open("","_blank"))&&(f.document.title=f.document.body.innerText="downloading..."),"string"==typeof C)return ce(C,_,m);var y="application/octet-stream"===C.type,S=/constructor/i.test(I.HTMLElement)||I.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||y&&S||x)&&"undefined"!=typeof FileReader){var D=new FileReader;D.onloadend=function(){var B=D.result;B=b?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=B:location=B,f=null},D.readAsDataURL(C)}else{var F=I.URL||I.webkitURL,R=F.createObjectURL(C);f?f.location=R:location.href=R,f=null,setTimeout(function(){F.revokeObjectURL(R)},4e4)}});I.saveAs=M.saveAs=M,at.exports=M}.apply(Ke,[]))&&(at.exports=be)},5386:(at,Ke,E)=>{var O;!function(be,A,ce,Te){"use strict";var b,oe=["","webkit","Moz","MS","ms","o"],I=A.createElement("div"),M=Math.round,C=Math.abs,_=Date.now;function m(de,Me,ze){return setTimeout(B(de,ze),Me)}function f(de,Me,ze){return!!Array.isArray(de)&&(y(de,ze[Me],ze),!0)}function y(de,Me,ze){var dt;if(de)if(de.forEach)de.forEach(Me,ze);else if(de.length!==Te)for(dt=0;dt<de.length;)Me.call(ze,de[dt],dt,de),dt++;else for(dt in de)de.hasOwnProperty(dt)&&Me.call(ze,de[dt],dt,de)}function S(de,Me,ze){var dt="DEPRECATED METHOD: "+Me+"\n"+ze+" AT \n";return function(){var kt=new Error("get-stack-trace"),Nt=kt&&kt.stack?kt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ni=be.console&&(be.console.warn||be.console.log);return ni&&ni.call(be.console,dt,Nt),de.apply(this,arguments)}}b="function"!=typeof Object.assign?function(Me){if(Me===Te||null===Me)throw new TypeError("Cannot convert undefined or null to object");for(var ze=Object(Me),dt=1;dt<arguments.length;dt++){var kt=arguments[dt];if(kt!==Te&&null!==kt)for(var Nt in kt)kt.hasOwnProperty(Nt)&&(ze[Nt]=kt[Nt])}return ze}:Object.assign;var D=S(function(Me,ze,dt){for(var kt=Object.keys(ze),Nt=0;Nt<kt.length;)(!dt||dt&&Me[kt[Nt]]===Te)&&(Me[kt[Nt]]=ze[kt[Nt]]),Nt++;return Me},"extend","Use `assign`."),F=S(function(Me,ze){return D(Me,ze,!0)},"merge","Use `assign`.");function R(de,Me,ze){var kt,dt=Me.prototype;(kt=de.prototype=Object.create(dt)).constructor=de,kt._super=dt,ze&&b(kt,ze)}function B(de,Me){return function(){return de.apply(Me,arguments)}}function j(de,Me){return"function"==typeof de?de.apply(Me&&Me[0]||Te,Me):de}function X(de,Me){return de===Te?Me:de}function ne(de,Me,ze){y(Ie(Me),function(dt){de.addEventListener(dt,ze,!1)})}function se(de,Me,ze){y(Ie(Me),function(dt){de.removeEventListener(dt,ze,!1)})}function Ae(de,Me){for(;de;){if(de==Me)return!0;de=de.parentNode}return!1}function Ge(de,Me){return de.indexOf(Me)>-1}function Ie(de){return de.trim().split(/\s+/g)}function Oe(de,Me,ze){if(de.indexOf&&!ze)return de.indexOf(Me);for(var dt=0;dt<de.length;){if(ze&&de[dt][ze]==Me||!ze&&de[dt]===Me)return dt;dt++}return-1}function lt(de){return Array.prototype.slice.call(de,0)}function Je(de,Me,ze){for(var dt=[],kt=[],Nt=0;Nt<de.length;){var ni=Me?de[Nt][Me]:de[Nt];Oe(kt,ni)<0&&dt.push(de[Nt]),kt[Nt]=ni,Nt++}return ze&&(dt=Me?dt.sort(function(Oi,Bn){return Oi[Me]>Bn[Me]}):dt.sort()),dt}function Ze(de,Me){for(var ze,dt,kt=Me[0].toUpperCase()+Me.slice(1),Nt=0;Nt<oe.length;){if((dt=(ze=oe[Nt])?ze+kt:Me)in de)return dt;Nt++}return Te}var Mt=1;function xt(de){var Me=de.ownerDocument||de;return Me.defaultView||Me.parentWindow||be}var Ee="ontouchstart"in be,ue=Ze(be,"PointerEvent")!==Te,Ce=Ee&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ke="touch",ge="mouse",Ot=["x","y"],ht=["clientX","clientY"];function ct(de,Me){var ze=this;this.manager=de,this.callback=Me,this.element=de.element,this.target=de.options.inputTarget,this.domHandler=function(dt){j(de.options.enable,[de])&&ze.handler(dt)},this.init()}function Yt(de,Me,ze){var dt=ze.pointers.length,kt=ze.changedPointers.length,Nt=1&Me&&dt-kt==0,ni=12&Me&&dt-kt==0;ze.isFirst=!!Nt,ze.isFinal=!!ni,Nt&&(de.session={}),ze.eventType=Me,function En(de,Me){var ze=de.session,dt=Me.pointers,kt=dt.length;ze.firstInput||(ze.firstInput=wi(Me)),kt>1&&!ze.firstMultiple?ze.firstMultiple=wi(Me):1===kt&&(ze.firstMultiple=!1);var Nt=ze.firstInput,ni=ze.firstMultiple,Ji=ni?ni.center:Nt.center,Oi=Me.center=Yn(dt);Me.timeStamp=_(),Me.deltaTime=Me.timeStamp-Nt.timeStamp,Me.angle=Xr(Ji,Oi),Me.distance=Cr(Ji,Oi),function Ai(de,Me){var ze=Me.center,dt=de.offsetDelta||{},kt=de.prevDelta||{},Nt=de.prevInput||{};(1===Me.eventType||4===Nt.eventType)&&(kt=de.prevDelta={x:Nt.deltaX||0,y:Nt.deltaY||0},dt=de.offsetDelta={x:ze.x,y:ze.y}),Me.deltaX=kt.x+(ze.x-dt.x),Me.deltaY=kt.y+(ze.y-dt.y)}(ze,Me),Me.offsetDirection=Ho(Me.deltaX,Me.deltaY);var Bn=xo(Me.deltaTime,Me.deltaX,Me.deltaY);Me.overallVelocityX=Bn.x,Me.overallVelocityY=Bn.y,Me.overallVelocity=C(Bn.x)>C(Bn.y)?Bn.x:Bn.y,Me.scale=ni?function Ba(de,Me){return Cr(Me[0],Me[1],ht)/Cr(de[0],de[1],ht)}(ni.pointers,dt):1,Me.rotation=ni?function Kr(de,Me){return Xr(Me[1],Me[0],ht)+Xr(de[1],de[0],ht)}(ni.pointers,dt):0,Me.maxPointers=ze.prevInput?Me.pointers.length>ze.prevInput.maxPointers?Me.pointers.length:ze.prevInput.maxPointers:Me.pointers.length,function Pn(de,Me){var kt,Nt,ni,Ji,ze=de.lastInterval||Me,dt=Me.timeStamp-ze.timeStamp;if(8!=Me.eventType&&(dt>25||ze.velocity===Te)){var Oi=Me.deltaX-ze.deltaX,Bn=Me.deltaY-ze.deltaY,Nr=xo(dt,Oi,Bn);Nt=Nr.x,ni=Nr.y,kt=C(Nr.x)>C(Nr.y)?Nr.x:Nr.y,Ji=Ho(Oi,Bn),de.lastInterval=Me}else kt=ze.velocity,Nt=ze.velocityX,ni=ze.velocityY,Ji=ze.direction;Me.velocity=kt,Me.velocityX=Nt,Me.velocityY=ni,Me.direction=Ji}(ze,Me);var Nr=de.element;Ae(Me.srcEvent.target,Nr)&&(Nr=Me.srcEvent.target),Me.target=Nr}(de,ze),de.emit("hammer.input",ze),de.recognize(ze),de.session.prevInput=ze}function wi(de){for(var Me=[],ze=0;ze<de.pointers.length;)Me[ze]={clientX:M(de.pointers[ze].clientX),clientY:M(de.pointers[ze].clientY)},ze++;return{timeStamp:_(),pointers:Me,center:Yn(Me),deltaX:de.deltaX,deltaY:de.deltaY}}function Yn(de){var Me=de.length;if(1===Me)return{x:M(de[0].clientX),y:M(de[0].clientY)};for(var ze=0,dt=0,kt=0;kt<Me;)ze+=de[kt].clientX,dt+=de[kt].clientY,kt++;return{x:M(ze/Me),y:M(dt/Me)}}function xo(de,Me,ze){return{x:Me/de||0,y:ze/de||0}}function Ho(de,Me){return de===Me?1:C(de)>=C(Me)?de<0?2:4:Me<0?8:16}function Cr(de,Me,ze){ze||(ze=Ot);var dt=Me[ze[0]]-de[ze[0]],kt=Me[ze[1]]-de[ze[1]];return Math.sqrt(dt*dt+kt*kt)}function Xr(de,Me,ze){return ze||(ze=Ot),180*Math.atan2(Me[ze[1]]-de[ze[1]],Me[ze[0]]-de[ze[0]])/Math.PI}ct.prototype={handler:function(){},init:function(){this.evEl&&ne(this.element,this.evEl,this.domHandler),this.evTarget&&ne(this.target,this.evTarget,this.domHandler),this.evWin&&ne(xt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&se(this.element,this.evEl,this.domHandler),this.evTarget&&se(this.target,this.evTarget,this.domHandler),this.evWin&&se(xt(this.element),this.evWin,this.domHandler)}};var dr={mousedown:1,mousemove:2,mouseup:4},oa="mousedown",eu="mousemove mouseup";function ra(){this.evEl=oa,this.evWin=eu,this.pressed=!1,ct.apply(this,arguments)}R(ra,ct,{handler:function(Me){var ze=dr[Me.type];1&ze&&0===Me.button&&(this.pressed=!0),2&ze&&1!==Me.which&&(ze=4),this.pressed&&(4&ze&&(this.pressed=!1),this.callback(this.manager,ze,{pointers:[Me],changedPointers:[Me],pointerType:ge,srcEvent:Me}))}});var xi={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Qr={2:ke,3:"pen",4:ge,5:"kinect"},gi="pointerdown",Jr="pointermove pointerup pointercancel";function _l(){this.evEl=gi,this.evWin=Jr,ct.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}be.MSPointerEvent&&!be.PointerEvent&&(gi="MSPointerDown",Jr="MSPointerMove MSPointerUp MSPointerCancel"),R(_l,ct,{handler:function(Me){var ze=this.store,dt=!1,kt=Me.type.toLowerCase().replace("ms",""),Nt=xi[kt],ni=Qr[Me.pointerType]||Me.pointerType,Ji=ni==ke,Oi=Oe(ze,Me.pointerId,"pointerId");1&Nt&&(0===Me.button||Ji)?Oi<0&&(ze.push(Me),Oi=ze.length-1):12&Nt&&(dt=!0),!(Oi<0)&&(ze[Oi]=Me,this.callback(this.manager,Nt,{pointers:ze,changedPointers:[Me],pointerType:ni,srcEvent:Me}),dt&&ze.splice(Oi,1))}});var Nn={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Rn="touchstart",vl="touchstart touchmove touchend touchcancel";function bp(){this.evTarget=Rn,this.evWin=vl,this.started=!1,ct.apply(this,arguments)}function si(de,Me){var ze=lt(de.touches),dt=lt(de.changedTouches);return 12&Me&&(ze=Je(ze.concat(dt),"identifier",!0)),[ze,dt]}R(bp,ct,{handler:function(Me){var ze=Nn[Me.type];if(1===ze&&(this.started=!0),this.started){var dt=si.call(this,Me,ze);12&ze&&dt[0].length-dt[1].length==0&&(this.started=!1),this.callback(this.manager,ze,{pointers:dt[0],changedPointers:dt[1],pointerType:ke,srcEvent:Me})}}});var tu={touchstart:1,touchmove:2,touchend:4,touchcancel:8},In="touchstart touchmove touchend touchcancel";function no(){this.evTarget=In,this.targetIds={},ct.apply(this,arguments)}function We(de,Me){var ze=lt(de.touches),dt=this.targetIds;if(3&Me&&1===ze.length)return dt[ze[0].identifier]=!0,[ze,ze];var kt,Nt,ni=lt(de.changedTouches),Ji=[],Oi=this.target;if(Nt=ze.filter(function(Bn){return Ae(Bn.target,Oi)}),1===Me)for(kt=0;kt<Nt.length;)dt[Nt[kt].identifier]=!0,kt++;for(kt=0;kt<ni.length;)dt[ni[kt].identifier]&&Ji.push(ni[kt]),12&Me&&delete dt[ni[kt].identifier],kt++;return Ji.length?[Je(Nt.concat(Ji),"identifier",!0),Ji]:void 0}function mt(){ct.apply(this,arguments);var de=B(this.handler,this);this.touch=new no(this.manager,de),this.mouse=new ra(this.manager,de),this.primaryTouch=null,this.lastTouches=[]}function pt(de,Me){1&de?(this.primaryTouch=Me.changedPointers[0].identifier,an.call(this,Me)):12&de&&an.call(this,Me)}function an(de){var Me=de.changedPointers[0];if(Me.identifier===this.primaryTouch){var ze={x:Me.clientX,y:Me.clientY};this.lastTouches.push(ze);var dt=this.lastTouches;setTimeout(function(){var Nt=dt.indexOf(ze);Nt>-1&&dt.splice(Nt,1)},2500)}}function Ln(de){for(var Me=de.srcEvent.clientX,ze=de.srcEvent.clientY,dt=0;dt<this.lastTouches.length;dt++){var kt=this.lastTouches[dt],Nt=Math.abs(Me-kt.x),ni=Math.abs(ze-kt.y);if(Nt<=25&&ni<=25)return!0}return!1}R(no,ct,{handler:function(Me){var ze=tu[Me.type],dt=We.call(this,Me,ze);!dt||this.callback(this.manager,ze,{pointers:dt[0],changedPointers:dt[1],pointerType:ke,srcEvent:Me})}}),R(mt,ct,{handler:function(Me,ze,dt){var Nt=dt.pointerType==ge;if(!(Nt&&dt.sourceCapabilities&&dt.sourceCapabilities.firesTouchEvents)){if(dt.pointerType==ke)pt.call(this,ze,dt);else if(Nt&&Ln.call(this,dt))return;this.callback(Me,ze,dt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var pi=Ze(I.style,"touchAction"),Hn=pi!==Te,lo="compute",zi="manipulation",ji="none",Ti="pan-x",ti="pan-y",Ri=function Un(){if(!Hn)return!1;var de={},Me=be.CSS&&be.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ze){de[ze]=!Me||be.CSS.supports("touch-action",ze)}),de}();function Si(de,Me){this.manager=de,this.set(Me)}function Sr(de){this.options=b({},this.defaults,de||{}),this.id=function It(){return Mt++}(),this.manager=null,this.options.enable=X(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function lc(de){return 16&de?"cancel":8&de?"end":4&de?"move":2&de?"start":""}function cc(de){return 16==de?"down":8==de?"up":2==de?"left":4==de?"right":""}function Ps(de,Me){var ze=Me.manager;return ze?ze.get(de):de}function Mo(){Sr.apply(this,arguments)}function Er(){Mo.apply(this,arguments),this.pX=null,this.pY=null}function Us(){Mo.apply(this,arguments)}function uc(){Sr.apply(this,arguments),this._timer=null,this._input=null}function vn(){Mo.apply(this,arguments)}function dc(){Mo.apply(this,arguments)}function nu(){Sr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function pr(de,Me){return(Me=Me||{}).recognizers=X(Me.recognizers,pr.defaults.preset),new us(de,Me)}function us(de,Me){this.options=b({},pr.defaults,Me||{}),this.options.inputTarget=this.options.inputTarget||de,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=de,this.input=function Dt(de){return new(de.options.inputClass||(ue?_l:Ce?no:Ee?mt:ra))(de,Yt)}(this),this.touchAction=new Si(this,this.options.touchAction),Qo(this,!0),y(this.options.recognizers,function(ze){var dt=this.add(new ze[0](ze[1]));ze[2]&&dt.recognizeWith(ze[2]),ze[3]&&dt.requireFailure(ze[3])},this)}function Qo(de,Me){var dt,ze=de.element;ze.style&&(y(de.options.cssProps,function(kt,Nt){dt=Ze(ze.style,Nt),Me?(de.oldCssProps[dt]=ze.style[dt],ze.style[dt]=kt):ze.style[dt]=de.oldCssProps[dt]||""}),Me||(de.oldCssProps={}))}Si.prototype={set:function(de){de==lo&&(de=this.compute()),Hn&&this.manager.element.style&&Ri[de]&&(this.manager.element.style[pi]=de),this.actions=de.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var de=[];return y(this.manager.recognizers,function(Me){j(Me.options.enable,[Me])&&(de=de.concat(Me.getTouchAction()))}),function Co(de){if(Ge(de,ji))return ji;var Me=Ge(de,Ti),ze=Ge(de,ti);return Me&&ze?ji:Me||ze?Me?Ti:ti:Ge(de,zi)?zi:"auto"}(de.join(" "))},preventDefaults:function(de){var Me=de.srcEvent,ze=de.offsetDirection;if(!this.manager.session.prevented){var dt=this.actions,kt=Ge(dt,ji)&&!Ri[ji],Nt=Ge(dt,ti)&&!Ri[ti],ni=Ge(dt,Ti)&&!Ri[Ti];if(kt&&1===de.pointers.length&&de.distance<2&&de.deltaTime<250)return;return ni&&Nt||!(kt||Nt&&6&ze||ni&&24&ze)?void 0:this.preventSrc(Me)}Me.preventDefault()},preventSrc:function(de){this.manager.session.prevented=!0,de.preventDefault()}},Sr.prototype={defaults:{},set:function(de){return b(this.options,de),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(de){if(f(de,"recognizeWith",this))return this;var Me=this.simultaneous;return Me[(de=Ps(de,this)).id]||(Me[de.id]=de,de.recognizeWith(this)),this},dropRecognizeWith:function(de){return f(de,"dropRecognizeWith",this)||(de=Ps(de,this),delete this.simultaneous[de.id]),this},requireFailure:function(de){if(f(de,"requireFailure",this))return this;var Me=this.requireFail;return-1===Oe(Me,de=Ps(de,this))&&(Me.push(de),de.requireFailure(this)),this},dropRequireFailure:function(de){if(f(de,"dropRequireFailure",this))return this;de=Ps(de,this);var Me=Oe(this.requireFail,de);return Me>-1&&this.requireFail.splice(Me,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(de){return!!this.simultaneous[de.id]},emit:function(de){var Me=this,ze=this.state;function dt(kt){Me.manager.emit(kt,de)}ze<8&&dt(Me.options.event+lc(ze)),dt(Me.options.event),de.additionalEvent&&dt(de.additionalEvent),ze>=8&&dt(Me.options.event+lc(ze))},tryEmit:function(de){if(this.canEmit())return this.emit(de);this.state=32},canEmit:function(){for(var de=0;de<this.requireFail.length;){if(!(33&this.requireFail[de].state))return!1;de++}return!0},recognize:function(de){var Me=b({},de);if(!j(this.options.enable,[this,Me]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(Me),30&this.state&&this.tryEmit(Me)},process:function(de){},getTouchAction:function(){},reset:function(){}},R(Mo,Sr,{defaults:{pointers:1},attrTest:function(de){var Me=this.options.pointers;return 0===Me||de.pointers.length===Me},process:function(de){var Me=this.state,ze=de.eventType,dt=6&Me,kt=this.attrTest(de);return dt&&(8&ze||!kt)?16|Me:dt||kt?4&ze?8|Me:2&Me?4|Me:2:32}}),R(Er,Mo,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var de=this.options.direction,Me=[];return 6&de&&Me.push(ti),24&de&&Me.push(Ti),Me},directionTest:function(de){var Me=this.options,ze=!0,dt=de.distance,kt=de.direction,Nt=de.deltaX,ni=de.deltaY;return kt&Me.direction||(6&Me.direction?(kt=0===Nt?1:Nt<0?2:4,ze=Nt!=this.pX,dt=Math.abs(de.deltaX)):(kt=0===ni?1:ni<0?8:16,ze=ni!=this.pY,dt=Math.abs(de.deltaY))),de.direction=kt,ze&&dt>Me.threshold&&kt&Me.direction},attrTest:function(de){return Mo.prototype.attrTest.call(this,de)&&(2&this.state||!(2&this.state)&&this.directionTest(de))},emit:function(de){this.pX=de.deltaX,this.pY=de.deltaY;var Me=cc(de.direction);Me&&(de.additionalEvent=this.options.event+Me),this._super.emit.call(this,de)}}),R(Us,Mo,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ji]},attrTest:function(de){return this._super.attrTest.call(this,de)&&(Math.abs(de.scale-1)>this.options.threshold||2&this.state)},emit:function(de){1!==de.scale&&(de.additionalEvent=this.options.event+(de.scale<1?"in":"out")),this._super.emit.call(this,de)}}),R(uc,Sr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(de){var Me=this.options,ze=de.pointers.length===Me.pointers,dt=de.distance<Me.threshold,kt=de.deltaTime>Me.time;if(this._input=de,!dt||!ze||12&de.eventType&&!kt)this.reset();else if(1&de.eventType)this.reset(),this._timer=m(function(){this.state=8,this.tryEmit()},Me.time,this);else if(4&de.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(de){8===this.state&&(de&&4&de.eventType?this.manager.emit(this.options.event+"up",de):(this._input.timeStamp=_(),this.manager.emit(this.options.event,this._input)))}}),R(vn,Mo,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ji]},attrTest:function(de){return this._super.attrTest.call(this,de)&&(Math.abs(de.rotation)>this.options.threshold||2&this.state)}}),R(dc,Mo,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Er.prototype.getTouchAction.call(this)},attrTest:function(de){var ze,Me=this.options.direction;return 30&Me?ze=de.overallVelocity:6&Me?ze=de.overallVelocityX:24&Me&&(ze=de.overallVelocityY),this._super.attrTest.call(this,de)&&Me&de.offsetDirection&&de.distance>this.options.threshold&&de.maxPointers==this.options.pointers&&C(ze)>this.options.velocity&&4&de.eventType},emit:function(de){var Me=cc(de.offsetDirection);Me&&this.manager.emit(this.options.event+Me,de),this.manager.emit(this.options.event,de)}}),R(nu,Sr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[zi]},process:function(de){var Me=this.options,ze=de.pointers.length===Me.pointers,dt=de.distance<Me.threshold,kt=de.deltaTime<Me.time;if(this.reset(),1&de.eventType&&0===this.count)return this.failTimeout();if(dt&&kt&&ze){if(4!=de.eventType)return this.failTimeout();var Nt=!this.pTime||de.timeStamp-this.pTime<Me.interval,ni=!this.pCenter||Cr(this.pCenter,de.center)<Me.posThreshold;if(this.pTime=de.timeStamp,this.pCenter=de.center,ni&&Nt?this.count+=1:this.count=1,this._input=de,0==this.count%Me.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=8,this.tryEmit()},Me.interval,this),2):8}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),pr.VERSION="2.0.7",pr.defaults={domEvents:!1,touchAction:lo,enable:!0,inputTarget:null,inputClass:null,preset:[[vn,{enable:!1}],[Us,{enable:!1},["rotate"]],[dc,{direction:6}],[Er,{direction:6},["swipe"]],[nu],[nu,{event:"doubletap",taps:2},["tap"]],[uc]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},us.prototype={set:function(de){return b(this.options,de),de.touchAction&&this.touchAction.update(),de.inputTarget&&(this.input.destroy(),this.input.target=de.inputTarget,this.input.init()),this},stop:function(de){this.session.stopped=de?2:1},recognize:function(de){var Me=this.session;if(!Me.stopped){this.touchAction.preventDefaults(de);var ze,dt=this.recognizers,kt=Me.curRecognizer;(!kt||kt&&8&kt.state)&&(kt=Me.curRecognizer=null);for(var Nt=0;Nt<dt.length;)ze=dt[Nt],2===Me.stopped||kt&&ze!=kt&&!ze.canRecognizeWith(kt)?ze.reset():ze.recognize(de),!kt&&14&ze.state&&(kt=Me.curRecognizer=ze),Nt++}},get:function(de){if(de instanceof Sr)return de;for(var Me=this.recognizers,ze=0;ze<Me.length;ze++)if(Me[ze].options.event==de)return Me[ze];return null},add:function(de){if(f(de,"add",this))return this;var Me=this.get(de.options.event);return Me&&this.remove(Me),this.recognizers.push(de),de.manager=this,this.touchAction.update(),de},remove:function(de){if(f(de,"remove",this))return this;if(de=this.get(de)){var Me=this.recognizers,ze=Oe(Me,de);-1!==ze&&(Me.splice(ze,1),this.touchAction.update())}return this},on:function(de,Me){if(de!==Te&&Me!==Te){var ze=this.handlers;return y(Ie(de),function(dt){ze[dt]=ze[dt]||[],ze[dt].push(Me)}),this}},off:function(de,Me){if(de!==Te){var ze=this.handlers;return y(Ie(de),function(dt){Me?ze[dt]&&ze[dt].splice(Oe(ze[dt],Me),1):delete ze[dt]}),this}},emit:function(de,Me){this.options.domEvents&&function X_(de,Me){var ze=A.createEvent("Event");ze.initEvent(de,!0,!0),ze.gesture=Me,Me.target.dispatchEvent(ze)}(de,Me);var ze=this.handlers[de]&&this.handlers[de].slice();if(ze&&ze.length){Me.type=de,Me.preventDefault=function(){Me.srcEvent.preventDefault()};for(var dt=0;dt<ze.length;)ze[dt](Me),dt++}},destroy:function(){this.element&&Qo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},b(pr,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:us,Input:ct,TouchAction:Si,TouchInput:no,MouseInput:ra,PointerEventInput:_l,TouchMouseInput:mt,SingleTouchInput:bp,Recognizer:Sr,AttrRecognizer:Mo,Tap:nu,Pan:Er,Swipe:dc,Pinch:Us,Rotate:vn,Press:uc,on:ne,off:se,each:y,merge:F,extend:D,assign:b,inherit:R,bindFn:B,prefixed:Ze}),(void 0!==be?be:"undefined"!=typeof self?self:{}).Hammer=pr,(O=function(){return pr}.call(Ke,E,Ke,at))!==Te&&(at.exports=O)}(window,document)},9294:(at,Ke,E)=>{"use strict";var be,A,O=[E(5525),E(9814),E(8607),E(4628),E(4683),E(7710)],ce=-1,Te=[],oe=!1;function I(){!be||!A||(be=!1,A.length?Te=A.concat(Te):ce=-1,Te.length&&x())}function x(){if(!be){oe=!1,be=!0;for(var y=Te.length,S=setTimeout(I);y;){for(A=Te,Te=[];A&&++ce<y;)A[ce].run();ce=-1,y=Te.length}A=null,ce=-1,be=!1,clearTimeout(S)}}for(var M,C=-1,_=O.length;++C<_;)if(O[C]&&O[C].test&&O[C].test()){M=O[C].install(x);break}function m(y,S){this.fun=y,this.array=S}m.prototype.run=function(){var y=this.fun,S=this.array;switch(S.length){case 0:return y();case 1:return y(S[0]);case 2:return y(S[0],S[1]);case 3:return y(S[0],S[1],S[2]);default:return y.apply(null,S)}},at.exports=function f(y){var S=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)S[b-1]=arguments[b];Te.push(new m(y,S)),!oe&&!be&&(oe=!0,M())}},4628:(at,Ke)=>{"use strict";Ke.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},Ke.install=function(E){var O=new global.MessageChannel;return O.port1.onmessage=E,function(){O.port2.postMessage(0)}}},8607:(at,Ke)=>{"use strict";var E=global.MutationObserver||global.WebKitMutationObserver;Ke.test=function(){return E},Ke.install=function(O){var be=0,A=new E(O),ce=global.document.createTextNode("");return A.observe(ce,{characterData:!0}),function(){ce.data=be=++be%2}}},9814:(at,Ke)=>{"use strict";Ke.test=function(){return"function"==typeof global.queueMicrotask},Ke.install=function(E){return function(){global.queueMicrotask(E)}}},4683:(at,Ke)=>{"use strict";Ke.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},Ke.install=function(E){return function(){var O=global.document.createElement("script");return O.onreadystatechange=function(){E(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},global.document.documentElement.appendChild(O),E}}},7710:(at,Ke)=>{"use strict";Ke.test=function(){return!0},Ke.install=function(E){return function(){setTimeout(E,0)}}},3894:at=>{at.exports="function"==typeof Object.create?function(E,O){O&&(E.super_=O,E.prototype=Object.create(O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}))}:function(E,O){if(O){E.super_=O;var be=function(){};be.prototype=O.prototype,E.prototype=new be,E.prototype.constructor=E}}},3366:at=>{"use strict";var Ke=at.exports=function(be,A,ce){"function"==typeof A&&(ce=A,A={}),E(A,"function"==typeof(ce=A.cb||ce)?ce:ce.pre||function(){},ce.post||function(){},be,"",be)};function E(be,A,ce,Te,oe,I,x,M,C,_){if(Te&&"object"==typeof Te&&!Array.isArray(Te)){for(var m in A(Te,oe,I,x,M,C,_),Te){var f=Te[m];if(Array.isArray(f)){if(m in Ke.arrayKeywords)for(var y=0;y<f.length;y++)E(be,A,ce,f[y],oe+"/"+m+"/"+y,I,oe,m,Te,y)}else if(m in Ke.propsKeywords){if(f&&"object"==typeof f)for(var S in f)E(be,A,ce,f[S],oe+"/"+m+"/"+O(S),I,oe,m,Te,S)}else(m in Ke.keywords||be.allKeys&&!(m in Ke.skipKeywords))&&E(be,A,ce,f,oe+"/"+m,I,oe,m,Te)}ce(Te,oe,I,x,M,C,_)}}function O(be){return be.replace(/~/g,"~0").replace(/\//g,"~1")}Ke.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},Ke.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Ke.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Ke.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},1632:(at,Ke,E)=>{"use strict";function O(fe){return Array.prototype.concat.apply([],fe)}E.r(Ke),E.d(Ke,{assign:()=>me,bind:()=>ue,debounce:()=>Ne,ensureArray:()=>m,every:()=>B,filter:()=>b,find:()=>y,findIndex:()=>S,flatten:()=>O,forEach:()=>D,get:()=>Fe,groupBy:()=>Ge,has:()=>f,isArray:()=>I,isDefined:()=>Te,isFunction:()=>C,isNil:()=>oe,isNumber:()=>M,isObject:()=>x,isString:()=>_,isUndefined:()=>ce,keys:()=>ne,map:()=>X,matchPattern:()=>Je,merge:()=>xe,omit:()=>Se,pick:()=>ee,reduce:()=>R,set:()=>ge,size:()=>se,some:()=>j,sortBy:()=>lt,throttle:()=>Ee,unionBy:()=>Oe,uniqueBy:()=>Ie,values:()=>Ae,without:()=>F});var be=Object.prototype.toString,A=Object.prototype.hasOwnProperty;function ce(fe){return void 0===fe}function Te(fe){return void 0!==fe}function oe(fe){return null==fe}function I(fe){return"[object Array]"===be.call(fe)}function x(fe){return"[object Object]"===be.call(fe)}function M(fe){return"[object Number]"===be.call(fe)}function C(fe){var he=be.call(fe);return"[object Function]"===he||"[object AsyncFunction]"===he||"[object GeneratorFunction]"===he||"[object AsyncGeneratorFunction]"===he||"[object Proxy]"===he}function _(fe){return"[object String]"===be.call(fe)}function m(fe){if(!I(fe))throw new Error("must supply array")}function f(fe,he){return A.call(fe,he)}function y(fe,he){var Pe;return he=Mt(he),D(fe,function(le,pe){if(he(le,pe))return Pe=le,!1}),Pe}function S(fe,he){he=Mt(he);var Pe=I(fe)?-1:void 0;return D(fe,function(le,pe){if(he(le,pe))return Pe=pe,!1}),Pe}function b(fe,he){var Pe=[];return D(fe,function(le,pe){he(le,pe)&&Pe.push(le)}),Pe}function D(fe,he){var Pe;if(!ce(fe)){var pe=I(fe)?xt:It;for(var Le in fe)if(f(fe,Le)&&!1===he(Pe=fe[Le],pe(Le)))return Pe}}function F(fe,he){return ce(fe)?[]:(m(fe),he=Mt(he),fe.filter(function(Pe,le){return!he(Pe,le)}))}function R(fe,he,Pe){return D(fe,function(le,pe){Pe=he(Pe,le,pe)}),Pe}function B(fe,he){return!!R(fe,function(Pe,le,pe){return Pe&&he(le,pe)},!0)}function j(fe,he){return!!y(fe,he)}function X(fe,he){var Pe=[];return D(fe,function(le,pe){Pe.push(he(le,pe))}),Pe}function ne(fe){return fe&&Object.keys(fe)||[]}function se(fe){return ne(fe).length}function Ae(fe){return X(fe,function(he){return he})}function Ge(fe,he){var Pe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return he=Ze(he),D(fe,function(le){var pe=he(le)||"_",Le=Pe[pe];Le||(Le=Pe[pe]=[]),Le.push(le)}),Pe}function Ie(fe){fe=Ze(fe);for(var he={},Pe=arguments.length,le=new Array(Pe>1?Pe-1:0),pe=1;pe<Pe;pe++)le[pe-1]=arguments[pe];D(le,function(Ye){return Ge(Ye,fe,he)});var Le=X(he,function(Ye,Qe){return Ye[0]});return Le}var Oe=Ie;function lt(fe,he){he=Ze(he);var Pe=[];return D(fe,function(le,pe){for(var Le=he(le,pe),Ye={d:Le,v:le},Qe=0;Qe<Pe.length;Qe++)if(Le<Pe[Qe].d)return void Pe.splice(Qe,0,Ye);Pe.push(Ye)}),X(Pe,function(le){return le.v})}function Je(fe){return function(he){return B(fe,function(Pe,le){return he[le]===Pe})}}function Ze(fe){return C(fe)?fe:function(he){return he[fe]}}function Mt(fe){return C(fe)?fe:function(he){return he===fe}}function It(fe){return fe}function xt(fe){return Number(fe)}function Ne(fe,he){var Pe,le,pe,Le;function Ye(ht){var ct=Date.now(),Dt=ht?0:Le+he-ct;if(Dt>0)return Qe(Dt);fe.apply(pe,le),tt()}function Qe(ht){Pe=setTimeout(Ye,ht)}function tt(){Pe&&clearTimeout(Pe),Pe=Le=le=pe=void 0}function Ot(){Le=Date.now();for(var ht=arguments.length,ct=new Array(ht),Dt=0;Dt<ht;Dt++)ct[Dt]=arguments[Dt];le=ct,pe=this,Pe||Qe(he)}return Ot.flush=function gt(){Pe&&Ye(!0),tt()},Ot.cancel=tt,Ot}function Ee(fe,he){var Pe=!1;return function(){Pe||(fe.apply(void 0,arguments),Pe=!0,setTimeout(function(){Pe=!1},he))}}function ue(fe,he){return fe.bind(he)}function Ce(fe){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(fe)}function ke(){return ke=Object.assign||function(fe){for(var he=1;he<arguments.length;he++){var Pe=arguments[he];for(var le in Pe)Object.prototype.hasOwnProperty.call(Pe,le)&&(fe[le]=Pe[le])}return fe},ke.apply(this,arguments)}function me(fe){for(var he=arguments.length,Pe=new Array(he>1?he-1:0),le=1;le<he;le++)Pe[le-1]=arguments[le];return ke.apply(void 0,[fe].concat(Pe))}function ge(fe,he,Pe){var le=fe;return D(he,function(pe,Le){if("number"!=typeof pe&&"string"!=typeof pe)throw new Error("illegal key type: "+Ce(pe)+". Key should be of type number or string.");if("constructor"===pe)throw new Error("illegal key: constructor");if("__proto__"===pe)throw new Error("illegal key: __proto__");var Ye=he[Le+1],Qe=le[pe];Te(Ye)&&oe(Qe)&&(Qe=le[pe]=isNaN(+Ye)?{}:[]),ce(Ye)?ce(Pe)?delete le[pe]:le[pe]=Pe:le=Qe}),fe}function Fe(fe,he,Pe){var le=fe;return D(he,function(pe){if(oe(le))return le=void 0,!1;le=le[pe]}),ce(le)?Pe:le}function ee(fe,he){var Pe={},le=Object(fe);return D(he,function(pe){pe in le&&(Pe[pe]=fe[pe])}),Pe}function Se(fe,he){var Pe={};return D(Object(fe),function(pe,Le){-1===he.indexOf(Le)&&(Pe[Le]=pe)}),Pe}function xe(fe){for(var he=arguments.length,Pe=new Array(he>1?he-1:0),le=1;le<he;le++)Pe[le-1]=arguments[le];return Pe.length&&D(Pe,function(pe){!pe||!x(pe)||D(pe,function(Le,Ye){if("__proto__"!==Ye){var Qe=fe[Ye];x(Le)?(x(Qe)||(Qe={}),fe[Ye]=xe(Qe,Le)):fe[Ye]=Le}})}),fe}},6318:(at,Ke,E)=>{at.exports=E(4632),at.exports.Collection=E(6981)},6981:at=>{"use strict";at.exports.extend=function Ke(O,be,A,ce){var Te=A.inverse;return Object.defineProperty(O,"remove",{value:function(oe){var I=this.indexOf(oe);return-1!==I&&(this.splice(I,1),be.unset(oe,Te,ce)),oe}}),Object.defineProperty(O,"contains",{value:function(oe){return-1!==this.indexOf(oe)}}),Object.defineProperty(O,"add",{value:function(oe,I){var x=this.indexOf(oe);if(void 0===I){if(-1!==x)return;I=this.length}-1!==x&&this.splice(x,1),this.splice(I,0,oe),-1===x&&be.set(oe,Te,ce)}}),Object.defineProperty(O,"__refs_collection",{value:!0}),O},at.exports.isExtended=function E(O){return!0===O.__refs_collection}},4632:(at,Ke,E)=>{"use strict";var O=E(6981);function A(oe,I,x){var M=O.extend(x[I.name]||[],oe,I,x);Object.defineProperty(x,I.name,{enumerable:I.enumerable,value:M}),M.length&&M.forEach(function(C){oe.set(C,I.inverse,x)})}function Te(oe,I){if(!(this instanceof Te))return new Te(oe,I);oe.inverse=I,I.inverse=oe,this.props={},this.props[oe.name]=oe,this.props[I.name]=I}Te.prototype.bind=function(oe,I){if("string"==typeof I){if(!this.props[I])throw new Error("no property <"+I+"> in ref");I=this.props[I]}I.collection?A(this,I,oe):function ce(oe,I,x){var M=I.inverse,C=x[I.name];Object.defineProperty(x,I.name,{configurable:I.configurable,enumerable:I.enumerable,get:function(){return C},set:function(_){if(_!==C){var m=C;C=null,m&&oe.unset(m,M,x),oe.set(C=_,M,x)}}})}(this,I,oe)},Te.prototype.ensureRefsCollection=function(oe,I){var x=oe[I.name];return O.isExtended(x)||A(this,I,oe),x},Te.prototype.ensureBound=function(oe,I){(function be(oe,I){return Object.prototype.hasOwnProperty.call(oe,I.name||I)})(oe,I)||this.bind(oe,I)},Te.prototype.unset=function(oe,I,x){oe&&(this.ensureBound(oe,I),I.collection?this.ensureRefsCollection(oe,I).remove(x):oe[I.name]=void 0)},Te.prototype.set=function(oe,I,x){oe&&(this.ensureBound(oe,I),I.collection?this.ensureRefsCollection(oe,I).add(x):oe[I.name]=x)},at.exports=Te},8463:at=>{"use strict";var Ke=/,?([a-z]),?/gi,E=parseFloat,O=Math,be=O.PI,A=O.min,ce=O.max,Te=O.pow,oe=O.abs,I=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,x=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,M=Array.isArray||function(Ee){return Ee instanceof Array};function C(Ee,ue){return Object.prototype.hasOwnProperty.call(Ee,ue)}function _(Ee){if("function"==typeof Ee||Object(Ee)!==Ee)return Ee;var ue=new Ee.constructor;for(var Ce in Ee)C(Ee,Ce)&&(ue[Ce]=_(Ee[Ce]));return ue}function m(Ee,ue){for(var Ce=0,ke=Ee.length;Ce<ke;Ce++)if(Ee[Ce]===ue)return Ee.push(Ee.splice(Ce,1)[0])}function S(Ee){var ue=S.ps=S.ps||{};return ue[Ee]?ue[Ee].sleep=100:ue[Ee]={sleep:100},setTimeout(function(){for(var Ce in ue)C(ue,Ce)&&Ce!=Ee&&(ue[Ce].sleep--,!ue[Ce].sleep&&delete ue[Ce])}),ue[Ee]}function b(Ee,ue,Ce,ke){return 1===arguments.length&&(ue=Ee.y,Ce=Ee.width,ke=Ee.height,Ee=Ee.x),{x:Ee,y:ue,width:Ce,height:ke,x2:Ee+Ce,y2:ue+ke}}function D(){return this.join(",").replace(Ke,"$1")}function F(Ee){var ue=_(Ee);return ue.toString=D,ue}function R(Ee,ue,Ce,ke,me,ge,Fe,ee,Se){var xe=1-Se,fe=Te(xe,3),he=Te(xe,2),le=Se*Se*Se,Le=fe*ue+3*he*Se*ke+3*xe*Se*Se*ge+le*ee;return{x:Ge(fe*Ee+3*he*Se*Ce+3*xe*Se*Se*me+le*Fe),y:Ge(Le)}}function B(Ee){var ue=xt.apply(null,Ee);return b(ue.x0,ue.y0,ue.x1-ue.x0,ue.y1-ue.y0)}function j(Ee,ue,Ce){return ue>=Ee.x&&ue<=Ee.x+Ee.width&&Ce>=Ee.y&&Ce<=Ee.y+Ee.height}function ne(Ee,ue,Ce,ke,me){return Ee*(Ee*(-3*ue+9*Ce-9*ke+3*me)+6*ue-12*Ce+6*ke)-3*ue+3*Ce}function se(Ee,ue,Ce,ke,me,ge,Fe,ee,Se){null==Se&&(Se=1);for(var xe=(Se=Se>1?1:Se<0?0:Se)/2,he=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Pe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],le=0,pe=0;pe<12;pe++){var Le=xe*he[pe]+xe,Ye=ne(Le,Ee,Ce,me,Fe),Qe=ne(Le,ue,ke,ge,ee);le+=Pe[pe]*O.sqrt(Ye*Ye+Qe*Qe)}return xe*le}function Ae(Ee,ue,Ce,ke,me,ge,Fe,ee){if(!(ce(Ee,Ce)<A(me,Fe)||A(Ee,Ce)>ce(me,Fe)||ce(ue,ke)<A(ge,ee)||A(ue,ke)>ce(ge,ee))){var xe=(Ee*ke-ue*Ce)*(ge-ee)-(ue-ke)*(me*ee-ge*Fe),fe=(Ee-Ce)*(ge-ee)-(ue-ke)*(me-Fe);if(fe){var he=Ge(((Ee*ke-ue*Ce)*(me-Fe)-(Ee-Ce)*(me*ee-ge*Fe))/fe),Pe=Ge(xe/fe),le=+he.toFixed(2),pe=+Pe.toFixed(2);if(!(le<+A(Ee,Ce).toFixed(2)||le>+ce(Ee,Ce).toFixed(2)||le<+A(me,Fe).toFixed(2)||le>+ce(me,Fe).toFixed(2)||pe<+A(ue,ke).toFixed(2)||pe>+ce(ue,ke).toFixed(2)||pe<+A(ge,ee).toFixed(2)||pe>+ce(ge,ee).toFixed(2)))return{x:he,y:Pe}}}}function Ge(Ee){return Math.round(1e11*Ee)/1e11}function Ie(Ee,ue,Ce){if(!function X(Ee,ue){return Ee=b(Ee),j(ue=b(ue),Ee.x,Ee.y)||j(ue,Ee.x2,Ee.y)||j(ue,Ee.x,Ee.y2)||j(ue,Ee.x2,Ee.y2)||j(Ee,ue.x,ue.y)||j(Ee,ue.x2,ue.y)||j(Ee,ue.x,ue.y2)||j(Ee,ue.x2,ue.y2)||(Ee.x<ue.x2&&Ee.x>ue.x||ue.x<Ee.x2&&ue.x>Ee.x)&&(Ee.y<ue.y2&&Ee.y>ue.y||ue.y<Ee.y2&&ue.y>Ee.y)}(B(Ee),B(ue)))return Ce?0:[];for(var ge=se.apply(0,Ee),Fe=se.apply(0,ue),ee=Je(Ee)?1:~~(ge/5)||1,Se=Je(ue)?1:~~(Fe/5)||1,xe=[],fe=[],he={},Pe=Ce?0:[],le=0;le<ee+1;le++){var pe=R.apply(0,Ee.concat(le/ee));xe.push({x:pe.x,y:pe.y,t:le/ee})}for(le=0;le<Se+1;le++)pe=R.apply(0,ue.concat(le/Se)),fe.push({x:pe.x,y:pe.y,t:le/Se});for(le=0;le<ee;le++)for(var Le=0;Le<Se;Le++){var Dt,Ye=xe[le],Qe=xe[le+1],tt=fe[Le],gt=fe[Le+1],Ot=oe(Qe.x-Ye.x)<.01?"y":"x",ht=oe(gt.x-tt.x)<.01?"y":"x",ct=Ae(Ye.x,Ye.y,Qe.x,Qe.y,tt.x,tt.y,gt.x,gt.y);if(ct){if(he[Dt=ct.x.toFixed(9)+"#"+ct.y.toFixed(9)])continue;he[Dt]=!0;var Yt=Ye.t+oe((ct[Ot]-Ye[Ot])/(Qe[Ot]-Ye[Ot]))*(Qe.t-Ye.t),En=tt.t+oe((ct[ht]-tt[ht])/(gt[ht]-tt[ht]))*(gt.t-tt.t);Yt>=0&&Yt<=1&&En>=0&&En<=1&&(Ce?Pe++:Pe.push({x:ct.x,y:ct.y,t1:Yt,t2:En}))}}return Pe}function Je(Ee){return Ee[0]===Ee[2]&&Ee[1]===Ee[3]&&Ee[4]===Ee[6]&&Ee[5]===Ee[7]}function Ze(Ee,ue,Ce,ke){return[Ee,ue,Ce,ke,Ce,ke]}function Mt(Ee,ue,Ce,ke,me,ge){var Fe=.3333333333333333,ee=2/3;return[Fe*Ee+ee*Ce,Fe*ue+ee*ke,Fe*me+ee*Ce,Fe*ge+ee*ke,me,ge]}function It(Ee,ue,Ce,ke,me,ge,Fe,ee,Se,xe){var le,fe=120*be/180,he=be/180*(+me||0),Pe=[],pe=function f(Ee){return function ue(){var Ce=Array.prototype.slice.call(arguments,0),ke=Ce.join("\u2400"),me=ue.cache=ue.cache||{},ge=ue.count=ue.count||[];return C(me,ke)?(m(ge,ke),me[ke]):(ge.length>=1e3&&delete me[ge.shift()],ge.push(ke),me[ke]=Ee.apply(0,Ce),me[ke])}}(function(Jr,_l,Nn){return{x:Jr*O.cos(Nn)-_l*O.sin(Nn),y:Jr*O.sin(Nn)+_l*O.cos(Nn)}});if(xe)Dt=xe[0],Yt=xe[1],ht=xe[2],ct=xe[3];else{ue=(le=pe(Ee,ue,-he)).y;var Le=((Ee=le.x)-(ee=(le=pe(ee,Se,-he)).x))/2,Ye=(ue-(Se=le.y))/2,Qe=Le*Le/(Ce*Ce)+Ye*Ye/(ke*ke);Qe>1&&(Ce*=Qe=O.sqrt(Qe),ke*=Qe);var tt=Ce*Ce,gt=ke*ke,Ot=(ge==Fe?-1:1)*O.sqrt(oe((tt*gt-tt*Ye*Ye-gt*Le*Le)/(tt*Ye*Ye+gt*Le*Le))),ht=Ot*Ce*Ye/ke+(Ee+ee)/2,ct=Ot*-ke*Le/Ce+(ue+Se)/2,Dt=O.asin(((ue-ct)/ke).toFixed(9)),Yt=O.asin(((Se-ct)/ke).toFixed(9));(Dt=Ee<ht?be-Dt:Dt)<0&&(Dt=2*be+Dt),(Yt=ee<ht?be-Yt:Yt)<0&&(Yt=2*be+Yt),Fe&&Dt>Yt&&(Dt-=2*be),!Fe&&Yt>Dt&&(Yt-=2*be)}var En=Yt-Dt;if(oe(En)>fe){var Ai=Yt,Pn=ee,wi=Se;Pe=It(ee=ht+Ce*O.cos(Yt=Dt+fe*(Fe&&Yt>Dt?1:-1)),Se=ct+ke*O.sin(Yt),Ce,ke,me,0,Fe,Pn,wi,[Yt,Ai,ht,ct])}En=Yt-Dt;var Yn=O.cos(Dt),xo=O.sin(Dt),Ho=O.cos(Yt),Cr=O.sin(Yt),Xr=O.tan(En/4),Kr=4/3*Ce*Xr,Ba=4/3*ke*Xr,dr=[Ee,ue],oa=[Ee+Kr*xo,ue-Ba*Yn],eu=[ee+Kr*Cr,Se-Ba*Ho],ra=[ee,Se];if(oa[0]=2*dr[0]-oa[0],oa[1]=2*dr[1]-oa[1],xe)return[oa,eu,ra].concat(Pe);for(var xi=[],Qr=0,gi=(Pe=[oa,eu,ra].concat(Pe).join().split(",")).length;Qr<gi;Qr++)xi[Qr]=Qr%2?pe(Pe[Qr-1],Pe[Qr],he).y:pe(Pe[Qr],Pe[Qr+1],he).x;return xi}function xt(Ee,ue,Ce,ke,me,ge,Fe,ee){for(var fe,he,Pe,le,pe,Le,Ye,Qe,Se=[],xe=[[],[]],tt=0;tt<2;++tt)if(0==tt?(he=6*Ee-12*Ce+6*me,fe=-3*Ee+9*Ce-9*me+3*Fe,Pe=3*Ce-3*Ee):(he=6*ue-12*ke+6*ge,fe=-3*ue+9*ke-9*ge+3*ee,Pe=3*ke-3*ue),oe(fe)<1e-12){if(oe(he)<1e-12)continue;0<(le=-Pe/he)&&le<1&&Se.push(le)}else Qe=O.sqrt(Ye=he*he-4*Pe*fe),!(Ye<0)&&(0<(pe=(-he+Qe)/(2*fe))&&pe<1&&Se.push(pe),0<(Le=(-he-Qe)/(2*fe))&&Le<1&&Se.push(Le));for(var ht,gt=Se.length,Ot=gt;gt--;)xe[0][gt]=(ht=1-(le=Se[gt]))*ht*ht*Ee+3*ht*ht*le*Ce+3*ht*le*le*me+le*le*le*Fe,xe[1][gt]=ht*ht*ht*ue+3*ht*ht*le*ke+3*ht*le*le*ge+le*le*le*ee;return xe[0][Ot]=Ee,xe[1][Ot]=ue,xe[0][Ot+1]=Fe,xe[1][Ot+1]=ee,xe[0].length=xe[1].length=Ot+2,{x0:A.apply(0,xe[0]),y0:A.apply(0,xe[1]),x1:ce.apply(0,xe[0]),y1:ce.apply(0,xe[1])}}function Ne(Ee){var ue=S(Ee);if(ue.curve)return F(ue.curve);for(var Ce=function lt(Ee){var ue=S(Ee);if(ue.abs)return F(ue.abs);if((!M(Ee)||!M(Ee&&Ee[0]))&&(Ee=function y(Ee){if(!Ee)return null;var ue=S(Ee);if(ue.arr)return _(ue.arr);var Ce={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ke=[];return M(Ee)&&M(Ee[0])&&(ke=_(Ee)),ke.length||String(Ee).replace(I,function(me,ge,Fe){var ee=[],Se=ge.toLowerCase();for(Fe.replace(x,function(xe,fe){fe&&ee.push(+fe)}),"m"==Se&&ee.length>2&&(ke.push([ge].concat(ee.splice(0,2))),Se="l",ge="m"==ge?"l":"L");ee.length>=Ce[Se]&&(ke.push([ge].concat(ee.splice(0,Ce[Se]))),Ce[Se]););}),ke.toString=S.toString,ue.arr=_(ke),ke}(Ee)),!Ee||!Ee.length)return[["M",0,0]];var Se,Ce=[],ke=0,me=0,ge=0,Fe=0,ee=0;"M"==Ee[0][0]&&(ge=ke=+Ee[0][1],Fe=me=+Ee[0][2],ee++,Ce[0]=["M",ke,me]);for(var xe,fe,he=ee,Pe=Ee.length;he<Pe;he++){if(Ce.push(xe=[]),(Se=(fe=Ee[he])[0])!=Se.toUpperCase())switch(xe[0]=Se.toUpperCase(),xe[0]){case"A":xe[1]=fe[1],xe[2]=fe[2],xe[3]=fe[3],xe[4]=fe[4],xe[5]=fe[5],xe[6]=+fe[6]+ke,xe[7]=+fe[7]+me;break;case"V":xe[1]=+fe[1]+me;break;case"H":xe[1]=+fe[1]+ke;break;case"M":ge=+fe[1]+ke,Fe=+fe[2]+me;default:for(var le=1,pe=fe.length;le<pe;le++)xe[le]=+fe[le]+(le%2?ke:me)}else for(var Le=0,Ye=fe.length;Le<Ye;Le++)xe[Le]=fe[Le];switch(Se=Se.toUpperCase(),xe[0]){case"Z":ke=+ge,me=+Fe;break;case"H":ke=xe[1];break;case"V":me=xe[1];break;case"M":ge=xe[xe.length-2],Fe=xe[xe.length-1];default:ke=xe[xe.length-2],me=xe[xe.length-1]}}return Ce.toString=D,ue.abs=F(Ce),Ce}(Ee),ke={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},me=function(le,pe,Le){var Ye,Qe;if(!le)return["C",pe.x,pe.y,pe.x,pe.y,pe.x,pe.y];switch(!(le[0]in{T:1,Q:1})&&(pe.qx=pe.qy=null),le[0]){case"M":pe.X=le[1],pe.Y=le[2];break;case"A":le=["C"].concat(It.apply(0,[pe.x,pe.y].concat(le.slice(1))));break;case"S":"C"==Le||"S"==Le?(Ye=2*pe.x-pe.bx,Qe=2*pe.y-pe.by):(Ye=pe.x,Qe=pe.y),le=["C",Ye,Qe].concat(le.slice(1));break;case"T":"Q"==Le||"T"==Le?(pe.qx=2*pe.x-pe.qx,pe.qy=2*pe.y-pe.qy):(pe.qx=pe.x,pe.qy=pe.y),le=["C"].concat(Mt(pe.x,pe.y,pe.qx,pe.qy,le[1],le[2]));break;case"Q":pe.qx=le[1],pe.qy=le[2],le=["C"].concat(Mt(pe.x,pe.y,le[1],le[2],le[3],le[4]));break;case"L":le=["C"].concat(Ze(pe.x,pe.y,le[1],le[2]));break;case"H":le=["C"].concat(Ze(pe.x,pe.y,le[1],pe.y));break;case"V":le=["C"].concat(Ze(pe.x,pe.y,pe.x,le[1]));break;case"Z":le=["C"].concat(Ze(pe.x,pe.y,pe.X,pe.Y))}return le},ge=function(le,pe){if(le[pe].length>7){le[pe].shift();for(var Le=le[pe];Le.length;)Fe[pe]="A",le.splice(pe++,0,["C"].concat(Le.splice(0,6)));le.splice(pe,1),fe=Ce.length}},Fe=[],ee="",Se="",xe=0,fe=Ce.length;xe<fe;xe++){Ce[xe]&&(ee=Ce[xe][0]),"C"!=ee&&(Fe[xe]=ee,xe&&(Se=Fe[xe-1])),Ce[xe]=me(Ce[xe],ke,Se),"A"!=Fe[xe]&&"C"==ee&&(Fe[xe]="C"),ge(Ce,xe);var he=Ce[xe],Pe=he.length;ke.x=he[Pe-2],ke.y=he[Pe-1],ke.bx=E(he[Pe-4])||ke.x,ke.by=E(he[Pe-3])||ke.y}return ue.curve=F(Ce),Ce}at.exports=function Oe(Ee,ue,Ce){Ee=Ne(Ee),ue=Ne(ue);for(var ke,me,ge,Fe,ee,Se,xe,fe,he,Pe,le=Ce?0:[],pe=0,Le=Ee.length;pe<Le;pe++){var Ye=Ee[pe];if("M"==Ye[0])ke=ee=Ye[1],me=Se=Ye[2];else{"C"==Ye[0]?(he=[ke,me].concat(Ye.slice(1)),ke=he[6],me=he[7]):(he=[ke,me,ke,me,ee,Se,ee,Se],ke=ee,me=Se);for(var Qe=0,tt=ue.length;Qe<tt;Qe++){var gt=ue[Qe];if("M"==gt[0])ge=xe=gt[1],Fe=fe=gt[2];else{"C"==gt[0]?(Pe=[ge,Fe].concat(gt.slice(1)),ge=Pe[6],Fe=Pe[7]):(Pe=[ge,Fe,ge,Fe,xe,fe,xe,fe],ge=xe,Fe=fe);var Ot=Ie(he,Pe,Ce);if(Ce)le+=Ot;else{for(var ht=0,ct=Ot.length;ht<ct;ht++)Ot[ht].segment1=pe,Ot[ht].segment2=Qe,Ot[ht].bez1=he,Ot[ht].bez2=Pe;le=le.concat(Ot)}}}}}return le}},1452:at=>{at.exports=function(Ke){"use strict";var O=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function A(b,D){var F=b[0],R=b[1],B=b[2],j=b[3];R=((R+=((B=((B+=((j=((j+=((F=((F+=(R&B|~R&j)+D[0]-680876936|0)<<7|F>>>25)+R|0)&R|~F&B)+D[1]-389564586|0)<<12|j>>>20)+F|0)&F|~j&R)+D[2]+606105819|0)<<17|B>>>15)+j|0)&j|~B&F)+D[3]-1044525330|0)<<22|R>>>10)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R&B|~R&j)+D[4]-176418897|0)<<7|F>>>25)+R|0)&R|~F&B)+D[5]+1200080426|0)<<12|j>>>20)+F|0)&F|~j&R)+D[6]-1473231341|0)<<17|B>>>15)+j|0)&j|~B&F)+D[7]-45705983|0)<<22|R>>>10)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R&B|~R&j)+D[8]+1770035416|0)<<7|F>>>25)+R|0)&R|~F&B)+D[9]-1958414417|0)<<12|j>>>20)+F|0)&F|~j&R)+D[10]-42063|0)<<17|B>>>15)+j|0)&j|~B&F)+D[11]-1990404162|0)<<22|R>>>10)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R&B|~R&j)+D[12]+1804603682|0)<<7|F>>>25)+R|0)&R|~F&B)+D[13]-40341101|0)<<12|j>>>20)+F|0)&F|~j&R)+D[14]-1502002290|0)<<17|B>>>15)+j|0)&j|~B&F)+D[15]+1236535329|0)<<22|R>>>10)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R&j|B&~j)+D[1]-165796510|0)<<5|F>>>27)+R|0)&B|R&~B)+D[6]-1069501632|0)<<9|j>>>23)+F|0)&R|F&~R)+D[11]+643717713|0)<<14|B>>>18)+j|0)&F|j&~F)+D[0]-373897302|0)<<20|R>>>12)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R&j|B&~j)+D[5]-701558691|0)<<5|F>>>27)+R|0)&B|R&~B)+D[10]+38016083|0)<<9|j>>>23)+F|0)&R|F&~R)+D[15]-660478335|0)<<14|B>>>18)+j|0)&F|j&~F)+D[4]-405537848|0)<<20|R>>>12)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R&j|B&~j)+D[9]+568446438|0)<<5|F>>>27)+R|0)&B|R&~B)+D[14]-1019803690|0)<<9|j>>>23)+F|0)&R|F&~R)+D[3]-187363961|0)<<14|B>>>18)+j|0)&F|j&~F)+D[8]+1163531501|0)<<20|R>>>12)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R&j|B&~j)+D[13]-1444681467|0)<<5|F>>>27)+R|0)&B|R&~B)+D[2]-51403784|0)<<9|j>>>23)+F|0)&R|F&~R)+D[7]+1735328473|0)<<14|B>>>18)+j|0)&F|j&~F)+D[12]-1926607734|0)<<20|R>>>12)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R^B^j)+D[5]-378558|0)<<4|F>>>28)+R|0)^R^B)+D[8]-2022574463|0)<<11|j>>>21)+F|0)^F^R)+D[11]+1839030562|0)<<16|B>>>16)+j|0)^j^F)+D[14]-35309556|0)<<23|R>>>9)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R^B^j)+D[1]-1530992060|0)<<4|F>>>28)+R|0)^R^B)+D[4]+1272893353|0)<<11|j>>>21)+F|0)^F^R)+D[7]-155497632|0)<<16|B>>>16)+j|0)^j^F)+D[10]-1094730640|0)<<23|R>>>9)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R^B^j)+D[13]+681279174|0)<<4|F>>>28)+R|0)^R^B)+D[0]-358537222|0)<<11|j>>>21)+F|0)^F^R)+D[3]-722521979|0)<<16|B>>>16)+j|0)^j^F)+D[6]+76029189|0)<<23|R>>>9)+B|0,R=((R+=((B=((B+=((j=((j+=((F=((F+=(R^B^j)+D[9]-640364487|0)<<4|F>>>28)+R|0)^R^B)+D[12]-421815835|0)<<11|j>>>21)+F|0)^F^R)+D[15]+530742520|0)<<16|B>>>16)+j|0)^j^F)+D[2]-995338651|0)<<23|R>>>9)+B|0,R=((R+=((j=((j+=(R^((F=((F+=(B^(R|~j))+D[0]-198630844|0)<<6|F>>>26)+R|0)|~B))+D[7]+1126891415|0)<<10|j>>>22)+F|0)^((B=((B+=(F^(j|~R))+D[14]-1416354905|0)<<15|B>>>17)+j|0)|~F))+D[5]-57434055|0)<<21|R>>>11)+B|0,R=((R+=((j=((j+=(R^((F=((F+=(B^(R|~j))+D[12]+1700485571|0)<<6|F>>>26)+R|0)|~B))+D[3]-1894986606|0)<<10|j>>>22)+F|0)^((B=((B+=(F^(j|~R))+D[10]-1051523|0)<<15|B>>>17)+j|0)|~F))+D[1]-2054922799|0)<<21|R>>>11)+B|0,R=((R+=((j=((j+=(R^((F=((F+=(B^(R|~j))+D[8]+1873313359|0)<<6|F>>>26)+R|0)|~B))+D[15]-30611744|0)<<10|j>>>22)+F|0)^((B=((B+=(F^(j|~R))+D[6]-1560198380|0)<<15|B>>>17)+j|0)|~F))+D[13]+1309151649|0)<<21|R>>>11)+B|0,R=((R+=((j=((j+=(R^((F=((F+=(B^(R|~j))+D[4]-145523070|0)<<6|F>>>26)+R|0)|~B))+D[11]-1120210379|0)<<10|j>>>22)+F|0)^((B=((B+=(F^(j|~R))+D[2]+718787259|0)<<15|B>>>17)+j|0)|~F))+D[9]-343485551|0)<<21|R>>>11)+B|0,b[0]=F+b[0]|0,b[1]=R+b[1]|0,b[2]=B+b[2]|0,b[3]=j+b[3]|0}function ce(b){var F,D=[];for(F=0;F<64;F+=4)D[F>>2]=b.charCodeAt(F)+(b.charCodeAt(F+1)<<8)+(b.charCodeAt(F+2)<<16)+(b.charCodeAt(F+3)<<24);return D}function Te(b){var F,D=[];for(F=0;F<64;F+=4)D[F>>2]=b[F]+(b[F+1]<<8)+(b[F+2]<<16)+(b[F+3]<<24);return D}function oe(b){var R,B,j,X,ne,se,D=b.length,F=[1732584193,-271733879,-1732584194,271733878];for(R=64;R<=D;R+=64)A(F,ce(b.substring(R-64,R)));for(B=(b=b.substring(R-64)).length,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=0;R<B;R+=1)j[R>>2]|=b.charCodeAt(R)<<(R%4<<3);if(j[R>>2]|=128<<(R%4<<3),R>55)for(A(F,j),R=0;R<16;R+=1)j[R]=0;return X=(X=8*D).toString(16).match(/(.*?)(.{0,8})$/),ne=parseInt(X[2],16),se=parseInt(X[1],16)||0,j[14]=ne,j[15]=se,A(F,j),F}function x(b){var F,D="";for(F=0;F<4;F+=1)D+=O[b>>8*F+4&15]+O[b>>8*F&15];return D}function M(b){var D;for(D=0;D<b.length;D+=1)b[D]=x(b[D]);return b.join("")}function C(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function y(b){var R,D=[],F=b.length;for(R=0;R<F-1;R+=2)D.push(parseInt(b.substr(R,2),16));return String.fromCharCode.apply(String,D)}function S(){this.reset()}return M(oe("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function b(D,F){return(D=0|D||0)<0?Math.max(D+F,0):Math.min(D,F)}ArrayBuffer.prototype.slice=function(D,F){var X,ne,se,Ae,R=this.byteLength,B=b(D,R),j=R;return undefined!==F&&(j=b(F,R)),B>j?new ArrayBuffer(0):(X=j-B,ne=new ArrayBuffer(X),se=new Uint8Array(ne),Ae=new Uint8Array(this,B,X),se.set(Ae),ne)}}(),S.prototype.append=function(b){return this.appendBinary(C(b)),this},S.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var F,D=this._buff.length;for(F=64;F<=D;F+=64)A(this._hash,ce(this._buff.substring(F-64,F)));return this._buff=this._buff.substring(F-64),this},S.prototype.end=function(b){var R,j,D=this._buff,F=D.length,B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(R=0;R<F;R+=1)B[R>>2]|=D.charCodeAt(R)<<(R%4<<3);return this._finish(B,F),j=M(this._hash),b&&(j=y(j)),this.reset(),j},S.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},S.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},S.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},S.prototype._finish=function(b,D){var R,B,j,F=D;if(b[F>>2]|=128<<(F%4<<3),F>55)for(A(this._hash,b),F=0;F<16;F+=1)b[F]=0;R=(R=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),B=parseInt(R[2],16),j=parseInt(R[1],16)||0,b[14]=B,b[15]=j,A(this._hash,b)},S.hash=function(b,D){return S.hashBinary(C(b),D)},S.hashBinary=function(b,D){var R=M(oe(b));return D?y(R):R},(S.ArrayBuffer=function(){this.reset()}).prototype.append=function(b){var R,D=function f(b,D,F){var R=new Uint8Array(b.byteLength+D.byteLength);return R.set(new Uint8Array(b)),R.set(new Uint8Array(D),b.byteLength),F?R:R.buffer}(this._buff.buffer,b,!0),F=D.length;for(this._length+=b.byteLength,R=64;R<=F;R+=64)A(this._hash,Te(D.subarray(R-64,R)));return this._buff=R-64<F?new Uint8Array(D.buffer.slice(R-64)):new Uint8Array(0),this},S.ArrayBuffer.prototype.end=function(b){var B,j,D=this._buff,F=D.length,R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(B=0;B<F;B+=1)R[B>>2]|=D[B]<<(B%4<<3);return this._finish(R,F),j=M(this._hash),b&&(j=y(j)),this.reset(),j},S.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.ArrayBuffer.prototype.getState=function(){var b=S.prototype.getState.call(this);return b.buff=function m(b){return String.fromCharCode.apply(null,new Uint8Array(b))}(b.buff),b},S.ArrayBuffer.prototype.setState=function(b){return b.buff=function _(b,D){var j,F=b.length,R=new ArrayBuffer(F),B=new Uint8Array(R);for(j=0;j<F;j+=1)B[j]=b.charCodeAt(j);return D?B:R}(b.buff,!0),S.prototype.setState.call(this,b)},S.ArrayBuffer.prototype.destroy=S.prototype.destroy,S.ArrayBuffer.prototype._finish=S.prototype._finish,S.ArrayBuffer.hash=function(b,D){var R=M(function I(b){var R,B,j,X,ne,se,D=b.length,F=[1732584193,-271733879,-1732584194,271733878];for(R=64;R<=D;R+=64)A(F,Te(b.subarray(R-64,R)));for(B=(b=R-64<D?b.subarray(R-64):new Uint8Array(0)).length,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=0;R<B;R+=1)j[R>>2]|=b[R]<<(R%4<<3);if(j[R>>2]|=128<<(R%4<<3),R>55)for(A(F,j),R=0;R<16;R+=1)j[R]=0;return X=(X=8*D).toString(16).match(/(.*?)(.{0,8})$/),ne=parseInt(X[2],16),se=parseInt(X[1],16)||0,j[14]=ne,j[15]=se,A(F,j),F}(new Uint8Array(b)));return D?y(R):R},S}()},6482:function(at,Ke){!function(E){"use strict";function O(){for(var We=arguments.length,Re=Array(We),et=0;et<We;et++)Re[et]=arguments[et];if(Re.length>1){Re[0]=Re[0].slice(0,-1);for(var mt=Re.length-1,pt=1;pt<mt;++pt)Re[pt]=Re[pt].slice(1,-1);return Re[mt]=Re[mt].slice(1),Re.join("")}return Re[0]}function be(We){return"(?:"+We+")"}function A(We){return void 0===We?"undefined":null===We?"null":Object.prototype.toString.call(We).split(" ").pop().split("]").shift().toLowerCase()}function ce(We){return We.toUpperCase()}function I(We){var Re="[A-Za-z]",mt="[0-9]",an=O(mt,"[A-Fa-f]"),Hn=be(be("%[EFef]"+an+"%"+an+an+"%"+an+an)+"|"+be("%[89A-Fa-f]"+an+"%"+an+an)+"|"+be("%"+an+an)),ai="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",zi=O("[\\:\\/\\?\\#\\[\\]\\@]",ai),Ti=We?"[\\uE000-\\uF8FF]":"[]",ti=O(Re,mt,"[\\-\\.\\_\\~]",We?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Ri=be(Re+O(Re,mt,"[\\+\\-\\.]")+"*"),Si=be(be(Hn+"|"+O(ti,ai,"[\\:]"))+"*"),Un=(be(be("25[0-5]")+"|"+be("2[0-4]"+mt)+"|"+be("1"+mt+mt)+"|"+be("[1-9]"+mt)+"|"+mt),be(be("25[0-5]")+"|"+be("2[0-4]"+mt)+"|"+be("1"+mt+mt)+"|"+be("0?[1-9]"+mt)+"|0?0?"+mt)),Mr=be(Un+"\\."+Un+"\\."+Un+"\\."+Un),Xn=be(an+"{1,4}"),Uo=be(be(Xn+"\\:"+Xn)+"|"+Mr),it=be(be(Xn+"\\:")+"{6}"+Uo),zo=be("\\:\\:"+be(Xn+"\\:")+"{5}"+Uo),mn=be(be(Xn)+"?\\:\\:"+be(Xn+"\\:")+"{4}"+Uo),co=be(be(be(Xn+"\\:")+"{0,1}"+Xn)+"?\\:\\:"+be(Xn+"\\:")+"{3}"+Uo),Sr=be(be(be(Xn+"\\:")+"{0,2}"+Xn)+"?\\:\\:"+be(Xn+"\\:")+"{2}"+Uo),lc=be(be(be(Xn+"\\:")+"{0,3}"+Xn)+"?\\:\\:"+Xn+"\\:"+Uo),cc=be(be(be(Xn+"\\:")+"{0,4}"+Xn)+"?\\:\\:"+Uo),Ps=be(be(be(Xn+"\\:")+"{0,5}"+Xn)+"?\\:\\:"+Xn),Mo=be(be(be(Xn+"\\:")+"{0,6}"+Xn)+"?\\:\\:"),Er=be([it,zo,mn,co,Sr,lc,cc,Ps,Mo].join("|")),Us=be(be(ti+"|"+Hn)+"+"),vn=(be(Er+"\\%25"+Us),be(Er+be("\\%25|\\%(?!"+an+"{2})")+Us)),dc=be("[vV]"+an+"+\\."+O(ti,ai,"[\\:]")+"+"),nu=be("\\["+be(vn+"|"+Er+"|"+dc)+"\\]"),pr=be(be(Hn+"|"+O(ti,ai))+"*"),bl=be(nu+"|"+Mr+"(?!"+pr+")|"+pr),pc=be(mt+"*"),us=be(be(Si+"@")+"?"+bl+be("\\:"+pc)+"?"),Qo=be(Hn+"|"+O(ti,ai,"[\\:\\@]")),X_=be(Qo+"*"),Of=be(Qo+"+"),de=be(be(Hn+"|"+O(ti,ai,"[\\@]"))+"+"),Me=be(be("\\/"+X_)+"*"),ze=be("\\/"+be(Of+Me)+"?"),dt=be(de+Me),kt=be(Of+Me),Nt="(?!"+Qo+")",Ji=(be(Me+"|"+ze+"|"+dt+"|"+kt+"|"+Nt),be(be(Qo+"|"+O("[\\/\\?]",Ti))+"*")),Oi=be(be(Qo+"|[\\/\\?]")+"*"),Bn=be(be("\\/\\/"+us+Me)+"|"+ze+"|"+kt+"|"+Nt),Nr=be(Ri+"\\:"+Bn+be("\\?"+Ji)+"?"+be("\\#"+Oi)+"?"),Bf=be(be("\\/\\/"+us+Me)+"|"+ze+"|"+dt+"|"+Nt),Lf=be(Bf+be("\\?"+Ji)+"?"+be("\\#"+Oi)+"?");return be(Nr+"|"+Lf),be(Ri+"\\:"+Bn+be("\\?"+Ji)+"?"),be(be("\\/\\/("+be("("+Si+")@")+"?("+bl+")"+be("\\:("+pc+")")+"?)")+"?("+Me+"|"+ze+"|"+kt+"|"+Nt+")"),be("\\?("+Ji+")"),be("\\#("+Oi+")"),be(be("\\/\\/("+be("("+Si+")@")+"?("+bl+")"+be("\\:("+pc+")")+"?)")+"?("+Me+"|"+ze+"|"+dt+"|"+Nt+")"),be("\\?("+Ji+")"),be("\\#("+Oi+")"),be(be("\\/\\/("+be("("+Si+")@")+"?("+bl+")"+be("\\:("+pc+")")+"?)")+"?("+Me+"|"+ze+"|"+kt+"|"+Nt+")"),be("\\?("+Ji+")"),be("\\#("+Oi+")"),be("("+Si+")@"),be("\\:("+pc+")"),{NOT_SCHEME:new RegExp(O("[^]",Re,mt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(O("[^\\%\\:]",ti,ai),"g"),NOT_HOST:new RegExp(O("[^\\%\\[\\]\\:]",ti,ai),"g"),NOT_PATH:new RegExp(O("[^\\%\\/\\:\\@]",ti,ai),"g"),NOT_PATH_NOSCHEME:new RegExp(O("[^\\%\\/\\@]",ti,ai),"g"),NOT_QUERY:new RegExp(O("[^\\%]",ti,ai,"[\\:\\@\\/\\?]",Ti),"g"),NOT_FRAGMENT:new RegExp(O("[^\\%]",ti,ai,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(O("[^]",ti,ai),"g"),UNRESERVED:new RegExp(ti,"g"),OTHER_CHARS:new RegExp(O("[^\\%]",ti,zi),"g"),PCT_ENCODED:new RegExp(Hn,"g"),IPV4ADDRESS:new RegExp("^("+Mr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Er+")"+be(be("\\%25|\\%(?!"+an+"{2})")+"("+Us+")")+"?\\]?$")}}var x=I(!1),M=I(!0),C=function(Re,et){if(Array.isArray(Re))return Re;if(Symbol.iterator in Object(Re))return function We(Re,et){var mt=[],pt=!0,an=!1,Ln=void 0;try{for(var Hn,pi=Re[Symbol.iterator]();!(pt=(Hn=pi.next()).done)&&(mt.push(Hn.value),!et||mt.length!==et);pt=!0);}catch(lo){an=!0,Ln=lo}finally{try{!pt&&pi.return&&pi.return()}finally{if(an)throw Ln}}return mt}(Re,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=2147483647,f=36,j=/^xn--/,X=/[^\0-\x7E]/,ne=/[\x2E\u3002\uFF0E\uFF61]/g,se={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ge=Math.floor,Ie=String.fromCharCode;function Oe(We){throw new RangeError(se[We])}function Je(We,Re){var et=We.split("@"),mt="";return et.length>1&&(mt=et[0]+"@",We=et[1]),mt+function lt(We,Re){for(var et=[],mt=We.length;mt--;)et[mt]=Re(We[mt]);return et}((We=We.replace(ne,".")).split("."),Re).join(".")}function Ze(We){for(var Re=[],et=0,mt=We.length;et<mt;){var pt=We.charCodeAt(et++);if(pt>=55296&&pt<=56319&&et<mt){var an=We.charCodeAt(et++);56320==(64512&an)?Re.push(((1023&pt)<<10)+(1023&an)+65536):(Re.push(pt),et--)}else Re.push(pt)}return Re}var It=function(Re){return Re-48<10?Re-22:Re-65<26?Re-65:Re-97<26?Re-97:f},xt=function(Re,et){return Re+22+75*(Re<26)-((0!=et)<<5)},Ne=function(Re,et,mt){var pt=0;for(Re=mt?Ge(Re/700):Re>>1,Re+=Ge(Re/et);Re>455;pt+=f)Re=Ge(Re/35);return Ge(pt+36*Re/(Re+38))},Ee=function(Re){var et=[],mt=Re.length,pt=0,an=128,Ln=72,pi=Re.lastIndexOf("-");pi<0&&(pi=0);for(var Hn=0;Hn<pi;++Hn)Re.charCodeAt(Hn)>=128&&Oe("not-basic"),et.push(Re.charCodeAt(Hn));for(var lo=pi>0?pi+1:0;lo<mt;){for(var ai=pt,zi=1,ji=f;;ji+=f){lo>=mt&&Oe("invalid-input");var Ti=It(Re.charCodeAt(lo++));(Ti>=f||Ti>Ge((m-pt)/zi))&&Oe("overflow"),pt+=Ti*zi;var ti=ji<=Ln?1:ji>=Ln+26?26:ji-Ln;if(Ti<ti)break;var Ri=f-ti;zi>Ge(m/Ri)&&Oe("overflow"),zi*=Ri}var Si=et.length+1;Ln=Ne(pt-ai,Si,0==ai),Ge(pt/Si)>m-an&&Oe("overflow"),an+=Ge(pt/Si),pt%=Si,et.splice(pt++,0,an)}return String.fromCodePoint.apply(String,et)},ue=function(Re){var et=[],mt=(Re=Ze(Re)).length,pt=128,an=0,Ln=72,pi=!0,Hn=!1,lo=void 0;try{for(var zi,ai=Re[Symbol.iterator]();!(pi=(zi=ai.next()).done);pi=!0){var ji=zi.value;ji<128&&et.push(Ie(ji))}}catch(vn){Hn=!0,lo=vn}finally{try{!pi&&ai.return&&ai.return()}finally{if(Hn)throw lo}}var Ti=et.length,ti=Ti;for(Ti&&et.push("-");ti<mt;){var Ri=m,Si=!0,Co=!1,Un=void 0;try{for(var Xn,Mr=Re[Symbol.iterator]();!(Si=(Xn=Mr.next()).done);Si=!0){var Uo=Xn.value;Uo>=pt&&Uo<Ri&&(Ri=Uo)}}catch(vn){Co=!0,Un=vn}finally{try{!Si&&Mr.return&&Mr.return()}finally{if(Co)throw Un}}var it=ti+1;Ri-pt>Ge((m-an)/it)&&Oe("overflow"),an+=(Ri-pt)*it,pt=Ri;var zo=!0,mn=!1,co=void 0;try{for(var lc,Sr=Re[Symbol.iterator]();!(zo=(lc=Sr.next()).done);zo=!0){var cc=lc.value;if(cc<pt&&++an>m&&Oe("overflow"),cc==pt){for(var Ps=an,Mo=f;;Mo+=f){var Er=Mo<=Ln?1:Mo>=Ln+26?26:Mo-Ln;if(Ps<Er)break;var Us=Ps-Er,uc=f-Er;et.push(Ie(xt(Er+Us%uc,0))),Ps=Ge(Us/uc)}et.push(Ie(xt(Ps,0))),Ln=Ne(an,it,ti==Ti),an=0,++ti}}}catch(vn){mn=!0,co=vn}finally{try{!zo&&Sr.return&&Sr.return()}finally{if(mn)throw co}}++an,++pt}return et.join("")},me_toASCII=function(Re){return Je(Re,function(et){return X.test(et)?"xn--"+ue(et):et})},me_toUnicode=function(Re){return Je(Re,function(et){return j.test(et)?Ee(et.slice(4).toLowerCase()):et})},ge={};function Fe(We){var Re=We.charCodeAt(0);return Re<16?"%0"+Re.toString(16).toUpperCase():Re<128?"%"+Re.toString(16).toUpperCase():Re<2048?"%"+(Re>>6|192).toString(16).toUpperCase()+"%"+(63&Re|128).toString(16).toUpperCase():"%"+(Re>>12|224).toString(16).toUpperCase()+"%"+(Re>>6&63|128).toString(16).toUpperCase()+"%"+(63&Re|128).toString(16).toUpperCase()}function ee(We){for(var Re="",et=0,mt=We.length;et<mt;){var pt=parseInt(We.substr(et+1,2),16);if(pt<128)Re+=String.fromCharCode(pt),et+=3;else if(pt>=194&&pt<224){if(mt-et>=6){var an=parseInt(We.substr(et+4,2),16);Re+=String.fromCharCode((31&pt)<<6|63&an)}else Re+=We.substr(et,6);et+=6}else if(pt>=224){if(mt-et>=9){var Ln=parseInt(We.substr(et+4,2),16),pi=parseInt(We.substr(et+7,2),16);Re+=String.fromCharCode((15&pt)<<12|(63&Ln)<<6|63&pi)}else Re+=We.substr(et,9);et+=9}else Re+=We.substr(et,3),et+=3}return Re}function Se(We,Re){function et(mt){var pt=ee(mt);return pt.match(Re.UNRESERVED)?pt:mt}return We.scheme&&(We.scheme=String(We.scheme).replace(Re.PCT_ENCODED,et).toLowerCase().replace(Re.NOT_SCHEME,"")),void 0!==We.userinfo&&(We.userinfo=String(We.userinfo).replace(Re.PCT_ENCODED,et).replace(Re.NOT_USERINFO,Fe).replace(Re.PCT_ENCODED,ce)),void 0!==We.host&&(We.host=String(We.host).replace(Re.PCT_ENCODED,et).toLowerCase().replace(Re.NOT_HOST,Fe).replace(Re.PCT_ENCODED,ce)),void 0!==We.path&&(We.path=String(We.path).replace(Re.PCT_ENCODED,et).replace(We.scheme?Re.NOT_PATH:Re.NOT_PATH_NOSCHEME,Fe).replace(Re.PCT_ENCODED,ce)),void 0!==We.query&&(We.query=String(We.query).replace(Re.PCT_ENCODED,et).replace(Re.NOT_QUERY,Fe).replace(Re.PCT_ENCODED,ce)),void 0!==We.fragment&&(We.fragment=String(We.fragment).replace(Re.PCT_ENCODED,et).replace(Re.NOT_FRAGMENT,Fe).replace(Re.PCT_ENCODED,ce)),We}function xe(We){return We.replace(/^0*(.*)/,"$1")||"0"}function fe(We,Re){var et=We.match(Re.IPV4ADDRESS)||[],pt=C(et,2)[1];return pt?pt.split(".").map(xe).join("."):We}function he(We,Re){var et=We.match(Re.IPV6ADDRESS)||[],mt=C(et,3),pt=mt[1],an=mt[2];if(pt){for(var Ln=pt.toLowerCase().split("::").reverse(),pi=C(Ln,2),Hn=pi[0],lo=pi[1],ai=lo?lo.split(":").map(xe):[],zi=Hn.split(":").map(xe),ji=Re.IPV4ADDRESS.test(zi[zi.length-1]),Ti=ji?7:8,ti=zi.length-Ti,Ri=Array(Ti),Si=0;Si<Ti;++Si)Ri[Si]=ai[Si]||zi[ti+Si]||"";ji&&(Ri[Ti-1]=fe(Ri[Ti-1],Re));var Un=Ri.reduce(function(it,zo,mn){if(!zo||"0"===zo){var co=it[it.length-1];co&&co.index+co.length===mn?co.length++:it.push({index:mn,length:1})}return it},[]).sort(function(it,zo){return zo.length-it.length})[0],Mr=void 0;if(Un&&Un.length>1){var Xn=Ri.slice(0,Un.index),Uo=Ri.slice(Un.index+Un.length);Mr=Xn.join(":")+"::"+Uo.join(":")}else Mr=Ri.join(":");return an&&(Mr+="%"+an),Mr}return We}var Pe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,le=void 0==="".match(/(){0}/)[1];function pe(We){var Re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et={},mt=!1!==Re.iri?M:x;"suffix"===Re.reference&&(We=(Re.scheme?Re.scheme+":":"")+"//"+We);var pt=We.match(Pe);if(pt){le?(et.scheme=pt[1],et.userinfo=pt[3],et.host=pt[4],et.port=parseInt(pt[5],10),et.path=pt[6]||"",et.query=pt[7],et.fragment=pt[8],isNaN(et.port)&&(et.port=pt[5])):(et.scheme=pt[1]||void 0,et.userinfo=-1!==We.indexOf("@")?pt[3]:void 0,et.host=-1!==We.indexOf("//")?pt[4]:void 0,et.port=parseInt(pt[5],10),et.path=pt[6]||"",et.query=-1!==We.indexOf("?")?pt[7]:void 0,et.fragment=-1!==We.indexOf("#")?pt[8]:void 0,isNaN(et.port)&&(et.port=We.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?pt[4]:void 0)),et.host&&(et.host=he(fe(et.host,mt),mt)),et.reference=void 0!==et.scheme||void 0!==et.userinfo||void 0!==et.host||void 0!==et.port||et.path||void 0!==et.query?void 0===et.scheme?"relative":void 0===et.fragment?"absolute":"uri":"same-document",Re.reference&&"suffix"!==Re.reference&&Re.reference!==et.reference&&(et.error=et.error||"URI is not a "+Re.reference+" reference.");var an=ge[(Re.scheme||et.scheme||"").toLowerCase()];if(Re.unicodeSupport||an&&an.unicodeSupport)Se(et,mt);else{if(et.host&&(Re.domainHost||an&&an.domainHost))try{et.host=me_toASCII(et.host.replace(mt.PCT_ENCODED,ee).toLowerCase())}catch(Ln){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+Ln}Se(et,x)}an&&an.parse&&an.parse(et,Re)}else et.error=et.error||"URI can not be parsed.";return et}function Le(We,Re){var et=!1!==Re.iri?M:x,mt=[];return void 0!==We.userinfo&&(mt.push(We.userinfo),mt.push("@")),void 0!==We.host&&mt.push(he(fe(String(We.host),et),et).replace(et.IPV6ADDRESS,function(pt,an,Ln){return"["+an+(Ln?"%25"+Ln:"")+"]"})),("number"==typeof We.port||"string"==typeof We.port)&&(mt.push(":"),mt.push(String(We.port))),mt.length?mt.join(""):void 0}var Ye=/^\.\.?\//,Qe=/^\/\.(\/|$)/,tt=/^\/\.\.(\/|$)/,gt=/^\/?(?:.|\n)*?(?=\/|$)/;function Ot(We){for(var Re=[];We.length;)if(We.match(Ye))We=We.replace(Ye,"");else if(We.match(Qe))We=We.replace(Qe,"/");else if(We.match(tt))We=We.replace(tt,"/"),Re.pop();else if("."===We||".."===We)We="";else{var et=We.match(gt);if(!et)throw new Error("Unexpected dot segment condition");var mt=et[0];We=We.slice(mt.length),Re.push(mt)}return Re.join("")}function ht(We){var Re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et=Re.iri?M:x,mt=[],pt=ge[(Re.scheme||We.scheme||"").toLowerCase()];if(pt&&pt.serialize&&pt.serialize(We,Re),We.host&&!et.IPV6ADDRESS.test(We.host)&&(Re.domainHost||pt&&pt.domainHost))try{We.host=Re.iri?me_toUnicode(We.host):me_toASCII(We.host.replace(et.PCT_ENCODED,ee).toLowerCase())}catch(pi){We.error=We.error||"Host's domain name can not be converted to "+(Re.iri?"Unicode":"ASCII")+" via punycode: "+pi}Se(We,et),"suffix"!==Re.reference&&We.scheme&&(mt.push(We.scheme),mt.push(":"));var an=Le(We,Re);if(void 0!==an&&("suffix"!==Re.reference&&mt.push("//"),mt.push(an),We.path&&"/"!==We.path.charAt(0)&&mt.push("/")),void 0!==We.path){var Ln=We.path;!Re.absolutePath&&(!pt||!pt.absolutePath)&&(Ln=Ot(Ln)),void 0===an&&(Ln=Ln.replace(/^\/\//,"/%2F")),mt.push(Ln)}return void 0!==We.query&&(mt.push("?"),mt.push(We.query)),void 0!==We.fragment&&(mt.push("#"),mt.push(We.fragment)),mt.join("")}function ct(We,Re){var et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},pt={};return arguments[3]||(We=pe(ht(We,et),et),Re=pe(ht(Re,et),et)),!(et=et||{}).tolerant&&Re.scheme?(pt.scheme=Re.scheme,pt.userinfo=Re.userinfo,pt.host=Re.host,pt.port=Re.port,pt.path=Ot(Re.path||""),pt.query=Re.query):(void 0!==Re.userinfo||void 0!==Re.host||void 0!==Re.port?(pt.userinfo=Re.userinfo,pt.host=Re.host,pt.port=Re.port,pt.path=Ot(Re.path||""),pt.query=Re.query):(Re.path?("/"===Re.path.charAt(0)?pt.path=Ot(Re.path):(pt.path=void 0===We.userinfo&&void 0===We.host&&void 0===We.port||We.path?We.path?We.path.slice(0,We.path.lastIndexOf("/")+1)+Re.path:Re.path:"/"+Re.path,pt.path=Ot(pt.path)),pt.query=Re.query):(pt.path=We.path,pt.query=void 0!==Re.query?Re.query:We.query),pt.userinfo=We.userinfo,pt.host=We.host,pt.port=We.port),pt.scheme=We.scheme),pt.fragment=Re.fragment,pt}function Pn(We,Re){return We&&We.toString().replace(Re&&Re.iri?M.PCT_ENCODED:x.PCT_ENCODED,ee)}var wi={scheme:"http",domainHost:!0,parse:function(Re,et){return Re.host||(Re.error=Re.error||"HTTP URIs must have a host."),Re},serialize:function(Re,et){var mt="https"===String(Re.scheme).toLowerCase();return(Re.port===(mt?443:80)||""===Re.port)&&(Re.port=void 0),Re.path||(Re.path="/"),Re}},Yn={scheme:"https",domainHost:wi.domainHost,parse:wi.parse,serialize:wi.serialize};function xo(We){return"boolean"==typeof We.secure?We.secure:"wss"===String(We.scheme).toLowerCase()}var Ho={scheme:"ws",domainHost:!0,parse:function(Re,et){var mt=Re;return mt.secure=xo(mt),mt.resourceName=(mt.path||"/")+(mt.query?"?"+mt.query:""),mt.path=void 0,mt.query=void 0,mt},serialize:function(Re,et){if((Re.port===(xo(Re)?443:80)||""===Re.port)&&(Re.port=void 0),"boolean"==typeof Re.secure&&(Re.scheme=Re.secure?"wss":"ws",Re.secure=void 0),Re.resourceName){var mt=Re.resourceName.split("?"),pt=C(mt,2),an=pt[0],Ln=pt[1];Re.path=an&&"/"!==an?an:void 0,Re.query=Ln,Re.resourceName=void 0}return Re.fragment=void 0,Re}},Cr={scheme:"wss",domainHost:Ho.domainHost,parse:Ho.parse,serialize:Ho.serialize},Xr={},Ba="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",dr="[0-9A-Fa-f]",oa=be(be("%[EFef]"+dr+"%"+dr+dr+"%"+dr+dr)+"|"+be("%[89A-Fa-f]"+dr+"%"+dr+dr)+"|"+be("%"+dr+dr)),xi=O("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),gi=new RegExp(Ba,"g"),Jr=new RegExp(oa,"g"),_l=new RegExp(O("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',xi),"g"),Nn=new RegExp(O("[^]",Ba,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Rn=Nn;function vl(We){var Re=ee(We);return Re.match(gi)?Re:We}var bp={scheme:"mailto",parse:function(Re,et){var mt=Re,pt=mt.to=mt.path?mt.path.split(","):[];if(mt.path=void 0,mt.query){for(var an=!1,Ln={},pi=mt.query.split("&"),Hn=0,lo=pi.length;Hn<lo;++Hn){var ai=pi[Hn].split("=");switch(ai[0]){case"to":for(var zi=ai[1].split(","),ji=0,Ti=zi.length;ji<Ti;++ji)pt.push(zi[ji]);break;case"subject":mt.subject=Pn(ai[1],et);break;case"body":mt.body=Pn(ai[1],et);break;default:an=!0,Ln[Pn(ai[0],et)]=Pn(ai[1],et)}}an&&(mt.headers=Ln)}mt.query=void 0;for(var ti=0,Ri=pt.length;ti<Ri;++ti){var Si=pt[ti].split("@");if(Si[0]=Pn(Si[0]),et.unicodeSupport)Si[1]=Pn(Si[1],et).toLowerCase();else try{Si[1]=me_toASCII(Pn(Si[1],et).toLowerCase())}catch(Co){mt.error=mt.error||"Email address's domain name can not be converted to ASCII via punycode: "+Co}pt[ti]=Si.join("@")}return mt},serialize:function(Re,et){var mt=Re,pt=function Te(We){return null!=We?We instanceof Array?We:"number"!=typeof We.length||We.split||We.setInterval||We.call?[We]:Array.prototype.slice.call(We):[]}(Re.to);if(pt){for(var an=0,Ln=pt.length;an<Ln;++an){var pi=String(pt[an]),Hn=pi.lastIndexOf("@"),lo=pi.slice(0,Hn).replace(Jr,vl).replace(Jr,ce).replace(_l,Fe),ai=pi.slice(Hn+1);try{ai=et.iri?me_toUnicode(ai):me_toASCII(Pn(ai,et).toLowerCase())}catch(ti){mt.error=mt.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+ti}pt[an]=lo+"@"+ai}mt.path=pt.join(",")}var zi=Re.headers=Re.headers||{};Re.subject&&(zi.subject=Re.subject),Re.body&&(zi.body=Re.body);var ji=[];for(var Ti in zi)zi[Ti]!==Xr[Ti]&&ji.push(Ti.replace(Jr,vl).replace(Jr,ce).replace(Nn,Fe)+"="+zi[Ti].replace(Jr,vl).replace(Jr,ce).replace(Rn,Fe));return ji.length&&(mt.query=ji.join("&")),mt}},si=/^([^\:]+)\:(.*)/,tu={scheme:"urn",parse:function(Re,et){var mt=Re.path&&Re.path.match(si),pt=Re;if(mt){var an=et.scheme||pt.scheme||"urn",Ln=mt[1].toLowerCase(),pi=mt[2],lo=ge[an+":"+(et.nid||Ln)];pt.nid=Ln,pt.nss=pi,pt.path=void 0,lo&&(pt=lo.parse(pt,et))}else pt.error=pt.error||"URN can not be parsed.";return pt},serialize:function(Re,et){var pt=Re.nid,Ln=ge[(et.scheme||Re.scheme||"urn")+":"+(et.nid||pt)];Ln&&(Re=Ln.serialize(Re,et));var pi=Re;return pi.path=(pt||et.nid)+":"+Re.nss,pi}},In=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,no={scheme:"urn:uuid",parse:function(Re,et){var mt=Re;return mt.uuid=mt.nss,mt.nss=void 0,!et.tolerant&&(!mt.uuid||!mt.uuid.match(In))&&(mt.error=mt.error||"UUID is not valid."),mt},serialize:function(Re,et){var mt=Re;return mt.nss=(Re.uuid||"").toLowerCase(),mt}};ge[wi.scheme]=wi,ge[Yn.scheme]=Yn,ge[Ho.scheme]=Ho,ge[Cr.scheme]=Cr,ge[bp.scheme]=bp,ge[tu.scheme]=tu,ge[no.scheme]=no,E.SCHEMES=ge,E.pctEncChar=Fe,E.pctDecChars=ee,E.parse=pe,E.removeDotSegments=Ot,E.serialize=ht,E.resolveComponents=ct,E.resolve=function Dt(We,Re,et){var mt=function oe(We,Re){var et=We;if(Re)for(var mt in Re)et[mt]=Re[mt];return et}({scheme:"null"},et);return ht(ct(pe(We,mt),pe(Re,mt),mt,!0),mt)},E.normalize=function Yt(We,Re){return"string"==typeof We?We=ht(pe(We,Re),Re):"object"===A(We)&&(We=pe(ht(We,Re),Re)),We},E.equal=function En(We,Re,et){return"string"==typeof We?We=ht(pe(We,et),et):"object"===A(We)&&(We=ht(We,et)),"string"==typeof Re?Re=ht(pe(Re,et),et):"object"===A(Re)&&(Re=ht(Re,et)),We===Re},E.escapeComponent=function Ai(We,Re){return We&&We.toString().replace(Re&&Re.iri?M.ESCAPE:x.ESCAPE,Fe)},E.unescapeComponent=Pn,Object.defineProperty(E,"__esModule",{value:!0})}(Ke)},2899:(at,Ke)=>{"use strict";function E(O,be,A){var ce=A[A.length-1];O===ce.element&&(A.pop(),ce=A[A.length-1]);var Te=ce.element,oe=ce.index;Array.isArray(Te)?Te.push(O):oe===be.length-2?Te[be.pop()]=O:be.push(O)}Ke.stringify=function(be){var A=[];A.push({obj:be});for(var Te,oe,x,M,_,m,f,y,S,ce="";Te=A.pop();)if(oe=Te.obj,ce+=Te.prefix||"",x=Te.val||"")ce+=x;else if("object"!=typeof oe)ce+=void 0===oe?null:JSON.stringify(oe);else if(null===oe)ce+="null";else if(Array.isArray(oe)){for(A.push({val:"]"}),M=oe.length-1;M>=0;M--)A.push({obj:oe[M],prefix:0===M?"":","});A.push({val:"["})}else{for(m in _=[],oe)oe.hasOwnProperty(m)&&_.push(m);for(A.push({val:"}"}),M=_.length-1;M>=0;M--)y=oe[f=_[M]],S=M>0?",":"",S+=JSON.stringify(f)+":",A.push({obj:y,prefix:S});A.push({val:"{"})}return ce},Ke.parse=function(O){for(var Te,oe,I,x,M,C,_,m,f,be=[],A=[],ce=0;;)if("}"!==(Te=O[ce++])&&"]"!==Te&&void 0!==Te)switch(Te){case" ":case"\t":case"\n":case":":case",":break;case"n":ce+=3,E(null,be,A);break;case"t":ce+=3,E(!0,be,A);break;case"f":ce+=4,E(!1,be,A);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(oe="",ce--;;){if(I=O[ce++],!/[\d\.\-e\+]/.test(I)){ce--;break}oe+=I}E(parseFloat(oe),be,A);break;case'"':for(x="",M=void 0,C=0;'"'!==(_=O[ce++])||"\\"===M&&C%2==1;)x+=_,"\\"===(M=_)?C++:C=0;E(JSON.parse('"'+x+'"'),be,A);break;case"[":be.push((m={element:[],index:be.length}).element),A.push(m);break;case"{":be.push((f={element:{},index:be.length}).element),A.push(f);break;default:throw new Error("unexpectedly reached end of input: "+Te)}else{if(1===be.length)return be.pop();E(be.pop(),be,A)}}},4960:()=>{},6759:()=>{},6272:()=>{},5525:()=>{},894:at=>{"use strict";at.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},6680:at=>{"use strict";at.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},at=>{at(at.s=394)}]);